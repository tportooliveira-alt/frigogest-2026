(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f2={exports:{}},gg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function kH(){if(QR)return gg;QR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return gg.Fragment=e,gg.jsx=n,gg.jsxs=n,gg}var ZR;function PH(){return ZR||(ZR=1,f2.exports=kH()),f2.exports}var d=PH(),h2={exports:{}},hn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function OH(){if(e3)return hn;e3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(ie){return ie===null||typeof ie!="object"?null:(ie=g&&ie[g]||ie["@@iterator"],typeof ie=="function"?ie:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function I(ie,L,Y){this.props=ie,this.context=L,this.refs=S,this.updater=Y||E}I.prototype.isReactComponent={},I.prototype.setState=function(ie,L){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,L,"setState")},I.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function P(){}P.prototype=I.prototype;function F(ie,L,Y){this.props=ie,this.context=L,this.refs=S,this.updater=Y||E}var B=F.prototype=new P;B.constructor=F,A(B,I.prototype),B.isPureReactComponent=!0;var j=Array.isArray;function V(){}var O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function z(ie,L,Y){var ee=Y.ref;return{$$typeof:t,type:ie,key:L,ref:ee!==void 0?ee:null,props:Y}}function H(ie,L){return z(ie.type,L,ie.props)}function U(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===t}function R(ie){var L={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(Y){return L[Y]})}var C=/\/+/g;function G(ie,L){return typeof ie=="object"&&ie!==null&&ie.key!=null?R(""+ie.key):L.toString(36)}function le(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(V,V):(ie.status="pending",ie.then(function(L){ie.status==="pending"&&(ie.status="fulfilled",ie.value=L)},function(L){ie.status==="pending"&&(ie.status="rejected",ie.reason=L)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function W(ie,L,Y,ee,X){var Q=typeof ie;(Q==="undefined"||Q==="boolean")&&(ie=null);var ge=!1;if(ie===null)ge=!0;else switch(Q){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(ie.$$typeof){case t:case e:ge=!0;break;case h:return ge=ie._init,W(ge(ie._payload),L,Y,ee,X)}}if(ge)return X=X(ie),ge=ee===""?"."+G(ie,0):ee,j(X)?(Y="",ge!=null&&(Y=ge.replace(C,"$&/")+"/"),W(X,L,Y,"",function(Se){return Se})):X!=null&&(U(X)&&(X=H(X,Y+(X.key==null||ie&&ie.key===X.key?"":(""+X.key).replace(C,"$&/")+"/")+ge)),L.push(X)),1;ge=0;var be=ee===""?".":ee+":";if(j(ie))for(var ae=0;ae<ie.length;ae++)ee=ie[ae],Q=be+G(ee,ae),ge+=W(ee,L,Y,Q,X);else if(ae=y(ie),typeof ae=="function")for(ie=ae.call(ie),ae=0;!(ee=ie.next()).done;)ee=ee.value,Q=be+G(ee,ae++),ge+=W(ee,L,Y,Q,X);else if(Q==="object"){if(typeof ie.then=="function")return W(le(ie),L,Y,ee,X);throw L=String(ie),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ge}function te(ie,L,Y){if(ie==null)return ie;var ee=[],X=0;return W(ie,ee,"","",function(Q){return L.call(Y,Q,X++)}),ee}function re(ie){if(ie._status===-1){var L=ie._result;L=L(),L.then(function(Y){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=Y)},function(Y){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=Y)}),ie._status===-1&&(ie._status=0,ie._result=L)}if(ie._status===1)return ie._result.default;throw ie._result}var ve=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)},we={map:te,forEach:function(ie,L,Y){te(ie,function(){L.apply(this,arguments)},Y)},count:function(ie){var L=0;return te(ie,function(){L++}),L},toArray:function(ie){return te(ie,function(L){return L})||[]},only:function(ie){if(!U(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}};return hn.Activity=m,hn.Children=we,hn.Component=I,hn.Fragment=n,hn.Profiler=i,hn.PureComponent=F,hn.StrictMode=r,hn.Suspense=c,hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,hn.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return O.H.useMemoCache(ie)}},hn.cache=function(ie){return function(){return ie.apply(null,arguments)}},hn.cacheSignal=function(){return null},hn.cloneElement=function(ie,L,Y){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var ee=A({},ie.props),X=ie.key;if(L!=null)for(Q in L.key!==void 0&&(X=""+L.key),L)!D.call(L,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&L.ref===void 0||(ee[Q]=L[Q]);var Q=arguments.length-2;if(Q===1)ee.children=Y;else if(1<Q){for(var ge=Array(Q),be=0;be<Q;be++)ge[be]=arguments[be+2];ee.children=ge}return z(ie.type,X,ee)},hn.createContext=function(ie){return ie={$$typeof:s,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:a,_context:ie},ie},hn.createElement=function(ie,L,Y){var ee,X={},Q=null;if(L!=null)for(ee in L.key!==void 0&&(Q=""+L.key),L)D.call(L,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(X[ee]=L[ee]);var ge=arguments.length-2;if(ge===1)X.children=Y;else if(1<ge){for(var be=Array(ge),ae=0;ae<ge;ae++)be[ae]=arguments[ae+2];X.children=be}if(ie&&ie.defaultProps)for(ee in ge=ie.defaultProps,ge)X[ee]===void 0&&(X[ee]=ge[ee]);return z(ie,Q,X)},hn.createRef=function(){return{current:null}},hn.forwardRef=function(ie){return{$$typeof:l,render:ie}},hn.isValidElement=U,hn.lazy=function(ie){return{$$typeof:h,_payload:{_status:-1,_result:ie},_init:re}},hn.memo=function(ie,L){return{$$typeof:f,type:ie,compare:L===void 0?null:L}},hn.startTransition=function(ie){var L=O.T,Y={};O.T=Y;try{var ee=ie(),X=O.S;X!==null&&X(Y,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(V,ve)}catch(Q){ve(Q)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),O.T=L}},hn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},hn.use=function(ie){return O.H.use(ie)},hn.useActionState=function(ie,L,Y){return O.H.useActionState(ie,L,Y)},hn.useCallback=function(ie,L){return O.H.useCallback(ie,L)},hn.useContext=function(ie){return O.H.useContext(ie)},hn.useDebugValue=function(){},hn.useDeferredValue=function(ie,L){return O.H.useDeferredValue(ie,L)},hn.useEffect=function(ie,L){return O.H.useEffect(ie,L)},hn.useEffectEvent=function(ie){return O.H.useEffectEvent(ie)},hn.useId=function(){return O.H.useId()},hn.useImperativeHandle=function(ie,L,Y){return O.H.useImperativeHandle(ie,L,Y)},hn.useInsertionEffect=function(ie,L){return O.H.useInsertionEffect(ie,L)},hn.useLayoutEffect=function(ie,L){return O.H.useLayoutEffect(ie,L)},hn.useMemo=function(ie,L){return O.H.useMemo(ie,L)},hn.useOptimistic=function(ie,L){return O.H.useOptimistic(ie,L)},hn.useReducer=function(ie,L,Y){return O.H.useReducer(ie,L,Y)},hn.useRef=function(ie){return O.H.useRef(ie)},hn.useState=function(ie){return O.H.useState(ie)},hn.useSyncExternalStore=function(ie,L,Y){return O.H.useSyncExternalStore(ie,L,Y)},hn.useTransition=function(){return O.H.useTransition()},hn.version="19.2.3",hn}var t3;function dT(){return t3||(t3=1,h2.exports=OH()),h2.exports}var ye=dT();const Oe=Sr(ye);var p2={exports:{}},vg={},m2={exports:{}},g2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function jH(){return n3||(n3=1,(function(t){function e(W,te){var re=W.length;W.push(te);e:for(;0<re;){var ve=re-1>>>1,we=W[ve];if(0<i(we,te))W[ve]=te,W[re]=we,re=ve;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],re=W.pop();if(re!==te){W[0]=re;e:for(var ve=0,we=W.length,ie=we>>>1;ve<ie;){var L=2*(ve+1)-1,Y=W[L],ee=L+1,X=W[ee];if(0>i(Y,re))ee<we&&0>i(X,Y)?(W[ve]=X,W[ee]=re,ve=ee):(W[ve]=Y,W[L]=re,ve=L);else if(ee<we&&0>i(X,re))W[ve]=X,W[ee]=re,ve=ee;else break e}}return te}function i(W,te){var re=W.sortIndex-te.sortIndex;return re!==0?re:W.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,m=null,g=3,y=!1,E=!1,A=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=W)r(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(f)}}function j(W){if(A=!1,B(W),!E)if(n(c)!==null)E=!0,V||(V=!0,R());else{var te=n(f);te!==null&&le(j,te.startTime-W)}}var V=!1,O=-1,D=5,z=-1;function H(){return S?!0:!(t.unstable_now()-z<D)}function U(){if(S=!1,V){var W=t.unstable_now();z=W;var te=!0;try{e:{E=!1,A&&(A=!1,P(O),O=-1),y=!0;var re=g;try{t:{for(B(W),m=n(c);m!==null&&!(m.expirationTime>W&&H());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,g=m.priorityLevel;var we=ve(m.expirationTime<=W);if(W=t.unstable_now(),typeof we=="function"){m.callback=we,B(W),te=!0;break t}m===n(c)&&r(c),B(W)}else r(c);m=n(c)}if(m!==null)te=!0;else{var ie=n(f);ie!==null&&le(j,ie.startTime-W),te=!1}}break e}finally{m=null,g=re,y=!1}te=void 0}}finally{te?R():V=!1}}}var R;if(typeof F=="function")R=function(){F(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,G=C.port2;C.port1.onmessage=U,R=function(){G.postMessage(null)}}else R=function(){I(U,0)};function le(W,te){O=I(function(){W(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var re=g;g=te;try{return W()}finally{g=re}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=g;g=W;try{return te()}finally{g=re}},t.unstable_scheduleCallback=function(W,te,re){var ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,W){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=re+we,W={id:h++,callback:te,priorityLevel:W,startTime:re,expirationTime:we,sortIndex:-1},re>ve?(W.sortIndex=re,e(f,W),n(c)===null&&W===n(f)&&(A?(P(O),O=-1):A=!0,le(j,re-ve))):(W.sortIndex=we,e(c,W),E||y||(E=!0,V||(V=!0,R()))),W},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(W){var te=g;return function(){var re=g;g=te;try{return W.apply(this,arguments)}finally{g=re}}}})(g2)),g2}var r3;function DH(){return r3||(r3=1,m2.exports=jH()),m2.exports}var v2={exports:{}},Ka={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function MH(){if(i3)return Ka;i3=1;var t=dT();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ka.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},Ka.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},Ka.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Ka.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ka.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ka.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Ka.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ka.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Ka.requestFormReset=function(c){r.d.r(c)},Ka.unstable_batchedUpdates=function(c,f){return c(f)},Ka.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},Ka.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ka.version="19.2.3",Ka}var a3;function LH(){if(a3)return v2.exports;a3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v2.exports=MH(),v2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3;function FH(){if(s3)return vg;s3=1;var t=DH(),e=dT(),n=LH();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var N=p.return;if(N===null)break;var k=N.alternate;if(k===null){if(v=N.return,v!==null){p=v;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===p)return c(N),o;if(k===v)return c(N),u;k=k.sibling}throw Error(r(188))}if(p.return!==v.return)p=N,v=k;else{for(var Z=!1,pe=N.child;pe;){if(pe===p){Z=!0,p=N,v=k;break}if(pe===v){Z=!0,v=N,p=k;break}pe=pe.sibling}if(!Z){for(pe=k.child;pe;){if(pe===p){Z=!0,p=k,v=N;break}if(pe===v){Z=!0,v=k,p=N;break}pe=pe.sibling}if(!Z)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function R(o){return o===null||typeof o!="object"?null:(o=U&&o[U]||o["@@iterator"],typeof o=="function"?o:null)}var C=Symbol.for("react.client.reference");function G(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===C?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case F:return o.displayName||"Context";case P:return(o._context.displayName||"Context")+".Consumer";case B:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return u=o.displayName||null,u!==null?u:G(o.type)||"Memo";case D:u=o._payload,o=o._init;try{return G(o(u))}catch{}}return null}var le=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],we=-1;function ie(o){return{current:o}}function L(o){0>we||(o.current=ve[we],ve[we]=null,we--)}function Y(o,u){we++,ve[we]=o.current,o.current=u}var ee=ie(null),X=ie(null),Q=ie(null),ge=ie(null);function be(o,u){switch(Y(Q,u),Y(X,o),Y(ee,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?_R(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=_R(u),o=wR(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}L(ee),Y(ee,o)}function ae(){L(ee),L(X),L(Q)}function Se(o){o.memoizedState!==null&&Y(ge,o);var u=ee.current,p=wR(u,o.type);u!==p&&(Y(X,o),Y(ee,p))}function Ee(o){X.current===o&&(L(ee),L(X)),ge.current===o&&(L(ge),fg._currentValue=re)}var _e,Je;function Fe(o){if(_e===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);_e=u&&u[1]||"",Je=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+o+Je}var Ne=!1;function ne(o,u){if(!o||Ne)return"";Ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Qe){var Ye=Qe}Reflect.construct(o,[],ft)}else{try{ft.call()}catch(Qe){Ye=Qe}o.call(ft.prototype)}}else{try{throw Error()}catch(Qe){Ye=Qe}(ft=o())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Qe){if(Qe&&Ye&&typeof Qe.stack=="string")return[Qe.stack,Ye.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),Z=k[0],pe=k[1];if(Z&&pe){var Te=Z.split(`
`),Ge=pe.split(`
`);for(N=v=0;v<Te.length&&!Te[v].includes("DetermineComponentFrameRoot");)v++;for(;N<Ge.length&&!Ge[N].includes("DetermineComponentFrameRoot");)N++;if(v===Te.length||N===Ge.length)for(v=Te.length-1,N=Ge.length-1;1<=v&&0<=N&&Te[v]!==Ge[N];)N--;for(;1<=v&&0<=N;v--,N--)if(Te[v]!==Ge[N]){if(v!==1||N!==1)do if(v--,N--,0>N||Te[v]!==Ge[N]){var at=`
`+Te[v].replace(" at new "," at ");return o.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",o.displayName)),at}while(1<=v&&0<=N);break}}}finally{Ne=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Fe(p):""}function Be(o,u){switch(o.tag){case 26:case 27:case 5:return Fe(o.type);case 16:return Fe("Lazy");case 13:return o.child!==u&&u!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return ne(o.type,!1);case 11:return ne(o.type.render,!1);case 1:return ne(o.type,!0);case 31:return Fe("Activity");default:return""}}function Ze(o){try{var u="",p=null;do u+=Be(o,p),p=o,o=o.return;while(o);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var ze=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,rt=t.unstable_shouldYield,it=t.unstable_requestPaint,We=t.unstable_now,yt=t.unstable_getCurrentPriorityLevel,bt=t.unstable_ImmediatePriority,At=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,Tt=t.unstable_LowPriority,Vt=t.unstable_IdlePriority,wt=t.log,Hn=t.unstable_setDisableYieldValue,en=null,Jn=null;function yn(o){if(typeof wt=="function"&&Hn(o),Jn&&typeof Jn.setStrictMode=="function")try{Jn.setStrictMode(en,o)}catch{}}var xn=Math.clz32?Math.clz32:ci,Ma=Math.log,gn=Math.LN2;function ci(o){return o>>>=0,o===0?32:31-(Ma(o)/gn|0)|0}var qn=256,Pr=262144,Vr=4194304;function Sn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Mt(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var N=0,k=o.suspendedLanes,Z=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~k,v!==0?N=Sn(v):(Z&=pe,Z!==0?N=Sn(Z):p||(p=pe&~o,p!==0&&(N=Sn(p))))):(pe=v&~k,pe!==0?N=Sn(pe):Z!==0?N=Sn(Z):p||(p=v&~o,p!==0&&(N=Sn(p)))),N===0?0:u!==0&&u!==N&&(u&k)===0&&(k=N&-N,p=u&-u,k>=p||k===32&&(p&4194048)!==0)?u:N}function bn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function xi(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(){var o=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),o}function ui(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function bi(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function kt(o,u,p,v,N,k){var Z=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,Te=o.expirationTimes,Ge=o.hiddenUpdates;for(p=Z&~p;0<p;){var at=31-xn(p),ft=1<<at;pe[at]=0,Te[at]=-1;var Ye=Ge[at];if(Ye!==null)for(Ge[at]=null,at=0;at<Ye.length;at++){var Qe=Ye[at];Qe!==null&&(Qe.lane&=-536870913)}p&=~ft}v!==0&&Ci(o,v,0),k!==0&&N===0&&o.tag!==0&&(o.suspendedLanes|=k&~(Z&~u))}function Ci(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-xn(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function jr(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-xn(p),N=1<<v;N&u|o[v]&u&&(o[v]|=u),p&=~N}}function qr(o,u){var p=u&-u;return p=(p&42)!==0?1:cr(p),(p&(o.suspendedLanes|u))!==0?0:p}function cr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function de(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Xe(){var o=te.p;return o!==0?o:(o=window.event,o===void 0?32:HR(o.type))}function Yt(o,u){var p=te.p;try{return te.p=o,u()}finally{te.p=p}}var cn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+cn,zt="__reactProps$"+cn,nn="__reactContainer$"+cn,Ue="__reactEvents$"+cn,Ct="__reactListeners$"+cn,qt="__reactHandles$"+cn,Dr="__reactResources$"+cn,Mr="__reactMarker$"+cn;function jn(o){delete o[Ht],delete o[zt],delete o[Ue],delete o[Ct],delete o[qt]}function Lr(o){var u=o[Ht];if(u)return u;for(var p=o.parentNode;p;){if(u=p[nn]||p[Ht]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=IR(o);o!==null;){if(p=o[Ht])return p;o=IR(o)}return u}o=p,p=o.parentNode}return null}function Gn(o){if(o=o[Ht]||o[nn]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function La(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function cs(o){var u=o[Dr];return u||(u=o[Dr]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function zr(o){o[Mr]=!0}var Ws=new Set,Ks={};function $i(o,u){Fa(o,u),Fa(o+"Capture",u)}function Fa(o,u){for(Ks[o]=u,o=0;o<u.length;o++)Ws.add(u[o])}var bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},zc={};function Qo(o){return ze.call(zc,o)?!0:ze.call(Bl,o)?!1:bf.test(o)?zc[o]=!0:(Bl[o]=!0,!1)}function _o(o,u,p){if(Qo(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function ur(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function xa(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}function Ii(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function $c(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Hc(o,u,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var N=v.get,k=v.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return N.call(this)},set:function(Z){p=""+Z,k.call(this,Z)}}),Object.defineProperty(o,u,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(Z){p=""+Z},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Vl(o){if(!o._valueTracker){var u=$c(o)?"checked":"value";o._valueTracker=Hc(o,u,""+o[u])}}function ba(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=$c(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function Ys(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Xr=/[\n"\\]/g;function xr(o){return o.replace(Xr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Js(o,u,p,v,N,k,Z,pe){o.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?o.type=Z:o.removeAttribute("type"),u!=null?Z==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Ii(u)):o.value!==""+Ii(u)&&(o.value=""+Ii(u)):Z!=="submit"&&Z!=="reset"||o.removeAttribute("value"),u!=null?el(o,Z,Ii(u)):p!=null?el(o,Z,Ii(p)):v!=null&&o.removeAttribute("value"),N==null&&k!=null&&(o.defaultChecked=!!k),N!=null&&(o.checked=N&&typeof N!="function"&&typeof N!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+Ii(pe):o.removeAttribute("name")}function Zo(o,u,p,v,N,k,Z,pe){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),u!=null||p!=null){if(!(k!=="submit"&&k!=="reset"||u!=null)){Vl(o);return}p=p!=null?""+Ii(p):"",u=u!=null?""+Ii(u):p,pe||u===o.value||(o.value=u),o.defaultValue=u}v=v??N,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(o.name=Z),Vl(o)}function el(o,u,p){u==="number"&&Ys(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Dn(o,u,p,v){if(o=o.options,u){u={};for(var N=0;N<p.length;N++)u["$"+p[N]]=!0;for(p=0;p<o.length;p++)N=u.hasOwnProperty("$"+o[p].value),o[p].selected!==N&&(o[p].selected=N),N&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Ii(p),u=null,N=0;N<o.length;N++){if(o[N].value===p){o[N].selected=!0,v&&(o[N].defaultSelected=!0);return}u!==null||o[N].disabled||(u=o[N])}u!==null&&(u.selected=!0)}}function wo(o,u,p){if(u!=null&&(u=""+Ii(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+Ii(p):""}function Ao(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(le(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=Ii(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),Vl(o)}function ia(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||_f.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function Hu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var N in u)v=u[N],u.hasOwnProperty(N)&&p[N]!==v&&Gc(o,N,v)}else for(var k in u)u.hasOwnProperty(k)&&Gc(o,k,u[k])}function us(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(o){return zl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function zn(){}var $l=null;function tl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Gt=null,_a=null;function Gu(o){var u=Gn(o);if(u&&(o=u.stateNode)){var p=o[zt]||null;e:switch(o=u.stateNode,u.type){case"input":if(Js(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+xr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var N=v[zt]||null;if(!N)throw Error(r(90));Js(v,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&ba(v)}break e;case"textarea":wo(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Dn(o,!!p.multiple,u,!1)}}}var Ua=!1;function Wc(o,u,p){if(Ua)return o(u,p);Ua=!0;try{var v=o(u);return v}finally{if(Ua=!1,(Gt!==null||_a!==null)&&(Hv(),Gt&&(u=Gt,o=_a,_a=Gt=null,Gu(u),o)))for(u=0;u<o.length;u++)Gu(o[u])}}function Hi(o,u){var p=o.stateNode;if(p===null)return null;var v=p[zt]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=!1;if(aa)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{nl=!1}var wa=null,Hl=null,Ba=null;function Va(){if(Ba)return Ba;var o,u=Hl,p=u.length,v,N="value"in wa?wa.value:wa.textContent,k=N.length;for(o=0;o<p&&u[o]===N[o];o++);var Z=p-o;for(v=1;v<=Z&&u[p-v]===N[k-v];v++);return Ba=N.slice(o,1<v?1-v:void 0)}function qa(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function So(){return!0}function Xn(){return!1}function di(o){function u(p,v,N,k,Z){this._reactName=p,this._targetInst=N,this.type=v,this.nativeEvent=k,this.target=Z,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(k):k[pe]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?So:Xn,this.isPropagationStopped=Xn,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),u}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=di(za),Xs=m({},za,{view:0,detail:0}),Kc=di(Xs),Qs,Aa,$r,rl=m({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$r&&($r&&o.type==="mousemove"?(Qs=o.screenX-$r.screenX,Aa=o.screenY-$r.screenY):Aa=Qs=0,$r=o),Qs)},movementY:function(o){return"movementY"in o?o.movementY:Aa}}),Zs=di(rl),Gi=m({},rl,{dataTransfer:0}),Gl=di(Gi),eo=m({},Xs,{relatedTarget:0}),Eo=di(eo),il=m({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=di(il),Yc=m({},za,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Kl=di(Yc),To=m({},za,{data:0}),Co=di(To),Yl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},al={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Jl[o])?!!u[o]:!1}function fs(){return Wu}var Io=m({},Xs,{key:function(o){if(o.key){var u=Yl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=qa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?al[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(o){return o.type==="keypress"?qa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?qa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xl=di(Io),sa=m({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=di(sa),M=m({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),se=di(M),Ae=m({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ce=di(Ae),Me=m({},rl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=di(Me),mt=m({},za,{newState:0,oldState:0}),Et=di(mt),_=[9,13,27,32],$=aa&&"CompositionEvent"in window,J=null;aa&&"documentMode"in document&&(J=document.documentMode);var he=aa&&"TextEvent"in window&&!J,je=aa&&(!$||J&&8<J&&11>=J),$e=" ",gt=!1;function on(o,u){switch(o){case"keyup":return _.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xt=!1;function Zn(o,u){switch(o){case"compositionend":return Nn(u);case"keypress":return u.which!==32?null:(gt=!0,$e);case"textInput":return o=u.data,o===$e&&gt?null:o;default:return null}}function pr(o,u){if(Xt)return o==="compositionend"||!$&&on(o,u)?(o=Va(),Ba=Hl=wa=null,Xt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return je&&u.locale!=="ko"?null:u.data;default:return null}}var to={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!to[o.type]:u==="textarea"}function no(o,u,p,v){Gt?_a?_a.push(v):_a=[v]:Gt=v,u=Qv(u,"onChange"),0<u.length&&(p=new No("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var $a=null,ol=null;function wf(o){mR(o,0)}function ll(o){var u=La(o);if(ba(u))return o}function ki(o,u){if(o==="change")return u}var Jc=!1;if(aa){var Ql;if(aa){var Zl="oninput"in document;if(!Zl){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),Zl=typeof Ku.oninput=="function"}Ql=Zl}else Ql=!1;Jc=Ql&&(!document.documentMode||9<document.documentMode)}function Sa(){$a&&($a.detachEvent("onpropertychange",Sh),ol=$a=null)}function Sh(o){if(o.propertyName==="value"&&ll(ol)){var u=[];no(u,ol,o,tl(o)),Wc(wf,u)}}function Af(o,u,p){o==="focusin"?(Sa(),$a=u,ol=p,$a.attachEvent("onpropertychange",Sh)):o==="focusout"&&Sa()}function Nh(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ll(ol)}function Ts(o,u){if(o==="click")return ll(u)}function Yu(o,u){if(o==="input"||o==="change")return ll(u)}function Eh(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var oa=typeof Object.is=="function"?Object.is:Eh;function Cs(o,u){if(oa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var N=p[v];if(!ze.call(u,N)||!oa(o[N],u[N]))return!1}return!0}function ec(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Na(o,u){var p=ec(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ec(p)}}function la(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?la(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function cl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ys(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Ys(o.document)}return u}function ro(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var ul=aa&&"documentMode"in document&&11>=document.documentMode,io=null,ao=null,Nr=null,Xc=!1;function ca(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Xc||io==null||io!==Ys(v)||(v=io,"selectionStart"in v&&ro(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Nr&&Cs(Nr,v)||(Nr=v,v=Qv(ao,"onSelect"),0<v.length&&(u=new No("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=io)))}function Pi(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var so={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Ju={},Xu={};aa&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function hs(o){if(Ju[o])return Ju[o];if(!so[o])return o;var u=so[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in Xu)return Ju[o]=u[p];return o}var tc=hs("animationend"),dl=hs("animationiteration"),nc=hs("animationstart"),Qu=hs("transitionrun"),Qc=hs("transitionstart"),rc=hs("transitioncancel"),Zu=hs("transitionend"),ps=new Map,Ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ha.push("scrollEnd");function Cn(o,u){ps.set(o,u),$i(u,[o])}var sr=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Wn=[],Fr=0,oo=0;function ic(){for(var o=Fr,u=oo=Fr=0;u<o;){var p=Wn[u];Wn[u++]=null;var v=Wn[u];Wn[u++]=null;var N=Wn[u];Wn[u++]=null;var k=Wn[u];if(Wn[u++]=null,v!==null&&N!==null){var Z=v.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),v.pending=N}k!==0&&Sf(p,N,k)}}function fl(o,u,p,v){Wn[Fr++]=o,Wn[Fr++]=u,Wn[Fr++]=p,Wn[Fr++]=v,oo|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function ed(o,u,p,v){return fl(o,u,p,v),ua(o)}function hl(o,u){return fl(o,null,null,u),ua(o)}function Sf(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var N=!1,k=o.return;k!==null;)k.childLanes|=p,v=k.alternate,v!==null&&(v.childLanes|=p),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(N=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,N&&u!==null&&(N=31-xn(p),o=k.hiddenUpdates,v=o[N],v===null?o[N]=[u]:v.push(u),u.lane=p|536870912),k):null}function ua(o){if(50<ag)throw ag=0,M_=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Wi={};function Th(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(o,u,p,v){return new Th(o,u,p,v)}function Ch(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Is(o,u){var p=o.alternate;return p===null?(p=da(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Nf(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function td(o,u,p,v,N,k){var Z=0;if(v=o,typeof o=="function")Ch(o)&&(Z=1);else if(typeof o=="string")Z=xH(o,p,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=da(31,p,u,N),o.elementType=z,o.lanes=k,o;case A:return ac(p.children,N,k,u);case S:Z=8,N|=24;break;case I:return o=da(12,p,u,N|2),o.elementType=I,o.lanes=k,o;case j:return o=da(13,p,u,N),o.elementType=j,o.lanes=k,o;case V:return o=da(19,p,u,N),o.elementType=V,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:Z=10;break e;case P:Z=9;break e;case B:Z=11;break e;case O:Z=14;break e;case D:Z=16,v=null;break e}Z=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=da(Z,p,u,N),u.elementType=o,u.type=v,u.lanes=k,u}function ac(o,u,p,v){return o=da(7,o,v,u),o.lanes=p,o}function Ef(o,u,p){return o=da(6,o,null,u),o.lanes=p,o}function Ih(o){var u=da(18,null,null,0);return u.stateNode=o,u}function nd(o,u,p){return u=da(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Rh=new WeakMap;function Rs(o,u){if(typeof o=="object"&&o!==null){var p=Rh.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Ze(u)},Rh.set(o,u),u)}return{value:o,source:u,stack:Ze(u)}}var rd=[],Zc=0,kh=null,Tf=0,ks=[],Ps=0,sc=null,Os=1,js="";function ms(o,u){rd[Zc++]=Tf,rd[Zc++]=kh,kh=o,Tf=u}function Sv(o,u,p){ks[Ps++]=Os,ks[Ps++]=js,ks[Ps++]=sc,sc=o;var v=Os;o=js;var N=32-xn(v)-1;v&=~(1<<N),p+=1;var k=32-xn(u)+N;if(30<k){var Z=N-N%5;k=(v&(1<<Z)-1).toString(32),v>>=Z,N-=Z,Os=1<<32-xn(u)+N|p<<N|v,js=k+o}else Os=1<<k|p<<N|v,js=o}function Fm(o){o.return!==null&&(ms(o,1),Sv(o,1,0))}function Ph(o){for(;o===kh;)kh=rd[--Zc],rd[Zc]=null,Tf=rd[--Zc],rd[Zc]=null;for(;o===sc;)sc=ks[--Ps],ks[Ps]=null,js=ks[--Ps],ks[Ps]=null,Os=ks[--Ps],ks[Ps]=null}function Nv(o,u){ks[Ps++]=Os,ks[Ps++]=js,ks[Ps++]=sc,Os=u.id,js=u.overflow,sc=o}var Ki=null,Er=null,In=!1,Ea=null,Qr=!1,lo=Error(r(519));function oc(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw id(Rs(u,o)),lo}function Um(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[Ht]=o,u[zt]=v,p){case"dialog":Pn("cancel",u),Pn("close",u);break;case"iframe":case"object":case"embed":Pn("load",u);break;case"video":case"audio":for(p=0;p<og.length;p++)Pn(og[p],u);break;case"source":Pn("error",u);break;case"img":case"image":case"link":Pn("error",u),Pn("load",u);break;case"details":Pn("toggle",u);break;case"input":Pn("invalid",u),Zo(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Pn("invalid",u);break;case"textarea":Pn("invalid",u),Ao(u,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||xR(u.textContent,p)?(v.popover!=null&&(Pn("beforetoggle",u),Pn("toggle",u)),v.onScroll!=null&&Pn("scroll",u),v.onScrollEnd!=null&&Pn("scrollend",u),v.onClick!=null&&(u.onclick=zn),u=!0):u=!1,u||oc(o,!0)}function pl(o){for(Ki=o.return;Ki;)switch(Ki.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Ki=Ki.return}}function Yi(o){if(o!==Ki)return!1;if(!In)return pl(o),In=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||X_(o.type,o.memoizedProps)),p=!p),p&&Er&&oc(o),pl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Er=CR(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Er=CR(o)}else u===27?(u=Er,yd(o.type)?(o=n2,n2=null,Er=o):Er=u):Er=Ki?Mo(o.stateNode.nextSibling):null;return!0}function eu(){Er=Ki=null,In=!1}function Bm(){var o=Ea;return o!==null&&(Bs===null?Bs=o:Bs.push.apply(Bs,o),Ea=null),o}function id(o){Ea===null?Ea=[o]:Ea.push(o)}var Oh=ie(null),lc=null,Ro=null;function cc(o,u,p){Y(Oh,u._currentValue),u._currentValue=p}function Ds(o){o._currentValue=Oh.current,L(Oh)}function ad(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function tu(o,u,p,v){var N=o.child;for(N!==null&&(N.return=o);N!==null;){var k=N.dependencies;if(k!==null){var Z=N.child;k=k.firstContext;e:for(;k!==null;){var pe=k;k=N;for(var Te=0;Te<u.length;Te++)if(pe.context===u[Te]){k.lanes|=p,pe=k.alternate,pe!==null&&(pe.lanes|=p),ad(k.return,p,o),v||(Z=null);break e}k=pe.next}}else if(N.tag===18){if(Z=N.return,Z===null)throw Error(r(341));Z.lanes|=p,k=Z.alternate,k!==null&&(k.lanes|=p),ad(Z,p,o),Z=null}else Z=N.child;if(Z!==null)Z.return=N;else for(Z=N;Z!==null;){if(Z===o){Z=null;break}if(N=Z.sibling,N!==null){N.return=Z.return,Z=N;break}Z=Z.return}N=Z}}function uc(o,u,p,v){o=null;for(var N=u,k=!1;N!==null;){if(!k){if((N.flags&524288)!==0)k=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Z=N.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var pe=N.type;oa(N.pendingProps.value,Z.value)||(o!==null?o.push(pe):o=[pe])}}else if(N===ge.current){if(Z=N.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(o!==null?o.push(fg):o=[fg])}N=N.return}o!==null&&tu(u,o,p,v),u.flags|=262144}function jh(o){for(o=o.firstContext;o!==null;){if(!oa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function dc(o){lc=o,Ro=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ji(o){return Ev(lc,o)}function Dh(o,u){return lc===null&&dc(o),Ev(o,u)}function Ev(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Ro===null){if(o===null)throw Error(r(308));Ro=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Ro=Ro.next=u;return p}var t_=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},n_=t.unstable_scheduleCallback,r_=t.unstable_NormalPriority,ai={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new t_,data:new Map,refCount:0}}function Cf(o){o.refCount--,o.refCount===0&&n_(r_,function(){o.controller.abort()})}var If=null,Mh=0,b=0,T=null;function q(o,u){if(If===null){var p=If=[];Mh=0,b=q_(),T={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Mh++,u.then(K,K),u}function K(){if(--Mh===0&&If!==null){T!==null&&(T.status="fulfilled");var o=If;If=null,b=0,T=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function oe(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(N){p.push(N)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var N=0;N<p.length;N++)(0,p[N])(u)},function(N){for(v.status="rejected",v.reason=N,N=0;N<p.length;N++)(0,p[N])(void 0)}),v}var ce=W.S;W.S=function(o,u){z4=We(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&q(o,u),ce!==null&&ce(o,u)};var ue=ie(null);function fe(){var o=ue.current;return o!==null?o:Cr.pooledCache}function me(o,u){u===null?Y(ue,ue.current):Y(ue,u.pool)}function xe(){var o=fe();return o===null?null:{parent:ai._currentValue,pool:o}}var Ie=Error(r(460)),qe=Error(r(474)),Ve=Error(r(542)),De={then:function(){}};function dt(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tt(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(zn,zn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,pt(o),o;default:if(typeof u.status=="string")u.then(zn,zn);else{if(o=Cr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var N=u;N.status="fulfilled",N.value=v}},function(v){if(u.status==="pending"){var N=u;N.status="rejected",N.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,pt(o),o}throw Pe=u,Ie}}function Re(o){try{var u=o._init;return u(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Pe=p,Ie):p}}var Pe=null;function lt(){if(Pe===null)throw Error(r(459));var o=Pe;return Pe=null,o}function pt(o){if(o===Ie||o===Ve)throw Error(r(483))}var ot=null,It=0;function St(o){var u=It;return It+=1,ot===null&&(ot=[]),tt(ot,o,u)}function $t(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Nt(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Kn(o){function u(Le,ke){if(o){var He=Le.deletions;He===null?(Le.deletions=[ke],Le.flags|=16):He.push(ke)}}function p(Le,ke){if(!o)return null;for(;ke!==null;)u(Le,ke),ke=ke.sibling;return null}function v(Le){for(var ke=new Map;Le!==null;)Le.key!==null?ke.set(Le.key,Le):ke.set(Le.index,Le),Le=Le.sibling;return ke}function N(Le,ke){return Le=Is(Le,ke),Le.index=0,Le.sibling=null,Le}function k(Le,ke,He){return Le.index=He,o?(He=Le.alternate,He!==null?(He=He.index,He<ke?(Le.flags|=67108866,ke):He):(Le.flags|=67108866,ke)):(Le.flags|=1048576,ke)}function Z(Le){return o&&Le.alternate===null&&(Le.flags|=67108866),Le}function pe(Le,ke,He,ct){return ke===null||ke.tag!==6?(ke=Ef(He,Le.mode,ct),ke.return=Le,ke):(ke=N(ke,He),ke.return=Le,ke)}function Te(Le,ke,He,ct){var Wt=He.type;return Wt===A?at(Le,ke,He.props.children,ct,He.key):ke!==null&&(ke.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===D&&Re(Wt)===ke.type)?(ke=N(ke,He.props),$t(ke,He),ke.return=Le,ke):(ke=td(He.type,He.key,He.props,null,Le.mode,ct),$t(ke,He),ke.return=Le,ke)}function Ge(Le,ke,He,ct){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==He.containerInfo||ke.stateNode.implementation!==He.implementation?(ke=nd(He,Le.mode,ct),ke.return=Le,ke):(ke=N(ke,He.children||[]),ke.return=Le,ke)}function at(Le,ke,He,ct,Wt){return ke===null||ke.tag!==7?(ke=ac(He,Le.mode,ct,Wt),ke.return=Le,ke):(ke=N(ke,He),ke.return=Le,ke)}function ft(Le,ke,He){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=Ef(""+ke,Le.mode,He),ke.return=Le,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return He=td(ke.type,ke.key,ke.props,null,Le.mode,He),$t(He,ke),He.return=Le,He;case E:return ke=nd(ke,Le.mode,He),ke.return=Le,ke;case D:return ke=Re(ke),ft(Le,ke,He)}if(le(ke)||R(ke))return ke=ac(ke,Le.mode,He,null),ke.return=Le,ke;if(typeof ke.then=="function")return ft(Le,St(ke),He);if(ke.$$typeof===F)return ft(Le,Dh(Le,ke),He);Nt(Le,ke)}return null}function Ye(Le,ke,He,ct){var Wt=ke!==null?ke.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Wt!==null?null:pe(Le,ke,""+He,ct);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return He.key===Wt?Te(Le,ke,He,ct):null;case E:return He.key===Wt?Ge(Le,ke,He,ct):null;case D:return He=Re(He),Ye(Le,ke,He,ct)}if(le(He)||R(He))return Wt!==null?null:at(Le,ke,He,ct,null);if(typeof He.then=="function")return Ye(Le,ke,St(He),ct);if(He.$$typeof===F)return Ye(Le,ke,Dh(Le,He),ct);Nt(Le,He)}return null}function Qe(Le,ke,He,ct,Wt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Le=Le.get(He)||null,pe(ke,Le,""+ct,Wt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case y:return Le=Le.get(ct.key===null?He:ct.key)||null,Te(ke,Le,ct,Wt);case E:return Le=Le.get(ct.key===null?He:ct.key)||null,Ge(ke,Le,ct,Wt);case D:return ct=Re(ct),Qe(Le,ke,He,ct,Wt)}if(le(ct)||R(ct))return Le=Le.get(He)||null,at(ke,Le,ct,Wt,null);if(typeof ct.then=="function")return Qe(Le,ke,He,St(ct),Wt);if(ct.$$typeof===F)return Qe(Le,ke,He,Dh(ke,ct),Wt);Nt(ke,ct)}return null}function Ft(Le,ke,He,ct){for(var Wt=null,tr=null,Bt=ke,_n=ke=0,Fn=null;Bt!==null&&_n<He.length;_n++){Bt.index>_n?(Fn=Bt,Bt=null):Fn=Bt.sibling;var nr=Ye(Le,Bt,He[_n],ct);if(nr===null){Bt===null&&(Bt=Fn);break}o&&Bt&&nr.alternate===null&&u(Le,Bt),ke=k(nr,ke,_n),tr===null?Wt=nr:tr.sibling=nr,tr=nr,Bt=Fn}if(_n===He.length)return p(Le,Bt),In&&ms(Le,_n),Wt;if(Bt===null){for(;_n<He.length;_n++)Bt=ft(Le,He[_n],ct),Bt!==null&&(ke=k(Bt,ke,_n),tr===null?Wt=Bt:tr.sibling=Bt,tr=Bt);return In&&ms(Le,_n),Wt}for(Bt=v(Bt);_n<He.length;_n++)Fn=Qe(Bt,Le,_n,He[_n],ct),Fn!==null&&(o&&Fn.alternate!==null&&Bt.delete(Fn.key===null?_n:Fn.key),ke=k(Fn,ke,_n),tr===null?Wt=Fn:tr.sibling=Fn,tr=Fn);return o&&Bt.forEach(function(Ad){return u(Le,Ad)}),In&&ms(Le,_n),Wt}function Zt(Le,ke,He,ct){if(He==null)throw Error(r(151));for(var Wt=null,tr=null,Bt=ke,_n=ke=0,Fn=null,nr=He.next();Bt!==null&&!nr.done;_n++,nr=He.next()){Bt.index>_n?(Fn=Bt,Bt=null):Fn=Bt.sibling;var Ad=Ye(Le,Bt,nr.value,ct);if(Ad===null){Bt===null&&(Bt=Fn);break}o&&Bt&&Ad.alternate===null&&u(Le,Bt),ke=k(Ad,ke,_n),tr===null?Wt=Ad:tr.sibling=Ad,tr=Ad,Bt=Fn}if(nr.done)return p(Le,Bt),In&&ms(Le,_n),Wt;if(Bt===null){for(;!nr.done;_n++,nr=He.next())nr=ft(Le,nr.value,ct),nr!==null&&(ke=k(nr,ke,_n),tr===null?Wt=nr:tr.sibling=nr,tr=nr);return In&&ms(Le,_n),Wt}for(Bt=v(Bt);!nr.done;_n++,nr=He.next())nr=Qe(Bt,Le,_n,nr.value,ct),nr!==null&&(o&&nr.alternate!==null&&Bt.delete(nr.key===null?_n:nr.key),ke=k(nr,ke,_n),tr===null?Wt=nr:tr.sibling=nr,tr=nr);return o&&Bt.forEach(function(RH){return u(Le,RH)}),In&&ms(Le,_n),Wt}function wr(Le,ke,He,ct){if(typeof He=="object"&&He!==null&&He.type===A&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case y:e:{for(var Wt=He.key;ke!==null;){if(ke.key===Wt){if(Wt=He.type,Wt===A){if(ke.tag===7){p(Le,ke.sibling),ct=N(ke,He.props.children),ct.return=Le,Le=ct;break e}}else if(ke.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===D&&Re(Wt)===ke.type){p(Le,ke.sibling),ct=N(ke,He.props),$t(ct,He),ct.return=Le,Le=ct;break e}p(Le,ke);break}else u(Le,ke);ke=ke.sibling}He.type===A?(ct=ac(He.props.children,Le.mode,ct,He.key),ct.return=Le,Le=ct):(ct=td(He.type,He.key,He.props,null,Le.mode,ct),$t(ct,He),ct.return=Le,Le=ct)}return Z(Le);case E:e:{for(Wt=He.key;ke!==null;){if(ke.key===Wt)if(ke.tag===4&&ke.stateNode.containerInfo===He.containerInfo&&ke.stateNode.implementation===He.implementation){p(Le,ke.sibling),ct=N(ke,He.children||[]),ct.return=Le,Le=ct;break e}else{p(Le,ke);break}else u(Le,ke);ke=ke.sibling}ct=nd(He,Le.mode,ct),ct.return=Le,Le=ct}return Z(Le);case D:return He=Re(He),wr(Le,ke,He,ct)}if(le(He))return Ft(Le,ke,He,ct);if(R(He)){if(Wt=R(He),typeof Wt!="function")throw Error(r(150));return He=Wt.call(He),Zt(Le,ke,He,ct)}if(typeof He.then=="function")return wr(Le,ke,St(He),ct);if(He.$$typeof===F)return wr(Le,ke,Dh(Le,He),ct);Nt(Le,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,ke!==null&&ke.tag===6?(p(Le,ke.sibling),ct=N(ke,He),ct.return=Le,Le=ct):(p(Le,ke),ct=Ef(He,Le.mode,ct),ct.return=Le,Le=ct),Z(Le)):p(Le,ke)}return function(Le,ke,He,ct){try{It=0;var Wt=wr(Le,ke,He,ct);return ot=null,Wt}catch(Bt){if(Bt===Ie||Bt===Ve)throw Bt;var tr=da(29,Bt,null,Le.mode);return tr.lanes=ct,tr.return=Le,tr}finally{}}}var Rn=Kn(!0),Mn=Kn(!1),un=!1;function or(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function er(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function mr(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(lr&2)!==0){var N=v.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),v.pending=u,u=ua(o),Sf(o,null,p),u}return fl(o,v,u,p),ua(o)}function Oi(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,jr(o,p)}}function Zr(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var N=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var Z={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};k===null?N=k=Z:k=k.next=Z,p=p.next}while(p!==null);k===null?N=k=u:k=k.next=u}else N=k=u;p={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var fa=!1;function $n(){if(fa){var o=T;if(o!==null)throw o}}function Xi(o,u,p,v){fa=!1;var N=o.updateQueue;un=!1;var k=N.firstBaseUpdate,Z=N.lastBaseUpdate,pe=N.shared.pending;if(pe!==null){N.shared.pending=null;var Te=pe,Ge=Te.next;Te.next=null,Z===null?k=Ge:Z.next=Ge,Z=Te;var at=o.alternate;at!==null&&(at=at.updateQueue,pe=at.lastBaseUpdate,pe!==Z&&(pe===null?at.firstBaseUpdate=Ge:pe.next=Ge,at.lastBaseUpdate=Te))}if(k!==null){var ft=N.baseState;Z=0,at=Ge=Te=null,pe=k;do{var Ye=pe.lane&-536870913,Qe=Ye!==pe.lane;if(Qe?(Ln&Ye)===Ye:(v&Ye)===Ye){Ye!==0&&Ye===b&&(fa=!0),at!==null&&(at=at.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Ft=o,Zt=pe;Ye=u;var wr=p;switch(Zt.tag){case 1:if(Ft=Zt.payload,typeof Ft=="function"){ft=Ft.call(wr,ft,Ye);break e}ft=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Zt.payload,Ye=typeof Ft=="function"?Ft.call(wr,ft,Ye):Ft,Ye==null)break e;ft=m({},ft,Ye);break e;case 2:un=!0}}Ye=pe.callback,Ye!==null&&(o.flags|=64,Qe&&(o.flags|=8192),Qe=N.callbacks,Qe===null?N.callbacks=[Ye]:Qe.push(Ye))}else Qe={lane:Ye,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},at===null?(Ge=at=Qe,Te=ft):at=at.next=Qe,Z|=Ye;if(pe=pe.next,pe===null){if(pe=N.shared.pending,pe===null)break;Qe=pe,pe=Qe.next,Qe.next=null,N.lastBaseUpdate=Qe,N.shared.pending=null}}while(!0);at===null&&(Te=ft),N.baseState=Te,N.firstBaseUpdate=Ge,N.lastBaseUpdate=at,k===null&&(N.shared.lanes=0),hd|=Z,o.lanes=Z,o.memoizedState=ft}}function Ga(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function _i(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Ga(p[o],u)}var ei=ie(null),ji=ie(0);function gs(o,u){o=hu,Y(ji,o),Y(ei,u),hu=o|u.baseLanes}function Ms(){Y(ji,hu),Y(ei,ei.current)}function fi(){hu=ji.current,L(ei),L(ji)}var si=ie(null),Di=null;function vs(o){var u=o.alternate;Y(ti,ti.current&1),Y(si,o),Di===null&&(u===null||ei.current!==null||u.memoizedState!==null)&&(Di=o)}function ko(o){Y(ti,ti.current),Y(si,o),Di===null&&(Di=o)}function Hr(o){o.tag===22?(Y(ti,ti.current),Y(si,o),Di===null&&(Di=o)):Po()}function Po(){Y(ti,ti.current),Y(si,si.current)}function Wa(o){L(si),Di===o&&(Di=null),L(ti)}var ti=ie(0);function nu(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||e2(p)||t2(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ys=0,ln=null,An=null,Tr=null,ml=!1,ru=!1,Oo=!1,Rf=0,fc=0,hc=null,Lh=0;function br(){throw Error(r(321))}function Vm(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!oa(o[p],u[p]))return!1;return!0}function qm(o,u,p,v,N,k){return ys=k,ln=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=o===null||o.memoizedState===null?e4:d_,Oo=!1,k=p(v,N),Oo=!1,ru&&(k=gl(u,p,v,N)),Fh(o),k}function Fh(o){W.H=Jm;var u=An!==null&&An.next!==null;if(ys=0,Tr=An=ln=null,ml=!1,fc=0,hc=null,u)throw Error(r(300));o===null||Li||(o=o.dependencies,o!==null&&jh(o)&&(Li=!0))}function gl(o,u,p,v){ln=o;var N=0;do{if(ru&&(hc=null),fc=0,ru=!1,25<=N)throw Error(r(301));if(N+=1,Tr=An=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}W.H=t4,k=u(p,v)}while(ru);return k}function i_(){var o=W.H,u=o.useState()[0];return u=typeof u.then=="function"?pc(u):u,o=o.useState()[0],(An!==null?An.memoizedState:null)!==o&&(ln.flags|=1024),u}function zm(){var o=Rf!==0;return Rf=0,o}function $m(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function Uh(o){if(ml){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}ml=!1}ys=0,Tr=An=ln=null,ru=!1,fc=Rf=0,hc=null}function Mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?ln.memoizedState=Tr=o:Tr=Tr.next=o,Tr}function ni(){if(An===null){var o=ln.alternate;o=o!==null?o.memoizedState:null}else o=An.next;var u=Tr===null?ln.memoizedState:Tr.next;if(u!==null)Tr=u,An=o;else{if(o===null)throw ln.alternate===null?Error(r(467)):Error(r(310));An=o,o={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Tr===null?ln.memoizedState=Tr=o:Tr=Tr.next=o}return Tr}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(o){var u=fc;return fc+=1,hc===null&&(hc=[]),o=tt(hc,o,u),u=ln,(Tr===null?u.memoizedState:Tr.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?e4:d_),o}function od(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return pc(o);if(o.$$typeof===F)return Ji(o)}throw Error(r(438,String(o)))}function iu(o){var u=null,p=ln.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=ln.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(N){return N.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=kf(),ln.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=H;return u.index++,p}function jo(o,u){return typeof u=="function"?u(o):u}function Bh(o){var u=ni();return ld(u,An,o)}function ld(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var N=o.baseQueue,k=v.pending;if(k!==null){if(N!==null){var Z=N.next;N.next=k.next,k.next=Z}u.baseQueue=N=k,v.pending=null}if(k=o.baseState,N===null)o.memoizedState=k;else{u=N.next;var pe=Z=null,Te=null,Ge=u,at=!1;do{var ft=Ge.lane&-536870913;if(ft!==Ge.lane?(Ln&ft)===ft:(ys&ft)===ft){var Ye=Ge.revertLane;if(Ye===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ft===b&&(at=!0);else if((ys&Ye)===Ye){Ge=Ge.next,Ye===b&&(at=!0);continue}else ft={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Te===null?(pe=Te=ft,Z=k):Te=Te.next=ft,ln.lanes|=Ye,hd|=Ye;ft=Ge.action,Oo&&p(k,ft),k=Ge.hasEagerState?Ge.eagerState:p(k,ft)}else Ye={lane:ft,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Te===null?(pe=Te=Ye,Z=k):Te=Te.next=Ye,ln.lanes|=ft,hd|=ft;Ge=Ge.next}while(Ge!==null&&Ge!==u);if(Te===null?Z=k:Te.next=pe,!oa(k,o.memoizedState)&&(Li=!0,at&&(p=T,p!==null)))throw p;o.memoizedState=k,o.baseState=Z,o.baseQueue=Te,v.lastRenderedState=k}return N===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Vh(o){var u=ni(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,N=p.pending,k=u.memoizedState;if(N!==null){p.pending=null;var Z=N=N.next;do k=o(k,Z.action),Z=Z.next;while(Z!==N);oa(k,u.memoizedState)||(Li=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),p.lastRenderedState=k}return[k,v]}function qh(o,u,p){var v=ln,N=ni(),k=In;if(k){if(p===void 0)throw Error(r(407));p=p()}else p=u();var Z=!oa((An||N).memoizedState,p);if(Z&&(N.memoizedState=p,Li=!0),N=N.queue,a_(Gm.bind(null,v,N,o),[o]),N.getSnapshot!==u||Z||Tr!==null&&Tr.memoizedState.tag&1){if(v.flags|=2048,su(9,{destroy:void 0},Hm.bind(null,v,N,p,u),null),Cr===null)throw Error(r(349));k||(ys&127)!==0||vl(v,u,p)}return p}function vl(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=ln.updateQueue,u===null?(u=kf(),ln.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Hm(o,u,p,v){u.value=p,u.getSnapshot=v,Tv(u)&&Wm(o)}function Gm(o,u,p){return p(function(){Tv(u)&&Wm(o)})}function Tv(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!oa(o,p)}catch{return!0}}function Wm(o){var u=hl(o,2);u!==null&&Vs(u,o,2)}function mc(o){var u=Mi();if(typeof o=="function"){var p=o;if(o=p(),Oo){yn(!0);try{p()}finally{yn(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:o},u}function Cv(o,u,p,v){return o.baseState=p,ld(o,An,typeof v=="function"?v:jo)}function Iv(o,u,p,v,N){if(Ov(o))throw Error(r(485));if(o=u.action,o!==null){var k={payload:N,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){k.listeners.push(Z)}};W.T!==null?p(!0):k.isTransition=!1,v(k),p=u.pending,p===null?(k.next=u.pending=k,Rv(u,k)):(k.next=p.next,u.pending=p.next=k)}}function Rv(o,u){var p=u.action,v=u.payload,N=o.state;if(u.isTransition){var k=W.T,Z={};W.T=Z;try{var pe=p(N,v),Te=W.S;Te!==null&&Te(Z,pe),Km(o,u,pe)}catch(Ge){au(o,u,Ge)}finally{k!==null&&Z.types!==null&&(k.types=Z.types),W.T=k}}else try{k=p(N,v),Km(o,u,k)}catch(Ge){au(o,u,Ge)}}function Km(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){kv(o,u,v)},function(v){return au(o,u,v)}):kv(o,u,p)}function kv(o,u,p){u.status="fulfilled",u.value=p,zh(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Rv(o,p)))}function au(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,zh(u),u=u.next;while(u!==v)}o.action=null}function zh(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Pf(o,u){return u}function Do(o,u){if(In){var p=Cr.formState;if(p!==null){e:{var v=ln;if(In){if(Er){t:{for(var N=Er,k=Qr;N.nodeType!==8;){if(!k){N=null;break t}if(N=Mo(N.nextSibling),N===null){N=null;break t}}k=N.data,N=k==="F!"||k==="F"?N:null}if(N){Er=Mo(N.nextSibling),v=N.data==="F!";break e}}oc(v)}v=!1}v&&(u=p[0])}}return p=Mi(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:u},p.queue=v,p=XI.bind(null,ln,v),v.dispatch=p,v=mc(!1),k=u_.bind(null,ln,!1,v.queue),v=Mi(),N={state:u,dispatch:null,action:o,pending:null},v.queue=N,p=Iv.bind(null,ln,N,k,p),N.dispatch=p,v.memoizedState=o,[u,p,!1]}function yl(o){var u=ni();return xl(u,An,o)}function xl(o,u,p){if(u=ld(o,u,Pf)[0],o=Bh(jo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=pc(u)}catch(Z){throw Z===Ie?Ve:Z}else v=u;u=ni();var N=u.queue,k=N.dispatch;return p!==u.memoizedState&&(ln.flags|=2048,su(9,{destroy:void 0},$h.bind(null,N,p),null)),[v,k,o]}function $h(o,u){o.action=u}function Hh(o){var u=ni(),p=An;if(p!==null)return xl(u,p,o);ni(),u=u.memoizedState,p=ni();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function su(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=ln.updateQueue,u===null&&(u=kf(),ln.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function Pv(){return ni().memoizedState}function cd(o,u,p,v){var N=Mi();ln.flags|=o,N.memoizedState=su(1|u,{destroy:void 0},p,v===void 0?null:v)}function ud(o,u,p,v){var N=ni();v=v===void 0?null:v;var k=N.memoizedState.inst;An!==null&&v!==null&&Vm(v,An.memoizedState.deps)?N.memoizedState=su(u,k,p,v):(ln.flags|=o,N.memoizedState=su(1|u,k,p,v))}function LI(o,u){cd(8390656,8,o,u)}function a_(o,u){ud(2048,8,o,u)}function S$(o){ln.flags|=4;var u=ln.updateQueue;if(u===null)u=kf(),ln.updateQueue=u,u.events=[o];else{var p=u.events;p===null?u.events=[o]:p.push(o)}}function FI(o){var u=ni().memoizedState;return S$({ref:u,nextImpl:o}),function(){if((lr&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function UI(o,u){return ud(4,2,o,u)}function BI(o,u){return ud(4,4,o,u)}function VI(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function qI(o,u,p){p=p!=null?p.concat([o]):null,ud(4,4,VI.bind(null,u,o),p)}function s_(){}function zI(o,u){var p=ni();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&Vm(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function $I(o,u){var p=ni();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&Vm(u,v[1]))return v[0];if(v=o(),Oo){yn(!0);try{o()}finally{yn(!1)}}return p.memoizedState=[v,u],v}function o_(o,u,p){return p===void 0||(ys&1073741824)!==0&&(Ln&261930)===0?o.memoizedState=u:(o.memoizedState=p,o=H4(),ln.lanes|=o,hd|=o,p)}function HI(o,u,p,v){return oa(p,u)?p:ei.current!==null?(o=o_(o,p,v),oa(o,u)||(Li=!0),o):(ys&42)===0||(ys&1073741824)!==0&&(Ln&261930)===0?(Li=!0,o.memoizedState=p):(o=H4(),ln.lanes|=o,hd|=o,u)}function GI(o,u,p,v,N){var k=te.p;te.p=k!==0&&8>k?k:8;var Z=W.T,pe={};W.T=pe,u_(o,!1,u,p);try{var Te=N(),Ge=W.S;if(Ge!==null&&Ge(pe,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var at=oe(Te,v);Ym(o,u,at,fo(o))}else Ym(o,u,v,fo(o))}catch(ft){Ym(o,u,{then:function(){},status:"rejected",reason:ft},fo())}finally{te.p=k,Z!==null&&pe.types!==null&&(Z.types=pe.types),W.T=Z}}function N$(){}function l_(o,u,p,v){if(o.tag!==5)throw Error(r(476));var N=WI(o).queue;GI(o,N,u,re,p===null?N$:function(){return KI(o),p(v)})}function WI(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:re},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function KI(o){var u=WI(o);u.next===null&&(u=o.alternate.memoizedState),Ym(o,u.next.queue,{},fo())}function c_(){return Ji(fg)}function YI(){return ni().memoizedState}function JI(){return ni().memoizedState}function E$(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=fo();o=Qt(p);var v=mr(u,o,p);v!==null&&(Vs(v,u,p),Oi(v,u,p)),u={cache:sd()},o.payload=u;return}u=u.return}}function T$(o,u,p){var v=fo();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ov(o)?QI(u,p):(p=ed(o,u,p,v),p!==null&&(Vs(p,o,v),ZI(p,u,v)))}function XI(o,u,p){var v=fo();Ym(o,u,p,v)}function Ym(o,u,p,v){var N={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ov(o))QI(u,N);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var Z=u.lastRenderedState,pe=k(Z,p);if(N.hasEagerState=!0,N.eagerState=pe,oa(pe,Z))return fl(o,u,N,0),Cr===null&&ic(),!1}catch{}finally{}if(p=ed(o,u,N,v),p!==null)return Vs(p,o,v),ZI(p,u,v),!0}return!1}function u_(o,u,p,v){if(v={lane:2,revertLane:q_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Ov(o)){if(u)throw Error(r(479))}else u=ed(o,p,v,2),u!==null&&Vs(u,o,2)}function Ov(o){var u=o.alternate;return o===ln||u!==null&&u===ln}function QI(o,u){ru=ml=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function ZI(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,jr(o,p)}}var Jm={readContext:Ji,use:od,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br};Jm.useEffectEvent=br;var e4={readContext:Ji,use:od,useCallback:function(o,u){return Mi().memoizedState=[o,u===void 0?null:u],o},useContext:Ji,useEffect:LI,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,cd(4194308,4,VI.bind(null,u,o),p)},useLayoutEffect:function(o,u){return cd(4194308,4,o,u)},useInsertionEffect:function(o,u){cd(4,2,o,u)},useMemo:function(o,u){var p=Mi();u=u===void 0?null:u;var v=o();if(Oo){yn(!0);try{o()}finally{yn(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=Mi();if(p!==void 0){var N=p(u);if(Oo){yn(!0);try{p(u)}finally{yn(!1)}}}else N=u;return v.memoizedState=v.baseState=N,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:N},v.queue=o,o=o.dispatch=T$.bind(null,ln,o),[v.memoizedState,o]},useRef:function(o){var u=Mi();return o={current:o},u.memoizedState=o},useState:function(o){o=mc(o);var u=o.queue,p=XI.bind(null,ln,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:s_,useDeferredValue:function(o,u){var p=Mi();return o_(p,o,u)},useTransition:function(){var o=mc(!1);return o=GI.bind(null,ln,o.queue,!0,!1),Mi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=ln,N=Mi();if(In){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Cr===null)throw Error(r(349));(Ln&127)!==0||vl(v,u,p)}N.memoizedState=p;var k={value:p,getSnapshot:u};return N.queue=k,LI(Gm.bind(null,v,k,o),[o]),v.flags|=2048,su(9,{destroy:void 0},Hm.bind(null,v,k,p,u),null),p},useId:function(){var o=Mi(),u=Cr.identifierPrefix;if(In){var p=js,v=Os;p=(v&~(1<<32-xn(v)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Rf++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=Lh++,u="_"+u+"r_"+p.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:c_,useFormState:Do,useActionState:Do,useOptimistic:function(o){var u=Mi();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=u_.bind(null,ln,!0,p),p.dispatch=u,[o,u]},useMemoCache:iu,useCacheRefresh:function(){return Mi().memoizedState=E$.bind(null,ln)},useEffectEvent:function(o){var u=Mi(),p={impl:o};return u.memoizedState=p,function(){if((lr&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},d_={readContext:Ji,use:od,useCallback:zI,useContext:Ji,useEffect:a_,useImperativeHandle:qI,useInsertionEffect:UI,useLayoutEffect:BI,useMemo:$I,useReducer:Bh,useRef:Pv,useState:function(){return Bh(jo)},useDebugValue:s_,useDeferredValue:function(o,u){var p=ni();return HI(p,An.memoizedState,o,u)},useTransition:function(){var o=Bh(jo)[0],u=ni().memoizedState;return[typeof o=="boolean"?o:pc(o),u]},useSyncExternalStore:qh,useId:YI,useHostTransitionStatus:c_,useFormState:yl,useActionState:yl,useOptimistic:function(o,u){var p=ni();return Cv(p,An,o,u)},useMemoCache:iu,useCacheRefresh:JI};d_.useEffectEvent=FI;var t4={readContext:Ji,use:od,useCallback:zI,useContext:Ji,useEffect:a_,useImperativeHandle:qI,useInsertionEffect:UI,useLayoutEffect:BI,useMemo:$I,useReducer:Vh,useRef:Pv,useState:function(){return Vh(jo)},useDebugValue:s_,useDeferredValue:function(o,u){var p=ni();return An===null?o_(p,o,u):HI(p,An.memoizedState,o,u)},useTransition:function(){var o=Vh(jo)[0],u=ni().memoizedState;return[typeof o=="boolean"?o:pc(o),u]},useSyncExternalStore:qh,useId:YI,useHostTransitionStatus:c_,useFormState:Hh,useActionState:Hh,useOptimistic:function(o,u){var p=ni();return An!==null?Cv(p,An,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:iu,useCacheRefresh:JI};t4.useEffectEvent=FI;function f_(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:m({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var h_={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=fo(),N=Qt(v);N.payload=u,p!=null&&(N.callback=p),u=mr(o,N,v),u!==null&&(Vs(u,o,v),Oi(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=fo(),N=Qt(v);N.tag=1,N.payload=u,p!=null&&(N.callback=p),u=mr(o,N,v),u!==null&&(Vs(u,o,v),Oi(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=fo(),v=Qt(p);v.tag=2,u!=null&&(v.callback=u),u=mr(o,v,p),u!==null&&(Vs(u,o,p),Oi(u,o,p))}};function n4(o,u,p,v,N,k,Z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,k,Z):u.prototype&&u.prototype.isPureReactComponent?!Cs(p,v)||!Cs(N,k):!0}function r4(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&h_.enqueueReplaceState(u,u.state,null)}function Of(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=m({},p));for(var N in o)p[N]===void 0&&(p[N]=o[N])}return p}function i4(o){sr(o)}function a4(o){console.error(o)}function s4(o){sr(o)}function jv(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function o4(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function p_(o,u,p){return p=Qt(p),p.tag=3,p.payload={element:null},p.callback=function(){jv(o,u)},p}function l4(o){return o=Qt(o),o.tag=3,o}function c4(o,u,p,v){var N=p.type.getDerivedStateFromError;if(typeof N=="function"){var k=v.value;o.payload=function(){return N(k)},o.callback=function(){o4(u,p,v)}}var Z=p.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(o.callback=function(){o4(u,p,v),typeof N!="function"&&(pd===null?pd=new Set([this]):pd.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function C$(o,u,p,v,N){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&uc(u,p,N,!0),p=si.current,p!==null){switch(p.tag){case 31:case 13:return Di===null?Gv():p.alternate===null&&hi===0&&(hi=3),p.flags&=-257,p.flags|=65536,p.lanes=N,v===De?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),U_(o,v,N)),!1;case 22:return p.flags|=65536,v===De?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),U_(o,v,N)),!1}throw Error(r(435,p.tag))}return U_(o,v,N),Gv(),!1}if(In)return u=si.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=N,v!==lo&&(o=Error(r(422),{cause:v}),id(Rs(o,p)))):(v!==lo&&(u=Error(r(423),{cause:v}),id(Rs(u,p))),o=o.current.alternate,o.flags|=65536,N&=-N,o.lanes|=N,v=Rs(v,p),N=p_(o.stateNode,v,N),Zr(o,N),hi!==4&&(hi=2)),!1;var k=Error(r(520),{cause:v});if(k=Rs(k,p),ig===null?ig=[k]:ig.push(k),hi!==4&&(hi=2),u===null)return!0;v=Rs(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=N&-N,p.lanes|=o,o=p_(p.stateNode,v,o),Zr(p,o),!1;case 1:if(u=p.type,k=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(pd===null||!pd.has(k))))return p.flags|=65536,N&=-N,p.lanes|=N,N=l4(N),c4(N,o,p,v),Zr(p,N),!1}p=p.return}while(p!==null);return!1}var m_=Error(r(461)),Li=!1;function Ta(o,u,p,v){u.child=o===null?Mn(u,null,p,v):Rn(u,o.child,p,v)}function u4(o,u,p,v,N){p=p.render;var k=u.ref;if("ref"in v){var Z={};for(var pe in v)pe!=="ref"&&(Z[pe]=v[pe])}else Z=v;return dc(u),v=qm(o,u,p,Z,k,N),pe=zm(),o!==null&&!Li?($m(o,u,N),ou(o,u,N)):(In&&pe&&Fm(u),u.flags|=1,Ta(o,u,v,N),u.child)}function d4(o,u,p,v,N){if(o===null){var k=p.type;return typeof k=="function"&&!Ch(k)&&k.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=k,f4(o,u,k,v,N)):(o=td(p.type,null,v,u,u.mode,N),o.ref=u.ref,o.return=u,u.child=o)}if(k=o.child,!A_(o,N)){var Z=k.memoizedProps;if(p=p.compare,p=p!==null?p:Cs,p(Z,v)&&o.ref===u.ref)return ou(o,u,N)}return u.flags|=1,o=Is(k,v),o.ref=u.ref,o.return=u,u.child=o}function f4(o,u,p,v,N){if(o!==null){var k=o.memoizedProps;if(Cs(k,v)&&o.ref===u.ref)if(Li=!1,u.pendingProps=v=k,A_(o,N))(o.flags&131072)!==0&&(Li=!0);else return u.lanes=o.lanes,ou(o,u,N)}return g_(o,u,p,v,N)}function h4(o,u,p,v){var N=v.children,k=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(k=k!==null?k.baseLanes|p:p,o!==null){for(v=u.child=o.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;v=N&~k}else v=0,u.child=null;return p4(o,u,k,p,v)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&me(u,k!==null?k.cachePool:null),k!==null?gs(u,k):Ms(),Hr(u);else return v=u.lanes=536870912,p4(o,u,k!==null?k.baseLanes|p:p,p,v)}else k!==null?(me(u,k.cachePool),gs(u,k),Po(),u.memoizedState=null):(o!==null&&me(u,null),Ms(),Po());return Ta(o,u,N,p),u.child}function Xm(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function p4(o,u,p,v,N){var k=fe();return k=k===null?null:{parent:ai._currentValue,pool:k},u.memoizedState={baseLanes:p,cachePool:k},o!==null&&me(u,null),Ms(),Hr(u),o!==null&&uc(o,u,v,!0),u.childLanes=N,null}function Dv(o,u){return u=Lv({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function m4(o,u,p){return Rn(u,o.child,null,p),o=Dv(u,u.pendingProps),o.flags|=2,Wa(u),u.memoizedState=null,o}function I$(o,u,p){var v=u.pendingProps,N=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(In){if(v.mode==="hidden")return o=Dv(u,v),u.lanes=536870912,Xm(null,o);if(ko(u),(o=Er)?(o=TR(o,Qr),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:sc!==null?{id:Os,overflow:js}:null,retryLane:536870912,hydrationErrors:null},p=Ih(o),p.return=u,u.child=p,Ki=u,Er=null)):o=null,o===null)throw oc(u);return u.lanes=536870912,null}return Dv(u,v)}var k=o.memoizedState;if(k!==null){var Z=k.dehydrated;if(ko(u),N)if(u.flags&256)u.flags&=-257,u=m4(o,u,p);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Li||uc(o,u,p,!1),N=(p&o.childLanes)!==0,Li||N){if(v=Cr,v!==null&&(Z=qr(v,p),Z!==0&&Z!==k.retryLane))throw k.retryLane=Z,hl(o,Z),Vs(v,o,Z),m_;Gv(),u=m4(o,u,p)}else o=k.treeContext,Er=Mo(Z.nextSibling),Ki=u,In=!0,Ea=null,Qr=!1,o!==null&&Nv(u,o),u=Dv(u,v),u.flags|=4096;return u}return o=Is(o.child,{mode:v.mode,children:v.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Mv(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function g_(o,u,p,v,N){return dc(u),p=qm(o,u,p,v,void 0,N),v=zm(),o!==null&&!Li?($m(o,u,N),ou(o,u,N)):(In&&v&&Fm(u),u.flags|=1,Ta(o,u,p,N),u.child)}function g4(o,u,p,v,N,k){return dc(u),u.updateQueue=null,p=gl(u,v,p,N),Fh(o),v=zm(),o!==null&&!Li?($m(o,u,k),ou(o,u,k)):(In&&v&&Fm(u),u.flags|=1,Ta(o,u,p,k),u.child)}function v4(o,u,p,v,N){if(dc(u),u.stateNode===null){var k=Wi,Z=p.contextType;typeof Z=="object"&&Z!==null&&(k=Ji(Z)),k=new p(v,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=h_,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=v,k.state=u.memoizedState,k.refs={},or(u),Z=p.contextType,k.context=typeof Z=="object"&&Z!==null?Ji(Z):Wi,k.state=u.memoizedState,Z=p.getDerivedStateFromProps,typeof Z=="function"&&(f_(u,p,Z,v),k.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(Z=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),Z!==k.state&&h_.enqueueReplaceState(k,k.state,null),Xi(u,v,k,N),$n(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){k=u.stateNode;var pe=u.memoizedProps,Te=Of(p,pe);k.props=Te;var Ge=k.context,at=p.contextType;Z=Wi,typeof at=="object"&&at!==null&&(Z=Ji(at));var ft=p.getDerivedStateFromProps;at=typeof ft=="function"||typeof k.getSnapshotBeforeUpdate=="function",pe=u.pendingProps!==pe,at||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(pe||Ge!==Z)&&r4(u,k,v,Z),un=!1;var Ye=u.memoizedState;k.state=Ye,Xi(u,v,k,N),$n(),Ge=u.memoizedState,pe||Ye!==Ge||un?(typeof ft=="function"&&(f_(u,p,ft,v),Ge=u.memoizedState),(Te=un||n4(u,p,Te,v,Ye,Ge,Z))?(at||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Ge),k.props=v,k.state=Ge,k.context=Z,v=Te):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{k=u.stateNode,er(o,u),Z=u.memoizedProps,at=Of(p,Z),k.props=at,ft=u.pendingProps,Ye=k.context,Ge=p.contextType,Te=Wi,typeof Ge=="object"&&Ge!==null&&(Te=Ji(Ge)),pe=p.getDerivedStateFromProps,(Ge=typeof pe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Z!==ft||Ye!==Te)&&r4(u,k,v,Te),un=!1,Ye=u.memoizedState,k.state=Ye,Xi(u,v,k,N),$n();var Qe=u.memoizedState;Z!==ft||Ye!==Qe||un||o!==null&&o.dependencies!==null&&jh(o.dependencies)?(typeof pe=="function"&&(f_(u,p,pe,v),Qe=u.memoizedState),(at=un||n4(u,p,at,v,Ye,Qe,Te)||o!==null&&o.dependencies!==null&&jh(o.dependencies))?(Ge||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,Qe,Te),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,Qe,Te)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||Z===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Qe),k.props=v,k.state=Qe,k.context=Te,v=at):(typeof k.componentDidUpdate!="function"||Z===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&Ye===o.memoizedState||(u.flags|=1024),v=!1)}return k=v,Mv(o,u),v=(u.flags&128)!==0,k||v?(k=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,o!==null&&v?(u.child=Rn(u,o.child,null,N),u.child=Rn(u,null,p,N)):Ta(o,u,p,N),u.memoizedState=k.state,o=u.child):o=ou(o,u,N),o}function y4(o,u,p,v){return eu(),u.flags|=256,Ta(o,u,p,v),u.child}var v_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function y_(o){return{baseLanes:o,cachePool:xe()}}function x_(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=uo),o}function x4(o,u,p){var v=u.pendingProps,N=!1,k=(u.flags&128)!==0,Z;if((Z=k)||(Z=o!==null&&o.memoizedState===null?!1:(ti.current&2)!==0),Z&&(N=!0,u.flags&=-129),Z=(u.flags&32)!==0,u.flags&=-33,o===null){if(In){if(N?vs(u):Po(),(o=Er)?(o=TR(o,Qr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:sc!==null?{id:Os,overflow:js}:null,retryLane:536870912,hydrationErrors:null},p=Ih(o),p.return=u,u.child=p,Ki=u,Er=null)):o=null,o===null)throw oc(u);return t2(o)?u.lanes=32:u.lanes=536870912,null}var pe=v.children;return v=v.fallback,N?(Po(),N=u.mode,pe=Lv({mode:"hidden",children:pe},N),v=ac(v,N,p,null),pe.return=u,v.return=u,pe.sibling=v,u.child=pe,v=u.child,v.memoizedState=y_(p),v.childLanes=x_(o,Z,p),u.memoizedState=v_,Xm(null,v)):(vs(u),b_(u,pe))}var Te=o.memoizedState;if(Te!==null&&(pe=Te.dehydrated,pe!==null)){if(k)u.flags&256?(vs(u),u.flags&=-257,u=__(o,u,p)):u.memoizedState!==null?(Po(),u.child=o.child,u.flags|=128,u=null):(Po(),pe=v.fallback,N=u.mode,v=Lv({mode:"visible",children:v.children},N),pe=ac(pe,N,p,null),pe.flags|=2,v.return=u,pe.return=u,v.sibling=pe,u.child=v,Rn(u,o.child,null,p),v=u.child,v.memoizedState=y_(p),v.childLanes=x_(o,Z,p),u.memoizedState=v_,u=Xm(null,v));else if(vs(u),t2(pe)){if(Z=pe.nextSibling&&pe.nextSibling.dataset,Z)var Ge=Z.dgst;Z=Ge,v=Error(r(419)),v.stack="",v.digest=Z,id({value:v,source:null,stack:null}),u=__(o,u,p)}else if(Li||uc(o,u,p,!1),Z=(p&o.childLanes)!==0,Li||Z){if(Z=Cr,Z!==null&&(v=qr(Z,p),v!==0&&v!==Te.retryLane))throw Te.retryLane=v,hl(o,v),Vs(Z,o,v),m_;e2(pe)||Gv(),u=__(o,u,p)}else e2(pe)?(u.flags|=192,u.child=o.child,u=null):(o=Te.treeContext,Er=Mo(pe.nextSibling),Ki=u,In=!0,Ea=null,Qr=!1,o!==null&&Nv(u,o),u=b_(u,v.children),u.flags|=4096);return u}return N?(Po(),pe=v.fallback,N=u.mode,Te=o.child,Ge=Te.sibling,v=Is(Te,{mode:"hidden",children:v.children}),v.subtreeFlags=Te.subtreeFlags&65011712,Ge!==null?pe=Is(Ge,pe):(pe=ac(pe,N,p,null),pe.flags|=2),pe.return=u,v.return=u,v.sibling=pe,u.child=v,Xm(null,v),v=u.child,pe=o.child.memoizedState,pe===null?pe=y_(p):(N=pe.cachePool,N!==null?(Te=ai._currentValue,N=N.parent!==Te?{parent:Te,pool:Te}:N):N=xe(),pe={baseLanes:pe.baseLanes|p,cachePool:N}),v.memoizedState=pe,v.childLanes=x_(o,Z,p),u.memoizedState=v_,Xm(o.child,v)):(vs(u),p=o.child,o=p.sibling,p=Is(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(Z=u.deletions,Z===null?(u.deletions=[o],u.flags|=16):Z.push(o)),u.child=p,u.memoizedState=null,p)}function b_(o,u){return u=Lv({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Lv(o,u){return o=da(22,o,null,u),o.lanes=0,o}function __(o,u,p){return Rn(u,o.child,null,p),o=b_(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function b4(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),ad(o.return,u,p)}function w_(o,u,p,v,N,k){var Z=o.memoizedState;Z===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:N,treeForkCount:k}:(Z.isBackwards=u,Z.rendering=null,Z.renderingStartTime=0,Z.last=v,Z.tail=p,Z.tailMode=N,Z.treeForkCount=k)}function _4(o,u,p){var v=u.pendingProps,N=v.revealOrder,k=v.tail;v=v.children;var Z=ti.current,pe=(Z&2)!==0;if(pe?(Z=Z&1|2,u.flags|=128):Z&=1,Y(ti,Z),Ta(o,u,v,p),v=In?Tf:0,!pe&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&b4(o,p,u);else if(o.tag===19)b4(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(N){case"forwards":for(p=u.child,N=null;p!==null;)o=p.alternate,o!==null&&nu(o)===null&&(N=p),p=p.sibling;p=N,p===null?(N=u.child,u.child=null):(N=p.sibling,p.sibling=null),w_(u,!1,N,p,k,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,N=u.child,u.child=null;N!==null;){if(o=N.alternate,o!==null&&nu(o)===null){u.child=N;break}o=N.sibling,N.sibling=p,p=N,N=o}w_(u,!0,p,null,k,v);break;case"together":w_(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function ou(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),hd|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(uc(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Is(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Is(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function A_(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&jh(o)))}function R$(o,u,p){switch(u.tag){case 3:be(u,u.stateNode.containerInfo),cc(u,ai,o.memoizedState.cache),eu();break;case 27:case 5:Se(u);break;case 4:be(u,u.stateNode.containerInfo);break;case 10:cc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,ko(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(vs(u),u.flags|=128,null):(p&u.child.childLanes)!==0?x4(o,u,p):(vs(u),o=ou(o,u,p),o!==null?o.sibling:null);vs(u);break;case 19:var N=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(uc(o,u,p,!1),v=(p&u.childLanes)!==0),N){if(v)return _4(o,u,p);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Y(ti,ti.current),v)break;return null;case 22:return u.lanes=0,h4(o,u,p,u.pendingProps);case 24:cc(u,ai,o.memoizedState.cache)}return ou(o,u,p)}function w4(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Li=!0;else{if(!A_(o,p)&&(u.flags&128)===0)return Li=!1,R$(o,u,p);Li=(o.flags&131072)!==0}else Li=!1,In&&(u.flags&1048576)!==0&&Sv(u,Tf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(o=Re(u.elementType),u.type=o,typeof o=="function")Ch(o)?(v=Of(o,v),u.tag=1,u=v4(null,u,o,v,p)):(u.tag=0,u=g_(null,u,o,v,p));else{if(o!=null){var N=o.$$typeof;if(N===B){u.tag=11,u=u4(null,u,o,v,p);break e}else if(N===O){u.tag=14,u=d4(null,u,o,v,p);break e}}throw u=G(o)||o,Error(r(306,u,""))}}return u;case 0:return g_(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,N=Of(v,u.pendingProps),v4(o,u,v,N,p);case 3:e:{if(be(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var k=u.memoizedState;N=k.element,er(o,u),Xi(u,v,null,p);var Z=u.memoizedState;if(v=Z.cache,cc(u,ai,v),v!==k.cache&&tu(u,[ai],p,!0),$n(),v=Z.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:Z.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=y4(o,u,v,p);break e}else if(v!==N){N=Rs(Error(r(424)),u),id(N),u=y4(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Er=Mo(o.firstChild),Ki=u,In=!0,Ea=null,Qr=!0,p=Mn(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(eu(),v===N){u=ou(o,u,p);break e}Ta(o,u,v,p)}u=u.child}return u;case 26:return Mv(o,u),o===null?(p=OR(u.type,null,u.pendingProps,null))?u.memoizedState=p:In||(p=u.type,o=u.pendingProps,v=Zv(Q.current).createElement(p),v[Ht]=u,v[zt]=o,Ca(v,p,o),zr(v),u.stateNode=v):u.memoizedState=OR(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Se(u),o===null&&In&&(v=u.stateNode=RR(u.type,u.pendingProps,Q.current),Ki=u,Qr=!0,N=Er,yd(u.type)?(n2=N,Er=Mo(v.firstChild)):Er=N),Ta(o,u,u.pendingProps.children,p),Mv(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&In&&((N=v=Er)&&(v=sH(v,u.type,u.pendingProps,Qr),v!==null?(u.stateNode=v,Ki=u,Er=Mo(v.firstChild),Qr=!1,N=!0):N=!1),N||oc(u)),Se(u),N=u.type,k=u.pendingProps,Z=o!==null?o.memoizedProps:null,v=k.children,X_(N,k)?v=null:Z!==null&&X_(N,Z)&&(u.flags|=32),u.memoizedState!==null&&(N=qm(o,u,i_,null,null,p),fg._currentValue=N),Mv(o,u),Ta(o,u,v,p),u.child;case 6:return o===null&&In&&((o=p=Er)&&(p=oH(p,u.pendingProps,Qr),p!==null?(u.stateNode=p,Ki=u,Er=null,o=!0):o=!1),o||oc(u)),null;case 13:return x4(o,u,p);case 4:return be(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Rn(u,null,v,p):Ta(o,u,v,p),u.child;case 11:return u4(o,u,u.type,u.pendingProps,p);case 7:return Ta(o,u,u.pendingProps,p),u.child;case 8:return Ta(o,u,u.pendingProps.children,p),u.child;case 12:return Ta(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,cc(u,u.type,v.value),Ta(o,u,v.children,p),u.child;case 9:return N=u.type._context,v=u.pendingProps.children,dc(u),N=Ji(N),v=v(N),u.flags|=1,Ta(o,u,v,p),u.child;case 14:return d4(o,u,u.type,u.pendingProps,p);case 15:return f4(o,u,u.type,u.pendingProps,p);case 19:return _4(o,u,p);case 31:return I$(o,u,p);case 22:return h4(o,u,p,u.pendingProps);case 24:return dc(u),v=Ji(ai),o===null?(N=fe(),N===null&&(N=Cr,k=sd(),N.pooledCache=k,k.refCount++,k!==null&&(N.pooledCacheLanes|=p),N=k),u.memoizedState={parent:v,cache:N},or(u),cc(u,ai,N)):((o.lanes&p)!==0&&(er(o,u),Xi(u,null,null,p),$n()),N=o.memoizedState,k=u.memoizedState,N.parent!==v?(N={parent:v,cache:v},u.memoizedState=N,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=N),cc(u,ai,v)):(v=k.cache,cc(u,ai,v),v!==N.cache&&tu(u,[ai],p,!0))),Ta(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function lu(o){o.flags|=4}function S_(o,u,p,v,N){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(N&335544128)===N)if(o.stateNode.complete)o.flags|=8192;else if(Y4())o.flags|=8192;else throw Pe=De,qe}else o.flags&=-16777217}function A4(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!FR(u))if(Y4())o.flags|=8192;else throw Pe=De,qe}function Fv(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Or():536870912,o.lanes|=u,Yh|=u)}function Qm(o,u){if(!In)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Gr(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var N=o.child;N!==null;)p|=N.lanes|N.childLanes,v|=N.subtreeFlags&65011712,v|=N.flags&65011712,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)p|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function k$(o,u,p){var v=u.pendingProps;switch(Ph(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(u),null;case 1:return Gr(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Ds(ai),ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Yi(u)?lu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Bm())),Gr(u),null;case 26:var N=u.type,k=u.memoizedState;return o===null?(lu(u),k!==null?(Gr(u),A4(u,k)):(Gr(u),S_(u,N,null,v,p))):k?k!==o.memoizedState?(lu(u),Gr(u),A4(u,k)):(Gr(u),u.flags&=-16777217):(o=o.memoizedProps,o!==v&&lu(u),Gr(u),S_(u,N,o,v,p)),null;case 27:if(Ee(u),p=Q.current,N=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&lu(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Gr(u),null}o=ee.current,Yi(u)?Um(u):(o=RR(N,v,p),u.stateNode=o,lu(u))}return Gr(u),null;case 5:if(Ee(u),N=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&lu(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Gr(u),null}if(k=ee.current,Yi(u))Um(u);else{var Z=Zv(Q.current);switch(k){case 1:k=Z.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:k=Z.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":k=Z.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":k=Z.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":k=Z.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?Z.createElement("select",{is:v.is}):Z.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?Z.createElement(N,{is:v.is}):Z.createElement(N)}}k[Ht]=u,k[zt]=v;e:for(Z=u.child;Z!==null;){if(Z.tag===5||Z.tag===6)k.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===u)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===u)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}u.stateNode=k;e:switch(Ca(k,N,v),N){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&lu(u)}}return Gr(u),S_(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,p),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&lu(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=Q.current,Yi(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,N=Ki,N!==null)switch(N.tag){case 27:case 5:v=N.memoizedProps}o[Ht]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||xR(o.nodeValue,p)),o||oc(u,!0)}else o=Zv(o).createTextNode(v),o[Ht]=u,u.stateNode=o}return Gr(u),null;case 31:if(p=u.memoizedState,o===null||o.memoizedState!==null){if(v=Yi(u),p!==null){if(o===null){if(!v)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Ht]=u}else eu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gr(u),o=!1}else p=Bm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return u.flags&256?(Wa(u),u):(Wa(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Gr(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(N=Yi(u),v!==null&&v.dehydrated!==null){if(o===null){if(!N)throw Error(r(318));if(N=u.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Ht]=u}else eu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gr(u),N=!1}else N=Bm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=N),N=!0;if(!N)return u.flags&256?(Wa(u),u):(Wa(u),null)}return Wa(u),(u.flags&128)!==0?(u.lanes=p,u):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=u.child,N=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(N=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==N&&(v.flags|=2048)),p!==o&&p&&(u.child.flags|=8192),Fv(u,u.updateQueue),Gr(u),null);case 4:return ae(),o===null&&G_(u.stateNode.containerInfo),Gr(u),null;case 10:return Ds(u.type),Gr(u),null;case 19:if(L(ti),v=u.memoizedState,v===null)return Gr(u),null;if(N=(u.flags&128)!==0,k=v.rendering,k===null)if(N)Qm(v,!1);else{if(hi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(k=nu(o),k!==null){for(u.flags|=128,Qm(v,!1),o=k.updateQueue,u.updateQueue=o,Fv(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)Nf(p,o),p=p.sibling;return Y(ti,ti.current&1|2),In&&ms(u,v.treeForkCount),u.child}o=o.sibling}v.tail!==null&&We()>zv&&(u.flags|=128,N=!0,Qm(v,!1),u.lanes=4194304)}else{if(!N)if(o=nu(k),o!==null){if(u.flags|=128,N=!0,o=o.updateQueue,u.updateQueue=o,Fv(u,o),Qm(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!In)return Gr(u),null}else 2*We()-v.renderingStartTime>zv&&p!==536870912&&(u.flags|=128,N=!0,Qm(v,!1),u.lanes=4194304);v.isBackwards?(k.sibling=u.child,u.child=k):(o=v.last,o!==null?o.sibling=k:u.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=We(),o.sibling=null,p=ti.current,Y(ti,N?p&1|2:p&1),In&&ms(u,v.treeForkCount),o):(Gr(u),null);case 22:case 23:return Wa(u),fi(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Gr(u),u.subtreeFlags&6&&(u.flags|=8192)):Gr(u),p=u.updateQueue,p!==null&&Fv(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&L(ue),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Ds(ai),Gr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function P$(o,u){switch(Ph(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ds(ai),ae(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ee(u),null;case 31:if(u.memoizedState!==null){if(Wa(u),u.alternate===null)throw Error(r(340));eu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Wa(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));eu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return L(ti),null;case 4:return ae(),null;case 10:return Ds(u.type),null;case 22:case 23:return Wa(u),fi(),o!==null&&L(ue),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Ds(ai),null;case 25:return null;default:return null}}function S4(o,u){switch(Ph(u),u.tag){case 3:Ds(ai),ae();break;case 26:case 27:case 5:Ee(u);break;case 4:ae();break;case 31:u.memoizedState!==null&&Wa(u);break;case 13:Wa(u);break;case 19:L(ti);break;case 10:Ds(u.type);break;case 22:case 23:Wa(u),fi(),o!==null&&L(ue);break;case 24:Ds(ai)}}function Zm(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&o)===o){v=void 0;var k=p.create,Z=p.inst;v=k(),Z.destroy=v}p=p.next}while(p!==N)}}catch(pe){vr(u,u.return,pe)}}function dd(o,u,p){try{var v=u.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var k=N.next;v=k;do{if((v.tag&o)===o){var Z=v.inst,pe=Z.destroy;if(pe!==void 0){Z.destroy=void 0,N=u;var Te=p,Ge=pe;try{Ge()}catch(at){vr(N,Te,at)}}}v=v.next}while(v!==k)}}catch(at){vr(u,u.return,at)}}function N4(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{_i(u,p)}catch(v){vr(o,o.return,v)}}}function E4(o,u,p){p.props=Of(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){vr(o,u,v)}}function eg(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(N){vr(o,u,N)}}function gc(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(N){vr(o,u,N)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(N){vr(o,u,N)}else p.current=null}function T4(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(N){vr(o,o.return,N)}}function N_(o,u,p){try{var v=o.stateNode;eH(v,o.type,p,u),v[zt]=u}catch(N){vr(o,o.return,N)}}function C4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&yd(o.type)||o.tag===4}function E_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||C4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&yd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function T_(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=zn));else if(v!==4&&(v===27&&yd(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(T_(o,u,p),o=o.sibling;o!==null;)T_(o,u,p),o=o.sibling}function Uv(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&yd(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Uv(o,u,p),o=o.sibling;o!==null;)Uv(o,u,p),o=o.sibling}function I4(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,N=u.attributes;N.length;)u.removeAttributeNode(N[0]);Ca(u,v,p),u[Ht]=o,u[zt]=p}catch(k){vr(o,o.return,k)}}var cu=!1,Fi=!1,C_=!1,R4=typeof WeakSet=="function"?WeakSet:Set,ha=null;function O$(o,u){if(o=o.containerInfo,Y_=sy,o=cl(o),ro(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var N=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var Z=0,pe=-1,Te=-1,Ge=0,at=0,ft=o,Ye=null;t:for(;;){for(var Qe;ft!==p||N!==0&&ft.nodeType!==3||(pe=Z+N),ft!==k||v!==0&&ft.nodeType!==3||(Te=Z+v),ft.nodeType===3&&(Z+=ft.nodeValue.length),(Qe=ft.firstChild)!==null;)Ye=ft,ft=Qe;for(;;){if(ft===o)break t;if(Ye===p&&++Ge===N&&(pe=Z),Ye===k&&++at===v&&(Te=Z),(Qe=ft.nextSibling)!==null)break;ft=Ye,Ye=ft.parentNode}ft=Qe}p=pe===-1||Te===-1?null:{start:pe,end:Te}}else p=null}p=p||{start:0,end:0}}else p=null;for(J_={focusedElem:o,selectionRange:p},sy=!1,ha=u;ha!==null;)if(u=ha,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,ha=o;else for(;ha!==null;){switch(u=ha,k=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)N=o[p],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,p=u,N=k.memoizedProps,k=k.memoizedState,v=p.stateNode;try{var Ft=Of(p.type,N);o=v.getSnapshotBeforeUpdate(Ft,k),v.__reactInternalSnapshotBeforeUpdate=o}catch(Zt){vr(p,p.return,Zt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)Z_(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Z_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,ha=o;break}ha=u.return}}function k4(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:du(o,p),v&4&&Zm(5,p);break;case 1:if(du(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(Z){vr(p,p.return,Z)}else{var N=Of(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(N,u,o.__reactInternalSnapshotBeforeUpdate)}catch(Z){vr(p,p.return,Z)}}v&64&&N4(p),v&512&&eg(p,p.return);break;case 3:if(du(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{_i(o,u)}catch(Z){vr(p,p.return,Z)}}break;case 27:u===null&&v&4&&I4(p);case 26:case 5:du(o,p),u===null&&v&4&&T4(p),v&512&&eg(p,p.return);break;case 12:du(o,p);break;case 31:du(o,p),v&4&&j4(o,p);break;case 13:du(o,p),v&4&&D4(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=q$.bind(null,p),lH(o,p))));break;case 22:if(v=p.memoizedState!==null||cu,!v){u=u!==null&&u.memoizedState!==null||Fi,N=cu;var k=Fi;cu=v,(Fi=u)&&!k?fu(o,p,(p.subtreeFlags&8772)!==0):du(o,p),cu=N,Fi=k}break;case 30:break;default:du(o,p)}}function P4(o){var u=o.alternate;u!==null&&(o.alternate=null,P4(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&jn(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ri=null,Ls=!1;function uu(o,u,p){for(p=p.child;p!==null;)O4(o,u,p),p=p.sibling}function O4(o,u,p){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(en,p)}catch{}switch(p.tag){case 26:Fi||gc(p,u),uu(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Fi||gc(p,u);var v=ri,N=Ls;yd(p.type)&&(ri=p.stateNode,Ls=!1),uu(o,u,p),cg(p.stateNode),ri=v,Ls=N;break;case 5:Fi||gc(p,u);case 6:if(v=ri,N=Ls,ri=null,uu(o,u,p),ri=v,Ls=N,ri!==null)if(Ls)try{(ri.nodeType===9?ri.body:ri.nodeName==="HTML"?ri.ownerDocument.body:ri).removeChild(p.stateNode)}catch(k){vr(p,u,k)}else try{ri.removeChild(p.stateNode)}catch(k){vr(p,u,k)}break;case 18:ri!==null&&(Ls?(o=ri,NR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),rp(o)):NR(ri,p.stateNode));break;case 4:v=ri,N=Ls,ri=p.stateNode.containerInfo,Ls=!0,uu(o,u,p),ri=v,Ls=N;break;case 0:case 11:case 14:case 15:dd(2,p,u),Fi||dd(4,p,u),uu(o,u,p);break;case 1:Fi||(gc(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&E4(p,u,v)),uu(o,u,p);break;case 21:uu(o,u,p);break;case 22:Fi=(v=Fi)||p.memoizedState!==null,uu(o,u,p),Fi=v;break;default:uu(o,u,p)}}function j4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{rp(o)}catch(p){vr(u,u.return,p)}}}function D4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{rp(o)}catch(p){vr(u,u.return,p)}}function j$(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new R4),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new R4),u;default:throw Error(r(435,o.tag))}}function Bv(o,u){var p=j$(o);u.forEach(function(v){if(!p.has(v)){p.add(v);var N=z$.bind(null,o,v);v.then(N,N)}})}function Fs(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var N=p[v],k=o,Z=u,pe=Z;e:for(;pe!==null;){switch(pe.tag){case 27:if(yd(pe.type)){ri=pe.stateNode,Ls=!1;break e}break;case 5:ri=pe.stateNode,Ls=!1;break e;case 3:case 4:ri=pe.stateNode.containerInfo,Ls=!0;break e}pe=pe.return}if(ri===null)throw Error(r(160));O4(k,Z,N),ri=null,Ls=!1,k=N.alternate,k!==null&&(k.return=null),N.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)M4(u,o),u=u.sibling}var bl=null;function M4(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Fs(u,o),Us(o),v&4&&(dd(3,o,o.return),Zm(3,o),dd(5,o,o.return));break;case 1:Fs(u,o),Us(o),v&512&&(Fi||p===null||gc(p,p.return)),v&64&&cu&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var N=bl;if(Fs(u,o),Us(o),v&512&&(Fi||p===null||gc(p,p.return)),v&4){var k=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,N=N.ownerDocument||N;t:switch(v){case"title":k=N.getElementsByTagName("title")[0],(!k||k[Mr]||k[Ht]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=N.createElement(v),N.head.insertBefore(k,N.querySelector("head > title"))),Ca(k,v,p),k[Ht]=o,zr(k),v=k;break e;case"link":var Z=MR("link","href",N).get(v+(p.href||""));if(Z){for(var pe=0;pe<Z.length;pe++)if(k=Z[pe],k.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&k.getAttribute("rel")===(p.rel==null?null:p.rel)&&k.getAttribute("title")===(p.title==null?null:p.title)&&k.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){Z.splice(pe,1);break t}}k=N.createElement(v),Ca(k,v,p),N.head.appendChild(k);break;case"meta":if(Z=MR("meta","content",N).get(v+(p.content||""))){for(pe=0;pe<Z.length;pe++)if(k=Z[pe],k.getAttribute("content")===(p.content==null?null:""+p.content)&&k.getAttribute("name")===(p.name==null?null:p.name)&&k.getAttribute("property")===(p.property==null?null:p.property)&&k.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&k.getAttribute("charset")===(p.charSet==null?null:p.charSet)){Z.splice(pe,1);break t}}k=N.createElement(v),Ca(k,v,p),N.head.appendChild(k);break;default:throw Error(r(468,v))}k[Ht]=o,zr(k),v=k}o.stateNode=v}else LR(N,o.type,o.stateNode);else o.stateNode=DR(N,v,o.memoizedProps);else k!==v?(k===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):k.count--,v===null?LR(N,o.type,o.stateNode):DR(N,v,o.memoizedProps)):v===null&&o.stateNode!==null&&N_(o,o.memoizedProps,p.memoizedProps)}break;case 27:Fs(u,o),Us(o),v&512&&(Fi||p===null||gc(p,p.return)),p!==null&&v&4&&N_(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Fs(u,o),Us(o),v&512&&(Fi||p===null||gc(p,p.return)),o.flags&32){N=o.stateNode;try{ia(N,"")}catch(Ft){vr(o,o.return,Ft)}}v&4&&o.stateNode!=null&&(N=o.memoizedProps,N_(o,N,p!==null?p.memoizedProps:N)),v&1024&&(C_=!0);break;case 6:if(Fs(u,o),Us(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(Ft){vr(o,o.return,Ft)}}break;case 3:if(ny=null,N=bl,bl=ey(u.containerInfo),Fs(u,o),bl=N,Us(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{rp(u.containerInfo)}catch(Ft){vr(o,o.return,Ft)}C_&&(C_=!1,L4(o));break;case 4:v=bl,bl=ey(o.stateNode.containerInfo),Fs(u,o),Us(o),bl=v;break;case 12:Fs(u,o),Us(o);break;case 31:Fs(u,o),Us(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Bv(o,v)));break;case 13:Fs(u,o),Us(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(qv=We()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Bv(o,v)));break;case 22:N=o.memoizedState!==null;var Te=p!==null&&p.memoizedState!==null,Ge=cu,at=Fi;if(cu=Ge||N,Fi=at||Te,Fs(u,o),Fi=at,cu=Ge,Us(o),v&8192)e:for(u=o.stateNode,u._visibility=N?u._visibility&-2:u._visibility|1,N&&(p===null||Te||cu||Fi||jf(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){Te=p=u;try{if(k=Te.stateNode,N)Z=k.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{pe=Te.stateNode;var ft=Te.memoizedProps.style,Ye=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;pe.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(Ft){vr(Te,Te.return,Ft)}}}else if(u.tag===6){if(p===null){Te=u;try{Te.stateNode.nodeValue=N?"":Te.memoizedProps}catch(Ft){vr(Te,Te.return,Ft)}}}else if(u.tag===18){if(p===null){Te=u;try{var Qe=Te.stateNode;N?ER(Qe,!0):ER(Te.stateNode,!1)}catch(Ft){vr(Te,Te.return,Ft)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Bv(o,p))));break;case 19:Fs(u,o),Us(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Bv(o,v)));break;case 30:break;case 21:break;default:Fs(u,o),Us(o)}}function Us(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(C4(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var N=p.stateNode,k=E_(o);Uv(o,k,N);break;case 5:var Z=p.stateNode;p.flags&32&&(ia(Z,""),p.flags&=-33);var pe=E_(o);Uv(o,pe,Z);break;case 3:case 4:var Te=p.stateNode.containerInfo,Ge=E_(o);T_(o,Ge,Te);break;default:throw Error(r(161))}}catch(at){vr(o,o.return,at)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function L4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;L4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function du(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)k4(o,u.alternate,u),u=u.sibling}function jf(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:dd(4,u,u.return),jf(u);break;case 1:gc(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&E4(u,u.return,p),jf(u);break;case 27:cg(u.stateNode);case 26:case 5:gc(u,u.return),jf(u);break;case 22:u.memoizedState===null&&jf(u);break;case 30:jf(u);break;default:jf(u)}o=o.sibling}}function fu(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,N=o,k=u,Z=k.flags;switch(k.tag){case 0:case 11:case 15:fu(N,k,p),Zm(4,k);break;case 1:if(fu(N,k,p),v=k,N=v.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Ge){vr(v,v.return,Ge)}if(v=k,N=v.updateQueue,N!==null){var pe=v.stateNode;try{var Te=N.shared.hiddenCallbacks;if(Te!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Te.length;N++)Ga(Te[N],pe)}catch(Ge){vr(v,v.return,Ge)}}p&&Z&64&&N4(k),eg(k,k.return);break;case 27:I4(k);case 26:case 5:fu(N,k,p),p&&v===null&&Z&4&&T4(k),eg(k,k.return);break;case 12:fu(N,k,p);break;case 31:fu(N,k,p),p&&Z&4&&j4(N,k);break;case 13:fu(N,k,p),p&&Z&4&&D4(N,k);break;case 22:k.memoizedState===null&&fu(N,k,p),eg(k,k.return);break;case 30:break;default:fu(N,k,p)}u=u.sibling}}function I_(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Cf(p))}function R_(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Cf(o))}function _l(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)F4(o,u,p,v),u=u.sibling}function F4(o,u,p,v){var N=u.flags;switch(u.tag){case 0:case 11:case 15:_l(o,u,p,v),N&2048&&Zm(9,u);break;case 1:_l(o,u,p,v);break;case 3:_l(o,u,p,v),N&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Cf(o)));break;case 12:if(N&2048){_l(o,u,p,v),o=u.stateNode;try{var k=u.memoizedProps,Z=k.id,pe=k.onPostCommit;typeof pe=="function"&&pe(Z,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Te){vr(u,u.return,Te)}}else _l(o,u,p,v);break;case 31:_l(o,u,p,v);break;case 13:_l(o,u,p,v);break;case 23:break;case 22:k=u.stateNode,Z=u.alternate,u.memoizedState!==null?k._visibility&2?_l(o,u,p,v):tg(o,u):k._visibility&2?_l(o,u,p,v):(k._visibility|=2,Gh(o,u,p,v,(u.subtreeFlags&10256)!==0||!1)),N&2048&&I_(Z,u);break;case 24:_l(o,u,p,v),N&2048&&R_(u.alternate,u);break;default:_l(o,u,p,v)}}function Gh(o,u,p,v,N){for(N=N&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var k=o,Z=u,pe=p,Te=v,Ge=Z.flags;switch(Z.tag){case 0:case 11:case 15:Gh(k,Z,pe,Te,N),Zm(8,Z);break;case 23:break;case 22:var at=Z.stateNode;Z.memoizedState!==null?at._visibility&2?Gh(k,Z,pe,Te,N):tg(k,Z):(at._visibility|=2,Gh(k,Z,pe,Te,N)),N&&Ge&2048&&I_(Z.alternate,Z);break;case 24:Gh(k,Z,pe,Te,N),N&&Ge&2048&&R_(Z.alternate,Z);break;default:Gh(k,Z,pe,Te,N)}u=u.sibling}}function tg(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,N=v.flags;switch(v.tag){case 22:tg(p,v),N&2048&&I_(v.alternate,v);break;case 24:tg(p,v),N&2048&&R_(v.alternate,v);break;default:tg(p,v)}u=u.sibling}}var ng=8192;function Wh(o,u,p){if(o.subtreeFlags&ng)for(o=o.child;o!==null;)U4(o,u,p),o=o.sibling}function U4(o,u,p){switch(o.tag){case 26:Wh(o,u,p),o.flags&ng&&o.memoizedState!==null&&bH(p,bl,o.memoizedState,o.memoizedProps);break;case 5:Wh(o,u,p);break;case 3:case 4:var v=bl;bl=ey(o.stateNode.containerInfo),Wh(o,u,p),bl=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=ng,ng=16777216,Wh(o,u,p),ng=v):Wh(o,u,p));break;default:Wh(o,u,p)}}function B4(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function rg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];ha=v,q4(v,o)}B4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)V4(o),o=o.sibling}function V4(o){switch(o.tag){case 0:case 11:case 15:rg(o),o.flags&2048&&dd(9,o,o.return);break;case 3:rg(o);break;case 12:rg(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Vv(o)):rg(o);break;default:rg(o)}}function Vv(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];ha=v,q4(v,o)}B4(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:dd(8,u,u.return),Vv(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Vv(u));break;default:Vv(u)}o=o.sibling}}function q4(o,u){for(;ha!==null;){var p=ha;switch(p.tag){case 0:case 11:case 15:dd(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Cf(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,ha=v;else e:for(p=o;ha!==null;){v=ha;var N=v.sibling,k=v.return;if(P4(v),v===p){ha=null;break e}if(N!==null){N.return=k,ha=N;break e}ha=k}}}var D$={getCacheForType:function(o){var u=Ji(ai),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p},cacheSignal:function(){return Ji(ai).controller.signal}},M$=typeof WeakMap=="function"?WeakMap:Map,lr=0,Cr=null,kn=null,Ln=0,gr=0,co=null,fd=!1,Kh=!1,k_=!1,hu=0,hi=0,hd=0,Df=0,P_=0,uo=0,Yh=0,ig=null,Bs=null,O_=!1,qv=0,z4=0,zv=1/0,$v=null,pd=null,Qi=0,md=null,Jh=null,pu=0,j_=0,D_=null,$4=null,ag=0,M_=null;function fo(){return(lr&2)!==0&&Ln!==0?Ln&-Ln:W.T!==null?q_():Xe()}function H4(){if(uo===0)if((Ln&536870912)===0||In){var o=Pr;Pr<<=1,(Pr&3932160)===0&&(Pr=262144),uo=o}else uo=536870912;return o=si.current,o!==null&&(o.flags|=32),uo}function Vs(o,u,p){(o===Cr&&(gr===2||gr===9)||o.cancelPendingCommit!==null)&&(Xh(o,0),gd(o,Ln,uo,!1)),bi(o,p),((lr&2)===0||o!==Cr)&&(o===Cr&&((lr&2)===0&&(Df|=p),hi===4&&gd(o,Ln,uo,!1)),vc(o))}function G4(o,u,p){if((lr&6)!==0)throw Error(r(327));var v=!p&&(u&127)===0&&(u&o.expiredLanes)===0||bn(o,u),N=v?U$(o,u):F_(o,u,!0),k=v;do{if(N===0){Kh&&!v&&gd(o,u,0,!1);break}else{if(p=o.current.alternate,k&&!L$(p)){N=F_(o,u,!1),k=!1;continue}if(N===2){if(k=u,o.errorRecoveryDisabledLanes&k)var Z=0;else Z=o.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){u=Z;e:{var pe=o;N=ig;var Te=pe.current.memoizedState.isDehydrated;if(Te&&(Xh(pe,Z).flags|=256),Z=F_(pe,Z,!1),Z!==2){if(k_&&!Te){pe.errorRecoveryDisabledLanes|=k,Df|=k,N=4;break e}k=Bs,Bs=N,k!==null&&(Bs===null?Bs=k:Bs.push.apply(Bs,k))}N=Z}if(k=!1,N!==2)continue}}if(N===1){Xh(o,0),gd(o,u,0,!0);break}e:{switch(v=o,k=N,k){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:gd(v,u,uo,!fd);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(N=qv+300-We(),10<N)){if(gd(v,u,uo,!fd),Mt(v,0,!0)!==0)break e;pu=u,v.timeoutHandle=AR(W4.bind(null,v,p,Bs,$v,O_,u,uo,Df,Yh,fd,k,"Throttled",-0,0),N);break e}W4(v,p,Bs,$v,O_,u,uo,Df,Yh,fd,k,null,-0,0)}}break}while(!0);vc(o)}function W4(o,u,p,v,N,k,Z,pe,Te,Ge,at,ft,Ye,Qe){if(o.timeoutHandle=-1,ft=u.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},U4(u,k,ft);var Ft=(k&62914560)===k?qv-We():(k&4194048)===k?z4-We():0;if(Ft=_H(ft,Ft),Ft!==null){pu=k,o.cancelPendingCommit=Ft(tR.bind(null,o,u,k,p,v,N,Z,pe,Te,at,ft,null,Ye,Qe)),gd(o,k,Z,!Ge);return}}tR(o,u,k,p,v,N,Z,pe,Te)}function L$(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var N=p[v],k=N.getSnapshot;N=N.value;try{if(!oa(k(),N))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function gd(o,u,p,v){u&=~P_,u&=~Df,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var N=u;0<N;){var k=31-xn(N),Z=1<<k;v[k]=-1,N&=~Z}p!==0&&Ci(o,p,u)}function Hv(){return(lr&6)===0?(sg(0),!1):!0}function L_(){if(kn!==null){if(gr===0)var o=kn.return;else o=kn,Ro=lc=null,Uh(o),ot=null,It=0,o=kn;for(;o!==null;)S4(o.alternate,o),o=o.return;kn=null}}function Xh(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,rH(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),pu=0,L_(),Cr=o,kn=p=Is(o.current,null),Ln=u,gr=0,co=null,fd=!1,Kh=bn(o,u),k_=!1,Yh=uo=P_=Df=hd=hi=0,Bs=ig=null,O_=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var N=31-xn(v),k=1<<N;u|=o[N],v&=~k}return hu=u,ic(),p}function K4(o,u){ln=null,W.H=Jm,u===Ie||u===Ve?(u=lt(),gr=3):u===qe?(u=lt(),gr=4):gr=u===m_?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,co=u,kn===null&&(hi=1,jv(o,Rs(u,o.current)))}function Y4(){var o=si.current;return o===null?!0:(Ln&4194048)===Ln?Di===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?o===Di:!1}function J4(){var o=W.H;return W.H=Jm,o===null?Jm:o}function X4(){var o=W.A;return W.A=D$,o}function Gv(){hi=4,fd||(Ln&4194048)!==Ln&&si.current!==null||(Kh=!0),(hd&134217727)===0&&(Df&134217727)===0||Cr===null||gd(Cr,Ln,uo,!1)}function F_(o,u,p){var v=lr;lr|=2;var N=J4(),k=X4();(Cr!==o||Ln!==u)&&($v=null,Xh(o,u)),u=!1;var Z=hi;e:do try{if(gr!==0&&kn!==null){var pe=kn,Te=co;switch(gr){case 8:L_(),Z=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(u=!0);var Ge=gr;if(gr=0,co=null,Qh(o,pe,Te,Ge),p&&Kh){Z=0;break e}break;default:Ge=gr,gr=0,co=null,Qh(o,pe,Te,Ge)}}F$(),Z=hi;break}catch(at){K4(o,at)}while(!0);return u&&o.shellSuspendCounter++,Ro=lc=null,lr=v,W.H=N,W.A=k,kn===null&&(Cr=null,Ln=0,ic()),Z}function F$(){for(;kn!==null;)Q4(kn)}function U$(o,u){var p=lr;lr|=2;var v=J4(),N=X4();Cr!==o||Ln!==u?($v=null,zv=We()+500,Xh(o,u)):Kh=bn(o,u);e:do try{if(gr!==0&&kn!==null){u=kn;var k=co;t:switch(gr){case 1:gr=0,co=null,Qh(o,u,k,1);break;case 2:case 9:if(dt(k)){gr=0,co=null,Z4(u);break}u=function(){gr!==2&&gr!==9||Cr!==o||(gr=7),vc(o)},k.then(u,u);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:dt(k)?(gr=0,co=null,Z4(u)):(gr=0,co=null,Qh(o,u,k,7));break;case 5:var Z=null;switch(kn.tag){case 26:Z=kn.memoizedState;case 5:case 27:var pe=kn;if(Z?FR(Z):pe.stateNode.complete){gr=0,co=null;var Te=pe.sibling;if(Te!==null)kn=Te;else{var Ge=pe.return;Ge!==null?(kn=Ge,Wv(Ge)):kn=null}break t}}gr=0,co=null,Qh(o,u,k,5);break;case 6:gr=0,co=null,Qh(o,u,k,6);break;case 8:L_(),hi=6;break e;default:throw Error(r(462))}}B$();break}catch(at){K4(o,at)}while(!0);return Ro=lc=null,W.H=v,W.A=N,lr=p,kn!==null?0:(Cr=null,Ln=0,ic(),hi)}function B$(){for(;kn!==null&&!rt();)Q4(kn)}function Q4(o){var u=w4(o.alternate,o,hu);o.memoizedProps=o.pendingProps,u===null?Wv(o):kn=u}function Z4(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=g4(p,u,u.pendingProps,u.type,void 0,Ln);break;case 11:u=g4(p,u,u.pendingProps,u.type.render,u.ref,Ln);break;case 5:Uh(u);default:S4(p,u),u=kn=Nf(u,hu),u=w4(p,u,hu)}o.memoizedProps=o.pendingProps,u===null?Wv(o):kn=u}function Qh(o,u,p,v){Ro=lc=null,Uh(u),ot=null,It=0;var N=u.return;try{if(C$(o,N,u,p,Ln)){hi=1,jv(o,Rs(p,o.current)),kn=null;return}}catch(k){if(N!==null)throw kn=N,k;hi=1,jv(o,Rs(p,o.current)),kn=null;return}u.flags&32768?(In||v===1?o=!0:Kh||(Ln&536870912)!==0?o=!1:(fd=o=!0,(v===2||v===9||v===3||v===6)&&(v=si.current,v!==null&&v.tag===13&&(v.flags|=16384))),eR(u,o)):Wv(u)}function Wv(o){var u=o;do{if((u.flags&32768)!==0){eR(u,fd);return}o=u.return;var p=k$(u.alternate,u,hu);if(p!==null){kn=p;return}if(u=u.sibling,u!==null){kn=u;return}kn=u=o}while(u!==null);hi===0&&(hi=5)}function eR(o,u){do{var p=P$(o.alternate,o);if(p!==null){p.flags&=32767,kn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){kn=o;return}kn=o=p}while(o!==null);hi=6,kn=null}function tR(o,u,p,v,N,k,Z,pe,Te){o.cancelPendingCommit=null;do Kv();while(Qi!==0);if((lr&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(k=u.lanes|u.childLanes,k|=oo,kt(o,p,k,Z,pe,Te),o===Cr&&(kn=Cr=null,Ln=0),Jh=u,md=o,pu=p,j_=k,D_=N,$4=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,$$(Dt,function(){return sR(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,N=te.p,te.p=2,Z=lr,lr|=4;try{O$(o,u,p)}finally{lr=Z,te.p=N,W.T=v}}Qi=1,nR(),rR(),iR()}}function nR(){if(Qi===1){Qi=0;var o=md,u=Jh,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=W.T,W.T=null;var v=te.p;te.p=2;var N=lr;lr|=4;try{M4(u,o);var k=J_,Z=cl(o.containerInfo),pe=k.focusedElem,Te=k.selectionRange;if(Z!==pe&&pe&&pe.ownerDocument&&la(pe.ownerDocument.documentElement,pe)){if(Te!==null&&ro(pe)){var Ge=Te.start,at=Te.end;if(at===void 0&&(at=Ge),"selectionStart"in pe)pe.selectionStart=Ge,pe.selectionEnd=Math.min(at,pe.value.length);else{var ft=pe.ownerDocument||document,Ye=ft&&ft.defaultView||window;if(Ye.getSelection){var Qe=Ye.getSelection(),Ft=pe.textContent.length,Zt=Math.min(Te.start,Ft),wr=Te.end===void 0?Zt:Math.min(Te.end,Ft);!Qe.extend&&Zt>wr&&(Z=wr,wr=Zt,Zt=Z);var Le=Na(pe,Zt),ke=Na(pe,wr);if(Le&&ke&&(Qe.rangeCount!==1||Qe.anchorNode!==Le.node||Qe.anchorOffset!==Le.offset||Qe.focusNode!==ke.node||Qe.focusOffset!==ke.offset)){var He=ft.createRange();He.setStart(Le.node,Le.offset),Qe.removeAllRanges(),Zt>wr?(Qe.addRange(He),Qe.extend(ke.node,ke.offset)):(He.setEnd(ke.node,ke.offset),Qe.addRange(He))}}}}for(ft=[],Qe=pe;Qe=Qe.parentNode;)Qe.nodeType===1&&ft.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<ft.length;pe++){var ct=ft[pe];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}sy=!!Y_,J_=Y_=null}finally{lr=N,te.p=v,W.T=p}}o.current=u,Qi=2}}function rR(){if(Qi===2){Qi=0;var o=md,u=Jh,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=W.T,W.T=null;var v=te.p;te.p=2;var N=lr;lr|=4;try{k4(o,u.alternate,u)}finally{lr=N,te.p=v,W.T=p}}Qi=3}}function iR(){if(Qi===4||Qi===3){Qi=0,it();var o=md,u=Jh,p=pu,v=$4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Qi=5:(Qi=0,Jh=md=null,aR(o,o.pendingLanes));var N=o.pendingLanes;if(N===0&&(pd=null),de(p),u=u.stateNode,Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(en,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=W.T,N=te.p,te.p=2,W.T=null;try{for(var k=o.onRecoverableError,Z=0;Z<v.length;Z++){var pe=v[Z];k(pe.value,{componentStack:pe.stack})}}finally{W.T=u,te.p=N}}(pu&3)!==0&&Kv(),vc(o),N=o.pendingLanes,(p&261930)!==0&&(N&42)!==0?o===M_?ag++:(ag=0,M_=o):ag=0,sg(0)}}function aR(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Cf(u)))}function Kv(){return nR(),rR(),iR(),sR()}function sR(){if(Qi!==5)return!1;var o=md,u=j_;j_=0;var p=de(pu),v=W.T,N=te.p;try{te.p=32>p?32:p,W.T=null,p=D_,D_=null;var k=md,Z=pu;if(Qi=0,Jh=md=null,pu=0,(lr&6)!==0)throw Error(r(331));var pe=lr;if(lr|=4,V4(k.current),F4(k,k.current,Z,p),lr=pe,sg(0,!1),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(en,k)}catch{}return!0}finally{te.p=N,W.T=v,aR(o,u)}}function oR(o,u,p){u=Rs(p,u),u=p_(o.stateNode,u,2),o=mr(o,u,2),o!==null&&(bi(o,2),vc(o))}function vr(o,u,p){if(o.tag===3)oR(o,o,p);else for(;u!==null;){if(u.tag===3){oR(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(pd===null||!pd.has(v))){o=Rs(p,o),p=l4(2),v=mr(u,p,2),v!==null&&(c4(p,v,u,o),bi(v,2),vc(v));break}}u=u.return}}function U_(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new M$;var N=new Set;v.set(u,N)}else N=v.get(u),N===void 0&&(N=new Set,v.set(u,N));N.has(p)||(k_=!0,N.add(p),o=V$.bind(null,o,u,p),u.then(o,o))}function V$(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Cr===o&&(Ln&p)===p&&(hi===4||hi===3&&(Ln&62914560)===Ln&&300>We()-qv?(lr&2)===0&&Xh(o,0):P_|=p,Yh===Ln&&(Yh=0)),vc(o)}function lR(o,u){u===0&&(u=Or()),o=hl(o,u),o!==null&&(bi(o,u),vc(o))}function q$(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),lR(o,p)}function z$(o,u){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,N=o.memoizedState;N!==null&&(p=N.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),lR(o,p)}function $$(o,u){return et(o,u)}var Yv=null,Zh=null,B_=!1,Jv=!1,V_=!1,vd=0;function vc(o){o!==Zh&&o.next===null&&(Zh===null?Yv=Zh=o:Zh=Zh.next=o),Jv=!0,B_||(B_=!0,G$())}function sg(o,u){if(!V_&&Jv){V_=!0;do for(var p=!1,v=Yv;v!==null;){if(o!==0){var N=v.pendingLanes;if(N===0)var k=0;else{var Z=v.suspendedLanes,pe=v.pingedLanes;k=(1<<31-xn(42|o)+1)-1,k&=N&~(Z&~pe),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(p=!0,fR(v,k))}else k=Ln,k=Mt(v,v===Cr?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||bn(v,k)||(p=!0,fR(v,k));v=v.next}while(p);V_=!1}}function H$(){cR()}function cR(){Jv=B_=!1;var o=0;vd!==0&&nH()&&(o=vd);for(var u=We(),p=null,v=Yv;v!==null;){var N=v.next,k=uR(v,u);k===0?(v.next=null,p===null?Yv=N:p.next=N,N===null&&(Zh=p)):(p=v,(o!==0||(k&3)!==0)&&(Jv=!0)),v=N}Qi!==0&&Qi!==5||sg(o),vd!==0&&(vd=0)}function uR(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,N=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var Z=31-xn(k),pe=1<<Z,Te=N[Z];Te===-1?((pe&p)===0||(pe&v)!==0)&&(N[Z]=xi(pe,u)):Te<=u&&(o.expiredLanes|=pe),k&=~pe}if(u=Cr,p=Ln,p=Mt(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(gr===2||gr===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Ke(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||bn(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&Ke(v),de(p)){case 2:case 8:p=At;break;case 32:p=Dt;break;case 268435456:p=Vt;break;default:p=Dt}return v=dR.bind(null,o),p=et(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&Ke(v),o.callbackPriority=2,o.callbackNode=null,2}function dR(o,u){if(Qi!==0&&Qi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Kv()&&o.callbackNode!==p)return null;var v=Ln;return v=Mt(o,o===Cr?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(G4(o,v,u),uR(o,We()),o.callbackNode!=null&&o.callbackNode===p?dR.bind(null,o):null)}function fR(o,u){if(Kv())return null;G4(o,u,!0)}function G$(){iH(function(){(lr&6)!==0?et(bt,H$):cR()})}function q_(){if(vd===0){var o=b;o===0&&(o=qn,qn<<=1,(qn&261888)===0&&(qn=256)),vd=o}return vd}function hR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ds(""+o)}function pR(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function W$(o,u,p,v,N){if(u==="submit"&&p&&p.stateNode===N){var k=hR((N[zt]||null).action),Z=v.submitter;Z&&(u=(u=Z[zt]||null)?hR(u.formAction):Z.getAttribute("formAction"),u!==null&&(k=u,Z=null));var pe=new No("action","action",null,v,N);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(vd!==0){var Te=Z?pR(N,Z):new FormData(N);l_(p,{pending:!0,data:Te,method:N.method,action:k},null,Te)}}else typeof k=="function"&&(pe.preventDefault(),Te=Z?pR(N,Z):new FormData(N),l_(p,{pending:!0,data:Te,method:N.method,action:k},k,Te))},currentTarget:N}]})}}for(var z_=0;z_<Ha.length;z_++){var $_=Ha[z_],K$=$_.toLowerCase(),Y$=$_[0].toUpperCase()+$_.slice(1);Cn(K$,"on"+Y$)}Cn(tc,"onAnimationEnd"),Cn(dl,"onAnimationIteration"),Cn(nc,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Qu,"onTransitionRun"),Cn(Qc,"onTransitionStart"),Cn(rc,"onTransitionCancel"),Cn(Zu,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(og));function mR(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],N=v.event;v=v.listeners;e:{var k=void 0;if(u)for(var Z=v.length-1;0<=Z;Z--){var pe=v[Z],Te=pe.instance,Ge=pe.currentTarget;if(pe=pe.listener,Te!==k&&N.isPropagationStopped())break e;k=pe,N.currentTarget=Ge;try{k(N)}catch(at){sr(at)}N.currentTarget=null,k=Te}else for(Z=0;Z<v.length;Z++){if(pe=v[Z],Te=pe.instance,Ge=pe.currentTarget,pe=pe.listener,Te!==k&&N.isPropagationStopped())break e;k=pe,N.currentTarget=Ge;try{k(N)}catch(at){sr(at)}N.currentTarget=null,k=Te}}}}function Pn(o,u){var p=u[Ue];p===void 0&&(p=u[Ue]=new Set);var v=o+"__bubble";p.has(v)||(gR(u,o,2,!1),p.add(v))}function H_(o,u,p){var v=0;u&&(v|=4),gR(p,o,v,u)}var Xv="_reactListening"+Math.random().toString(36).slice(2);function G_(o){if(!o[Xv]){o[Xv]=!0,Ws.forEach(function(p){p!=="selectionchange"&&(J$.has(p)||H_(p,!1,o),H_(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Xv]||(u[Xv]=!0,H_("selectionchange",!1,u))}}function gR(o,u,p,v){switch(HR(u)){case 2:var N=SH;break;case 8:N=NH;break;default:N=o2}p=N.bind(null,u,p,o),N=void 0,!nl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),v?N!==void 0?o.addEventListener(u,p,{capture:!0,passive:N}):o.addEventListener(u,p,!0):N!==void 0?o.addEventListener(u,p,{passive:N}):o.addEventListener(u,p,!1)}function W_(o,u,p,v,N){var k=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var Z=v.tag;if(Z===3||Z===4){var pe=v.stateNode.containerInfo;if(pe===N)break;if(Z===4)for(Z=v.return;Z!==null;){var Te=Z.tag;if((Te===3||Te===4)&&Z.stateNode.containerInfo===N)return;Z=Z.return}for(;pe!==null;){if(Z=Lr(pe),Z===null)return;if(Te=Z.tag,Te===5||Te===6||Te===26||Te===27){v=k=Z;continue e}pe=pe.parentNode}}v=v.return}Wc(function(){var Ge=k,at=tl(p),ft=[];e:{var Ye=ps.get(o);if(Ye!==void 0){var Qe=No,Ft=o;switch(o){case"keypress":if(qa(p)===0)break e;case"keydown":case"keyup":Qe=Xl;break;case"focusin":Ft="focus",Qe=Eo;break;case"focusout":Ft="blur",Qe=Eo;break;case"beforeblur":case"afterblur":Qe=Eo;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=se;break;case tc:case dl:case nc:Qe=Wl;break;case Zu:Qe=Ce;break;case"scroll":case"scrollend":Qe=Kc;break;case"wheel":Qe=nt;break;case"copy":case"cut":case"paste":Qe=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=sl;break;case"toggle":case"beforetoggle":Qe=Et}var Zt=(u&4)!==0,wr=!Zt&&(o==="scroll"||o==="scrollend"),Le=Zt?Ye!==null?Ye+"Capture":null:Ye;Zt=[];for(var ke=Ge,He;ke!==null;){var ct=ke;if(He=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||He===null||Le===null||(ct=Hi(ke,Le),ct!=null&&Zt.push(lg(ke,ct,He))),wr)break;ke=ke.return}0<Zt.length&&(Ye=new Qe(Ye,Ft,null,p,at),ft.push({event:Ye,listeners:Zt}))}}if((u&7)===0){e:{if(Ye=o==="mouseover"||o==="pointerover",Qe=o==="mouseout"||o==="pointerout",Ye&&p!==$l&&(Ft=p.relatedTarget||p.fromElement)&&(Lr(Ft)||Ft[nn]))break e;if((Qe||Ye)&&(Ye=at.window===at?at:(Ye=at.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Qe?(Ft=p.relatedTarget||p.toElement,Qe=Ge,Ft=Ft?Lr(Ft):null,Ft!==null&&(wr=a(Ft),Zt=Ft.tag,Ft!==wr||Zt!==5&&Zt!==27&&Zt!==6)&&(Ft=null)):(Qe=null,Ft=Ge),Qe!==Ft)){if(Zt=Zs,ct="onMouseLeave",Le="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(Zt=sl,ct="onPointerLeave",Le="onPointerEnter",ke="pointer"),wr=Qe==null?Ye:La(Qe),He=Ft==null?Ye:La(Ft),Ye=new Zt(ct,ke+"leave",Qe,p,at),Ye.target=wr,Ye.relatedTarget=He,ct=null,Lr(at)===Ge&&(Zt=new Zt(Le,ke+"enter",Ft,p,at),Zt.target=He,Zt.relatedTarget=wr,ct=Zt),wr=ct,Qe&&Ft)t:{for(Zt=X$,Le=Qe,ke=Ft,He=0,ct=Le;ct;ct=Zt(ct))He++;ct=0;for(var Wt=ke;Wt;Wt=Zt(Wt))ct++;for(;0<He-ct;)Le=Zt(Le),He--;for(;0<ct-He;)ke=Zt(ke),ct--;for(;He--;){if(Le===ke||ke!==null&&Le===ke.alternate){Zt=Le;break t}Le=Zt(Le),ke=Zt(ke)}Zt=null}else Zt=null;Qe!==null&&vR(ft,Ye,Qe,Zt,!1),Ft!==null&&wr!==null&&vR(ft,wr,Ft,Zt,!0)}}e:{if(Ye=Ge?La(Ge):window,Qe=Ye.nodeName&&Ye.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ye.type==="file")var tr=ki;else if(Ri(Ye))if(Jc)tr=Yu;else{tr=Nh;var Bt=Af}else Qe=Ye.nodeName,!Qe||Qe.toLowerCase()!=="input"||Ye.type!=="checkbox"&&Ye.type!=="radio"?Ge&&us(Ge.elementType)&&(tr=ki):tr=Ts;if(tr&&(tr=tr(o,Ge))){no(ft,tr,p,at);break e}Bt&&Bt(o,Ye,Ge),o==="focusout"&&Ge&&Ye.type==="number"&&Ge.memoizedProps.value!=null&&el(Ye,"number",Ye.value)}switch(Bt=Ge?La(Ge):window,o){case"focusin":(Ri(Bt)||Bt.contentEditable==="true")&&(io=Bt,ao=Ge,Nr=null);break;case"focusout":Nr=ao=io=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,ca(ft,p,at);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":ca(ft,p,at)}var _n;if($)e:{switch(o){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else Xt?on(o,p)&&(Fn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Fn="onCompositionStart");Fn&&(je&&p.locale!=="ko"&&(Xt||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&Xt&&(_n=Va()):(wa=at,Hl="value"in wa?wa.value:wa.textContent,Xt=!0)),Bt=Qv(Ge,Fn),0<Bt.length&&(Fn=new Co(Fn,o,null,p,at),ft.push({event:Fn,listeners:Bt}),_n?Fn.data=_n:(_n=Nn(p),_n!==null&&(Fn.data=_n)))),(_n=he?Zn(o,p):pr(o,p))&&(Fn=Qv(Ge,"onBeforeInput"),0<Fn.length&&(Bt=new Co("onBeforeInput","beforeinput",null,p,at),ft.push({event:Bt,listeners:Fn}),Bt.data=_n)),W$(ft,o,Ge,p,at)}mR(ft,u)})}function lg(o,u,p){return{instance:o,listener:u,currentTarget:p}}function Qv(o,u){for(var p=u+"Capture",v=[];o!==null;){var N=o,k=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||k===null||(N=Hi(o,p),N!=null&&v.unshift(lg(o,N,k)),N=Hi(o,u),N!=null&&v.push(lg(o,N,k))),o.tag===3)return v;o=o.return}return[]}function X$(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function vR(o,u,p,v,N){for(var k=u._reactName,Z=[];p!==null&&p!==v;){var pe=p,Te=pe.alternate,Ge=pe.stateNode;if(pe=pe.tag,Te!==null&&Te===v)break;pe!==5&&pe!==26&&pe!==27||Ge===null||(Te=Ge,N?(Ge=Hi(p,k),Ge!=null&&Z.unshift(lg(p,Ge,Te))):N||(Ge=Hi(p,k),Ge!=null&&Z.push(lg(p,Ge,Te)))),p=p.return}Z.length!==0&&o.push({event:u,listeners:Z})}var Q$=/\r\n?/g,Z$=/\u0000|\uFFFD/g;function yR(o){return(typeof o=="string"?o:""+o).replace(Q$,`
`).replace(Z$,"")}function xR(o,u){return u=yR(u),yR(o)===u}function _r(o,u,p,v,N,k){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||ia(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&ia(o,""+v);break;case"className":ur(o,"class",v);break;case"tabIndex":ur(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(o,p,v);break;case"style":Hu(o,v,k);break;case"data":if(u!=="object"){ur(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=ds(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(p==="formAction"?(u!=="input"&&_r(o,u,"name",N.name,N,null),_r(o,u,"formEncType",N.formEncType,N,null),_r(o,u,"formMethod",N.formMethod,N,null),_r(o,u,"formTarget",N.formTarget,N,null)):(_r(o,u,"encType",N.encType,N,null),_r(o,u,"method",N.method,N,null),_r(o,u,"target",N.target,N,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=ds(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=zn);break;case"onScroll":v!=null&&Pn("scroll",o);break;case"onScrollEnd":v!=null&&Pn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(N.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=ds(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Pn("beforetoggle",o),Pn("toggle",o),_o(o,"popover",v);break;case"xlinkActuate":xa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":xa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":xa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":xa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":xa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":xa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":xa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":xa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":xa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":_o(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ql.get(p)||p,_o(o,p,v))}}function K_(o,u,p,v,N,k){switch(p){case"style":Hu(o,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(N.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?ia(o,v):(typeof v=="number"||typeof v=="bigint")&&ia(o,""+v);break;case"onScroll":v!=null&&Pn("scroll",o);break;case"onScrollEnd":v!=null&&Pn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(N=p.endsWith("Capture"),u=p.slice(2,N?p.length-7:void 0),k=o[zt]||null,k=k!=null?k[p]:null,typeof k=="function"&&o.removeEventListener(u,k,N),typeof v=="function")){typeof k!="function"&&k!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,N);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):_o(o,p,v)}}}function Ca(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pn("error",o),Pn("load",o);var v=!1,N=!1,k;for(k in p)if(p.hasOwnProperty(k)){var Z=p[k];if(Z!=null)switch(k){case"src":v=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:_r(o,u,k,Z,p,null)}}N&&_r(o,u,"srcSet",p.srcSet,p,null),v&&_r(o,u,"src",p.src,p,null);return;case"input":Pn("invalid",o);var pe=k=Z=N=null,Te=null,Ge=null;for(v in p)if(p.hasOwnProperty(v)){var at=p[v];if(at!=null)switch(v){case"name":N=at;break;case"type":Z=at;break;case"checked":Te=at;break;case"defaultChecked":Ge=at;break;case"value":k=at;break;case"defaultValue":pe=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,u));break;default:_r(o,u,v,at,p,null)}}Zo(o,k,pe,Te,Ge,Z,N,!1);return;case"select":Pn("invalid",o),v=Z=k=null;for(N in p)if(p.hasOwnProperty(N)&&(pe=p[N],pe!=null))switch(N){case"value":k=pe;break;case"defaultValue":Z=pe;break;case"multiple":v=pe;default:_r(o,u,N,pe,p,null)}u=k,p=Z,o.multiple=!!v,u!=null?Dn(o,!!v,u,!1):p!=null&&Dn(o,!!v,p,!0);return;case"textarea":Pn("invalid",o),k=N=v=null;for(Z in p)if(p.hasOwnProperty(Z)&&(pe=p[Z],pe!=null))switch(Z){case"value":v=pe;break;case"defaultValue":N=pe;break;case"children":k=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:_r(o,u,Z,pe,p,null)}Ao(o,v,N,k);return;case"option":for(Te in p)if(p.hasOwnProperty(Te)&&(v=p[Te],v!=null))switch(Te){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:_r(o,u,Te,v,p,null)}return;case"dialog":Pn("beforetoggle",o),Pn("toggle",o),Pn("cancel",o),Pn("close",o);break;case"iframe":case"object":Pn("load",o);break;case"video":case"audio":for(v=0;v<og.length;v++)Pn(og[v],o);break;case"image":Pn("error",o),Pn("load",o);break;case"details":Pn("toggle",o);break;case"embed":case"source":case"link":Pn("error",o),Pn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in p)if(p.hasOwnProperty(Ge)&&(v=p[Ge],v!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:_r(o,u,Ge,v,p,null)}return;default:if(us(u)){for(at in p)p.hasOwnProperty(at)&&(v=p[at],v!==void 0&&K_(o,u,at,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&_r(o,u,pe,v,p,null))}function eH(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,k=null,Z=null,pe=null,Te=null,Ge=null,at=null;for(Qe in p){var ft=p[Qe];if(p.hasOwnProperty(Qe)&&ft!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":Te=ft;default:v.hasOwnProperty(Qe)||_r(o,u,Qe,null,v,ft)}}for(var Ye in v){var Qe=v[Ye];if(ft=p[Ye],v.hasOwnProperty(Ye)&&(Qe!=null||ft!=null))switch(Ye){case"type":k=Qe;break;case"name":N=Qe;break;case"checked":Ge=Qe;break;case"defaultChecked":at=Qe;break;case"value":Z=Qe;break;case"defaultValue":pe=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,u));break;default:Qe!==ft&&_r(o,u,Ye,Qe,v,ft)}}Js(o,Z,pe,Te,Ge,at,k,N);return;case"select":Qe=Z=pe=Ye=null;for(k in p)if(Te=p[k],p.hasOwnProperty(k)&&Te!=null)switch(k){case"value":break;case"multiple":Qe=Te;default:v.hasOwnProperty(k)||_r(o,u,k,null,v,Te)}for(N in v)if(k=v[N],Te=p[N],v.hasOwnProperty(N)&&(k!=null||Te!=null))switch(N){case"value":Ye=k;break;case"defaultValue":pe=k;break;case"multiple":Z=k;default:k!==Te&&_r(o,u,N,k,v,Te)}u=pe,p=Z,v=Qe,Ye!=null?Dn(o,!!p,Ye,!1):!!v!=!!p&&(u!=null?Dn(o,!!p,u,!0):Dn(o,!!p,p?[]:"",!1));return;case"textarea":Qe=Ye=null;for(pe in p)if(N=p[pe],p.hasOwnProperty(pe)&&N!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:_r(o,u,pe,null,v,N)}for(Z in v)if(N=v[Z],k=p[Z],v.hasOwnProperty(Z)&&(N!=null||k!=null))switch(Z){case"value":Ye=N;break;case"defaultValue":Qe=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==k&&_r(o,u,Z,N,v,k)}wo(o,Ye,Qe);return;case"option":for(var Ft in p)if(Ye=p[Ft],p.hasOwnProperty(Ft)&&Ye!=null&&!v.hasOwnProperty(Ft))switch(Ft){case"selected":o.selected=!1;break;default:_r(o,u,Ft,null,v,Ye)}for(Te in v)if(Ye=v[Te],Qe=p[Te],v.hasOwnProperty(Te)&&Ye!==Qe&&(Ye!=null||Qe!=null))switch(Te){case"selected":o.selected=Ye&&typeof Ye!="function"&&typeof Ye!="symbol";break;default:_r(o,u,Te,Ye,v,Qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in p)Ye=p[Zt],p.hasOwnProperty(Zt)&&Ye!=null&&!v.hasOwnProperty(Zt)&&_r(o,u,Zt,null,v,Ye);for(Ge in v)if(Ye=v[Ge],Qe=p[Ge],v.hasOwnProperty(Ge)&&Ye!==Qe&&(Ye!=null||Qe!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,u));break;default:_r(o,u,Ge,Ye,v,Qe)}return;default:if(us(u)){for(var wr in p)Ye=p[wr],p.hasOwnProperty(wr)&&Ye!==void 0&&!v.hasOwnProperty(wr)&&K_(o,u,wr,void 0,v,Ye);for(at in v)Ye=v[at],Qe=p[at],!v.hasOwnProperty(at)||Ye===Qe||Ye===void 0&&Qe===void 0||K_(o,u,at,Ye,v,Qe);return}}for(var Le in p)Ye=p[Le],p.hasOwnProperty(Le)&&Ye!=null&&!v.hasOwnProperty(Le)&&_r(o,u,Le,null,v,Ye);for(ft in v)Ye=v[ft],Qe=p[ft],!v.hasOwnProperty(ft)||Ye===Qe||Ye==null&&Qe==null||_r(o,u,ft,Ye,v,Qe)}function bR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var N=p[v],k=N.transferSize,Z=N.initiatorType,pe=N.duration;if(k&&pe&&bR(Z)){for(Z=0,pe=N.responseEnd,v+=1;v<p.length;v++){var Te=p[v],Ge=Te.startTime;if(Ge>pe)break;var at=Te.transferSize,ft=Te.initiatorType;at&&bR(ft)&&(Te=Te.responseEnd,Z+=at*(Te<pe?1:(pe-Ge)/(Te-Ge)))}if(--v,u+=8*(k+Z)/(N.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Y_=null,J_=null;function Zv(o){return o.nodeType===9?o:o.ownerDocument}function _R(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wR(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function X_(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Q_=null;function nH(){var o=window.event;return o&&o.type==="popstate"?o===Q_?!1:(Q_=o,!0):(Q_=null,!1)}var AR=typeof setTimeout=="function"?setTimeout:void 0,rH=typeof clearTimeout=="function"?clearTimeout:void 0,SR=typeof Promise=="function"?Promise:void 0,iH=typeof queueMicrotask=="function"?queueMicrotask:typeof SR<"u"?function(o){return SR.resolve(null).then(o).catch(aH)}:AR;function aH(o){setTimeout(function(){throw o})}function yd(o){return o==="head"}function NR(o,u){var p=u,v=0;do{var N=p.nextSibling;if(o.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(N),rp(u);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")cg(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,cg(p);for(var k=p.firstChild;k;){var Z=k.nextSibling,pe=k.nodeName;k[Mr]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=Z}}else p==="body"&&cg(o.ownerDocument.body);p=N}while(p);rp(u)}function ER(o,u){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function Z_(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Z_(p),jn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function sH(o,u,p,v){for(;o.nodeType===1;){var N=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Mr])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==N.rel||o.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||o.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||o.getAttribute("title")!==(N.title==null?null:N.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(N.src==null?null:N.src)||o.getAttribute("type")!==(N.type==null?null:N.type)||o.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var k=N.name==null?null:""+N.name;if(N.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=Mo(o.nextSibling),o===null)break}return null}function oH(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Mo(o.nextSibling),o===null))return null;return o}function TR(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Mo(o.nextSibling),o===null))return null;return o}function e2(o){return o.data==="$?"||o.data==="$~"}function t2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function lH(o,u){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||p.readyState!=="loading")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Mo(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var n2=null;function CR(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(u===0)return Mo(o.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}o=o.nextSibling}return null}function IR(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return o;u--}else p!=="/$"&&p!=="/&"||u++}o=o.previousSibling}return null}function RR(o,u,p){switch(u=Zv(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function cg(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);jn(o)}var Lo=new Map,kR=new Set;function ey(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var mu=te.d;te.d={f:cH,r:uH,D:dH,C:fH,L:hH,m:pH,X:gH,S:mH,M:vH};function cH(){var o=mu.f(),u=Hv();return o||u}function uH(o){var u=Gn(o);u!==null&&u.tag===5&&u.type==="form"?KI(u):mu.r(o)}var ep=typeof document>"u"?null:document;function PR(o,u,p){var v=ep;if(v&&typeof u=="string"&&u){var N=xr(u);N='link[rel="'+o+'"][href="'+N+'"]',typeof p=="string"&&(N+='[crossorigin="'+p+'"]'),kR.has(N)||(kR.add(N),o={rel:o,crossOrigin:p,href:u},v.querySelector(N)===null&&(u=v.createElement("link"),Ca(u,"link",o),zr(u),v.head.appendChild(u)))}}function dH(o){mu.D(o),PR("dns-prefetch",o,null)}function fH(o,u){mu.C(o,u),PR("preconnect",o,u)}function hH(o,u,p){mu.L(o,u,p);var v=ep;if(v&&o&&u){var N='link[rel="preload"][as="'+xr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(N+='[imagesrcset="'+xr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(N+='[imagesizes="'+xr(p.imageSizes)+'"]')):N+='[href="'+xr(o)+'"]';var k=N;switch(u){case"style":k=tp(o);break;case"script":k=np(o)}Lo.has(k)||(o=m({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Lo.set(k,o),v.querySelector(N)!==null||u==="style"&&v.querySelector(ug(k))||u==="script"&&v.querySelector(dg(k))||(u=v.createElement("link"),Ca(u,"link",o),zr(u),v.head.appendChild(u)))}}function pH(o,u){mu.m(o,u);var p=ep;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",N='link[rel="modulepreload"][as="'+xr(v)+'"][href="'+xr(o)+'"]',k=N;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=np(o)}if(!Lo.has(k)&&(o=m({rel:"modulepreload",href:o},u),Lo.set(k,o),p.querySelector(N)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(dg(k)))return}v=p.createElement("link"),Ca(v,"link",o),zr(v),p.head.appendChild(v)}}}function mH(o,u,p){mu.S(o,u,p);var v=ep;if(v&&o){var N=cs(v).hoistableStyles,k=tp(o);u=u||"default";var Z=N.get(k);if(!Z){var pe={loading:0,preload:null};if(Z=v.querySelector(ug(k)))pe.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Lo.get(k))&&r2(o,p);var Te=Z=v.createElement("link");zr(Te),Ca(Te,"link",o),Te._p=new Promise(function(Ge,at){Te.onload=Ge,Te.onerror=at}),Te.addEventListener("load",function(){pe.loading|=1}),Te.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,ty(Z,u,v)}Z={type:"stylesheet",instance:Z,count:1,state:pe},N.set(k,Z)}}}function gH(o,u){mu.X(o,u);var p=ep;if(p&&o){var v=cs(p).hoistableScripts,N=np(o),k=v.get(N);k||(k=p.querySelector(dg(N)),k||(o=m({src:o,async:!0},u),(u=Lo.get(N))&&i2(o,u),k=p.createElement("script"),zr(k),Ca(k,"link",o),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(N,k))}}function vH(o,u){mu.M(o,u);var p=ep;if(p&&o){var v=cs(p).hoistableScripts,N=np(o),k=v.get(N);k||(k=p.querySelector(dg(N)),k||(o=m({src:o,async:!0,type:"module"},u),(u=Lo.get(N))&&i2(o,u),k=p.createElement("script"),zr(k),Ca(k,"link",o),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(N,k))}}function OR(o,u,p,v){var N=(N=Q.current)?ey(N):null;if(!N)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=tp(p.href),p=cs(N).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=tp(p.href);var k=cs(N).hoistableStyles,Z=k.get(o);if(Z||(N=N.ownerDocument||N,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,Z),(k=N.querySelector(ug(o)))&&!k._p&&(Z.instance=k,Z.state.loading=5),Lo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Lo.set(o,p),k||yH(N,o,p,Z.state))),u&&v===null)throw Error(r(528,""));return Z}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=np(p),p=cs(N).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function tp(o){return'href="'+xr(o)+'"'}function ug(o){return'link[rel="stylesheet"]['+o+"]"}function jR(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function yH(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),Ca(u,"link",p),zr(u),o.head.appendChild(u))}function np(o){return'[src="'+xr(o)+'"]'}function dg(o){return"script[async]"+o}function DR(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+xr(p.href)+'"]');if(v)return u.instance=v,zr(v),v;var N=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),zr(v),Ca(v,"style",N),ty(v,p.precedence,o),u.instance=v;case"stylesheet":N=tp(p.href);var k=o.querySelector(ug(N));if(k)return u.state.loading|=4,u.instance=k,zr(k),k;v=jR(p),(N=Lo.get(N))&&r2(v,N),k=(o.ownerDocument||o).createElement("link"),zr(k);var Z=k;return Z._p=new Promise(function(pe,Te){Z.onload=pe,Z.onerror=Te}),Ca(k,"link",v),u.state.loading|=4,ty(k,p.precedence,o),u.instance=k;case"script":return k=np(p.src),(N=o.querySelector(dg(k)))?(u.instance=N,zr(N),N):(v=p,(N=Lo.get(k))&&(v=m({},p),i2(v,N)),o=o.ownerDocument||o,N=o.createElement("script"),zr(N),Ca(N,"link",v),o.head.appendChild(N),u.instance=N);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,ty(v,p.precedence,o));return u.instance}function ty(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=v.length?v[v.length-1]:null,k=N,Z=0;Z<v.length;Z++){var pe=v[Z];if(pe.dataset.precedence===u)k=pe;else if(k!==N)break}k?k.parentNode.insertBefore(o,k.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function r2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function i2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ny=null;function MR(o,u,p){if(ny===null){var v=new Map,N=ny=new Map;N.set(p,v)}else N=ny,v=N.get(p),v||(v=new Map,N.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),N=0;N<p.length;N++){var k=p[N];if(!(k[Mr]||k[Ht]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=k.getAttribute(u)||"";Z=o+Z;var pe=v.get(Z);pe?pe.push(k):v.set(Z,[k])}}return v}function LR(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function xH(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function FR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function bH(o,u,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var N=tp(v.href),k=u.querySelector(ug(N));if(k){u=k._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=ry.bind(o),u.then(o,o)),p.state.loading|=4,p.instance=k,zr(k);return}k=u.ownerDocument||u,v=jR(v),(N=Lo.get(N))&&r2(v,N),k=k.createElement("link"),zr(k);var Z=k;Z._p=new Promise(function(pe,Te){Z.onload=pe,Z.onerror=Te}),Ca(k,"link",v),p.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=ry.bind(o),u.addEventListener("load",p),u.addEventListener("error",p))}}var a2=0;function _H(o,u){return o.stylesheets&&o.count===0&&ay(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&ay(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+u);0<o.imgBytes&&a2===0&&(a2=62500*tH());var N=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ay(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>a2?50:800)+u);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(N)}}:null}function ry(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ay(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var iy=null;function ay(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,iy=new Map,u.forEach(wH,o),iy=null,ry.call(o))}function wH(o,u){if(!(u.state.loading&4)){var p=iy.get(o);if(p)var v=p.get(null);else{p=new Map,iy.set(o,p);for(var N=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<N.length;k++){var Z=N[k];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(p.set(Z.dataset.precedence,Z),v=Z)}v&&p.set(null,v)}N=u.instance,Z=N.getAttribute("data-precedence"),k=p.get(Z)||v,k===v&&p.set(null,N),p.set(Z,N),this.count++,v=ry.bind(this),N.addEventListener("load",v),N.addEventListener("error",v),k?k.parentNode.insertBefore(N,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(N,o.firstChild)),u.state.loading|=4}}var fg={$$typeof:F,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function AH(o,u,p,v,N,k,Z,pe,Te){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=v,this.onUncaughtError=N,this.onCaughtError=k,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function UR(o,u,p,v,N,k,Z,pe,Te,Ge,at,ft){return o=new AH(o,u,p,Z,Te,Ge,at,ft,pe),u=1,k===!0&&(u|=24),k=da(3,null,null,u),o.current=k,k.stateNode=o,u=sd(),u.refCount++,o.pooledCache=u,u.refCount++,k.memoizedState={element:v,isDehydrated:p,cache:u},or(k),o}function BR(o){return o?(o=Wi,o):Wi}function VR(o,u,p,v,N,k){N=BR(N),v.context===null?v.context=N:v.pendingContext=N,v=Qt(u),v.payload={element:p},k=k===void 0?null:k,k!==null&&(v.callback=k),p=mr(o,v,u),p!==null&&(Vs(p,o,u),Oi(p,o,u))}function qR(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function s2(o,u){qR(o,u),(o=o.alternate)&&qR(o,u)}function zR(o){if(o.tag===13||o.tag===31){var u=hl(o,67108864);u!==null&&Vs(u,o,67108864),s2(o,67108864)}}function $R(o){if(o.tag===13||o.tag===31){var u=fo();u=cr(u);var p=hl(o,u);p!==null&&Vs(p,o,u),s2(o,u)}}var sy=!0;function SH(o,u,p,v){var N=W.T;W.T=null;var k=te.p;try{te.p=2,o2(o,u,p,v)}finally{te.p=k,W.T=N}}function NH(o,u,p,v){var N=W.T;W.T=null;var k=te.p;try{te.p=8,o2(o,u,p,v)}finally{te.p=k,W.T=N}}function o2(o,u,p,v){if(sy){var N=l2(v);if(N===null)W_(o,u,v,oy,p),GR(o,v);else if(TH(N,o,u,p,v))v.stopPropagation();else if(GR(o,v),u&4&&-1<EH.indexOf(o)){for(;N!==null;){var k=Gn(N);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var Z=Sn(k.pendingLanes);if(Z!==0){var pe=k;for(pe.pendingLanes|=2,pe.entangledLanes|=2;Z;){var Te=1<<31-xn(Z);pe.entanglements[1]|=Te,Z&=~Te}vc(k),(lr&6)===0&&(zv=We()+500,sg(0))}}break;case 31:case 13:pe=hl(k,2),pe!==null&&Vs(pe,k,2),Hv(),s2(k,2)}if(k=l2(v),k===null&&W_(o,u,v,oy,p),k===N)break;N=k}N!==null&&v.stopPropagation()}else W_(o,u,v,null,p)}}function l2(o){return o=tl(o),c2(o)}var oy=null;function c2(o){if(oy=null,o=Lr(o),o!==null){var u=a(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=s(u),o!==null)return o;o=null}else if(p===31){if(o=l(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return oy=o,null}function HR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case bt:return 2;case At:return 8;case Dt:case Tt:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var u2=!1,xd=null,bd=null,_d=null,hg=new Map,pg=new Map,wd=[],EH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GR(o,u){switch(o){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":bd=null;break;case"mouseover":case"mouseout":_d=null;break;case"pointerover":case"pointerout":hg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":pg.delete(u.pointerId)}}function mg(o,u,p,v,N,k){return o===null||o.nativeEvent!==k?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:k,targetContainers:[N]},u!==null&&(u=Gn(u),u!==null&&zR(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),o)}function TH(o,u,p,v,N){switch(u){case"focusin":return xd=mg(xd,o,u,p,v,N),!0;case"dragenter":return bd=mg(bd,o,u,p,v,N),!0;case"mouseover":return _d=mg(_d,o,u,p,v,N),!0;case"pointerover":var k=N.pointerId;return hg.set(k,mg(hg.get(k)||null,o,u,p,v,N)),!0;case"gotpointercapture":return k=N.pointerId,pg.set(k,mg(pg.get(k)||null,o,u,p,v,N)),!0}return!1}function WR(o){var u=Lr(o.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){o.blockedOn=u,Yt(o.priority,function(){$R(p)});return}}else if(u===31){if(u=l(p),u!==null){o.blockedOn=u,Yt(o.priority,function(){$R(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ly(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=l2(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);$l=v,p.target.dispatchEvent(v),$l=null}else return u=Gn(p),u!==null&&zR(u),o.blockedOn=p,!1;u.shift()}return!0}function KR(o,u,p){ly(o)&&p.delete(u)}function CH(){u2=!1,xd!==null&&ly(xd)&&(xd=null),bd!==null&&ly(bd)&&(bd=null),_d!==null&&ly(_d)&&(_d=null),hg.forEach(KR),pg.forEach(KR)}function cy(o,u){o.blockedOn===u&&(o.blockedOn=null,u2||(u2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CH)))}var uy=null;function YR(o){uy!==o&&(uy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uy===o&&(uy=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],N=o[u+2];if(typeof v!="function"){if(c2(v||p)===null)continue;break}var k=Gn(p);k!==null&&(o.splice(u,3),u-=3,l_(k,{pending:!0,data:N,method:p.method,action:v},v,N))}}))}function rp(o){function u(Te){return cy(Te,o)}xd!==null&&cy(xd,o),bd!==null&&cy(bd,o),_d!==null&&cy(_d,o),hg.forEach(u),pg.forEach(u);for(var p=0;p<wd.length;p++){var v=wd[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<wd.length&&(p=wd[0],p.blockedOn===null);)WR(p),p.blockedOn===null&&wd.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var N=p[v],k=p[v+1],Z=N[zt]||null;if(typeof k=="function")Z||YR(p);else if(Z){var pe=null;if(k&&k.hasAttribute("formAction")){if(N=k,Z=k[zt]||null)pe=Z.formAction;else if(c2(N)!==null)continue}else pe=Z.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),YR(p)}}}function JR(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(Z){return N=Z})},focusReset:"manual",scroll:"manual"})}function u(){N!==null&&(N(),N=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,N=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),N!==null&&(N(),N=null)}}}function d2(o){this._internalRoot=o}dy.prototype.render=d2.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=fo();VR(p,v,o,u,null,null)},dy.prototype.unmount=d2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;VR(o.current,2,null,o,null,null),Hv(),u[nn]=null}};function dy(o){this._internalRoot=o}dy.prototype.unstable_scheduleHydration=function(o){if(o){var u=Xe();o={blockedOn:null,target:o,priority:u};for(var p=0;p<wd.length&&u!==0&&u<wd[p].priority;p++);wd.splice(p,0,o),p===0&&WR(o)}};var XR=e.version;if(XR!=="19.2.3")throw Error(r(527,XR,"19.2.3"));te.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var IH={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fy.isDisabled&&fy.supportsFiber)try{en=fy.inject(IH),Jn=fy}catch{}}return vg.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",N=i4,k=a4,Z=s4;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError)),u=UR(o,1,!1,null,null,p,v,null,N,k,Z,JR),o[nn]=u.current,G_(o),new d2(u)},vg.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,N="",k=i4,Z=a4,pe=s4,Te=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onUncaughtError!==void 0&&(k=p.onUncaughtError),p.onCaughtError!==void 0&&(Z=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.formState!==void 0&&(Te=p.formState)),u=UR(o,1,!0,u,p??null,v,N,Te,k,Z,pe,JR),u.context=BR(null),p=u.current,v=fo(),v=cr(v),N=Qt(v),N.callback=null,mr(p,N,v),p=v,u.current.lanes=p,bi(u,p),vc(u),o[nn]=u.current,G_(o),new dy(u)},vg.version="19.2.3",vg}var o3;function UH(){if(o3)return p2.exports;o3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p2.exports=FH(),p2.exports}var BH=UH();const VH=Sr(BH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ye.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>ye.createElement("svg",{ref:c,...zH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Y7("lucide",i),...l},[...s.map(([f,h])=>ye.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=ye.forwardRef(({className:r,...i},a)=>ye.createElement($H,{ref:a,iconNode:e,className:Y7(`lucide-${qH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],As=vt("Activity",HH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],l3=vt("Archive",GH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ja=vt("ArrowLeft",WH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],J7=vt("Award",KH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],JH=vt("Barcode",YH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]],HS=vt("Beef",XH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],GS=vt("Bell",QH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Pg=vt("Bot",ZH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],tG=vt("BrainCircuit",eG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],X7=vt("Brain",nG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],iG=vt("Calculator",rG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vm=vt("Calendar",aG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oG=vt("ChartColumn",sG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],cG=vt("ChartNoAxesColumn",lG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Q7=vt("ChartPie",uG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ux=vt("Check",dG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ol=vt("ChevronRight",fG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],a0=vt("CircleAlert",hG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ho=vt("CircleCheckBig",pG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c3=vt("CircleCheck",mG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Z7=vt("CircleX",gG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],s0=vt("Clock",vG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],xG=vt("Contact",yG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],e9=vt("Cpu",bG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],t9=vt("CreditCard",_G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AG=vt("Crown",wG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dx=vt("Database",SG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],EG=vt("Dna",NG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Au=vt("DollarSign",TG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],IG=vt("Download",CG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kG=vt("ExternalLink",RG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OG=vt("Eye",PG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Up=vt("FileText",jG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],u3=vt("Filter",DG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],LG=vt("Fingerprint",MG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],UG=vt("Flame",FG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],VG=vt("FolderOpen",BG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],zG=vt("Folder",qG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HG=vt("Globe",$G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Tu=vt("History",GG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],d3=vt("Image",WG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YG=vt("Info",KG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],f3=vt("Landmark",JG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],QG=vt("Layers",XG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eW=vt("LayoutDashboard",ZG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],nW=vt("LayoutGrid",tW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],iW=vt("Link",rW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yf=vt("LoaderCircle",aW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],oW=vt("LockOpen",sW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fx=vt("Lock",lW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],uW=vt("LogOut",cW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],fW=vt("Mail",dW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hx=vt("MapPin",hW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],mW=vt("Medal",pW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],o0=vt("MessageCircle",gW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],yW=vt("MicOff",vW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Id=vt("Mic",xW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M5 12h14",key:"1ays0h"}]],px=vt("Minus",bW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],wW=vt("Navigation",_W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],SW=vt("PackagePlus",AW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Mc=vt("Package",NW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],n9=vt("PenLine",EW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$g=vt("Pencil",TW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],h3=vt("Play",CW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jf=vt("Plus",IW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mx=vt("Printer",RW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fT=vt("RefreshCw",kW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Bp=vt("RotateCcw",PW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gx=vt("Save",OW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Sp=vt("Scale",jW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],MW=vt("ScanFace",DW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ym=vt("Search",LW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],p3=vt("Send",FW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r9=vt("Settings",UW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],VW=vt("Sheet",BW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],i9=vt("ShieldAlert",qW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lc=vt("ShieldCheck",zW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HW=vt("Shield",$W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],WW=vt("ShoppingBag",GW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],m3=vt("ShoppingCart",KW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],g3=vt("Smartphone",YW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Hy=vt("Sparkles",JW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],v3=vt("Star",XW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],ZW=vt("Sword",QW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tK=vt("Tag",eK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rK=vt("Target",nK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],y3=vt("Terminal",iK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],sK=vt("Thermometer",aK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hT=vt("Trash2",oK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],vx=vt("TrendingDown",lK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Vp=vt("TrendingUp",cK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xd=vt("TriangleAlert",uK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Nc=vt("Truck",dK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Gy=vt("Upload",fK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a9=vt("UserPlus",hK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yx=vt("User",pK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pT=vt("Users",mK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vK=vt("VideoOff",gK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],x3=vt("Video",yK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],l0=vt("Wallet",xK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],s9=vt("Waves",bK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wK=vt("WifiOff",_K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],SK=vt("Wifi",AK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cu=vt("X",NK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],os=vt("Zap",EK);var vn=(t=>(t[t.INTEIRO=1]="INTEIRO",t[t.BANDA_A=2]="BANDA_A",t[t.BANDA_B=3]="BANDA_B",t))(vn||{});const b3=[{raca:"Nelore",rendimento_min:48,rendimento_max:62,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2.5,peso_medio_min:240,peso_medio_max:280,observacoes:"Raa predominante no Brasil. Referncia EMBRAPA Gado de Corte."},{raca:"Angus  Nelore (F1)",rendimento_min:50,rendimento_max:55,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:270,observacoes:"Cruzamento industrial mais popular. EMBRAPA/UNESP."},{raca:"Senepol  Nelore (F1)",rendimento_min:53,rendimento_max:57,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:300,observacoes:"Excelente acabamento precoce. Gene pelo zero. EMBRAPA."},{raca:"Senepol (puro)",rendimento_min:53,rendimento_max:54,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:260,peso_medio_max:265,observacoes:"Adaptado ao trpico. FATEC BT."},{raca:"Angus (puro)",rendimento_min:52,rendimento_max:56,quebra_resfriamento_min:1,quebra_resfriamento_max:1.8,peso_medio_min:260,peso_medio_max:290,observacoes:"Referncia em marmoreio. UNESP."},{raca:"Hereford  Nelore",rendimento_min:52,rendimento_max:55,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:240,peso_medio_max:260,observacoes:"Boa cobertura de gordura. EMBRAPA."},{raca:"Brangus",rendimento_min:51,rendimento_max:55,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:280,observacoes:"3/8 Angus + 5/8 Nelore. EMBRAPA."},{raca:"Tabapu",rendimento_min:49,rendimento_max:53,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2.5,peso_medio_min:230,peso_medio_max:260,observacoes:"Zebuno mocho brasileiro. EMBRAPA."},{raca:"Guzer",rendimento_min:48,rendimento_max:52,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2.5,peso_medio_min:220,peso_medio_max:250,observacoes:"Dupla aptitude (leite e corte). EMBRAPA."},{raca:"Brahman  Nelore",rendimento_min:50,rendimento_max:54,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:240,peso_medio_max:270,observacoes:"Vigor hbrido zebuno. EMBRAPA."},{raca:"Charols  Nelore",rendimento_min:53,rendimento_max:57,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:260,peso_medio_max:300,observacoes:"Alto rendimento muscular. EMBRAPA."},{raca:"Simental  Nelore",rendimento_min:52,rendimento_max:56,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:290,observacoes:"Bom crescimento e precocidade. EMBRAPA."}],o9="2.9.1",TK="2026-02-24",CK=`FG-PRO_v${o9}`,mT=`v${o9}`,Og=new Date().toISOString().split("T")[0],IK={clients:[],batches:[],stock:[],sales:[],transactions:[],scheduledOrders:[],reports:[],suppliers:[],payables:[]},_3=t=>{switch(t){case vn.INTEIRO:return"Carcaa Inteira";case vn.BANDA_A:return"Banda A (Dir)";case vn.BANDA_B:return"Banda B (Esq)";default:return"Desconhecido"}},RK=({setView:t,onLogout:e,onSyncSheets:n,sheetsSyncStatus:r})=>{const i=[{id:"dashboard",label:"Painel Geral",description:"Viso Macro & KPIs",icon:eW,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"clients",label:"Clientes",description:"Agenda & Contatos",icon:pT,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"suppliers",label:"Fornecedores",description:"Cadastro Rural",icon:Nc,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"batches",label:"Cadastro de Lotes",description:"Entrada de Gado",icon:Mc,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"stock",label:"Estoque",description:"Auditoria Fria",icon:HS,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"expedition",label:"Vendas",description:"Venda de Peas",icon:Sp,color:"text-amber-600",bg:"bg-amber-50",glow:"group-hover:shadow-lg"},{id:"sales_history",label:"Histrico",description:"Relatrios de Venda",icon:Up,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"},{id:"financial",label:"Financeiro",description:"Fluxo de Caixa",icon:Au,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"scheduled_orders",label:"Agendamentos",description:"Pedidos Futuros",icon:vm,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"heifers",label:"Gesto Abate",description:"Novilhas Dirias",icon:HS,color:"text-emerald-700",bg:"bg-emerald-100",glow:"group-hover:shadow-lg"},{id:"ai_agents",label:"Central IA",description:"Agentes Inteligentes",icon:X7,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"sales_agent",label:"Agente IA",description:"Rob de Vendas",icon:Pg,color:"text-purple-600",bg:"bg-purple-100",glow:"group-hover:shadow-lg"},{id:"report",label:"Relatrio",description:"Resumo Dirio",icon:Up,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"audit",label:"Auditoria",description:"Quem Fez O Qu",icon:Lc,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex flex-col items-center justify-center p-6 lg:p-12 relative overflow-hidden font-sans text-white",children:[d.jsx("div",{className:"absolute inset-0 opacity-[0.08] pointer-events-none",style:{backgroundImage:"linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px)",backgroundSize:"60px 60px"}}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/10 rounded-full blur-[120px] pointer-events-none"}),d.jsxs("div",{className:"w-full max-w-6xl z-10 animate-fade-in flex flex-col items-center gap-12",children:[d.jsxs("div",{className:"text-center space-y-4 relative",children:[d.jsx("div",{className:"absolute -top-6 -right-12 bg-white/20 text-white text-[8px] font-black px-2 py-0.5 rounded border border-white/30 uppercase tracking-[0.2em] animate-pulse",children:"Sistema Ativo"}),d.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/10 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/20 mb-4 transform hover:scale-110 transition-all duration-700 group cursor-default",children:[d.jsx(Nc,{size:48,className:"text-white group-hover:text-blue-100 transition-colors"}),d.jsx("div",{className:"absolute inset-0 rounded-[2rem] border border-white/20 animate-ping opacity-20"})]}),d.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter uppercase italic leading-none drop-shadow-2xl",children:["Frigo",d.jsx("span",{className:"text-blue-200 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]",children:"Gest"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-transparent to-white/30"}),d.jsxs("p",{className:"text-white/70 font-black text-[10px] uppercase tracking-[0.4em] flex items-center gap-2",children:[d.jsx(os,{size:12,className:"text-blue-200"})," Sistema Avanado ",mT,"  ",TK]}),d.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-l from-transparent to-white/30"})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 w-full",children:i.map(a=>{const s=a.icon;return d.jsxs("button",{onClick:()=>t(a.id),className:`group relative flex flex-col items-start justify-between p-8 h-48 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-[2.5rem] hover:border-white/40 hover:bg-white/15 transition-all duration-500 shadow-2xl active:scale-[0.98] text-left overflow-hidden ${a.glow}`,children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsx("div",{className:`w-14 h-14 rounded-2xl ${a.bg} flex items-center justify-center ${a.color} group-hover:scale-110 transition-all duration-500 border border-white/10 shadow-lg`,children:d.jsx(s,{size:28})}),d.jsxs("div",{className:"relative z-10 transition-transform duration-500 group-hover:translate-x-1",children:[d.jsx("h3",{className:"text-lg font-black text-white group-hover:text-blue-100 transition-colors uppercase tracking-tight",children:a.label}),d.jsx("p",{className:"text-[10px] text-white/60 font-black mt-1 tracking-widest uppercase opacity-60 group-hover:opacity-100",children:a.description})]}),d.jsxs("div",{className:"absolute bottom-8 right-8 flex items-center gap-2 opacity-20 group-hover:opacity-100 transition-all",children:[d.jsx("div",{className:"h-[1px] w-4 bg-white/30 group-hover:bg-white/60 transition-colors"}),d.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 group-hover:text-white/80 transition-colors",children:["0",i.indexOf(a)+1]})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},a.id)})}),d.jsxs("div",{className:"mt-4 flex flex-col items-center gap-8 relative",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>{confirm(` Atualizar para nova verso?

Seus dados no sero perdidos!`)&&window.location.reload()},className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-emerald-500/20 backdrop-blur-md border border-emerald-400/30 hover:border-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/30 transition-all hover:shadow-lg active:scale-95 group",children:[d.jsx(os,{size:16,className:"group-hover:rotate-180 transition-transform"}),"ATUALIZAR"]}),n&&d.jsxs("button",{onClick:n,disabled:r==="syncing",className:`flex items-center gap-3 px-8 py-5 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] backdrop-blur-md border transition-all hover:shadow-lg active:scale-95 group ${r==="syncing"?"text-amber-300/80 bg-amber-500/20 border-amber-400/30 cursor-wait":r==="ok"?"text-emerald-300/80 bg-emerald-500/20 border-emerald-400/30":r==="error"?"text-rose-300/80 bg-rose-500/20 border-rose-400/30":"text-white/80 bg-white/10 border-white/20 hover:border-blue-400 hover:text-blue-300 hover:bg-blue-500/20"}`,children:[d.jsx(VW,{size:16,className:r==="syncing"?"animate-spin":"group-hover:scale-110 transition-transform"}),r==="syncing"?"SINCRONIZANDO...":r==="ok"?" SINCRONIZADO":"SYNC PLANILHA"]}),d.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-white/10 backdrop-blur-md border border-white/20 hover:border-rose-400 hover:text-rose-300 hover:bg-rose-500/20 transition-all hover:shadow-lg active:scale-95 group",children:[d.jsx(uW,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"SAIR"]})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-4 text-white/40 font-bold text-[8px] uppercase tracking-[0.5em]",children:[d.jsx("span",{children:"Status: Online"}),d.jsx("span",{className:"w-1 h-1 bg-emerald-400 rounded-full animate-pulse"}),d.jsx("span",{children:"Enc: 256-Bit"})]}),d.jsx("p",{className:"text-[9px] text-white/30 font-black uppercase tracking-[0.4em]",children:" FRIGOGEST 2026  SYS_ID: FG-PRO-X"})]})]})]})]})},kK=t=>{const e=new Date(t),n=new Date(Og),r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))},PK=t=>t<=1?{label:"Resfriamento",color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-100",status:"fresh"}:t<=4?{label:"Pronto (pice)",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",status:"prime"}:t<=7?{label:"Alerta Venda",color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",status:"warning"}:{label:"Risco Quebra",color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",status:"critical"},Ot=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),Rr=t=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)+" kg",WS=(t,e,n,r)=>r===0?0:(t+e+n)/r,OK=(t,e)=>{if(!t||!t.length)return;const n=";",r=Object.keys(t[0]),i=r.join(n)+`
`+t.map(l=>r.map(c=>{let f=l[c]===null||l[c]===void 0?"":l[c];return f=f instanceof Date?f.toLocaleString():f.toString().replace(/"/g,'""'),f.search(new RegExp(`("|${n}|
)`))>=0&&(f=`"${f}"`),f}).join(n)).join(`
`),a=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){const l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},w3=(t,e,n)=>{const r=e.filter(g=>g.id_cliente===t.id_ferro),a=r.filter(g=>g.status_pagamento==="PENDENTE").filter(g=>g.data_vencimento<n),s=r.reduce((g,y)=>g+y.peso_real_saida*y.preco_venda_kg,0),l=t.limite_credito>0?t.saldo_devedor/t.limite_credito:0;let c=5,f="AAA",h="Cliente Exemplar";return a.length>0&&(c-=2,f="C",h="Faturas em Atraso"),l>.8&&(c-=1,f==="AAA"&&(f="A"),h="Limite Prximo ao Fim"),t.saldo_devedor>t.limite_credito&&t.limite_credito>0&&(c-=2,f="C",h="Limite Excedido"),a.reduce((g,y)=>{const E=Math.ceil((new Date(n).getTime()-new Date(y.data_vencimento).getTime())/864e5);return Math.max(g,E)},0)>10&&(c=1,f="F",h="Risco Iminente (Fumo)"),s>1e5&&a.length===0&&l<.6&&(f="AAA",c=5,h="Parceiro Estratgico (Ouro)"),{stars:Math.max(1,Math.min(5,c)),tier:f,reason:h,color:f==="AAA"?"text-emerald-500":f==="A"?"text-blue-500":f==="C"?"text-orange-600":f==="F"?"text-rose-600":"text-slate-600",border:f==="F"?"border-rose-100":"border-slate-100",bg:f==="F"?"bg-rose-50":"bg-slate-50"}};function l9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=l9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=l9(t))&&(r&&(r+=" "),r+=e);return r}var y2,A3;function Hs(){if(A3)return y2;A3=1;var t=Array.isArray;return y2=t,y2}var x2,S3;function c9(){if(S3)return x2;S3=1;var t=typeof hy=="object"&&hy&&hy.Object===Object&&hy;return x2=t,x2}var b2,N3;function Bc(){if(N3)return b2;N3=1;var t=c9(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return b2=n,b2}var _2,E3;function nv(){if(E3)return _2;E3=1;var t=Bc(),e=t.Symbol;return _2=e,_2}var w2,T3;function jK(){if(T3)return w2;T3=1;var t=nv(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return w2=a,w2}var A2,C3;function DK(){if(C3)return A2;C3=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return A2=n,A2}var S2,I3;function Uu(){if(I3)return S2;I3=1;var t=nv(),e=jK(),n=DK(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return S2=s,S2}var N2,R3;function Bu(){if(R3)return N2;R3=1;function t(e){return e!=null&&typeof e=="object"}return N2=t,N2}var E2,k3;function xm(){if(k3)return E2;k3=1;var t=Uu(),e=Bu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return E2=r,E2}var T2,P3;function gT(){if(P3)return T2;P3=1;var t=Hs(),e=xm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return T2=i,T2}var C2,O3;function cf(){if(O3)return C2;O3=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return C2=t,C2}var I2,j3;function vT(){if(j3)return I2;j3=1;var t=Uu(),e=cf(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return I2=s,I2}var R2,D3;function MK(){if(D3)return R2;D3=1;var t=Bc(),e=t["__core-js_shared__"];return R2=e,R2}var k2,M3;function LK(){if(M3)return k2;M3=1;var t=MK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return k2=n,k2}var P2,L3;function u9(){if(L3)return P2;L3=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return P2=n,P2}var O2,F3;function FK(){if(F3)return O2;F3=1;var t=vT(),e=LK(),n=cf(),r=u9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var y=t(g)?h:a;return y.test(r(g))}return O2=m,O2}var j2,U3;function UK(){if(U3)return j2;U3=1;function t(e,n){return e==null?void 0:e[n]}return j2=t,j2}var D2,B3;function ph(){if(B3)return D2;B3=1;var t=FK(),e=UK();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return D2=n,D2}var M2,V3;function H1(){if(V3)return M2;V3=1;var t=ph(),e=t(Object,"create");return M2=e,M2}var L2,q3;function BK(){if(q3)return L2;q3=1;var t=H1();function e(){this.__data__=t?t(null):{},this.size=0}return L2=e,L2}var F2,z3;function VK(){if(z3)return F2;z3=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return F2=t,F2}var U2,$3;function qK(){if($3)return U2;$3=1;var t=H1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return r.call(s,a)?s[a]:void 0}return U2=i,U2}var B2,H3;function zK(){if(H3)return B2;H3=1;var t=H1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return B2=r,B2}var V2,G3;function $K(){if(G3)return V2;G3=1;var t=H1(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return V2=n,V2}var q2,W3;function HK(){if(W3)return q2;W3=1;var t=BK(),e=VK(),n=qK(),r=zK(),i=$K();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,q2=a,q2}var z2,K3;function GK(){if(K3)return z2;K3=1;function t(){this.__data__=[],this.size=0}return z2=t,z2}var $2,Y3;function yT(){if(Y3)return $2;Y3=1;function t(e,n){return e===n||e!==e&&n!==n}return $2=t,$2}var H2,J3;function G1(){if(J3)return H2;J3=1;var t=yT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return H2=e,H2}var G2,X3;function WK(){if(X3)return G2;X3=1;var t=G1(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return G2=r,G2}var W2,Q3;function KK(){if(Q3)return W2;Q3=1;var t=G1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return W2=e,W2}var K2,Z3;function YK(){if(Z3)return K2;Z3=1;var t=G1();function e(n){return t(this.__data__,n)>-1}return K2=e,K2}var Y2,ek;function JK(){if(ek)return Y2;ek=1;var t=G1();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Y2=e,Y2}var J2,tk;function W1(){if(tk)return J2;tk=1;var t=GK(),e=WK(),n=KK(),r=YK(),i=JK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,J2=a,J2}var X2,nk;function xT(){if(nk)return X2;nk=1;var t=ph(),e=Bc(),n=t(e,"Map");return X2=n,X2}var Q2,rk;function XK(){if(rk)return Q2;rk=1;var t=HK(),e=W1(),n=xT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Q2=r,Q2}var Z2,ik;function QK(){if(ik)return Z2;ik=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Z2=t,Z2}var ew,ak;function K1(){if(ak)return ew;ak=1;var t=QK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return ew=e,ew}var tw,sk;function ZK(){if(sk)return tw;sk=1;var t=K1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return tw=e,tw}var nw,ok;function eY(){if(ok)return nw;ok=1;var t=K1();function e(n){return t(this,n).get(n)}return nw=e,nw}var rw,lk;function tY(){if(lk)return rw;lk=1;var t=K1();function e(n){return t(this,n).has(n)}return rw=e,rw}var iw,ck;function nY(){if(ck)return iw;ck=1;var t=K1();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return iw=e,iw}var aw,uk;function bT(){if(uk)return aw;uk=1;var t=XK(),e=ZK(),n=eY(),r=tY(),i=nY();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,aw=a,aw}var sw,dk;function d9(){if(dk)return sw;dk=1;var t=bT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return a.cache=c.set(l,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,sw=n,sw}var ow,fk;function rY(){if(fk)return ow;fk=1;var t=d9(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return ow=n,ow}var lw,hk;function iY(){if(hk)return lw;hk=1;var t=rY(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,f){a.push(c?f.replace(n,"$1"):l||s)}),a});return lw=r,lw}var cw,pk;function _T(){if(pk)return cw;pk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return cw=t,cw}var uw,mk;function aY(){if(mk)return uw;mk=1;var t=nv(),e=_T(),n=Hs(),r=xm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return uw=s,uw}var dw,gk;function f9(){if(gk)return dw;gk=1;var t=aY();function e(n){return n==null?"":t(n)}return dw=e,dw}var fw,vk;function h9(){if(vk)return fw;vk=1;var t=Hs(),e=gT(),n=iY(),r=f9();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return fw=i,fw}var hw,yk;function Y1(){if(yk)return hw;yk=1;var t=xm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return hw=e,hw}var pw,xk;function wT(){if(xk)return pw;xk=1;var t=h9(),e=Y1();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return pw=n,pw}var mw,bk;function p9(){if(bk)return mw;bk=1;var t=wT();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return mw=e,mw}var sY=p9();const Wo=Sr(sY);var gw,_k;function oY(){if(_k)return gw;_k=1;function t(e){return e==null}return gw=t,gw}var lY=oY();const Vn=Sr(lY);var vw,wk;function cY(){if(wk)return vw;wk=1;var t=Uu(),e=Hs(),n=Bu(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return vw=i,vw}var uY=cY();const rh=Sr(uY);var dY=vT();const wn=Sr(dY);var fY=cf();const bm=Sr(fY);var yw={exports:{}},dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak;function hY(){if(Ak)return dr;Ak=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function A(S){if(typeof S=="object"&&S!==null){var I=S.$$typeof;switch(I){case t:switch(S=S.type,S){case n:case i:case r:case f:case h:return S;default:switch(S=S&&S.$$typeof,S){case l:case s:case c:case g:case m:case a:return S;default:return I}}case e:return I}}}return dr.ContextConsumer=s,dr.ContextProvider=a,dr.Element=t,dr.ForwardRef=c,dr.Fragment=n,dr.Lazy=g,dr.Memo=m,dr.Portal=e,dr.Profiler=i,dr.StrictMode=r,dr.Suspense=f,dr.SuspenseList=h,dr.isAsyncMode=function(){return!1},dr.isConcurrentMode=function(){return!1},dr.isContextConsumer=function(S){return A(S)===s},dr.isContextProvider=function(S){return A(S)===a},dr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},dr.isForwardRef=function(S){return A(S)===c},dr.isFragment=function(S){return A(S)===n},dr.isLazy=function(S){return A(S)===g},dr.isMemo=function(S){return A(S)===m},dr.isPortal=function(S){return A(S)===e},dr.isProfiler=function(S){return A(S)===i},dr.isStrictMode=function(S){return A(S)===r},dr.isSuspense=function(S){return A(S)===f},dr.isSuspenseList=function(S){return A(S)===h},dr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===f||S===h||S===y||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===m||S.$$typeof===a||S.$$typeof===s||S.$$typeof===c||S.$$typeof===E||S.getModuleId!==void 0)},dr.typeOf=A,dr}var Sk;function pY(){return Sk||(Sk=1,yw.exports=hY()),yw.exports}var mY=pY(),xw,Nk;function m9(){if(Nk)return xw;Nk=1;var t=Uu(),e=Bu(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return xw=r,xw}var bw,Ek;function gY(){if(Ek)return bw;Ek=1;var t=m9();function e(n){return t(n)&&n!=+n}return bw=e,bw}var vY=gY();const _m=Sr(vY);var yY=m9();const xY=Sr(yY);var Cl=function(e){return e===0?0:e>0?1:-1},zf=function(e){return rh(e)&&e.indexOf("%")===e.length-1},_t=function(e){return xY(e)&&!_m(e)},bY=function(e){return Vn(e)},ta=function(e){return _t(e)||rh(e)},_Y=0,rv=function(e){var n=++_Y;return"".concat(e||"").concat(n)},ih=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(e)&&!rh(e))return r;var a;if(zf(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return _m(a)&&(a=r),i&&a>n&&(a=n),a},kd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},wY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},qo=function(e,n){return _t(e)&&_t(n)?function(r){return e+r*(n-e)}:function(){return n}};function xx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wo(r,e))===n})}var AY=function(e,n){return _t(e)&&_t(n)?e-n:rh(e)&&rh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Np(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function KS(t){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(t)}var SY=["viewBox","children"],NY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tk=["points","pathLength"],_w={svg:SY,polygon:Tk,polyline:Tk},AT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ye.isValidElement(e)&&(r=e.props),!bm(r))return null;var i={};return Object.keys(r).forEach(function(a){AT.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},EY=function(e,n,r){return function(i){return e(n,r,i),null}},_x=function(e,n,r){if(!bm(e)||KS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];AT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=EY(s,n,r))}),i},TY=["children"],CY=["children"];function Ck(t,e){if(t==null)return{};var n=IY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YS(t){"@babel/helpers - typeof";return YS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YS(t)}var Ik={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Su=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Rk=null,ww=null,ST=function t(e){if(e===Rk&&Array.isArray(ww))return ww;var n=[];return ye.Children.forEach(e,function(r){Vn(r)||(mY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ww=n,Rk=e,n};function Rl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Su(i)}):r=[Su(e)],ST(t).forEach(function(i){var a=Wo(i,"type.displayName")||Wo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function po(t,e){var n=Rl(t,e);return n&&n[0]}var kk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_t(r)||r<=0||!_t(i)||i<=0)},RY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kY=function(e){return e&&e.type&&rh(e.type)&&RY.indexOf(e.type)>=0},PY=function(e){return e&&YS(e)==="object"&&"clipDot"in e},OY=function(e,n,r,i){var a,s=(a=_w==null?void 0:_w[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!wn(e)&&(i&&s.includes(n)||NY.includes(n))||r&&AT.includes(n)},On=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ye.isValidElement(e)&&(i=e.props),!bm(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;OY((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},JS=function t(e,n){if(e===n)return!0;var r=ye.Children.count(e);if(r!==ye.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Pk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Pk(a,s))return!1}return!0},Pk=function(e,n){if(Vn(e)&&Vn(n))return!0;if(!Vn(e)&&!Vn(n)){var r=e.props||{},i=r.children,a=Ck(r,TY),s=n.props||{},l=s.children,c=Ck(s,CY);return i&&l?Np(a,c)&&JS(i,l):!i&&!l?Np(a,c):!1}return!1},Ok=function(e,n){var r=[],i={};return ST(e).forEach(function(a,s){if(kY(a))r.push(a);else if(a){var l=Su(a.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(a,l,s);r.push(m),i[l]=!0}}}),r},jY=function(e){var n=e&&e.type;return n&&Ik[n]?Ik[n]:null},DY=function(e,n){return ST(n).indexOf(e)},MY=["children","width","height","viewBox","className","style","title","desc"];function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function LY(t,e){if(t==null)return{};var n=FY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,f=LY(t,MY),h=i||{width:n,height:r,x:0,y:0},m=Qn("recharts-surface",a);return Oe.createElement("svg",XS({},On(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Oe.createElement("title",null,l),Oe.createElement("desc",null,c),e)}var UY=["children","className"];function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZS.apply(this,arguments)}function BY(t,e){if(t==null)return{};var n=VY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oi=Oe.forwardRef(function(t,e){var n=t.children,r=t.className,i=BY(t,UY),a=Qn("recharts-layer",r);return Oe.createElement("g",ZS({className:a},On(i,!0),{ref:e}),n)}),Nu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Aw,jk;function qY(){if(jk)return Aw;jk=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return Aw=t,Aw}var Sw,Dk;function zY(){if(Dk)return Sw;Dk=1;var t=qY();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return Sw=e,Sw}var Nw,Mk;function g9(){if(Mk)return Nw;Mk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function c(f){return l.test(f)}return Nw=c,Nw}var Ew,Lk;function $Y(){if(Lk)return Ew;Lk=1;function t(e){return e.split("")}return Ew=t,Ew}var Tw,Fk;function HY(){if(Fk)return Tw;Fk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",E=f+"?",A="["+a+"]?",S="(?:"+y+"(?:"+[h,m,g].join("|")+")"+A+E+")*",I=A+E+S,P="(?:"+[h+l+"?",l,m,g,s].join("|")+")",F=RegExp(c+"(?="+c+")|"+P+I,"g");function B(j){return j.match(F)||[]}return Tw=B,Tw}var Cw,Uk;function GY(){if(Uk)return Cw;Uk=1;var t=$Y(),e=g9(),n=HY();function r(i){return e(i)?n(i):t(i)}return Cw=r,Cw}var Iw,Bk;function WY(){if(Bk)return Iw;Bk=1;var t=zY(),e=g9(),n=GY(),r=f9();function i(a){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[a]()+f}}return Iw=i,Iw}var Rw,Vk;function KY(){if(Vk)return Rw;Vk=1;var t=WY(),e=t("toUpperCase");return Rw=e,Rw}var YY=KY();const J1=Sr(YY);function Ur(t){return function(){return t}}const v9=Math.cos,wx=Math.sin,Ml=Math.sqrt,Ax=Math.PI,X1=2*Ax,eN=Math.PI,tN=2*eN,Lf=1e-6,JY=tN-Lf;function y9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return y9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class QY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?y9:XY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,m=l-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Lf)if(!(Math.abs(m*c-f*h)>Lf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,E=i-l,A=c*c+f*f,S=y*y+E*E,I=Math.sqrt(A),P=Math.sqrt(g),F=a*Math.tan((eN-Math.acos((A+g-S)/(2*I*P)))/2),B=F/P,j=F/I;Math.abs(B-1)>Lf&&this._append`L${e+B*h},${n+B*m}`,this._append`A${a},${a},0,0,${+(m*y>h*E)},${this._x1=e+j*c},${this._y1=n+j*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,m=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Lf||Math.abs(this._y1-h)>Lf)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%tN+tN),g>JY?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:g>Lf&&this._append`A${r},${r},0,${+(g>=eN)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new QY(e)}function ET(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x9(t){this._context=t}x9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Q1(t){return new x9(t)}function b9(t){return t[0]}function _9(t){return t[1]}function w9(t,e){var n=Ur(!0),r=null,i=Q1,a=null,s=NT(l);t=typeof t=="function"?t:t===void 0?b9:Ur(t),e=typeof e=="function"?e:e===void 0?_9:Ur(e);function l(c){var f,h=(c=ET(c)).length,m,g=!1,y;for(r==null&&(a=i(y=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(m,f,c),+e(m,f,c));if(y)return a=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ur(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ur(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ur(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function py(t,e,n){var r=null,i=Ur(!0),a=null,s=Q1,l=null,c=NT(f);t=typeof t=="function"?t:t===void 0?b9:Ur(+t),e=typeof e=="function"?e:Ur(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?_9:Ur(+n);function f(m){var g,y,E,A=(m=ET(m)).length,S,I=!1,P,F=new Array(A),B=new Array(A);for(a==null&&(l=s(P=c())),g=0;g<=A;++g){if(!(g<A&&i(S=m[g],g,m))===I)if(I=!I)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=g-1;E>=y;--E)l.point(F[E],B[E]);l.lineEnd(),l.areaEnd()}I&&(F[g]=+t(S,g,m),B[g]=+e(S,g,m),l.point(r?+r(S,g,m):F[g],n?+n(S,g,m):B[g]))}if(P)return l=null,P+""||null}function h(){return w9().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ur(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ur(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ur(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ur(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ur(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ur(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ur(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),f):a},f}class A9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZY(t){return new A9(t,!0)}function eJ(t){return new A9(t,!1)}const TT={draw(t,e){const n=Ml(e/Ax);t.moveTo(n,0),t.arc(0,0,n,0,X1)}},tJ={draw(t,e){const n=Ml(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},S9=Ml(1/3),nJ=S9*2,rJ={draw(t,e){const n=Ml(e/nJ),r=n*S9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iJ={draw(t,e){const n=Ml(e),r=-n/2;t.rect(r,r,n,n)}},aJ=.8908130915292852,N9=wx(Ax/10)/wx(7*Ax/10),sJ=wx(X1/10)*N9,oJ=-v9(X1/10)*N9,lJ={draw(t,e){const n=Ml(e*aJ),r=sJ*n,i=oJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=X1*a/5,l=v9(s),c=wx(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},kw=Ml(3),cJ={draw(t,e){const n=-Ml(e/(kw*3));t.moveTo(0,n*2),t.lineTo(-kw*n,-n),t.lineTo(kw*n,-n),t.closePath()}},Fo=-.5,Uo=Ml(3)/2,nN=1/Ml(12),uJ=(nN/2+1)*3,dJ={draw(t,e){const n=Ml(e/uJ),r=n/2,i=n*nN,a=r,s=n*nN+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Fo*r-Uo*i,Uo*r+Fo*i),t.lineTo(Fo*a-Uo*s,Uo*a+Fo*s),t.lineTo(Fo*l-Uo*c,Uo*l+Fo*c),t.lineTo(Fo*r+Uo*i,Fo*i-Uo*r),t.lineTo(Fo*a+Uo*s,Fo*s-Uo*a),t.lineTo(Fo*l+Uo*c,Fo*c-Uo*l),t.closePath()}};function fJ(t,e){let n=null,r=NT(i);t=typeof t=="function"?t:Ur(t||TT),e=typeof e=="function"?e:Ur(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ur(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Sx(){}function Nx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function E9(t){this._context=t}E9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hJ(t){return new E9(t)}function T9(t){this._context=t}T9.prototype={areaStart:Sx,areaEnd:Sx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pJ(t){return new T9(t)}function C9(t){this._context=t}C9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mJ(t){return new C9(t)}function I9(t){this._context=t}I9.prototype={areaStart:Sx,areaEnd:Sx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gJ(t){return new I9(t)}function qk(t){return t<0?-1:1}function zk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(qk(a)+qk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function $k(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Pw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function Ex(t){this._context=t}Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pw(this,this._t0,$k(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Pw(this,$k(this,n=zk(this,t,e)),n);break;default:Pw(this,this._t0,n=zk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function R9(t){this._context=new k9(t)}(R9.prototype=Object.create(Ex.prototype)).point=function(t,e){Ex.prototype.point.call(this,e,t)};function k9(t){this._context=t}k9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function vJ(t){return new Ex(t)}function yJ(t){return new R9(t)}function P9(t){this._context=t}P9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Hk(t),i=Hk(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Hk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function xJ(t){return new P9(t)}function Z1(t,e){this._context=t,this._t=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bJ(t){return new Z1(t,.5)}function _J(t){return new Z1(t,0)}function wJ(t){return new Z1(t,1)}function qp(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function AJ(t,e){return t[e]}function SJ(t){const e=[];return e.key=t,e}function NJ(){var t=Ur([]),e=rN,n=qp,r=AJ;function i(a){var s=Array.from(t.apply(this,arguments),SJ),l,c=s.length,f=-1,h;for(const m of a)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(m,s[l].key,f,a)]).data=m;for(l=0,h=ET(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ur(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?rN:typeof a=="function"?a:Ur(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??qp,i):n},i}function EJ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}qp(t,e)}}function TJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}qp(t,e)}}function CJ(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,g=h[r-1][1]||0,y=(m-g)/2,E=0;E<l;++E){var A=t[e[E]],S=A[r][1]||0,I=A[r-1][1]||0;y+=S-I}c+=m,f+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,qp(t,e)}}function c0(t){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(t)}var IJ=["type","size","sizeType"];function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(this,arguments)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){RJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e,n){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=PJ(t,"string");return c0(e)=="symbol"?e:e+""}function PJ(t,e){if(c0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OJ(t,e){if(t==null)return{};var n=jJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var O9={symbolCircle:TT,symbolCross:tJ,symbolDiamond:rJ,symbolSquare:iJ,symbolStar:lJ,symbolTriangle:cJ,symbolWye:dJ},DJ=Math.PI/180,MJ=function(e){var n="symbol".concat(J1(e));return O9[n]||TT},LJ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*DJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FJ=function(e,n){O9["symbol".concat(J1(e))]=n},CT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=OJ(e,IJ),f=Wk(Wk({},c),{},{type:r,size:a,sizeType:l}),h=function(){var S=MJ(r),I=fJ().type(S).size(LJ(a,l,r));return I()},m=f.className,g=f.cx,y=f.cy,E=On(f,!0);return g===+g&&y===+y&&a===+a?Oe.createElement("path",iN({},E,{className:Qn("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};CT.registerSymbol=FJ;function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aN.apply(this,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){u0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D9(r.key),r)}}function qJ(t,e,n){return e&&VJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zJ(t,e,n){return e=Tx(e),$J(t,j9()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function $J(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(t)}function HJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function GJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sN(t,e)}function u0(t,e,n){return e=D9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D9(t){var e=WJ(t,"string");return zp(e)=="symbol"?e:e+""}function WJ(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bo=32,IT=(function(t){function e(){return BJ(this,e),zJ(this,e,arguments)}return GJ(e,t),qJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Bo/2,s=Bo/6,l=Bo/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Oe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Bo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Oe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Bo,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Oe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bo/8,"h").concat(Bo,"v").concat(Bo*3/4,"h").concat(-Bo,"z"),className:"recharts-legend-icon"});if(Oe.isValidElement(r.legendIcon)){var f=UJ({},r);return delete f.legendIcon,Oe.cloneElement(r.legendIcon,f)}return Oe.createElement(CT,{fill:c,cx:a,cy:a,size:Bo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Bo,height:Bo},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,E){var A=y.formatter||c,S=Qn(u0(u0({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",y.inactive));if(y.type==="none")return null;var I=wn(y.value)?null:y.value;Nu(!wn(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=y.inactive?f:y.color;return Oe.createElement("li",aN({className:S,style:m,key:"legend-item-".concat(E)},_x(r.props,y,E)),Oe.createElement(QS,{width:s,height:s,viewBox:h,style:g},r.renderIcon(y)),Oe.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},A?A(I,y,E):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Oe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(ye.PureComponent);u0(IT,"displayName","Legend");u0(IT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ow,Yk;function KJ(){if(Yk)return Ow;Yk=1;var t=W1();function e(){this.__data__=new t,this.size=0}return Ow=e,Ow}var jw,Jk;function YJ(){if(Jk)return jw;Jk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return jw=t,jw}var Dw,Xk;function JJ(){if(Xk)return Dw;Xk=1;function t(e){return this.__data__.get(e)}return Dw=t,Dw}var Mw,Qk;function XJ(){if(Qk)return Mw;Qk=1;function t(e){return this.__data__.has(e)}return Mw=t,Mw}var Lw,Zk;function QJ(){if(Zk)return Lw;Zk=1;var t=W1(),e=xT(),n=bT(),r=200;function i(a,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return Lw=i,Lw}var Fw,eP;function M9(){if(eP)return Fw;eP=1;var t=W1(),e=KJ(),n=YJ(),r=JJ(),i=XJ(),a=QJ();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,Fw=s,Fw}var Uw,tP;function ZJ(){if(tP)return Uw;tP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Uw=e,Uw}var Bw,nP;function eX(){if(nP)return Bw;nP=1;function t(e){return this.__data__.has(e)}return Bw=t,Bw}var Vw,rP;function L9(){if(rP)return Vw;rP=1;var t=bT(),e=ZJ(),n=eX();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Vw=r,Vw}var qw,iP;function F9(){if(iP)return qw;iP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return qw=t,qw}var zw,aP;function U9(){if(aP)return zw;aP=1;function t(e,n){return e.has(n)}return zw=t,zw}var $w,sP;function B9(){if(sP)return $w;sP=1;var t=L9(),e=F9(),n=U9(),r=1,i=2;function a(s,l,c,f,h,m){var g=c&r,y=s.length,E=l.length;if(y!=E&&!(g&&E>y))return!1;var A=m.get(s),S=m.get(l);if(A&&S)return A==l&&S==s;var I=-1,P=!0,F=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++I<y;){var B=s[I],j=l[I];if(f)var V=g?f(j,B,I,l,s,m):f(B,j,I,s,l,m);if(V!==void 0){if(V)continue;P=!1;break}if(F){if(!e(l,function(O,D){if(!n(F,D)&&(B===O||h(B,O,c,f,m)))return F.push(D)})){P=!1;break}}else if(!(B===j||h(B,j,c,f,m))){P=!1;break}}return m.delete(s),m.delete(l),P}return $w=a,$w}var Hw,oP;function tX(){if(oP)return Hw;oP=1;var t=Bc(),e=t.Uint8Array;return Hw=e,Hw}var Gw,lP;function nX(){if(lP)return Gw;lP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Gw=t,Gw}var Ww,cP;function RT(){if(cP)return Ww;cP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Ww=t,Ww}var Kw,uP;function rX(){if(uP)return Kw;uP=1;var t=nv(),e=tX(),n=yT(),r=B9(),i=nX(),a=RT(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",E="[object Set]",A="[object String]",S="[object Symbol]",I="[object ArrayBuffer]",P="[object DataView]",F=t?t.prototype:void 0,B=F?F.valueOf:void 0;function j(V,O,D,z,H,U,R){switch(D){case P:if(V.byteLength!=O.byteLength||V.byteOffset!=O.byteOffset)return!1;V=V.buffer,O=O.buffer;case I:return!(V.byteLength!=O.byteLength||!U(new e(V),new e(O)));case c:case f:case g:return n(+V,+O);case h:return V.name==O.name&&V.message==O.message;case y:case A:return V==O+"";case m:var C=i;case E:var G=z&s;if(C||(C=a),V.size!=O.size&&!G)return!1;var le=R.get(V);if(le)return le==O;z|=l,R.set(V,O);var W=r(C(V),C(O),z,H,U,R);return R.delete(V),W;case S:if(B)return B.call(V)==B.call(O)}return!1}return Kw=j,Kw}var Yw,dP;function V9(){if(dP)return Yw;dP=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Yw=t,Yw}var Jw,fP;function iX(){if(fP)return Jw;fP=1;var t=V9(),e=Hs();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Jw=n,Jw}var Xw,hP;function aX(){if(hP)return Xw;hP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[a++]=l)}return s}return Xw=t,Xw}var Qw,pP;function sX(){if(pP)return Qw;pP=1;function t(){return[]}return Qw=t,Qw}var Zw,mP;function oX(){if(mP)return Zw;mP=1;var t=aX(),e=sX(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return Zw=a,Zw}var e5,gP;function lX(){if(gP)return e5;gP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return e5=t,e5}var t5,vP;function cX(){if(vP)return t5;vP=1;var t=Uu(),e=Bu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return t5=r,t5}var n5,yP;function kT(){if(yP)return n5;yP=1;var t=cX(),e=Bu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return n5=a,n5}var jg={exports:{}},r5,xP;function uX(){if(xP)return r5;xP=1;function t(){return!1}return r5=t,r5}jg.exports;var bP;function q9(){return bP||(bP=1,(function(t,e){var n=Bc(),r=uX(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(jg,jg.exports)),jg.exports}var i5,_P;function PT(){if(_P)return i5;_P=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return i5=n,i5}var a5,wP;function OT(){if(wP)return a5;wP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return a5=e,a5}var s5,AP;function dX(){if(AP)return s5;AP=1;var t=Uu(),e=OT(),n=Bu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",E="[object String]",A="[object WeakMap]",S="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",F="[object Float64Array]",B="[object Int8Array]",j="[object Int16Array]",V="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",U={};U[P]=U[F]=U[B]=U[j]=U[V]=U[O]=U[D]=U[z]=U[H]=!0,U[r]=U[i]=U[S]=U[a]=U[I]=U[s]=U[l]=U[c]=U[f]=U[h]=U[m]=U[g]=U[y]=U[E]=U[A]=!1;function R(C){return n(C)&&e(C.length)&&!!U[t(C)]}return s5=R,s5}var o5,SP;function z9(){if(SP)return o5;SP=1;function t(e){return function(n){return e(n)}}return o5=t,o5}var Dg={exports:{}};Dg.exports;var NP;function fX(){return NP||(NP=1,(function(t,e){var n=c9(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Dg,Dg.exports)),Dg.exports}var l5,EP;function $9(){if(EP)return l5;EP=1;var t=dX(),e=z9(),n=fX(),r=n&&n.isTypedArray,i=r?e(r):t;return l5=i,l5}var c5,TP;function hX(){if(TP)return c5;TP=1;var t=lX(),e=kT(),n=Hs(),r=q9(),i=PT(),a=$9(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var m=n(f),g=!m&&e(f),y=!m&&!g&&r(f),E=!m&&!g&&!y&&a(f),A=m||g||y||E,S=A?t(f.length,String):[],I=S.length;for(var P in f)(h||l.call(f,P))&&!(A&&(P=="length"||y&&(P=="offset"||P=="parent")||E&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,I)))&&S.push(P);return S}return c5=c,c5}var u5,CP;function pX(){if(CP)return u5;CP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return u5=e,u5}var d5,IP;function H9(){if(IP)return d5;IP=1;function t(e,n){return function(r){return e(n(r))}}return d5=t,d5}var f5,RP;function mX(){if(RP)return f5;RP=1;var t=H9(),e=t(Object.keys,Object);return f5=e,f5}var h5,kP;function gX(){if(kP)return h5;kP=1;var t=pX(),e=mX(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return h5=i,h5}var p5,PP;function iv(){if(PP)return p5;PP=1;var t=vT(),e=OT();function n(r){return r!=null&&e(r.length)&&!t(r)}return p5=n,p5}var m5,OP;function eb(){if(OP)return m5;OP=1;var t=hX(),e=gX(),n=iv();function r(i){return n(i)?t(i):e(i)}return m5=r,m5}var g5,jP;function vX(){if(jP)return g5;jP=1;var t=iX(),e=oX(),n=eb();function r(i){return t(i,n,e)}return g5=r,g5}var v5,DP;function yX(){if(DP)return v5;DP=1;var t=vX(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,f,h){var m=l&e,g=t(a),y=g.length,E=t(s),A=E.length;if(y!=A&&!m)return!1;for(var S=y;S--;){var I=g[S];if(!(m?I in s:r.call(s,I)))return!1}var P=h.get(a),F=h.get(s);if(P&&F)return P==s&&F==a;var B=!0;h.set(a,s),h.set(s,a);for(var j=m;++S<y;){I=g[S];var V=a[I],O=s[I];if(c)var D=m?c(O,V,I,s,a,h):c(V,O,I,a,s,h);if(!(D===void 0?V===O||f(V,O,l,c,h):D)){B=!1;break}j||(j=I=="constructor")}if(B&&!j){var z=a.constructor,H=s.constructor;z!=H&&"constructor"in a&&"constructor"in s&&!(typeof z=="function"&&z instanceof z&&typeof H=="function"&&H instanceof H)&&(B=!1)}return h.delete(a),h.delete(s),B}return v5=i,v5}var y5,MP;function xX(){if(MP)return y5;MP=1;var t=ph(),e=Bc(),n=t(e,"DataView");return y5=n,y5}var x5,LP;function bX(){if(LP)return x5;LP=1;var t=ph(),e=Bc(),n=t(e,"Promise");return x5=n,x5}var b5,FP;function G9(){if(FP)return b5;FP=1;var t=ph(),e=Bc(),n=t(e,"Set");return b5=n,b5}var _5,UP;function _X(){if(UP)return _5;UP=1;var t=ph(),e=Bc(),n=t(e,"WeakMap");return _5=n,_5}var w5,BP;function wX(){if(BP)return w5;BP=1;var t=xX(),e=xT(),n=bX(),r=G9(),i=_X(),a=Uu(),s=u9(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",y=s(t),E=s(e),A=s(n),S=s(r),I=s(i),P=a;return(t&&P(new t(new ArrayBuffer(1)))!=g||e&&P(new e)!=l||n&&P(n.resolve())!=f||r&&P(new r)!=h||i&&P(new i)!=m)&&(P=function(F){var B=a(F),j=B==c?F.constructor:void 0,V=j?s(j):"";if(V)switch(V){case y:return g;case E:return l;case A:return f;case S:return h;case I:return m}return B}),w5=P,w5}var A5,VP;function AX(){if(VP)return A5;VP=1;var t=M9(),e=B9(),n=rX(),r=yX(),i=wX(),a=Hs(),s=q9(),l=$9(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function E(A,S,I,P,F,B){var j=a(A),V=a(S),O=j?h:i(A),D=V?h:i(S);O=O==f?m:O,D=D==f?m:D;var z=O==m,H=D==m,U=O==D;if(U&&s(A)){if(!s(S))return!1;j=!0,z=!1}if(U&&!z)return B||(B=new t),j||l(A)?e(A,S,I,P,F,B):n(A,S,O,I,P,F,B);if(!(I&c)){var R=z&&y.call(A,"__wrapped__"),C=H&&y.call(S,"__wrapped__");if(R||C){var G=R?A.value():A,le=C?S.value():S;return B||(B=new t),F(G,le,I,P,B)}}return U?(B||(B=new t),r(A,S,I,P,F,B)):!1}return A5=E,A5}var S5,qP;function jT(){if(qP)return S5;qP=1;var t=AX(),e=Bu();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,l)}return S5=n,S5}var N5,zP;function SX(){if(zP)return N5;zP=1;var t=M9(),e=jT(),n=1,r=2;function i(a,s,l,c){var f=l.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var g=l[f];if(m&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<h;){g=l[f];var y=g[0],E=a[y],A=g[1];if(m&&g[2]){if(E===void 0&&!(y in a))return!1}else{var S=new t;if(c)var I=c(E,A,y,a,s,S);if(!(I===void 0?e(A,E,n|r,c,S):I))return!1}}return!0}return N5=i,N5}var E5,$P;function W9(){if($P)return E5;$P=1;var t=cf();function e(n){return n===n&&!t(n)}return E5=e,E5}var T5,HP;function NX(){if(HP)return T5;HP=1;var t=W9(),e=eb();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,t(l)]}return i}return T5=n,T5}var C5,GP;function K9(){if(GP)return C5;GP=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return C5=t,C5}var I5,WP;function EX(){if(WP)return I5;WP=1;var t=SX(),e=NX(),n=K9();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return I5=r,I5}var R5,KP;function TX(){if(KP)return R5;KP=1;function t(e,n){return e!=null&&n in Object(e)}return R5=t,R5}var k5,YP;function CX(){if(YP)return k5;YP=1;var t=h9(),e=kT(),n=Hs(),r=PT(),i=OT(),a=Y1();function s(l,c,f){c=t(c,l);for(var h=-1,m=c.length,g=!1;++h<m;){var y=a(c[h]);if(!(g=l!=null&&f(l,y)))break;l=l[y]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&i(m)&&r(y,m)&&(n(l)||e(l)))}return k5=s,k5}var P5,JP;function IX(){if(JP)return P5;JP=1;var t=TX(),e=CX();function n(r,i){return r!=null&&e(r,i,t)}return P5=n,P5}var O5,XP;function RX(){if(XP)return O5;XP=1;var t=jT(),e=p9(),n=IX(),r=gT(),i=W9(),a=K9(),s=Y1(),l=1,c=2;function f(h,m){return r(h)&&i(m)?a(s(h),m):function(g){var y=e(g,h);return y===void 0&&y===m?n(g,h):t(m,y,l|c)}}return O5=f,O5}var j5,QP;function wm(){if(QP)return j5;QP=1;function t(e){return e}return j5=t,j5}var D5,ZP;function kX(){if(ZP)return D5;ZP=1;function t(e){return function(n){return n==null?void 0:n[e]}}return D5=t,D5}var M5,eO;function PX(){if(eO)return M5;eO=1;var t=wT();function e(n){return function(r){return t(r,n)}}return M5=e,M5}var L5,tO;function OX(){if(tO)return L5;tO=1;var t=kX(),e=PX(),n=gT(),r=Y1();function i(a){return n(a)?t(r(a)):e(a)}return L5=i,L5}var F5,nO;function uf(){if(nO)return F5;nO=1;var t=EX(),e=RX(),n=wm(),r=Hs(),i=OX();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return F5=a,F5}var U5,rO;function Y9(){if(rO)return U5;rO=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return U5=t,U5}var B5,iO;function jX(){if(iO)return B5;iO=1;function t(e){return e!==e}return B5=t,B5}var V5,aO;function DX(){if(aO)return V5;aO=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return V5=t,V5}var q5,sO;function MX(){if(sO)return q5;sO=1;var t=Y9(),e=jX(),n=DX();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return q5=r,q5}var z5,oO;function LX(){if(oO)return z5;oO=1;var t=MX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return z5=e,z5}var $5,lO;function FX(){if(lO)return $5;lO=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return $5=t,$5}var H5,cO;function UX(){if(cO)return H5;cO=1;function t(){}return H5=t,H5}var G5,uO;function BX(){if(uO)return G5;uO=1;var t=G9(),e=UX(),n=RT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return G5=i,G5}var W5,dO;function VX(){if(dO)return W5;dO=1;var t=L9(),e=LX(),n=FX(),r=U9(),i=BX(),a=RT(),s=200;function l(c,f,h){var m=-1,g=e,y=c.length,E=!0,A=[],S=A;if(h)E=!1,g=n;else if(y>=s){var I=f?null:i(c);if(I)return a(I);E=!1,g=r,S=new t}else S=f?[]:A;e:for(;++m<y;){var P=c[m],F=f?f(P):P;if(P=h||P!==0?P:0,E&&F===F){for(var B=S.length;B--;)if(S[B]===F)continue e;f&&S.push(F),A.push(P)}else g(S,F,h)||(S!==A&&S.push(F),A.push(P))}return A}return W5=l,W5}var K5,fO;function qX(){if(fO)return K5;fO=1;var t=uf(),e=VX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return K5=n,K5}var zX=qX();const hO=Sr(zX);function J9(t,e,n){return e===!0?hO(t,n):wn(e)?hO(t,e):t}function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}var $X=["ref"];function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q9(r.key),r)}}function GX(t,e,n){return e&&mO(t.prototype,e),n&&mO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WX(t,e,n){return e=Cx(e),KX(t,X9()?Reflect.construct(e,n||[],Cx(t).constructor):e.apply(t,n))}function KX(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YX(t)}function YX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X9=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(t)}function JX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oN(t,e)}function tb(t,e,n){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t){var e=XX(t,"string");return $p(e)=="symbol"?e:e+""}function XX(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QX(t,e){if(t==null)return{};var n=ZX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eQ(t){return t.value}function tQ(t,e){if(Oe.isValidElement(t))return Oe.cloneElement(t,e);if(typeof t=="function")return Oe.createElement(t,e);e.ref;var n=QX(e,$X);return Oe.createElement(IT,n)}var gO=1,Ep=(function(t){function e(){var n;HX(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=WX(this,e,[].concat(i)),tb(n,"lastBoundingBox",{width:-1,height:-1}),n}return JX(e,t),GX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gO||Math.abs(i.height-this.lastBoundingBox.height)>gO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();m={left:((f||0)-y.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var E=this.getBBoxSnapshot();g={top:((h||0)-E.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gu(gu({},m),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=gu(gu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Oe.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){r.wrapperNode=y}},tQ(a,gu(gu({},this.props),{},{payload:J9(h,f,eQ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=gu(gu({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&_t(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(ye.PureComponent);tb(Ep,"displayName","Legend");tb(Ep,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Y5,vO;function nQ(){if(vO)return Y5;vO=1;var t=nv(),e=kT(),n=Hs(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Y5=i,Y5}var J5,yO;function Z9(){if(yO)return J5;yO=1;var t=V9(),e=nQ();function n(r,i,a,s,l){var c=-1,f=r.length;for(a||(a=e),l||(l=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return J5=n,J5}var X5,xO;function rQ(){if(xO)return X5;xO=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return X5=t,X5}var Q5,bO;function iQ(){if(bO)return Q5;bO=1;var t=rQ(),e=t();return Q5=e,Q5}var Z5,_O;function eF(){if(_O)return Z5;_O=1;var t=iQ(),e=eb();function n(r,i){return r&&t(r,i,e)}return Z5=n,Z5}var eA,wO;function aQ(){if(wO)return eA;wO=1;var t=iv();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return eA=e,eA}var tA,AO;function DT(){if(AO)return tA;AO=1;var t=eF(),e=aQ(),n=e(t);return tA=n,tA}var nA,SO;function tF(){if(SO)return nA;SO=1;var t=DT(),e=iv();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++a]=i(l,c,f)}),s}return nA=n,nA}var rA,NO;function sQ(){if(NO)return rA;NO=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return rA=t,rA}var iA,EO;function oQ(){if(EO)return iA;EO=1;var t=xm();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!l&&n>r||l&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!m&&n<r||m&&i&&s&&!a&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return iA=e,iA}var aA,TO;function lQ(){if(TO)return aA;TO=1;var t=oQ();function e(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],l[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return aA=e,aA}var sA,CO;function cQ(){if(CO)return sA;CO=1;var t=_T(),e=wT(),n=uf(),r=tF(),i=sQ(),a=z9(),s=lQ(),l=wm(),c=Hs();function f(h,m,g){m.length?m=t(m,function(A){return c(A)?function(S){return e(S,A.length===1?A[0]:A)}:A}):m=[l];var y=-1;m=t(m,a(n));var E=r(h,function(A,S,I){var P=t(m,function(F){return F(A)});return{criteria:P,index:++y,value:A}});return i(E,function(A,S){return s(A,S,g)})}return sA=f,sA}var oA,IO;function uQ(){if(IO)return oA;IO=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return oA=t,oA}var lA,RO;function dQ(){if(RO)return lA;RO=1;var t=uQ(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(f),t(r,this,h)}}return lA=n,lA}var cA,kO;function fQ(){if(kO)return cA;kO=1;function t(e){return function(){return e}}return cA=t,cA}var uA,PO;function nF(){if(PO)return uA;PO=1;var t=ph(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return uA=e,uA}var dA,OO;function hQ(){if(OO)return dA;OO=1;var t=fQ(),e=nF(),n=wm(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return dA=r,dA}var fA,jO;function pQ(){if(jO)return fA;jO=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return fA=r,fA}var hA,DO;function mQ(){if(DO)return hA;DO=1;var t=hQ(),e=pQ(),n=e(t);return hA=n,hA}var pA,MO;function gQ(){if(MO)return pA;MO=1;var t=wm(),e=dQ(),n=mQ();function r(i,a){return n(e(i,a,t),i+"")}return pA=r,pA}var mA,LO;function nb(){if(LO)return mA;LO=1;var t=yT(),e=iv(),n=PT(),r=cf();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],a):!1}return mA=i,mA}var gA,FO;function vQ(){if(FO)return gA;FO=1;var t=Z9(),e=cQ(),n=gQ(),r=nb(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return gA=i,gA}var yQ=vQ();const MT=Sr(yQ);function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(this,arguments)}function xQ(t,e){return AQ(t)||wQ(t,e)||_Q(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(t,e){if(t){if(typeof t=="string")return UO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(t,e)}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function AQ(t){if(Array.isArray(t))return t}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=EQ(t,"string");return d0(e)=="symbol"?e:e+""}function EQ(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TQ(t){return Array.isArray(t)&&ta(t[0])&&ta(t[1])?t.join(" ~ "):t}var CQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,g=e.itemSorter,y=e.wrapperClassName,E=e.labelClassName,A=e.label,S=e.labelFormatter,I=e.accessibilityLayer,P=I===void 0?!1:I,F=function(){if(h&&h.length){var R={padding:0,margin:0},C=(g?MT(h,g):h).map(function(G,le){if(G.type==="none")return null;var W=vA({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),te=G.formatter||m||TQ,re=G.value,ve=G.name,we=re,ie=ve;if(te&&we!=null&&ie!=null){var L=te(re,ve,G,le,h);if(Array.isArray(L)){var Y=xQ(L,2);we=Y[0],ie=Y[1]}else we=L}return Oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(le),style:W},ta(ie)?Oe.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,ta(ie)?Oe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Oe.createElement("span",{className:"recharts-tooltip-item-value"},we),Oe.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Oe.createElement("ul",{className:"recharts-tooltip-item-list",style:R},C)}return null},B=vA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=vA({margin:0},f),V=!Vn(A),O=V?A:"",D=Qn("recharts-default-tooltip",y),z=Qn("recharts-tooltip-label",E);V&&S&&h!==void 0&&h!==null&&(O=S(A,h));var H=P?{role:"status","aria-live":"assertive"}:{};return Oe.createElement("div",lN({className:D,style:B},H),Oe.createElement("p",{className:z,style:j},Oe.isValidElement(O)?O:"".concat(O)),F())};function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function my(t,e,n){return e=IQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=RQ(t,"string");return f0(e)=="symbol"?e:e+""}function RQ(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg="recharts-tooltip-wrapper",kQ={visibility:"hidden"};function PQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Qn(yg,my(my(my(my({},"".concat(yg,"-right"),_t(n)&&e&&_t(e.x)&&n>=e.x),"".concat(yg,"-left"),_t(n)&&e&&_t(e.x)&&n<e.x),"".concat(yg,"-bottom"),_t(r)&&e&&_t(e.y)&&r>=e.y),"".concat(yg,"-top"),_t(r)&&e&&_t(e.y)&&r<e.y))}function VO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&_t(a[r]))return a[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var g=h,y=c[r];return g<y?Math.max(m,c[r]):Math.max(h,c[r])}var E=m+l,A=c[r]+f;return E>A?Math.max(h,c[r]):Math.max(m,c[r])}function OQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=VO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=VO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=OQ({translateX:h,translateY:m,useTranslate3d:l})):f=kQ,{cssProperties:f,cssClasses:PQ({translateX:h,translateY:m,coordinate:n})}}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){uN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iF(r.key),r)}}function LQ(t,e,n){return e&&MQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FQ(t,e,n){return e=Ix(e),UQ(t,rF()?Reflect.construct(e,n||[],Ix(t).constructor):e.apply(t,n))}function UQ(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BQ(t)}function BQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(t)}function VQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cN(t,e)}function cN(t,e){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cN(t,e)}function uN(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=qQ(t,"string");return Hp(e)=="symbol"?e:e+""}function qQ(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $O=1,zQ=(function(t){function e(){var n;DQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=FQ(this,e,[].concat(i)),uN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uN(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return VQ(e,t),LQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$O||Math.abs(r.height-this.state.lastBoundingBox.height)>$O)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,y=i.offset,E=i.position,A=i.reverseDirection,S=i.useTranslate3d,I=i.viewBox,P=i.wrapperStyle,F=jQ({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:y,position:E,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:S,viewBox:I}),B=F.cssClasses,j=F.cssProperties,V=zO(zO({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},P);return Oe.createElement("div",{tabIndex:-1,className:B,style:V,ref:function(D){r.wrapperNode=D}},f)}}])})(ye.PureComponent),$Q=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Am={isSsr:$Q()};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){LT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sF(r.key),r)}}function WQ(t,e,n){return e&&GQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KQ(t,e,n){return e=Rx(e),YQ(t,aF()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function YQ(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JQ(t)}function JQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function XQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dN(t,e)}function dN(t,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dN(t,e)}function LT(t,e,n){return e=sF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sF(t){var e=QQ(t,"string");return Gp(e)=="symbol"?e:e+""}function QQ(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZQ(t){return t.dataKey}function eZ(t,e){return Oe.isValidElement(t)?Oe.cloneElement(t,e):typeof t=="function"?Oe.createElement(t,e):Oe.createElement(CQ,e)}var xc=(function(t){function e(){return HQ(this,e),KQ(this,e,arguments)}return XQ(e,t),WQ(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,g=i.isAnimationActive,y=i.offset,E=i.payload,A=i.payloadUniqBy,S=i.position,I=i.reverseDirection,P=i.useTranslate3d,F=i.viewBox,B=i.wrapperStyle,j=E??[];m&&j.length&&(j=J9(E.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),A,ZQ));var V=j.length>0;return Oe.createElement(zQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:V,offset:y,position:S,reverseDirection:I,useTranslate3d:P,viewBox:F,wrapperStyle:B},eZ(f,GO(GO({},this.props),{},{payload:j})))}}])})(ye.PureComponent);LT(xc,"displayName","Tooltip");LT(xc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Am.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yA,WO;function tZ(){if(WO)return yA;WO=1;var t=Bc(),e=function(){return t.Date.now()};return yA=e,yA}var xA,KO;function nZ(){if(KO)return xA;KO=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return xA=e,xA}var bA,YO;function rZ(){if(YO)return bA;YO=1;var t=nZ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return bA=n,bA}var _A,JO;function oF(){if(JO)return _A;JO=1;var t=rZ(),e=cf(),n=xm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return _A=c,_A}var wA,XO;function iZ(){if(XO)return wA;XO=1;var t=cf(),e=tZ(),n=oF(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,f){var h,m,g,y,E,A,S=0,I=!1,P=!1,F=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(I=!!f.leading,P="maxWait"in f,g=P?i(n(f.maxWait)||0,c):g,F="trailing"in f?!!f.trailing:F);function B(C){var G=h,le=m;return h=m=void 0,S=C,y=l.apply(le,G),y}function j(C){return S=C,E=setTimeout(D,c),I?B(C):y}function V(C){var G=C-A,le=C-S,W=c-G;return P?a(W,g-le):W}function O(C){var G=C-A,le=C-S;return A===void 0||G>=c||G<0||P&&le>=g}function D(){var C=e();if(O(C))return z(C);E=setTimeout(D,V(C))}function z(C){return E=void 0,F&&h?B(C):(h=m=void 0,y)}function H(){E!==void 0&&clearTimeout(E),S=0,h=A=m=E=void 0}function U(){return E===void 0?y:z(e())}function R(){var C=e(),G=O(C);if(h=arguments,m=this,A=C,G){if(E===void 0)return j(A);if(P)return clearTimeout(E),E=setTimeout(D,c),B(A)}return E===void 0&&(E=setTimeout(D,c)),y}return R.cancel=H,R.flush=U,R}return wA=s,wA}var AA,QO;function aZ(){if(QO)return AA;QO=1;var t=iZ(),e=cf(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return AA=r,AA}var sZ=aZ();const lF=Sr(sZ);function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){oZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oZ(t,e,n){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lZ(t){var e=cZ(t,"string");return h0(e)=="symbol"?e:e+""}function cZ(t,e){if(h0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uZ(t,e){return pZ(t)||hZ(t,e)||fZ(t,e)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(t,e){if(t){if(typeof t=="string")return e6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e6(t,e)}}function e6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function pZ(t){if(Array.isArray(t))return t}var mZ=ye.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,g=t.maxHeight,y=t.children,E=t.debounce,A=E===void 0?0:E,S=t.id,I=t.className,P=t.onResize,F=t.style,B=F===void 0?{}:F,j=ye.useRef(null),V=ye.useRef();V.current=P,ye.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var O=ye.useState({containerWidth:i.width,containerHeight:i.height}),D=uZ(O,2),z=D[0],H=D[1],U=ye.useCallback(function(C,G){H(function(le){var W=Math.round(C),te=Math.round(G);return le.containerWidth===W&&le.containerHeight===te?le:{containerWidth:W,containerHeight:te}})},[]);ye.useEffect(function(){var C=function(ve){var we,ie=ve[0].contentRect,L=ie.width,Y=ie.height;U(L,Y),(we=V.current)===null||we===void 0||we.call(V,L,Y)};A>0&&(C=lF(C,A,{trailing:!0,leading:!1}));var G=new ResizeObserver(C),le=j.current.getBoundingClientRect(),W=le.width,te=le.height;return U(W,te),G.observe(j.current),function(){G.disconnect()}},[U,A]);var R=ye.useMemo(function(){var C=z.containerWidth,G=z.containerHeight;if(C<0||G<0)return null;Nu(zf(s)||zf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Nu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var le=zf(s)?C:s,W=zf(c)?G:c;n&&n>0&&(le?W=le/n:W&&(le=W*n),g&&W>g&&(W=g)),Nu(le>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,le,W,s,c,h,m,n);var te=!Array.isArray(y)&&Su(y.type).endsWith("Chart");return Oe.Children.map(y,function(re){return Oe.isValidElement(re)?ye.cloneElement(re,gy({width:le,height:W},te?{style:gy({height:"100%",width:"100%",maxHeight:W,maxWidth:le},re.props.style)}:{})):re})},[n,y,c,g,m,h,z,s]);return Oe.createElement("div",{id:S?"".concat(S):void 0,className:Qn("recharts-responsive-container",I),style:gy(gy({},B),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:g}),ref:j},R)}),cF=function(e){return null};cF.displayName="Cell";function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gZ(t,e,n){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t){var e=yZ(t,"string");return p0(e)=="symbol"?e:e+""}function yZ(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ip={widthCache:{},cacheCount:0},xZ=2e3,bZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n6="recharts_measurement_span";function _Z(t){var e=fN({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Hg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Am.isSsr)return{width:0,height:0};var r=_Z(n),i=JSON.stringify({text:e,copyStyle:r});if(ip.widthCache[i])return ip.widthCache[i];try{var a=document.getElementById(n6);a||(a=document.createElement("span"),a.setAttribute("id",n6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=fN(fN({},bZ),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return ip.widthCache[i]=c,++ip.cacheCount>xZ&&(ip.cacheCount=0,ip.widthCache={}),c}catch{return{width:0,height:0}}},wZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function kx(t,e){return EZ(t)||NZ(t,e)||SZ(t,e)||AZ()}function AZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(t,e){if(t){if(typeof t=="string")return r6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r6(t,e)}}function r6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function EZ(t){if(Array.isArray(t))return t}function TZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IZ(r.key),r)}}function CZ(t,e,n){return e&&i6(t.prototype,e),n&&i6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IZ(t){var e=RZ(t,"string");return m0(e)=="symbol"?e:e+""}function RZ(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OZ=Object.keys(uF),vp="NaN";function jZ(t,e){return t*uF[e]}var vy=(function(){function t(e,n){TZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!kZ.test(n)&&(this.num=NaN,this.unit=""),OZ.includes(n)&&(this.num=jZ(e,n),this.unit="px")}return CZ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=PZ.exec(n))!==null&&r!==void 0?r:[],a=kx(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function dF(t){if(t.includes(vp))return vp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=a6.exec(e))!==null&&n!==void 0?n:[],i=kx(r,4),a=i[1],s=i[2],l=i[3],c=vy.parse(a??""),f=vy.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vp;e=e.replace(a6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=s6.exec(e))!==null&&m!==void 0?m:[],y=kx(g,4),E=y[1],A=y[2],S=y[3],I=vy.parse(E??""),P=vy.parse(S??""),F=A==="+"?I.add(P):I.subtract(P);if(F.isNaN())return vp;e=e.replace(s6,F.toString())}return e}var o6=/\(([^()]*)\)/;function DZ(t){for(var e=t;e.includes("(");){var n=o6.exec(e),r=kx(n,2),i=r[1];e=e.replace(o6,dF(i))}return e}function MZ(t){var e=t.replace(/\s+/g,"");return e=DZ(e),e=dF(e),e}function LZ(t){try{return MZ(t)}catch{return vp}}function SA(t){var e=LZ(t.slice(5,-1));return e===vp?"":e}var FZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UZ=["dx","dy","angle","className","breakAll"];function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hN.apply(this,arguments)}function l6(t,e){if(t==null)return{};var n=BZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c6(t,e){return $Z(t)||zZ(t,e)||qZ(t,e)||VZ()}function VZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(t,e){if(t){if(typeof t=="string")return u6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u6(t,e)}}function u6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function $Z(t){if(Array.isArray(t))return t}var fF=/[ \f\n\r\t\v\u2028\u2029]+/,hF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Vn(n)||(r?a=n.toString().split(""):a=n.toString().split(fF));var s=a.map(function(c){return{word:c,width:Hg(c,i).width}}),l=r?0:Hg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},HZ=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=_t(s),m=l,g=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return le.reduce(function(W,te){var re=te.word,ve=te.width,we=W[W.length-1];if(we&&(i==null||a||we.width+ve+r<Number(i)))we.words.push(re),we.width+=ve+r;else{var ie={words:[re],width:ve};W.push(ie)}return W},[])},y=g(n),E=function(le){return le.reduce(function(W,te){return W.width>te.width?W:te})};if(!h)return y;for(var A="",S=function(le){var W=m.slice(0,le),te=hF({breakAll:f,style:c,children:W+A}).wordsWithComputedWidth,re=g(te),ve=re.length>s||E(re).width>Number(i);return[ve,re]},I=0,P=m.length-1,F=0,B;I<=P&&F<=m.length-1;){var j=Math.floor((I+P)/2),V=j-1,O=S(V),D=c6(O,2),z=D[0],H=D[1],U=S(j),R=c6(U,1),C=R[0];if(!z&&!C&&(I=j+1),z&&C&&(P=j-1),!z&&C){B=H;break}F++}return B||y},d6=function(e){var n=Vn(e)?[]:e.toString().split(fF);return[{words:n}]},GZ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Am.isSsr){var c,f,h=hF({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;c=m,f=g}else return d6(i);return HZ({breakAll:s,children:i,maxLines:l,style:a},c,f,n,r)}return d6(i)},f6="#808080",Px=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,E=e.verticalAnchor,A=E===void 0?"end":E,S=e.fill,I=S===void 0?f6:S,P=l6(e,FZ),F=ye.useMemo(function(){return GZ({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:m,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,m,P.style,P.width]),B=P.dx,j=P.dy,V=P.angle,O=P.className,D=P.breakAll,z=l6(P,UZ);if(!ta(r)||!ta(a))return null;var H=r+(_t(B)?B:0),U=a+(_t(j)?j:0),R;switch(A){case"start":R=SA("calc(".concat(f,")"));break;case"middle":R=SA("calc(".concat((F.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:R=SA("calc(".concat(F.length-1," * -").concat(l,")"));break}var C=[];if(m){var G=F[0].width,le=P.width;C.push("scale(".concat((_t(le)?le/G:1)/G,")"))}return V&&C.push("rotate(".concat(V,", ").concat(H,", ").concat(U,")")),C.length&&(z.transform=C.join(" ")),Oe.createElement("text",hN({},On(z,!0),{x:H,y:U,className:Qn("recharts-text",O),textAnchor:y,fill:I.includes("url")?f6:I}),F.map(function(W,te){var re=W.words.join(D?"":" ");return Oe.createElement("tspan",{x:H,dy:te===0?R:l,key:"".concat(re,"-").concat(te)},re)}))};function zd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FT(t){let e,n,r;t.length!==2?(e=zd,n=(l,c)=>zd(t(l),c),r=(l,c)=>t(l)-c):(e=t===zd||t===WZ?t:KZ,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function KZ(){return 0}function pF(t){return t===null?NaN:+t}function*YZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const JZ=FT(zd),av=JZ.right;FT(pF).center;class h6 extends Map{constructor(e,n=ZZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(p6(this,e))}has(e){return super.has(p6(this,e))}set(e,n){return super.set(XZ(this,e),n)}delete(e){return super.delete(QZ(this,e))}}function p6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function XZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function QZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ZZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eee(t=zd){if(t===zd)return mF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tee=Math.sqrt(50),nee=Math.sqrt(10),ree=Math.sqrt(2);function Ox(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=tee?10:a>=nee?5:a>=ree?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Ox(t,e,n*2):[l,c,f]}function pN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Ox(e,t,n):Ox(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(a-f)/-s;else for(let f=0;f<l;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function mN(t,e,n){return e=+e,t=+t,n=+n,Ox(t,e,n)[2]}function gN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?mN(e,t,n):mN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function m6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function g6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?mF:eee(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/c+g)),E=Math.min(r,Math.floor(e+(c-f)*m/c+g));gF(t,e,y,E,i)}const a=t[e];let s=n,l=r;for(xg(t,n,e),i(t[r],a)>0&&xg(t,n,r);s<l;){for(xg(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?xg(t,n,l):(++l,xg(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function xg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iee(t,e,n){if(t=Float64Array.from(YZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return g6(t);if(e>=1)return m6(t);var r,i=(r-1)*e,a=Math.floor(i),s=m6(gF(t,a).subarray(0,a+1)),l=g6(t.subarray(a+1));return s+(l-s)*(i-a)}}function aee(t,e,n=pF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function see(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Xo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vN=Symbol("implicit");function UT(){var t=new h6,e=[],n=[],r=vN;function i(a){let s=t.get(a);if(s===void 0){if(r!==vN)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new h6;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UT(e,n).unknown(r)},Xo.apply(i,arguments),i}function g0(){var t=UT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var g=e().length,y=i<r,E=y?i:r,A=y?r:i;a=(A-E)/Math.max(1,g-c+f*2),l&&(a=Math.floor(a)),E+=(A-E-a*(g-c))*h,s=a*(1-c),l&&(E=Math.round(E),s=Math.round(s));var S=see(g).map(function(I){return E+a*I});return n(y?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return g0(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Xo.apply(m(),arguments)}function vF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vF(e())},t}function Gg(){return vF(g0.apply(null,arguments).paddingInner(1))}function BT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sv(){}var v0=.7,jx=1/v0,Tp="\\s*([+-]?\\d+)\\s*",y0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oee=/^#([0-9a-f]{3,8})$/,lee=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),cee=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),uee=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${y0}\\)$`),dee=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${y0}\\)$`),fee=new RegExp(`^hsl\\(${y0},${Ec},${Ec}\\)$`),hee=new RegExp(`^hsla\\(${y0},${Ec},${Ec},${y0}\\)$`),v6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BT(sv,x0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y6,formatHex:y6,formatHex8:pee,formatHsl:mee,formatRgb:x6,toString:x6});function y6(){return this.rgb().formatHex()}function pee(){return this.rgb().formatHex8()}function mee(){return xF(this).formatHsl()}function x6(){return this.rgb().formatRgb()}function x0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?b6(e):n===3?new $s(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lee.exec(t))?new $s(e[1],e[2],e[3],1):(e=cee.exec(t))?new $s(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uee.exec(t))?yy(e[1],e[2],e[3],e[4]):(e=dee.exec(t))?yy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fee.exec(t))?A6(e[1],e[2]/100,e[3]/100,1):(e=hee.exec(t))?A6(e[1],e[2]/100,e[3]/100,e[4]):v6.hasOwnProperty(t)?b6(v6[t]):t==="transparent"?new $s(NaN,NaN,NaN,0):null}function b6(t){return new $s(t>>16&255,t>>8&255,t&255,1)}function yy(t,e,n,r){return r<=0&&(t=e=n=NaN),new $s(t,e,n,r)}function gee(t){return t instanceof sv||(t=x0(t)),t?(t=t.rgb(),new $s(t.r,t.g,t.b,t.opacity)):new $s}function yN(t,e,n,r){return arguments.length===1?gee(t):new $s(t,e,n,r??1)}function $s(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BT($s,yN,yF(sv,{brighter(t){return t=t==null?jx:Math.pow(jx,t),new $s(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?v0:Math.pow(v0,t),new $s(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $s(Xf(this.r),Xf(this.g),Xf(this.b),Dx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_6,formatHex:_6,formatHex8:vee,formatRgb:w6,toString:w6}));function _6(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}`}function vee(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}${$f((isNaN(this.opacity)?1:this.opacity)*255)}`}function w6(){const t=Dx(this.opacity);return`${t===1?"rgb(":"rgba("}${Xf(this.r)}, ${Xf(this.g)}, ${Xf(this.b)}${t===1?")":`, ${t})`}`}function Dx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $f(t){return t=Xf(t),(t<16?"0":"")+t.toString(16)}function A6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tl(t,e,n,r)}function xF(t){if(t instanceof Tl)return new Tl(t.h,t.s,t.l,t.opacity);if(t instanceof sv||(t=x0(t)),!t)return new Tl;if(t instanceof Tl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Tl(s,l,c,t.opacity)}function yee(t,e,n,r){return arguments.length===1?xF(t):new Tl(t,e,n,r??1)}function Tl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BT(Tl,yee,yF(sv,{brighter(t){return t=t==null?jx:Math.pow(jx,t),new Tl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?v0:Math.pow(v0,t),new Tl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $s(NA(t>=240?t-240:t+120,i,r),NA(t,i,r),NA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tl(S6(this.h),xy(this.s),xy(this.l),Dx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dx(this.opacity);return`${t===1?"hsl(":"hsla("}${S6(this.h)}, ${xy(this.s)*100}%, ${xy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function S6(t){return t=(t||0)%360,t<0?t+360:t}function xy(t){return Math.max(0,Math.min(1,t||0))}function NA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VT=t=>()=>t;function xee(t,e){return function(n){return t+n*e}}function bee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _ee(t){return(t=+t)==1?bF:function(e,n){return n-e?bee(e,n,t):VT(isNaN(e)?n:e)}}function bF(t,e){var n=e-t;return n?xee(t,n):VT(isNaN(t)?e:t)}const N6=(function t(e){var n=_ee(e);function r(i,a){var s=n((i=yN(i)).r,(a=yN(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=bF(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function wee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Aee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function See(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Sm(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Nee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Eee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sm(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var xN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EA=new RegExp(xN.source,"g");function Tee(t){return function(){return t}}function Cee(t){return function(e){return t(e)+""}}function Iee(t,e){var n=xN.lastIndex=EA.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=xN.exec(t))&&(i=EA.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Mx(r,i)})),n=EA.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Cee(c[0].x):Tee(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function Sm(t,e){var n=typeof e,r;return e==null||n==="boolean"?VT(e):(n==="number"?Mx:n==="string"?(r=x0(e))?(e=r,N6):Iee:e instanceof x0?N6:e instanceof Date?Nee:Aee(e)?wee:Array.isArray(e)?See:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Eee:Mx)(t,e)}function qT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ree(t,e){e===void 0&&(e=t,t=Sm);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function kee(t){return function(){return t}}function Lx(t){return+t}var E6=[0,1];function ws(t){return t}function bN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kee(isNaN(e)?NaN:.5)}function Pee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Oee(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=bN(i,r),a=n(s,a)):(r=bN(r,i),a=n(a,s)),function(l){return a(r(l))}}function jee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=bN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=av(t,l,1,r)-1;return a[c](i[c](l))}}function ov(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rb(){var t=E6,e=E6,n=Sm,r,i,a,s=ws,l,c,f;function h(){var g=Math.min(t.length,e.length);return s!==ws&&(s=Pee(t[0],t[g-1])),l=g>2?jee:Oee,c=f=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(r),e,n)))(r(s(g)))}return m.invert=function(g){return s(i((f||(f=l(e,t.map(r),Mx)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Lx),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=qT,h()},m.clamp=function(g){return arguments.length?(s=g?!0:ws,h()):s!==ws},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,y){return r=g,i=y,h()}}function zT(){return rb()(ws,ws)}function Dee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fx(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wp(t){return t=Fx(Math.abs(t)),t?t[1]:NaN}function Mee(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Lee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Fee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b0(t){if(!(e=Fee.exec(t)))throw new Error("invalid format: "+t);var e;return new $T({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}b0.prototype=$T.prototype;function $T(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$T.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ux;function Bee(t,e){var n=Fx(t,e);if(!n)return Ux=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Ux=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fx(t,Math.max(0,e+a-1))[0]}function T6(t,e){var n=Fx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const C6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Dee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>T6(t*100,e),r:T6,s:Bee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function I6(t){return t}var R6=Array.prototype.map,k6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vee(t){var e=t.grouping===void 0||t.thousands===void 0?I6:Mee(R6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?I6:Lee(R6.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m,g){m=b0(m);var y=m.fill,E=m.align,A=m.sign,S=m.symbol,I=m.zero,P=m.width,F=m.comma,B=m.precision,j=m.trim,V=m.type;V==="n"?(F=!0,V="g"):C6[V]||(B===void 0&&(B=12),j=!0,V="g"),(I||y==="0"&&E==="=")&&(I=!0,y="0",E="=");var O=(g&&g.prefix!==void 0?g.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():""),D=(S==="$"?r:/[%p]/.test(V)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),z=C6[V],H=/[defgprs%]/.test(V);B=B===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function U(R){var C=O,G=D,le,W,te;if(V==="c")G=z(R)+G,R="";else{R=+R;var re=R<0||1/R<0;if(R=isNaN(R)?c:z(Math.abs(R),B),j&&(R=Uee(R)),re&&+R==0&&A!=="+"&&(re=!1),C=(re?A==="("?A:l:A==="-"||A==="("?"":A)+C,G=(V==="s"&&!isNaN(R)&&Ux!==void 0?k6[8+Ux/3]:"")+G+(re&&A==="("?")":""),H){for(le=-1,W=R.length;++le<W;)if(te=R.charCodeAt(le),48>te||te>57){G=(te===46?i+R.slice(le+1):R.slice(le))+G,R=R.slice(0,le);break}}}F&&!I&&(R=e(R,1/0));var ve=C.length+R.length+G.length,we=ve<P?new Array(P-ve+1).join(y):"";switch(F&&I&&(R=e(we+R,we.length?P-G.length:1/0),we=""),E){case"<":R=C+R+G+we;break;case"=":R=C+we+R+G;break;case"^":R=we.slice(0,ve=we.length>>1)+C+R+G+we.slice(ve);break;default:R=we+C+R+G;break}return a(R)}return U.toString=function(){return m+""},U}function h(m,g){var y=Math.max(-8,Math.min(8,Math.floor(Wp(g)/3)))*3,E=Math.pow(10,-y),A=f((m=b0(m),m.type="f",m),{suffix:k6[8+y/3]});return function(S){return A(E*S)}}return{format:f,formatPrefix:h}}var by,HT,_F;qee({thousands:",",grouping:[3],currency:["$",""]});function qee(t){return by=Vee(t),HT=by.format,_F=by.formatPrefix,by}function zee(t){return Math.max(0,-Wp(Math.abs(t)))}function $ee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wp(e)/3)))*3-Wp(Math.abs(t)))}function Hee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wp(e)-Wp(t))+1}function wF(t,e,n,r){var i=gN(t,e,n),a;switch(r=b0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=$ee(i,s))&&(r.precision=a),_F(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zee(i))&&(r.precision=a-(r.type==="%")*2);break}}return HT(r)}function df(t){var e=t.domain;return t.ticks=function(n){var r=e();return pN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return wF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=mN(s,l,n),f===c)return r[i]=s,r[a]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Bx(){var t=zT();return t.copy=function(){return ov(t,Bx())},Xo.apply(t,arguments),df(t)}function AF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return AF(t).unknown(e)},t=arguments.length?Array.from(t,Lx):[0,1],df(n)}function SF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function P6(t){return Math.log(t)}function O6(t){return Math.exp(t)}function Gee(t){return-Math.log(-t)}function Wee(t){return-Math.exp(-t)}function Kee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yee(t){return t===10?Kee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function j6(t){return(e,n)=>-t(-e,n)}function GT(t){const e=t(P6,O6),n=e.domain;let r=10,i,a;function s(){return i=Jee(r),a=Yee(r),n()[0]<0?(i=j6(i),a=j6(a),t(Gee,Wee)):t(P6,O6),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=i(f),y=i(h),E,A;const S=l==null?10:+l;let I=[];if(!(r%1)&&y-g<S){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(E=1;E<r;++E)if(A=g<0?E/a(-g):E*a(g),!(A<f)){if(A>h)break;I.push(A)}}else for(;g<=y;++g)for(E=r-1;E>=1;--E)if(A=g>0?E/a(-g):E*a(g),!(A<f)){if(A>h)break;I.push(A)}I.length*2<S&&(I=pN(f,h,S))}else I=pN(g,y,Math.min(y-g,S)).map(a);return m?I.reverse():I},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=b0(c)).precision==null&&(c.trim=!0),c=HT(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(SF(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function NF(){const t=GT(rb()).domain([1,10]);return t.copy=()=>ov(t,NF()).base(t.base()),Xo.apply(t,arguments),t}function D6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function M6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WT(t){var e=1,n=t(D6(e),M6(e));return n.constant=function(r){return arguments.length?t(D6(e=+r),M6(e)):e},df(n)}function EF(){var t=WT(rb());return t.copy=function(){return ov(t,EF()).constant(t.constant())},Xo.apply(t,arguments)}function L6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qee(t){return t<0?-t*t:t*t}function KT(t){var e=t(ws,ws),n=1;function r(){return n===1?t(ws,ws):n===.5?t(Xee,Qee):t(L6(n),L6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},df(e)}function YT(){var t=KT(rb());return t.copy=function(){return ov(t,YT()).exponent(t.exponent())},Xo.apply(t,arguments),t}function Zee(){return YT.apply(null,arguments).exponent(.5)}function F6(t){return Math.sign(t)*t*t}function ete(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TF(){var t=zT(),e=[0,1],n=!1,r;function i(a){var s=ete(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(F6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Lx)).map(F6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Xo.apply(i,arguments),df(i)}function CF(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=aee(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[av(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(zd),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return CF().domain(t).range(e).unknown(r)},Xo.apply(a,arguments)}function IF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[av(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return IF().domain([t,e]).range(i).unknown(a)},Xo.apply(df(s),arguments)}function RF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[av(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RF().domain(t).range(e).unknown(n)},Xo.apply(i,arguments)}const TA=new Date,CA=new Date;function ra(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return c},i.filter=a=>ra(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(TA.setTime(+a),CA.setTime(+s),t(TA),t(CA),Math.floor(n(TA,CA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Vx=ra(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ra(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vx);Vx.range;const yu=1e3,Go=yu*60,xu=Go*60,Iu=xu*24,JT=Iu*7,U6=Iu*30,IA=Iu*365,Hf=ra(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yu)},(t,e)=>(e-t)/yu,t=>t.getUTCSeconds());Hf.range;const XT=ra(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yu)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getMinutes());XT.range;const QT=ra(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getUTCMinutes());QT.range;const ZT=ra(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yu-t.getMinutes()*Go)},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getHours());ZT.range;const eC=ra(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getUTCHours());eC.range;const lv=ra(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Go)/Iu,t=>t.getDate()-1);lv.range;const ib=ra(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Iu,t=>t.getUTCDate()-1);ib.range;const kF=ra(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Iu,t=>Math.floor(t/Iu));kF.range;function mh(t){return ra(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Go)/JT)}const ab=mh(0),qx=mh(1),tte=mh(2),nte=mh(3),Kp=mh(4),rte=mh(5),ite=mh(6);ab.range;qx.range;tte.range;nte.range;Kp.range;rte.range;ite.range;function gh(t){return ra(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JT)}const sb=gh(0),zx=gh(1),ate=gh(2),ste=gh(3),Yp=gh(4),ote=gh(5),lte=gh(6);sb.range;zx.range;ate.range;ste.range;Yp.range;ote.range;lte.range;const tC=ra(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tC.range;const nC=ra(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nC.range;const Ru=ra(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ru.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ra(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ru.range;const ku=ra(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ku.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ra(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ku.range;function PF(t,e,n,r,i,a){const s=[[Hf,1,yu],[Hf,5,5*yu],[Hf,15,15*yu],[Hf,30,30*yu],[a,1,Go],[a,5,5*Go],[a,15,15*Go],[a,30,30*Go],[i,1,xu],[i,3,3*xu],[i,6,6*xu],[i,12,12*xu],[r,1,Iu],[r,2,2*Iu],[n,1,JT],[e,1,U6],[e,3,3*U6],[t,1,IA]];function l(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const y=m&&typeof m.range=="function"?m:c(f,h,m),E=y?y.range(f,+h+1):[];return g?E.reverse():E}function c(f,h,m){const g=Math.abs(h-f)/m,y=FT(([,,S])=>S).right(s,g);if(y===s.length)return t.every(gN(f/IA,h/IA,m));if(y===0)return Vx.every(Math.max(gN(f,h,m),1));const[E,A]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return E.every(A)}return[l,c]}const[cte,ute]=PF(ku,nC,sb,kF,eC,QT),[dte,fte]=PF(Ru,tC,ab,lv,ZT,XT);function RA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function hte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=_g(i),h=wg(i),m=_g(a),g=wg(a),y=_g(s),E=wg(s),A=_g(l),S=wg(l),I=_g(c),P=wg(c),F={a:te,A:re,b:ve,B:we,c:null,d:H6,e:H6,f:Mte,g:Gte,G:Kte,H:Ote,I:jte,j:Dte,L:OF,m:Lte,M:Fte,p:ie,q:L,Q:K6,s:Y6,S:Ute,u:Bte,U:Vte,V:qte,w:zte,W:$te,x:null,X:null,y:Hte,Y:Wte,Z:Yte,"%":W6},B={a:Y,A:ee,b:X,B:Q,c:null,d:G6,e:G6,f:Zte,g:cne,G:dne,H:Jte,I:Xte,j:Qte,L:DF,m:ene,M:tne,p:ge,q:be,Q:K6,s:Y6,S:nne,u:rne,U:ine,V:ane,w:sne,W:one,x:null,X:null,y:lne,Y:une,Z:fne,"%":W6},j={a:H,A:U,b:R,B:C,c:G,d:z6,e:z6,f:Ite,g:q6,G:V6,H:$6,I:$6,j:Nte,L:Cte,m:Ste,M:Ete,p:z,q:Ate,Q:kte,s:Pte,S:Tte,u:yte,U:xte,V:bte,w:vte,W:_te,x:le,X:W,y:q6,Y:V6,Z:wte,"%":Rte};F.x=V(n,F),F.X=V(r,F),F.c=V(e,F),B.x=V(n,B),B.X=V(r,B),B.c=V(e,B);function V(ae,Se){return function(Ee){var _e=[],Je=-1,Fe=0,Ne=ae.length,ne,Be,Ze;for(Ee instanceof Date||(Ee=new Date(+Ee));++Je<Ne;)ae.charCodeAt(Je)===37&&(_e.push(ae.slice(Fe,Je)),(Be=B6[ne=ae.charAt(++Je)])!=null?ne=ae.charAt(++Je):Be=ne==="e"?" ":"0",(Ze=Se[ne])&&(ne=Ze(Ee,Be)),_e.push(ne),Fe=Je+1);return _e.push(ae.slice(Fe,Je)),_e.join("")}}function O(ae,Se){return function(Ee){var _e=bg(1900,void 0,1),Je=D(_e,ae,Ee+="",0),Fe,Ne;if(Je!=Ee.length)return null;if("Q"in _e)return new Date(_e.Q);if("s"in _e)return new Date(_e.s*1e3+("L"in _e?_e.L:0));if(Se&&!("Z"in _e)&&(_e.Z=0),"p"in _e&&(_e.H=_e.H%12+_e.p*12),_e.m===void 0&&(_e.m="q"in _e?_e.q:0),"V"in _e){if(_e.V<1||_e.V>53)return null;"w"in _e||(_e.w=1),"Z"in _e?(Fe=kA(bg(_e.y,0,1)),Ne=Fe.getUTCDay(),Fe=Ne>4||Ne===0?zx.ceil(Fe):zx(Fe),Fe=ib.offset(Fe,(_e.V-1)*7),_e.y=Fe.getUTCFullYear(),_e.m=Fe.getUTCMonth(),_e.d=Fe.getUTCDate()+(_e.w+6)%7):(Fe=RA(bg(_e.y,0,1)),Ne=Fe.getDay(),Fe=Ne>4||Ne===0?qx.ceil(Fe):qx(Fe),Fe=lv.offset(Fe,(_e.V-1)*7),_e.y=Fe.getFullYear(),_e.m=Fe.getMonth(),_e.d=Fe.getDate()+(_e.w+6)%7)}else("W"in _e||"U"in _e)&&("w"in _e||(_e.w="u"in _e?_e.u%7:"W"in _e?1:0),Ne="Z"in _e?kA(bg(_e.y,0,1)).getUTCDay():RA(bg(_e.y,0,1)).getDay(),_e.m=0,_e.d="W"in _e?(_e.w+6)%7+_e.W*7-(Ne+5)%7:_e.w+_e.U*7-(Ne+6)%7);return"Z"in _e?(_e.H+=_e.Z/100|0,_e.M+=_e.Z%100,kA(_e)):RA(_e)}}function D(ae,Se,Ee,_e){for(var Je=0,Fe=Se.length,Ne=Ee.length,ne,Be;Je<Fe;){if(_e>=Ne)return-1;if(ne=Se.charCodeAt(Je++),ne===37){if(ne=Se.charAt(Je++),Be=j[ne in B6?Se.charAt(Je++):ne],!Be||(_e=Be(ae,Ee,_e))<0)return-1}else if(ne!=Ee.charCodeAt(_e++))return-1}return _e}function z(ae,Se,Ee){var _e=f.exec(Se.slice(Ee));return _e?(ae.p=h.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function H(ae,Se,Ee){var _e=y.exec(Se.slice(Ee));return _e?(ae.w=E.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function U(ae,Se,Ee){var _e=m.exec(Se.slice(Ee));return _e?(ae.w=g.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function R(ae,Se,Ee){var _e=I.exec(Se.slice(Ee));return _e?(ae.m=P.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function C(ae,Se,Ee){var _e=A.exec(Se.slice(Ee));return _e?(ae.m=S.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function G(ae,Se,Ee){return D(ae,e,Se,Ee)}function le(ae,Se,Ee){return D(ae,n,Se,Ee)}function W(ae,Se,Ee){return D(ae,r,Se,Ee)}function te(ae){return s[ae.getDay()]}function re(ae){return a[ae.getDay()]}function ve(ae){return c[ae.getMonth()]}function we(ae){return l[ae.getMonth()]}function ie(ae){return i[+(ae.getHours()>=12)]}function L(ae){return 1+~~(ae.getMonth()/3)}function Y(ae){return s[ae.getUTCDay()]}function ee(ae){return a[ae.getUTCDay()]}function X(ae){return c[ae.getUTCMonth()]}function Q(ae){return l[ae.getUTCMonth()]}function ge(ae){return i[+(ae.getUTCHours()>=12)]}function be(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Se=V(ae+="",F);return Se.toString=function(){return ae},Se},parse:function(ae){var Se=O(ae+="",!1);return Se.toString=function(){return ae},Se},utcFormat:function(ae){var Se=V(ae+="",B);return Se.toString=function(){return ae},Se},utcParse:function(ae){var Se=O(ae+="",!0);return Se.toString=function(){return ae},Se}}}var B6={"-":"",_:" ",0:"0"},va=/^\s*\d+/,pte=/^%/,mte=/[\\^$*+?|[\]().{}]/g;function ir(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function gte(t){return t.replace(mte,"\\$&")}function _g(t){return new RegExp("^(?:"+t.map(gte).join("|")+")","i")}function wg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function vte(t,e,n){var r=va.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yte(t,e,n){var r=va.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _te(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function V6(t,e,n){var r=va.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function q6(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ate(t,e,n){var r=va.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ste(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function z6(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nte(t,e,n){var r=va.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $6(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ete(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Tte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Cte(t,e,n){var r=va.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ite(t,e,n){var r=va.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rte(t,e,n){var r=pte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kte(t,e,n){var r=va.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Pte(t,e,n){var r=va.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function H6(t,e){return ir(t.getDate(),e,2)}function Ote(t,e){return ir(t.getHours(),e,2)}function jte(t,e){return ir(t.getHours()%12||12,e,2)}function Dte(t,e){return ir(1+lv.count(Ru(t),t),e,3)}function OF(t,e){return ir(t.getMilliseconds(),e,3)}function Mte(t,e){return OF(t,e)+"000"}function Lte(t,e){return ir(t.getMonth()+1,e,2)}function Fte(t,e){return ir(t.getMinutes(),e,2)}function Ute(t,e){return ir(t.getSeconds(),e,2)}function Bte(t){var e=t.getDay();return e===0?7:e}function Vte(t,e){return ir(ab.count(Ru(t)-1,t),e,2)}function jF(t){var e=t.getDay();return e>=4||e===0?Kp(t):Kp.ceil(t)}function qte(t,e){return t=jF(t),ir(Kp.count(Ru(t),t)+(Ru(t).getDay()===4),e,2)}function zte(t){return t.getDay()}function $te(t,e){return ir(qx.count(Ru(t)-1,t),e,2)}function Hte(t,e){return ir(t.getFullYear()%100,e,2)}function Gte(t,e){return t=jF(t),ir(t.getFullYear()%100,e,2)}function Wte(t,e){return ir(t.getFullYear()%1e4,e,4)}function Kte(t,e){var n=t.getDay();return t=n>=4||n===0?Kp(t):Kp.ceil(t),ir(t.getFullYear()%1e4,e,4)}function Yte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ir(e/60|0,"0",2)+ir(e%60,"0",2)}function G6(t,e){return ir(t.getUTCDate(),e,2)}function Jte(t,e){return ir(t.getUTCHours(),e,2)}function Xte(t,e){return ir(t.getUTCHours()%12||12,e,2)}function Qte(t,e){return ir(1+ib.count(ku(t),t),e,3)}function DF(t,e){return ir(t.getUTCMilliseconds(),e,3)}function Zte(t,e){return DF(t,e)+"000"}function ene(t,e){return ir(t.getUTCMonth()+1,e,2)}function tne(t,e){return ir(t.getUTCMinutes(),e,2)}function nne(t,e){return ir(t.getUTCSeconds(),e,2)}function rne(t){var e=t.getUTCDay();return e===0?7:e}function ine(t,e){return ir(sb.count(ku(t)-1,t),e,2)}function MF(t){var e=t.getUTCDay();return e>=4||e===0?Yp(t):Yp.ceil(t)}function ane(t,e){return t=MF(t),ir(Yp.count(ku(t),t)+(ku(t).getUTCDay()===4),e,2)}function sne(t){return t.getUTCDay()}function one(t,e){return ir(zx.count(ku(t)-1,t),e,2)}function lne(t,e){return ir(t.getUTCFullYear()%100,e,2)}function cne(t,e){return t=MF(t),ir(t.getUTCFullYear()%100,e,2)}function une(t,e){return ir(t.getUTCFullYear()%1e4,e,4)}function dne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yp(t):Yp.ceil(t),ir(t.getUTCFullYear()%1e4,e,4)}function fne(){return"+0000"}function W6(){return"%"}function K6(t){return+t}function Y6(t){return Math.floor(+t/1e3)}var ap,LF,FF;hne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hne(t){return ap=hte(t),LF=ap.format,ap.parse,FF=ap.utcFormat,ap.utcParse,ap}function pne(t){return new Date(t)}function mne(t){return t instanceof Date?+t:+new Date(+t)}function rC(t,e,n,r,i,a,s,l,c,f){var h=zT(),m=h.invert,g=h.domain,y=f(".%L"),E=f(":%S"),A=f("%I:%M"),S=f("%I %p"),I=f("%a %d"),P=f("%b %d"),F=f("%B"),B=f("%Y");function j(V){return(c(V)<V?y:l(V)<V?E:s(V)<V?A:a(V)<V?S:r(V)<V?i(V)<V?I:P:n(V)<V?F:B)(V)}return h.invert=function(V){return new Date(m(V))},h.domain=function(V){return arguments.length?g(Array.from(V,mne)):g().map(pne)},h.ticks=function(V){var O=g();return t(O[0],O[O.length-1],V??10)},h.tickFormat=function(V,O){return O==null?j:f(O)},h.nice=function(V){var O=g();return(!V||typeof V.range!="function")&&(V=e(O[0],O[O.length-1],V??10)),V?g(SF(O,V)):h},h.copy=function(){return ov(h,rC(t,e,n,r,i,a,s,l,c,f))},h}function gne(){return Xo.apply(rC(dte,fte,Ru,tC,ab,lv,ZT,XT,Hf,LF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vne(){return Xo.apply(rC(cte,ute,ku,nC,sb,ib,eC,QT,Hf,FF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ob(){var t=0,e=1,n,r,i,a,s=ws,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(g){var y,E;return arguments.length?([y,E]=g,s=m(y,E),f):[s(0),s(1)]}}return f.range=h(Sm),f.rangeRound=h(qT),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function ff(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UF(){var t=df(ob()(ws));return t.copy=function(){return ff(t,UF())},Vu.apply(t,arguments)}function BF(){var t=GT(ob()).domain([1,10]);return t.copy=function(){return ff(t,BF()).base(t.base())},Vu.apply(t,arguments)}function VF(){var t=WT(ob());return t.copy=function(){return ff(t,VF()).constant(t.constant())},Vu.apply(t,arguments)}function iC(){var t=KT(ob());return t.copy=function(){return ff(t,iC()).exponent(t.exponent())},Vu.apply(t,arguments)}function yne(){return iC.apply(null,arguments).exponent(.5)}function qF(){var t=[],e=ws;function n(r){if(r!=null&&!isNaN(r=+r))return e((av(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>iee(t,a/r))},n.copy=function(){return qF(e).domain(t)},Vu.apply(n,arguments)}function lb(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,f=ws,h,m=!1,g;function y(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-a)*(r*A<r*a?l:c),f(m?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(A){return arguments.length?(m=!!A,y):m},y.interpolator=function(A){return arguments.length?(f=A,y):f};function E(A){return function(S){var I,P,F;return arguments.length?([I,P,F]=S,f=Ree(A,[I,P,F]),y):[f(0),f(.5),f(1)]}}return y.range=E(Sm),y.rangeRound=E(qT),y.unknown=function(A){return arguments.length?(g=A,y):g},function(A){return h=A,i=A(t),a=A(e),s=A(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function zF(){var t=df(lb()(ws));return t.copy=function(){return ff(t,zF())},Vu.apply(t,arguments)}function $F(){var t=GT(lb()).domain([.1,1,10]);return t.copy=function(){return ff(t,$F()).base(t.base())},Vu.apply(t,arguments)}function HF(){var t=WT(lb());return t.copy=function(){return ff(t,HF()).constant(t.constant())},Vu.apply(t,arguments)}function aC(){var t=KT(lb());return t.copy=function(){return ff(t,aC()).exponent(t.exponent())},Vu.apply(t,arguments)}function xne(){return aC.apply(null,arguments).exponent(.5)}const J6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:g0,scaleDiverging:zF,scaleDivergingLog:$F,scaleDivergingPow:aC,scaleDivergingSqrt:xne,scaleDivergingSymlog:HF,scaleIdentity:AF,scaleImplicit:vN,scaleLinear:Bx,scaleLog:NF,scaleOrdinal:UT,scalePoint:Gg,scalePow:YT,scaleQuantile:CF,scaleQuantize:IF,scaleRadial:TF,scaleSequential:UF,scaleSequentialLog:BF,scaleSequentialPow:iC,scaleSequentialQuantile:qF,scaleSequentialSqrt:yne,scaleSequentialSymlog:VF,scaleSqrt:Zee,scaleSymlog:EF,scaleThreshold:RF,scaleTime:gne,scaleUtc:vne,tickFormat:wF},Symbol.toStringTag,{value:"Module"}));var PA,X6;function GF(){if(X6)return PA;X6=1;var t=xm();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return PA=e,PA}var OA,Q6;function bne(){if(Q6)return OA;Q6=1;function t(e,n){return e>n}return OA=t,OA}var jA,Z6;function _ne(){if(Z6)return jA;Z6=1;var t=GF(),e=bne(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return jA=r,jA}var wne=_ne();const Ld=Sr(wne);var DA,ej;function Ane(){if(ej)return DA;ej=1;function t(e,n){return e<n}return DA=t,DA}var MA,tj;function Sne(){if(tj)return MA;tj=1;var t=GF(),e=Ane(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return MA=r,MA}var Nne=Sne();const cb=Sr(Nne);var LA,nj;function Ene(){if(nj)return LA;nj=1;var t=_T(),e=uf(),n=tF(),r=Hs();function i(a,s){var l=r(a)?t:n;return l(a,e(s,3))}return LA=i,LA}var FA,rj;function Tne(){if(rj)return FA;rj=1;var t=Z9(),e=Ene();function n(r,i){return t(e(r,i),1)}return FA=n,FA}var Cne=Tne();const Ine=Sr(Cne);var UA,ij;function Rne(){if(ij)return UA;ij=1;var t=jT();function e(n,r){return t(n,r)}return UA=e,UA}var kne=Rne();const _0=Sr(kne);var Nm=1e9,Pne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oC,ii=!0,Yo="[DecimalError] ",Qf=Yo+"Invalid argument: ",sC=Yo+"Exponent out of range: ",Em=Math.floor,Ff=Math.pow,One=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mo,pa=1e7,Wr=7,WF=9007199254740991,$x=Em(WF/Wr),Lt={};Lt.absoluteValue=Lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Lt.comparedTo=Lt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Lt.decimalPlaces=Lt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Lt.dividedBy=Lt.div=function(t){return Eu(this,new this.constructor(t))};Lt.dividedToIntegerBy=Lt.idiv=function(t){var e=this,n=e.constructor;return kr(Eu(e,new n(t),0,1),n.precision)};Lt.equals=Lt.eq=function(t){return!this.cmp(t)};Lt.exponent=function(){return zi(this)};Lt.greaterThan=Lt.gt=function(t){return this.cmp(t)>0};Lt.greaterThanOrEqualTo=Lt.gte=function(t){return this.cmp(t)>=0};Lt.isInteger=Lt.isint=function(){return this.e>this.d.length-2};Lt.isNegative=Lt.isneg=function(){return this.s<0};Lt.isPositive=Lt.ispos=function(){return this.s>0};Lt.isZero=function(){return this.s===0};Lt.lessThan=Lt.lt=function(t){return this.cmp(t)<0};Lt.lessThanOrEqualTo=Lt.lte=function(t){return this.cmp(t)<1};Lt.logarithm=Lt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mo))throw Error(Yo+"NaN");if(n.s<1)throw Error(Yo+(n.s?"NaN":"-Infinity"));return n.eq(mo)?new r(0):(ii=!1,e=Eu(w0(n,a),w0(t,a),a),ii=!0,kr(e,i))};Lt.minus=Lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JF(e,t):KF(e,(t.s=-t.s,t))};Lt.modulo=Lt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Yo+"NaN");return n.s?(ii=!1,e=Eu(n,t,0,1).times(t),ii=!0,n.minus(e)):kr(new r(n),i)};Lt.naturalExponential=Lt.exp=function(){return YF(this)};Lt.naturalLogarithm=Lt.ln=function(){return w0(this)};Lt.negated=Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Lt.plus=Lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KF(e,t):JF(e,(t.s=-t.s,t))};Lt.precision=Lt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qf+t);if(e=zi(i)+1,r=i.d.length-1,n=r*Wr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Lt.squareRoot=Lt.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yo+"NaN")}for(t=zi(l),ii=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=_c(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Em((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Eu(l,a,s+2)).times(.5),_c(a.d).slice(0,s)===(e=_c(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(kr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ii=!0,kr(r,n)};Lt.times=Lt.mul=function(t){var e,n,r,i,a,s,l,c,f,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=y.length,c<f&&(a=g,g=y,y=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+y[r]*g[i-r-1]+e,a[i--]=l%pa|0,e=l/pa|0;a[i]=(a[i]+e)%pa|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ii?kr(t,m.precision):t};Lt.toDecimalPlaces=Lt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fc(t,0,Nm),e===void 0?e=r.rounding:Fc(e,0,8),kr(n,t+zi(n)+1,e))};Lt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ah(r,!0):(Fc(t,0,Nm),e===void 0?e=i.rounding:Fc(e,0,8),r=kr(new i(r),t+1,e),n=ah(r,!0,t+1)),n};Lt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ah(i):(Fc(t,0,Nm),e===void 0?e=a.rounding:Fc(e,0,8),r=kr(new a(i),t+zi(i)+1,e),n=ah(r.abs(),!1,t+zi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Lt.toInteger=Lt.toint=function(){var t=this,e=t.constructor;return kr(new e(t),zi(t)+1,e.rounding)};Lt.toNumber=function(){return+this};Lt.toPower=Lt.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(mo);if(l=new c(l),!l.s){if(t.s<1)throw Error(Yo+"Infinity");return l}if(l.eq(mo))return l;if(r=c.precision,t.eq(mo))return kr(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=WF){for(i=new c(mo),e=Math.ceil(r/Wr+4),ii=!1;n%2&&(i=i.times(l),sj(i.d,e)),n=Em(n/2),n!==0;)l=l.times(l),sj(l.d,e);return ii=!0,t.s<0?new c(mo).div(i):kr(i,r)}}else if(a<0)throw Error(Yo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ii=!1,i=t.times(w0(l,r+f)),ii=!0,i=YF(i),i.s=a,i};Lt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=zi(i),r=ah(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fc(t,1,Nm),e===void 0?e=a.rounding:Fc(e,0,8),i=kr(new a(i),t,e),n=zi(i),r=ah(i,t<=n||n<=a.toExpNeg,t)),r};Lt.toSignificantDigits=Lt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fc(t,1,Nm),e===void 0?e=r.rounding:Fc(e,0,8)),kr(new r(n),t,e)};Lt.toString=Lt.valueOf=Lt.val=Lt.toJSON=Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zi(t),n=t.constructor;return ah(t,e<=n.toExpNeg||e>=n.toExpPos)};function KF(t,e){var n,r,i,a,s,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ii?kr(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(m/Wr),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/pa|0,c[a]%=pa;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ii?kr(e,m):e}function Fc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qf+t)}function _c(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Wr-r.length,n&&(a+=Rd(n)),a+=r;s=t[e],r=s+"",n=Wr-r.length,n&&(a+=Rd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Eu=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%pa|0,s=a/pa|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*pa+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,f,h,m,g,y,E,A,S,I,P,F,B,j,V,O,D,z=r.constructor,H=r.s==i.s?1:-1,U=r.d,R=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Yo+"Division by zero");for(c=r.e-i.e,O=R.length,j=U.length,y=new z(H),E=y.d=[],f=0;R[f]==(U[f]||0);)++f;if(R[f]>(U[f]||0)&&--c,a==null?P=a=z.precision:s?P=a+(zi(r)-zi(i))+1:P=a,P<0)return new z(0);if(P=P/Wr+2|0,f=0,O==1)for(h=0,R=R[0],P++;(f<j||h)&&P--;f++)F=h*pa+(U[f]||0),E[f]=F/R|0,h=F%R|0;else{for(h=pa/(R[0]+1)|0,h>1&&(R=t(R,h),U=t(U,h),O=R.length,j=U.length),B=O,A=U.slice(0,O),S=A.length;S<O;)A[S++]=0;D=R.slice(),D.unshift(0),V=R[0],R[1]>=pa/2&&++V;do h=0,l=e(R,A,O,S),l<0?(I=A[0],O!=S&&(I=I*pa+(A[1]||0)),h=I/V|0,h>1?(h>=pa&&(h=pa-1),m=t(R,h),g=m.length,S=A.length,l=e(m,A,g,S),l==1&&(h--,n(m,O<g?D:R,g))):(h==0&&(l=h=1),m=R.slice()),g=m.length,g<S&&m.unshift(0),n(A,m,S),l==-1&&(S=A.length,l=e(R,A,O,S),l<1&&(h++,n(A,O<S?D:R,S))),S=A.length):l===0&&(h++,A=[0]),E[f++]=h,l&&A[0]?A[S++]=U[B]||0:(A=[U[B]],S=1);while((B++<j||A[0]!==void 0)&&P--)}return E[0]||E.shift(),y.e=c,kr(y,s?a+zi(y)+1:a)}})();function YF(t,e){var n,r,i,a,s,l,c=0,f=0,h=t.constructor,m=h.precision;if(zi(t)>16)throw Error(sC+zi(t));if(!t.s)return new h(mo);for(ii=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Ff(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(mo),h.precision=l;;){if(i=kr(i.times(t),l),n=n.times(++c),s=a.plus(Eu(i,n,l)),_c(s.d).slice(0,l)===_c(a.d).slice(0,l)){for(;f--;)a=kr(a.times(a),l);return h.precision=m,e==null?(ii=!0,kr(a,m)):a}a=s}}function zi(t){for(var e=t.e*Wr,n=t.d[0];n>=10;n/=10)e++;return e}function BA(t,e,n){if(e>t.LN10.sd())throw ii=!0,n&&(t.precision=n),Error(Yo+"LN10 precision limit exceeded");return kr(new t(t.LN10),e)}function Rd(t){for(var e="";t--;)e+="0";return e}function w0(t,e){var n,r,i,a,s,l,c,f,h,m=1,g=10,y=t,E=y.d,A=y.constructor,S=A.precision;if(y.s<1)throw Error(Yo+(y.s?"NaN":"-Infinity"));if(y.eq(mo))return new A(0);if(e==null?(ii=!1,f=S):f=e,y.eq(10))return e==null&&(ii=!0),BA(A,f);if(f+=g,A.precision=f,n=_c(E),r=n.charAt(0),a=zi(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=_c(y.d),r=n.charAt(0),m++;a=zi(y),r>1?(y=new A("0."+n),a++):y=new A(r+"."+n.slice(1))}else return c=BA(A,f+2,S).times(a+""),y=w0(new A(r+"."+n.slice(1)),f-g).plus(c),A.precision=S,e==null?(ii=!0,kr(y,S)):y;for(l=s=y=Eu(y.minus(mo),y.plus(mo),f),h=kr(y.times(y),f),i=3;;){if(s=kr(s.times(h),f),c=l.plus(Eu(s,new A(i),f)),_c(c.d).slice(0,f)===_c(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(BA(A,f+2,S).times(a+""))),l=Eu(l,new A(m),f),A.precision=S,e==null?(ii=!0,kr(l,S)):l;l=c,i+=2}}function aj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Em(n/Wr),t.d=[],r=(n+1)%Wr,n<0&&(r+=Wr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wr;r<i;)t.d.push(+e.slice(r,r+=Wr));e=e.slice(r),r=Wr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ii&&(t.e>$x||t.e<-$x))throw Error(sC+n)}else t.s=0,t.e=0,t.d=[0];return t}function kr(t,e,n){var r,i,a,s,l,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Wr,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Wr),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;r%=Wr,i=r-Wr+s}if(n!==void 0&&(a=Ff(10,s-i-1),l=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Ff(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=zi(t),m.length=1,e=e-a-1,m[0]=Ff(10,(Wr-e%Wr)%Wr),t.e=Em(-e/Wr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Ff(10,Wr-r),m[h]=i>0?(f/Ff(10,s-i)%Ff(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==pa&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=pa)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(ii&&(t.e>$x||t.e<-$x))throw Error(sC+zi(t));return t}function JF(t,e){var n,r,i,a,s,l,c,f,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ii?kr(e,y):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(y/Wr),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=pa-1;--c[a],c[i]+=pa}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,ii?kr(e,y):e):new g(0)}function ah(t,e,n){var r,i=zi(t),a=_c(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Rd(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Rd(-i-1)+a,n&&(r=n-s)>0&&(a+=Rd(r))):i>=s?(a+=Rd(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Rd(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Rd(r))),t.s<0?"-"+a:a}function sj(t,e){if(t.length>e)return t.length=e,!0}function XF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aj(s,a.toString())}else if(typeof a!="string")throw Error(Qf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,One.test(a))aj(s,a);else throw Error(Qf+a)}if(i.prototype=Lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XF,i.config=i.set=jne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jne(t){if(!t||typeof t!="object")throw Error(Yo+"Object expected");var e,n,r,i=["precision",1,Nm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Em(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qf+n+": "+r);return this}var oC=XF(Pne);mo=new oC(1);const Ar=oC;function Dne(t){return Une(t)||Fne(t)||Lne(t)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(t,e){if(t){if(typeof t=="string")return _N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(t,e)}}function Fne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Une(t){if(Array.isArray(t))return _N(t)}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bne=function(e){return e},QF={},ZF=function(e){return e===QF},oj=function(e){return function n(){return arguments.length===0||arguments.length===1&&ZF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Vne=function t(e,n){return e===1?n:oj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==QF}).length;return s>=e?n.apply(void 0,i):t(e-s,oj(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return ZF(m)?c.shift():m});return n.apply(void 0,Dne(h).concat(c))}))})},ub=function(e){return Vne(e.length,e)},wN=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},qne=ub(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),zne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Bne;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},AN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},eU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function $ne(t){var e;return t===0?e=1:e=Math.floor(new Ar(t).abs().log(10).toNumber())+1,e}function Hne(t,e,n){for(var r=new Ar(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Gne=ub(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Wne=ub(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Kne=ub(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const db={rangeStep:Hne,getDigitCount:$ne,interpolateNumber:Gne,uninterpolateNumber:Wne,uninterpolateTruncation:Kne};function SN(t){return Xne(t)||Jne(t)||tU(t)||Yne()}function Yne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xne(t){if(Array.isArray(t))return NN(t)}function A0(t,e){return ere(t)||Zne(t,e)||tU(t,e)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function ere(t){if(Array.isArray(t))return t}function nU(t){var e=A0(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function rU(t,e,n){if(t.lte(0))return new Ar(0);var r=db.getDigitCount(t.toNumber()),i=new Ar(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Ar(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new Ar(Math.ceil(c))}function tre(t,e,n){var r=1,i=new Ar(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ar(10).pow(db.getDigitCount(t)-1),i=new Ar(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ar(Math.floor(t)))}else t===0?i=new Ar(Math.floor((e-1)/2)):n||(i=new Ar(Math.floor(t)));var s=Math.floor((e-1)/2),l=zne(qne(function(c){return i.add(new Ar(c-s).mul(r)).toNumber()}),wN);return l(0,e)}function iU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var a=rU(new Ar(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ar(0):(s=new Ar(t).add(e).div(2),s=s.sub(new Ar(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Ar(e).sub(s).div(a).toNumber()),f=l+c+1;return f>n?iU(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:a,tickMin:s.sub(new Ar(l).mul(a)),tickMax:s.add(new Ar(c).mul(a))})}function nre(t){var e=A0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=nU([n,r]),c=A0(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(SN(wN(0,i-1).map(function(){return 1/0}))):[].concat(SN(wN(0,i-1).map(function(){return-1/0})),[h]);return n>r?AN(m):m}if(f===h)return tre(f,i,a);var g=iU(f,h,s,a),y=g.step,E=g.tickMin,A=g.tickMax,S=db.rangeStep(E,A.add(new Ar(.1).mul(y)),y);return n>r?AN(S):S}function rre(t,e){var n=A0(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=nU([r,i]),l=A0(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=rU(new Ar(f).sub(c).div(h-1),a,0),g=[].concat(SN(db.rangeStep(new Ar(c),new Ar(f).sub(new Ar(.99).mul(m)),m)),[f]);return r>i?AN(g):g}var ire=eU(nre),are=eU(rre),sre="Invariant failed";function sh(t,e){throw new Error(sre)}var ore=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function lre(t,e){return fre(t)||dre(t,e)||ure(t,e)||cre()}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(t,e){if(t){if(typeof t=="string")return lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lj(t,e)}}function lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function fre(t){if(Array.isArray(t))return t}function hre(t,e){if(t==null)return{};var n=pre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oU(r.key),r)}}function vre(t,e,n){return e&&gre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yre(t,e,n){return e=Gx(e),xre(t,aU()?Reflect.construct(e,n||[],Gx(t).constructor):e.apply(t,n))}function xre(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bre(t)}function bre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(t)}function _re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EN(t,e)}function EN(t,e){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EN(t,e)}function sU(t,e,n){return e=oU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oU(t){var e=wre(t,"string");return Jp(e)=="symbol"?e:e+""}function wre(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fb=(function(t){function e(){return mre(this,e),yre(this,e,arguments)}return _re(e,t),vre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,g=hre(r,ore),y=On(g,!1);this.props.direction==="x"&&h.type!=="number"&&sh();var E=c.map(function(A){var S=f(A,l),I=S.x,P=S.y,F=S.value,B=S.errorVal;if(!B)return null;var j=[],V,O;if(Array.isArray(B)){var D=lre(B,2);V=D[0],O=D[1]}else V=O=B;if(a==="vertical"){var z=h.scale,H=P+i,U=H+s,R=H-s,C=z(F-V),G=z(F+O);j.push({x1:G,y1:U,x2:G,y2:R}),j.push({x1:C,y1:H,x2:G,y2:H}),j.push({x1:C,y1:U,x2:C,y2:R})}else if(a==="horizontal"){var le=m.scale,W=I+i,te=W-s,re=W+s,ve=le(F-V),we=le(F+O);j.push({x1:te,y1:we,x2:re,y2:we}),j.push({x1:W,y1:ve,x2:W,y2:we}),j.push({x1:te,y1:ve,x2:re,y2:ve})}return Oe.createElement(oi,Hx({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},y),j.map(function(ie){return Oe.createElement("line",Hx({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return Oe.createElement(oi,{className:"recharts-errorBars"},E)}}])})(Oe.Component);sU(fb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sU(fb,"displayName","ErrorBar");function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Nre(t,"string");return S0(e)=="symbol"?e:e+""}function Nre(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=po(n,Ep);if(!s)return null;var l=Ep.defaultProps,c=l!==void 0?Mf(Mf({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,m){var g=m.item,y=m.props,E=y.sectors||y.data||[];return h.concat(E.map(function(A){return{type:s.props.iconType||g.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):f=(r||[]).map(function(h){var m=h.item,g=m.type.defaultProps,y=g!==void 0?Mf(Mf({},g),m.props):{},E=y.dataKey,A=y.name,S=y.legendType,I=y.hide;return{inactive:I,dataKey:E,type:c.iconType||S||"square",color:lC(m),value:A||E,payload:y}}),Mf(Mf(Mf({},c),Ep.getWithHeight(s,i)),{},{payload:f,item:s})};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function uj(t){return Ire(t)||Cre(t)||Tre(t)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ire(t){if(Array.isArray(t))return TN(t)}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Cp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cp(t,e,n){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=kre(t,"string");return N0(e)=="symbol"?e:e+""}function kre(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bo(t,e,n){return Vn(t)||Vn(e)?n:ta(e)?Wo(t,e,n):wn(e)?e(t):n}function Wg(t,e,n,r){var i=Ine(t,function(l){return bo(l,e)});if(n==="number"){var a=i.filter(function(l){return _t(l)||parseFloat(l)});return a.length?[cb(a),Ld(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Vn(l)}):i;return s.map(function(l){return ta(l)||l instanceof Date?l:""})}var Pre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,g=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(Cl(m-h)!==Cl(g-m)){var E=[];if(Cl(g-m)===Cl(c[1]-c[0])){y=g;var A=m+c[1]-c[0];E[0]=Math.min(A,(A+h)/2),E[1]=Math.max(A,(A+h)/2)}else{y=h;var S=g+c[1]-c[0];E[0]=Math.min(m,(S+m)/2),E[1]=Math.max(m,(S+m)/2)}var I=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>I[0]&&e<=I[1]||e>=E[0]&&e<=E[1]){s=i[f].index;break}}else{var P=Math.min(h,g),F=Math.max(h,g);if(e>(P+m)/2&&e<=(F+m)/2){s=i[f].index;break}}}else for(var B=0;B<l;B++)if(B===0&&e<=(r[B].coordinate+r[B+1].coordinate)/2||B>0&&B<l-1&&e>(r[B].coordinate+r[B-1].coordinate)/2&&e<=(r[B].coordinate+r[B+1].coordinate)/2||B===l-1&&e>(r[B].coordinate+r[B-1].coordinate)/2){s=r[B].index;break}return s},lC=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gi(gi({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},Ore=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,f=l.length;c<f;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),g=0,y=m.length;g<y;g++){var E=h[m[g]],A=E.items,S=E.cateAxisId,I=A.filter(function(O){return Su(O.type).indexOf("Bar")>=0});if(I&&I.length){var P=I[0].type.defaultProps,F=P!==void 0?gi(gi({},P),I[0].props):I[0].props,B=F.barSize,j=F[S];s[j]||(s[j]=[]);var V=Vn(B)?n:B;s[j].push({item:I[0],stackList:I.slice(1),barSize:Vn(V)?void 0:ih(V,r,0)})}}return s},jre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=ih(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var g=!1,y=i/c,E=s.reduce(function(B,j){return B+j.barSize||0},0);E+=(c-1)*f,E>=i&&(E-=(c-1)*f,f=0),E>=i&&y>0&&(g=!0,y*=.9,E=c*y);var A=(i-E)/2>>0,S={offset:A-f,size:0};h=s.reduce(function(B,j){var V={item:j.item,position:{offset:S.offset+S.size+f,size:g?y:j.barSize}},O=[].concat(uj(B),[V]);return S=O[O.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(D){O.push({item:D,position:S})}),O},m)}else{var I=ih(r,i,0,!0);i-2*I-(c-1)*f<=0&&(f=0);var P=(i-2*I-(c-1)*f)/c;P>1&&(P>>=0);var F=l===+l?Math.min(P,l):P;h=s.reduce(function(B,j,V){var O=[].concat(uj(B),[{item:j.item,position:{offset:I+(P+f)*V+(P-F)/2,size:F}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},m)}return h},Dre=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=lU({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,g=h.height,y=f.align,E=f.verticalAlign,A=f.layout;if((A==="vertical"||A==="horizontal"&&E==="middle")&&y!=="center"&&_t(e[y]))return gi(gi({},e),{},Cp({},y,e[y]+(m||0)));if((A==="horizontal"||A==="vertical"&&y==="center")&&E!=="middle"&&_t(e[E]))return gi(gi({},e),{},Cp({},E,e[E]+(g||0)))}return e},Mre=function(e,n,r){return Vn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cU=function(e,n,r,i,a){var s=n.props.children,l=Rl(s,fb).filter(function(f){return Mre(i,a,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=bo(h,r);if(Vn(m))return f;var g=Array.isArray(m)?[cb(m),Ld(m)]:[m,m],y=c.reduce(function(E,A){var S=bo(h,A,0),I=g[0]-Math.abs(Array.isArray(S)?S[0]:S),P=g[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(I,E[0]),Math.max(P,E[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},Lre=function(e,n,r,i,a){var s=n.map(function(l){return cU(e,l,r,a,i)}).filter(function(l){return!Vn(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},uU=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&cU(e,c,f,i)||Wg(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},dU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},fU=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},bu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cl(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=a?a.indexOf(m):m;return{coordinate:i(g)+f,value:m,offset:f}});return h.filter(function(m){return!_m(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+f,value:m,index:g,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,g){return{coordinate:i(m)+f,value:a?a[m]:m,index:g,offset:f}})},VA=new WeakMap,_y=function(e,n){if(typeof n!="function")return e;VA.has(e)||VA.set(e,new WeakMap);var r=VA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Fre=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:g0(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Bx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gg(),realScaleType:"point"}:a==="category"?{scale:g0(),realScaleType:"band"}:{scale:Bx(),realScaleType:"linear"};if(rh(i)){var c="scale".concat(J1(i));return{scale:(J6[c]||Gg)(),realScaleType:J6[c]?c:"point"}}return wn(i)?{scale:i}:{scale:Gg(),realScaleType:"point"}},fj=1e-4,Ure=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-fj,s=Math.max(i[0],i[1])+fj,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},Bre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Vre=function(e,n){if(!n||n.length!==2||!_t(n[0])||!_t(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!_t(e[0])||e[0]<r)&&(a[0]=r),(!_t(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},qre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=_m(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},zre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=_m(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},$re={sign:qre,expand:EJ,none:qp,silhouette:TJ,wiggle:CJ,positive:zre},Hre=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=$re[r],s=NJ().keys(i).value(function(l,c){return+bo(l,c,0)}).order(rN).offset(a);return s(e)},Gre=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(m,g){var y,E=(y=g.type)!==null&&y!==void 0&&y.defaultProps?gi(gi({},g.type.defaultProps),g.props):g.props,A=E.stackId,S=E.hide;if(S)return m;var I=E[r],P=m[I]||{hasStack:!1,stackGroups:{}};if(ta(A)){var F=P.stackGroups[A]||{numericAxisId:r,cateAxisId:i,items:[]};F.items.push(g),P.hasStack=!0,P.stackGroups[A]=F}else P.stackGroups[rv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return gi(gi({},m),{},Cp({},I,P))},c),h={};return Object.keys(f).reduce(function(m,g){var y=f[g];if(y.hasStack){var E={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(A,S){var I=y.stackGroups[S];return gi(gi({},A),{},Cp({},S,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:Hre(e,I.items,a)}))},E)}return gi(gi({},m),{},Cp({},g,y))},h)},Wre=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=ire(f,a,l);return e.domain([cb(h),Ld(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),g=are(m,a,l);return{niceTicks:g}}return null};function hj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vn(i[e.dataKey])){var l=xx(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=bo(i,Vn(s)?e.dataKey:s);return Vn(c)?null:e.scale(c)}var pj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=bo(s,n.dataKey,n.domain[l]);return Vn(c)?null:n.scale(c)-a/2+i},Kre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Yre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gi(gi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ta(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Jre=function(e){return e.reduce(function(n,r){return[cb(r.concat([n[0]]).filter(_t)),Ld(r.concat([n[1]]).filter(_t))]},[1/0,-1/0])},hU=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(f,h){var m=Jre(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CN=function(e,n,r){if(wn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_t(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(mj.test(e[0])){var a=+mj.exec(e[0])[1];i[0]=n[0]-a}else wn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_t(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(gj.test(e[1])){var s=+gj.exec(e[1])[1];i[1]=n[1]+s}else wn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=MT(n,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},vj=function(e,n,r){return!e||!e.length||_0(e,Wo(r,"type.defaultProps.domain"))?n:e},pU=function(e,n){var r=e.type.defaultProps?gi(gi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return gi(gi({},On(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:lC(e),value:bo(n,i),type:c,payload:n,chartType:f,hide:h})};function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Zre(t,"string");return E0(e)=="symbol"?e:e+""}function Zre(t,e){if(E0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(E0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kx=Math.PI/180,eie=function(e){return e*180/Math.PI},Oa=function(e,n,r,i){return{x:e+Math.cos(-Kx*i)*r,y:n+Math.sin(-Kx*i)*r}},tie=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},nie=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=tie({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:eie(f),angleInRadian:f}},rie=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},iie=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},bj=function(e,n){var r=e.x,i=e.y,a=nie({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=rie(n),m=h.startAngle,g=h.endAngle,y=l,E;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;E=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;E=y>=g&&y<=m}return E?xj(xj({},n),{},{radius:s,angle:iie(y,n)}):null};function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}var aie=["offset"];function sie(t){return uie(t)||cie(t)||lie(t)||oie()}function oie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t,e){if(t){if(typeof t=="string")return IN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(t,e)}}function cie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uie(t){if(Array.isArray(t))return IN(t)}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function die(t,e){if(t==null)return{};var n=fie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e,n){return e=pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=mie(t,"string");return T0(e)=="symbol"?e:e+""}function mie(t,e){if(T0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}var gie=function(e){var n=e.value,r=e.formatter,i=Vn(e.children)?n:e.children;return wn(r)?r(i):i},vie=function(e,n){var r=Cl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},yie=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,g=c.outerRadius,y=c.startAngle,E=c.endAngle,A=c.clockWise,S=(m+g)/2,I=vie(y,E),P=I>=0?1:-1,F,B;i==="insideStart"?(F=y+P*s,B=A):i==="insideEnd"?(F=E-P*s,B=!A):i==="end"&&(F=E+P*s,B=A),B=I<=0?B:!B;var j=Oa(f,h,S,F),V=Oa(f,h,S,F+(B?1:-1)*359),O="M".concat(j.x,",").concat(j.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(B?0:1,`,
    `).concat(V.x,",").concat(V.y),D=Vn(e.id)?rv("recharts-radial-line-"):e.id;return Oe.createElement("text",C0({},r,{dominantBaseline:"central",className:Qn("recharts-radial-bar-label",l)}),Oe.createElement("defs",null,Oe.createElement("path",{id:D,d:O})),Oe.createElement("textPath",{xlinkHref:"#".concat(D)},n))},xie=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,g=(h+m)/2;if(i==="outside"){var y=Oa(s,l,f+r,g),E=y.x,A=y.y;return{x:E,y:A,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var S=(c+f)/2,I=Oa(s,l,S,g),P=I.x,F=I.y;return{x:P,y:F,textAnchor:"middle",verticalAnchor:"middle"}},bie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,g=m*i,y=m>0?"end":"start",E=m>0?"start":"end",A=f>=0?1:-1,S=A*i,I=A>0?"end":"start",P=A>0?"start":"end";if(a==="top"){var F={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:y};return ea(ea({},F),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var B={x:l+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:E};return ea(ea({},B),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var j={x:l-S,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return ea(ea({},j),r?{width:Math.max(j.x-r.x,0),height:h}:{})}if(a==="right"){var V={x:l+f+S,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return ea(ea({},V),r?{width:Math.max(r.x+r.width-V.x,0),height:h}:{})}var O=r?{width:f,height:h}:{};return a==="insideLeft"?ea({x:l+S,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},O):a==="insideRight"?ea({x:l+f-S,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},O):a==="insideTop"?ea({x:l+f/2,y:c+g,textAnchor:"middle",verticalAnchor:E},O):a==="insideBottom"?ea({x:l+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:y},O):a==="insideTopLeft"?ea({x:l+S,y:c+g,textAnchor:P,verticalAnchor:E},O):a==="insideTopRight"?ea({x:l+f-S,y:c+g,textAnchor:I,verticalAnchor:E},O):a==="insideBottomLeft"?ea({x:l+S,y:c+h-g,textAnchor:P,verticalAnchor:y},O):a==="insideBottomRight"?ea({x:l+f-S,y:c+h-g,textAnchor:I,verticalAnchor:y},O):bm(a)&&(_t(a.x)||zf(a.x))&&(_t(a.y)||zf(a.y))?ea({x:l+ih(a.x,f),y:c+ih(a.y,h),textAnchor:"end",verticalAnchor:"end"},O):ea({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},_ie=function(e){return"cx"in e&&_t(e.cx)};function ns(t){var e=t.offset,n=e===void 0?5:e,r=die(t,aie),i=ea({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,g=i.textBreakAll;if(!a||Vn(l)&&Vn(c)&&!ye.isValidElement(f)&&!wn(f))return null;if(ye.isValidElement(f))return ye.cloneElement(f,i);var y;if(wn(f)){if(y=ye.createElement(f,i),ye.isValidElement(y))return y}else y=gie(i);var E=_ie(a),A=On(i,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return yie(i,y,A);var S=E?xie(i):bie(i);return Oe.createElement(Px,C0({className:Qn("recharts-label",m)},A,S,{breakAll:g}),y)}ns.displayName="Label";var mU=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,y=e.top,E=e.left,A=e.width,S=e.height,I=e.clockWise,P=e.labelViewBox;if(P)return P;if(_t(A)&&_t(S)){if(_t(m)&&_t(g))return{x:m,y:g,width:A,height:S};if(_t(y)&&_t(E))return{x:y,y:E,width:A,height:S}}return _t(m)&&_t(g)?{x:m,y:g,width:0,height:0}:_t(n)&&_t(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:I}:e.viewBox?e.viewBox:{}},wie=function(e,n){return e?e===!0?Oe.createElement(ns,{key:"label-implicit",viewBox:n}):ta(e)?Oe.createElement(ns,{key:"label-implicit",viewBox:n,value:e}):ye.isValidElement(e)?e.type===ns?ye.cloneElement(e,{key:"label-implicit",viewBox:n}):Oe.createElement(ns,{key:"label-implicit",content:e,viewBox:n}):wn(e)?Oe.createElement(ns,{key:"label-implicit",content:e,viewBox:n}):bm(e)?Oe.createElement(ns,C0({viewBox:n},e,{key:"label-implicit"})):null:null},Aie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=mU(e),s=Rl(i,ns).map(function(c,f){return ye.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var l=wie(e.label,n||a);return[l].concat(sie(s))};ns.parseViewBox=mU;ns.renderCallByParent=Aie;var qA,wj;function Sie(){if(wj)return qA;wj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return qA=t,qA}var Nie=Sie();const Eie=Sr(Nie);function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}var Tie=["valueAccessor"],Cie=["data","dataKey","clockWise","id","textBreakAll"];function Iie(t){return Oie(t)||Pie(t)||kie(t)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){if(t){if(typeof t=="string")return RN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(t,e)}}function Pie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oie(t){if(Array.isArray(t))return RN(t)}function RN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return e=Die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Mie(t,"string");return I0(e)=="symbol"?e:e+""}function Mie(t,e){if(I0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nj(t,e){if(t==null)return{};var n=Lie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Fie=function(e){return Array.isArray(e.value)?Eie(e.value):e.value};function $d(t){var e=t.valueAccessor,n=e===void 0?Fie:e,r=Nj(t,Tie),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=Nj(r,Cie);return!i||!i.length?null:Oe.createElement(oi,{className:"recharts-label-list"},i.map(function(h,m){var g=Vn(a)?n(h,m):bo(h&&h.payload,a),y=Vn(l)?{}:{id:"".concat(l,"-").concat(m)};return Oe.createElement(ns,Yx({},On(h,!0),f,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:ns.parseViewBox(Vn(s)?h:Sj(Sj({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}$d.displayName="LabelList";function Uie(t,e){return t?t===!0?Oe.createElement($d,{key:"labelList-implicit",data:e}):Oe.isValidElement(t)||wn(t)?Oe.createElement($d,{key:"labelList-implicit",data:e,content:t}):bm(t)?Oe.createElement($d,Yx({data:e},t,{key:"labelList-implicit"})):null:null}function Bie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Rl(r,$d).map(function(s,l){return ye.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Uie(t.label,e);return[a].concat(Iie(i))}$d.renderCallByParent=Bie;function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kN.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return e=qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=zie(t,"string");return R0(e)=="symbol"?e:e+""}function zie(t,e){if(R0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ie=function(e,n){var r=Cl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wy=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/Kx,g=f?a:a+s*m,y=Oa(n,r,h,g),E=Oa(n,r,i,g),A=f?a-s*m:a,S=Oa(n,r,h*Math.cos(m*Kx),A);return{center:y,circleTangency:E,lineTangency:S,theta:m}},gU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=$ie(s,l),f=s+c,h=Oa(n,r,a,s),m=Oa(n,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var y=Oa(n,r,i,s),E=Oa(n,r,i,f);g+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},Hie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Cl(h-f),g=wy({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),y=g.circleTangency,E=g.lineTangency,A=g.theta,S=wy({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),I=S.circleTangency,P=S.lineTangency,F=S.theta,B=c?Math.abs(f-h):Math.abs(f-h)-A-F;if(B<0)return l?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):gU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var j="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var V=wy({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=V.circleTangency,D=V.lineTangency,z=V.theta,H=wy({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),U=H.circleTangency,R=H.lineTangency,C=H.theta,G=c?Math.abs(f-h):Math.abs(f-h)-z-C;if(G<0&&s===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},Gie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vU=function(e){var n=Tj(Tj({},Gie),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,g=n.className;if(s<a||h===m)return null;var y=Qn("recharts-sector",g),E=s-a,A=ih(l,E,0,!0),S;return A>0&&Math.abs(h-m)<360?S=Hie({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(A,E/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):S=gU({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),Oe.createElement("path",kN({},On(n,!0),{className:y,d:S,role:"img"}))};function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PN.apply(this,arguments)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ij(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return e=Kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Yie(t,"string");return k0(e)=="symbol"?e:e+""}function Yie(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rj={curveBasisClosed:pJ,curveBasisOpen:mJ,curveBasis:hJ,curveBumpX:ZY,curveBumpY:eJ,curveLinearClosed:gJ,curveLinear:Q1,curveMonotoneX:vJ,curveMonotoneY:yJ,curveNatural:xJ,curveStep:bJ,curveStepAfter:wJ,curveStepBefore:_J},Ay=function(e){return e.x===+e.x&&e.y===+e.y},Ag=function(e){return e.x},Sg=function(e){return e.y},Jie=function(e,n){if(wn(e))return e;var r="curve".concat(J1(e));return(r==="curveMonotone"||r==="curveBump")&&n?Rj["".concat(r).concat(n==="vertical"?"Y":"X")]:Rj[r]||Q1},Xie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=Jie(r,l),m=f?a.filter(function(A){return Ay(A)}):a,g;if(Array.isArray(s)){var y=f?s.filter(function(A){return Ay(A)}):s,E=m.map(function(A,S){return Ij(Ij({},A),{},{base:y[S]})});return l==="vertical"?g=py().y(Sg).x1(Ag).x0(function(A){return A.base.x}):g=py().x(Ag).y1(Sg).y0(function(A){return A.base.y}),g.defined(Ay).curve(h),g(E)}return l==="vertical"&&_t(s)?g=py().y(Sg).x1(Ag).x0(s):_t(s)?g=py().x(Ag).y1(Sg).y0(s):g=w9().x(Ag).y(Sg),g.defined(Ay).curve(h),g(m)},Kg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Xie(e):i;return ye.createElement("path",PN({},On(e,!1),bx(e),{className:Qn("recharts-curve",n),d:s,ref:a}))},zA={exports:{}},$A,kj;function Qie(){if(kj)return $A;kj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $A=t,$A}var HA,Pj;function Zie(){if(Pj)return HA;Pj=1;var t=Qie();function e(){}function n(){}return n.resetWarningCache=e,HA=function(){function r(s,l,c,f,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},HA}var Oj;function eae(){return Oj||(Oj=1,zA.exports=Zie()()),zA.exports}var tae=eae();const fr=Sr(tae),{getOwnPropertyNames:nae,getOwnPropertySymbols:rae}=Object,{hasOwnProperty:iae}=Object.prototype;function GA(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Sy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function aae(t){return t!=null?t[Symbol.toStringTag]:void 0}function jj(t){return nae(t).concat(rae(t))}const sae=Object.hasOwn||((t,e)=>iae.call(t,e));function vh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const oae="__v",lae="__o",cae="_owner",{getOwnPropertyDescriptor:Dj,keys:Mj}=Object;function uae(t,e){return t.byteLength===e.byteLength&&Jx(new Uint8Array(t),new Uint8Array(e))}function dae(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function fae(t,e){return t.byteLength===e.byteLength&&Jx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function hae(t,e){return vh(t.getTime(),e.getTime())}function pae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mae(t,e){return t===e}function Lj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(l=f.next())&&!l.done;){if(i[m]){m++;continue}const g=s.value,y=l.value;if(n.equals(g[0],y[0],c,m,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const gae=vh;function vae(t,e,n){const r=Mj(t);let i=r.length;if(Mj(e).length!==i)return!1;for(;i-- >0;)if(!yU(t,e,n,r[i]))return!1;return!0}function Ng(t,e,n){const r=jj(t);let i=r.length;if(jj(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!yU(t,e,n,a)||(s=Dj(t,a),l=Dj(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function yae(t,e){return vh(t.valueOf(),e.valueOf())}function xae(t,e){return t.source===e.source&&t.flags===e.flags}function Fj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Jx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function bae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function yU(t,e,n,r){return(r===cae||r===lae||r===oae)&&(t.$$typeof||e.$$typeof)?!0:sae(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const _ae="[object ArrayBuffer]",wae="[object Arguments]",Aae="[object Boolean]",Sae="[object DataView]",Nae="[object Date]",Eae="[object Error]",Tae="[object Map]",Cae="[object Number]",Iae="[object Object]",Rae="[object RegExp]",kae="[object Set]",Pae="[object String]",Oae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},jae="[object URL]",Dae=Object.prototype.toString;function Mae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:E}){return function(S,I,P){if(S===I)return!0;if(S==null||I==null)return!1;const F=typeof S;if(F!==typeof I)return!1;if(F!=="object")return F==="number"?l(S,I,P):F==="function"?a(S,I,P):!1;const B=S.constructor;if(B!==I.constructor)return!1;if(B===Object)return c(S,I,P);if(Array.isArray(S))return e(S,I,P);if(B===Date)return r(S,I,P);if(B===RegExp)return h(S,I,P);if(B===Map)return s(S,I,P);if(B===Set)return m(S,I,P);const j=Dae.call(S);if(j===Nae)return r(S,I,P);if(j===Rae)return h(S,I,P);if(j===Tae)return s(S,I,P);if(j===kae)return m(S,I,P);if(j===Iae)return typeof S.then!="function"&&typeof I.then!="function"&&c(S,I,P);if(j===jae)return y(S,I,P);if(j===Eae)return i(S,I,P);if(j===wae)return c(S,I,P);if(Oae[j])return g(S,I,P);if(j===_ae)return t(S,I,P);if(j===Sae)return n(S,I,P);if(j===Aae||j===Cae||j===Pae)return f(S,I,P);if(E){let V=E[j];if(!V){const O=aae(S);O&&(V=E[O])}if(V)return V(S,I,P)}return!1}}function Lae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:uae,areArraysEqual:n?Ng:dae,areDataViewsEqual:fae,areDatesEqual:hae,areErrorsEqual:pae,areFunctionsEqual:mae,areMapsEqual:n?GA(Lj,Ng):Lj,areNumbersEqual:gae,areObjectsEqual:n?Ng:vae,arePrimitiveWrappersEqual:yae,areRegExpsEqual:xae,areSetsEqual:n?GA(Fj,Ng):Fj,areTypedArraysEqual:n?GA(Jx,Ng):Jx,areUrlsEqual:bae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sy(r.areArraysEqual),a=Sy(r.areMapsEqual),s=Sy(r.areObjectsEqual),l=Sy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function Fae(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function Uae({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const Bae=hf();hf({strict:!0});hf({circular:!0});hf({circular:!0,strict:!0});hf({createInternalComparator:()=>vh});hf({strict:!0,createInternalComparator:()=>vh});hf({circular:!0,createInternalComparator:()=>vh});hf({circular:!0,createInternalComparator:()=>vh,strict:!0});function hf(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Lae(t),s=Mae(a),l=n?n(s):Fae(s);return Uae({circular:e,comparator:s,createState:r,equals:l,strict:i})}function Vae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Uj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Vae(i)};requestAnimationFrame(r)}function ON(t){"@babel/helpers - typeof";return ON=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(t)}function qae(t){return Gae(t)||Hae(t)||$ae(t)||zae()}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ae(t,e){if(t){if(typeof t=="string")return Bj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bj(t,e)}}function Bj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gae(t){if(Array.isArray(t))return t}function Wae(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=qae(s),c=l[0],f=l.slice(1);if(typeof c=="number"){Uj(i.bind(null,f),c);return}i(c),Uj(i.bind(null,f));return}ON(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function Vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(n),!0).forEach(function(r){xU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xU(t,e,n){return e=Kae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=Yae(t,"string");return P0(e)==="symbol"?e:String(e)}function Yae(t,e){if(P0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Xae=function(e){return e},Qae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Yg=function(e,n){return Object.keys(n).reduce(function(r,i){return qj(qj({},r),{},xU({},i,e(i,n[i])))},{})},zj=function(e,n,r){return e.map(function(i){return"".concat(Qae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Zae(t,e){return nse(t)||tse(t,e)||bU(t,e)||ese()}function ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function nse(t){if(Array.isArray(t))return t}function rse(t){return sse(t)||ase(t)||bU(t)||ise()}function ise(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(t,e){if(t){if(typeof t=="string")return jN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(t,e)}}function ase(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sse(t){if(Array.isArray(t))return jN(t)}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xx=1e-4,_U=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},wU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},$j=function(e,n){return function(r){var i=_U(e,n);return wU(i,r)}},ose=function(e,n){return function(r){var i=_U(e,n),a=[].concat(rse(i.map(function(s,l){return s*l}).slice(1)),[0]);return wU(a,r)}},Hj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),h=Zae(f,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var m=$j(i,s),g=$j(a,l),y=ose(i,s),E=function(I){return I>1?1:I<0?0:I},A=function(I){for(var P=I>1?1:I,F=P,B=0;B<8;++B){var j=m(F)-P,V=y(F);if(Math.abs(j-P)<Xx||V<Xx)return g(F);F=E(F-j/V)}return g(F)};return A.isStepper=!1,A},lse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,g){var y=-(h-m)*r,E=g*a,A=g+(y-E)*l/1e3,S=g*l/1e3+h;return Math.abs(S-m)<Xx&&Math.abs(A)<Xx?[m,0]:[S,A]};return c.isStepper=!0,c.dt=l,c},cse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hj(i);case"spring":return lse();default:if(i.split("(")[0]==="cubic-bezier")return Hj(i)}return typeof i=="function"?i:null};function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function Gj(t){return fse(t)||dse(t)||AU(t)||use()}function use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fse(t){if(Array.isArray(t))return MN(t)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){DN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DN(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=pse(t,"string");return O0(e)==="symbol"?e:String(e)}function pse(t,e){if(O0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mse(t,e){return yse(t)||vse(t,e)||AU(t,e)||gse()}function gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function yse(t){if(Array.isArray(t))return t}var Qx=function(e,n,r){return e+(n-e)*r},LN=function(e){var n=e.from,r=e.to;return n!==r},xse=function t(e,n,r){var i=Yg(function(a,s){if(LN(s)){var l=e(s.from,s.to,s.velocity),c=mse(l,2),f=c[0],h=c[1];return Ia(Ia({},s),{},{from:f,velocity:h})}return s},n);return r<1?Yg(function(a,s){return LN(s)?Ia(Ia({},s),{},{velocity:Qx(s.velocity,i[a].velocity,r),from:Qx(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const bse=(function(t,e,n,r,i){var a=Jae(t,e),s=a.reduce(function(S,I){return Ia(Ia({},S),{},DN({},I,[t[I],e[I]]))},{}),l=a.reduce(function(S,I){return Ia(Ia({},S),{},DN({},I,{from:t[I],velocity:0,to:e[I]}))},{}),c=-1,f,h,m=function(){return null},g=function(){return Yg(function(I,P){return P.from},l)},y=function(){return!Object.values(l).filter(LN).length},E=function(I){f||(f=I);var P=I-f,F=P/n.dt;l=xse(n,l,F),i(Ia(Ia(Ia({},t),e),g())),f=I,y()||(c=requestAnimationFrame(m))},A=function(I){h||(h=I);var P=(I-h)/r,F=Yg(function(j,V){return Qx.apply(void 0,Gj(V).concat([n(P)]))},s);if(i(Ia(Ia(Ia({},t),e),F)),P<1)c=requestAnimationFrame(m);else{var B=Yg(function(j,V){return Qx.apply(void 0,Gj(V).concat([n(1)]))},s);i(Ia(Ia(Ia({},t),e),B))}};return m=n.isStepper?E:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}var _se=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wse(t,e){if(t==null)return{};var n=Ase(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ase(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WA(t){return Tse(t)||Ese(t)||Nse(t)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nse(t,e){if(t){if(typeof t=="string")return FN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(t,e)}}function Ese(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tse(t){if(Array.isArray(t))return FN(t)}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mg(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ise(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function Rse(t,e,n){return e&&Ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SU(t){var e=kse(t,"string");return Xp(e)==="symbol"?e:String(e)}function kse(t,e){if(Xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UN(t,e)}function UN(t,e){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UN(t,e)}function Ose(t){var e=jse();return function(){var r=Zx(t),i;if(e){var a=Zx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return BN(this,i)}}function BN(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VN(t)}function VN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zx(t)}var Pu=(function(t){Pse(n,t);var e=Ose(n);function n(r,i){var a;Cse(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,g=s.children,y=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(VN(a)),a.changeStyle=a.changeStyle.bind(VN(a)),!l||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),BN(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof g=="function")return a.state={style:f},BN(a);a.state={style:c?Mg({},c,f):f}}else a.state={style:{}};return a}return Rse(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,g=this.state.style;if(l){if(!s){var y={style:c?Mg({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(y);return}if(!(Bae(i.to,h)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=E||f?m:i.to;if(this.state&&g){var S={style:c?Mg({},c,A):A};(c&&g[c]!==A||!c&&g!==A)&&this.setState(S)}this.runAnimation(wl(wl({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,y=bse(s,l,cse(f),c,this.changeStyle),E=function(){a.stopJSAnimation=y()};this.manager.start([g,h,E,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,g=m===void 0?0:m,y=function(A,S,I){if(I===0)return A;var P=S.duration,F=S.easing,B=F===void 0?"ease":F,j=S.style,V=S.properties,O=S.onAnimationEnd,D=I>0?s[I-1]:S,z=V||Object.keys(j);if(typeof B=="function"||B==="spring")return[].concat(WA(A),[a.runJSAnimation.bind(a,{from:D.style,to:j,duration:P,easing:B}),P]);var H=zj(z,P,B),U=wl(wl(wl({},D.style),j),{},{transition:H});return[].concat(WA(A),[U,P,O]).filter(Xae)};return this.manager.start([c].concat(WA(s.reduce(y,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wae());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,y=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var A=l?Mg({},l,c):c,S=zj(Object.keys(A),s,f);E.start([h,a,wl(wl({},A),{},{transition:S}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=wse(i,_se),f=ye.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||f===0||s<=0)return a;var m=function(y){var E=y.props,A=E.style,S=A===void 0?{}:A,I=E.className,P=ye.cloneElement(y,wl(wl({},c),{},{style:wl(wl({},S),h),className:I}));return P};return f===1?m(ye.Children.only(a)):Oe.createElement("div",null,ye.Children.map(a,function(g){return m(g)}))}}]),n})(ye.PureComponent);Pu.displayName="Animate";Pu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pu.propTypes={from:fr.oneOfType([fr.object,fr.string]),to:fr.oneOfType([fr.object,fr.string]),attributeName:fr.string,duration:fr.number,begin:fr.number,easing:fr.oneOfType([fr.string,fr.func]),steps:fr.arrayOf(fr.shape({duration:fr.number.isRequired,style:fr.object.isRequired,easing:fr.oneOfType([fr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fr.func]),properties:fr.arrayOf("string"),onAnimationEnd:fr.func})),children:fr.oneOfType([fr.node,fr.func]),isActive:fr.bool,canBegin:fr.bool,onAnimationEnd:fr.func,shouldReAnimate:fr.bool,onAnimationStart:fr.func,onAnimationReStart:fr.func};function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e1.apply(this,arguments)}function Dse(t,e){return Use(t)||Fse(t,e)||Lse(t,e)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return Yj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yj(t,e)}}function Yj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Use(t){if(Array.isArray(t))return t}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){Bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bse(t,e,n){return e=Vse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=qse(t,"string");return j0(e)=="symbol"?e:e+""}function qse(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qj=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var E=Math.min(s,a);h="M ".concat(e,",").concat(n+l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+c*E,",").concat(n,`
            L `).concat(e+r-c*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*E,`
            L `).concat(e+r,",").concat(n+i-l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r-c*E,",").concat(n+i,`
            L `).concat(e+c*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*E," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},zse=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(s,s+c),g=Math.max(s,s+c);return r>=f&&r<=h&&i>=m&&i<=g}return!1},$se={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cC=function(e){var n=Xj(Xj({},$se),e),r=ye.useRef(),i=ye.useState(-1),a=Dse(i,2),s=a[0],l=a[1];ye.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var B=r.current.getTotalLength();B&&l(B)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,g=n.radius,y=n.className,E=n.animationEasing,A=n.animationDuration,S=n.animationBegin,I=n.isAnimationActive,P=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var F=Qn("recharts-rectangle",y);return P?Oe.createElement(Pu,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:A,animationEasing:E,isActive:P},function(B){var j=B.width,V=B.height,O=B.x,D=B.y;return Oe.createElement(Pu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:A,isActive:I,easing:E},Oe.createElement("path",e1({},On(n,!0),{className:F,d:Qj(O,D,j,V,g),ref:r})))}):Oe.createElement("path",e1({},On(n,!0),{className:F,d:Qj(c,f,h,m,g)}))};function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qN.apply(this,arguments)}var uC=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Qn("recharts-dot",a);return n===+n&&r===+r&&i===+i?ye.createElement("circle",qN({},On(e,!1),bx(e),{className:s,cx:n,cy:r,r:i})):null};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}var Hse=["x","y","top","left","width","height","className"];function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zN.apply(this,arguments)}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return e=Kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kse(t){var e=Yse(t,"string");return D0(e)=="symbol"?e:e+""}function Yse(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jse(t,e){if(t==null)return{};var n=Xse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qse=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Zse=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,g=e.height,y=g===void 0?0:g,E=e.className,A=Jse(e,Hse),S=Gse({x:r,y:a,top:l,left:f,width:m,height:y},A);return!_t(r)||!_t(a)||!_t(m)||!_t(y)||!_t(l)||!_t(f)?null:Oe.createElement("path",zN({},On(S,!0),{className:Qn("recharts-cross",E),d:Qse(r,a,m,y,l,f)}))},KA,eD;function eoe(){if(eD)return KA;eD=1;var t=H9(),e=t(Object.getPrototypeOf,Object);return KA=e,KA}var YA,tD;function toe(){if(tD)return YA;tD=1;var t=Uu(),e=eoe(),n=Bu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return YA=f,YA}var noe=toe();const roe=Sr(noe);var JA,nD;function ioe(){if(nD)return JA;nD=1;var t=Uu(),e=Bu(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return JA=r,JA}var aoe=ioe();const soe=Sr(aoe);function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}function ooe(t,e){return doe(t)||uoe(t,e)||coe(t,e)||loe()}function loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function coe(t,e){if(t){if(typeof t=="string")return rD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rD(t,e)}}function rD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function doe(t){if(Array.isArray(t))return t}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return M0(e)=="symbol"?e:e+""}function poe(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sD=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},moe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},goe=function(e){var n=aD(aD({},moe),e),r=ye.useRef(),i=ye.useState(-1),a=ooe(i,2),s=a[0],l=a[1];ye.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&l(F)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,g=n.height,y=n.className,E=n.animationEasing,A=n.animationDuration,S=n.animationBegin,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var P=Qn("recharts-trapezoid",y);return I?Oe.createElement(Pu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:g,x:c,y:f},duration:A,animationEasing:E,isActive:I},function(F){var B=F.upperWidth,j=F.lowerWidth,V=F.height,O=F.x,D=F.y;return Oe.createElement(Pu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:A,easing:E},Oe.createElement("path",t1({},On(n,!0),{className:P,d:sD(O,D,B,j,V),ref:r})))}):Oe.createElement("g",null,Oe.createElement("path",t1({},On(n,!0),{className:P,d:sD(c,f,h,m,g)})))},voe=["option","shapeType","propTransformer","activeClassName","isActive"];function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function yoe(t,e){if(t==null)return{};var n=xoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return e=_oe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=woe(t,"string");return L0(e)=="symbol"?e:e+""}function woe(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e){return n1(n1({},e),t)}function Soe(t,e){return t==="symbols"}function lD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Oe.createElement(cC,n);case"trapezoid":return Oe.createElement(goe,n);case"sector":return Oe.createElement(vU,n);case"symbols":if(Soe(e))return Oe.createElement(CT,n);break;default:return null}}function Noe(t){return ye.isValidElement(t)?t.props:t}function Eoe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Aoe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=yoe(t,voe),f;if(ye.isValidElement(e))f=ye.cloneElement(e,n1(n1({},c),Noe(e)));else if(wn(e))f=e(c);else if(roe(e)&&!soe(e)){var h=i(e,c);f=Oe.createElement(lD,{shapeType:n,elementProps:h})}else{var m=c;f=Oe.createElement(lD,{shapeType:n,elementProps:m})}return l?Oe.createElement(oi,{className:s},f):f}function hb(t,e){return e!=null&&"trapezoids"in t.props}function pb(t,e){return e!=null&&"sectors"in t.props}function F0(t,e){return e!=null&&"points"in t.props}function Toe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Coe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ioe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Roe(t,e){var n;return hb(t,e)?n=Toe:pb(t,e)?n=Coe:F0(t,e)&&(n=Ioe),n}function koe(t,e){var n;return hb(t,e)?n="trapezoids":pb(t,e)?n="sectors":F0(t,e)&&(n="points"),n}function Poe(t,e){if(hb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(pb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return F0(t,e)?e.payload:{}}function Ooe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=koe(n,e),a=Poe(n,e),s=r.filter(function(c,f){var h=_0(a,c),m=n.props[i].filter(function(E){var A=Roe(n,e);return A(E,e)}),g=n.props[i].indexOf(m[m.length-1]),y=f===g;return h&&y}),l=r.indexOf(s[s.length-1]);return l}var XA,cD;function joe(){if(cD)return XA;cD=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var l=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=a;return f}return XA=n,XA}var QA,uD;function NU(){if(uD)return QA;uD=1;var t=oF(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return QA=r,QA}var ZA,dD;function Doe(){if(dD)return ZA;dD=1;var t=joe(),e=nb(),n=NU();function r(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),t(a,s,l,i)}}return ZA=r,ZA}var eS,fD;function Moe(){if(fD)return eS;fD=1;var t=Doe(),e=t();return eS=e,eS}var Loe=Moe();const r1=Sr(Loe);function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){EU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EU(t,e,n){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Uoe(t,"string");return U0(e)=="symbol"?e:e+""}function Uoe(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Boe=["Webkit","Moz","O","ms"],Voe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Boe.reduce(function(a,s){return pD(pD({},a),{},EU({},s+r,n))},{});return i[e]=n,i};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(this,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CU(r.key),r)}}function zoe(t,e,n){return e&&gD(t.prototype,e),n&&gD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $oe(t,e,n){return e=a1(e),Hoe(t,TU()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function Hoe(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Goe(t)}function Goe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function Woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$N(t,e)}function $N(t,e){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$N(t,e)}function ho(t,e,n){return e=CU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CU(t){var e=Koe(t,"string");return Qp(e)=="symbol"?e:e+""}function Koe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yoe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Gg().domain(r1(0,c)).range([a,a+s-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},vD=function(e){return e.changedTouches&&!!e.changedTouches.length},Zp=(function(t){function e(n){var r;return qoe(this,e),r=$oe(this,e,[n]),ho(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ho(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ho(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),ho(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ho(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ho(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ho(r,"handleSlideDragStart",function(i){var a=vD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Woe(e,t),zoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(s,m),E=e.getIndexInRange(s,g);return{startIndex:y-y%c,endIndex:E===h?h:E-E%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=bo(a[r],l,r);return wn(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,g=c.startIndex,y=c.endIndex,E=c.onChange,A=r.pageX-a;A>0?A=Math.min(A,f+h-m-l,f+h-m-s):A<0&&(A=Math.max(A,f-s,f-l));var S=this.getIndex({startX:s+A,endX:l+A});(S.startIndex!==g||S.endIndex!==y)&&E&&E(S),this.setState({startX:s+A,endX:l+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=vD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,g=h.width,y=h.travellerWidth,E=h.onChange,A=h.gap,S=h.data,I={startX:this.state.startX,endX:this.state.endX},P=r.pageX-a;P>0?P=Math.min(P,m+g-y-f):P<0&&(P=Math.max(P,m-f)),I[s]=f+P;var F=this.getIndex(I),B=F.startIndex,j=F.endIndex,V=function(){var D=S.length-1;return s==="startX"&&(l>c?B%A===0:j%A===0)||l<c&&j===D||s==="endX"&&(l>c?j%A===0:B%A===0)||l>c&&j===D};this.setState(ho(ho({},s,f+P),"brushMoveStartX",r.pageX),function(){E&&V()&&E(F)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var g=m+r;if(!(g===-1||g>=l.length)){var y=l[g];i==="startX"&&y>=f||i==="endX"&&y<=c||this.setState(ho({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return Oe.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,m=ye.Children.only(f);return m?Oe.cloneElement(m,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,g=c.traveller,y=c.ariaLabel,E=c.data,A=c.startIndex,S=c.endIndex,I=Math.max(r,this.props.x),P=tS(tS({},On(this.props,!1)),{},{x:I,y:f,width:h,height:m}),F=y||"Min value: ".concat((a=E[A])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=E[S])===null||s===void 0?void 0:s.name);return Oe.createElement(oi,{tabIndex:0,role:"slider","aria-label":F,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,P))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return Oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,g=h.endX,y=5,E={pointerEvents:"none",fill:f};return Oe.createElement(oi,{className:"recharts-brush-texts"},Oe.createElement(Px,i1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:s+l/2},E),this.getTextOfTick(i)),Oe.createElement(Px,i1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+y,y:s+l/2},E),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,g=this.state,y=g.startX,E=g.endX,A=g.isTextActive,S=g.isSlideMoving,I=g.isTravellerMoving,P=g.isTravellerFocused;if(!i||!i.length||!_t(l)||!_t(c)||!_t(f)||!_t(h)||f<=0||h<=0)return null;var F=Qn("recharts-brush",a),B=Oe.Children.count(s)===1,j=Voe("userSelect","none");return Oe.createElement(oi,{className:F,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),B&&this.renderPanorama(),this.renderSlide(y,E),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(E,"endX"),(A||S||I||P||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(a+l/2)-1;return Oe.createElement(Oe.Fragment,null,Oe.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),Oe.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),Oe.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Oe.isValidElement(r)?a=Oe.cloneElement(r,i):wn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return tS({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?Yoe({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(ye.PureComponent);ho(Zp,"displayName","Brush");ho(Zp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nS,yD;function Joe(){if(yD)return nS;yD=1;var t=DT();function e(n,r){var i;return t(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return nS=e,nS}var rS,xD;function Xoe(){if(xD)return rS;xD=1;var t=F9(),e=uf(),n=Joe(),r=Hs(),i=nb();function a(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return rS=a,rS}var Qoe=Xoe();const Zoe=Sr(Qoe);var Tc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},iS,bD;function ele(){if(bD)return iS;bD=1;var t=nF();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return iS=e,iS}var aS,_D;function tle(){if(_D)return aS;_D=1;var t=ele(),e=eF(),n=uf();function r(i,a){var s={};return a=n(a,3),e(i,function(l,c,f){t(s,c,a(l,c,f))}),s}return aS=r,aS}var nle=tle();const rle=Sr(nle);var sS,wD;function ile(){if(wD)return sS;wD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return sS=t,sS}var oS,AD;function ale(){if(AD)return oS;AD=1;var t=DT();function e(n,r){var i=!0;return t(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return oS=e,oS}var lS,SD;function sle(){if(SD)return lS;SD=1;var t=ile(),e=ale(),n=uf(),r=Hs(),i=nb();function a(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return lS=a,lS}var ole=sle();const IU=Sr(ole);var lle=["x","y"];function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HN.apply(this,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return e=ule(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ule(t){var e=dle(t,"string");return B0(e)=="symbol"?e:e+""}function dle(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fle(t,e){if(t==null)return{};var n=hle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ple(t,e){var n=t.x,r=t.y,i=fle(t,lle),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),g=parseInt(m,10);return Eg(Eg(Eg(Eg(Eg({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function ED(t){return Oe.createElement(Eoe,HN({shapeType:"rectangle",propTransformer:ple,activeClassName:"recharts-active-bar"},t))}var mle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=_t(r)||bY(r);return a?e(r,i):(a||sh(),n)}},gle=["value","background"],RU;function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function vle(t,e){if(t==null)return{};var n=yle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){Fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PU(r.key),r)}}function ble(t,e,n){return e&&CD(t.prototype,e),n&&CD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _le(t,e,n){return e=o1(e),wle(t,kU()?Reflect.construct(e,n||[],o1(t).constructor):e.apply(t,n))}function wle(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ale(t)}function Ale(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kU=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function Sle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GN(t,e)}function Fd(t,e,n){return e=PU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PU(t){var e=Nle(t,"string");return em(e)=="symbol"?e:e+""}function Nle(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cv=(function(t){function e(){var n;xle(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_le(this,e,[].concat(i)),Fd(n,"state",{isAnimationFinished:!1}),Fd(n,"id",rv("recharts-bar-")),Fd(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Fd(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Sle(e,t),ble(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,f=a.activeBar,h=On(this.props,!1);return r&&r.map(function(m,g){var y=g===c,E=y?f:s,A=Bi(Bi(Bi({},h),m),{},{isActive:y,option:E,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Oe.createElement(oi,s1({className:"recharts-bar-rectangle"},_x(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),Oe.createElement(ED,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,g=this.state.prevData;return Oe.createElement(Pu,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var E=y.t,A=a.map(function(S,I){var P=g&&g[I];if(P){var F=qo(P.x,S.x),B=qo(P.y,S.y),j=qo(P.width,S.width),V=qo(P.height,S.height);return Bi(Bi({},S),{},{x:F(E),y:B(E),width:j(E),height:V(E)})}if(s==="horizontal"){var O=qo(0,S.height),D=O(E);return Bi(Bi({},S),{},{y:S.y+S.height-D,height:D})}var z=qo(0,S.width),H=z(E);return Bi(Bi({},S),{},{width:H})});return Oe.createElement(oi,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!_0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=On(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,g=vle(f,gle);if(!m)return null;var y=Bi(Bi(Bi(Bi(Bi({},g),{},{fill:"#eee"},m),c),_x(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return Oe.createElement(ED,s1({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=Rl(h,fb);if(!m)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,y=function(S,I){var P=Array.isArray(S.value)?S.value[1]:S.value;return{x:S.x,y:S.y,value:P,errorVal:bo(S,I)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Oe.createElement(oi,E,m.map(function(A){return Oe.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,g=r.height,y=r.isAnimationActive,E=r.background,A=r.id;if(i||!a||!a.length)return null;var S=this.state.isAnimationFinished,I=Qn("recharts-bar",s),P=l&&l.allowDataOverflow,F=c&&c.allowDataOverflow,B=P||F,j=Vn(A)?this.id:A;return Oe.createElement(oi,{className:I},P||F?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(j)},Oe.createElement("rect",{x:P?f:f-m/2,y:F?h:h-g/2,width:P?m:m*2,height:F?g:g*2}))):null,Oe.createElement(oi,{className:"recharts-bar-rectangles",clipPath:B?"url(#clipPath-".concat(j,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(B,j),(!y||S)&&$d.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(ye.PureComponent);RU=cv;Fd(cv,"displayName","Bar");Fd(cv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Am.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fd(cv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=Bre(r,n);if(!y)return null;var E=e.layout,A=n.type.defaultProps,S=A!==void 0?Bi(Bi({},A),n.props):n.props,I=S.dataKey,P=S.children,F=S.minPointSize,B=E==="horizontal"?s:a,j=f?B.scale.domain():null,V=Kre({numericAxis:B}),O=Rl(P,cF),D=m.map(function(z,H){var U,R,C,G,le,W;f?U=Vre(f[h+H],j):(U=bo(z,I),Array.isArray(U)||(U=[V,U]));var te=mle(F,RU.defaultProps.minPointSize)(U[1],H);if(E==="horizontal"){var re,ve=[s.scale(U[0]),s.scale(U[1])],we=ve[0],ie=ve[1];R=pj({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:z,index:H}),C=(re=ie??we)!==null&&re!==void 0?re:void 0,G=y.size;var L=we-ie;if(le=Number.isNaN(L)?0:L,W={x:R,y:s.y,width:G,height:s.height},Math.abs(te)>0&&Math.abs(le)<Math.abs(te)){var Y=Cl(le||te)*(Math.abs(te)-Math.abs(le));C-=Y,le+=Y}}else{var ee=[a.scale(U[0]),a.scale(U[1])],X=ee[0],Q=ee[1];if(R=X,C=pj({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:z,index:H}),G=Q-X,le=y.size,W={x:a.x,y:C,width:a.width,height:le},Math.abs(te)>0&&Math.abs(G)<Math.abs(te)){var ge=Cl(G||te)*(Math.abs(te)-Math.abs(G));G+=ge}}return Bi(Bi(Bi({},z),{},{x:R,y:C,width:G,height:le,value:f?U:U[1],payload:z,background:W},O&&O[H]&&O[H].props),{},{tooltipPayload:[pU(n,z)],tooltipPosition:{x:R+G/2,y:C+le/2}})});return Bi({data:D,layout:E},g)});function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ID(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OU(r.key),r)}}function Tle(t,e,n){return e&&ID(t.prototype,e),n&&ID(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e,n){return e=OU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OU(t){var e=Cle(t,"string");return V0(e)=="symbol"?e:e+""}function Cle(t,e){if(V0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ile=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!po(f,cv);return h.reduce(function(y,E){var A=n[E],S=A.orientation,I=A.domain,P=A.padding,F=P===void 0?{}:P,B=A.mirror,j=A.reversed,V="".concat(S).concat(B?"Mirror":""),O,D,z,H,U;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var R=I[1]-I[0],C=1/0,G=A.categoricalDomain.sort(AY);if(G.forEach(function(ee,X){X>0&&(C=Math.min((ee||0)-(G[X-1]||0),C))}),Number.isFinite(C)){var le=C/R,W=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(O=le*W/2),A.padding==="no-gap"){var te=ih(e.barCategoryGap,le*W),re=le*W/2;O=re-te-(re-te)/W*te}}}i==="xAxis"?D=[r.left+(F.left||0)+(O||0),r.left+r.width-(F.right||0)-(O||0)]:i==="yAxis"?D=c==="horizontal"?[r.top+r.height-(F.bottom||0),r.top+(F.top||0)]:[r.top+(F.top||0)+(O||0),r.top+r.height-(F.bottom||0)-(O||0)]:D=A.range,j&&(D=[D[1],D[0]]);var ve=Fre(A,a,g),we=ve.scale,ie=ve.realScaleType;we.domain(I).range(D),Ure(we);var L=Wre(we,El(El({},A),{},{realScaleType:ie}));i==="xAxis"?(U=S==="top"&&!B||S==="bottom"&&B,z=r.left,H=m[V]-U*A.height):i==="yAxis"&&(U=S==="left"&&!B||S==="right"&&B,z=m[V]-U*A.width,H=r.top);var Y=El(El(El({},A),L),{},{realScaleType:ie,x:z,y:H,scale:we,width:i==="xAxis"?r.width:A.width,height:i==="yAxis"?r.height:A.height});return Y.bandSize=Wx(Y,L),!A.hide&&i==="xAxis"?m[V]+=(U?-1:1)*Y.height:A.hide||(m[V]+=(U?-1:1)*Y.width),El(El({},y),{},mb({},E,Y))},{})},jU=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Rle=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return jU({x:n,y:r},{x:i,y:a})},DU=(function(){function t(e){Ele(this,t),this.scale=e}return Tle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();mb(DU,"EPS",1e-4);var dC=function(e){var n=Object.keys(e).reduce(function(r,i){return El(El({},r),{},mb({},i,DU.create(e[i])))},{});return El(El({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return rle(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return IU(i,function(a,s){return n[s].isInRange(a)})}})};function kle(t){return(t%180+180)%180}var Ple=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kle(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},cS,kD;function Ole(){if(kD)return cS;kD=1;var t=uf(),e=iv(),n=eb();function r(i){return function(a,s,l){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,l);return h>-1?c[f?a[h]:h]:void 0}}return cS=r,cS}var uS,PD;function jle(){if(PD)return uS;PD=1;var t=NU();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return uS=e,uS}var dS,OD;function Dle(){if(OD)return dS;OD=1;var t=Y9(),e=uf(),n=jle(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return dS=i,dS}var fS,jD;function Mle(){if(jD)return fS;jD=1;var t=Ole(),e=Dle(),n=t(e);return fS=n,fS}var Lle=Mle();const Fle=Sr(Lle);var Ule=d9();const Ble=Sr(Ule);var Vle=Ble(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),fC=ye.createContext(void 0),hC=ye.createContext(void 0),MU=ye.createContext(void 0),LU=ye.createContext({}),FU=ye.createContext(void 0),UU=ye.createContext(0),BU=ye.createContext(0),DD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=Vle(a);return Oe.createElement(fC.Provider,{value:r},Oe.createElement(hC.Provider,{value:i},Oe.createElement(LU.Provider,{value:a},Oe.createElement(MU.Provider,{value:h},Oe.createElement(FU.Provider,{value:s},Oe.createElement(UU.Provider,{value:f},Oe.createElement(BU.Provider,{value:c},l)))))))},qle=function(){return ye.useContext(FU)},VU=function(e){var n=ye.useContext(fC);n==null&&sh();var r=n[e];return r==null&&sh(),r},zle=function(){var e=ye.useContext(fC);return kd(e)},$le=function(){var e=ye.useContext(hC),n=Fle(e,function(r){return IU(r.domain,Number.isFinite)});return n||kd(e)},qU=function(e){var n=ye.useContext(hC);n==null&&sh();var r=n[e];return r==null&&sh(),r},Hle=function(){var e=ye.useContext(MU);return e},Gle=function(){return ye.useContext(LU)},pC=function(){return ye.useContext(BU)},mC=function(){return ye.useContext(UU)};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$U(r.key),r)}}function Yle(t,e,n){return e&&Kle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,n){return e=l1(e),Xle(t,zU()?Reflect.construct(e,n||[],l1(t).constructor):e.apply(t,n))}function Xle(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qle(t)}function Qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l1(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WN(t,e)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){gC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gC(t,e,n){return e=$U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $U(t){var e=ece(t,"string");return tm(e)=="symbol"?e:e+""}function ece(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tce(t,e){return ace(t)||ice(t,e)||rce(t,e)||nce()}function nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rce(t,e){if(t){if(typeof t=="string")return FD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FD(t,e)}}function FD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ice(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ace(t){if(Array.isArray(t))return t}function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KN.apply(this,arguments)}var sce=function(e,n){var r;return Oe.isValidElement(e)?r=Oe.cloneElement(e,n):wn(e)?r=e(n):r=Oe.createElement("line",KN({},n,{className:"recharts-reference-line-line"})),r},oce=function(e,n,r,i,a,s,l,c,f){var h=a.x,m=a.y,g=a.width,y=a.height;if(r){var E=f.y,A=e.y.apply(E,{position:s});if(Tc(f,"discard")&&!e.y.isInRange(A))return null;var S=[{x:h+g,y:A},{x:h,y:A}];return c==="left"?S.reverse():S}if(n){var I=f.x,P=e.x.apply(I,{position:s});if(Tc(f,"discard")&&!e.x.isInRange(P))return null;var F=[{x:P,y:m+y},{x:P,y:m}];return l==="top"?F.reverse():F}if(i){var B=f.segment,j=B.map(function(V){return e.apply(V,{position:s})});return Tc(f,"discard")&&Zoe(j,function(V){return!e.isInRange(V)})?null:j}return null};function lce(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=qle(),h=VU(i),m=qU(a),g=Hle();if(!f||!g)return null;Nu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=dC({x:h.scale,y:m.scale}),E=ta(e),A=ta(n),S=r&&r.length===2,I=oce(y,E,A,S,g,t.position,h.orientation,m.orientation,t);if(!I)return null;var P=tce(I,2),F=P[0],B=F.x,j=F.y,V=P[1],O=V.x,D=V.y,z=Tc(t,"hidden")?"url(#".concat(f,")"):void 0,H=LD(LD({clipPath:z},On(t,!0)),{},{x1:B,y1:j,x2:O,y2:D});return Oe.createElement(oi,{className:Qn("recharts-reference-line",l)},sce(s,H),ns.renderCallByParent(t,Rle({x1:B,y1:j,x2:O,y2:D})))}var vC=(function(t){function e(){return Wle(this,e),Jle(this,e,arguments)}return Zle(e,t),Yle(e,[{key:"render",value:function(){return Oe.createElement(lce,this.props)}}])})(Oe.Component);gC(vC,"displayName","ReferenceLine");gC(vC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YN.apply(this,arguments)}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function dce(t,e,n){return e&&uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fce(t,e,n){return e=c1(e),hce(t,HU()?Reflect.construct(e,n||[],c1(t).constructor):e.apply(t,n))}function hce(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pce(t)}function pce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c1(t)}function mce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JN(t,e)}function gb(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=gce(t,"string");return nm(e)=="symbol"?e:e+""}function gce(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vce=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=dC({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Tc(e,"discard")&&!s.isInRange(l)?null:l},vb=(function(t){function e(){return cce(this,e),fce(this,e,arguments)}return mce(e,t),dce(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=ta(i),h=ta(a);if(Nu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=vce(this.props);if(!m)return null;var g=m.x,y=m.y,E=this.props,A=E.shape,S=E.className,I=Tc(this.props,"hidden")?"url(#".concat(c,")"):void 0,P=BD(BD({clipPath:I},On(this.props,!0)),{},{cx:g,cy:y});return Oe.createElement(oi,{className:Qn("recharts-reference-dot",S)},e.renderDot(A,P),ns.renderCallByParent(this.props,{x:g-s,y:y-s,width:2*s,height:2*s}))}}])})(Oe.Component);gb(vb,"displayName","ReferenceDot");gb(vb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gb(vb,"renderDot",function(t,e){var n;return Oe.isValidElement(t)?n=Oe.cloneElement(t,e):wn(t)?n=t(e):n=Oe.createElement(uC,YN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XN.apply(this,arguments)}function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KU(r.key),r)}}function bce(t,e,n){return e&&xce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ce(t,e,n){return e=u1(e),wce(t,WU()?Reflect.construct(e,n||[],u1(t).constructor):e.apply(t,n))}function wce(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ace(t)}function Ace(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u1(t)}function Sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QN(t,e)}function yb(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=Nce(t,"string");return rm(e)=="symbol"?e:e+""}function Nce(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ece=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var g=dC({x:h.scale,y:m.scale}),y={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},E={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Tc(a,"discard")&&(!g.isInRange(y)||!g.isInRange(E))?null:jU(y,E)},xb=(function(t){function e(){return yce(this,e),_ce(this,e,arguments)}return Sce(e,t),bce(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Nu(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ta(i),g=ta(a),y=ta(s),E=ta(l),A=this.props.shape;if(!m&&!g&&!y&&!E&&!A)return null;var S=Ece(m,g,y,E,this.props);if(!S&&!A)return null;var I=Tc(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Oe.createElement(oi,{className:Qn("recharts-reference-area",c)},e.renderRect(A,qD(qD({clipPath:I},On(this.props,!0)),S)),ns.renderCallByParent(this.props,S))}}])})(Oe.Component);yb(xb,"displayName","ReferenceArea");yb(xb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yb(xb,"renderRect",function(t,e){var n;return Oe.isValidElement(t)?n=Oe.cloneElement(t,e):wn(t)?n=t(e):n=Oe.createElement(cC,XN({},e,{className:"recharts-reference-area-rect"})),n});function YU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Tce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ple(r,n)}function Cce(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function d1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ice(t,e){return YU(t,e+1)}function Rce(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,m=function(){var E=r==null?void 0:r[c];if(E===void 0)return{v:YU(r,f)};var A=c,S,I=function(){return S===void 0&&(S=n(E,A)),S},P=E.coordinate,F=c===0||d1(t,P,I,h,l);F||(c=0,h=s,f+=1),F&&(h=P+t*(I()/2+i),c+=f)},g;f<=a.length;)if(g=m(),g)return g.v;return[]}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return e=Pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Oce(t,"string");return q0(e)=="symbol"?e:e+""}function Oce(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,f=function(g){var y=a[g],E,A=function(){return E===void 0&&(E=n(y,g)),E};if(g===s-1){var S=t*(y.coordinate+t*A()/2-c);a[g]=y=es(es({},y),{},{tickCoord:S>0?y.coordinate-S*t:y.coordinate})}else a[g]=y=es(es({},y),{},{tickCoord:y.coordinate});var I=d1(t,y.tickCoord,A,l,c);I&&(c=y.tickCoord-t*(A()/2+i),a[g]=es(es({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Dce(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(a){var h=r[l-1],m=n(h,l-1),g=t*(h.coordinate+t*m/2-f);s[l-1]=h=es(es({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var y=d1(t,h.tickCoord,function(){return m},c,f);y&&(f=h.tickCoord-t*(m/2+i),s[l-1]=es(es({},h),{},{isShow:!0}))}for(var E=a?l-1:l,A=function(P){var F=s[P],B,j=function(){return B===void 0&&(B=n(F,P)),B};if(P===0){var V=t*(F.coordinate-t*j()/2-c);s[P]=F=es(es({},F),{},{tickCoord:V<0?F.coordinate-V*t:F.coordinate})}else s[P]=F=es(es({},F),{},{tickCoord:F.coordinate});var O=d1(t,F.tickCoord,j,c,f);O&&(c=F.tickCoord+t*(j()/2+i),s[P]=es(es({},F),{},{isShow:!0}))},S=0;S<E;S++)A(S);return s}function yC(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(_t(c)||Am.isSsr)return Ice(i,typeof c=="number"&&_t(c)?c:0);var g=[],y=l==="top"||l==="bottom"?"width":"height",E=h&&y==="width"?Hg(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(F,B){var j=wn(f)?f(F.value,B):F.value;return y==="width"?Tce(Hg(j,{fontSize:e,letterSpacing:n}),E,m):Hg(j,{fontSize:e,letterSpacing:n})[y]},S=i.length>=2?Cl(i[1].coordinate-i[0].coordinate):1,I=Cce(a,S,y);return c==="equidistantPreserveStart"?Rce(S,I,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Dce(S,I,A,i,s,c==="preserveStartEnd"):g=jce(S,I,A,i,s),g.filter(function(P){return P.isShow}))}var Mce=["viewBox"],Lce=["viewBox"],Fce=["ticks"];function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){xC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hS(t,e){if(t==null)return{};var n=Uce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XU(r.key),r)}}function Vce(t,e,n){return e&&HD(t.prototype,e),n&&HD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qce(t,e,n){return e=f1(e),zce(t,JU()?Reflect.construct(e,n||[],f1(t).constructor):e.apply(t,n))}function zce(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(t)}function $ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}function Hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZN(t,e)}function xC(t,e,n){return e=XU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XU(t){var e=Gce(t,"string");return im(e)=="symbol"?e:e+""}function Gce(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tm=(function(t){function e(n){var r;return Bce(this,e),r=qce(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Hce(e,t),Vce(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=hS(r,Mce),l=this.props,c=l.viewBox,f=hS(l,Lce);return!Np(a,c)||!Np(s,f)||!Np(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,g=i.tickMargin,y,E,A,S,I,P,F=m?-1:1,B=r.tickSize||h,j=_t(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":y=E=r.coordinate,S=s+ +!m*c,A=S-F*B,P=A-F*g,I=j;break;case"left":A=S=r.coordinate,E=a+ +!m*l,y=E-F*B,I=y-F*g,P=j;break;case"right":A=S=r.coordinate,E=a+ +m*l,y=E+F*B,I=y+F*g,P=j;break;default:y=E=r.coordinate,S=s+ +m*c,A=S+F*B,P=A+F*g,I=j;break}return{line:{x1:y,y1:A,x2:E,y2:S},tick:{x:I,y:P}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=Zi(Zi(Zi({},On(this.props,!1)),On(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!f||c==="bottom"&&f);m=Zi(Zi({},m),{},{x1:i,y1:a+g*l,x2:i+s,y2:a+g*l})}else{var y=+(c==="left"&&!f||c==="right"&&f);m=Zi(Zi({},m),{},{x1:i+y*s,y1:a,x2:i+y*s,y2:a+l})}return Oe.createElement("line",yp({},m,{className:Qn("recharts-cartesian-axis-line",Wo(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,y=yC(Zi(Zi({},this.props),{},{ticks:r}),i,a),E=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),S=On(this.props,!1),I=On(h,!1),P=Zi(Zi({},S),{},{fill:"none"},On(c,!1)),F=y.map(function(B,j){var V=s.getTickLineCoord(B),O=V.line,D=V.tick,z=Zi(Zi(Zi(Zi({textAnchor:E,verticalAnchor:A},S),{},{stroke:"none",fill:f},I),D),{},{index:j,payload:B,visibleTicksCount:y.length,tickFormatter:m});return Oe.createElement(oi,yp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},_x(s.props,B,j)),c&&Oe.createElement("line",yp({},P,O,{className:Qn("recharts-cartesian-axis-tick-line",Wo(c,"className"))})),h&&e.renderTickItem(h,z,"".concat(wn(m)?m(B.value,j):B.value).concat(g||"")))});return Oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},F)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,g=m.ticks,y=hS(m,Fce),E=g;return wn(c)&&(E=g&&g.length>0?c(this.props):c(y)),s<=0||l<=0||!E||!E.length?null:Oe.createElement(oi,{className:Qn("recharts-cartesian-axis",f),ref:function(S){r.layerReference=S}},a&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),ns.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=Qn(i.className,"recharts-cartesian-axis-tick-value");return Oe.isValidElement(r)?s=Oe.cloneElement(r,Zi(Zi({},i),{},{className:l})):wn(r)?s=r(Zi(Zi({},i),{},{className:l})):s=Oe.createElement(Px,yp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(ye.Component);xC(Tm,"displayName","CartesianAxis");xC(Tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wce=["x1","y1","x2","y2","key"],Kce=["offset"];function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Xce(t,"string");return oh(e)=="symbol"?e:e+""}function Xce(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function WD(t,e){if(t==null)return{};var n=Qce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return Oe.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function QU(t,e){var n;if(Oe.isValidElement(t))n=Oe.cloneElement(t,e);else if(wn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=WD(e,Wce),f=On(c,!1);f.offset;var h=WD(f,Kce);n=Oe.createElement("line",Gf({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function eue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=rs(rs({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return QU(i,f)});return Oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function tue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=rs(rs({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return QU(i,f)});return Oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function nue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var E=!h[y+1],A=E?i+s-g:h[y+1]-g;if(A<=0)return null;var S=y%e.length;return Oe.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:A,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function rue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var E=!h[y+1],A=E?a+l-g:h[y+1]-g;if(A<=0)return null;var S=y%r.length;return Oe.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:A,height:c,stroke:"none",fill:r[S],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var iue=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return fU(yC(rs(rs(rs({},Tm.defaultProps),r),{},{ticks:bu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},aue=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return fU(yC(rs(rs(rs({},Tm.defaultProps),r),{},{ticks:bu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},sp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ZU(t){var e,n,r,i,a,s,l=pC(),c=mC(),f=Gle(),h=rs(rs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:sp.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sp.verticalFill,x:_t(t.x)?t.x:f.left,y:_t(t.y)?t.y:f.top,width:_t(t.width)?t.width:f.width,height:_t(t.height)?t.height:f.height}),m=h.x,g=h.y,y=h.width,E=h.height,A=h.syncWithTicks,S=h.horizontalValues,I=h.verticalValues,P=zle(),F=$le();if(!_t(y)||y<=0||!_t(E)||E<=0||!_t(m)||m!==+m||!_t(g)||g!==+g)return null;var B=h.verticalCoordinatesGenerator||iue,j=h.horizontalCoordinatesGenerator||aue,V=h.horizontalPoints,O=h.verticalPoints;if((!V||!V.length)&&wn(j)){var D=S&&S.length,z=j({yAxis:F?rs(rs({},F),{},{ticks:D?S:F.ticks}):void 0,width:l,height:c,offset:f},D?!0:A);Nu(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oh(z),"]")),Array.isArray(z)&&(V=z)}if((!O||!O.length)&&wn(B)){var H=I&&I.length,U=B({xAxis:P?rs(rs({},P),{},{ticks:H?I:P.ticks}):void 0,width:l,height:c,offset:f},H?!0:A);Nu(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oh(U),"]")),Array.isArray(U)&&(O=U)}return Oe.createElement("g",{className:"recharts-cartesian-grid"},Oe.createElement(Zce,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Oe.createElement(eue,Gf({},h,{offset:f,horizontalPoints:V,xAxis:P,yAxis:F})),Oe.createElement(tue,Gf({},h,{offset:f,verticalPoints:O,xAxis:P,yAxis:F})),Oe.createElement(nue,Gf({},h,{horizontalPoints:V})),Oe.createElement(rue,Gf({},h,{verticalPoints:O})))}ZU.displayName="CartesianGrid";var sue=["layout","type","stroke","connectNulls","isRange","ref"],oue=["key"],eB;function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function tB(t,e){if(t==null)return{};var n=lue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){wc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rB(r.key),r)}}function uue(t,e,n){return e&&YD(t.prototype,e),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function due(t,e,n){return e=h1(e),fue(t,nB()?Reflect.construct(e,n||[],h1(t).constructor):e.apply(t,n))}function fue(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hue(t)}function hue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h1(t)}function pue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function wc(t,e,n){return e=rB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(t){var e=mue(t,"string");return am(e)=="symbol"?e:e+""}function mue(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pf=(function(t){function e(){var n;cue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=due(this,e,[].concat(i)),wc(n,"state",{isAnimationFinished:!0}),wc(n,"id",rv("recharts-area-")),wc(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wn(s)&&s()}),wc(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wn(s)&&s()}),n}return pue(e,t),uue(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,h=c.points,m=c.dataKey,g=On(this.props,!1),y=On(f,!0),E=h.map(function(S,I){var P=Cd(Cd(Cd({key:"dot-".concat(I),r:3},g),y),{},{index:I,cx:S.x,cy:S.y,dataKey:m,value:S.value,payload:S.payload,points:h});return e.renderDotItem(f,P)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Oe.createElement(oi,Wf({className:"recharts-area-dots"},A),E)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,h=r*Math.abs(c-f),m=Ld(s.map(function(g){return g.y||0}));return _t(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Ld(a.map(function(g){return g.y||0})),m)),_t(m)?Oe.createElement("rect",{x:c<f?c:c-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,h=r*Math.abs(c-f),m=Ld(s.map(function(g){return g.x||0}));return _t(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Ld(a.map(function(g){return g.x||0})),m)),_t(m)?Oe.createElement("rect",{x:0,y:c<f?c:c-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,f=l.type,h=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var y=tB(l,sue);return Oe.createElement(oi,{clipPath:a?"url(#clipPath-".concat(s,")"):null},Oe.createElement(Kg,Wf({},On(y,!0),{points:r,connectNulls:m,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Oe.createElement(Kg,Wf({},On(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:m,fill:"none",points:r})),h!=="none"&&g&&Oe.createElement(Kg,Wf({},On(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,g=s.animationEasing,y=s.animationId,E=this.state,A=E.prevPoints,S=E.prevBaseLine;return Oe.createElement(Pu,{begin:h,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var P=I.t;if(A){var F=A.length/l.length,B=l.map(function(D,z){var H=Math.floor(z*F);if(A[H]){var U=A[H],R=qo(U.x,D.x),C=qo(U.y,D.y);return Cd(Cd({},D),{},{x:R(P),y:C(P)})}return D}),j;if(_t(c)&&typeof c=="number"){var V=qo(S,c);j=V(P)}else if(Vn(c)||_m(c)){var O=qo(S,0);j=O(P)}else j=c.map(function(D,z){var H=Math.floor(z*F);if(S[H]){var U=S[H],R=qo(U.x,D.x),C=qo(U.y,D.y);return Cd(Cd({},D),{},{x:R(P),y:C(P)})}return D});return a.renderAreaStatically(B,j,r,i)}return Oe.createElement(oi,null,Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(P))),Oe.createElement(oi,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,g=f.totalLength;return c&&s&&s.length&&(!h&&g>0||!_0(h,s)||!_0(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,h=i.left,m=i.xAxis,g=i.yAxis,y=i.width,E=i.height,A=i.isAnimationActive,S=i.id;if(a||!l||!l.length)return null;var I=this.state.isAnimationFinished,P=l.length===1,F=Qn("recharts-area",c),B=m&&m.allowDataOverflow,j=g&&g.allowDataOverflow,V=B||j,O=Vn(S)?this.id:S,D=(r=On(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},z=D.r,H=z===void 0?3:z,U=D.strokeWidth,R=U===void 0?2:U,C=PY(s)?s:{},G=C.clipDot,le=G===void 0?!0:G,W=H*2+R;return Oe.createElement(oi,{className:F},B||j?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(O)},Oe.createElement("rect",{x:B?h:h-y/2,y:j?f:f-E/2,width:B?y:y*2,height:j?E:E*2})),!le&&Oe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Oe.createElement("rect",{x:h-W/2,y:f-W/2,width:y+W,height:E+W}))):null,P?null:this.renderArea(V,O),(s||P)&&this.renderDots(V,le,O),(!A||I)&&$d.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(ye.PureComponent);eB=pf;wc(pf,"displayName","Area");wc(pf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Am.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});wc(pf,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(_t(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});wc(pf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=e.layout,E=f&&f.length,A=eB.getBaseValue(e,n,r,i),S=y==="horizontal",I=!1,P=m.map(function(B,j){var V;E?V=f[h+j]:(V=bo(B,c),Array.isArray(V)?I=!0:V=[A,V]);var O=V[1]==null||E&&bo(B,c)==null;return S?{x:hj({axis:r,ticks:a,bandSize:l,entry:B,index:j}),y:O?null:i.scale(V[1]),value:V,payload:B}:{x:O?null:r.scale(V[1]),y:hj({axis:i,ticks:s,bandSize:l,entry:B,index:j}),value:V,payload:B}}),F;return E||I?F=P.map(function(B){var j=Array.isArray(B.value)?B.value[0]:null;return S?{x:B.x,y:j!=null&&B.y!=null?i.scale(j):null}:{x:j!=null?r.scale(j):null,y:B.y}}):F=S?i.scale(A):r.scale(A),Cd({points:P,baseLine:F,layout:y,isRange:I},g)});wc(pf,"renderDotItem",function(t,e){var n;if(Oe.isValidElement(t))n=Oe.cloneElement(t,e);else if(wn(t))n=t(e);else{var r=Qn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=tB(e,oue);n=Oe.createElement(uC,Wf({},a,{key:i,className:r}))}return n});function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function yue(t,e,n){return e&&vue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xue(t,e,n){return e=p1(e),bue(t,iB()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function bue(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ue(t)}function _ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p1(t)}function wue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tE(t,e)}function aB(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=Aue(t,"string");return sm(e)=="symbol"?e:e+""}function Aue(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function Sue(t){var e=t.xAxisId,n=pC(),r=mC(),i=VU(e);return i==null?null:ye.createElement(Tm,nE({},i,{className:Qn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return bu(s,!0)}}))}var bb=(function(t){function e(){return gue(this,e),xue(this,e,arguments)}return wue(e,t),yue(e,[{key:"render",value:function(){return ye.createElement(Sue,this.props)}}])})(ye.Component);aB(bb,"displayName","XAxis");aB(bb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function Nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cB(r.key),r)}}function Tue(t,e,n){return e&&Eue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cue(t,e,n){return e=m1(e),Iue(t,oB()?Reflect.construct(e,n||[],m1(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rue(t)}function Rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m1(t)}function kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function lB(t,e,n){return e=cB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=Pue(t,"string");return om(e)=="symbol"?e:e+""}function Pue(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}var Oue=function(e){var n=e.yAxisId,r=pC(),i=mC(),a=qU(n);return a==null?null:ye.createElement(Tm,iE({},a,{className:Qn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return bu(l,!0)}}))},_b=(function(t){function e(){return Nue(this,e),Cue(this,e,arguments)}return kue(e,t),Tue(e,[{key:"render",value:function(){return ye.createElement(Oue,this.props)}}])})(ye.Component);lB(_b,"displayName","YAxis");lB(_b,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JD(t){return Lue(t)||Mue(t)||Due(t)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Due(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function Mue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lue(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sE=function(e,n,r,i,a){var s=Rl(e,vC),l=Rl(e,vb),c=[].concat(JD(s),JD(l)),f=Rl(e,xb),h="".concat(i,"Id"),m=i[0],g=n;if(c.length&&(g=c.reduce(function(A,S){if(S.props[h]===r&&Tc(S.props,"extendDomain")&&_t(S.props[m])){var I=S.props[m];return[Math.min(A[0],I),Math.max(A[1],I)]}return A},g)),f.length){var y="".concat(m,"1"),E="".concat(m,"2");g=f.reduce(function(A,S){if(S.props[h]===r&&Tc(S.props,"extendDomain")&&_t(S.props[y])&&_t(S.props[E])){var I=S.props[y],P=S.props[E];return[Math.min(A[0],I,P),Math.max(A[1],I,P)]}return A},g)}return a&&a.length&&(g=a.reduce(function(A,S){return _t(S)?[Math.min(A[0],S),Math.max(A[1],S)]:A},g)),g},pS={exports:{}},XD;function Fue(){return XD||(XD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||c,g),E=n?n+f:f;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],y]:c._events[E].push(y):(c._events[E]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,E=new Array(y);g<y;g++)E[g]=m[g].fn;return E},l.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,g,y,E){var A=n?n+f:f;if(!this._events[A])return!1;var S=this._events[A],I=arguments.length,P,F;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,m),!0;case 4:return S.fn.call(S.context,h,m,g),!0;case 5:return S.fn.call(S.context,h,m,g,y),!0;case 6:return S.fn.call(S.context,h,m,g,y,E),!0}for(F=1,P=new Array(I-1);F<I;F++)P[F-1]=arguments[F];S.fn.apply(S.context,P)}else{var B=S.length,j;for(F=0;F<B;F++)switch(S[F].once&&this.removeListener(f,S[F].fn,void 0,!0),I){case 1:S[F].fn.call(S[F].context);break;case 2:S[F].fn.call(S[F].context,h);break;case 3:S[F].fn.call(S[F].context,h,m);break;case 4:S[F].fn.call(S[F].context,h,m,g);break;default:if(!P)for(j=1,P=new Array(I-1);j<I;j++)P[j-1]=arguments[j];S[F].fn.apply(S[F].context,P)}}return!0},l.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,g){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var E=this._events[y];if(E.fn)E.fn===h&&(!g||E.once)&&(!m||E.context===m)&&s(this,y);else{for(var A=0,S=[],I=E.length;A<I;A++)(E[A].fn!==h||g&&!E[A].once||m&&E[A].context!==m)&&S.push(E[A]);S.length?this._events[y]=S.length===1?S[0]:S:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(pS)),pS.exports}var Uue=Fue();const Bue=Sr(Uue);var mS=new Bue,gS="recharts.syncMouseEvents";function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function Vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function que(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uB(r.key),r)}}function zue(t,e,n){return e&&que(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vS(t,e,n){return e=uB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uB(t){var e=$ue(t,"string");return z0(e)=="symbol"?e:e+""}function $ue(t,e){if(z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hue=(function(){function t(){Vue(this,t),vS(this,"activeIndex",0),vS(this,"coordinateList",[]),vS(this,"layout","horizontal")}return zue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+f,g=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function Gue(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&_t(r)&&_t(i))return!0}return!1}function Wue(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Oa(e,n,r,i),l=Oa(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Kue(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,g=Oa(l,c,f,m),y=Oa(l,c,h,m);r=g.x,i=g.y,a=y.x,s=y.y}else return dB(e);return[{x:r,y:i},{x:a,y:s}]}function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e,n){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Xue(t,"string");return $0(e)=="symbol"?e:e+""}function Xue(t,e){if($0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var E,A=Kg;if(g==="ScatterChart")E=s,A=Zse;else if(g==="BarChart")E=Wue(m,s,c,h),A=cC;else if(m==="radial"){var S=dB(s),I=S.cx,P=S.cy,F=S.radius,B=S.startAngle,j=S.endAngle;E={cx:I,cy:P,startAngle:B,endAngle:j,innerRadius:F,outerRadius:F},A=vU}else E={points:Kue(m,s,c)},A=Kg;var V=Ny(Ny(Ny(Ny({stroke:"#ccc",pointerEvents:"none"},c),E),On(y,!1)),{},{payload:l,payloadIndex:f,className:Qn("recharts-tooltip-cursor",y.className)});return ye.isValidElement(y)?ye.cloneElement(y,V):ye.createElement(A,V)}var Zue=["item"],ede=["children","className","width","height","style","compact","title","desc"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function ZD(t,e){return rde(t)||nde(t,e)||hB(t,e)||tde()}function tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function rde(t){if(Array.isArray(t))return t}function eM(t,e){if(t==null)return{};var n=ide(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function ode(t,e,n){return e&&sde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lde(t,e,n){return e=g1(e),cde(t,fB()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function cde(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ude(t)}function ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function dde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oE(t,e)}function cm(t){return pde(t)||hde(t)||hB(t)||fde()}function fde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(t,e){if(t){if(typeof t=="string")return lE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(t,e)}}function hde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pde(t){if(Array.isArray(t))return lE(t)}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tn(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=mde(t,"string");return lm(e)=="symbol"?e:e+""}function mde(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde={xAxis:["bottom","top"],yAxis:["left","right"]},vde={width:"100%",height:"100%"},mB={x:0,y:0};function Ey(t){return t}var yde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xde=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return st(st(st({},i),Oa(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,f=i.angle;return st(st(st({},i),Oa(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return mB},wb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(cm(l),cm(f)):l},[]);return s.length>0?s:e&&e.length&&_t(i)&&_t(a)?e.slice(i,a+1):[]};function gB(t){return t==="number"?[0,"auto"]:void 0}var cE=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=wb(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var y=m===void 0?l:m;g=xx(y,s.dataKey,i)}else g=m&&m[r]||l[r];return g?[].concat(cm(c),[pU(f,g)]):c},[])},nM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=yde(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=Pre(s,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,g=cE(e,n,h,m),y=xde(r,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},bde=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,y=dU(h,a);return r.reduce(function(E,A){var S,I=A.type.defaultProps!==void 0?st(st({},A.type.defaultProps),A.props):A.props,P=I.type,F=I.dataKey,B=I.allowDataOverflow,j=I.allowDuplicatedCategory,V=I.scale,O=I.ticks,D=I.includeHidden,z=I[s];if(E[z])return E;var H=wb(e.data,{graphicalItems:i.filter(function(L){var Y,ee=s in L.props?L.props[s]:(Y=L.type.defaultProps)===null||Y===void 0?void 0:Y[s];return ee===z}),dataStartIndex:c,dataEndIndex:f}),U=H.length,R,C,G;Gue(I.domain,B,P)&&(R=CN(I.domain,null,B),y&&(P==="number"||V!=="auto")&&(G=Wg(H,F,"category")));var le=gB(P);if(!R||R.length===0){var W,te=(W=I.domain)!==null&&W!==void 0?W:le;if(F){if(R=Wg(H,F,P),P==="category"&&y){var re=wY(R);j&&re?(C=R,R=r1(0,U)):j||(R=vj(te,R,A).reduce(function(L,Y){return L.indexOf(Y)>=0?L:[].concat(cm(L),[Y])},[]))}else if(P==="category")j?R=R.filter(function(L){return L!==""&&!Vn(L)}):R=vj(te,R,A).reduce(function(L,Y){return L.indexOf(Y)>=0||Y===""||Vn(Y)?L:[].concat(cm(L),[Y])},[]);else if(P==="number"){var ve=Lre(H,i.filter(function(L){var Y,ee,X=s in L.props?L.props[s]:(Y=L.type.defaultProps)===null||Y===void 0?void 0:Y[s],Q="hide"in L.props?L.props.hide:(ee=L.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return X===z&&(D||!Q)}),F,a,h);ve&&(R=ve)}y&&(P==="number"||V!=="auto")&&(G=Wg(H,F,"category"))}else y?R=r1(0,U):l&&l[z]&&l[z].hasStack&&P==="number"?R=g==="expand"?[0,1]:hU(l[z].stackGroups,c,f):R=uU(H,i.filter(function(L){var Y=s in L.props?L.props[s]:L.type.defaultProps[s],ee="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return Y===z&&(D||!ee)}),P,h,!0);if(P==="number")R=sE(m,R,z,a,O),te&&(R=CN(te,R,B));else if(P==="category"&&te){var we=te,ie=R.every(function(L){return we.indexOf(L)>=0});ie&&(R=we)}}return st(st({},E),{},tn({},z,st(st({},I),{},{axisType:a,domain:R,categoricalDomain:G,duplicateDomain:C,originalDomain:(S=I.domain)!==null&&S!==void 0?S:le,isCategorical:y,layout:h})))},{})},_de=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,g=wb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),y=g.length,E=dU(h,a),A=-1;return r.reduce(function(S,I){var P=I.type.defaultProps!==void 0?st(st({},I.type.defaultProps),I.props):I.props,F=P[s],B=gB("number");if(!S[F]){A++;var j;return E?j=r1(0,y):l&&l[F]&&l[F].hasStack?(j=hU(l[F].stackGroups,c,f),j=sE(m,j,F,a)):(j=CN(B,uU(g,r.filter(function(V){var O,D,z=s in V.props?V.props[s]:(O=V.type.defaultProps)===null||O===void 0?void 0:O[s],H="hide"in V.props?V.props.hide:(D=V.type.defaultProps)===null||D===void 0?void 0:D.hide;return z===F&&!H}),"number",h),i.defaultProps.allowDataOverflow),j=sE(m,j,F,a)),st(st({},S),{},tn({},F,st(st({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wo(gde,"".concat(a,".").concat(A%2),null),domain:j,originalDomain:B,isCategorical:E,layout:h})))}return S},{})},wde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),g=Rl(h,a),y={};return g&&g.length?y=bde(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(y=_de(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),y},Ade=function(e){var n=kd(e),r=bu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wx(n,r)}},rM=function(e){var n=e.children,r=e.defaultShowTooltip,i=po(n,Zp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Sde=function(e){return!e||!e.length?!1:e.some(function(n){var r=Su(n&&n.type);return r&&r.indexOf("Bar")>=0})},iM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nde=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,m=r.children,g=r.margin||{},y=po(m,Zp),E=po(m,Ep),A=Object.keys(c).reduce(function(j,V){var O=c[V],D=O.orientation;return!O.mirror&&!O.hide?st(st({},j),{},tn({},D,j[D]+O.width)):j},{left:g.left||0,right:g.right||0}),S=Object.keys(s).reduce(function(j,V){var O=s[V],D=O.orientation;return!O.mirror&&!O.hide?st(st({},j),{},tn({},D,Wo(j,"".concat(D))+O.height)):j},{top:g.top||0,bottom:g.bottom||0}),I=st(st({},S),A),P=I.bottom;y&&(I.bottom+=y.props.height||Zp.defaultProps.height),E&&n&&(I=Dre(I,i,r,n));var F=f-I.left-I.right,B=h-I.top-I.bottom;return st(st({brushBottom:P},I),{},{width:Math.max(F,0),height:Math.max(B,0)})},Ede=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Tde=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(I,P){var F=P.graphicalItems,B=P.stackGroups,j=P.offset,V=P.updateId,O=P.dataStartIndex,D=P.dataEndIndex,z=I.barSize,H=I.layout,U=I.barGap,R=I.barCategoryGap,C=I.maxBarSize,G=iM(H),le=G.numericAxisName,W=G.cateAxisName,te=Sde(F),re=[];return F.forEach(function(ve,we){var ie=wb(I.data,{graphicalItems:[ve],dataStartIndex:O,dataEndIndex:D}),L=ve.type.defaultProps!==void 0?st(st({},ve.type.defaultProps),ve.props):ve.props,Y=L.dataKey,ee=L.maxBarSize,X=L["".concat(le,"Id")],Q=L["".concat(W,"Id")],ge={},be=c.reduce(function(Ke,rt){var it=P["".concat(rt.axisType,"Map")],We=L["".concat(rt.axisType,"Id")];it&&it[We]||rt.axisType==="zAxis"||sh();var yt=it[We];return st(st({},Ke),{},tn(tn({},rt.axisType,yt),"".concat(rt.axisType,"Ticks"),bu(yt)))},ge),ae=be[W],Se=be["".concat(W,"Ticks")],Ee=B&&B[X]&&B[X].hasStack&&Yre(ve,B[X].stackGroups),_e=Su(ve.type).indexOf("Bar")>=0,Je=Wx(ae,Se),Fe=[],Ne=te&&Ore({barSize:z,stackGroups:B,totalSize:Ede(be,W)});if(_e){var ne,Be,Ze=Vn(ee)?C:ee,ze=(ne=(Be=Wx(ae,Se,!0))!==null&&Be!==void 0?Be:Ze)!==null&&ne!==void 0?ne:0;Fe=jre({barGap:U,barCategoryGap:R,bandSize:ze!==Je?ze:Je,sizeList:Ne[Q],maxBarSize:Ze}),ze!==Je&&(Fe=Fe.map(function(Ke){return st(st({},Ke),{},{position:st(st({},Ke.position),{},{offset:Ke.position.offset-ze/2})})}))}var et=ve&&ve.type&&ve.type.getComposedData;et&&re.push({props:st(st({},et(st(st({},be),{},{displayedData:ie,props:I,dataKey:Y,item:ve,bandSize:Je,barPosition:Fe,offset:j,stackedData:Ee,layout:H,dataStartIndex:O,dataEndIndex:D}))),{},tn(tn(tn({key:ve.key||"item-".concat(we)},le,be[le]),W,be[W]),"animationId",V)),childIndex:DY(ve,I.children),item:ve})}),re},y=function(I,P){var F=I.props,B=I.dataStartIndex,j=I.dataEndIndex,V=I.updateId;if(!kk({props:F}))return null;var O=F.children,D=F.layout,z=F.stackOffset,H=F.data,U=F.reverseStackOrder,R=iM(D),C=R.numericAxisName,G=R.cateAxisName,le=Rl(O,r),W=Gre(H,le,"".concat(C,"Id"),"".concat(G,"Id"),z,U),te=c.reduce(function(L,Y){var ee="".concat(Y.axisType,"Map");return st(st({},L),{},tn({},ee,wde(F,st(st({},Y),{},{graphicalItems:le,stackGroups:Y.axisType===C&&W,dataStartIndex:B,dataEndIndex:j}))))},{}),re=Nde(st(st({},te),{},{props:F,graphicalItems:le}),P==null?void 0:P.legendBBox);Object.keys(te).forEach(function(L){te[L]=h(F,te[L],re,L.replace("Map",""),n)});var ve=te["".concat(G,"Map")],we=Ade(ve),ie=g(F,st(st({},te),{},{dataStartIndex:B,dataEndIndex:j,updateId:V,graphicalItems:le,stackGroups:W,offset:re}));return st(st({formattedGraphicalItems:ie,graphicalItems:le,offset:re,stackGroups:W},we),te)},E=(function(S){function I(P){var F,B,j;return ade(this,I),j=lde(this,I,[P]),tn(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tn(j,"accessibilityManager",new Hue),tn(j,"handleLegendBBoxUpdate",function(V){if(V){var O=j.state,D=O.dataStartIndex,z=O.dataEndIndex,H=O.updateId;j.setState(st({legendBBox:V},y({props:j.props,dataStartIndex:D,dataEndIndex:z,updateId:H},st(st({},j.state),{},{legendBBox:V}))))}}),tn(j,"handleReceiveSyncEvent",function(V,O,D){if(j.props.syncId===V){if(D===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(O)}}),tn(j,"handleBrushChange",function(V){var O=V.startIndex,D=V.endIndex;if(O!==j.state.dataStartIndex||D!==j.state.dataEndIndex){var z=j.state.updateId;j.setState(function(){return st({dataStartIndex:O,dataEndIndex:D},y({props:j.props,dataStartIndex:O,dataEndIndex:D,updateId:z},j.state))}),j.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),tn(j,"handleMouseEnter",function(V){var O=j.getMouseInfo(V);if(O){var D=st(st({},O),{},{isTooltipActive:!0});j.setState(D),j.triggerSyncEvent(D);var z=j.props.onMouseEnter;wn(z)&&z(D,V)}}),tn(j,"triggeredAfterMouseMove",function(V){var O=j.getMouseInfo(V),D=O?st(st({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(D),j.triggerSyncEvent(D);var z=j.props.onMouseMove;wn(z)&&z(D,V)}),tn(j,"handleItemMouseEnter",function(V){j.setState(function(){return{isTooltipActive:!0,activeItem:V,activePayload:V.tooltipPayload,activeCoordinate:V.tooltipPosition||{x:V.cx,y:V.cy}}})}),tn(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),tn(j,"handleMouseMove",function(V){V.persist(),j.throttleTriggeredAfterMouseMove(V)}),tn(j,"handleMouseLeave",function(V){j.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};j.setState(O),j.triggerSyncEvent(O);var D=j.props.onMouseLeave;wn(D)&&D(O,V)}),tn(j,"handleOuterEvent",function(V){var O=jY(V),D=Wo(j.props,"".concat(O));if(O&&wn(D)){var z,H;/.*touch.*/i.test(O)?H=j.getMouseInfo(V.changedTouches[0]):H=j.getMouseInfo(V),D((z=H)!==null&&z!==void 0?z:{},V)}}),tn(j,"handleClick",function(V){var O=j.getMouseInfo(V);if(O){var D=st(st({},O),{},{isTooltipActive:!0});j.setState(D),j.triggerSyncEvent(D);var z=j.props.onClick;wn(z)&&z(D,V)}}),tn(j,"handleMouseDown",function(V){var O=j.props.onMouseDown;if(wn(O)){var D=j.getMouseInfo(V);O(D,V)}}),tn(j,"handleMouseUp",function(V){var O=j.props.onMouseUp;if(wn(O)){var D=j.getMouseInfo(V);O(D,V)}}),tn(j,"handleTouchMove",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(V.changedTouches[0])}),tn(j,"handleTouchStart",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&j.handleMouseDown(V.changedTouches[0])}),tn(j,"handleTouchEnd",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&j.handleMouseUp(V.changedTouches[0])}),tn(j,"handleDoubleClick",function(V){var O=j.props.onDoubleClick;if(wn(O)){var D=j.getMouseInfo(V);O(D,V)}}),tn(j,"handleContextMenu",function(V){var O=j.props.onContextMenu;if(wn(O)){var D=j.getMouseInfo(V);O(D,V)}}),tn(j,"triggerSyncEvent",function(V){j.props.syncId!==void 0&&mS.emit(gS,j.props.syncId,V,j.eventEmitterSymbol)}),tn(j,"applySyncEvent",function(V){var O=j.props,D=O.layout,z=O.syncMethod,H=j.state.updateId,U=V.dataStartIndex,R=V.dataEndIndex;if(V.dataStartIndex!==void 0||V.dataEndIndex!==void 0)j.setState(st({dataStartIndex:U,dataEndIndex:R},y({props:j.props,dataStartIndex:U,dataEndIndex:R,updateId:H},j.state)));else if(V.activeTooltipIndex!==void 0){var C=V.chartX,G=V.chartY,le=V.activeTooltipIndex,W=j.state,te=W.offset,re=W.tooltipTicks;if(!te)return;if(typeof z=="function")le=z(re,V);else if(z==="value"){le=-1;for(var ve=0;ve<re.length;ve++)if(re[ve].value===V.activeLabel){le=ve;break}}var we=st(st({},te),{},{x:te.left,y:te.top}),ie=Math.min(C,we.x+we.width),L=Math.min(G,we.y+we.height),Y=re[le]&&re[le].value,ee=cE(j.state,j.props.data,le),X=re[le]?{x:D==="horizontal"?re[le].coordinate:ie,y:D==="horizontal"?L:re[le].coordinate}:mB;j.setState(st(st({},V),{},{activeLabel:Y,activeCoordinate:X,activePayload:ee,activeTooltipIndex:le}))}else j.setState(V)}),tn(j,"renderCursor",function(V){var O,D=j.state,z=D.isTooltipActive,H=D.activeCoordinate,U=D.activePayload,R=D.offset,C=D.activeTooltipIndex,G=D.tooltipAxisBandSize,le=j.getTooltipEventType(),W=(O=V.props.active)!==null&&O!==void 0?O:z,te=j.props.layout,re=V.key||"_recharts-cursor";return Oe.createElement(Que,{key:re,activeCoordinate:H,activePayload:U,activeTooltipIndex:C,chartName:n,element:V,isActive:W,layout:te,offset:R,tooltipAxisBandSize:G,tooltipEventType:le})}),tn(j,"renderPolarAxis",function(V,O,D){var z=Wo(V,"type.axisType"),H=Wo(j.state,"".concat(z,"Map")),U=V.type.defaultProps,R=U!==void 0?st(st({},U),V.props):V.props,C=H&&H[R["".concat(z,"Id")]];return ye.cloneElement(V,st(st({},C),{},{className:Qn(z,C.className),key:V.key||"".concat(O,"-").concat(D),ticks:bu(C,!0)}))}),tn(j,"renderPolarGrid",function(V){var O=V.props,D=O.radialLines,z=O.polarAngles,H=O.polarRadius,U=j.state,R=U.radiusAxisMap,C=U.angleAxisMap,G=kd(R),le=kd(C),W=le.cx,te=le.cy,re=le.innerRadius,ve=le.outerRadius;return ye.cloneElement(V,{polarAngles:Array.isArray(z)?z:bu(le,!0).map(function(we){return we.coordinate}),polarRadius:Array.isArray(H)?H:bu(G,!0).map(function(we){return we.coordinate}),cx:W,cy:te,innerRadius:re,outerRadius:ve,key:V.key||"polar-grid",radialLines:D})}),tn(j,"renderLegend",function(){var V=j.state.formattedGraphicalItems,O=j.props,D=O.children,z=O.width,H=O.height,U=j.props.margin||{},R=z-(U.left||0)-(U.right||0),C=lU({children:D,formattedGraphicalItems:V,legendWidth:R,legendContent:f});if(!C)return null;var G=C.item,le=eM(C,Zue);return ye.cloneElement(G,st(st({},le),{},{chartWidth:z,chartHeight:H,margin:U,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),tn(j,"renderTooltip",function(){var V,O=j.props,D=O.children,z=O.accessibilityLayer,H=po(D,xc);if(!H)return null;var U=j.state,R=U.isTooltipActive,C=U.activeCoordinate,G=U.activePayload,le=U.activeLabel,W=U.offset,te=(V=H.props.active)!==null&&V!==void 0?V:R;return ye.cloneElement(H,{viewBox:st(st({},W),{},{x:W.left,y:W.top}),active:te,label:le,payload:te?G:[],coordinate:C,accessibilityLayer:z})}),tn(j,"renderBrush",function(V){var O=j.props,D=O.margin,z=O.data,H=j.state,U=H.offset,R=H.dataStartIndex,C=H.dataEndIndex,G=H.updateId;return ye.cloneElement(V,{key:V.key||"_recharts-brush",onChange:_y(j.handleBrushChange,V.props.onChange),data:z,x:_t(V.props.x)?V.props.x:U.left,y:_t(V.props.y)?V.props.y:U.top+U.height+U.brushBottom-(D.bottom||0),width:_t(V.props.width)?V.props.width:U.width,startIndex:R,endIndex:C,updateId:"brush-".concat(G)})}),tn(j,"renderReferenceElement",function(V,O,D){if(!V)return null;var z=j,H=z.clipPathId,U=j.state,R=U.xAxisMap,C=U.yAxisMap,G=U.offset,le=V.type.defaultProps||{},W=V.props,te=W.xAxisId,re=te===void 0?le.xAxisId:te,ve=W.yAxisId,we=ve===void 0?le.yAxisId:ve;return ye.cloneElement(V,{key:V.key||"".concat(O,"-").concat(D),xAxis:R[re],yAxis:C[we],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:H})}),tn(j,"renderActivePoints",function(V){var O=V.item,D=V.activePoint,z=V.basePoint,H=V.childIndex,U=V.isRange,R=[],C=O.props.key,G=O.item.type.defaultProps!==void 0?st(st({},O.item.type.defaultProps),O.item.props):O.item.props,le=G.activeDot,W=G.dataKey,te=st(st({index:H,dataKey:W,cx:D.x,cy:D.y,r:4,fill:lC(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},On(le,!1)),bx(le));return R.push(I.renderActiveDot(le,te,"".concat(C,"-activePoint-").concat(H))),z?R.push(I.renderActiveDot(le,st(st({},te),{},{cx:z.x,cy:z.y}),"".concat(C,"-basePoint-").concat(H))):U&&R.push(null),R}),tn(j,"renderGraphicChild",function(V,O,D){var z=j.filterFormatItem(V,O,D);if(!z)return null;var H=j.getTooltipEventType(),U=j.state,R=U.isTooltipActive,C=U.tooltipAxis,G=U.activeTooltipIndex,le=U.activeLabel,W=j.props.children,te=po(W,xc),re=z.props,ve=re.points,we=re.isRange,ie=re.baseLine,L=z.item.type.defaultProps!==void 0?st(st({},z.item.type.defaultProps),z.item.props):z.item.props,Y=L.activeDot,ee=L.hide,X=L.activeBar,Q=L.activeShape,ge=!!(!ee&&R&&te&&(Y||X||Q)),be={};H!=="axis"&&te&&te.props.trigger==="click"?be={onClick:_y(j.handleItemMouseEnter,V.props.onClick)}:H!=="axis"&&(be={onMouseLeave:_y(j.handleItemMouseLeave,V.props.onMouseLeave),onMouseEnter:_y(j.handleItemMouseEnter,V.props.onMouseEnter)});var ae=ye.cloneElement(V,st(st({},z.props),be));function Se(rt){return typeof C.dataKey=="function"?C.dataKey(rt.payload):null}if(ge)if(G>=0){var Ee,_e;if(C.dataKey&&!C.allowDuplicatedCategory){var Je=typeof C.dataKey=="function"?Se:"payload.".concat(C.dataKey.toString());Ee=xx(ve,Je,le),_e=we&&ie&&xx(ie,Je,le)}else Ee=ve==null?void 0:ve[G],_e=we&&ie&&ie[G];if(Q||X){var Fe=V.props.activeIndex!==void 0?V.props.activeIndex:G;return[ye.cloneElement(V,st(st(st({},z.props),be),{},{activeIndex:Fe})),null,null]}if(!Vn(Ee))return[ae].concat(cm(j.renderActivePoints({item:z,activePoint:Ee,basePoint:_e,childIndex:G,isRange:we})))}else{var Ne,ne=(Ne=j.getItemByXY(j.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:ae},Be=ne.graphicalItem,Ze=Be.item,ze=Ze===void 0?V:Ze,et=Be.childIndex,Ke=st(st(st({},z.props),be),{},{activeIndex:et});return[ye.cloneElement(ze,Ke),null,null]}return we?[ae,null,null]:[ae,null]}),tn(j,"renderCustomized",function(V,O,D){return ye.cloneElement(V,st(st({key:"recharts-customized-".concat(D)},j.props),j.state))}),tn(j,"renderMap",{CartesianGrid:{handler:Ey,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ey},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ey},YAxis:{handler:Ey},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((F=P.id)!==null&&F!==void 0?F:rv("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=lF(j.triggeredAfterMouseMove,(B=P.throttleDelay)!==null&&B!==void 0?B:1e3/60),j.state={},j}return dde(I,S),ode(I,[{key:"componentDidMount",value:function(){var F,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(F=this.props.margin.left)!==null&&F!==void 0?F:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var F=this.props,B=F.children,j=F.data,V=F.height,O=F.layout,D=po(B,xc);if(D){var z=D.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,U=cE(this.state,j,z,H),R=this.state.tooltipTicks[z].coordinate,C=(this.state.offset.top+V)/2,G=O==="horizontal",le=G?{x:R,y:C}:{y:R,x:C},W=this.state.formattedGraphicalItems.find(function(re){var ve=re.item;return ve.type.name==="Scatter"});W&&(le=st(st({},le),W.props.points[z].tooltipPosition),U=W.props.points[z].tooltipPayload);var te={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:H,activePayload:U,activeCoordinate:le};this.setState(te),this.renderCursor(D),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(F,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==F.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==F.margin){var j,V;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0}})}return null}},{key:"componentDidUpdate",value:function(F){JS([po(F.children,xc)],[po(this.props.children,xc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var F=po(this.props.children,xc);if(F&&typeof F.props.shared=="boolean"){var B=F.props.shared?"axis":"item";return l.indexOf(B)>=0?B:a}return a}},{key:"getMouseInfo",value:function(F){if(!this.container)return null;var B=this.container,j=B.getBoundingClientRect(),V=wZ(j),O={chartX:Math.round(F.pageX-V.left),chartY:Math.round(F.pageY-V.top)},D=j.width/B.offsetWidth||1,z=this.inRange(O.chartX,O.chartY,D);if(!z)return null;var H=this.state,U=H.xAxisMap,R=H.yAxisMap,C=this.getTooltipEventType(),G=nM(this.state,this.props.data,this.props.layout,z);if(C!=="axis"&&U&&R){var le=kd(U).scale,W=kd(R).scale,te=le&&le.invert?le.invert(O.chartX):null,re=W&&W.invert?W.invert(O.chartY):null;return st(st({},O),{},{xValue:te,yValue:re},G)}return G?st(st({},O),G):null}},{key:"inRange",value:function(F,B){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,V=this.props.layout,O=F/j,D=B/j;if(V==="horizontal"||V==="vertical"){var z=this.state.offset,H=O>=z.left&&O<=z.left+z.width&&D>=z.top&&D<=z.top+z.height;return H?{x:O,y:D}:null}var U=this.state,R=U.angleAxisMap,C=U.radiusAxisMap;if(R&&C){var G=kd(R);return bj({x:O,y:D},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var F=this.props.children,B=this.getTooltipEventType(),j=po(F,xc),V={};j&&B==="axis"&&(j.props.trigger==="click"?V={onClick:this.handleClick}:V={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=bx(this.props,this.handleOuterEvent);return st(st({},O),V)}},{key:"addListener",value:function(){mS.on(gS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mS.removeListener(gS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(F,B,j){for(var V=this.state.formattedGraphicalItems,O=0,D=V.length;O<D;O++){var z=V[O];if(z.item===F||z.props.key===F.key||B===Su(z.item.type)&&j===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var F=this.clipPathId,B=this.state.offset,j=B.left,V=B.top,O=B.height,D=B.width;return Oe.createElement("defs",null,Oe.createElement("clipPath",{id:F},Oe.createElement("rect",{x:j,y:V,height:O,width:D})))}},{key:"getXScales",value:function(){var F=this.state.xAxisMap;return F?Object.entries(F).reduce(function(B,j){var V=ZD(j,2),O=V[0],D=V[1];return st(st({},B),{},tn({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var F=this.state.yAxisMap;return F?Object.entries(F).reduce(function(B,j){var V=ZD(j,2),O=V[0],D=V[1];return st(st({},B),{},tn({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(F){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[F])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function(F){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[F])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function(F){var B=this.state,j=B.formattedGraphicalItems,V=B.activeItem;if(j&&j.length)for(var O=0,D=j.length;O<D;O++){var z=j[O],H=z.props,U=z.item,R=U.type.defaultProps!==void 0?st(st({},U.type.defaultProps),U.props):U.props,C=Su(U.type);if(C==="Bar"){var G=(H.data||[]).find(function(re){return zse(F,re)});if(G)return{graphicalItem:z,payload:G}}else if(C==="RadialBar"){var le=(H.data||[]).find(function(re){return bj(F,re)});if(le)return{graphicalItem:z,payload:le}}else if(hb(z,V)||pb(z,V)||F0(z,V)){var W=Ooe({graphicalItem:z,activeTooltipItem:V,itemData:R.data}),te=R.activeIndex===void 0?W:R.activeIndex;return{graphicalItem:st(st({},z),{},{childIndex:te}),payload:F0(z,V)?R.data[W]:z.props.data[W]}}}return null}},{key:"render",value:function(){var F=this;if(!kk(this))return null;var B=this.props,j=B.children,V=B.className,O=B.width,D=B.height,z=B.style,H=B.compact,U=B.title,R=B.desc,C=eM(B,ede),G=On(C,!1);if(H)return Oe.createElement(DD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement(QS,xp({},G,{width:O,height:D,title:U,desc:R}),this.renderClipPath(),Ok(j,this.renderMap)));if(this.props.accessibilityLayer){var le,W;G.tabIndex=(le=this.props.tabIndex)!==null&&le!==void 0?le:0,G.role=(W=this.props.role)!==null&&W!==void 0?W:"application",G.onKeyDown=function(re){F.accessibilityManager.keyboardEvent(re)},G.onFocus=function(){F.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Oe.createElement(DD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement("div",xp({className:Qn("recharts-wrapper",V),style:st({position:"relative",cursor:"default",width:O,height:D},z)},te,{ref:function(ve){F.container=ve}}),Oe.createElement(QS,xp({},G,{width:O,height:D,title:U,desc:R,style:vde}),this.renderClipPath(),Ok(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ye.Component);tn(E,"displayName",n),tn(E,"defaultProps",st({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),tn(E,"getDerivedStateFromProps",function(S,I){var P=S.dataKey,F=S.data,B=S.children,j=S.width,V=S.height,O=S.layout,D=S.stackOffset,z=S.margin,H=I.dataStartIndex,U=I.dataEndIndex;if(I.updateId===void 0){var R=rM(S);return st(st(st({},R),{},{updateId:0},y(st(st({props:S},R),{},{updateId:0}),I)),{},{prevDataKey:P,prevData:F,prevWidth:j,prevHeight:V,prevLayout:O,prevStackOffset:D,prevMargin:z,prevChildren:B})}if(P!==I.prevDataKey||F!==I.prevData||j!==I.prevWidth||V!==I.prevHeight||O!==I.prevLayout||D!==I.prevStackOffset||!Np(z,I.prevMargin)){var C=rM(S),G={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},le=st(st({},nM(I,F,O)),{},{updateId:I.updateId+1}),W=st(st(st({},C),G),le);return st(st(st({},W),y(st({props:S},W),I)),{},{prevDataKey:P,prevData:F,prevWidth:j,prevHeight:V,prevLayout:O,prevStackOffset:D,prevMargin:z,prevChildren:B})}if(!JS(B,I.prevChildren)){var te,re,ve,we,ie=po(B,Zp),L=ie&&(te=(re=ie.props)===null||re===void 0?void 0:re.startIndex)!==null&&te!==void 0?te:H,Y=ie&&(ve=(we=ie.props)===null||we===void 0?void 0:we.endIndex)!==null&&ve!==void 0?ve:U,ee=L!==H||Y!==U,X=!Vn(F),Q=X&&!ee?I.updateId:I.updateId+1;return st(st({updateId:Q},y(st(st({props:S},I),{},{updateId:Q,dataStartIndex:L,dataEndIndex:Y}),I)),{},{prevChildren:B,dataStartIndex:L,dataEndIndex:Y})}return null}),tn(E,"renderActiveDot",function(S,I,P){var F;return ye.isValidElement(S)?F=ye.cloneElement(S,I):wn(S)?F=S(I):F=Oe.createElement(uC,I),Oe.createElement(oi,{className:"recharts-active-dot",key:P},F)});var A=ye.forwardRef(function(I,P){return Oe.createElement(E,xp({},I,{ref:P}))});return A.displayName=E.displayName,A},Cde=Tde({chartName:"AreaChart",GraphicalChild:pf,axisComponents:[{axisType:"xAxis",AxisComp:bb},{axisType:"yAxis",AxisComp:_b}],formatAxisMap:Ile});const Ide=({sales:t,stock:e,transactions:n,batches:r,clients:i,onBack:a})=>{const[s,l]=ye.useState(null),[c,f]=ye.useState(!1),[h,m]=ye.useState(new Set),[g,y]=ye.useState("commercial"),[E,A]=ye.useState(!1),S=Array.isArray(t)?t:[],I=Array.isArray(e)?e:[],P=Array.isArray(r)?r:[],F=Array.isArray(i)?i:[],B=S.reduce((C,G)=>C+G.peso_real_saida*G.preco_venda_kg,0),j=S.reduce((C,G)=>C+G.peso_real_saida,0),V=S.reduce((C,G)=>C+(G.quebra_kg||0),0),O=S.filter(C=>C.status_pagamento==="PENDENTE").reduce((C,G)=>{const le=G.peso_real_saida*G.preco_venda_kg,W=G.valor_pago||0;return C+(le-W)},0),D=S.slice(-12).map((C,G)=>({name:`V${G+1}`,lucro:(C.lucro_liquido_unitario||0)*C.peso_real_saida,valor:C.peso_real_saida*C.preco_venda_kg})),z=ye.useMemo(()=>{const C=new Map;return S.forEach(G=>{const le=I.find(Y=>Y.id_completo===G.id_completo),W=le?P.find(Y=>Y.id_lote===le.id_lote):null,te=F.find(Y=>Y.id_ferro===G.id_cliente),re=(W==null?void 0:W.id_lote)||"sem-lote";C.has(re)||C.set(re,[]);const ve=G.peso_real_saida*G.preco_venda_kg,we=W&&Number(W.custo_real_kg)||0,ie=G.peso_real_saida*we+(G.custo_extras_total||0),L=ve-ie;C.get(re).push({sale:G,item:le,batch:W,client:te,revenue:ve,cost:ie,profit:L})}),Array.from(C.entries()).map(([G,le])=>{const W=le[0].batch,te=le.reduce((we,ie)=>we+ie.revenue,0),re=le.reduce((we,ie)=>we+ie.cost,0),ve=le.reduce((we,ie)=>we+ie.profit,0);return{batchId:G,batch:W,items:le,totalRevenue:te,totalCost:re,totalProfit:ve,supplier:(W==null?void 0:W.fornecedor)||"Desconhecido"}}).sort((G,le)=>le.totalRevenue-G.totalRevenue)},[S,I,P,F]),H=ye.useMemo(()=>{const C=[];z.forEach(le=>{const W=le.items.reduce((ve,we)=>{var ie;return ve+(((ie=we.item)==null?void 0:ie.peso_entrada)||0)},0),te=le.items.reduce((ve,we)=>ve+we.sale.peso_real_saida,0),re=W>0?te/W*100:100;re<95&&C.push({type:"critical",message:`Quebra Crtica: Lote ${le.batchId.slice(0,8)}`,detail:`Rendimento de ${re.toFixed(1)}% detectado. Verifique cmara fria.`})}),i.forEach(le=>{(le.tier==="F"||le.score<300)&&C.push({type:"critical",message:`Risco de Crdito: ${le.nome_social}`,detail:"Cliente em Nvel F detectado. Operaes de venda devem ser bloqueadas."})});const G=new Date;return e.filter(le=>le.status==="DISPONIVEL").forEach(le=>{const W=new Date(le.data_entrada),te=Math.floor((G.getTime()-W.getTime())/(1e3*3600*24));te>12&&C.push({type:"warning",message:`Item Envelhecido: ${le.id_completo}`,detail:`Pea com ${te} dias em estoque. Prioritize sada para evitar perda de peso.`})}),C},[z,i,e]),U=C=>{const G=new Set(h);G.has(C)?G.delete(C):G.add(C),m(G)},R=async()=>{f(!0),await new Promise(C=>setTimeout(C,800)),A(!0),H.length>0?l(`Core IA detectou ${H.length} pontos de ateno operacional. Recomendamos auditoria imediata nos lotes com quebra acentuada.`):l("Integridade operacional verificada. Sem anomalias crticas no ciclo atual."),f(!1)};return d.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:g==="commercial"?d.jsx(Q7,{size:28}):d.jsx(As,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:[g==="commercial"?"Performance ":"Analtico de ",d.jsx("span",{className:"text-blue-600",children:g==="commercial"?"Comercial":"Rendimento"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:g==="commercial"?"Painel Analtico de Fluxo Industrial":"Monitoramento de Yield e Queba Industrial"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[d.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[d.jsx("button",{onClick:()=>y("commercial"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="commercial"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Comercial"}),d.jsx("button",{onClick:()=>y("yield"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="yield"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Rendimento"})]}),d.jsxs("button",{onClick:R,disabled:c,className:"bg-white border border-gray-200 text-gray-700 px-6 py-3 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm flex items-center gap-3 disabled:opacity-50",children:[c?d.jsx(As,{className:"animate-spin text-blue-600",size:16}):d.jsx(e9,{className:"text-blue-600",size:16}),"IA Insight"]})]})]}),E&&d.jsxs("div",{className:"mb-10 grid grid-cols-1 lg:grid-cols-3 gap-6 animate-reveal",children:[d.jsxs("div",{className:"lg:col-span-1 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(GS,{size:80})}),d.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400 mb-6 flex items-center gap-2",children:[d.jsx(os,{size:14,className:"fill-blue-400"})," IA Insights Operacionais"]}),d.jsxs("p",{className:"text-sm font-medium leading-relaxed italic border-l-2 border-blue-500 pl-4",children:['"',s,'"']}),d.jsx("button",{onClick:()=>A(!1),className:"mt-8 text-[9px] font-black uppercase text-slate-500 hover:text-white transition-colors",children:"OCULTAR PAINEL IA"})]}),d.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[H.slice(0,4).map((C,G)=>d.jsxs("div",{className:`p-6 rounded-[24px] border-l-4 shadow-sm flex items-start gap-4 animate-reveal ${C.type==="critical"?"bg-rose-50 border-rose-500":C.type==="warning"?"bg-orange-50 border-orange-500":"bg-blue-50 border-blue-500"}`,children:[d.jsx("div",{className:`p-2 rounded-xl ${C.type==="critical"?"bg-rose-500 text-white":C.type==="warning"?"bg-orange-500 text-white":"bg-blue-500 text-white"}`,children:C.type==="critical"?d.jsx(Xd,{size:16}):d.jsx(YG,{size:16})}),d.jsxs("div",{children:[d.jsx("h5",{className:"text-[11px] font-black text-slate-900 uppercase italic mb-1",children:C.message}),d.jsx("p",{className:"text-[10px] font-medium text-slate-500 leading-tight",children:C.detail})]})]},G)),H.length===0&&d.jsxs("div",{className:"md:col-span-2 p-10 bg-emerald-50 rounded-[24px] border-l-4 border-emerald-500 flex flex-col items-center justify-center text-center",children:[d.jsx(Lc,{size:40,className:"text-emerald-500 mb-2"}),d.jsx("h5",{className:"text-xs font-black text-emerald-900 uppercase",children:"Ambiente Seguro"}),d.jsx("p",{className:"text-[10px] font-medium text-emerald-600",children:"Nenhum risco detectado pelo monitor IA."})]})]})]}),g==="commercial"?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{label:"Receita Total",val:B,icon:Au,color:"text-blue-600",bg:"bg-blue-50"},{label:"Fluxo Pendente",val:O,icon:t9,color:"text-amber-600",bg:"bg-amber-50"},{label:"Volume Expedido",val:j,icon:Mc,color:"text-emerald-600",bg:"bg-emerald-50",fmt:"w"},{label:"ndice de Quebra",val:V,icon:vx,color:"text-rose-600",bg:"bg-rose-50",fmt:"w"}].map((C,G)=>d.jsxs("div",{className:"premium-card bg-white p-6 rounded-3xl group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsx("div",{className:`${C.bg} ${C.color} p-3 rounded-2xl`,children:d.jsx(C.icon,{size:20})}),d.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-100 group-hover:bg-blue-500 transition-colors"})]}),d.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:C.label}),d.jsx("p",{className:"text-2xl font-extrabold text-gray-900",children:C.fmt==="w"?Rr(C.val):Ot(C.val)})]},G))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[d.jsxs("div",{className:"lg:col-span-2 premium-card bg-white p-6 rounded-3xl h-[400px] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Monitoramento de Vendas"}),d.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"Fluxo de caixa das ltimas 12 operaes"})]}),d.jsx("div",{className:"bg-blue-50 px-3 py-1 rounded-full text-blue-600 font-bold text-[9px] uppercase tracking-widest",children:"Tempo Real"})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(mZ,{width:"100%",height:"100%",children:d.jsxs(Cde,{data:D,margin:{top:0,right:0,left:-20,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorBrand",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.15}),d.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),d.jsx(ZU,{strokeDasharray:"4 4",stroke:"#f1f5f9",vertical:!1}),d.jsx(bb,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:10,fontWeight:600},axisLine:!1,tickLine:!1}),d.jsx(_b,{tick:{fontSize:10,fontWeight:600,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:C=>`R$${C/1e3}k`}),d.jsx(xc,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontSize:"11px",fontWeight:"bold"}}),d.jsx(pf,{type:"monotone",dataKey:"valor",stroke:"#2563eb",strokeWidth:3,fill:"url(#colorBrand)"})]})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col",children:[d.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-8",children:"Estado do Sistema"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold",children:"L"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lotes Totais"}),d.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[P.length," Registros"]})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center font-bold",children:"V"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Unidades Vendidas"}),d.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[S.length," Itens"]})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold",children:"C"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Base de Clientes"}),d.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[F.length," Ativos"]})]})]})]}),d.jsx("div",{className:"mt-auto pt-6 border-t border-gray-50",children:d.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(os,{size:10,className:"text-amber-500 fill-amber-500"}),d.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Otimizao de Custos"})]}),d.jsx("div",{className:"w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-emerald-500 h-full w-[85%]"})})]})})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Tu,{size:16,className:"text-blue-600"}),"Detalhamento por Lote"]}),d.jsxs("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[z.length," Entradas"]})]}),d.jsxs("div",{className:"divide-y divide-gray-50",children:[z.map(({batchId:C,batch:G,items:le,totalRevenue:W,totalCost:te,totalProfit:re,supplier:ve})=>{const we=h.has(C);return d.jsxs("div",{className:"group",children:[d.jsxs("div",{onClick:()=>U(C),className:`p-6 flex flex-col md:flex-row items-start md:items-center justify-between cursor-pointer transition-all gap-6 ${we?"bg-blue-50/30":"hover:bg-gray-50/50"}`,children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-bold uppercase tracking-wider",children:C.slice(0,8)}),d.jsx("h4",{className:"text-md font-bold text-gray-800",children:G?G.id_lote:"Lote Avulso"})]}),d.jsxs("p",{className:"text-[11px] text-gray-400 font-medium",children:["Fornecedor: ",ve,"  Itens: ",le.length]})]}),d.jsxs("div",{className:"flex items-center gap-10",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Venda Bruta"}),d.jsx("p",{className:"text-sm font-bold text-gray-900",children:Ot(W)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Lucro Lquido"}),d.jsx("p",{className:`text-sm font-extrabold ${re>=0?"text-emerald-600":"text-rose-600"}`,children:Ot(re)})]}),d.jsx("div",{className:`p-2 rounded-xl transition-all ${we?"bg-blue-100 text-blue-600 rotate-90":"text-gray-300"}`,children:d.jsx(Ol,{size:18})})]})]}),we&&d.jsx("div",{className:"bg-[#fcfdff] border-t border-blue-50 px-6 py-4",children:d.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Venda"}),d.jsx("th",{children:"Cliente"}),d.jsx("th",{children:"Item"}),d.jsx("th",{className:"text-right",children:"Peso"}),d.jsx("th",{className:"text-right",children:"Valor"}),d.jsx("th",{className:"text-right",children:"Lucro"})]})}),d.jsx("tbody",{children:le.map((ie,L)=>{var Y,ee;return d.jsxs("tr",{children:[d.jsx("td",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(ie.sale.data_venda).toLocaleDateString()}),d.jsx("td",{className:"font-bold text-gray-800",children:((Y=ie.client)==null?void 0:Y.nome_social)||ie.sale.nome_cliente||"Varejo"}),d.jsx("td",{children:d.jsx("span",{className:"font-mono text-[9px] text-blue-600 font-bold",children:((ee=ie.item)==null?void 0:ee.id_completo)||ie.sale.id_completo})}),d.jsx("td",{className:"text-right font-medium text-gray-600",children:Rr(ie.sale.peso_real_saida)}),d.jsx("td",{className:"text-right font-bold text-gray-900",children:Ot(ie.revenue)}),d.jsx("td",{className:`text-right font-bold ${ie.profit>=0?"text-emerald-600":"text-rose-600"}`,children:Ot(ie.profit)})]},L)})})]})})})]},C)}),z.length===0&&d.jsxs("div",{className:"text-center py-20 text-gray-300",children:[d.jsx(Tu,{size:48,className:"mx-auto mb-4 opacity-10"}),d.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})]})]})]}):d.jsxs("div",{className:"animate-reveal space-y-10",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(()=>{const C=z.reduce((W,te)=>{const re=te.items.reduce((ve,we)=>{var ie;return ve+(((ie=we.item)==null?void 0:ie.peso_entrada)||0)},0);return W+re},0),G=z.reduce((W,te)=>W+te.items.reduce((re,ve)=>re+ve.sale.peso_real_saida,0),0),le=C>0?G/C*100:0;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"premium-card p-10 bg-slate-900 text-white relative flex flex-col justify-center",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:d.jsx(As,{size:80})}),d.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Yield Industrial Global"}),d.jsxs("h3",{className:"text-6xl font-black tracking-tighter",children:[le.toFixed(1),"%"]}),d.jsx("p",{className:"text-xs font-bold text-slate-500 mt-4 uppercase tracking-widest",children:"Aproveitamento Mdio"})]}),d.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Total Quebra Detectada"}),d.jsx("h3",{className:"text-4xl font-black text-rose-600 tracking-tight",children:Rr(V)}),d.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[d.jsx(vx,{size:14,className:"text-rose-600"}),d.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Impacto direto na margem"})]})]}),d.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Eficincia de Resfriamento"}),d.jsx("h3",{className:"text-4xl font-black text-emerald-600 tracking-tight",children:"97.8%"}),d.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[d.jsx(Vp,{size:14,className:"text-emerald-600"}),d.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Status Operacional: Estvel"})]})]})]})})()}),d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Auditria de Rendimento por Lote"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),d.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:[">"," 97% Bom"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),d.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:["<"," 95% Crtico"]})]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Identificao"}),d.jsx("th",{children:"Entrada Bruta"}),d.jsx("th",{children:"Sada Lquida"}),d.jsx("th",{className:"text-right",children:"Quebra (kg)"}),d.jsx("th",{className:"text-right",children:"Rendimento %"}),d.jsx("th",{className:"w-40 text-center",children:"Status Industrial"})]})}),d.jsx("tbody",{children:z.map(C=>{const G=C.items.reduce((re,ve)=>{var we;return re+(((we=ve.item)==null?void 0:we.peso_entrada)||0)},0),le=C.items.reduce((re,ve)=>re+ve.sale.peso_real_saida,0),W=G-le,te=G>0?le/G*100:0;return d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:["Lote ",C.batchId.slice(0,8),"  ",C.supplier]}),d.jsx("td",{className:"font-bold text-slate-500",children:Rr(G)}),d.jsx("td",{className:"font-black text-slate-900",children:Rr(le)}),d.jsx("td",{className:"text-right font-black text-rose-500",children:Rr(W)}),d.jsxs("td",{className:`text-right font-black text-lg ${te>97?"text-emerald-600":te<95?"text-rose-600":"text-slate-900"}`,children:[te.toFixed(2),"%"]}),d.jsx("td",{className:"text-center",children:d.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${te>97?"bg-emerald-50 text-emerald-600 border border-emerald-100":te<95?"bg-rose-50 text-rose-600 border border-rose-100":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:te>97?"ALTA EFICINCIA":te<95?"QUEBA ACENTUADA":"ESTVEL"})})]},C.batchId)})})]})})]}),d.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100",children:[d.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-8",children:d.jsx(cG,{size:40,className:"text-slate-200"})}),d.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.6em]",children:"Projeo de Curva de Perda Industrial"}),d.jsx("p",{className:"text-[9px] font-bold text-slate-200 mt-4 uppercase",children:"IA est processando variaes sazonais..."})]})]})]})})},Rde=({clients:t,addClient:e,updateClient:n,onBack:r,onGoToFinancial:i,sales:a,transactions:s,batches:l})=>{const[c,f]=ye.useState(""),[h,m]=ye.useState(!1),[g,y]=ye.useState({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}),[E,A]=ye.useState(null),[S,I]=ye.useState(!1),[P,F]=ye.useState(null),[B,j]=ye.useState("overview"),V=t.filter(C=>C.status!=="INATIVO"&&(C.id_ferro.includes(c)||C.nome_social.toLowerCase().includes(c.toLowerCase()))).sort((C,G)=>C.nome_social.localeCompare(G.nome_social)),O=C=>{C.preventDefault(),g.id_ferro&&g.nome_social&&(e(g),m(!1),y({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}))},D=C=>{C.preventDefault(),P&&n&&(n(P),A(P),I(!1))},z=C=>`https://wa.me/55${C.replace(/\D/g,"")}`,H=ye.useMemo(()=>{var Je;if(!E)return null;const C=E.id_ferro,G=a.filter(Fe=>Fe.id_cliente===C&&Fe.status_pagamento!=="ESTORNADO"),le=G.reduce((Fe,Ne)=>Fe+Ne.peso_real_saida*Ne.preco_venda_kg,0),W=G.reduce((Fe,Ne)=>Fe+(Ne.valor_pago||0),0),te=le-W,re=G.reduce((Fe,Ne)=>{const ne=Ne.peso_real_saida*Ne.preco_venda_kg,Be=l.find(Ke=>Ne.id_completo.startsWith(Ke.id_lote)),Ze=Be&&Be.custo_real_kg||0,ze=Ne.peso_real_saida*Ze,et=Ne.custo_extras_total||0;return Fe+(ne-ze-et)},0),ve=G.reduce((Fe,Ne)=>Fe+Ne.peso_real_saida,0),we=G.filter(Fe=>Fe.status_pagamento==="PAGO"),ie=G.filter(Fe=>Fe.status_pagamento==="PENDENTE"),L=new Date(Og);let Y=0,ee=0,X=0;we.forEach(Fe=>{const Ne=s.find(Ze=>(Ze.referencia_id===Fe.id_venda||Ze.id.includes(Fe.id_venda))&&Ze.tipo==="ENTRADA"&&Ze.categoria==="VENDA"),ne=Ne?new Date(Ne.data):L,Be=new Date(Fe.data_vencimento||Fe.data_venda);ne<=Be?Y++:(ee++,X+=Math.ceil((ne.getTime()-Be.getTime())/(1e3*60*60*24)))});const Q=ie.filter(Fe=>Fe.data_vencimento&&Fe.data_vencimento<Og),ge=we.length>0?Y/we.length*100:100,be=ee>0?X/ee:0,ae={};s.filter(Fe=>Fe.tipo==="ENTRADA"&&Fe.categoria==="VENDA"&&G.some(Ne=>Fe.referencia_id===Ne.id_venda||Fe.id.includes(Ne.id_venda))).forEach(Fe=>{const Ne=Fe.metodo_pagamento||"OUTROS";ae[Ne]=(ae[Ne]||0)+1});const Ee=((Je=Object.entries(ae).sort((Fe,Ne)=>Ne[1]-Fe[1])[0])==null?void 0:Je[0])||"N/A",_e=Object.values(ae).reduce((Fe,Ne)=>Fe+Ne,0);return{clientSales:G.sort((Fe,Ne)=>new Date(Ne.data_venda).getTime()-new Date(Fe.data_venda).getTime()),totalFaturado:le,totalPago:W,saldoDevedor:te,totalLucro:re,totalKg:ve,salesPagas:we.length,salesPendentes:ie.length,pagasEmDia:Y,pagasAtrasadas:ee,percEmDia:ge,mediaDiasAtraso:be,vendasVencidas:Q.length,metodos:ae,metodoPreferido:Ee,totalTxMetodo:_e,totalVendas:G.length}},[E,a,s,l]),U=C=>{const G=a.filter(te=>te.id_cliente===C&&te.status_pagamento!=="ESTORNADO"),le=G.reduce((te,re)=>te+re.peso_real_saida*re.preco_venda_kg,0),W=G.reduce((te,re)=>te+(re.valor_pago||0),0);return le-W},R=C=>`${C.toFixed(1)} kg`;return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:r,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-emerald-600 p-3 rounded-2xl text-white shadow-xl shadow-emerald-100",children:d.jsx(xG,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",d.jsx("span",{className:"text-emerald-600",children:"Clientes"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Central de Relacionamento e Crdito / ID-CRM"})]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[d.jsxs("div",{className:"relative group w-full sm:w-80",children:[d.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:16}),d.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou ID...",className:"modern-input pl-12 bg-white",value:c,onChange:C=>f(C.target.value)})]}),d.jsxs("button",{onClick:()=>m(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 shadow-lg shadow-blue-100",children:[d.jsx(a9,{size:18})," Novo Cliente"]})]})]}),h&&d.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[d.jsxs("div",{className:"bg-emerald-600 p-8 text-white flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Cadastro de Entidade"}),d.jsx("p",{className:"text-[10px] text-emerald-100 font-bold uppercase tracking-widest mt-1",children:"Mdulo de Entrada Segura / CRM-01"})]}),d.jsx("button",{onClick:()=>m(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:d.jsx(Cu,{size:20})})]}),d.jsxs("form",{onSubmit:O,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[d.jsxs("div",{className:"md:col-span-4",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"ID / Marca"}),d.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: 77",value:g.id_ferro,onChange:C=>y({...g,id_ferro:C.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"md:col-span-8",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Nome Social / Razo Social"}),d.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"NOME COMPLETO DO CLIENTE",value:g.nome_social,onChange:C=>y({...g,nome_social:C.target.value.toUpperCase()})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CPF / CNPJ"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:g.cpf_cnpj,onChange:C=>y({...g,cpf_cnpj:C.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"WhatsApp"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:g.whatsapp,onChange:C=>y({...g,whatsapp:C.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Telefone Fixo"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 0000-0000",value:g.telefone_residencial,onChange:C=>y({...g,telefone_residencial:C.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4 border-t border-gray-50",children:[d.jsxs("div",{className:"md:col-span-3",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CEP"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"00000-000",value:g.cep,onChange:C=>y({...g,cep:C.target.value})})]}),d.jsxs("div",{className:"md:col-span-5",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Endereo"}),d.jsx("input",{type:"text",className:"modern-input",value:g.endereco,onChange:C=>y({...g,endereco:C.target.value})})]}),d.jsxs("div",{className:"md:col-span-4",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Bairro"}),d.jsx("input",{type:"text",className:"modern-input",value:g.bairro,onChange:C=>y({...g,bairro:C.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Cidade / UF"}),d.jsx("input",{type:"text",className:"modern-input",value:g.cidade,onChange:C=>y({...g,cidade:C.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-2 block",children:"Limite de Crdito"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-bold text-emerald-600 text-sm",children:"R$"}),d.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input pl-12 bg-emerald-50 border-emerald-100 text-emerald-700 font-bold",placeholder:"Limite",value:g.limite_credito||"",onChange:C=>{const G=C.target.value.replace(",",".");(G===""||/^\d*\.?\d*$/.test(G))&&y({...g,limite_credito:Number(G)||0})}})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[d.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-emerald-600 hover:bg-emerald-700",children:"Finalizar Registro"})]})]})]})}),d.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-24 text-center",children:"ID"}),d.jsx("th",{children:"Titular / Razo Social"}),d.jsx("th",{className:"hidden md:table-cell",children:"Localizao"}),d.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),d.jsx("th",{className:"text-center",children:"Score de Crdito"}),d.jsx("th",{className:"text-right",children:"Saldo Devedor"}),d.jsx("th",{className:"w-16"})]})}),d.jsx("tbody",{children:V.map(C=>{const G=U(C.id_ferro);return d.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[d.jsx("td",{className:"text-center",children:d.jsx("div",{onClick:()=>{A(C),I(!1),j("overview")},className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center font-mono font-bold text-gray-500 group-hover:bg-blue-600 group-hover:text-white transition-all cursor-pointer mx-auto",children:C.id_ferro})}),d.jsx("td",{children:d.jsxs("div",{onClick:()=>{A(C),I(!1),j("overview")},className:"cursor-pointer",children:[d.jsx("p",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:C.nome_social}),d.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:C.cpf_cnpj||"SEM DOCUMENTO"})]})}),d.jsx("td",{className:"hidden md:table-cell",children:C.cidade?d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[d.jsx(hx,{size:12,className:"text-blue-500"})," ",C.cidade]}),d.jsx("span",{className:"text-[10px] text-gray-400",children:C.bairro})]}):d.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO DEFINIDO"})}),d.jsx("td",{className:"hidden sm:table-cell",children:C.whatsapp?d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-xs font-bold text-gray-700",children:C.whatsapp}),d.jsx("a",{href:z(C.whatsapp),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):d.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),d.jsx("td",{className:"text-center",children:(()=>{const le=w3(C,a,Og);return d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((W,te)=>d.jsx(v3,{size:10,className:te<le.stars?"fill-amber-400 text-amber-400":"text-slate-200"},te))}),d.jsxs("span",{className:`text-[9px] font-black px-2 py-0.5 rounded-md border ${le.color} ${le.bg} ${le.border}`,children:["NVEL ",le.tier]})]})})()}),d.jsx("td",{className:"text-right",children:d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:`text-sm font-bold ${G>.01?"text-rose-600":"text-emerald-600"}`,children:Ot(G)}),G>.01&&d.jsx("span",{className:"text-[9px] font-bold text-rose-300 uppercase tracking-tighter",children:"Em Aberto"})]})}),d.jsx("td",{className:"text-center",children:d.jsx(Ol,{size:18,className:"text-gray-300 group-hover:text-blue-500 transition-all transform group-hover:translate-x-1"})})]},C.id_ferro)})})]})})}),E&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col relative border border-white",children:[d.jsxs("div",{className:`p-8 flex justify-between items-center ${S?"bg-amber-50":"bg-slate-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 font-black text-3xl shadow-sm border border-slate-100",children:E.id_ferro}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:E.nome_social}),d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:S?"Editor de Registro Master":`Matrcula #${E.cpf_cnpj||"---"}`})]})]}),d.jsx("button",{onClick:()=>A(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:d.jsx(Cu,{size:24})})]}),!S&&d.jsx("div",{className:"px-8 pt-4 flex gap-2 border-b border-slate-100",children:["overview","history","behavior"].map(C=>d.jsx("button",{onClick:()=>j(C),className:`px-5 py-3 rounded-t-2xl text-[10px] font-black uppercase tracking-widest transition-all ${B===C?"bg-white text-slate-900 border border-b-0 border-slate-100 -mb-px":"text-slate-400 hover:text-slate-600"}`,children:C==="overview"?" Viso Geral":C==="history"?" Histrico":" Comportamento"},C))}),d.jsx("div",{className:"p-8 overflow-y-auto bg-white flex-1",children:S?d.jsxs("form",{id:"edit-form",onSubmit:D,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2 space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Razo Social"}),d.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(P==null?void 0:P.nome_social)||"",onChange:C=>F(G=>G?{...G,nome_social:C.target.value.toUpperCase()}:null)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Documento"}),d.jsx("input",{type:"text",className:"modern-input",value:(P==null?void 0:P.cpf_cnpj)||"",onChange:C=>F(G=>G?{...G,cpf_cnpj:C.target.value}:null)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"WhatsApp"}),d.jsx("input",{type:"text",className:"modern-input",value:(P==null?void 0:P.whatsapp)||"",onChange:C=>F(G=>G?{...G,whatsapp:C.target.value}:null)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Limite de Crdito"}),d.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input bg-emerald-50 border-emerald-100 font-bold text-emerald-700",placeholder:"Limite",value:(P==null?void 0:P.limite_credito)||"",onChange:C=>{const G=C.target.value.replace(",",".");(G===""||/^\d*\.?\d*$/.test(G))&&F(le=>le?{...le,limite_credito:Number(G)||0}:null)}})]})]}):H&&d.jsxs(d.Fragment,{children:[B==="overview"&&d.jsxs("div",{className:"space-y-8 animate-reveal",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-emerald-50/80 rounded-3xl p-6 border border-emerald-100",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Au,{size:14,className:"text-emerald-600"}),d.jsx("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Total Faturado"})]}),d.jsx("p",{className:"text-2xl font-extrabold text-emerald-700",children:Ot(H.totalFaturado)}),d.jsxs("p",{className:"text-[9px] font-bold text-emerald-500 mt-1",children:[H.totalVendas," vendas  ",R(H.totalKg)]})]}),d.jsxs("div",{className:"bg-blue-50/80 rounded-3xl p-6 border border-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Vp,{size:14,className:"text-blue-600"}),d.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest",children:"Lucro Gerado"})]}),d.jsx("p",{className:"text-2xl font-extrabold text-blue-700",children:Ot(H.totalLucro)}),d.jsxs("p",{className:"text-[9px] font-bold text-blue-500 mt-1",children:[H.totalFaturado>0?(H.totalLucro/H.totalFaturado*100).toFixed(1):0,"% margem"]})]}),d.jsxs("div",{className:`rounded-3xl p-6 border ${H.saldoDevedor>.01?"bg-rose-50/80 border-rose-100":"bg-emerald-50/80 border-emerald-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(l0,{size:14,className:H.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}),d.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest ${H.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}`,children:"Saldo Devedor"})]}),d.jsx("p",{className:`text-2xl font-extrabold ${H.saldoDevedor>.01?"text-rose-700":"text-emerald-700"}`,children:Ot(H.saldoDevedor)}),d.jsxs("p",{className:`text-[9px] font-bold mt-1 ${H.saldoDevedor>.01?"text-rose-500":"text-emerald-500"}`,children:[H.salesPendentes," venda(s) pendente(s)"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(c3,{size:14,className:"text-emerald-500"}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Em Dia"})]}),d.jsxs("p",{className:"text-xl font-black text-slate-900",children:[H.percEmDia.toFixed(0),"%"]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(s0,{size:14,className:"text-amber-500"}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Mdia Atraso"})]}),d.jsxs("p",{className:"text-xl font-black text-slate-900",children:[H.mediaDiasAtraso.toFixed(0)," dias"]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(t9,{size:14,className:"text-blue-500"}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Mtodo Preferido"})]}),d.jsx("p",{className:"text-xl font-black text-slate-900",children:H.metodoPreferido})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Mc,{size:14,className:"text-purple-500"}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Volume Total"})]}),d.jsx("p",{className:"text-xl font-black text-slate-900",children:R(H.totalKg)})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Canais de Contato"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:d.jsx(g3,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.whatsapp||"No cadastrado"}),d.jsx("a",{href:z(E.whatsapp),target:"_blank",className:"text-[10px] text-blue-500 font-bold hover:underline",children:"Abrir WhatsApp"})]})]}),E.telefone_residencial&&d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:d.jsx(g3,{size:18})}),d.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.telefone_residencial})]}),E.endereco&&d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:d.jsx(hx,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.endereco}),d.jsxs("p",{className:"text-[10px] text-slate-400",children:[E.bairro,E.cidade?`, ${E.cidade}`:""]})]})]})]})]}),d.jsxs("div",{className:"bg-slate-900 rounded-[24px] p-6 text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:d.jsx(Lc,{size:60})}),(()=>{const C=w3(E,a,Og);return d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-3",children:"Anlise de Crdito"}),d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs("h3",{className:"text-3xl font-black italic",children:["CLASSE ",C.tier]}),C.tier==="F"&&d.jsx(UG,{className:"text-rose-500 animate-pulse",size:20}),C.tier==="AAA"&&d.jsx(J7,{className:"text-amber-500",size:20})]}),d.jsx("p",{className:`text-xs font-bold ${C.tier==="F"?"text-rose-400":"text-slate-400"}`,children:C.reason}),d.jsx("div",{className:"flex gap-1.5 mt-3",children:[...Array(5)].map((G,le)=>d.jsx(v3,{size:18,className:le<C.stars?"fill-amber-400 text-amber-400":"text-white/10"},le))}),C.tier==="F"&&d.jsxs("div",{className:"bg-rose-500/20 border border-rose-500/30 p-3 rounded-xl flex items-center gap-3 mt-3",children:[d.jsx(Xd,{className:"text-rose-500",size:16}),d.jsx("span",{className:"text-[9px] font-black uppercase text-rose-100",children:"Crdito Bloqueado"})]})]})})()]})]}),H.totalTxMetodo>0&&d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[d.jsx(oG,{size:14})," Distribuio de Mtodos"]}),d.jsx("div",{className:"space-y-3",children:Object.entries(H.metodos).sort((C,G)=>G[1]-C[1]).map(([C,G])=>{const le=G/H.totalTxMetodo*100,W=C==="PIX"?"bg-emerald-500":C==="DINHEIRO"?"bg-amber-500":C==="TRANSFERENCIA"?"bg-blue-500":"bg-slate-400";return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-600 uppercase w-28",children:C}),d.jsx("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden border border-slate-100",children:d.jsx("div",{className:`h-full ${W} rounded-full transition-all duration-700`,style:{width:`${le}%`}})}),d.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-16 text-right",children:[G,"x (",le.toFixed(0),"%)"]})]},C)})})]})]}),B==="history"&&d.jsxs("div",{className:"space-y-4 animate-reveal",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Tu,{size:14})," Histrico de Compras"]}),d.jsxs("span",{className:"text-[10px] font-black text-slate-300",children:[H.totalVendas," registro(s)"]})]}),H.clientSales.length===0?d.jsxs("div",{className:"text-center py-16 text-slate-300",children:[d.jsx(Mc,{size:48,className:"mx-auto mb-4 opacity-30"}),d.jsx("p",{className:"text-sm font-bold",children:"Nenhuma venda registrada"})]}):d.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-100",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50",children:[d.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase",children:"Data"}),d.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase",children:"Item"}),d.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Peso"}),d.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Valor"}),d.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Pago"}),d.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-center",children:"Status"})]})}),d.jsx("tbody",{children:H.clientSales.map((C,G)=>{const le=C.peso_real_saida*C.preco_venda_kg,W=C.valor_pago||0,te=C.status_pagamento;return d.jsxs("tr",{className:"border-t border-slate-50 hover:bg-blue-50/30 transition-colors",children:[d.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600",children:new Date(C.data_venda).toLocaleDateString("pt-BR")}),d.jsxs("td",{className:"px-4 py-3",children:[d.jsx("p",{className:"text-xs font-bold text-slate-700",children:C.id_completo}),d.jsxs("p",{className:"text-[9px] text-slate-400",children:[C.preco_venda_kg.toFixed(2),"/kg"]})]}),d.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600 text-right",children:R(C.peso_real_saida)}),d.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-800 text-right",children:Ot(le)}),d.jsx("td",{className:"px-4 py-3 text-xs font-bold text-emerald-600 text-right",children:Ot(W)}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${te==="PAGO"?"bg-emerald-50 text-emerald-600":te==="PENDENTE"?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-400"}`,children:te})})]},G)})})]})})]}),B==="behavior"&&d.jsxs("div",{className:"space-y-8 animate-reveal",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-emerald-50/80 rounded-3xl p-6 border border-emerald-100 text-center",children:[d.jsx(c3,{size:32,className:"text-emerald-500 mx-auto mb-3"}),d.jsx("p",{className:"text-4xl font-black text-emerald-700",children:H.pagasEmDia}),d.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase mt-1",children:"Pagas em Dia"})]}),d.jsxs("div",{className:"bg-rose-50/80 rounded-3xl p-6 border border-rose-100 text-center",children:[d.jsx(Z7,{size:32,className:"text-rose-500 mx-auto mb-3"}),d.jsx("p",{className:"text-4xl font-black text-rose-700",children:H.pagasAtrasadas}),d.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase mt-1",children:"Pagas com Atraso"})]}),d.jsxs("div",{className:"bg-amber-50/80 rounded-3xl p-6 border border-amber-100 text-center",children:[d.jsx(s0,{size:32,className:"text-amber-500 mx-auto mb-3"}),d.jsx("p",{className:"text-4xl font-black text-amber-700",children:H.mediaDiasAtraso.toFixed(0)}),d.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase mt-1",children:"Mdia Dias Atraso"})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Taxa de Pontualidade"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex-1 h-6 bg-slate-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${H.percEmDia}%`}})}),d.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[H.percEmDia.toFixed(0),"%"]})]}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:H.percEmDia>=90?" Excelente pagador  confiana mxima":H.percEmDia>=70?" Bom pagador  pequenos atrasos":H.percEmDia>=50?" Ateno  atrasos frequentes":" Alto risco  maioria das vendas com atraso"})]}),H.vendasVencidas>0&&d.jsxs("div",{className:"bg-rose-50 rounded-2xl p-6 border border-rose-200 flex items-center gap-4",children:[d.jsx(Xd,{size:24,className:"text-rose-500"}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-black text-rose-700",children:[H.vendasVencidas," venda(s) vencida(s) agora"]}),d.jsx("p",{className:"text-[10px] text-rose-500 mt-1",children:"Cobrar imediatamente ou renegociar"})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Resumo Financeiro"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Total Faturado"}),d.jsx("span",{className:"text-sm font-black text-slate-900",children:Ot(H.totalFaturado)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold text-emerald-500",children:"Total Pago"}),d.jsxs("span",{className:"text-sm font-black text-emerald-600",children:["-",Ot(H.totalPago)]})]}),d.jsxs("div",{className:"border-t border-slate-200 pt-3 flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-black text-slate-700",children:"Saldo Devedor"}),d.jsx("span",{className:`text-lg font-black ${H.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}`,children:Ot(H.saldoDevedor)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold text-blue-500",children:"Lucro Gerado"}),d.jsx("span",{className:"text-sm font-black text-blue-600",children:Ot(H.totalLucro)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Limite de Crdito"}),d.jsx("span",{className:"text-sm font-black text-slate-600",children:Ot(E.limite_credito)})]})]})]})]})]})}),d.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:S?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),d.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-amber-600 hover:bg-amber-700 flex items-center gap-2",children:[d.jsx(gx,{size:18})," Salvar Alteraes"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{F(E),I(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[d.jsx(n9,{size:18})," Editar Cadastro"]}),H&&H.saldoDevedor>.01&&i&&d.jsxs("button",{onClick:()=>{A(null),i()},className:"btn-modern btn-brand px-10 bg-blue-600 hover:bg-blue-700 flex items-center gap-3 shadow-lg shadow-blue-100",children:[d.jsx(l0,{size:20})," Receber Pagamento",d.jsx(kG,{size:14,className:"opacity-60"})]})]})})]})})]})},Ra=({value:t,onValueChange:e,onFocus:n,onBlur:r,...i})=>{const[a,s]=ye.useState(t?String(t):""),l=ye.useRef(!1);return ye.useEffect(()=>{l.current||s(t?String(t):"")},[t]),d.jsx("input",{...i,type:"text",inputMode:"decimal",value:a,onFocus:c=>{l.current=!0,n==null||n(c)},onChange:c=>{const f=c.target.value.replace(",",".");if(f===""||/^\d*\.?\d*$/.test(f)){s(f);const h=parseFloat(f);isNaN(h)?f===""&&e(0):e(h)}},onBlur:c=>{l.current=!1;const f=parseFloat(a)||0;s(f?String(f):""),e(f),r==null||r(c)}})},yS=window.SpeechRecognition||window.webkitSpeechRecognition,kde=({batches:t=[],suppliers:e=[],stock:n=[],addBatch:r,updateBatch:i,deleteBatch:a,addStockItem:s,updateStockItem:l,removeStockItem:c,registerBatchFinancial:f,onBack:h,onGoToStock:m})=>{const g=t||[],y=e||[],E=n||[],A=ye.useRef(null);ye.useRef(null);const[S,I]=ye.useState(!1),[P,F]=ye.useState(!1),[B,j]=ye.useState(null),[V,O]=ye.useState(!1),[D,z]=ye.useState(null),[H,U]=ye.useState(null),[R,C]=ye.useState(!1),G=ye.useRef(null),le=ye.useRef(!1);ye.useEffect(()=>{if(yS){const ne=new yS;ne.lang="pt-BR",ne.continuous=!1,ne.interimResults=!1,ne.onresult=Be=>{const ze=Be.results[0][0].transcript.toLowerCase().match(/\d+([.,]\d+)?/g);if(ze&&ze.length>0){const et=ze[0].replace(",",".");Q(Ke=>({...Ke,peso:et})),C(!1),le.current&&setTimeout(()=>{G.current&&le.current&&(C(!0),G.current.start())},300)}else C(!1),setTimeout(()=>{G.current&&le.current&&(C(!0),G.current.start())},500)},ne.onerror=Be=>{C(!1),Be.error!=="aborted"&&Be.error!=="no-speech"&&le.current&&setTimeout(()=>{G.current&&le.current&&(C(!0),G.current.start())},500)},ne.onend=()=>C(!1),G.current=ne}},[]);const W=()=>{var ne,Be;R||le.current?(le.current=!1,C(!1),(ne=G.current)==null||ne.stop()):(le.current=!0,C(!0),(Be=G.current)==null||Be.start())},[te,re]=ye.useState({id_lote:"",fornecedor:"",data_recebimento:new Date().toISOString().split("T")[0],peso_total_romaneio:0,valor_compra_total:0,frete:0,gastos_extras:0,forma_pagamento:"PRAZO",valor_entrada:0,prazo_dias:30,status:"ABERTO",id_sequencia:1,raca:"",qtd_cabecas:0,peso_vivo_medio:0,peso_gancho:0,toalete_kg:0,preco_arroba:0}),ve=ye.useMemo(()=>{var Be;const ne=te.raca||(D?(Be=g.find(Ze=>Ze.id_lote===D))==null?void 0:Be.raca:"");return b3.find(Ze=>Ze.raca===ne)||null},[te.raca,D,g]),we=ne=>{let Be="LOTE";if(te&&te.fornecedor&&typeof te.fornecedor=="string")try{const We=te.fornecedor.toUpperCase().trim();if(We.length>0){const yt={:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"I",:"I",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"C",:"N"},At=We.replace(/[^\w\s]/g,Dt=>yt[Dt]||"").split(" ").filter(Dt=>Dt.length>0);if(At.length>0){const Dt=At[0],Tt=Dt.length>=3?Dt.substring(0,3):Dt.padEnd(3,"X");let Vt="";At.length>1&&(Vt=At[At.length-1].charAt(0)),Be=`${Tt}${Vt}`.replace(/[^A-Z0-9]/g,"")}}}catch{Be="LOTE"}const Ze=new Date,ze=String(Ze.getDate()).padStart(2,"0"),et=String(Ze.getMonth()+1).padStart(2,"0"),Ke=`${ze}${et}`,rt=`${Be}-${Ke}-`;let it=ne;if(it===void 0){const We=g.filter(bt=>bt.id_lote&&bt.id_lote.startsWith(rt));let yt=0;We.length>0&&(yt=We.reduce((bt,At)=>{try{const Dt=At.id_lote.split("-"),Tt=Dt[Dt.length-1],Vt=parseInt(Tt);return isNaN(Vt)?bt:Math.max(bt,Vt)}catch{return bt}},0)),it=yt+1}return`${rt}${String(it).padStart(2,"0")}`};ye.useEffect(()=>{!D&&te.id_lote===""&&re(ne=>({...ne,id_lote:we()}))},[D]);const ie=ye.useMemo(()=>H&&H.id_lote===D?H:g.find(ne=>ne.id_lote===D),[D,g,H]),[L,Y]=ye.useState([]),ee=ye.useMemo(()=>{if(!D||!ie)return null;const Be=[...E.filter(it=>it.id_lote===D),...L.filter(it=>it.id_lote===D)],Ze=Be.reduce((it,We)=>{const yt=We.sequencia;return it[yt]||(it[yt]={bandaA:null,bandaB:null,inteiro:null}),We.tipo===vn.BANDA_A?it[yt].bandaA=We:We.tipo===vn.BANDA_B?it[yt].bandaB=We:We.tipo===vn.INTEIRO&&(it[yt].inteiro=We),it},{}),ze=Object.values(Ze).reduce((it,We)=>{var Vt,wt,Hn;const yt=((Vt=We.bandaA)==null?void 0:Vt.peso_entrada)||0,bt=((wt=We.bandaB)==null?void 0:wt.peso_entrada)||0,At=((Hn=We.inteiro)==null?void 0:Hn.peso_entrada)||0,Dt=yt>0&&bt>0?3:0,Tt=At>0?At:yt+bt-Dt;return it+Tt},0),et=ie.peso_total_romaneio,Ke=ze-et,rt=et>0?ze/et*100:0;return{totalWeighed:ze,nfWeight:et,diff:Ke,percent:rt,count:Be.length}},[D,ie,E,L]),[X,Q]=ye.useState({sequencia:"1",tipo:vn.BANDA_A.toString(),peso:"",pesoA:"",pesoB:""});ye.useEffect(()=>{if(D&&L.length===0){const ne=E.filter(Be=>Be.id_lote===D);if(ne.length>0){const Be=[...ne].sort((et,Ke)=>Ke.sequencia!==et.sequencia?Ke.sequencia-et.sequencia:Ke.tipo-et.tipo)[0];let Ze=Be.sequencia,ze=Be.tipo;Be.tipo===vn.INTEIRO?Ze=Be.sequencia+1:Be.tipo===vn.BANDA_A?ze=vn.BANDA_B:Be.tipo===vn.BANDA_B&&(Ze=Be.sequencia+1,ze=vn.BANDA_A),Q(et=>({...et,sequencia:Ze.toString(),tipo:ze.toString()}))}}},[D]);const ge=(ie==null?void 0:ie.status)==="FECHADO";ye.useEffect(()=>{D&&A.current&&setTimeout(()=>{var ne;return(ne=A.current)==null?void 0:ne.focus()},500)},[D]);const be=WS(te.valor_compra_total||0,te.frete||0,te.gastos_extras||0,te.peso_total_romaneio||0),ae=async ne=>{ne.preventDefault();const Be=te.id_lote||we();if(!te.peso_total_romaneio)return;const Ze={...te,id_lote:Be,custo_real_kg:be,status:"ABERTO"};U(Ze),z(Be)},Se=async ne=>{if(!D||ge||!X.sequencia||!X.peso)return;const Be=parseInt(X.sequencia),Ze=parseInt(X.tipo),ze=Ze===vn.BANDA_A?"BANDA_A":Ze===vn.BANDA_B?"BANDA_B":"INTEIRO",et=parseFloat(X.peso),rt={id_completo:`${D}-${String(Be).padStart(3,"0")}-${ze}`,id_lote:D,sequencia:Be,tipo:Ze,peso_entrada:et,status:"DISPONIVEL",data_entrada:(ie==null?void 0:ie.data_recebimento)||new Date().toISOString().split("T")[0]};Y(yt=>[...yt,rt]);let it=Be,We=Ze;Ze===vn.INTEIRO?(it=Be+1,We=vn.INTEIRO):Ze===vn.BANDA_A?(it=Be,We=vn.BANDA_B):Ze===vn.BANDA_B&&(it=Be+1,We=vn.BANDA_A),Q({sequencia:it.toString(),tipo:We.toString(),peso:"",pesoA:"",pesoB:""}),setTimeout(()=>{var yt;return(yt=A.current)==null?void 0:yt.focus()},50)},Ee=ne=>{if(ge)return;L.some(Ze=>Ze.id_completo===ne)?Y(Ze=>Ze.filter(ze=>ze.id_completo!==ne)):c&&c(ne)},_e=async()=>{if(!D)return;const ne=L.filter(Be=>Be.id_lote===D);if(ne.length===0){alert("  necessrio cadastrar pelo menos uma pea antes de finalizar!");return}try{if(H&&H.id_lote===D){const Be={...H,status:"FECHADO"},Ze=await r(Be);if(!Ze||!Ze.success){alert(" Erro ao salvar o lote: "+((Ze==null?void 0:Ze.error)||"Erro desconhecido"));return}await f(Be)}else ie&&i&&(await f(ie),await i(ie.id_lote,{status:"FECHADO"}));for(const Be of ne)await s(Be);Y(Be=>Be.filter(Ze=>Ze.id_lote!==D)),U(null),I(!1),alert(" Lote finalizado com sucesso!"),m()}catch(Be){console.error("Erro ao finalizar:",Be),alert(" Erro ao finalizar o lote.")}},Je=ne=>{j({...ne}),F(!0)},Fe=async()=>{if(!(!B||!i))try{await i(B.id_lote,B),F(!1),j(null)}catch(ne){console.error("Erro ao salvar lote:",ne)}},Ne=async()=>{if(!(!B||!a||!window.confirm(` ESTORNO DE LOTE

Lote: ${B.id_lote} - ${B.fornecedor}

Esta ao ir ESTORNAR o lote inteiro:
 O lote ser marcado como ESTORNADO
 Itens do estoque sero marcados como ESTORNADO
 Contas a pagar sero canceladas/estornadas
 Vendas vinculadas sero estornadas
 Transaes financeiras sero revertidas

 Nenhum dado ser APAGADO  tudo fica registrado como estorno.

Confirma o ESTORNO?`)))try{await a(B.id_lote),alert(" Lote estornado com sucesso! Todos os registros vinculados foram revertidos."),F(!1),j(null)}catch(Be){console.error("Erro ao estornar lote:",Be),alert(" Erro ao estornar o lote.")}};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:h,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:`p-3 rounded-2xl text-white shadow-xl ${ge?"bg-slate-400":"bg-orange-600 shadow-orange-100"}`,children:d.jsx(SW,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Recepo de ",d.jsx("span",{className:"text-orange-600",children:"Lotes"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Fluxo de Entrada / ID-LOG"}),ie&&d.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${ge?"bg-slate-100 text-slate-500":"bg-orange-50 text-orange-600"}`,children:[ge?d.jsx(fx,{size:10}):d.jsx(oW,{size:10}),ge?"Lote Travado":"Acesso Liberado"]})]})]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[!ge&&ie&&d.jsxs("button",{onClick:()=>I(!0),className:"btn-modern bg-slate-900 text-white hover:bg-orange-600 px-8 py-4 gap-3 shadow-xl",children:[d.jsx(Ho,{size:20})," Finalizar Operao"]}),d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:"btn-modern bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 gap-3 shadow-xl",children:[d.jsx($g,{size:18})," Editar Lotes"]}),d.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 w-80 max-h-96 overflow-y-auto z-50",children:d.jsx("div",{className:"p-2",children:g.length===0?d.jsx("p",{className:"text-xs text-slate-400 text-center py-8",children:"Nenhum lote cadastrado"}):g.filter(ne=>ne.status!=="ESTORNADO").map(ne=>d.jsx("button",{onClick:()=>Je(ne),className:"w-full text-left p-3 hover:bg-blue-50 rounded-xl transition-colors group/item",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-xs text-slate-900",children:ne.id_lote}),d.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:ne.fornecedor})]}),d.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase ${ne.status==="FECHADO"?"bg-slate-100 text-slate-500":"bg-green-50 text-green-600"}`,children:ne.status})]})},ne.id_lote))})})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[d.jsx("div",{className:"lg:col-span-4 space-y-6",children:d.jsxs("div",{className:"premium-card p-8",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[d.jsx(Up,{size:14,className:"text-orange-500"})," Parmetros do Lote"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-orange-50/50 rounded-2xl p-5 border border-orange-50",children:[d.jsx("label",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Identificador do Lote"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-2xl font-black text-slate-900 tracking-tight",children:ie?ie.id_lote:te.id_lote}),!ie&&d.jsxs("div",{className:"flex items-center bg-white rounded-xl border border-orange-100 p-1",children:[d.jsx("button",{onClick:()=>{const ne=Math.max(1,te.id_sequencia-1);re({...te,id_sequencia:ne,id_lote:we(ne)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:d.jsx(px,{size:16})}),d.jsx("span",{className:"font-bold text-xs w-10 text-center text-slate-600",children:te.id_sequencia}),d.jsx("button",{onClick:()=>{const ne=te.id_sequencia+1;re({...te,id_sequencia:ne,id_lote:we(ne)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:d.jsx(Jf,{size:16})})]})]})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Fornecedor / Fazenda"}),d.jsx("input",{disabled:!!ie,type:"text",className:"modern-input",value:ie?ie.fornecedor:te.fornecedor,onChange:ne=>{re(Be=>({...Be,fornecedor:ne.target.value.toUpperCase()})),O(!0)},onBlur:()=>setTimeout(()=>{O(!1),re(ne=>({...ne,id_lote:we()}))},200),onFocus:()=>O(!0),placeholder:"BUSCAR FORNECEDOR"}),!ie&&V&&te.fornecedor&&String(te.fornecedor).length>0&&d.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-2xl rounded-2xl border border-slate-100 z-50 mt-2 p-2 max-h-48 overflow-y-auto animate-reveal",children:y.filter(ne=>ne.nome_fantasia.toUpperCase().includes(te.fornecedor.toUpperCase())).map(ne=>d.jsx("div",{className:"p-3 hover:bg-orange-50 hover:text-orange-700 rounded-xl cursor-pointer font-bold text-xs text-slate-600 transition-colors",onClick:()=>{const Be={...te,fornecedor:ne.nome_fantasia.toUpperCase()};re(Be),O(!1),setTimeout(()=>{re(Ze=>({...Ze,id_lote:we()}))},100)},children:ne.nome_fantasia},ne.id))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Recebimento"}),d.jsx("input",{disabled:!!ie,type:"date",className:"modern-input text-xs",value:ie?ie.data_recebimento:te.data_recebimento,onChange:ne=>re({...te,data_recebimento:ne.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Romaneio (kg)"}),d.jsx(Ra,{disabled:!!ie,className:"modern-input font-bold text-lg",placeholder:"Peso em kg",value:ie?ie.peso_total_romaneio:te.peso_total_romaneio||0,onValueChange:ne=>re({...te,peso_total_romaneio:ne})})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-50 space-y-4",children:[d.jsx("h4",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-[0.2em] flex items-center gap-1.5",children:" Dados da Produo"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Raa do Lote"}),d.jsxs("select",{disabled:!!ie,className:"modern-input text-xs",value:ie?ie.raca||"":te.raca,onChange:ne=>re({...te,raca:ne.target.value}),children:[d.jsx("option",{value:"",children:"Selecionar raa..."}),b3.map(ne=>d.jsxs("option",{value:ne.raca,children:[ne.raca," (",ne.rendimento_min,"-",ne.rendimento_max,"%)"]},ne.raca))]}),ve&&d.jsxs("div",{className:"mt-2 px-3 py-2 bg-emerald-50 rounded-xl text-[10px] text-emerald-700 font-medium",children:[" Rendimento esperado: ",d.jsxs("strong",{children:[ve.rendimento_min,"",ve.rendimento_max,"%"]}),"  Peso carcaa: ",ve.peso_medio_min,"",ve.peso_medio_max,"kg  Quebra frio: ",ve.quebra_resfriamento_min,"",ve.quebra_resfriamento_max,"%"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Qtd Cabeas"}),d.jsx(Ra,{disabled:!!ie,className:"modern-input",placeholder:"N",value:ie?ie.qtd_cabecas||0:te.qtd_cabecas||0,onValueChange:ne=>re({...te,qtd_cabecas:ne})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Gancho (kg)"}),d.jsx(Ra,{disabled:!!ie,className:"modern-input",placeholder:"Peso total gancho",value:ie?ie.peso_gancho||0:te.peso_gancho||0,onValueChange:ne=>re({...te,peso_gancho:ne})})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Vivo Mdio"}),d.jsx(Ra,{disabled:!!ie,className:"modern-input text-xs",placeholder:"kg/cab",value:ie?ie.peso_vivo_medio||0:te.peso_vivo_medio||0,onValueChange:ne=>re({...te,peso_vivo_medio:ne})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Toalete (kg)"}),d.jsx(Ra,{disabled:!!ie,className:"modern-input text-xs",placeholder:"kg",value:ie?ie.toalete_kg||0:te.toalete_kg||0,onValueChange:ne=>re({...te,toalete_kg:ne})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"R$/Arroba"}),d.jsx(Ra,{disabled:!!ie,className:"modern-input text-xs",placeholder:"R$",value:ie?ie.preco_arroba||0:te.preco_arroba||0,onValueChange:ne=>re({...te,preco_arroba:ne})})]})]})]})]}),!ie&&d.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[d.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"Configurao Financeira"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Valor do Gado (R$)"}),d.jsx(Ra,{className:"modern-input text-xl font-black bg-slate-50 border-slate-100",placeholder:"Valor total",value:te.valor_compra_total||0,onValueChange:ne=>re({...te,valor_compra_total:ne})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Frete (R$)"}),d.jsx(Ra,{className:"modern-input",placeholder:"Frete",value:te.frete||0,onValueChange:ne=>re({...te,frete:ne})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Extras (R$)"}),d.jsx(Ra,{className:"modern-input",placeholder:"Extras",value:te.gastos_extras||0,onValueChange:ne=>re({...te,gastos_extras:ne})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 p-1 bg-slate-100 rounded-2xl",children:[d.jsx("button",{onClick:()=>re({...te,forma_pagamento:"VISTA"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${te.forma_pagamento==="VISTA"?"bg-white text-orange-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Vista"}),d.jsx("button",{onClick:()=>re({...te,forma_pagamento:"PRAZO"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${te.forma_pagamento==="PRAZO"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Prazo"})]})]}),d.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 flex justify-between items-center text-white",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),d.jsx("span",{className:"text-2xl font-black text-orange-400",children:Ot(be)})]}),d.jsxs("button",{onClick:ae,className:"w-full btn-modern btn-brand py-5 bg-orange-600 hover:bg-orange-700 shadow-lg shadow-orange-100",children:[d.jsx(os,{size:18})," Iniciar Recepo"]})]})]})]})}),ie&&d.jsxs("div",{className:"lg:col-span-8 space-y-8 animate-reveal",children:[ee&&d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Peso Real",value:Rr(ee.totalWeighed),icon:Sp,color:"blue"},{label:"NF Esperado",value:Rr(ee.nfWeight),icon:Up,color:"slate"},{label:"Variao",value:`${ee.diff>0?"+":""}${Rr(ee.diff)}`,icon:iG,color:ee.diff>=0?"emerald":"rose"},{label:"Contagem",value:`${ee.count} Un`,icon:Mc,color:"orange"}].map((ne,Be)=>d.jsxs("div",{className:"premium-card p-6 flex flex-col gap-3",children:[d.jsx("div",{className:`w-8 h-8 rounded-xl bg-${ne.color}-50 text-${ne.color}-600 flex items-center justify-center shadow-sm`,children:d.jsx(ne.icon,{size:16})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:ne.label}),d.jsx("p",{className:"text-xl font-black text-slate-900",children:ne.value})]})]},Be))}),!ge&&d.jsxs("div",{className:"premium-card overflow-hidden",children:[d.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Sp,{size:14,className:"text-orange-500"})," Pesagem Rpida"]}),d.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"A  B  Prxima | 3kg/carcaa"})]}),d.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-900 to-slate-800",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 items-center",children:[d.jsxs("div",{className:"md:col-span-2 text-center",children:[d.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Seq"}),d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{type:"button",onClick:()=>Q(ne=>({...ne,sequencia:Math.max(1,parseInt(ne.sequencia)-1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:d.jsx(px,{size:12})}),d.jsx("div",{className:"bg-white rounded-xl px-3 py-2 shadow-lg",children:d.jsx("span",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight",children:String(X.sequencia).padStart(3,"0")})}),d.jsx("button",{type:"button",onClick:()=>Q(ne=>({...ne,sequencia:(parseInt(ne.sequencia||"0")+1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:d.jsx(Jf,{size:12})})]})]}),d.jsxs("div",{className:"md:col-span-3 text-center",children:[d.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tipo"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{type:"button",onClick:()=>Q({...X,tipo:vn.BANDA_A.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${X.tipo===vn.BANDA_A.toString()?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"A"}),d.jsx("button",{type:"button",onClick:()=>Q({...X,tipo:vn.BANDA_B.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${X.tipo===vn.BANDA_B.toString()?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"B"}),d.jsx("button",{type:"button",onClick:()=>Q({...X,tipo:vn.INTEIRO.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${X.tipo===vn.INTEIRO.toString()?"bg-orange-600 text-white shadow-lg shadow-orange-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"INT"})]})]}),d.jsxs("div",{className:"md:col-span-7",children:[d.jsxs("div",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest mb-1 flex items-center justify-between",children:[d.jsx("span",{children:"Peso (KG)"}),yS&&d.jsxs("button",{type:"button",onClick:W,className:`flex items-center gap-1 px-2 py-1 rounded-lg text-[8px] transition-all ${R?"bg-rose-600 text-white animate-pulse":"bg-slate-700 text-slate-400 hover:text-white"}`,children:[R?d.jsx(s9,{size:10}):d.jsx(Id,{size:10}),R?"OUVINDO":"VOZ"]})]}),d.jsxs("div",{className:"w-full bg-white rounded-xl py-3 px-4 shadow-xl mb-2 flex items-center justify-between min-h-[60px]",children:[d.jsx("button",{type:"button",onClick:()=>Q(ne=>({...ne,peso:ne.peso.slice(0,-1)})),className:"w-10 h-10 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-500 transition-all active:scale-90",children:""}),d.jsxs("div",{className:"text-4xl md:text-5xl font-black text-slate-900 text-right flex-1 px-2",children:[X.peso||"0",d.jsx("span",{className:"text-xl text-slate-400 ml-1",children:"kg"})]}),d.jsx("button",{type:"button",onClick:()=>Q({...X,peso:""}),className:"w-10 h-10 rounded-lg bg-rose-100 hover:bg-rose-200 flex items-center justify-center text-rose-500 font-black text-sm transition-all active:scale-90",children:"C"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-1.5",children:[["1","2","3","4","5","6","7","8","9"].map(ne=>d.jsx("button",{type:"button",onClick:()=>Q(Be=>({...Be,peso:Be.peso+ne})),className:"h-14 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:ne},ne)),d.jsx("button",{type:"button",onClick:()=>{X.peso.includes(".")||Q(ne=>({...ne,peso:(ne.peso||"0")+"."}))},className:"h-14 rounded-xl font-black text-2xl bg-slate-300 text-slate-700 hover:bg-slate-400 transition-all active:scale-95 shadow-sm",children:","}),d.jsx("button",{type:"button",onClick:()=>Q(ne=>({...ne,peso:ne.peso+"0"})),className:"h-14 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:"0"}),d.jsx("button",{type:"button",onClick:()=>Q(ne=>({...ne,peso:ne.peso+"00"})),className:"h-14 rounded-xl font-black text-xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:"00"})]}),d.jsxs("button",{type:"button",onClick:()=>Se(),className:"w-full h-14 mt-2 rounded-xl font-black text-xl bg-orange-600 text-white hover:bg-orange-500 transition-all active:scale-95 shadow-xl shadow-orange-900/30 flex items-center justify-center gap-2",children:[d.jsx(Jf,{size:24})," ADICIONAR PEA"]})]})]})})]}),d.jsxs("div",{className:"premium-card overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Tu,{size:16,className:"text-orange-500"})," Registros Lanados"]}),d.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1.5 rounded-full uppercase",children:[(()=>{const ne=E.filter(ze=>ze.id_lote===D),Be=L.filter(ze=>ze.id_lote===D);return new Set([...ne,...Be].map(ze=>ze.sequencia)).size})()," Carcaas"]})]}),d.jsx("div",{className:"overflow-x-auto max-h-[400px]",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{className:"sticky top-0",children:d.jsxs("tr",{className:"bg-slate-800 text-white",children:[d.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider w-16",children:"Seq"}),d.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-blue-800",children:"Banda A"}),d.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-emerald-800",children:"Banda B"}),d.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-rose-800 w-20",children:"Desc."}),d.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-orange-700 w-24",children:"Total"}),d.jsx("th",{className:"px-3 py-2 w-24 text-center text-[10px] font-black uppercase tracking-wider",children:"Aes"})]})}),d.jsx("tbody",{children:(()=>{const ne=E.filter(Ke=>Ke.id_lote===D),Be=L.filter(Ke=>Ke.id_lote===D),Ze=[...ne,...Be],ze={};Ze.forEach(Ke=>{ze[Ke.sequencia]||(ze[Ke.sequencia]={}),Ke.tipo===vn.BANDA_A?ze[Ke.sequencia].bandaA=Ke:Ke.tipo===vn.BANDA_B?ze[Ke.sequencia].bandaB=Ke:Ke.tipo===vn.INTEIRO&&(ze[Ke.sequencia].inteiro=Ke)});const et=Object.keys(ze).map(Number).sort((Ke,rt)=>rt-Ke);return et.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"py-16 text-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[d.jsx(Sp,{size:48}),d.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})]})})}):et.map(Ke=>{var wt,Hn,en;const rt=ze[Ke],it=((wt=rt.bandaA)==null?void 0:wt.peso_entrada)||0,We=((Hn=rt.bandaB)==null?void 0:Hn.peso_entrada)||0,yt=((en=rt.inteiro)==null?void 0:en.peso_entrada)||0,At=it>0&&We>0?3:0,Dt=yt>0?yt:it+We-At,Tt=Be.some(Jn=>Jn.sequencia===Ke),Vt=`${D}-${String(Ke).padStart(3,"0")}`;return d.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${Tt?"bg-orange-50/50":""}`,children:[d.jsx("td",{className:"px-3 py-2",children:d.jsx("span",{className:"bg-slate-200 px-2 py-1 rounded font-mono font-black text-slate-600",children:String(Ke).padStart(2,"0")})}),d.jsx("td",{className:"px-3 py-2",children:d.jsx("span",{className:"font-mono text-xs text-slate-500",children:Vt})}),d.jsx("td",{className:"px-3 py-2 text-center bg-blue-50",children:d.jsx("span",{className:"font-bold text-blue-700",children:it>0?it.toFixed(2).replace(".",","):"-"})}),d.jsx("td",{className:"px-3 py-2 text-center bg-emerald-50",children:d.jsx("span",{className:"font-bold text-emerald-700",children:We>0?We.toFixed(2).replace(".",","):yt>0?"INT":"-"})}),d.jsx("td",{className:"px-3 py-2 text-center bg-rose-50",children:d.jsx("span",{className:"font-bold text-rose-600",children:At>0?At.toFixed(2).replace(".",","):"-"})}),d.jsx("td",{className:"px-3 py-2 text-center bg-orange-50",children:d.jsx("span",{className:"font-black text-orange-700 text-lg",children:Dt.toFixed(2).replace(".",",")})}),d.jsx("td",{className:"px-3 py-2",children:!ge&&d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>{Q({sequencia:Ke.toString(),tipo:vn.BANDA_A.toString(),peso:"",pesoA:it>0?it.toString():"",pesoB:We>0?We.toString():""}),rt.bandaA&&Ee(rt.bandaA.id_completo),rt.bandaB&&Ee(rt.bandaB.id_completo),rt.inteiro&&Ee(rt.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Editar",children:d.jsx($g,{size:14})}),d.jsx("button",{onClick:()=>{rt.bandaA&&Ee(rt.bandaA.id_completo),rt.bandaB&&Ee(rt.bandaB.id_completo),rt.inteiro&&Ee(rt.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir",children:d.jsx(hT,{size:14})})]})})]},Ke)})})()})]})})]})]})]}),S&&ie&&(()=>{const ne=(ie.valor_compra_total||0)+(ie.frete||0)+(ie.gastos_extras||0),Be=ie.peso_total_romaneio>0?ne/ie.peso_total_romaneio:0,Ze=ie.forma_pagamento||(H==null?void 0:H.forma_pagamento)||"PRAZO",ze=ie.valor_entrada||(H==null?void 0:H.valor_entrada)||0,et=(ee==null?void 0:ee.totalWeighed)||0,Ke=ie.peso_total_romaneio,rt=et-Ke,it=Ke>0?(rt/Ke*100).toFixed(1):"0";return d.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-lg w-full overflow-hidden border border-white my-4",children:[d.jsxs("div",{className:"bg-orange-600 p-8 md:p-12 text-white text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-[28px] flex items-center justify-center mx-auto mb-6",children:d.jsx(Ho,{size:40})}),d.jsx("h3",{className:"text-2xl md:text-3xl font-black tracking-tight leading-none uppercase",children:"Conferncia Final"}),d.jsxs("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-3 uppercase text-orange-100 opacity-60",children:[ie.id_lote,"  ",ie.fornecedor]})]}),d.jsxs("div",{className:"p-6 md:p-10 space-y-5",children:[d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-3",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Peso: NF vs Pesado"}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"NF (Romaneio)"}),d.jsx("p",{className:"text-xl font-black text-slate-700",children:Rr(Ke)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Peso Real"}),d.jsx("p",{className:"text-xl font-black text-slate-900",children:Rr(et)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Diferena"}),d.jsxs("p",{className:`text-xl font-black ${rt>=0?"text-emerald-600":"text-rose-600"}`,children:[rt>=0?"+":"",rt.toFixed(2)," kg"]}),d.jsxs("p",{className:`text-[9px] font-bold ${rt>=0?"text-emerald-500":"text-rose-500"}`,children:["(",it,"%)"]})]})]}),d.jsx("div",{className:"text-center pt-2 border-t border-slate-200",children:d.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1 rounded-full uppercase",children:[(ee==null?void 0:ee.count)||0," peas"]})})]}),d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-3",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Financeiro"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-slate-500",children:"Valor do Gado"}),d.jsx("span",{className:"font-bold text-slate-800",children:Ot(ie.valor_compra_total)})]}),ie.frete>0&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-slate-500",children:"Frete"}),d.jsx("span",{className:"font-bold text-slate-800",children:Ot(ie.frete)})]}),ie.gastos_extras>0&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-slate-500",children:"Extras"}),d.jsx("span",{className:"font-bold text-slate-800",children:Ot(ie.gastos_extras)})]}),d.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-200",children:[d.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL CUSTO"}),d.jsx("span",{className:"font-black text-lg text-slate-900",children:Ot(ne)})]}),d.jsxs("div",{className:"bg-orange-100 rounded-xl p-3 flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-orange-700 uppercase",children:"Custo/kg"}),d.jsx("span",{className:"font-black text-orange-700",children:Ot(Be)})]})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-2",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pagamento"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:`text-xs font-black px-3 py-1 rounded-full uppercase ${Ze==="VISTA"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:Ze==="VISTA"?"  Vista":" A Prazo"})}),Ze!=="VISTA"&&d.jsxs("div",{className:"space-y-1 pt-2",children:[ze>0&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-slate-500",children:"Entrada"}),d.jsx("span",{className:"font-bold text-emerald-600",children:Ot(ze)})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-slate-500",children:"Restante (A Pagar)"}),d.jsx("span",{className:"font-bold text-rose-600",children:Ot(ne-ze)})]})]})]}),d.jsxs("p",{className:"text-[10px] font-medium text-slate-400 leading-relaxed text-center px-4",children:["Ao confirmar, este lote ser ",d.jsx("span",{className:"text-slate-700 font-bold",children:"travado"})," e os itens entraro no estoque."]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:_e,className:"btn-modern bg-slate-900 text-white w-full py-5 rounded-2xl hover:bg-orange-600 shadow-xl transition-all font-black uppercase tracking-wider text-sm",children:[d.jsx(Ho,{size:20,className:"inline mr-2"}),"Confirmar e Finalizar"]}),d.jsx("button",{onClick:()=>I(!1),className:"btn-modern bg-slate-100 text-slate-600 w-full py-4 rounded-2xl hover:bg-slate-200 transition-all font-black uppercase tracking-wider text-[10px]",children:" Voltar e Corrigir"})]})]})]})})})(),P&&B&&d.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[d.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[d.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:d.jsx($g,{size:48})}),d.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),d.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:B.id_lote})]}),d.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),d.jsx("input",{type:"text",className:"modern-input w-full",value:B.fornecedor,onChange:ne=>j({...B,fornecedor:ne.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),d.jsx(Ra,{className:"modern-input w-full font-bold text-lg",placeholder:"Peso em kg",value:B.peso_total_romaneio||0,onValueChange:ne=>j({...B,peso_total_romaneio:ne})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),d.jsx("input",{type:"date",className:"modern-input w-full",value:B.data_recebimento,onChange:ne=>j({...B,data_recebimento:ne.target.value})})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[d.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),B.status==="FECHADO"&&d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 mb-4 flex items-start gap-2",children:[d.jsx(fx,{size:14,className:"text-amber-600 mt-0.5 shrink-0"}),d.jsx("p",{className:"text-[10px] font-bold text-amber-700",children:"Lote FECHADO  valores financeiros bloqueados. Para corrigir, faa o ESTORNO do lote e recadastre."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),d.jsx(Ra,{className:`modern-input w-full text-xl font-black ${B.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Valor total",value:B.valor_compra_total||0,disabled:B.status==="FECHADO",onValueChange:ne=>j({...B,valor_compra_total:ne})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),d.jsx(Ra,{className:`modern-input w-full ${B.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Frete",value:B.frete||0,disabled:B.status==="FECHADO",onValueChange:ne=>j({...B,frete:ne})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),d.jsx(Ra,{className:`modern-input w-full ${B.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Extras",value:B.gastos_extras||0,disabled:B.status==="FECHADO",onValueChange:ne=>j({...B,gastos_extras:ne})})]})]}),d.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),d.jsx("span",{className:"text-xl font-black text-orange-400",children:Ot(WS(B.valor_compra_total,B.frete,B.gastos_extras,B.peso_total_romaneio))})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[d.jsxs("button",{onClick:Fe,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[d.jsx(Ho,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),d.jsxs("button",{onClick:Ne,className:"btn-modern bg-amber-500 text-white w-full py-4 rounded-2xl hover:bg-amber-600 shadow-xl transition-all border-2 border-amber-600",children:[d.jsx(Bp,{size:18,className:"inline mr-2"}),"Estornar Lote"]}),d.jsx("button",{onClick:()=>{F(!1),j(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},Pde=({stock:t,batches:e,sales:n,clients:r,updateBatch:i,deleteBatch:a,onBack:s})=>{const[l,c]=ye.useState("available"),[f,h]=ye.useState(""),[m,g]=ye.useState([]),y=t.filter(R=>R.status==="DISPONIVEL"),E=t.filter(R=>R.status==="VENDIDO"),A=ye.useMemo(()=>{const R=new Map;return y.forEach(C=>{if(f&&!C.id_completo.toLowerCase().includes(f.toLowerCase())&&!C.id_lote.toLowerCase().includes(f.toLowerCase()))return;if(!R.has(C.id_lote)){const le=e.find(W=>W.id_lote===C.id_lote);if(!le||le.status!=="FECHADO")return;R.set(C.id_lote,{batch:le,items:[],sequences:new Map})}const G=R.get(C.id_lote);G.items.push(C),G.sequences.has(C.sequencia)||G.sequences.set(C.sequencia,[]),G.sequences.get(C.sequencia).push(C)}),Array.from(R.values()).sort((C,G)=>{const le=C.batch?new Date(C.batch.data_recebimento).getTime():0;return(G.batch?new Date(G.batch.data_recebimento).getTime():0)-le})},[y,e,f]),S=R=>{g(C=>C.includes(R)?C.filter(G=>G!==R):[...C,R])},[I,P]=ye.useState(!1),[F,B]=ye.useState(null),j=R=>{B({...R}),P(!0)},V=async()=>{if(!(!F||!i))try{await i(F.id_lote,F),P(!1),B(null)}catch(R){console.error("Erro ao salvar lote:",R)}},O=async()=>{if(!(!F||!a||!window.confirm(` ESTORNO DE LOTE

Voc est prestes a ESTORNAR o lote:
${F.id_lote} - ${F.fornecedor}

Esta ao ir:
 Marcar o lote como ESTORNADO
 Estornar vendas e devolver estoque
 Criar transaes inversas no financeiro
 Manter histrico completo para auditoria

Deseja continuar?`)))try{await a(F.id_lote),alert(" Lote estornado com sucesso!"),P(!1),B(null)}catch(C){console.error("Erro ao estornar lote:",C),alert(" Erro ao estornar o lote.")}},D=ye.useMemo(()=>E.map(R=>{const C=n.find(le=>le.id_completo===R.id_completo),G=C?r.find(le=>le.id_ferro===C.id_cliente):null;return{item:R,sale:C,client:G}}).sort((R,C)=>R.sale&&C.sale?new Date(C.sale.data_venda).getTime()-new Date(R.sale.data_venda).getTime():0),[E,n,r]),z=ye.useMemo(()=>{const R=new Map;return D.forEach(({item:C,sale:G,client:le})=>{if(!(f&&!C.id_completo.toLowerCase().includes(f.toLowerCase())&&!C.id_lote.toLowerCase().includes(f.toLowerCase()))){if(!R.has(C.id_lote)){const W=e.find(te=>te.id_lote===C.id_lote);if(!W||W.status!=="FECHADO")return;R.set(C.id_lote,{batch:W,items:[]})}R.get(C.id_lote).items.push({item:C,sale:G,client:le})}}),Array.from(R.values()).sort((C,G)=>{const le=C.batch?new Date(C.batch.data_recebimento).getTime():0;return(G.batch?new Date(G.batch.data_recebimento).getTime():0)-le})},[D,e,f]),H=ye.useMemo(()=>{const R=new Map;n.forEach(G=>{const le=t.find(ve=>ve.id_completo===G.id_completo),W=le?e.find(ve=>ve.id_lote===le.id_lote):null,te=(W==null?void 0:W.fornecedor)||"Desconhecido";R.has(te)||R.set(te,{totalWeight:0,totalBreakage:0,count:0});const re=R.get(te);re.totalWeight+=G.peso_real_saida,re.totalBreakage+=G.quebra_kg||0,re.count+=1});const C=new Map;return R.forEach((G,le)=>{const W=G.totalWeight+G.totalBreakage,te=W>0?G.totalBreakage/W*100:0;let re="regular";te<1.5?re="top":te>3&&(re="poor"),C.set(le,{avgBreakagePct:te,quality:re})}),C},[n,e,t]),U=D.reduce((R,C)=>R+(C.sale?C.sale.peso_real_saida*C.sale.preco_venda_kg:0),0);return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:s,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:d.jsx(dx,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",d.jsx("span",{className:"text-blue-600",children:"Estoque"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Controle de Inventrio / ID-INV"}),d.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase",children:[d.jsx(Lc,{size:10})," Unidade Sincronizada"]})]})]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[d.jsxs("div",{className:"relative group w-full sm:w-80",children:[d.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:16}),d.jsx("input",{type:"text",placeholder:"Buscar por Lote ou ID...",className:"modern-input pl-12 bg-white",value:f,onChange:R=>h(R.target.value)})]}),d.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[d.jsxs("button",{onClick:()=>c("available"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="available"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[d.jsx(QG,{size:14})," Disponvel"]}),d.jsxs("button",{onClick:()=>c("sold"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="sold"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[d.jsx(l3,{size:14})," Vendido"]})]})]})]}),l==="available"?d.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[A.length===0&&d.jsxs("div",{className:"py-32 text-center premium-card",children:[d.jsx(dx,{size:64,className:"mx-auto mb-6 text-slate-100"}),d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"O estoque est vazio no momento"})]}),A.map(({batch:R,items:C,sequences:G})=>{var we,ie,L;const le=R?R.id_lote:C[0].id_lote,W=m.includes(le)||f.length>0,te=C.reduce((Y,ee)=>{const X=ee.sequencia;return Y[X]||(Y[X]={bandaA:null,bandaB:null,inteiro:null}),ee.tipo===vn.BANDA_A?Y[X].bandaA=ee:ee.tipo===vn.BANDA_B?Y[X].bandaB=ee:ee.tipo===vn.INTEIRO&&(Y[X].inteiro=ee),Y},{}),re=Object.values(te).reduce((Y,ee)=>{var Se,Ee,_e;const X=((Se=ee.bandaA)==null?void 0:Se.peso_entrada)||0,Q=((Ee=ee.bandaB)==null?void 0:Ee.peso_entrada)||0,ge=((_e=ee.inteiro)==null?void 0:_e.peso_entrada)||0,be=X>0&&Q>0?3:0,ae=ge>0?ge:X+Q-be;return Y+ae},0),ve=R?kK(R.data_recebimento):0;return d.jsxs("div",{className:"premium-card overflow-hidden",children:[d.jsxs("div",{onClick:()=>S(le),className:`p-6 flex flex-col lg:flex-row items-center justify-between cursor-pointer transition-all gap-6 ${W?"bg-slate-50/50":"hover:bg-slate-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[d.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all shadow-sm ${W?"bg-blue-600 text-white":"bg-slate-50 text-slate-400"}`,children:W?d.jsx(VG,{size:24}):d.jsx(zG,{size:24})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d.jsx("h3",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:(R==null?void 0:R.fornecedor)||"Fornecedor N/A"}),R&&d.jsxs("div",{className:"flex gap-2",children:[(()=>{const Y=PK(ve);return d.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black ${Y.color} ${Y.bg} px-2.5 py-1 rounded-full uppercase tracking-widest border ${Y.border} shadow-sm`,children:[Y.status==="fresh"&&d.jsx(sK,{size:10}),Y.status==="prime"&&d.jsx(J7,{size:10}),Y.status==="warning"&&d.jsx(s0,{size:10}),Y.status==="critical"&&d.jsx(a0,{size:10}),Y.label," (",ve,"d)"]})})(),(R==null?void 0:R.fornecedor)&&H.has(R.fornecedor)&&d.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest border shadow-sm ${((we=H.get(R.fornecedor))==null?void 0:we.quality)==="top"?"bg-indigo-50 text-indigo-600 border-indigo-100":((ie=H.get(R.fornecedor))==null?void 0:ie.quality)==="poor"?"bg-orange-50 text-orange-600 border-orange-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:[d.jsx(EG,{size:10})," ",((L=H.get(R.fornecedor))==null?void 0:L.quality)==="top"?"Gentica Premium":"Gado Regular"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[d.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["ID-LOTE: ",d.jsx("span",{className:"text-slate-900",children:le})]}),d.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),d.jsxs("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:["Entrada: ",R!=null&&R.data_recebimento?new Date(R.data_recebimento).toLocaleDateString():"N/A"]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between w-full lg:w-auto gap-10",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peas"}),d.jsxs("p",{className:"text-xl font-extrabold text-slate-800",children:[C.length," UN"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peso Total"}),d.jsx("div",{className:"bg-emerald-50 px-4 py-2 rounded-xl border border-emerald-100",children:d.jsx("p",{className:"text-xl font-extrabold text-emerald-700",children:Rr(re)})})]}),d.jsx("div",{className:"flex items-center gap-2",children:R&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Y=>{Y.stopPropagation(),j(R)},className:"w-10 h-10 rounded-xl bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Editar lote",children:d.jsx($g,{size:16})}),d.jsx("button",{onClick:Y=>{Y.stopPropagation(),j(R)},className:"w-10 h-10 rounded-xl bg-amber-500 hover:bg-amber-600 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Estornar lote",children:d.jsx(Bp,{size:16})})]})}),d.jsx("div",{className:`transition-all duration-300 ${W?"rotate-90 text-blue-600":"text-slate-300"}`,children:d.jsx(Ol,{size:24})})]})]}),W&&d.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 bg-white border-t border-slate-50 animate-reveal",children:Array.from(G.entries()).sort((Y,ee)=>Y[0]-ee[0]).map(([Y,ee])=>{const X=ee.some(Se=>Se.tipo===vn.INTEIRO),Q=ee.some(Se=>Se.tipo===vn.BANDA_A),ge=ee.some(Se=>Se.tipo===vn.BANDA_B),be=X||Q&&ge,ae=ee.reduce((Se,Ee)=>Se+Ee.peso_entrada,0);return d.jsxs("div",{className:"group p-5 rounded-2xl border border-slate-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("span",{className:"text-[10px] font-black bg-slate-100 text-slate-500 px-2 py-0.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors uppercase",children:["#",String(Y).padStart(3,"0")]}),d.jsx("span",{className:"text-lg font-black text-slate-800",children:Rr(ae)})]}),d.jsxs("div",{className:"space-y-2 flex-1",children:[ee.map(Se=>d.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[d.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Se.tipo===vn.BANDA_A?"bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.4)]":Se.tipo===vn.BANDA_B?"bg-blue-500 shadow-[0_0_8px_rgba(37,99,235,0.4)]":"bg-slate-900 shadow-[0_0_8px_rgba(15,23,42,0.4)]"}`}),_3(Se.tipo).toUpperCase()]}),d.jsx("span",{className:"text-slate-900 bg-slate-50 px-2 py-0.5 rounded-lg",children:Rr(Se.peso_entrada)})]},Se.id_completo)),!be&&!X&&d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 text-[8px] text-orange-600 font-black flex items-center gap-1.5 uppercase tracking-widest animate-pulse",children:[d.jsx(Xd,{size:10})," Parcial / Incompleto"]})]})]},Y)})})]},le)})]}):d.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[d.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl shadow-slate-200 overflow-hidden",children:[d.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:d.jsx(l3,{size:200})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-10 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full shadow-[0_0_12px_rgba(249,115,22,0.8)]"}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Acumulado em Vendas"})]}),d.jsx("h3",{className:"text-6xl md:text-7xl font-black tracking-tighter",children:Ot(U)})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 min-w-[240px] border border-white/10",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Despachos Efetuados"}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("p",{className:"text-5xl font-black",children:E.length}),d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Unidades"})]})]})]})]}),d.jsx("div",{className:"space-y-8",children:z.map(({batch:R,items:C})=>{const G=C.reduce((te,{sale:re})=>te+(re?re.peso_real_saida*re.preco_venda_kg:0),0),le=C.reduce((te,{sale:re,item:ve})=>!re||!R?te:te+re.peso_real_saida*(Number(R.custo_real_kg)||0)+(re.custo_extras_total||0),0),W=G-le;return d.jsxs("div",{className:"premium-card overflow-hidden",children:[d.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-center gap-10 bg-slate-50/50 border-b border-slate-50",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center text-slate-900",children:d.jsx(JH,{size:28})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-2xl font-black tracking-tight text-slate-900",children:R?`Lote ${R.id_lote}`:"Lote no vinculado"}),d.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:(R==null?void 0:R.fornecedor)||"Desconhecido"}),d.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),d.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest",children:["Custo Base: ",Ot((R==null?void 0:R.custo_real_kg)||0),"/kg"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-10 bg-white px-8 py-5 rounded-3xl border border-slate-100 shadow-sm",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Lucro Operacional"}),d.jsx("p",{className:`text-2xl font-black ${W>=0?"text-emerald-600":"text-rose-600"}`,children:Ot(W)})]}),d.jsx("div",{className:"w-px h-10 bg-slate-100"}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Qtd Vendida"}),d.jsxs("span",{className:"text-2xl font-black text-slate-800",children:[C.length," PC"]})]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Data"}),d.jsx("th",{children:"ID / Especificao"}),d.jsx("th",{children:"Cliente / Destino"}),d.jsx("th",{className:"text-right",children:"Peso Sada"}),d.jsx("th",{className:"text-right",children:"Total Venda"}),d.jsx("th",{className:"text-right",children:"Margem"})]})}),d.jsx("tbody",{children:C.map(({item:te,sale:re,client:ve})=>{const we=re?re.peso_real_saida*re.preco_venda_kg:0,ie=R&&Number(R.custo_real_kg)||0,L=re?re.peso_real_saida*ie+(re.custo_extras_total||0):0,Y=we-L;return d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"text-[10px] font-medium text-slate-400 uppercase",children:re?new Date(re.data_venda).toLocaleDateString():"N/A"}),d.jsxs("td",{children:[d.jsx("div",{className:"text-[10px] font-black text-slate-900 tracking-tighter uppercase",children:te.id_completo}),d.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-0.5 uppercase tracking-widest",children:_3(te.tipo)})]}),d.jsx("td",{children:ve?d.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight text-slate-700",children:ve.nome_social}):d.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:(re==null?void 0:re.nome_cliente)||"Direto"})}),d.jsx("td",{className:"text-right font-black text-slate-900",children:re?Rr(re.peso_real_saida):"-"}),d.jsx("td",{className:"text-right font-black text-blue-600",children:Ot(we)}),d.jsx("td",{className:"text-right",children:d.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg font-black text-sm ${Y>=0?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:Ot(Y)})})]},te.id_completo)})})]})})]},R?R.id_lote:"unknown")})})]}),I&&F&&d.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[d.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[d.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:d.jsx($g,{size:48})}),d.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),d.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:F.id_lote})]}),d.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),d.jsx("input",{type:"text",className:"modern-input w-full",value:F.fornecedor,onChange:R=>B({...F,fornecedor:R.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),d.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full font-bold text-lg",placeholder:"Peso em kg",value:F.peso_total_romaneio||"",onChange:R=>{const C=R.target.value.replace(",",".");(C===""||/^\d*\.?\d*$/.test(C))&&B({...F,peso_total_romaneio:parseFloat(C)||0})}})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),d.jsx("input",{type:"date",className:"modern-input w-full",value:F.data_recebimento,onChange:R=>B({...F,data_recebimento:R.target.value})})]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[d.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),d.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full text-xl font-black",placeholder:"Valor total",value:F.valor_compra_total||"",onChange:R=>{const C=R.target.value.replace(",",".");(C===""||/^\d*\.?\d*$/.test(C))&&B({...F,valor_compra_total:parseFloat(C)||0})}})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),d.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full",placeholder:"Frete",value:F.frete||"",onChange:R=>{const C=R.target.value.replace(",",".");(C===""||/^\d*\.?\d*$/.test(C))&&B({...F,frete:parseFloat(C)||0})}})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),d.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full",placeholder:"Extras",value:F.gastos_extras||"",onChange:R=>{const C=R.target.value.replace(",",".");(C===""||/^\d*\.?\d*$/.test(C))&&B({...F,gastos_extras:parseFloat(C)||0})}})]})]}),d.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),d.jsx("span",{className:"text-xl font-black text-orange-400",children:Ot(WS(F.valor_compra_total,F.frete,F.gastos_extras,F.peso_total_romaneio))})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[d.jsxs("button",{onClick:V,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[d.jsx(ux,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),d.jsxs("button",{onClick:O,className:"btn-modern bg-amber-500 text-white w-full py-4 rounded-2xl hover:bg-amber-600 shadow-xl transition-all border-2 border-amber-600",children:[d.jsx(Bp,{size:18,className:"inline mr-2"}),"Estornar Lote"]}),d.jsx("button",{onClick:()=>{P(!1),B(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},Ode="modulepreload",jde=function(t){return"/"+t},aM={},uE=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(f=>{if(f=jde(f),f in aM)return;aM[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Ode,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,E)=>{g.addEventListener("load",y),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function yr(t){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(t)}var as=Uint8Array,go=Uint16Array,bC=Int32Array,Ab=new as([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sb=new as([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dE=new as([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vB=function(t,e){for(var n=new go(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new bC(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},yB=vB(Ab,2),xB=yB.b,fE=yB.r;xB[28]=258,fE[258]=28;var bB=vB(Sb,0),Dde=bB.b,sM=bB.r,hE=new go(32768);for(var Yr=0;Yr<32768;++Yr){var Sd=(Yr&43690)>>1|(Yr&21845)<<1;Sd=(Sd&52428)>>2|(Sd&13107)<<2,Sd=(Sd&61680)>>4|(Sd&3855)<<4,hE[Yr]=((Sd&65280)>>8|(Sd&255)<<8)>>1}var Cc=(function(t,e,n){for(var r=t.length,i=0,a=new go(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new go(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new go(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],h=e-t[i],m=s[t[i]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)l[hE[m]>>c]=f}else for(l=new go(r),i=0;i<r;++i)t[i]&&(l[i]=hE[s[t[i]-1]++]>>15-t[i]);return l}),Qd=new as(288);for(var Yr=0;Yr<144;++Yr)Qd[Yr]=8;for(var Yr=144;Yr<256;++Yr)Qd[Yr]=9;for(var Yr=256;Yr<280;++Yr)Qd[Yr]=7;for(var Yr=280;Yr<288;++Yr)Qd[Yr]=8;var H0=new as(32);for(var Yr=0;Yr<32;++Yr)H0[Yr]=5;var Mde=Cc(Qd,9,0),Lde=Cc(Qd,9,1),Fde=Cc(H0,5,0),Ude=Cc(H0,5,1),xS=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Al=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},bS=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},_C=function(t){return(t+7)/8|0},_B=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new as(t.subarray(e,n))},Bde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Nl=function(t,e,n){var r=new Error(e||Bde[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Nl),!n)throw r;return r},Vde=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new as(0);var s=!n,l=s||e.i!=2,c=e.i;s&&(n=new as(i*3));var f=function(Ee){var _e=n.length;if(Ee>_e){var Je=new as(Math.max(_e*2,Ee));Je.set(n),n=Je}},h=e.f||0,m=e.p||0,g=e.b||0,y=e.l,E=e.d,A=e.m,S=e.n,I=i*8;do{if(!y){h=Al(t,m,1);var P=Al(t,m+1,3);if(m+=3,P)if(P==1)y=Lde,E=Ude,A=9,S=5;else if(P==2){var V=Al(t,m,31)+257,O=Al(t,m+10,15)+4,D=V+Al(t,m+5,31)+1;m+=14;for(var z=new as(D),H=new as(19),U=0;U<O;++U)H[dE[U]]=Al(t,m+U*3,7);m+=O*3;for(var R=xS(H),C=(1<<R)-1,G=Cc(H,R,1),U=0;U<D;){var le=G[Al(t,m,C)];m+=le&15;var F=le>>4;if(F<16)z[U++]=F;else{var W=0,te=0;for(F==16?(te=3+Al(t,m,3),m+=2,W=z[U-1]):F==17?(te=3+Al(t,m,7),m+=3):F==18&&(te=11+Al(t,m,127),m+=7);te--;)z[U++]=W}}var re=z.subarray(0,V),ve=z.subarray(V);A=xS(re),S=xS(ve),y=Cc(re,A,1),E=Cc(ve,S,1)}else Nl(1);else{var F=_C(m)+4,B=t[F-4]|t[F-3]<<8,j=F+B;if(j>i){c&&Nl(0);break}l&&f(g+B),n.set(t.subarray(F,j),g),e.b=g+=B,e.p=m=j*8,e.f=h;continue}if(m>I){c&&Nl(0);break}}l&&f(g+131072);for(var we=(1<<A)-1,ie=(1<<S)-1,L=m;;L=m){var W=y[bS(t,m)&we],Y=W>>4;if(m+=W&15,m>I){c&&Nl(0);break}if(W||Nl(2),Y<256)n[g++]=Y;else if(Y==256){L=m,y=null;break}else{var ee=Y-254;if(Y>264){var U=Y-257,X=Ab[U];ee=Al(t,m,(1<<X)-1)+xB[U],m+=X}var Q=E[bS(t,m)&ie],ge=Q>>4;Q||Nl(3),m+=Q&15;var ve=Dde[ge];if(ge>3){var X=Sb[ge];ve+=bS(t,m)&(1<<X)-1,m+=X}if(m>I){c&&Nl(0);break}l&&f(g+131072);var be=g+ee;if(g<ve){var ae=a-ve,Se=Math.min(ve,be);for(ae+g<0&&Nl(3);g<Se;++g)n[g]=r[ae+g]}for(;g<be;++g)n[g]=n[g-ve]}}e.l=y,e.p=L,e.b=g,e.f=h,y&&(h=1,e.m=A,e.d=E,e.n=S)}while(!h);return g!=n.length&&s?_B(n,0,g):n.subarray(0,g)},vu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Tg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},_S=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:AB,l:0};if(i==1){var s=new as(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(j,V){return j.f-V.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],f=0,h=1,m=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[f].f<n[m].f?f++:m++],c=n[f!=h&&n[f].f<n[m].f?f++:m++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var y=new go(g+1),E=pE(n[h-1],y,0);if(E>e){var r=0,A=0,S=E-e,I=1<<S;for(a.sort(function(V,O){return y[O.s]-y[V.s]||V.f-O.f});r<i;++r){var P=a[r].s;if(y[P]>e)A+=I-(1<<E-y[P]),y[P]=e;else break}for(A>>=S;A>0;){var F=a[r].s;y[F]<e?A-=1<<e-y[F]++-1:++r}for(;r>=0&&A;--r){var B=a[r].s;y[B]==e&&(--y[B],++A)}E=e}return{t:new as(y),l:E}},pE=function(t,e,n){return t.s==-1?Math.max(pE(t.l,e,n+1),pE(t.r,e,n+1)):e[t.s]=n},oM=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new go(++e),r=0,i=t[0],a=1,s=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},Cg=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},wB=function(t,e,n){var r=n.length,i=_C(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},lM=function(t,e,n,r,i,a,s,l,c,f,h){vu(e,h++,n),++i[256];for(var m=_S(i,15),g=m.t,y=m.l,E=_S(a,15),A=E.t,S=E.l,I=oM(g),P=I.c,F=I.n,B=oM(A),j=B.c,V=B.n,O=new go(19),D=0;D<P.length;++D)++O[P[D]&31];for(var D=0;D<j.length;++D)++O[j[D]&31];for(var z=_S(O,7),H=z.t,U=z.l,R=19;R>4&&!H[dE[R-1]];--R);var C=f+5<<3,G=Cg(i,Qd)+Cg(a,H0)+s,le=Cg(i,g)+Cg(a,A)+s+14+3*R+Cg(O,H)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&C<=G&&C<=le)return wB(e,h,t.subarray(c,c+f));var W,te,re,ve;if(vu(e,h,1+(le<G)),h+=2,le<G){W=Cc(g,y,0),te=g,re=Cc(A,S,0),ve=A;var we=Cc(H,U,0);vu(e,h,F-257),vu(e,h+5,V-1),vu(e,h+10,R-4),h+=14;for(var D=0;D<R;++D)vu(e,h+3*D,H[dE[D]]);h+=3*R;for(var ie=[P,j],L=0;L<2;++L)for(var Y=ie[L],D=0;D<Y.length;++D){var ee=Y[D]&31;vu(e,h,we[ee]),h+=H[ee],ee>15&&(vu(e,h,Y[D]>>5&127),h+=Y[D]>>12)}}else W=Mde,te=Qd,re=Fde,ve=H0;for(var D=0;D<l;++D){var X=r[D];if(X>255){var ee=X>>18&31;Tg(e,h,W[ee+257]),h+=te[ee+257],ee>7&&(vu(e,h,X>>23&31),h+=Ab[ee]);var Q=X&31;Tg(e,h,re[Q]),h+=ve[Q],Q>3&&(Tg(e,h,X>>5&8191),h+=Sb[Q])}else Tg(e,h,W[X]),h+=te[X]}return Tg(e,h,W[256]),h+te[256]},qde=new bC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AB=new as(0),zde=function(t,e,n,r,i,a){var s=a.z||t.length,l=new as(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var m=qde[e-1],g=m>>13,y=m&8191,E=(1<<n)-1,A=a.p||new go(32768),S=a.h||new go(E+1),I=Math.ceil(n/3),P=2*I,F=function(Fe){return(t[Fe]^t[Fe+1]<<I^t[Fe+2]<<P)&E},B=new bC(25e3),j=new go(288),V=new go(32),O=0,D=0,z=a.i||0,H=0,U=a.w||0,R=0;z+2<s;++z){var C=F(z),G=z&32767,le=S[C];if(A[G]=le,S[C]=G,U<=z){var W=s-z;if((O>7e3||H>24576)&&(W>423||!f)){h=lM(t,c,0,B,j,V,D,H,R,z-R,h),H=O=D=0,R=z;for(var te=0;te<286;++te)j[te]=0;for(var te=0;te<30;++te)V[te]=0}var re=2,ve=0,we=y,ie=G-le&32767;if(W>2&&C==F(z-ie))for(var L=Math.min(g,W)-1,Y=Math.min(32767,z),ee=Math.min(258,W);ie<=Y&&--we&&G!=le;){if(t[z+re]==t[z+re-ie]){for(var X=0;X<ee&&t[z+X]==t[z+X-ie];++X);if(X>re){if(re=X,ve=ie,X>L)break;for(var Q=Math.min(ie,X-2),ge=0,te=0;te<Q;++te){var be=z-ie+te&32767,ae=A[be],Se=be-ae&32767;Se>ge&&(ge=Se,le=be)}}}G=le,le=A[G],ie+=G-le&32767}if(ve){B[H++]=268435456|fE[re]<<18|sM[ve];var Ee=fE[re]&31,_e=sM[ve]&31;D+=Ab[Ee]+Sb[_e],++j[257+Ee],++V[_e],U=z+re,++O}else B[H++]=t[z],++j[t[z]]}}for(z=Math.max(z,U);z<s;++z)B[H++]=t[z],++j[t[z]];h=lM(t,c,f,B,j,V,D,H,R,z-R,h),f||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=S,a.p=A,a.i=z,a.w=U)}else{for(var z=a.w||0;z<s+f;z+=65535){var Je=z+65535;Je>=s&&(c[h/8|0]=f,Je=s),h=wB(c,h+1,t.subarray(z,Je))}a.i=s}return _B(l,0,r+_C(h)+i)},SB=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$de=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new as(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return zde(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},NB=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Hde=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=SB();i.p(e.dictionary),NB(t,2,i.d())}},Gde=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Nl(6,"invalid zlib data"),(t[1]>>5&1)==1&&Nl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function mE(t,e){e||(e={});var n=SB();n.p(t);var r=$de(t,e,e.dictionary?6:2,4);return Hde(r,e),NB(r,r.length-4,n.d()),r}function Wde(t,e){return Vde(t.subarray(Gde(t),-4),{i:2},e,e)}var Kde=typeof TextDecoder<"u"&&new TextDecoder,Yde=0;try{Kde.decode(AB,{stream:!0}),Yde=1}catch{}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wS(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var Ir={log:wS,warn:function(t){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):wS.call(null,arguments))},error:function(t){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):wS(t))}};function AS(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Uf(r.response,e,n)},r.onerror=function(){Ir.error("could not download file")},r.send()}function cM(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ty(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Jg,gE,Uf=rn.saveAs||((typeof window>"u"?"undefined":yr(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=rn.URL||rn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?cM(i.href)?AS(t,e,n):Ty(i,i.target="_blank"):Ty(i)):(i.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Ty(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(cM(t))AS(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Ty(r)}))}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:yr(a)!=="object"&&(Ir.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return AS(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(rn.HTMLElement)||rn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(t)}else{var c=rn.URL||rn.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout((function(){c.revokeObjectURL(f)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function EB(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SS(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ya(n,r,i,a,e[0],7,-680876936),a=Ya(a,n,r,i,e[1],12,-389564586),i=Ya(i,a,n,r,e[2],17,606105819),r=Ya(r,i,a,n,e[3],22,-1044525330),n=Ya(n,r,i,a,e[4],7,-176418897),a=Ya(a,n,r,i,e[5],12,1200080426),i=Ya(i,a,n,r,e[6],17,-1473231341),r=Ya(r,i,a,n,e[7],22,-45705983),n=Ya(n,r,i,a,e[8],7,1770035416),a=Ya(a,n,r,i,e[9],12,-1958414417),i=Ya(i,a,n,r,e[10],17,-42063),r=Ya(r,i,a,n,e[11],22,-1990404162),n=Ya(n,r,i,a,e[12],7,1804603682),a=Ya(a,n,r,i,e[13],12,-40341101),i=Ya(i,a,n,r,e[14],17,-1502002290),n=Ja(n,r=Ya(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ja(a,n,r,i,e[6],9,-1069501632),i=Ja(i,a,n,r,e[11],14,643717713),r=Ja(r,i,a,n,e[0],20,-373897302),n=Ja(n,r,i,a,e[5],5,-701558691),a=Ja(a,n,r,i,e[10],9,38016083),i=Ja(i,a,n,r,e[15],14,-660478335),r=Ja(r,i,a,n,e[4],20,-405537848),n=Ja(n,r,i,a,e[9],5,568446438),a=Ja(a,n,r,i,e[14],9,-1019803690),i=Ja(i,a,n,r,e[3],14,-187363961),r=Ja(r,i,a,n,e[8],20,1163531501),n=Ja(n,r,i,a,e[13],5,-1444681467),a=Ja(a,n,r,i,e[2],9,-51403784),i=Ja(i,a,n,r,e[7],14,1735328473),n=Xa(n,r=Ja(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Xa(a,n,r,i,e[8],11,-2022574463),i=Xa(i,a,n,r,e[11],16,1839030562),r=Xa(r,i,a,n,e[14],23,-35309556),n=Xa(n,r,i,a,e[1],4,-1530992060),a=Xa(a,n,r,i,e[4],11,1272893353),i=Xa(i,a,n,r,e[7],16,-155497632),r=Xa(r,i,a,n,e[10],23,-1094730640),n=Xa(n,r,i,a,e[13],4,681279174),a=Xa(a,n,r,i,e[0],11,-358537222),i=Xa(i,a,n,r,e[3],16,-722521979),r=Xa(r,i,a,n,e[6],23,76029189),n=Xa(n,r,i,a,e[9],4,-640364487),a=Xa(a,n,r,i,e[12],11,-421815835),i=Xa(i,a,n,r,e[15],16,530742520),n=Qa(n,r=Xa(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Qa(a,n,r,i,e[7],10,1126891415),i=Qa(i,a,n,r,e[14],15,-1416354905),r=Qa(r,i,a,n,e[5],21,-57434055),n=Qa(n,r,i,a,e[12],6,1700485571),a=Qa(a,n,r,i,e[3],10,-1894986606),i=Qa(i,a,n,r,e[10],15,-1051523),r=Qa(r,i,a,n,e[1],21,-2054922799),n=Qa(n,r,i,a,e[8],6,1873313359),a=Qa(a,n,r,i,e[15],10,-30611744),i=Qa(i,a,n,r,e[6],15,-1560198380),r=Qa(r,i,a,n,e[13],21,1309151649),n=Qa(n,r,i,a,e[4],6,-145523070),a=Qa(a,n,r,i,e[11],10,-1120210379),i=Qa(i,a,n,r,e[2],15,718787259),r=Qa(r,i,a,n,e[9],21,-343485551),t[0]=Ud(n,t[0]),t[1]=Ud(r,t[1]),t[2]=Ud(i,t[2]),t[3]=Ud(a,t[3])}function Nb(t,e,n,r,i,a){return e=Ud(Ud(e,t),Ud(r,a)),Ud(e<<i|e>>>32-i,n)}function Ya(t,e,n,r,i,a,s){return Nb(e&n|~e&r,t,e,i,a,s)}function Ja(t,e,n,r,i,a,s){return Nb(e&r|n&~r,t,e,i,a,s)}function Xa(t,e,n,r,i,a,s){return Nb(e^n^r,t,e,i,a,s)}function Qa(t,e,n,r,i,a,s){return Nb(n^(e|~r),t,e,i,a,s)}function TB(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)SS(r,Jde(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(SS(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,SS(r,i),r}function Jde(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Jg=rn.atob.bind(rn),gE=rn.btoa.bind(rn);var uM="0123456789abcdef".split("");function Xde(t){for(var e="",n=0;n<4;n++)e+=uM[t>>8*n+4&15]+uM[t>>8*n&15];return e}function Qde(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function vE(t){return TB(t).map(Qde).join("")}var Zde=(function(t){for(var e=0;e<t.length;e++)t[e]=Xde(t[e]);return t.join("")})(TB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ud(t,e){if(Zde){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yE(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var h=l[c];f=(f+h+s.charCodeAt(c))%256,l[c]=l[f],l[f]=h}n=t,r=l}else l=r;var m=e.length,g=0,y=0,E="";for(c=0;c<m;c++)y=(y+(h=l[g=(g+1)%256]))%256,l[g]=l[y],l[y]=h,s=l[(l[g]+l[y])%256],E+=String.fromCharCode(e.charCodeAt(c)^s);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dM={print:4,modify:8,copy:16,"annot-forms":32};function up(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach((function(l){if(dM.perm!==void 0)throw new Error("Invalid permission: "+l);i+=dM[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=vE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=yE(this.encryptionKey,this.padding)}function dp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function fM(t){if(yr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(l){rn.console&&Ir.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function v1(t){if(!(this instanceof v1))return new v1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function CB(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function qf(t,e,n,r,i){if(!(this instanceof qf))return new qf(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,CB.call(this,r,i)}function bp(t,e,n,r,i){if(!(this instanceof bp))return new bp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,CB.call(this,r,i)}function Jt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,f="S",h=null;yr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=fM;var E="1.3",A=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(M){E=M};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return S};var I=y.__private__.getPageFormat=function(M){return S[M]};i=i||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},F=P.COMPAT;function B(){this.saveGraphicsState(),ne(new kt(wt,0,0,-wt,0,sa()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),f="n",F=P.ADVANCED}function j(){this.restoreGraphicsState(),f="S",F=P.COMPAT}var V=y.__private__.combineFontStyleAndFontWeight=function(M,se){if(M=="bold"&&se=="normal"||M=="bold"&&se==400||M=="normal"&&se=="italic"||M=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(M=se==400||se==="normal"?M==="italic"?"italic":"normal":se!=700&&se!=="bold"||M!=="normal"?(se==700?"bold":se)+""+M:"bold"),M};y.advancedAPI=function(M){var se=F===P.COMPAT;return se&&B.call(this),typeof M!="function"||(M(this),se&&j.call(this)),this},y.compatAPI=function(M){var se=F===P.ADVANCED;return se&&j.call(this),typeof M!="function"||(M(this),se&&B.call(this)),this},y.isAdvancedAPI=function(){return F===P.ADVANCED};var O,D=function(M){if(F!==P.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=y.roundToPrecision=y.__private__.roundToPrecision=function(M,se){var Ae=e||se;if(isNaN(M)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ae).replace(/0+$/,"")};O=y.hpf=y.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,16)};var H=y.f2=y.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return z(M,2)},U=y.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return z(M,3)},R=y.scale=y.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return F===P.COMPAT?M*wt:F===P.ADVANCED?M:void 0},C=function(M){return F===P.COMPAT?sa()-M:F===P.ADVANCED?M:void 0},G=function(M){return R(C(M))};y.__private__.setPrecision=y.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var le,W="00000000000000000000000000000000",te=y.__private__.getFileId=function(){return W},re=y.__private__.setFileId=function(M){return W=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():W.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&(zn=new up(h.userPermissions,h.userPassword,h.ownerPassword,W)),W};y.setFileId=function(M){return re(M),this},y.getFileId=function(){return te()};var ve=y.__private__.convertDateToPDFDate=function(M){var se=M.getTimezoneOffset(),Ae=se<0?"+":"-",Ce=Math.floor(Math.abs(se/60)),Me=Math.abs(se%60),nt=[Ae,ee(Ce),"'",ee(Me),"'"].join("");return["D:",M.getFullYear(),ee(M.getMonth()+1),ee(M.getDate()),ee(M.getHours()),ee(M.getMinutes()),ee(M.getSeconds()),nt].join("")},we=y.__private__.convertPDFDateToDate=function(M){var se=parseInt(M.substr(2,4),10),Ae=parseInt(M.substr(6,2),10)-1,Ce=parseInt(M.substr(8,2),10),Me=parseInt(M.substr(10,2),10),nt=parseInt(M.substr(12,2),10),mt=parseInt(M.substr(14,2),10);return new Date(se,Ae,Ce,Me,nt,mt,0)},ie=y.__private__.setCreationDate=function(M){var se;if(M===void 0&&(M=new Date),M instanceof Date)se=ve(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=M}return le=se},L=y.__private__.getCreationDate=function(M){var se=le;return M==="jsDate"&&(se=we(le)),se};y.setCreationDate=function(M){return ie(M),this},y.getCreationDate=function(M){return L(M)};var Y,ee=y.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},X=y.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Q=0,ge=[],be=[],ae=0,Se=[],Ee=[],_e=!1,Je=be,Fe=function(){Q=0,ae=0,be=[],ge=[],Se=[],cn=de(),Ht=de()};y.__private__.setCustomOutputDestination=function(M){_e=!0,Je=M};var Ne=function(M){_e||(Je=M)};y.__private__.resetCustomOutputDestination=function(){_e=!1,Je=be};var ne=y.__private__.out=function(M){return M=M.toString(),ae+=M.length+1,Je.push(M),Je},Be=y.__private__.write=function(M){return ne(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Ze=y.__private__.getArrayBuffer=function(M){for(var se=M.length,Ae=new ArrayBuffer(se),Ce=new Uint8Array(Ae);se--;)Ce[se]=M.charCodeAt(se);return Ae},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ze};var et=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(M){return et=F===P.ADVANCED?M/wt:M,this};var Ke,rt=y.__private__.getFontSize=y.getFontSize=function(){return F===P.COMPAT?et:et*wt},it=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(M){return it=M,this},y.__private__.getR2L=y.getR2L=function(){return it};var We,yt=y.__private__.setZoomMode=function(M){var se=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Ke=M;else if(isNaN(M)){if(se.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Ke=M}else Ke=parseInt(M,10)};y.__private__.getZoomMode=function(){return Ke};var bt,At=y.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');We=M};y.__private__.getPageMode=function(){return We};var Dt=y.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');bt=M};y.__private__.getLayoutMode=function(){return bt},y.__private__.setDisplayMode=y.setDisplayMode=function(M,se,Ae){return yt(M),Dt(se),At(Ae),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(M){if(Object.keys(Tt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[M]},y.__private__.getDocumentProperties=function(){return Tt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(M){for(var se in Tt)Tt.hasOwnProperty(se)&&M[se]&&(Tt[se]=M[se]);return this},y.__private__.setDocumentProperty=function(M,se){if(Object.keys(Tt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[M]=se};var Vt,wt,Hn,en,Jn,yn={},xn={},Ma=[],gn={},ci={},qn={},Pr={},Vr=null,Sn=0,Mt=[],bn=new fM(y),xi=t.hotfixes||[],Or={},ui={},bi=[],kt=function M(se,Ae,Ce,Me,nt,mt){if(!(this instanceof M))return new M(se,Ae,Ce,Me,nt,mt);isNaN(se)&&(se=1),isNaN(Ae)&&(Ae=0),isNaN(Ce)&&(Ce=0),isNaN(Me)&&(Me=1),isNaN(nt)&&(nt=0),isNaN(mt)&&(mt=0),this._matrix=[se,Ae,Ce,Me,nt,mt]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(M)},kt.prototype.multiply=function(M){var se=M.sx*this.sx+M.shy*this.shx,Ae=M.sx*this.shy+M.shy*this.sy,Ce=M.shx*this.sx+M.sy*this.shx,Me=M.shx*this.shy+M.sy*this.sy,nt=M.tx*this.sx+M.ty*this.shx+this.tx,mt=M.tx*this.shy+M.ty*this.sy+this.ty;return new kt(se,Ae,Ce,Me,nt,mt)},kt.prototype.decompose=function(){var M=this.sx,se=this.shy,Ae=this.shx,Ce=this.sy,Me=this.tx,nt=this.ty,mt=Math.sqrt(M*M+se*se),Et=(M/=mt)*Ae+(se/=mt)*Ce;Ae-=M*Et,Ce-=se*Et;var _=Math.sqrt(Ae*Ae+Ce*Ce);return Et/=_,M*(Ce/=_)<se*(Ae/=_)&&(M=-M,se=-se,Et=-Et,mt=-mt),{scale:new kt(mt,0,0,_,0,0),translate:new kt(1,0,0,1,Me,nt),rotate:new kt(M,se,-se,M,0,0),skew:new kt(1,0,Et,1,0,0)}},kt.prototype.toString=function(M){return this.join(" ")},kt.prototype.inversed=function(){var M=this.sx,se=this.shy,Ae=this.shx,Ce=this.sy,Me=this.tx,nt=this.ty,mt=1/(M*Ce-se*Ae),Et=Ce*mt,_=-se*mt,$=-Ae*mt,J=M*mt;return new kt(Et,_,$,J,-Et*Me-$*nt,-_*Me-J*nt)},kt.prototype.applyToPoint=function(M){var se=M.x*this.sx+M.y*this.shx+this.tx,Ae=M.x*this.shy+M.y*this.sy+this.ty;return new Co(se,Ae)},kt.prototype.applyToRectangle=function(M){var se=this.applyToPoint(M),Ae=this.applyToPoint(new Co(M.x+M.w,M.y+M.h));return new Yl(se.x,se.y,Ae.x-se.x,Ae.y-se.y)},kt.prototype.clone=function(){var M=this.sx,se=this.shy,Ae=this.shx,Ce=this.sy,Me=this.tx,nt=this.ty;return new kt(M,se,Ae,Ce,Me,nt)},y.Matrix=kt;var Ci=y.matrixMult=function(M,se){return se.multiply(M)},jr=new kt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=jr;var qr=function(M,se){if(!ci[M]){var Ae=(se instanceof qf?"Sh":"P")+(Object.keys(gn).length+1).toString(10);se.id=Ae,ci[M]=Ae,gn[Ae]=se,bn.publish("addPattern",se)}};y.ShadingPattern=qf,y.TilingPattern=bp,y.addShadingPattern=function(M,se){return D("addShadingPattern()"),qr(M,se),this},y.beginTilingPattern=function(M){D("beginTilingPattern()"),Jl(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},y.endTilingPattern=function(M,se){D("endTilingPattern()"),se.stream=Ee[Y].join(`
`),qr(M,se),bn.publish("endTilingPattern",se),bi.pop().restore()};var cr=y.__private__.newObject=function(){var M=de();return Xe(M,!0),M},de=y.__private__.newObjectDeferred=function(){return Q++,ge[Q]=function(){return ae},Q},Xe=function(M,se){return se=typeof se=="boolean"&&se,ge[M]=ae,se&&ne(M+" 0 obj"),M},Yt=y.__private__.newAdditionalObject=function(){var M={objId:de(),content:""};return Se.push(M),M},cn=de(),Ht=de(),zt=y.__private__.decodeColorString=function(M){var se=M.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length===5&&(se[4]==="k"||se[4]==="K")&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ae=parseFloat(se[0]);se=[Ae,Ae,Ae,"r"]}for(var Ce="#",Me=0;Me<3;Me++)Ce+=("0"+Math.floor(255*parseFloat(se[Me])).toString(16)).slice(-2);return Ce},nn=y.__private__.encodeColorString=function(M){var se;typeof M=="string"&&(M={ch1:M});var Ae=M.ch1,Ce=M.ch2,Me=M.ch3,nt=M.ch4,mt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Et=new EB(Ae);if(Et.ok)Ae=Et.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var _=parseInt(Ae.substr(1),16);Ae=_>>16&255,Ce=_>>8&255,Me=255&_}if(Ce===void 0||nt===void 0&&Ae===Ce&&Ce===Me)if(typeof Ae=="string")se=Ae+" "+mt[0];else switch(M.precision){case 2:se=H(Ae/255)+" "+mt[0];break;case 3:default:se=U(Ae/255)+" "+mt[0]}else if(nt===void 0||yr(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return se=["1.","1.","1.",mt[1]].join(" ");if(typeof Ae=="string")se=[Ae,Ce,Me,mt[1]].join(" ");else switch(M.precision){case 2:se=[H(Ae/255),H(Ce/255),H(Me/255),mt[1]].join(" ");break;default:case 3:se=[U(Ae/255),U(Ce/255),U(Me/255),mt[1]].join(" ")}}else if(typeof Ae=="string")se=[Ae,Ce,Me,nt,mt[2]].join(" ");else switch(M.precision){case 2:se=[H(Ae),H(Ce),H(Me),H(nt),mt[2]].join(" ");break;case 3:default:se=[U(Ae),U(Ce),U(Me),U(nt),mt[2]].join(" ")}return se},Ue=y.__private__.getFilters=function(){return s},Ct=y.__private__.putStream=function(M){var se=(M=M||{}).data||"",Ae=M.filters||Ue(),Ce=M.alreadyAppliedFilters||[],Me=M.addLength1||!1,nt=se.length,mt=M.objectId,Et=function(on){return on};if(h!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Et=zn.encryptor(mt,0));var _={};Ae===!0&&(Ae=["FlateEncode"]);var $=M.additionalKeyValues||[],J=(_=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(se,Ae):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(_.data.length!==0&&($.push({key:"Length",value:_.data.length}),Me===!0&&$.push({key:"Length1",value:nt})),J.length!=0)if(J.split("/").length-1==1)$.push({key:"Filter",value:J});else{$.push({key:"Filter",value:"["+J+"]"});for(var he=0;he<$.length;he+=1)if($[he].key==="DecodeParms"){for(var je=[],$e=0;$e<_.reverseChain.split("/").length-1;$e+=1)je.push("null");je.push($[he].value),$[he].value="["+je.join(" ")+"]"}}ne("<<");for(var gt=0;gt<$.length;gt++)ne("/"+$[gt].key+" "+$[gt].value);ne(">>"),_.data.length!==0&&(ne("stream"),ne(Et(_.data)),ne("endstream"))},qt=y.__private__.putPage=function(M){var se=M.number,Ae=M.data,Ce=M.objId,Me=M.contentsObjId;Xe(Ce,!0),ne("<</Type /Page"),ne("/Parent "+M.rootDictionaryObjId+" 0 R"),ne("/Resources "+M.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(O(M.mediaBox.bottomLeftX))+" "+parseFloat(O(M.mediaBox.bottomLeftY))+" "+O(M.mediaBox.topRightX)+" "+O(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&ne("/CropBox ["+O(M.cropBox.bottomLeftX)+" "+O(M.cropBox.bottomLeftY)+" "+O(M.cropBox.topRightX)+" "+O(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&ne("/BleedBox ["+O(M.bleedBox.bottomLeftX)+" "+O(M.bleedBox.bottomLeftY)+" "+O(M.bleedBox.topRightX)+" "+O(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&ne("/TrimBox ["+O(M.trimBox.bottomLeftX)+" "+O(M.trimBox.bottomLeftY)+" "+O(M.trimBox.topRightX)+" "+O(M.trimBox.topRightY)+"]"),M.artBox!==null&&ne("/ArtBox ["+O(M.artBox.bottomLeftX)+" "+O(M.artBox.bottomLeftY)+" "+O(M.artBox.topRightX)+" "+O(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&ne("/UserUnit "+M.userUnit),bn.publish("putPage",{objId:Ce,pageContext:Mt[se],pageNumber:se,page:Ae}),ne("/Contents "+Me+" 0 R"),ne(">>"),ne("endobj");var nt=Ae.join(`
`);return F===P.ADVANCED&&(nt+=`
Q`),Xe(Me,!0),Ct({data:nt,filters:Ue(),objectId:Me}),ne("endobj"),Ce},Dr=y.__private__.putPages=function(){var M,se,Ae=[];for(M=1;M<=Sn;M++)Mt[M].objId=de(),Mt[M].contentsObjId=de();for(M=1;M<=Sn;M++)Ae.push(qt({number:M,data:Ee[M],objId:Mt[M].objId,contentsObjId:Mt[M].contentsObjId,mediaBox:Mt[M].mediaBox,cropBox:Mt[M].cropBox,bleedBox:Mt[M].bleedBox,trimBox:Mt[M].trimBox,artBox:Mt[M].artBox,userUnit:Mt[M].userUnit,rootDictionaryObjId:cn,resourceDictionaryObjId:Ht}));Xe(cn,!0),ne("<</Type /Pages");var Ce="/Kids [";for(se=0;se<Sn;se++)Ce+=Ae[se]+" 0 R ";ne(Ce+"]"),ne("/Count "+Sn),ne(">>"),ne("endobj"),bn.publish("postPutPages")},Mr=function(M){bn.publish("putFont",{font:M,out:ne,newObject:cr,putStream:Ct}),M.isAlreadyPutted!==!0&&(M.objectNumber=cr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+dp(M.postScriptName)),ne("/Subtype /Type1"),typeof M.encoding=="string"&&ne("/Encoding /"+M.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},jn=function(){for(var M in yn)yn.hasOwnProperty(M)&&(m===!1||m===!0&&g.hasOwnProperty(M))&&Mr(yn[M])},Lr=function(M){M.objectNumber=cr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[O(M.x),O(M.y),O(M.x+M.width),O(M.y+M.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ae=M.pages[1].join(`
`);Ct({data:Ae,additionalKeyValues:se,objectId:M.objectNumber}),ne("endobj")},Gn=function(){for(var M in Or)Or.hasOwnProperty(M)&&Lr(Or[M])},La=function(M,se){var Ae,Ce=[],Me=1/(se-1);for(Ae=0;Ae<1;Ae+=Me)Ce.push(Ae);if(Ce.push(1),M[0].offset!=0){var nt={offset:0,color:M[0].color};M.unshift(nt)}if(M[M.length-1].offset!=1){var mt={offset:1,color:M[M.length-1].color};M.push(mt)}for(var Et="",_=0,$=0;$<Ce.length;$++){for(Ae=Ce[$];Ae>M[_+1].offset;)_++;var J=M[_].offset,he=(Ae-J)/(M[_+1].offset-J),je=M[_].color,$e=M[_+1].color;Et+=X(Math.round((1-he)*je[0]+he*$e[0]).toString(16))+X(Math.round((1-he)*je[1]+he*$e[1]).toString(16))+X(Math.round((1-he)*je[2]+he*$e[2]).toString(16))}return Et.trim()},cs=function(M,se){se||(se=21);var Ae=cr(),Ce=La(M.colors,se),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+se+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct({data:Ce,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),ne("endobj"),M.objectNumber=cr(),ne("<< /ShadingType "+M.type),ne("/ColorSpace /DeviceRGB");var nt="/Coords ["+O(parseFloat(M.coords[0]))+" "+O(parseFloat(M.coords[1]))+" ";M.type===2?nt+=O(parseFloat(M.coords[2]))+" "+O(parseFloat(M.coords[3])):nt+=O(parseFloat(M.coords[2]))+" "+O(parseFloat(M.coords[3]))+" "+O(parseFloat(M.coords[4]))+" "+O(parseFloat(M.coords[5])),ne(nt+="]"),M.matrix&&ne("/Matrix ["+M.matrix.toString()+"]"),ne("/Function "+Ae+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},zr=function(M,se){var Ae=de(),Ce=cr();se.push({resourcesOid:Ae,objectOid:Ce}),M.objectNumber=Ce;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+M.boundingBox.map(O).join(" ")+"]"}),Me.push({key:"XStep",value:O(M.xStep)}),Me.push({key:"YStep",value:O(M.yStep)}),Me.push({key:"Resources",value:Ae+" 0 R"}),M.matrix&&Me.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ct({data:M.stream,additionalKeyValues:Me,objectId:M.objectNumber}),ne("endobj")},Ws=function(M){var se;for(se in gn)gn.hasOwnProperty(se)&&(gn[se]instanceof qf?cs(gn[se]):gn[se]instanceof bp&&zr(gn[se],M))},Ks=function(M){for(var se in M.objectNumber=cr(),ne("<<"),M)switch(se){case"opacity":ne("/ca "+H(M[se]));break;case"stroke-opacity":ne("/CA "+H(M[se]))}ne(">>"),ne("endobj")},$i=function(){var M;for(M in qn)qn.hasOwnProperty(M)&&Ks(qn[M])},Fa=function(){for(var M in ne("/XObject <<"),Or)Or.hasOwnProperty(M)&&Or[M].objectNumber>=0&&ne("/"+M+" "+Or[M].objectNumber+" 0 R");bn.publish("putXobjectDict"),ne(">>")},bf=function(){zn.oid=cr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+zn.v),ne("/R "+zn.r),ne("/U <"+zn.toHexString(zn.U)+">"),ne("/O <"+zn.toHexString(zn.O)+">"),ne("/P "+zn.P),ne(">>"),ne("endobj")},Bl=function(){for(var M in ne("/Font <<"),yn)yn.hasOwnProperty(M)&&(m===!1||m===!0&&g.hasOwnProperty(M))&&ne("/"+M+" "+yn[M].objectNumber+" 0 R");ne(">>")},zc=function(){if(Object.keys(gn).length>0){for(var M in ne("/Shading <<"),gn)gn.hasOwnProperty(M)&&gn[M]instanceof qf&&gn[M].objectNumber>=0&&ne("/"+M+" "+gn[M].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),ne(">>")}},Qo=function(M){if(Object.keys(gn).length>0){for(var se in ne("/Pattern <<"),gn)gn.hasOwnProperty(se)&&gn[se]instanceof y.TilingPattern&&gn[se].objectNumber>=0&&gn[se].objectNumber<M&&ne("/"+se+" "+gn[se].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),ne(">>")}},_o=function(){if(Object.keys(qn).length>0){var M;for(M in ne("/ExtGState <<"),qn)qn.hasOwnProperty(M)&&qn[M].objectNumber>=0&&ne("/"+M+" "+qn[M].objectNumber+" 0 R");bn.publish("putGStateDict"),ne(">>")}},ur=function(M){Xe(M.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bl(),zc(),Qo(M.objectOid),_o(),Fa(),ne(">>"),ne("endobj")},xa=function(){var M=[];jn(),$i(),Gn(),Ws(M),bn.publish("putResources"),M.forEach(ur),ur({resourcesOid:Ht,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources")},Ii=function(){bn.publish("putAdditionalObjects");for(var M=0;M<Se.length;M++){var se=Se[M];Xe(se.objId,!0),ne(se.content),ne("endobj")}bn.publish("postPutAdditionalObjects")},$c=function(M){xn[M.fontName]=xn[M.fontName]||{},xn[M.fontName][M.fontStyle]=M.id},Hc=function(M,se,Ae,Ce,Me){var nt={id:"F"+(Object.keys(yn).length+1).toString(10),postScriptName:M,fontName:se,fontStyle:Ae,encoding:Ce,isStandardFont:Me||!1,metadata:{}};return bn.publish("addFont",{font:nt,instance:this}),yn[nt.id]=nt,$c(nt),nt.id},Vl=function(M){for(var se=0,Ae=ze.length;se<Ae;se++){var Ce=Hc.call(this,M[se][0],M[se][1],M[se][2],ze[se][3],!0);m===!1&&(g[Ce]=!0);var Me=M[se][0].split("-");$c({id:Ce,fontName:Me[0],fontStyle:Me[1]||""})}bn.publish("addFonts",{fonts:yn,dictionary:xn})},ba=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Ce){var se=Ce.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var Ae="Error in function "+se.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!rn.console)throw new Error(Ae);rn.console.error(Ae,Ce),rn.alert&&alert(Ae)}},M.foo.bar=M,M.foo},Ys=function(M,se){var Ae,Ce,Me,nt,mt,Et,_,$,J;if(Me=(se=se||{}).sourceEncoding||"Unicode",mt=se.outputEncoding,(se.autoencode||mt)&&yn[Vt].metadata&&yn[Vt].metadata[Me]&&yn[Vt].metadata[Me].encoding&&(nt=yn[Vt].metadata[Me].encoding,!mt&&yn[Vt].encoding&&(mt=yn[Vt].encoding),!mt&&nt.codePages&&(mt=nt.codePages[0]),typeof mt=="string"&&(mt=nt[mt]),mt)){for(_=!1,Et=[],Ae=0,Ce=M.length;Ae<Ce;Ae++)($=mt[M.charCodeAt(Ae)])?Et.push(String.fromCharCode($)):Et.push(M[Ae]),Et[Ae].charCodeAt(0)>>8&&(_=!0);M=Et.join("")}for(Ae=M.length;_===void 0&&Ae!==0;)M.charCodeAt(Ae-1)>>8&&(_=!0),Ae--;if(!_)return M;for(Et=se.noBOM?[]:[254,255],Ae=0,Ce=M.length;Ae<Ce;Ae++){if((J=($=M.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(J),Et.push($-(J<<8))}return String.fromCharCode.apply(void 0,Et)},Xr=y.__private__.pdfEscape=y.pdfEscape=function(M,se){return Ys(M,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xr=y.__private__.beginPage=function(M){Ee[++Sn]=[],Mt[Sn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},el(Sn),Ne(Ee[Y])},Js=function(M,se){var Ae,Ce,Me;switch(n=se||n,typeof M=="string"&&(Ae=I(M.toLowerCase()),Array.isArray(Ae)&&(Ce=Ae[0],Me=Ae[1])),Array.isArray(M)&&(Ce=M[0]*wt,Me=M[1]*wt),isNaN(Ce)&&(Ce=i[0],Me=i[1]),(Ce>14400||Me>14400)&&(Ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Me=Math.min(14400,Me)),i=[Ce,Me],n.substr(0,1)){case"l":Me>Ce&&(i=[Me,Ce]);break;case"p":Ce>Me&&(i=[Me,Ce])}xr(i),No(di),ne(Gi),Yc!==0&&ne(Yc+" J"),Kl!==0&&ne(Kl+" j"),bn.publish("addPage",{pageNumber:Sn})},Zo=function(M){M>0&&M<=Sn&&(Ee.splice(M,1),Mt.splice(M,1),Sn--,Y>Sn&&(Y=Sn),this.setPage(Y))},el=function(M){M>0&&M<=Sn&&(Y=M)},Dn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ee.length-1},wo=function(M,se,Ae){var Ce,Me=void 0;return Ae=Ae||{},M=M!==void 0?M:yn[Vt].fontName,se=se!==void 0?se:yn[Vt].fontStyle,Ce=M.toLowerCase(),xn[Ce]!==void 0&&xn[Ce][se]!==void 0?Me=xn[Ce][se]:xn[M]!==void 0&&xn[M][se]!==void 0?Me=xn[M][se]:Ae.disableWarning===!1&&Ir.warn("Unable to look up font label for font '"+M+"', '"+se+"'. Refer to getFontList() for available fonts."),Me||Ae.noFallback||(Me=xn.times[se])==null&&(Me=xn.times.normal),Me},Ao=y.__private__.putInfo=function(){var M=cr(),se=function(Ce){return Ce};for(var Ae in h!==null&&(se=zn.encryptor(M,0)),ne("<<"),ne("/Producer ("+Xr(se("jsPDF "+Jt.version))+")"),Tt)Tt.hasOwnProperty(Ae)&&Tt[Ae]&&ne("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Xr(se(Tt[Ae]))+")");ne("/CreationDate ("+Xr(se(le))+")"),ne(">>"),ne("endobj")},ia=y.__private__.putCatalog=function(M){var se=(M=M||{}).rootDictionaryObjId||cn;switch(cr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+se+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+Ke;Ae.substr(Ae.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+H(Ke)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}We&&ne("/PageMode /"+We),bn.publish("putCatalog"),ne(">>"),ne("endobj")},_f=y.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(Q+1)),ne("/Root "+Q+" 0 R"),ne("/Info "+(Q-1)+" 0 R"),h!==null&&ne("/Encrypt "+zn.oid+" 0 R"),ne("/ID [ <"+W+"> <"+W+"> ]"),ne(">>")},Gc=y.__private__.putHeader=function(){ne("%PDF-"+E),ne("%")},Hu=y.__private__.putXRef=function(){var M="0000000000";ne("xref"),ne("0 "+(Q+1)),ne("0000000000 65535 f ");for(var se=1;se<=Q;se++)typeof ge[se]=="function"?ne((M+ge[se]()).slice(-10)+" 00000 n "):ge[se]!==void 0?ne((M+ge[se]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},us=y.__private__.buildDocument=function(){Fe(),Ne(be),bn.publish("buildDocument"),Gc(),Dr(),Ii(),xa(),h!==null&&bf(),Ao(),ia();var M=ae;return Hu(),_f(),ne("startxref"),ne(""+M),ne("%%EOF"),Ne(Ee[Y]),be.join(`
`)},ql=y.__private__.getBlob=function(M){return new Blob([Ze(M)],{type:"application/pdf"})},zl=y.output=y.__private__.output=ba((function(M,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",M){case void 0:return us();case"save":y.save(se.filename);break;case"arraybuffer":return Ze(us());case"blob":return ql(us());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(ql(us()))||void 0;Ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Ce=us();try{Ae=gE(Ce)}catch{Ae=gE(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Me=se.pdfObjectUrl,nt="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Et=rn.open();return Et!==null&&Et.document.write(mt),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',$=rn.open();if($!==null){$.document.write(_);var J=this;$.document.documentElement.querySelector("#pdfViewer").onload=function(){$.document.title=se.filename,$.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(J.output("bloburl"))}}return $}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',je=rn.open();if(je!==null&&(je.document.write(he),je.document.title=se.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",se);default:return null}})),ds=function(M){return Array.isArray(xi)===!0&&xi.indexOf(M)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var zn=null;ie(),re();var $l=function(M){return h!==null?zn.encryptor(M,0):function(se){return se}},tl=y.__private__.getPageInfo=y.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[M].objId,pageNumber:M,pageContext:Mt[M]}},Gt=y.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Mt)if(Mt[se].objId===M)break;return tl(se)},_a=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Mt[Y].objId,pageNumber:Y,pageContext:Mt[Y]}};y.addPage=function(){return Js.apply(this,arguments),this},y.setPage=function(){return el.apply(this,arguments),Ne.call(this,Ee[Y]),this},y.insertPage=function(M){return this.addPage(),this.movePage(Y,M),this},y.movePage=function(M,se){var Ae,Ce;if(M>se){Ae=Ee[M],Ce=Mt[M];for(var Me=M;Me>se;Me--)Ee[Me]=Ee[Me-1],Mt[Me]=Mt[Me-1];Ee[se]=Ae,Mt[se]=Ce,this.setPage(se)}else if(M<se){Ae=Ee[M],Ce=Mt[M];for(var nt=M;nt<se;nt++)Ee[nt]=Ee[nt+1],Mt[nt]=Mt[nt+1];Ee[se]=Ae,Mt[se]=Ce,this.setPage(se)}return this},y.deletePage=function(){return Zo.apply(this,arguments),this},y.__private__.text=y.text=function(M,se,Ae,Ce,Me){var nt,mt,Et,_,$,J,he,je,$e,gt=(Ce=Ce||{}).scope||this;if(typeof M=="number"&&typeof se=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var on=Ae;Ae=se,se=M,M=on}if(arguments[3]instanceof kt?(D("The transform parameter of text() with a Matrix value"),$e=Me):(Et=arguments[4],_=arguments[5],yr(he=arguments[3])==="object"&&he!==null||(typeof Et=="string"&&(_=Et,Et=null),typeof he=="string"&&(_=he,he=null),typeof he=="number"&&(Et=he,he=null),Ce={flags:he,angle:Et,align:_})),isNaN(se)||isNaN(Ae)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return gt;var Nn="",Xt=!1,Zn=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Xn,pr=gt.internal.scaleFactor;function to(Cn){return Cn=Cn.split("	").join(Array(Ce.TabLen||9).join(" ")),Xr(Cn,he)}function Ri(Cn){for(var sr,Wn=Cn.concat(),Fr=[],oo=Wn.length;oo--;)typeof(sr=Wn.shift())=="string"?Fr.push(sr):Array.isArray(Cn)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?Fr.push(sr[0]):Fr.push([sr[0],sr[1],sr[2]]);return Fr}function no(Cn,sr){var Wn;if(typeof Cn=="string")Wn=sr(Cn)[0];else if(Array.isArray(Cn)){for(var Fr,oo,ic=Cn.concat(),fl=[],ed=ic.length;ed--;)typeof(Fr=ic.shift())=="string"?fl.push(sr(Fr)[0]):Array.isArray(Fr)&&typeof Fr[0]=="string"&&(oo=sr(Fr[0],Fr[1],Fr[2]),fl.push([oo[0],oo[1],oo[2]]));Wn=fl}return Wn}var $a=!1,ol=!0;if(typeof M=="string")$a=!0;else if(Array.isArray(M)){var wf=M.concat();mt=[];for(var ll,ki=wf.length;ki--;)(typeof(ll=wf.shift())!="string"||Array.isArray(ll)&&typeof ll[0]!="string")&&(ol=!1);$a=ol}if($a===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Jc=et/gt.internal.scaleFactor,Ql=Jc*(Zn-1);switch(Ce.baseline){case"bottom":Ae-=Ql;break;case"top":Ae+=Jc-Ql;break;case"hanging":Ae+=Jc-2*Ql;break;case"middle":Ae+=Jc/2-Ql}if((J=Ce.maxWidth||0)>0&&(typeof M=="string"?M=gt.splitTextToSize(M,J):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce((function(Cn,sr){return Cn.concat(gt.splitTextToSize(sr,J))}),[]))),nt={text:M,x:se,y:Ae,options:Ce,mutex:{pdfEscape:Xr,activeFontKey:Vt,fonts:yn,activeFontSize:et}},bn.publish("preProcessText",nt),M=nt.text,Et=(Ce=nt.options).angle,!($e instanceof kt)&&Et&&typeof Et=="number"){Et*=Math.PI/180,Ce.rotationDirection===0&&(Et=-Et),F===P.ADVANCED&&(Et=-Et);var Zl=Math.cos(Et),Ku=Math.sin(Et);$e=new kt(Zl,Ku,-Ku,Zl,0,0)}else Et&&Et instanceof kt&&($e=Et);F!==P.ADVANCED||$e||($e=jr),($=Ce.charSpace||il)!==void 0&&(Nn+=O(R($))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Ce.horizontalScale)!==void 0&&(Nn+=O(100*je)+` Tz
`),Ce.lang;var Sa=-1,Sh=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Af=gt.internal.getCurrentPageInfo().pageContext;switch(Sh){case 0:case!1:case"fill":Sa=0;break;case 1:case!0:case"stroke":Sa=1;break;case 2:case"fillThenStroke":Sa=2;break;case 3:case"invisible":Sa=3;break;case 4:case"fillAndAddForClipping":Sa=4;break;case 5:case"strokeAndAddPathForClipping":Sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sa=6;break;case 7:case"addToPathForClipping":Sa=7}var Nh=Af.usedRenderingMode!==void 0?Af.usedRenderingMode:-1;Sa!==-1?Nn+=Sa+` Tr
`:Nh!==-1&&(Nn+=`0 Tr
`),Sa!==-1&&(Af.usedRenderingMode=Sa),_=Ce.align||"left";var Ts,Yu=et*Zn,Eh=gt.internal.pageSize.getWidth(),oa=yn[Vt];$=Ce.charSpace||il,J=Ce.maxWidth||0,he=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Cs=[],ec=function(Cn){return gt.getStringUnitWidth(Cn,{font:oa,charSpace:$,fontSize:et,doKerning:!1})*et/pr};if(Object.prototype.toString.call(M)==="[object Array]"){var Na;mt=Ri(M),_!=="left"&&(Ts=mt.map(ec));var la,cl=0;if(_==="right"){se-=Ts[0],M=[],ki=mt.length;for(var ro=0;ro<ki;ro++)ro===0?(la=Aa(se),Na=$r(Ae)):(la=R(cl-Ts[ro]),Na=-Yu),M.push([mt[ro],la,Na]),cl=Ts[ro]}else if(_==="center"){se-=Ts[0]/2,M=[],ki=mt.length;for(var ul=0;ul<ki;ul++)ul===0?(la=Aa(se),Na=$r(Ae)):(la=R((cl-Ts[ul])/2),Na=-Yu),M.push([mt[ul],la,Na]),cl=Ts[ul]}else if(_==="left"){M=[],ki=mt.length;for(var io=0;io<ki;io++)M.push(mt[io])}else if(_==="justify"&&oa.encoding==="Identity-H"){M=[],ki=mt.length,J=J!==0?J:Eh;for(var ao=0,Nr=0;Nr<ki;Nr++)if(Na=Nr===0?$r(Ae):-Yu,la=Nr===0?Aa(se):ao,Nr<ki-1){var Xc=R((J-Ts[Nr])/(mt[Nr].split(" ").length-1)),ca=mt[Nr].split(" ");M.push([ca[0]+" ",la,Na]),ao=0;for(var Pi=1;Pi<ca.length;Pi++){var so=(ec(ca[Pi-1]+" "+ca[Pi])-ec(ca[Pi]))*pr+Xc;Pi==ca.length-1?M.push([ca[Pi],so,0]):M.push([ca[Pi]+" ",so,0]),ao-=so}}else M.push([mt[Nr],la,Na]);M.push(["",ao,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],ki=mt.length,J=J!==0?J:Eh,Nr=0;Nr<ki;Nr++)Na=Nr===0?$r(Ae):-Yu,la=Nr===0?Aa(se):0,Nr<ki-1?Cs.push(O(R((J-Ts[Nr])/(mt[Nr].split(" ").length-1)))):Cs.push(0),M.push([mt[Nr],la,Na])}}var Ju=typeof Ce.R2L=="boolean"?Ce.R2L:it;Ju===!0&&(M=no(M,(function(Cn,sr,Wn){return[Cn.split("").reverse().join(""),sr,Wn]}))),nt={text:M,x:se,y:Ae,options:Ce,mutex:{pdfEscape:Xr,activeFontKey:Vt,fonts:yn,activeFontSize:et}},bn.publish("postProcessText",nt),M=nt.text,Xt=nt.mutex.isHex||!1;var Xu=yn[Vt].encoding;Xu!=="WinAnsiEncoding"&&Xu!=="StandardEncoding"||(M=no(M,(function(Cn,sr,Wn){return[to(Cn),sr,Wn]}))),mt=Ri(M),M=[];for(var hs,tc,dl,nc=0,Qu=1,Qc=Array.isArray(mt[0])?Qu:nc,rc="",Zu=function(Cn,sr,Wn){var Fr="";return Wn instanceof kt?(Wn=typeof Ce.angle=="number"?Ci(Wn,new kt(1,0,0,1,Cn,sr)):Ci(new kt(1,0,0,1,Cn,sr),Wn),F===P.ADVANCED&&(Wn=Ci(new kt(1,0,0,-1,0,0),Wn)),Fr=Wn.join(" ")+` Tm
`):Fr=O(Cn)+" "+O(sr)+` Td
`,Fr},ps=0;ps<mt.length;ps++){switch(rc="",Qc){case Qu:dl=(Xt?"<":"(")+mt[ps][0]+(Xt?">":")"),hs=parseFloat(mt[ps][1]),tc=parseFloat(mt[ps][2]);break;case nc:dl=(Xt?"<":"(")+mt[ps]+(Xt?">":")"),hs=Aa(se),tc=$r(Ae)}Cs!==void 0&&Cs[ps]!==void 0&&(rc=Cs[ps]+` Tw
`),ps===0?M.push(rc+Zu(hs,tc,$e)+dl):Qc===nc?M.push(rc+dl):Qc===Qu&&M.push(rc+Zu(hs,tc,$e)+dl)}M=Qc===nc?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Ha=`BT
/`;return Ha+=Vt+" "+et+` Tf
`,Ha+=O(et*Zn)+` TL
`,Ha+=eo+`
`,Ha+=Nn,Ha+=M,ne(Ha+="ET"),g[Vt]=!0,gt};var Gu=y.__private__.clip=y.clip=function(M){return ne(M==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Gu("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ne("n"),this};var Ua=y.__private__.isValidStyle=function(M){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(se=!0),se};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(M){return Ua(M)&&(f=M),this};var Wc=y.__private__.getStyle=y.getStyle=function(M){var se=f;switch(M){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=M}return se},Hi=y.close=function(){return ne("h"),this};y.stroke=function(){return ne("S"),this},y.fill=function(M){return aa("f",M),this},y.fillEvenOdd=function(M){return aa("f*",M),this},y.fillStroke=function(M){return aa("B",M),this},y.fillStrokeEvenOdd=function(M){return aa("B*",M),this};var aa=function(M,se){yr(se)==="object"?wa(se,M):ne(M)},nl=function(M){M===null||F===P.ADVANCED&&M===void 0||(M=Wc(M),ne(M))};function Es(M,se,Ae,Ce,Me){var nt=new bp(se||this.boundingBox,Ae||this.xStep,Ce||this.yStep,this.gState,Me||this.matrix);nt.stream=this.stream;var mt=M+"$$"+this.cloneIndex+++"$$";return qr(mt,nt),nt}var wa=function(M,se){var Ae=ci[M.key],Ce=gn[Ae];if(Ce instanceof qf)ne("q"),ne(Hl(se)),Ce.gState&&y.setGState(Ce.gState),ne(M.matrix.toString()+" cm"),ne("/"+Ae+" sh"),ne("Q");else if(Ce instanceof bp){var Me=new kt(1,0,0,-1,0,sa());M.matrix&&(Me=Me.multiply(M.matrix||jr),Ae=Es.call(Ce,M.key,M.boundingBox,M.xStep,M.yStep,Me).id),ne("q"),ne("/Pattern cs"),ne("/"+Ae+" scn"),Ce.gState&&y.setGState(Ce.gState),ne(se),ne("Q")}},Hl=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ba=y.moveTo=function(M,se){return ne(O(R(M))+" "+O(G(se))+" m"),this},Va=y.lineTo=function(M,se){return ne(O(R(M))+" "+O(G(se))+" l"),this},qa=y.curveTo=function(M,se,Ae,Ce,Me,nt){return ne([O(R(M)),O(G(se)),O(R(Ae)),O(G(Ce)),O(R(Me)),O(G(nt)),"c"].join(" ")),this};y.__private__.line=y.line=function(M,se,Ae,Ce,Me){if(isNaN(M)||isNaN(se)||isNaN(Ae)||isNaN(Ce)||!Ua(Me))throw new Error("Invalid arguments passed to jsPDF.line");return F===P.COMPAT?this.lines([[Ae-M,Ce-se]],M,se,[1,1],Me||"S"):this.lines([[Ae-M,Ce-se]],M,se,[1,1]).stroke()},y.__private__.lines=y.lines=function(M,se,Ae,Ce,Me,nt){var mt,Et,_,$,J,he,je,$e,gt,on,Nn,Xt;if(typeof M=="number"&&(Xt=Ae,Ae=se,se=M,M=Xt),Ce=Ce||[1,1],nt=nt||!1,isNaN(se)||isNaN(Ae)||!Array.isArray(M)||!Array.isArray(Ce)||!Ua(Me)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ba(se,Ae),mt=Ce[0],Et=Ce[1],$=M.length,on=se,Nn=Ae,_=0;_<$;_++)(J=M[_]).length===2?(on=J[0]*mt+on,Nn=J[1]*Et+Nn,Va(on,Nn)):(he=J[0]*mt+on,je=J[1]*Et+Nn,$e=J[2]*mt+on,gt=J[3]*Et+Nn,on=J[4]*mt+on,Nn=J[5]*Et+Nn,qa(he,je,$e,gt,on,Nn));return nt&&Hi(),nl(Me),this},y.path=function(M){for(var se=0;se<M.length;se++){var Ae=M[se],Ce=Ae.c;switch(Ae.op){case"m":Ba(Ce[0],Ce[1]);break;case"l":Va(Ce[0],Ce[1]);break;case"c":qa.apply(this,Ce);break;case"h":Hi()}}return this},y.__private__.rect=y.rect=function(M,se,Ae,Ce,Me){if(isNaN(M)||isNaN(se)||isNaN(Ae)||isNaN(Ce)||!Ua(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return F===P.COMPAT&&(Ce=-Ce),ne([O(R(M)),O(G(se)),O(R(Ae)),O(R(Ce)),"re"].join(" ")),nl(Me),this},y.__private__.triangle=y.triangle=function(M,se,Ae,Ce,Me,nt,mt){if(isNaN(M)||isNaN(se)||isNaN(Ae)||isNaN(Ce)||isNaN(Me)||isNaN(nt)||!Ua(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-M,Ce-se],[Me-Ae,nt-Ce],[M-Me,se-nt]],M,se,[1,1],mt,!0),this},y.__private__.roundedRect=y.roundedRect=function(M,se,Ae,Ce,Me,nt,mt){if(isNaN(M)||isNaN(se)||isNaN(Ae)||isNaN(Ce)||isNaN(Me)||isNaN(nt)||!Ua(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*Ae),nt=Math.min(nt,.5*Ce),this.lines([[Ae-2*Me,0],[Me*Et,0,Me,nt-nt*Et,Me,nt],[0,Ce-2*nt],[0,nt*Et,-Me*Et,nt,-Me,nt],[2*Me-Ae,0],[-Me*Et,0,-Me,-nt*Et,-Me,-nt],[0,2*nt-Ce],[0,-nt*Et,Me*Et,-nt,Me,-nt]],M+Me,se,[1,1],mt,!0),this},y.__private__.ellipse=y.ellipse=function(M,se,Ae,Ce,Me){if(isNaN(M)||isNaN(se)||isNaN(Ae)||isNaN(Ce)||!Ua(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*Ae,mt=4/3*(Math.SQRT2-1)*Ce;return Ba(M+Ae,se),qa(M+Ae,se-mt,M+nt,se-Ce,M,se-Ce),qa(M-nt,se-Ce,M-Ae,se-mt,M-Ae,se),qa(M-Ae,se+mt,M-nt,se+Ce,M,se+Ce),qa(M+nt,se+Ce,M+Ae,se+mt,M+Ae,se),nl(Me),this},y.__private__.circle=y.circle=function(M,se,Ae,Ce){if(isNaN(M)||isNaN(se)||isNaN(Ae)||!Ua(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,se,Ae,Ae,Ce)},y.setFont=function(M,se,Ae){return Ae&&(se=V(se,Ae)),Vt=wo(M,se,{disableWarning:!1}),this};var So=y.__private__.getFont=y.getFont=function(){return yn[wo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var M,se,Ae={};for(M in xn)if(xn.hasOwnProperty(M))for(se in Ae[M]=[],xn[M])xn[M].hasOwnProperty(se)&&Ae[M].push(se);return Ae},y.addFont=function(M,se,Ae,Ce,Me){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(Ae=V(Ae,Ce)),Me=Me||"Identity-H",Hc.call(this,M,se,Ae,Me)};var Xn,di=t.lineWidth||.200025,za=y.__private__.getLineWidth=y.getLineWidth=function(){return di},No=y.__private__.setLineWidth=y.setLineWidth=function(M){return di=M,ne(O(R(M))+" w"),this};y.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(M,se){if(M=M||[],se=se||0,isNaN(se)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map((function(Ae){return O(R(Ae))})).join(" "),se=O(R(se)),ne("["+M+"] "+se+" d"),this};var Xs=y.__private__.getLineHeight=y.getLineHeight=function(){return et*Xn};y.__private__.getLineHeight=y.getLineHeight=function(){return et*Xn};var Kc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Xn=M),this},Qs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Xn};Kc(t.lineHeight);var Aa=y.__private__.getHorizontalCoordinate=function(M){return R(M)},$r=y.__private__.getVerticalCoordinate=function(M){return F===P.ADVANCED?M:Mt[Y].mediaBox.topRightY-Mt[Y].mediaBox.bottomLeftY-R(M)},rl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(M){return O(Aa(M))},Zs=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(M){return O($r(M))},Gi=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return zt(Gi)},y.__private__.setStrokeColor=y.setDrawColor=function(M,se,Ae,Ce){return Gi=nn({ch1:M,ch2:se,ch3:Ae,ch4:Ce,pdfColorType:"draw",precision:2}),ne(Gi),this};var Gl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return zt(Gl)},y.__private__.setFillColor=y.setFillColor=function(M,se,Ae,Ce){return Gl=nn({ch1:M,ch2:se,ch3:Ae,ch4:Ce,pdfColorType:"fill",precision:2}),ne(Gl),this};var eo=t.textColor||"0 g",Eo=y.__private__.getTextColor=y.getTextColor=function(){return zt(eo)};y.__private__.setTextColor=y.setTextColor=function(M,se,Ae,Ce){return eo=nn({ch1:M,ch2:se,ch3:Ae,ch4:Ce,pdfColorType:"text",precision:3}),this};var il=t.charSpace,Wl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(il||0)};y.__private__.setCharSpace=y.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return il=M,this};var Yc=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(M){var se=y.CapJoinStyles[M];if(se===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yc=se,ne(se+" J"),this};var Kl=0;y.__private__.setLineJoin=y.setLineJoin=function(M){var se=y.CapJoinStyles[M];if(se===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=se,ne(se+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(O(R(M))+" M"),this},y.GState=v1,y.setGState=function(M){(M=typeof M=="string"?qn[Pr[M]]:To(null,M)).equals(Vr)||(ne("/"+M.id+" gs"),Vr=M)};var To=function(M,se){if(!M||!Pr[M]){var Ae=!1;for(var Ce in qn)if(qn.hasOwnProperty(Ce)&&qn[Ce].equals(se)){Ae=!0;break}if(Ae)se=qn[Ce];else{var Me="GS"+(Object.keys(qn).length+1).toString(10);qn[Me]=se,se.id=Me}return M&&(Pr[M]=se.id),bn.publish("addGState",se),se}};y.addGState=function(M,se){return To(M,se),this},y.saveGraphicsState=function(){return ne("q"),Ma.push({key:Vt,size:et,color:eo}),this},y.restoreGraphicsState=function(){ne("Q");var M=Ma.pop();return Vt=M.key,et=M.size,eo=M.color,Vr=null,this},y.setCurrentTransformationMatrix=function(M){return ne(M.toString()+" cm"),this},y.comment=function(M){return ne("#"+M),this};var Co=function(M,se){var Ae=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(nt){isNaN(nt)||(Ae=parseFloat(nt))}});var Ce=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(nt){isNaN(nt)||(Ce=parseFloat(nt))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(nt){Me=nt.toString()}}),this},Yl=function(M,se,Ae,Ce){Co.call(this,M,se),this.type="rect";var Me=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(mt){isNaN(mt)||(Me=parseFloat(mt))}});var nt=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(mt){isNaN(mt)||(nt=parseFloat(mt))}}),this},al=function(){this.page=Sn,this.currentPage=Y,this.pages=Ee.slice(0),this.pagesContext=Mt.slice(0),this.x=Hn,this.y=en,this.matrix=Jn,this.width=Io(Y),this.height=sa(Y),this.outputDestination=Je,this.id="",this.objectNumber=-1};al.prototype.restore=function(){Sn=this.page,Y=this.currentPage,Mt=this.pagesContext,Ee=this.pages,Hn=this.x,en=this.y,Jn=this.matrix,Xl(Y,this.width),sl(Y,this.height),Je=this.outputDestination};var Jl=function(M,se,Ae,Ce,Me){bi.push(new al),Sn=Y=0,Ee=[],Hn=M,en=se,Jn=Me,xr([Ae,Ce])},Wu=function(M){if(ui[M])bi.pop().restore();else{var se=new al,Ae="Xo"+(Object.keys(Or).length+1).toString(10);se.id=Ae,ui[M]=Ae,Or[Ae]=se,bn.publish("addFormObject",se),bi.pop().restore()}};for(var fs in y.beginFormObject=function(M,se,Ae,Ce,Me){return Jl(M,se,Ae,Ce,Me),this},y.endFormObject=function(M){return Wu(M),this},y.doFormObject=function(M,se){var Ae=Or[ui[M]];return ne("q"),ne(se.toString()+" cm"),ne("/"+Ae.id+" Do"),ne("Q"),this},y.getFormObject=function(M){var se=Or[ui[M]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},y.save=function(M,se){return M=M||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Uf(ql(us()),M),typeof Uf.unload=="function"&&rn.setTimeout&&setTimeout(Uf.unload,911),this):new Promise((function(Ae,Ce){try{var Me=Uf(ql(us()),M);typeof Uf.unload=="function"&&rn.setTimeout&&setTimeout(Uf.unload,911),Ae(Me)}catch(nt){Ce(nt.message)}}))},Jt.API)Jt.API.hasOwnProperty(fs)&&(fs==="events"&&Jt.API.events.length?(function(M,se){var Ae,Ce,Me;for(Me=se.length-1;Me!==-1;Me--)Ae=se[Me][0],Ce=se[Me][1],M.subscribe.apply(M,[Ae].concat(typeof Ce=="function"?[Ce]:Ce))})(bn,Jt.API.events):y[fs]=Jt.API[fs]);var Io=y.getPageWidth=function(M){return(Mt[M=M||Y].mediaBox.topRightX-Mt[M].mediaBox.bottomLeftX)/wt},Xl=y.setPageWidth=function(M,se){Mt[M].mediaBox.topRightX=se*wt+Mt[M].mediaBox.bottomLeftX},sa=y.getPageHeight=function(M){return(Mt[M=M||Y].mediaBox.topRightY-Mt[M].mediaBox.bottomLeftY)/wt},sl=y.setPageHeight=function(M,se){Mt[M].mediaBox.topRightY=se*wt+Mt[M].mediaBox.bottomLeftY};return y.internal={pdfEscape:Xr,getStyle:Wc,getFont:So,getFontSize:rt,getCharSpace:Wl,getTextColor:Eo,getLineHeight:Xs,getLineHeightFactor:Qs,getLineWidth:za,write:Be,getHorizontalCoordinate:Aa,getVerticalCoordinate:$r,getCoordinateString:rl,getVerticalCoordinateString:Zs,collections:{},newObject:cr,newAdditionalObject:Yt,newObjectDeferred:de,newObjectDeferredBegin:Xe,getFilters:Ue,putStream:Ct,events:bn,scaleFactor:wt,pageSize:{getWidth:function(){return Io(Y)},setWidth:function(M){Xl(Y,M)},getHeight:function(){return sa(Y)},setHeight:function(M){sl(Y,M)}},encryptionOptions:h,encryption:zn,getEncryptor:$l,output:zl,getNumberOfPages:Dn,pages:Ee,out:ne,f2:H,f3:U,getPageInfo:tl,getPageInfoByObjId:Gt,getCurrentPageInfo:_a,getPDFVersion:A,Point:Co,Rectangle:Yl,Matrix:kt,hasHotfix:ds},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Io(Y)},set:function(M){Xl(Y,M)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return sa(Y)},set:function(M){sl(Y,M)},enumerable:!0,configurable:!0}),Vl.call(y,ze),Vt="F1",Js(i,n),bn.publish("initialized"),y}up.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},up.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},up.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},up.prototype.processOwnerPassword=function(t,e){return yE(vE(e).substr(0,5),t)},up.prototype.encryptor=function(t,e){var n=vE(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return yE(n,r)}},v1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||yr(t)!==yr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Jt.API={events:[]},Jt.version="2.5.2";var mi=Jt.API,wC=1,yh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},op=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(t){return t.toFixed(2)},Nd=function(t){return t.toFixed(5)};mi.__acroform__={};var Gs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},hM=function(t){return t*wC},yc=function(t){var e=new RB,n=Ut.internal.getHeight(t)||0,r=Ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(pn(r)),Number(pn(n))],e},efe=mi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},tfe=mi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},nfe=mi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Si=mi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nfe(t,e-1)},Ni=mi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return efe(t,e-1)},Ei=mi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tfe(t,e-1)},rfe=mi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(a)||0,[Number(pn(c.lowerLeft_X)),Number(pn(c.lowerLeft_Y)),Number(pn(c.upperRight_X)),Number(pn(c.upperRight_Y))]},ife=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=xE(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+pn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=yc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},xE=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map((function(U){return U.split(`
`)})):i.map((function(U){return[U]}));var a=n,s=Ut.internal.getHeight(t)||0;s=s<0?-s:s;var l=Ut.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(U,R,C){if(U+1<i.length){var G=R+" "+i[U+1][0];return Cy(G,t,C).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,h,m=Cy("3",t,a).height,g=t.multiline?s-a:(s-m)/2,y=g+=2,E=0,A=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Cy(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var I="",P=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var B=!1;if(i[F].length!==1&&S!==i[F].length-1){if((m+2)*(P+2)+2>s)continue e;I+=i[F][S],B=!0,A=F,F--}else{I=(I+=i[F][S]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var j=parseInt(F),V=c(j,I,a),O=F>=i.length-1;if(V&&!O){I+=" ",S=0;continue}if(V||O){if(O)A=j;else if(t.multiline&&(m+2)*(P+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(P+2)+2>s)continue e;A=j}}for(var D="",z=E;z<=A;z++){var H=i[z];if(t.multiline){if(z===A){D+=H[S]+" ",S=(S+1)%H.length;continue}if(z===E){D+=H[H.length-1]+" ";continue}}D+=H[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=Cy(D,t,a).width,t.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;case"left":default:f=2}e+=pn(f)+" "+pn(y)+` Td
`,e+="("+yh(D)+`) Tj
`,e+=-pn(f)+` 0 Td
`,y=-(a+2),h=0,E=B?A:A+1,P++,I=""}break}return r.text=e,r.fontSize=a,r},Cy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},afe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sfe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},ofe=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),yr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},lfe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ll.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(afe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kB,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&sfe(a,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],f=l.Rect;if(l.Rect&&(l.Rect=rfe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ut.createDefaultAppearanceStream(l),yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=ife(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var y=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var s in y)if(y.hasOwnProperty(s)){var E=y[s];typeof E=="function"&&(E=E.call(i,l)),m+="/"+s+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(i,l)),m+="/"+s+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&ofe(i.internal.acroformPlugin.xForms,i)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},IB=mi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),yr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+yh(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},NS=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+yh(r(t))+")"},Ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ac.prototype.toString=function(){return this.objId+" 0 R"},Ac.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ac.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:IB(i,this.objId,this.scope)}):i instanceof Ac?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var RB=function(){Ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Gs(RB,Ac);var kB=function(){Ac.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yh(n(t))+")"}},set:function(n){t=n}})};Gs(kB,Ac);var Ll=function t(){Ac.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Si(e,3)},set:function(I){I?this.F=Ni(e,3):this.F=Ei(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof y1)return;a="FieldObject"+t.FieldNum++}var I=function(P){return P};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+yh(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(I){s=I}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/wC:f},set:function(I){f=I}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof y1||this instanceof Zf))return NS(m,this.objId,this.scope)},set:function(I){I=I.toString(),m=I}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ga?g:NS(g,this.objId,this.scope)},set:function(I){I=I.toString(),g=this instanceof ga?I:I.substr(0,1)==="("?op(I.substr(1,I.length-2)):op(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga?op(g.substr(1,g.length-1)):g},set:function(I){I=I.toString(),g=this instanceof ga?"/"+I:I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ga?y:NS(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof ga?I:I.substr(0,1)==="("?op(I.substr(1,I.length-2)):op(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga?op(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof ga?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(I){I=!!I,A=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,1)},set:function(I){I?this.Ff=Ni(this.Ff,1):this.Ff=Ei(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,2)},set:function(I){I?this.Ff=Ni(this.Ff,2):this.Ff=Ei(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,3)},set:function(I){I?this.Ff=Ni(this.Ff,3):this.Ff=Ei(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');S=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(S){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};Gs(Ll,Ac);var Ip=function(){Ll.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IB(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,f=[];c=s.exec(a);)f.push(c[l]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,18)},set:function(n){n?this.Ff=Ni(this.Ff,18):this.Ff=Ei(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ni(this.Ff,19):this.Ff=Ei(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,20)},set:function(n){n?(this.Ff=Ni(this.Ff,20),e.sort()):this.Ff=Ei(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,22)},set:function(n){n?this.Ff=Ni(this.Ff,22):this.Ff=Ei(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,23)},set:function(n){n?this.Ff=Ni(this.Ff,23):this.Ff=Ei(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,27)},set:function(n){n?this.Ff=Ni(this.Ff,27):this.Ff=Ei(this.Ff,27)}}),this.hasAppearanceStream=!1};Gs(Ip,Ll);var Rp=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};Gs(Rp,Ip);var kp=function(){Rp.call(this),this.combo=!0};Gs(kp,Rp);var Wy=function(){kp.call(this),this.edit=!0};Gs(Wy,kp);var ga=function(){Ll.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,15)},set:function(n){n?this.Ff=Ni(this.Ff,15):this.Ff=Ei(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,16)},set:function(n){n?this.Ff=Ni(this.Ff,16):this.Ff=Ei(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,17)},set:function(n){n?this.Ff=Ni(this.Ff,17):this.Ff=Ei(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,26)},set:function(n){n?this.Ff=Ni(this.Ff,26):this.Ff=Ei(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){yr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Gs(ga,Ll);var Ky=function(){ga.call(this),this.pushButton=!0};Gs(Ky,ga);var Pp=function(){ga.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Gs(Pp,ga);var y1=function(){var t,e;Ll.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+yh(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){yr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gs(y1,Ll),Pp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Pp.prototype.createOption=function(t){var e=new y1;return e.Parent=this,e.optionName=t,this.Kids.push(e),cfe.call(this.scope,e),e};var Yy=function(){ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};Gs(Yy,ga);var Zf=function(){Ll.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,13)},set:function(e){e?this.Ff=Ni(this.Ff,13):this.Ff=Ei(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,21)},set:function(e){e?this.Ff=Ni(this.Ff,21):this.Ff=Ei(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,23)},set:function(e){e?this.Ff=Ni(this.Ff,23):this.Ff=Ei(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,24)},set:function(e){e?this.Ff=Ni(this.Ff,24):this.Ff=Ei(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,25)},set:function(e){e?this.Ff=Ni(this.Ff,25):this.Ff=Ei(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,26)},set:function(e){e?this.Ff=Ni(this.Ff,26):this.Ff=Ei(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gs(Zf,Ll);var Jy=function(){Zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,14)},set:function(t){t?this.Ff=Ni(this.Ff,14):this.Ff=Ei(this.Ff,14)}}),this.password=!0};Gs(Jy,Zf);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=yc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=xE(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=yc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Ut.internal.getHeight(t),s=Ut.internal.getWidth(t),l=xE(t,t.caption);return i.push("1 g"),i.push("0 0 "+pn(s)+" "+pn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pn(s-1)+" "+pn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+pn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=yc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Circle.YesNormal,e.D[t]=Ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=yc(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ut.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=yc(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ut.internal.Bezier_C).toFixed(5)),s=Number((r*Ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=yc(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Cross.YesNormal,e.D[t]=Ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=yc(t);e.scope=t.scope;var n=[],r=Ut.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+pn(Ut.internal.getWidth(t)-2)+" "+pn(Ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),n.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),n.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),n.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=yc(t);e.scope=t.scope;var n=Ut.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pn(Ut.internal.getWidth(t)-2)+" "+pn(Ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(n.x1.x)+" "+pn(n.x1.y)+" m"),r.push(pn(n.x2.x)+" "+pn(n.x2.y)+" l"),r.push(pn(n.x4.x)+" "+pn(n.x4.y)+" m"),r.push(pn(n.x3.x)+" "+pn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=yc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ut.internal.getWidth(t),n=Ut.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ut.internal.getWidth=function(t){var e=0;return yr(t)==="object"&&(e=hM(t.Rect[2])),e},Ut.internal.getHeight=function(t){var e=0;return yr(t)==="object"&&(e=hM(t.Rect[3])),e};var cfe=mi.addField=function(t){if(lfe(this,t),!(t instanceof Ll))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=Ip,mi.AcroFormListBox=Rp,mi.AcroFormComboBox=kp,mi.AcroFormEditBox=Wy,mi.AcroFormButton=ga,mi.AcroFormPushButton=Ky,mi.AcroFormRadioButton=Pp,mi.AcroFormCheckBox=Yy,mi.AcroFormTextField=Zf,mi.AcroFormPasswordField=Jy,mi.AcroFormAppearance=Ut,mi.AcroForm={ChoiceField:Ip,ListBox:Rp,ComboBox:kp,EditBox:Wy,Button:ga,PushButton:Ky,RadioButton:Pp,CheckBox:Yy,TextField:Zf,PasswordField:Jy,Appearance:Ut},Jt.AcroForm={ChoiceField:Ip,ListBox:Rp,ComboBox:kp,EditBox:Wy,Button:ga,PushButton:Ky,RadioButton:Pp,CheckBox:Yy,TextField:Zf,PasswordField:Jy,Appearance:Ut};Jt.AcroForm;function PB(t){return t.reduce((function(e,n,r){return e[n]=r,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(U,R){var C,G,le,W,te,re=e;if((R=R||e)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(V(U))for(te in n)for(le=n[te],C=0;C<le.length;C+=1){for(W=!0,G=0;G<le[C].length;G+=1)if(le[C][G]!==void 0&&le[C][G]!==U[G]){W=!1;break}if(W===!0){re=te;break}}else for(te in n)for(le=n[te],C=0;C<le.length;C+=1){for(W=!0,G=0;G<le[C].length;G+=1)if(le[C][G]!==void 0&&le[C][G]!==U.charCodeAt(G)){W=!1;break}if(W===!0){re=te;break}}return re===e&&R!==e&&(re=R),re},i=function U(R){for(var C=this.internal.write,G=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:R.width}),W.push({key:"Height",value:R.height}),R.colorSpace===S.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===S.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var te="",re=0,ve=R.transparency.length;re<ve;re++)te+=R.transparency[re]+" "+R.transparency[re]+" ";W.push({key:"Mask",value:"["+te+"]"})}R.sMask!==void 0&&W.push({key:"SMask",value:R.objectId+1+" 0 R"});var we=R.filter!==void 0?["/"+R.filter]:void 0;if(G({data:R.data,additionalKeyValues:W,alreadyAppliedFilters:we,objectId:R.objectId}),C("endobj"),"sMask"in R&&R.sMask!==void 0){var ie="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,L={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ie,data:R.sMask};"filter"in R&&(L.filter=R.filter),U.call(this,L)}if(R.colorSpace===S.INDEXED){var Y=this.internal.newObject();G({data:D(new Uint8Array(R.palette)),objectId:Y}),C("endobj")}},a=function(){var U=this.internal.collections.addImage_images;for(var R in U)i.call(this,U[R])},s=function(){var U,R=this.internal.collections.addImage_images,C=this.internal.write;for(var G in R)C("/I"+(U=R[G]).index,U.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var U=this.internal.collections.addImage_images;return l.call(this),U},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(U){return typeof t["process"+U.toUpperCase()]=="function"},m=function(U){return yr(U)==="object"&&U.nodeType===1},g=function(U,R){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var C=""+U.getAttribute("src");if(C.indexOf("data:image/")===0)return Jg(unescape(C).split("base64,").pop());var G=t.loadFile(C,!0);if(G!==void 0)return G}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var le;switch(R){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return Jg(U.toDataURL(le,1).split("base64,").pop())}},y=function(U){var R=this.internal.collections.addImage_images;if(R){for(var C in R)if(U===R[C].alias)return R[C]}},E=function(U,R,C){return U||R||(U=-96,R=-96),U<0&&(U=-1*C.width*72/U/this.internal.scaleFactor),R<0&&(R=-1*C.height*72/R/this.internal.scaleFactor),U===0&&(U=R*C.width/C.height),R===0&&(R=U*C.height/C.width),[U,R]},A=function(U,R,C,G,le,W){var te=E.call(this,C,G,le),re=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,we=c.call(this);if(C=te[0],G=te[1],we[le.index]=le,W){W*=Math.PI/180;var ie=Math.cos(W),L=Math.sin(W),Y=function(X){return X.toFixed(4)},ee=[Y(ie),Y(L),Y(-1*L),Y(ie),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,re(U),ve(R+G),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([re(C),"0","0",re(G),"0","0","cm"].join(" "))):this.internal.write([re(C),"0","0",re(G),re(U),ve(R+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(U){var R,C,G=0;if(typeof U=="string")for(C=U.length,R=0;R<C;R++)G=(G<<5)-G+U.charCodeAt(R),G|=0;else if(V(U))for(C=U.byteLength/2,R=0;R<C;R++)G=(G<<5)-G+U[R],G|=0;return G},F=t.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var R=!0;return U.length===0&&(R=!1),U.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(R=!1),R},B=t.__addimage__.extractImageFromDataUrl=function(U){var R=(U=U||"").split("base64,"),C=null;if(R.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(G)&&(C={mimeType:G[1],charset:G[2],data:R[1]})}return C},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(U){return j()&&U instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(U){return j()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},O=t.__addimage__.binaryStringToUint8Array=function(U){for(var R=U.length,C=new Uint8Array(R),G=0;G<R;G++)C[G]=U.charCodeAt(G);return C},D=t.__addimage__.arrayBufferToBinaryString=function(U){for(var R="",C=V(U)?U:new Uint8Array(U),G=0;G<C.length;G+=8192)R+=String.fromCharCode.apply(null,C.subarray(G,G+8192));return R};t.addImage=function(){var U,R,C,G,le,W,te,re,ve;if(typeof arguments[1]=="number"?(R=e,C=arguments[1],G=arguments[2],le=arguments[3],W=arguments[4],te=arguments[5],re=arguments[6],ve=arguments[7]):(R=arguments[1],C=arguments[2],G=arguments[3],le=arguments[4],W=arguments[5],te=arguments[6],re=arguments[7],ve=arguments[8]),yr(U=arguments[0])==="object"&&!m(U)&&"imageData"in U){var we=U;U=we.imageData,R=we.format||R||e,C=we.x||C||0,G=we.y||G||0,le=we.w||we.width||le,W=we.h||we.height||W,te=we.alias||te,re=we.compression||re,ve=we.rotation||we.angle||ve}var ie=this.internal.getFilters();if(re===void 0&&ie.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(C)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=z.call(this,U,R,te,re);return A.call(this,C,G,le,W,L,ve),this};var z=function(U,R,C,G){var le,W,te;if(typeof U=="string"&&r(U)===e){U=unescape(U);var re=H(U,!1);(re!==""||(re=t.loadFile(U,!0))!==void 0)&&(U=re)}if(m(U)&&(U=g(U,R)),R=r(U,R),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((te=C)==null||te.length===0)&&(C=(function(ve){return typeof ve=="string"||V(ve)?P(ve):V(ve.data)?P(ve.data):null})(U)),(le=y.call(this,C))||(j()&&(U instanceof Uint8Array||R==="RGBA"||(W=U,U=O(U))),le=this["process"+R.toUpperCase()](U,f.call(this),C,(function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in t.image_compression?ve:I.NONE})(G),W)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},H=t.__addimage__.convertBase64ToBinaryString=function(U,R){var C;R=typeof R!="boolean"||R;var G,le="";if(typeof U=="string"){G=(C=B(U))!==null?C.data:U;try{le=Jg(G)}catch(W){if(R)throw F(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};t.getImageProperties=function(U){var R,C,G="";if(m(U)&&(U=g(U)),typeof U=="string"&&r(U)===e&&((G=H(U,!1))===""&&(G=t.loadFile(U)||""),U=G),C=r(U),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(!j()||U instanceof Uint8Array||(U=O(U)),!(R=this["process"+C.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=C,R}})(Jt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Jt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((r=f[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(A.objId),P=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+y(I(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+y(I(P))+") >>",A.content=a;var F=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(A.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(E(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var V=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+i),h:f(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,l,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;s=Math.ceil(f*h)}else l=c,s=f;return this.text(n,r,i,a),i+=.2*f,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-f,l,s,a),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Jt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(A){return s(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(A){var S=0,I=n,P="",F=0;for(S=0;S<A.length;S+=1)I[A.charCodeAt(S)]!==void 0?(F++,typeof(I=I[A.charCodeAt(S)])=="number"&&(P+=String.fromCharCode(I),I=n,F=0),S===A.length-1&&(I=n,P+=A.charAt(S-(F-1)),S-=F-1,F=0)):(I=n,P+=A.charAt(S-F),S-=F,F=0);return P};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(A,S,I){return s(A)?a(A)===!1?-1:!f(A)||!s(S)&&!s(I)||!s(I)&&l(S)||l(A)&&!s(S)||l(A)&&c(S)||l(A)&&l(S)?0:h(A)&&s(S)&&!l(S)&&s(I)&&f(I)?3:l(A)||!s(I)?1:2:-1},y=function(A){var S=0,I=0,P=0,F="",B="",j="",V=(A=A||"").split("\\s+"),O=[];for(S=0;S<V.length;S+=1){for(O.push(""),I=0;I<V[S].length;I+=1)F=V[S][I],B=V[S][I-1],j=V[S][I+1],s(F)?(P=g(F,B,j),O[S]+=P!==-1?String.fromCharCode(e[F.charCodeAt(0)][P]):F):O[S]+=F;O[S]=m(O[S])}return O.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var A,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(S)){var P=0;for(I=[],P=0;P<S.length;P+=1)Array.isArray(S[P])?I.push([y(S[P][0]),S[P][1],S[P][2]]):I.push([y(S[P])]);A=I}else A=y(S);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",E])})(Jt.API),Jt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Jt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(A){E=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,y=0,E=0,A=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var I=f.maxWidth;I>0?typeof c=="string"?c=this.splitTextToSize(c,I):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(F,B){return F.concat(S.splitTextToSize(B,I))}),[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)y<(A=this.getStringUnitWidth(c[P],{font:m})*h)&&(y=A);return y!==0&&(E=c.length),{w:y/=g,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,h,m,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var y,E,A,S,I=[],P=[],F=[],B={},j={},V=[],O=[],D=(g=g||{}).autoSize||!1,z=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,U=g.margins||Object.assign({width:this.getPageWidth()},e),R=typeof g.padding=="number"?g.padding:3,C=g.headerBackgroundColor||"#c8c8c8",G=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=G,this.setFontSize(H),m==null)P=I=Object.keys(h[0]),F=I.map((function(){return"left"}));else if(Array.isArray(m)&&yr(m[0])==="object")for(I=m.map((function(we){return we.name})),P=m.map((function(we){return we.prompt||we.name||""})),F=m.map((function(we){return we.align||"left"})),y=0;y<m.length;y+=1)j[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(P=I=m,F=I.map((function(){return"left"})));if(D||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<I.length;y+=1){for(B[S=I[y]]=h.map((function(we){return we[S]})),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(P[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[S],this.setFont(void 0,"normal"),A=0;A<E.length;A+=1)V.push(this.getTextDimensions(E[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[S]=Math.max.apply(null,V)+R+R,V=[]}if(z){var le={};for(y=0;y<I.length;y+=1)le[I[y]]={},le[I[y]].text=P[y],le[I[y]].align=F[y];var W=l.call(this,le,j);O=I.map((function(we){return new a(c,f,j[we],W,le[we].text,void 0,le[we].align)})),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var te=m.reduce((function(we,ie){return we[ie.name]=ie.align,we}),{});for(y=0;y<h.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:h[y]},this);var re=l.call(this,h[y],j);for(A=0;A<I.length;A+=1){var ve=h[y][I[A]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:A,data:ve},this),s.call(this,new a(c,f,j[I[A]],re,ve,y+2,te[I[A]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map((function(y){var E=c[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[y]-h-h)}),this).map((function(y){return this.getLineHeightFactor()*y.length*m/g+h+h}),this).reduce((function(y,E){return Math.max(y,E)}),0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){h=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(E)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(Jt.API);var OB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bE=PB(jB),DB=[100,200,300,400,500,600,700,800,900],ufe=PB(DB);function _E(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return OB[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(t.weight),i=(function(a){return typeof bE[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function pM(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var dfe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gM(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ffe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},dfe,n.genericFontFamilies||{}),a=null,s=null,l=0;l<e.length;++l)if(i[(a=_E(e[l])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+gM(a)+"' and default family '"+r+"'.");if(s=(function(c,f){if(f[c])return f[c];var h=bE[c],m=h<=bE.normal?-1:1,g=pM(f,jB,h,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g})(a.stretch,s),s=(function(c,f){if(f[c])return f[c];for(var h=OB[c],m=0;m<h.length;++m)if(f[h[m]])return f[h[m]];throw new Error("Could not find a matching font-style for "+c)})(a.style,s),!(s=(function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var h=ufe[c],m=pM(f,DB,h,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m})(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+gM(a)+"'.");return s}function vM(t){return t.trimLeft()}function hfe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function pfe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Iy,yM,xM,ES=["times"];(function(t){var e,n,r,i,a,s,l,c,f,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var m=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=L;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Ne){ee=!!Ne}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ne){X=!!Ne}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Ne){isNaN(Ne)||(Q=Ne)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ne){var ne;typeof Ne=="number"?ne=[Ne,Ne,Ne,Ne]:((ne=new Array(4))[0]=Ne[0],ne[1]=Ne.length>=2?Ne[1]:ne[0],ne[2]=Ne.length>=3?Ne[2]:ne[0],ne[3]=Ne.length>=4?Ne[3]:ne[1]),f.margin=ne}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Ne){be=Ne}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ne){ae=Ne}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Ne){Se=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ne){Ne instanceof h&&(f=Ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ne){f.path=Ne}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Ne){Ee=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var ne;ne=g(Ne),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var ne=g(Ne);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var _e=null;function Je(Ne,ne){if(_e===null){var Be=(function(Ze){var ze=[];return Object.keys(Ze).forEach((function(et){Ze[et].forEach((function(Ke){var rt=null;switch(Ke){case"bold":rt={family:et,weight:"bold"};break;case"italic":rt={family:et,style:"italic"};break;case"bolditalic":rt={family:et,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:et}}rt!==null&&(rt.ref={name:et,style:Ke},ze.push(rt))}))})),ze})(Ne.getFontList());_e=(function(Ze){for(var ze={},et=0;et<Ze.length;++et){var Ke=_E(Ze[et]),rt=Ke.family,it=Ke.stretch,We=Ke.style,yt=Ke.weight;ze[rt]=ze[rt]||{},ze[rt][it]=ze[rt][it]||{},ze[rt][it][We]=ze[rt][it][We]||{},ze[rt][it][We][yt]=Ke}return ze})(Be.concat(ne))}return _e}var Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Ne){_e=null,Fe=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var ne;if(this.ctx.font=Ne,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Be=ne[1],Ze=(ne[2],ne[3]),ze=ne[4],et=(ne[5],ne[6]),Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(Ke==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var rt=(function(Tt){var Vt,wt,Hn=[],en=Tt.trim();if(en==="")return ES;if(en in mM)return[mM[en]];for(;en!=="";){switch(wt=null,Vt=(en=vM(en)).charAt(0)){case'"':case"'":wt=hfe(en.substring(1),Vt);break;default:wt=pfe(en)}if(wt===null||(Hn.push(wt[0]),(en=vM(wt[1]))!==""&&en.charAt(0)!==","))return ES;en=en.replace(/^,/,"")}return Hn})(et);if(this.fontFaces){var it=ffe(Je(this.pdf,this.fontFaces),rt.map((function(Tt){return{family:Tt,stretch:"normal",weight:Ze,style:Be}})));this.pdf.setFont(it.ref.name,it.ref.style)}else{var We="";(Ze==="bold"||parseInt(Ze,10)>=700||Be==="bold")&&(We="bold"),Be==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var yt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<rt.length;At++){if(this.pdf.internal.getFont(rt[At],We,{noFallback:!0,disableWarning:!0})!==void 0){yt=rt[At];break}if(We==="bolditalic"&&this.pdf.internal.getFont(rt[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=rt[At],We="bold";else if(this.pdf.internal.getFont(rt[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=rt[At],We="normal";break}}if(yt===""){for(var Dt=0;Dt<rt.length;Dt++)if(bt[rt[Dt]]){yt=bt[rt[Dt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};m.prototype.setLineDash=function(L){this.lineDash=L},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){B.call(this,"fill",!1)},m.prototype.stroke=function(){B.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(L,Y));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(L,Y)},m.prototype.closePath=function(){var L=new s(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&yr(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){L=new s(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},m.prototype.lineTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(L,Y));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},m.prototype.quadraticCurveTo=function(L,Y,ee,X){if(isNaN(ee)||isNaN(X)||isNaN(L)||isNaN(Y))throw Ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(ee,X)),ge=this.ctx.transform.applyToPoint(new s(L,Y));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},m.prototype.bezierCurveTo=function(L,Y,ee,X,Q,ge){if(isNaN(Q)||isNaN(ge)||isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X))throw Ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(Q,ge)),ae=this.ctx.transform.applyToPoint(new s(L,Y)),Se=this.ctx.transform.applyToPoint(new s(ee,X));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Se.x,y2:Se.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},m.prototype.arc=function(L,Y,ee,X,Q,ge){if(isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X)||isNaN(Q))throw Ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(L,Y));L=be.x,Y=be.y;var ae=this.ctx.transform.applyToPoint(new s(0,ee)),Se=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(ae.x-Se.x,2)+Math.pow(ae.y-Se.y,2))}Math.abs(Q-X)>=2*Math.PI&&(X=0,Q=2*Math.PI),this.path.push({type:"arc",x:L,y:Y,radius:ee,startAngle:X,endAngle:Q,counterclockwise:ge})},m.prototype.arcTo=function(L,Y,ee,X,Q){throw new Error("arcTo not implemented.")},m.prototype.rect=function(L,Y,ee,X){if(isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X))throw Ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,Y),this.lineTo(L+ee,Y),this.lineTo(L+ee,Y+X),this.lineTo(L,Y+X),this.lineTo(L,Y),this.lineTo(L+ee,Y),this.lineTo(L,Y)},m.prototype.fillRect=function(L,Y,ee,X){if(isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X))throw Ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,Y,ee,X),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},m.prototype.strokeRect=function(L,Y,ee,X){if(isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X))throw Ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(L,Y,ee,X),this.stroke())},m.prototype.clearRect=function(L,Y,ee,X){if(isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X))throw Ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,Y,ee,X))},m.prototype.save=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},m.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(L){var Y,ee,X,Q;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))Y=0,ee=0,X=0,Q=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ge!==null)Y=parseInt(ge[1]),ee=parseInt(ge[2]),X=parseInt(ge[3]),Q=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)Y=parseInt(ge[1]),ee=parseInt(ge[2]),X=parseInt(ge[3]),Q=parseFloat(ge[4]);else{if(Q=1,typeof L=="string"&&L.charAt(0)!=="#"){var be=new EB(L);L=be.ok?be.toHex():"#000000"}L.length===4?(Y=L.substring(1,2),Y+=Y,ee=L.substring(2,3),ee+=ee,X=L.substring(3,4),X+=X):(Y=L.substring(1,3),ee=L.substring(3,5),X=L.substring(5,7)),Y=parseInt(Y,16),ee=parseInt(ee,16),X=parseInt(X,16)}}return{r:Y,g:ee,b:X,a:Q,style:L}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(L,Y,ee,X){if(isNaN(Y)||isNaN(ee)||typeof L!="string")throw Ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!y.call(this)){var Q=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;R.call(this,{text:L,x:Y,y:ee,scale:ge,angle:Q,align:this.textAlign,maxWidth:X})}},m.prototype.strokeText=function(L,Y,ee,X){if(isNaN(Y)||isNaN(ee)||typeof L!="string")throw Ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){X=isNaN(X)?void 0:X;var Q=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;R.call(this,{text:L,x:Y,y:ee,scale:ge,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:X})}},m.prototype.measureText=function(L){if(typeof L!="string")throw Ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ee=this.pdf.internal.scaleFactor,X=Y.internal.getFontSize(),Q=Y.getStringUnitWidth(L)*X/Y.internal.scaleFactor,ge=function(be){var ae=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new ge({width:Q*=Math.round(96*ee/72*1e4)/1e4})},m.prototype.scale=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(L,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.rotate=function(L){if(isNaN(L))throw Ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,L,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.transform=function(L,Y,ee,X,Q,ge){if(isNaN(L)||isNaN(Y)||isNaN(ee)||isNaN(X)||isNaN(Q)||isNaN(ge))throw Ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(L,Y,ee,X,Q,ge);this.ctx.transform=this.ctx.transform.multiply(be)},m.prototype.setTransform=function(L,Y,ee,X,Q,ge){L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,X=isNaN(X)?1:X,Q=isNaN(Q)?0:Q,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(L,Y,ee,X,Q,ge)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(L,Y,ee,X,Q,ge,be,ae,Se){var Ee=this.pdf.getImageProperties(L),_e=1,Je=1,Fe=1,Ne=1;X!==void 0&&ae!==void 0&&(Fe=ae/X,Ne=Se/Q,_e=Ee.width/X*ae/X,Je=Ee.height/Q*Se/Q),ge===void 0&&(ge=Y,be=ee,Y=0,ee=0),X!==void 0&&ae===void 0&&(ae=X,Se=Q),X===void 0&&ae===void 0&&(ae=Ee.width,Se=Ee.height);for(var ne,Be=this.ctx.transform.decompose(),Ze=re(Be.rotate.shx),ze=new c,et=(ze=(ze=(ze=ze.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new l(ge-Y*Fe,be-ee*Ne,X*_e,Q*Je)),Ke=S.call(this,et),rt=[],it=0;it<Ke.length;it+=1)rt.indexOf(Ke[it])===-1&&rt.push(Ke[it]);if(F(rt),this.autoPaging)for(var We=rt[0],yt=rt[rt.length-1],bt=We;bt<yt+1;bt++){this.pdf.setPage(bt);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=bt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=bt===1?0:Tt+(bt-2)*Vt;if(this.ctx.clip_path.length!==0){var Hn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ne,this.posX+this.margin[3],-wt+Dt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Hn}var en=JSON.parse(JSON.stringify(et));en=P([en],this.posX+this.margin[3],-wt+Dt+this.ctx.prevPageLastElemOffset)[0];var Jn=(bt>We||bt<yt)&&A.call(this);Jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Vt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",en.x,en.y,en.w,en.h,null,null,Ze),Jn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",et.x,et.y,et.w,et.h,null,null,Ze)};var S=function(L,Y,ee){var X=[];Y=Y||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":X.push(Math.floor((L.y+Q)/ee)+1);break;case"arc":X.push(Math.floor((L.y+Q-L.radius)/ee)+1),X.push(Math.floor((L.y+Q+L.radius)/ee)+1);break;case"qct":var ge=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);X.push(Math.floor((ge.y+Q)/ee)+1),X.push(Math.floor((ge.y+ge.h+Q)/ee)+1);break;case"bct":var be=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);X.push(Math.floor((be.y+Q)/ee)+1),X.push(Math.floor((be.y+be.h+Q)/ee)+1);break;case"rect":X.push(Math.floor((L.y+Q)/ee)+1),X.push(Math.floor((L.y+L.h+Q)/ee)+1)}for(var ae=0;ae<X.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<X[ae];)I.call(this);return X},I=function(){var L=this.fillStyle,Y=this.strokeStyle,ee=this.font,X=this.lineCap,Q=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=Y,this.font=ee,this.lineCap=X,this.lineWidth=Q,this.lineJoin=ge},P=function(L,Y,ee){for(var X=0;X<L.length;X++)switch(L[X].type){case"bct":L[X].x2+=Y,L[X].y2+=ee;case"qct":L[X].x1+=Y,L[X].y1+=ee;case"mt":case"lt":case"arc":default:L[X].x+=Y,L[X].y+=ee}return L},F=function(L){return L.sort((function(Y,ee){return Y-ee}))},B=function(L,Y){for(var ee,X,Q=this.fillStyle,ge=this.strokeStyle,be=this.lineCap,ae=this.lineWidth,Se=Math.abs(ae*this.ctx.transform.scaleX),Ee=this.lineJoin,_e=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),Fe=[],Ne=0;Ne<Je.length;Ne++)if(Je[Ne].x!==void 0)for(var ne=S.call(this,Je[Ne]),Be=0;Be<ne.length;Be+=1)Fe.indexOf(ne[Be])===-1&&Fe.push(ne[Be]);for(var Ze=0;Ze<Fe.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<Fe[Ze];)I.call(this);if(F(Fe),this.autoPaging)for(var ze=Fe[0],et=Fe[Fe.length-1],Ke=ze;Ke<et+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=Q,this.strokeStyle=ge,this.lineCap=be,this.lineWidth=Se,this.lineJoin=Ee;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Ke===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Ke===1?0:We+(Ke-2)*yt;if(this.ctx.clip_path.length!==0){var At=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ee,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),j.call(this,L,!0),this.path=At}if(X=JSON.parse(JSON.stringify(_e)),this.path=P(X,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),Y===!1||Ke===0){var Dt=(Ke>ze||Ke<et)&&A.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,yt,null).clip().discardPath()),j.call(this,L,Y),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Se,j.call(this,L,Y),this.lineWidth=ae;this.path=_e},j=function(L,Y){if((L!=="stroke"||Y||!E.call(this))&&(L==="stroke"||Y||!y.call(this))){for(var ee,X,Q=[],ge=this.path,be=0;be<ge.length;be++){var ae=ge[be];switch(ae.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ae,deltas:[],abs:[]});break;case"lt":var Se=Q.length;if(ge[be-1]&&!isNaN(ge[be-1].x)&&(ee=[ae.x-ge[be-1].x,ae.y-ge[be-1].y],Se>0)){for(;Se>=0;Se--)if(Q[Se-1].close!==!0&&Q[Se-1].begin!==!0){Q[Se-1].deltas.push(ee),Q[Se-1].abs.push(ae);break}}break;case"bct":ee=[ae.x1-ge[be-1].x,ae.y1-ge[be-1].y,ae.x2-ge[be-1].x,ae.y2-ge[be-1].y,ae.x-ge[be-1].x,ae.y-ge[be-1].y],Q[Q.length-1].deltas.push(ee);break;case"qct":var Ee=ge[be-1].x+2/3*(ae.x1-ge[be-1].x),_e=ge[be-1].y+2/3*(ae.y1-ge[be-1].y),Je=ae.x+2/3*(ae.x1-ae.x),Fe=ae.y+2/3*(ae.y1-ae.y),Ne=ae.x,ne=ae.y;ee=[Ee-ge[be-1].x,_e-ge[be-1].y,Je-ge[be-1].x,Fe-ge[be-1].y,Ne-ge[be-1].x,ne-ge[be-1].y],Q[Q.length-1].deltas.push(ee);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ae)}}X=Y?null:L==="stroke"?"stroke":"fill";for(var Be=!1,Ze=0;Ze<Q.length;Ze++)if(Q[Ze].arc)for(var ze=Q[Ze].abs,et=0;et<ze.length;et++){var Ke=ze[et];Ke.type==="arc"?D.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,Y,!Be):C.call(this,Ke.x,Ke.y),Be=!0}else if(Q[Ze].close===!0)this.pdf.internal.out("h"),Be=!1;else if(Q[Ze].begin!==!0){var rt=Q[Ze].start.x,it=Q[Ze].start.y;G.call(this,Q[Ze].deltas,rt,it),Be=!0}X&&z.call(this,X),Y&&H.call(this)}},V=function(L){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-ee;case"top":return L+Y-ee;case"hanging":return L+Y-2*ee;case"middle":return L+Y/2-ee;case"ideographic":return L;case"alphabetic":default:return L}},O=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(Y,ee){this.colorStops.push([Y,ee])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(L,Y,ee,X,Q,ge,be,ae,Se){for(var Ee=W.call(this,ee,X,Q,ge),_e=0;_e<Ee.length;_e++){var Je=Ee[_e];_e===0&&(Se?U.call(this,Je.x1+L,Je.y1+Y):C.call(this,Je.x1+L,Je.y1+Y)),le.call(this,L,Y,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}ae?H.call(this):z.call(this,be)},z=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(L,Y){this.pdf.internal.out(n(L)+" "+r(Y)+" m")},R=function(L){var Y;switch(L.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var ee=this.pdf.getTextDimensions(L.text),X=V.call(this,L.y),Q=O.call(this,X)-ee.h,ge=this.ctx.transform.applyToPoint(new s(L.x,X)),be=this.ctx.transform.decompose(),ae=new c;ae=(ae=(ae=ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Se,Ee,_e,Je=this.ctx.transform.applyToRectangle(new l(L.x,X,ee.w,ee.h)),Fe=ae.applyToRectangle(new l(L.x,Q,ee.w,ee.h)),Ne=S.call(this,Fe),ne=[],Be=0;Be<Ne.length;Be+=1)ne.indexOf(Ne[Be])===-1&&ne.push(Ne[Be]);if(F(ne),this.autoPaging)for(var Ze=ne[0],ze=ne[ne.length-1],et=Ze;et<ze+1;et++){this.pdf.setPage(et);var Ke=et===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],We=it-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],bt=yt-this.margin[3],At=et===1?0:rt+(et-2)*We;if(this.ctx.clip_path.length!==0){var Dt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Se,this.posX+this.margin[3],-1*At+Ke),j.call(this,"fill",!0),this.path=Dt}var Tt=P([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-At+Ke+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*L.scale),_e=this.lineWidth,this.lineWidth=_e*L.scale);var Vt=this.autoPaging!=="text";if(Vt||Tt.y+Tt.h<=it){if(Vt||Tt.y>=Ke&&Tt.x<=yt){var wt=Vt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||yt-Tt.x)[0],Hn=P([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-At+Ke+this.ctx.prevPageLastElemOffset)[0],en=Vt&&(et>Ze||et<ze)&&A.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,We,null).clip().discardPath()),this.pdf.text(wt,Hn.x,Hn.y,{angle:L.angle,align:Y,renderingMode:L.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else Tt.y<it&&(this.ctx.prevPageLastElemOffset+=it-Tt.y);L.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=_e)}else L.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*L.scale),_e=this.lineWidth,this.lineWidth=_e*L.scale),this.pdf.text(L.text,ge.x+this.posX,ge.y+this.posY,{angle:L.angle,align:Y,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=_e)},C=function(L,Y,ee,X){ee=ee||0,X=X||0,this.pdf.internal.out(n(L+ee)+" "+r(Y+X)+" l")},G=function(L,Y,ee){return this.pdf.lines(L,Y,ee,null,null)},le=function(L,Y,ee,X,Q,ge,be,ae){this.pdf.internal.out([e(i(ee+L)),e(a(X+Y)),e(i(Q+L)),e(a(ge+Y)),e(i(be+L)),e(a(ae+Y)),"c"].join(" "))},W=function(L,Y,ee,X){for(var Q=2*Math.PI,ge=Math.PI/2;Y>ee;)Y-=Q;var be=Math.abs(ee-Y);be<Q&&X&&(be=Q-be);for(var ae=[],Se=X?-1:1,Ee=Y;be>1e-5;){var _e=Ee+Se*Math.min(be,ge);ae.push(te.call(this,L,Ee,_e)),be-=Math.abs(_e-Ee),Ee=_e}return ae},te=function(L,Y,ee){var X=(ee-Y)/2,Q=L*Math.cos(X),ge=L*Math.sin(X),be=Q,ae=-ge,Se=be*be+ae*ae,Ee=Se+be*Q+ae*ge,_e=4/3*(Math.sqrt(2*Se*Ee)-Ee)/(be*ge-ae*Q),Je=be-_e*ae,Fe=ae+_e*be,Ne=Je,ne=-Fe,Be=X+Y,Ze=Math.cos(Be),ze=Math.sin(Be);return{x1:L*Math.cos(Y),y1:L*Math.sin(Y),x2:Je*Ze-Fe*ze,y2:Je*ze+Fe*Ze,x3:Ne*Ze-ne*ze,y3:Ne*ze+ne*Ze,x4:L*Math.cos(ee),y4:L*Math.sin(ee)}},re=function(L){return 180*L/Math.PI},ve=function(L,Y,ee,X,Q,ge){var be=L+.5*(ee-L),ae=Y+.5*(X-Y),Se=Q+.5*(ee-Q),Ee=ge+.5*(X-ge),_e=Math.min(L,Q,be,Se),Je=Math.max(L,Q,be,Se),Fe=Math.min(Y,ge,ae,Ee),Ne=Math.max(Y,ge,ae,Ee);return new l(_e,Fe,Je-_e,Ne-Fe)},we=function(L,Y,ee,X,Q,ge,be,ae){var Se,Ee,_e,Je,Fe,Ne,ne,Be,Ze,ze,et,Ke,rt,it,We=ee-L,yt=X-Y,bt=Q-ee,At=ge-X,Dt=be-Q,Tt=ae-ge;for(Ee=0;Ee<41;Ee++)Ze=(ne=(_e=L+(Se=Ee/40)*We)+Se*((Fe=ee+Se*bt)-_e))+Se*(Fe+Se*(Q+Se*Dt-Fe)-ne),ze=(Be=(Je=Y+Se*yt)+Se*((Ne=X+Se*At)-Je))+Se*(Ne+Se*(ge+Se*Tt-Ne)-Be),Ee==0?(et=Ze,Ke=ze,rt=Ze,it=ze):(et=Math.min(et,Ze),Ke=Math.min(Ke,ze),rt=Math.max(rt,Ze),it=Math.max(it,ze));return new l(Math.round(et),Math.round(Ke),Math.round(rt-et),Math.round(it-Ke))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,Y,ee=(L=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:Y}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Jt.API),(function(t){var e=function(a){var s,l,c,f,h,m,g,y,E,A;for(l=[],c=0,f=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;f>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(h=((h=((h=((h=(h-(A=h%85))/85)-(E=h%85))/85)-(y=h%85))/85)-(g=h%85))/85)%85,l.push(m+33,g+33,y+33,E+33,A+33)):l.push(122);return(function(S,I){for(var P=I;P>0;P--)S.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,c,f,h,m=String,g="length",y=255,E="charCodeAt",A="slice",S="replace";for(a[A](-2),a=a[A](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],f=0,h=(a+=s="uuuuu"[A](a[g]%5||5))[g];h>f;f+=5)l=52200625*(a[E](f)-33)+614125*(a[E](f+1)-33)+7225*(a[E](f+2)-33)+85*(a[E](f+3)-33)+(a[E](f+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(I,P){for(var F=P;F>0;F--)I.pop()})(c,s[g]),m.fromCharCode.apply(m,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=mE(s)).reduce((function(c,f){return c+String.fromCharCode(f)}),"")};t.processDataByFilters=function(a,s){var l=0,c=a||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}})(Jt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,f,h){var m=new XMLHttpRequest,g=0,y=function(E){var A=E.length,S=[],I=String.fromCharCode;for(g=0;g<A;g+=1)S.push(I(255&E.charCodeAt(g)));return S.join("")};if(m.open("GET",c,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(y(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)})(i,a,s)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(Jt.API),(function(t){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):uE(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function n(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):uE(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var r=function(s){var l=yr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var f in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[f]=l.style[f];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then((function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(n).then((function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(f,h){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),g=f.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",(function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft}),!0)),m})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var y=f[g],E=y.src.find((function(A){return A.format==="truetype"}));E&&c.addFont(E.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,l)}))},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map((function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}}),this);return this.then((function(){return this.thenList(l)}))},a.prototype.get=function(s,l){return this.then((function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c}))},a.prototype.setMargin=function(s){return this.then((function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,f){return Math.floor(c*f/72*96)}return this.then((function(){(s=s||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},a.prototype.setProgress=function(s,l,c,f){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,f){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,(function(f,h){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,(function(m){return c.updateProgress(null,f),m})).then(f,h).then((function(m){return c.updateProgress(1),m}))}))},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(f,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach((function(c){l=l.thenCore(c)})),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Jt.getPageSize=function(s,l,c){if(yr(s)==="object"){var f=s;s=f.orientation,l=f.unit||l,c=f.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,m=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,E=0,A=0;if(g.hasOwnProperty(m))E=g[m][1]/h,A=g[m][0]/h;else try{E=c[1],A=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",A>E&&(y=A,A=E,E=y);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",E>A&&(y=A,A=E,E=y)}return{width:A,height:E,unit:l,k:h,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(_E):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}})(Jt.API),Jt.API.addJS=function(t){return xM=t,this.internal.events.subscribe("postPutResources",(function(){Iy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Iy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xM+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Iy!==void 0&&yM!==void 0&&this.internal.out("/Names <</JavaScript "+Iy+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var m=n.internal.newObject();h.push(m);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Jt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,l){var c,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=(function(m){for(var g,y=256*m.charCodeAt(4)+m.charCodeAt(5),E=m.length,A={width:0,height:0,numcomponents:1},S=4;S<E;S+=2){if(S+=y,e.indexOf(m.charCodeAt(S+1))!==-1){g=256*m.charCodeAt(S+5)+m.charCodeAt(S+6),A={width:256*m.charCodeAt(S+7)+m.charCodeAt(S+8),height:g,numcomponents:m.charCodeAt(S+9)};break}y=256*m.charCodeAt(S+2)+m.charCodeAt(S+3)}return A})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}})(Jt.API);var lp,Ry,bM,_M,wM,mfe=(function(){var t,e,n;function r(a){var s,l,c,f,h,m,g,y,E,A,S,I,P,F;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),E=(function(){var B,j;for(j=[],B=0;B<4;++B)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*h/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,I=0;0<=s?I<s:I>s;0<=s?++I:--I)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((A=c-this.transparency.indexed.length)>0)for(P=0;0<=A?P<A:P>A;0<=A?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(S=this.read(s)).indexOf(0),y=String.fromCharCode.apply(String,S.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,S.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(m,g,y,E){var A,S,I,P,F,B,j,V,O,D,z,H,U,R,C,G,le,W,te,re,ve,we=Math.ceil((f.width-m)/y),ie=Math.ceil((f.height-g)/E),L=f.width==we&&f.height==ie;for(R=s*we,H=L?l:new Uint8Array(R*ie),B=a.length,U=0,S=0;U<ie&&c<B;){switch(a[c++]){case 0:for(P=le=0;le<R;P=le+=1)H[S++]=a[c++];break;case 1:for(P=W=0;W<R;P=W+=1)A=a[c++],F=P<s?0:H[S-s],H[S++]=(A+F)%256;break;case 2:for(P=te=0;te<R;P=te+=1)A=a[c++],I=(P-P%s)/s,C=U&&H[(U-1)*R+I*s+P%s],H[S++]=(C+A)%256;break;case 3:for(P=re=0;re<R;P=re+=1)A=a[c++],I=(P-P%s)/s,F=P<s?0:H[S-s],C=U&&H[(U-1)*R+I*s+P%s],H[S++]=(A+Math.floor((F+C)/2))%256;break;case 4:for(P=ve=0;ve<R;P=ve+=1)A=a[c++],I=(P-P%s)/s,F=P<s?0:H[S-s],U===0?C=G=0:(C=H[(U-1)*R+I*s+P%s],G=I&&H[(U-1)*R+(I-1)*s+P%s]),j=F+C-G,V=Math.abs(j-F),D=Math.abs(j-C),z=Math.abs(j-G),O=V<=D&&V<=z?F:D<=z?C:G,H[S++]=(A+O)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!L){var Y=((g+U*E)*f.width+m)*s,ee=U*R;for(P=0;P<we;P+=1){for(var X=0;X<s;X+=1)l[Y++]=H[ee++];Y+=(y-1)*s}}U++}}return a=Wde(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,f,h,m,g,y;for(l=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=m=0,g=l.length;m<g;s=m+=3)f[c++]=l[s],f[c++]=l[s+1],f[c++]=l[s+2],f[c++]=(y=h[a++])!=null?y:255;return f},r.prototype.copyToImageData=function(a,s){var l,c,f,h,m,g,y,E,A,S,I;if(c=this.colors,A=null,l=this.hasAlphaChannel,this.palette.length&&(A=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),c=4,l=!0),E=(f=a.data||a).length,m=A||s,h=g=0,c===1)for(;h<E;)y=A?4*s[h/4]:g,S=m[y++],f[h++]=S,f[h++]=S,f[h++]=S,f[h++]=l?m[y++]:255,g=y;else for(;h<E;)y=A?4*s[h/4]:g,f[h++]=m[y++],f[h++]=m[y++],f[h++]=m[y++],f[h++]=l?m[y++]:255,g=y},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(rn)==="[object Window]"){try{e=rn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,f,h,m,g,y;if(this.animation){for(y=[],l=h=0,m=(g=this.animation.frames).length;h<m;l=++h)s=g[l],c=a.createImageData(s.width,s.height),f=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,f),s.imageData=c,y.push(s.image=t(c));return y}},r.prototype.renderFrame=function(a,s){var l,c,f;return l=(c=this.animation.frames)[s],f=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,f,h,m,g=this;return l=0,m=this.animation,f=m.numFrames,c=m.frames,h=m.numPlays,(s=function(){var y,E;if(y=l++%f,E=c[y],g.renderFrame(a,y),f>1&&l/f<h)return g.animation._timeout=setTimeout(s,E.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gfe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var f=!0,h=[],m=0,g=null,y=0,E=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],(1&A)==0&&(g=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,B=t[e++],j=B>>6&1,V=1<<(7&B)+1,O=l,D=c,z=!1;B>>7&&(z=!0,O=e,D=V,e+=3*V);var H=e;for(e++;;){var U;if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}h.push({x:S,y:I,width:P,height:F,has_local_palette:z,palette_offset:O,palette_size:D,data_offset:H,data_length:e-H,transparent_index:g,interlaced:!!j,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(R){if(R<0||R>=h.length)throw new Error("Frame index out of range.");return h[R]},this.decodeAndBlitFrameBGRA=function(R,C){var G=this.frameInfo(R),le=G.width*G.height,W=new Uint8Array(le);AM(t,G.data_offset,W,le);var te=G.palette_offset,re=G.transparent_index;re===null&&(re=256);var ve=G.width,we=n-ve,ie=ve,L=4*(G.y*n+G.x),Y=4*((G.y+G.height)*n+G.x),ee=L,X=4*we;G.interlaced===!0&&(X+=4*n*7);for(var Q=8,ge=0,be=W.length;ge<be;++ge){var ae=W[ge];if(ie===0&&(ie=ve,(ee+=X)>=Y&&(X=4*we+4*n*(Q-1),ee=L+(ve+we)*(Q<<1),Q>>=1)),ae===re)ee+=4;else{var Se=t[te+3*ae],Ee=t[te+3*ae+1],_e=t[te+3*ae+2];C[ee++]=_e,C[ee++]=Ee,C[ee++]=Se,C[ee++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(R,C){var G=this.frameInfo(R),le=G.width*G.height,W=new Uint8Array(le);AM(t,G.data_offset,W,le);var te=G.palette_offset,re=G.transparent_index;re===null&&(re=256);var ve=G.width,we=n-ve,ie=ve,L=4*(G.y*n+G.x),Y=4*((G.y+G.height)*n+G.x),ee=L,X=4*we;G.interlaced===!0&&(X+=4*n*7);for(var Q=8,ge=0,be=W.length;ge<be;++ge){var ae=W[ge];if(ie===0&&(ie=ve,(ee+=X)>=Y&&(X=4*we+4*n*(Q-1),ee=L+(ve+we)*(Q<<1),Q>>=1)),ae===re)ee+=4;else{var Se=t[te+3*ae],Ee=t[te+3*ae+1],_e=t[te+3*ae+2];C[ee++]=Se,C[ee++]=Ee,C[ee++]=_e,C[ee++]=255}--ie}}}function AM(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,f=(1<<c)-1,h=0,m=0,g=0,y=t[e++],E=new Int32Array(4096),A=null;;){for(;h<16&&y!==0;)m|=t[e++]<<h,h+=8,y===1?y=t[e++]:--y;if(h<c)break;var S=m&f;if(m>>=c,h-=c,S!==a){if(S===s)break;for(var I=S<l?S:A,P=0,F=I;F>a;)F=E[F]>>8,++P;var B=F;if(g+P+(I!==S?1:0)>r)return void Ir.log("Warning, gif stream longer than expected.");n[g++]=B;var j=g+=P;for(I!==S&&(n[g++]=B),F=I;P--;)F=E[F],n[--j]=255&F,F>>=8;A!==null&&l<4096&&(E[l++]=A<<8|B,l>=f+1&&c<12&&(++c,f=f<<1|1)),A=S}else l=s+1,f=(1<<(c=i+1))-1,A=null}return g!==r&&Ir.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function TS(t){var e,n,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),y=new Array(64),E=new Array(64),A=[],S=0,I=7,P=new Array(64),F=new Array(64),B=new Array(64),j=new Array(256),V=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(L,Y){for(var ee=0,X=0,Q=new Array,ge=1;ge<=16;ge++){for(var be=1;be<=L[ge];be++)Q[Y[X]]=[],Q[Y[X]][0]=ee,Q[Y[X]][1]=ge,X++,ee++;ee*=2}return Q}function te(L){for(var Y=L[0],ee=L[1]-1;ee>=0;)Y&1<<ee&&(S|=1<<I),ee--,--I<0&&(S==255?(re(255),re(0)):re(S),I=7,S=0)}function re(L){A.push(L)}function ve(L){re(L>>8&255),re(255&L)}function we(L,Y,ee,X,Q){for(var ge,be=Q[0],ae=Q[240],Se=(function(ze,et){var Ke,rt,it,We,yt,bt,At,Dt,Tt,Vt,wt=0;for(Tt=0;Tt<8;++Tt){Ke=ze[wt],rt=ze[wt+1],it=ze[wt+2],We=ze[wt+3],yt=ze[wt+4],bt=ze[wt+5],At=ze[wt+6];var Hn=Ke+(Dt=ze[wt+7]),en=Ke-Dt,Jn=rt+At,yn=rt-At,xn=it+bt,Ma=it-bt,gn=We+yt,ci=We-yt,qn=Hn+gn,Pr=Hn-gn,Vr=Jn+xn,Sn=Jn-xn;ze[wt]=qn+Vr,ze[wt+4]=qn-Vr;var Mt=.707106781*(Sn+Pr);ze[wt+2]=Pr+Mt,ze[wt+6]=Pr-Mt;var bn=.382683433*((qn=ci+Ma)-(Sn=yn+en)),xi=.5411961*qn+bn,Or=1.306562965*Sn+bn,ui=.707106781*(Vr=Ma+yn),bi=en+ui,kt=en-ui;ze[wt+5]=kt+xi,ze[wt+3]=kt-xi,ze[wt+1]=bi+Or,ze[wt+7]=bi-Or,wt+=8}for(wt=0,Tt=0;Tt<8;++Tt){Ke=ze[wt],rt=ze[wt+8],it=ze[wt+16],We=ze[wt+24],yt=ze[wt+32],bt=ze[wt+40],At=ze[wt+48];var Ci=Ke+(Dt=ze[wt+56]),jr=Ke-Dt,qr=rt+At,cr=rt-At,de=it+bt,Xe=it-bt,Yt=We+yt,cn=We-yt,Ht=Ci+Yt,zt=Ci-Yt,nn=qr+de,Ue=qr-de;ze[wt]=Ht+nn,ze[wt+32]=Ht-nn;var Ct=.707106781*(Ue+zt);ze[wt+16]=zt+Ct,ze[wt+48]=zt-Ct;var qt=.382683433*((Ht=cn+Xe)-(Ue=cr+jr)),Dr=.5411961*Ht+qt,Mr=1.306562965*Ue+qt,jn=.707106781*(nn=Xe+cr),Lr=jr+jn,Gn=jr-jn;ze[wt+40]=Gn+Dr,ze[wt+24]=Gn-Dr,ze[wt+8]=Lr+Mr,ze[wt+56]=Lr-Mr,wt++}for(Tt=0;Tt<64;++Tt)Vt=ze[Tt]*et[Tt],y[Tt]=Vt>0?Vt+.5|0:Vt-.5|0;return y})(L,Y),Ee=0;Ee<64;++Ee)E[O[Ee]]=Se[Ee];var _e=E[0]-ee;ee=E[0],_e==0?te(X[0]):(te(X[g[ge=32767+_e]]),te(m[ge]));for(var Je=63;Je>0&&E[Je]==0;)Je--;if(Je==0)return te(be),ee;for(var Fe,Ne=1;Ne<=Je;){for(var ne=Ne;E[Ne]==0&&Ne<=Je;)++Ne;var Be=Ne-ne;if(Be>=16){Fe=Be>>4;for(var Ze=1;Ze<=Fe;++Ze)te(ae);Be&=15}ge=32767+E[Ne],te(Q[(Be<<4)+g[ge]]),te(m[ge]),Ne++}return Je!=63&&te(be),ee}function ie(L){L=Math.min(Math.max(L,1),100),a!=L&&((function(Y){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Q=s((ee[X]*Y+50)/100);Q=Math.min(Math.max(Q,1),255),l[O[X]]=Q}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ae=s((ge[be]*Y+50)/100);ae=Math.min(Math.max(ae,1),255),c[O[be]]=ae}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,_e=0;_e<8;_e++)for(var Je=0;Je<8;Je++)f[Ee]=1/(l[O[Ee]]*Se[_e]*Se[Je]*8),h[Ee]=1/(c[O[Ee]]*Se[_e]*Se[Je]*8),Ee++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,Y){Y&&ie(Y),A=new Array,S=0,I=7,ve(65496),ve(65504),ve(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ve(1),ve(1),re(0),re(0),(function(){ve(65499),ve(132),re(0);for(var rt=0;rt<64;rt++)re(l[rt]);re(1);for(var it=0;it<64;it++)re(c[it])})(),(function(rt,it){ve(65472),ve(17),re(8),ve(it),ve(rt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(L.width,L.height),(function(){ve(65476),ve(418),re(0);for(var rt=0;rt<16;rt++)re(D[rt+1]);for(var it=0;it<=11;it++)re(z[it]);re(16);for(var We=0;We<16;We++)re(H[We+1]);for(var yt=0;yt<=161;yt++)re(U[yt]);re(1);for(var bt=0;bt<16;bt++)re(R[bt+1]);for(var At=0;At<=11;At++)re(C[At]);re(17);for(var Dt=0;Dt<16;Dt++)re(G[Dt+1]);for(var Tt=0;Tt<=161;Tt++)re(le[Tt])})(),ve(65498),ve(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var ee=0,X=0,Q=0;S=0,I=7,this.encode.displayName="_encode_";for(var ge,be,ae,Se,Ee,_e,Je,Fe,Ne,ne=L.data,Be=L.width,Ze=L.height,ze=4*Be,et=0;et<Ze;){for(ge=0;ge<ze;){for(Ee=ze*et+ge,Je=-1,Fe=0,Ne=0;Ne<64;Ne++)_e=Ee+(Fe=Ne>>3)*ze+(Je=4*(7&Ne)),et+Fe>=Ze&&(_e-=ze*(et+1+Fe-Ze)),ge+Je>=ze&&(_e-=ge+Je-ze+4),be=ne[_e++],ae=ne[_e++],Se=ne[_e++],P[Ne]=(V[be]+V[ae+256>>0]+V[Se+512>>0]>>16)-128,F[Ne]=(V[be+768>>0]+V[ae+1024>>0]+V[Se+1280>>0]>>16)-128,B[Ne]=(V[be+1280>>0]+V[ae+1536>>0]+V[Se+1792>>0]>>16)-128;ee=we(P,f,ee,e,r),X=we(F,h,X,n,i),Q=we(B,h,Q,n,i),ge+=32}et+=8}if(I>=0){var Ke=[];Ke[1]=I+1,Ke[0]=(1<<I+1)-1,te(Ke)}return ve(65497),new Uint8Array(A)},t=t||50,(function(){for(var L=String.fromCharCode,Y=0;Y<256;Y++)j[Y]=L(Y)})(),e=W(D,z),n=W(R,C),r=W(H,U),i=W(G,le),(function(){for(var L=1,Y=2,ee=1;ee<=15;ee++){for(var X=L;X<Y;X++)g[32767+X]=ee,m[32767+X]=[],m[32767+X][1]=ee,m[32767+X][0]=X;for(var Q=-(Y-1);Q<=-L;Q++)g[32767+Q]=ee,m[32767+Q]=[],m[32767+Q][1]=ee,m[32767+Q][0]=Y-1+Q;L<<=1,Y<<=1}})(),(function(){for(var L=0;L<256;L++)V[L]=19595*L,V[L+256>>0]=38470*L,V[L+512>>0]=7471*L+32768,V[L+768>>0]=-11059*L,V[L+1024>>0]=-21709*L,V[L+1280>>0]=32768*L+8421375,V[L+1536>>0]=-27439*L,V[L+1792>>0]=-5329*L})(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Sl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SM(t){function e(D){if(!D)throw Error("assert :P")}function n(D,z,H){for(var U=0;4>U;U++)if(D[z+U]!=H.charCodeAt(U))return!0;return!1}function r(D,z,H,U,R){for(var C=0;C<R;C++)D[z+C]=H[U+C]}function i(D,z,H,U){for(var R=0;R<U;R++)D[z+R]=H}function a(D){return new Int32Array(D)}function s(D,z){for(var H=[],U=0;U<D;U++)H.push(new z);return H}function l(D,z){var H=[];return(function U(R,C,G){for(var le=G[C],W=0;W<le&&(R.push(G.length>C+1?[]:new z),!(G.length<C+1));W++)U(R[W],C+1,G)})(H,0,D),H}var c=function(){var D=this;function z(b,T){for(var q=1<<T-1>>>0;b&q;)q>>>=1;return q?(b&q-1)+q:b}function H(b,T,q,K,oe){e(!(K%q));do b[T+(K-=q)]=oe;while(0<K)}function U(b,T,q,K,oe){if(e(2328>=oe),512>=oe)var ce=a(512);else if((ce=a(oe))==null)return 0;return(function(ue,fe,me,xe,Ie,qe){var Ve,De,dt=fe,tt=1<<me,Re=a(16),Pe=a(16);for(e(Ie!=0),e(xe!=null),e(ue!=null),e(0<me),De=0;De<Ie;++De){if(15<xe[De])return 0;++Re[xe[De]]}if(Re[0]==Ie)return 0;for(Pe[1]=0,Ve=1;15>Ve;++Ve){if(Re[Ve]>1<<Ve)return 0;Pe[Ve+1]=Pe[Ve]+Re[Ve]}for(De=0;De<Ie;++De)Ve=xe[De],0<xe[De]&&(qe[Pe[Ve]++]=De);if(Pe[15]==1)return(xe=new R).g=0,xe.value=qe[0],H(ue,dt,1,tt,xe),tt;var lt,pt=-1,ot=tt-1,It=0,St=1,$t=1,Nt=1<<me;for(De=0,Ve=1,Ie=2;Ve<=me;++Ve,Ie<<=1){if(St+=$t<<=1,0>($t-=Re[Ve]))return 0;for(;0<Re[Ve];--Re[Ve])(xe=new R).g=Ve,xe.value=qe[De++],H(ue,dt+It,Ie,Nt,xe),It=z(It,Ve)}for(Ve=me+1,Ie=2;15>=Ve;++Ve,Ie<<=1){if(St+=$t<<=1,0>($t-=Re[Ve]))return 0;for(;0<Re[Ve];--Re[Ve]){if(xe=new R,(It&ot)!=pt){for(dt+=Nt,lt=1<<(pt=Ve)-me;15>pt&&!(0>=(lt-=Re[pt]));)++pt,lt<<=1;tt+=Nt=1<<(lt=pt-me),ue[fe+(pt=It&ot)].g=lt+me,ue[fe+pt].value=dt-fe-pt}xe.g=Ve-me,xe.value=qe[De++],H(ue,dt+(It>>me),Ie,Nt,xe),It=z(It,Ve)}}return St!=2*Pe[15]-1?0:tt})(b,T,q,K,oe,ce)}function R(){this.value=this.g=0}function C(){this.value=this.g=0}function G(){this.G=s(5,R),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ki,C)}function le(b,T,q,K){e(b!=null),e(T!=null),e(2147483648>K),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=q,b.Jd=T,b.Yc=q+K,b.Zc=4<=K?q+K-4+1:q,ge(b)}function W(b,T){for(var q=0;0<T--;)q|=ae(b,128)<<T;return q}function te(b,T){var q=W(b,T);return be(b)?-q:q}function re(b,T,q,K){var oe,ce=0;for(e(b!=null),e(T!=null),e(4294967288>K),b.Sb=K,b.Ra=0,b.u=0,b.h=0,4<K&&(K=4),oe=0;oe<K;++oe)ce+=T[q+oe]<<8*oe;b.Ra=ce,b.bb=K,b.oa=T,b.pa=q}function ve(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Zl-8>>>0,++b.bb,b.u-=8;ee(b)&&(b.h=1,b.u=0)}function we(b,T){if(e(0<=T),!b.h&&T<=Ql){var q=Y(b)&Jc[T];return b.u+=T,ve(b),q}return b.h=1,b.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(b){return b.Ra>>>(b.u&Zl-1)>>>0}function ee(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Zl}function X(b,T){b.u=T,b.h=ee(b)}function Q(b){b.u>=Ku&&(e(b.u>=Ku),ve(b))}function ge(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function be(b){return W(b,1)}function ae(b,T){var q=b.Ca;0>b.b&&ge(b);var K=b.b,oe=q*T>>>8,ce=(b.I>>>K>oe)+0;for(ce?(q-=oe,b.I-=oe+1<<K>>>0):q=oe+1,K=q,oe=0;256<=K;)oe+=8,K>>=8;return K=7^oe+Sa[K],b.b-=K,b.Ca=(q<<K)-1,ce}function Se(b,T,q){b[T+0]=q>>24&255,b[T+1]=q>>16&255,b[T+2]=q>>8&255,b[T+3]=q>>0&255}function Ee(b,T){return b[T+0]<<0|b[T+1]<<8}function _e(b,T){return Ee(b,T)|b[T+2]<<16}function Je(b,T){return Ee(b,T)|Ee(b,T+2)<<16}function Fe(b,T){var q=1<<T;return e(b!=null),e(0<T),b.X=a(q),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function Ne(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),r(T.X,0,b.X,0,1<<T.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function Be(b,T,q,K){e(q!=null),e(K!=null);var oe=q[0],ce=K[0];return oe==0&&(oe=(b*ce+T/2)/T),ce==0&&(ce=(T*oe+b/2)/b),0>=oe||0>=ce?0:(q[0]=oe,K[0]=ce,1)}function Ze(b,T){return b+(1<<T)-1>>>T}function ze(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function et(b,T){D[T]=function(q,K,oe,ce,ue,fe,me){var xe;for(xe=0;xe<ue;++xe){var Ie=D[b](fe[me+xe-1],oe,ce+xe);fe[me+xe]=ze(q[K+xe],Ie)}}}function Ke(){this.ud=this.hd=this.jd=0}function rt(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function it(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function We(b,T){return it(b+(b-T+.5>>1))}function yt(b,T,q){return Math.abs(T-q)-Math.abs(b-q)}function bt(b,T,q,K,oe,ce,ue){for(K=ce[ue-1],q=0;q<oe;++q)ce[ue+q]=K=ze(b[T+q],K)}function At(b,T,q,K,oe){var ce;for(ce=0;ce<q;++ce){var ue=b[T+ce],fe=ue>>8&255,me=16711935&(me=(me=16711935&ue)+((fe<<16)+fe));K[oe+ce]=(4278255360&ue)+me>>>0}}function Dt(b,T){T.jd=b>>0&255,T.hd=b>>8&255,T.ud=b>>16&255}function Tt(b,T,q,K,oe,ce){var ue;for(ue=0;ue<K;++ue){var fe=T[q+ue],me=fe>>>8,xe=fe,Ie=255&(Ie=(Ie=fe>>>16)+((b.jd<<24>>24)*(me<<24>>24)>>>5));xe=255&(xe=(xe=xe+((b.hd<<24>>24)*(me<<24>>24)>>>5))+((b.ud<<24>>24)*(Ie<<24>>24)>>>5)),oe[ce+ue]=(4278255360&fe)+(Ie<<16)+xe}}function Vt(b,T,q,K,oe){D[T]=function(ce,ue,fe,me,xe,Ie,qe,Ve,De){for(me=qe;me<Ve;++me)for(qe=0;qe<De;++qe)xe[Ie++]=oe(fe[K(ce[ue++])])},D[b]=function(ce,ue,fe,me,xe,Ie,qe){var Ve=8>>ce.b,De=ce.Ea,dt=ce.K[0],tt=ce.w;if(8>Ve)for(ce=(1<<ce.b)-1,tt=(1<<Ve)-1;ue<fe;++ue){var Re,Pe=0;for(Re=0;Re<De;++Re)Re&ce||(Pe=K(me[xe++])),Ie[qe++]=oe(dt[Pe&tt]),Pe>>=Ve}else D["VP8LMapColor"+q](me,xe,dt,tt,Ie,qe,ue,fe,De)}}function wt(b,T,q,K,oe){for(q=T+q;T<q;){var ce=b[T++];K[oe++]=ce>>16&255,K[oe++]=ce>>8&255,K[oe++]=ce>>0&255}}function Hn(b,T,q,K,oe){for(q=T+q;T<q;){var ce=b[T++];K[oe++]=ce>>16&255,K[oe++]=ce>>8&255,K[oe++]=ce>>0&255,K[oe++]=ce>>24&255}}function en(b,T,q,K,oe){for(q=T+q;T<q;){var ce=(ue=b[T++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;K[oe++]=ce,K[oe++]=ue}}function Jn(b,T,q,K,oe){for(q=T+q;T<q;){var ce=(ue=b[T++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;K[oe++]=ce,K[oe++]=ue}}function yn(b,T,q,K,oe){for(q=T+q;T<q;){var ce=b[T++];K[oe++]=ce>>0&255,K[oe++]=ce>>8&255,K[oe++]=ce>>16&255}}function xn(b,T,q,K,oe,ce){if(ce==0)for(q=T+q;T<q;)Se(K,((ce=b[T++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),oe+=32;else r(K,oe,b,T,q)}function Ma(b,T){D[T][0]=D[b+"0"],D[T][1]=D[b+"1"],D[T][2]=D[b+"2"],D[T][3]=D[b+"3"],D[T][4]=D[b+"4"],D[T][5]=D[b+"5"],D[T][6]=D[b+"6"],D[T][7]=D[b+"7"],D[T][8]=D[b+"8"],D[T][9]=D[b+"9"],D[T][10]=D[b+"10"],D[T][11]=D[b+"11"],D[T][12]=D[b+"12"],D[T][13]=D[b+"13"],D[T][14]=D[b+"0"],D[T][15]=D[b+"0"]}function gn(b){return b==Ef||b==Ih||b==nd||b==Rh}function ci(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ci,this.f.kb=new qn,this.sd=null}function Vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function bn(b,T){var q=b.T,K=T.ba.f.RGBA,oe=K.eb,ce=K.fb+b.ka*K.A,ue=Yi[T.ba.S],fe=b.y,me=b.O,xe=b.f,Ie=b.N,qe=b.ea,Ve=b.W,De=T.cc,dt=T.dc,tt=T.Mc,Re=T.Nc,Pe=b.ka,lt=b.ka+b.T,pt=b.U,ot=pt+1>>1;for(Pe==0?ue(fe,me,null,null,xe,Ie,qe,Ve,xe,Ie,qe,Ve,oe,ce,null,null,pt):(ue(T.ec,T.fc,fe,me,De,dt,tt,Re,xe,Ie,qe,Ve,oe,ce-K.A,oe,ce,pt),++q);Pe+2<lt;Pe+=2)De=xe,dt=Ie,tt=qe,Re=Ve,Ie+=b.Rc,Ve+=b.Rc,ce+=2*K.A,ue(fe,(me+=2*b.fa)-b.fa,fe,me,De,dt,tt,Re,xe,Ie,qe,Ve,oe,ce-K.A,oe,ce,pt);return me+=b.fa,b.j+lt<b.o?(r(T.ec,T.fc,fe,me,pt),r(T.cc,T.dc,xe,Ie,ot),r(T.Mc,T.Nc,qe,Ve,ot),q--):1&lt||ue(fe,me,null,null,xe,Ie,qe,Ve,xe,Ie,qe,Ve,oe,ce+K.A,null,null,pt),q}function xi(b,T,q){var K=b.F,oe=[b.J];if(K!=null){var ce=b.U,ue=T.ba.S,fe=ue==Nf||ue==nd;T=T.ba.f.RGBA;var me=[0],xe=b.ka;me[0]=b.T,b.Kb&&(xe==0?--me[0]:(--xe,oe[0]-=b.width),b.j+b.ka+b.T==b.o&&(me[0]=b.o-b.j-xe));var Ie=T.eb;xe=T.fb+xe*T.A,b=sr(K,oe[0],b.width,ce,me,Ie,xe+(fe?0:3),T.A),e(q==me),b&&gn(ue)&&Ha(Ie,xe,fe,ce,me,T.A)}return 0}function Or(b){var T=b.ma,q=T.ba.S,K=11>q,oe=q==da||q==Is||q==Nf||q==td||q==12||gn(q);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!ol(T.Oa,b,oe?11:12))return 0;if(oe&&gn(q)&&mt(),b.da)alert("todo:use_scaling");else{if(K){if(T.Ib=Mt,b.Kb){if(q=b.U+1>>1,T.memory=a(b.U+2*q),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+q,T.Ib=bn,mt()}}else alert("todo:EmitYUV");oe&&(T.Jb=xi,K&&Me())}if(K&&!dc){for(b=0;256>b;++b)Ji[b]=89858*(b-128)+ad>>Ds,t_[b]=-22014*(b-128)+ad,Ev[b]=-45773*(b-128),Dh[b]=113618*(b-128)+ad>>Ds;for(b=tu;b<uc;++b)T=76283*(b-16)+ad>>Ds,n_[b-tu]=Zn(T,255),r_[b-tu]=Zn(T+8>>4,15);dc=1}return 1}function ui(b){var T=b.ma,q=b.U,K=b.T;return e(!(1&b.ka)),0>=q||0>=K?0:(q=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,q),T.Dc+=q,1)}function bi(b){b.ma.memory=null}function kt(b,T,q,K){return we(b,8)!=47?0:(T[0]=we(b,14)+1,q[0]=we(b,14)+1,K[0]=we(b,1),we(b,3)!=0?0:!b.h)}function Ci(b,T){if(4>b)return b+1;var q=b-2>>1;return(2+(1&b)<<q)+we(T,q)+1}function jr(b,T){return 120<T?T-120:1<=(q=((q=ks[T-1])>>4)*b+(8-(15&q)))?q:1;var q}function qr(b,T,q){var K=Y(q),oe=b[T+=255&K].g-8;return 0<oe&&(X(q,q.u+8),K=Y(q),T+=b[T].value,T+=K&(1<<oe)-1),X(q,q.u+b[T].g),b[T].value}function cr(b,T,q){return q.g+=b.g,q.value+=b.value<<T>>>0,e(8>=q.g),b.g}function de(b,T,q){var K=b.xc;return e((T=K==0?0:b.vc[b.md*(q>>K)+(T>>K)])<b.Wb),b.Ya[T]}function Xe(b,T,q,K){var oe=b.ab,ce=b.c*T,ue=b.C;T=ue+T;var fe=q,me=K;for(K=b.Ta,q=b.Ua;0<oe--;){var xe=b.gc[oe],Ie=ue,qe=T,Ve=fe,De=me,dt=(me=K,fe=q,xe.Ea);switch(e(Ie<qe),e(qe<=xe.nc),xe.hc){case 2:Nh(Ve,De,(qe-Ie)*dt,me,fe);break;case 0:var tt=Ie,Re=qe,Pe=me,lt=fe,pt=(Nt=xe).Ea;tt==0&&(Sh(Ve,De,null,null,1,Pe,lt),bt(Ve,De+1,0,0,pt-1,Pe,lt+1),De+=pt,lt+=pt,++tt);for(var ot=1<<Nt.b,It=ot-1,St=Ze(pt,Nt.b),$t=Nt.K,Nt=Nt.w+(tt>>Nt.b)*St;tt<Re;){var Kn=$t,Rn=Nt,Mn=1;for(Af(Ve,De,Pe,lt-pt,1,Pe,lt);Mn<pt;){var un=(Mn&~It)+ot;un>pt&&(un=pt),(0,Cs[Kn[Rn++]>>8&15])(Ve,De+ +Mn,Pe,lt+Mn-pt,un-Mn,Pe,lt+Mn),Mn=un}De+=pt,lt+=pt,++tt&It||(Nt+=St)}qe!=xe.nc&&r(me,fe-dt,me,fe+(qe-Ie-1)*dt,dt);break;case 1:for(dt=Ve,Re=De,pt=(Ve=xe.Ea)-(lt=Ve&~(Pe=(De=1<<xe.b)-1)),tt=Ze(Ve,xe.b),ot=xe.K,xe=xe.w+(Ie>>xe.b)*tt;Ie<qe;){for(It=ot,St=xe,$t=new Ke,Nt=Re+lt,Kn=Re+Ve;Re<Nt;)Dt(It[St++],$t),ec($t,dt,Re,De,me,fe),Re+=De,fe+=De;Re<Kn&&(Dt(It[St++],$t),ec($t,dt,Re,pt,me,fe),Re+=pt,fe+=pt),++Ie&Pe||(xe+=tt)}break;case 3:if(Ve==me&&De==fe&&0<xe.b){for(Re=me,Ve=dt=fe+(qe-Ie)*dt-(lt=(qe-Ie)*Ze(xe.Ea,xe.b)),De=me,Pe=fe,tt=[],lt=(pt=lt)-1;0<=lt;--lt)tt[lt]=De[Pe+lt];for(lt=pt-1;0<=lt;--lt)Re[Ve+lt]=tt[lt];Ts(xe,Ie,qe,me,dt,me,fe)}else Ts(xe,Ie,qe,Ve,De,me,fe)}fe=K,me=q}me!=q&&r(K,q,fe,me,ce)}function Yt(b,T){var q=b.V,K=b.Ba+b.c*b.C,oe=T-b.C;if(e(T<=b.l.o),e(16>=oe),0<oe){var ce=b.l,ue=b.Ta,fe=b.Ua,me=ce.width;if(Xe(b,oe,q,K),oe=fe=[fe],e((q=b.C)<(K=T)),e(ce.v<ce.va),K>ce.o&&(K=ce.o),q<ce.j){var xe=ce.j-q;q=ce.j,oe[0]+=xe*me}if(q>=K?q=0:(oe[0]+=4*ce.v,ce.ka=q-ce.j,ce.U=ce.va-ce.v,ce.T=K-q,q=1),q){if(fe=fe[0],11>(q=b.ca).S){var Ie=q.f.RGBA,qe=(K=q.S,oe=ce.U,ce=ce.T,xe=Ie.eb,Ie.A),Ve=ce;for(Ie=Ie.fb+b.Ma*Ie.A;0<Ve--;){var De=ue,dt=fe,tt=oe,Re=xe,Pe=Ie;switch(K){case Th:Na(De,dt,tt,Re,Pe);break;case da:la(De,dt,tt,Re,Pe);break;case Ef:la(De,dt,tt,Re,Pe),Ha(Re,Pe,0,tt,1,0);break;case Ch:ul(De,dt,tt,Re,Pe);break;case Is:xn(De,dt,tt,Re,Pe,1);break;case Ih:xn(De,dt,tt,Re,Pe,1),Ha(Re,Pe,0,tt,1,0);break;case Nf:xn(De,dt,tt,Re,Pe,0);break;case nd:xn(De,dt,tt,Re,Pe,0),Ha(Re,Pe,1,tt,1,0);break;case td:cl(De,dt,tt,Re,Pe);break;case Rh:cl(De,dt,tt,Re,Pe),Cn(Re,Pe,tt,1,0);break;case ac:ro(De,dt,tt,Re,Pe);break;default:e(0)}fe+=me,Ie+=qe}b.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=q.height)}}b.C=T,e(b.C<=b.i)}function cn(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var q=b.Ya[T].G,K=b.Ya[T].H;if(0<q[1][K[1]+0].g||0<q[2][K[2]+0].g||0<q[3][K[3]+0].g)return 0}return 1}function Ht(b,T,q,K,oe,ce){if(b.Z!=0){var ue=b.qd,fe=b.rd;for(e(pl[b.Z]!=null);T<q;++T)pl[b.Z](ue,fe,K,oe,K,oe,ce),ue=K,fe=oe,oe+=ce;b.qd=ue,b.rd=fe}}function zt(b,T){var q=b.l.ma,K=q.Z==0||q.Z==1?b.l.j:b.C;if(K=b.C<K?K:b.C,e(T<=b.l.o),T>K){var oe=b.l.width,ce=q.ca,ue=q.tb+oe*K,fe=b.V,me=b.Ba+b.c*K,xe=b.gc;e(b.ab==1),e(xe[0].hc==3),Eh(xe[0],K,T,fe,me,ce,ue),Ht(q,K,T,ce,ue,oe)}b.C=b.Ma=T}function nn(b,T,q,K,oe,ce,ue){var fe=b.$/K,me=b.$%K,xe=b.m,Ie=b.s,qe=q+b.$,Ve=qe;oe=q+K*oe;var De=q+K*ce,dt=280+Ie.ua,tt=b.Pb?fe:16777216,Re=0<Ie.ua?Ie.Wa:null,Pe=Ie.wc,lt=qe<De?de(Ie,me,fe):null;e(b.C<ce),e(De<=oe);var pt=!1;e:for(;;){for(;pt||qe<De;){var ot=0;if(fe>=tt){var It=qe-q;e((tt=b).Pb),tt.wd=tt.m,tt.xd=It,0<tt.s.ua&&Ne(tt.s.Wa,tt.s.vb),tt=fe+sc}if(me&Pe||(lt=de(Ie,me,fe)),e(lt!=null),lt.Qb&&(T[qe]=lt.qb,pt=!0),!pt)if(Q(xe),lt.jc){ot=xe,It=T;var St=qe,$t=lt.pd[Y(ot)&ki-1];e(lt.jc),256>$t.g?(X(ot,ot.u+$t.g),It[St]=$t.value,ot=0):(X(ot,ot.u+$t.g-256),e(256<=$t.value),ot=$t.value),ot==0&&(pt=!0)}else ot=qr(lt.G[0],lt.H[0],xe);if(xe.h)break;if(pt||256>ot){if(!pt)if(lt.nd)T[qe]=(lt.qb|ot<<8)>>>0;else{if(Q(xe),pt=qr(lt.G[1],lt.H[1],xe),Q(xe),It=qr(lt.G[2],lt.H[2],xe),St=qr(lt.G[3],lt.H[3],xe),xe.h)break;T[qe]=(St<<24|pt<<16|ot<<8|It)>>>0}if(pt=!1,++qe,++me>=K&&(me=0,++fe,ue!=null&&fe<=ce&&!(fe%16)&&ue(b,fe),Re!=null))for(;Ve<qe;)ot=T[Ve++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot}else if(280>ot){if(ot=Ci(ot-256,xe),It=qr(lt.G[4],lt.H[4],xe),Q(xe),It=jr(K,It=Ci(It,xe)),xe.h)break;if(qe-q<It||oe-qe<ot)break e;for(St=0;St<ot;++St)T[qe+St]=T[qe+St-It];for(qe+=ot,me+=ot;me>=K;)me-=K,++fe,ue!=null&&fe<=ce&&!(fe%16)&&ue(b,fe);if(e(qe<=oe),me&Pe&&(lt=de(Ie,me,fe)),Re!=null)for(;Ve<qe;)ot=T[Ve++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot}else{if(!(ot<dt))break e;for(pt=ot-280,e(Re!=null);Ve<qe;)ot=T[Ve++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot;ot=qe,e(!(pt>>>(It=Re).Xa)),T[ot]=It.X[pt],pt=!0}pt||e(xe.h==ee(xe))}if(b.Pb&&xe.h&&qe<oe)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ne(b.s.vb,b.s.Wa);else{if(xe.h)break e;ue!=null&&ue(b,fe>ce?ce:fe),b.a=0,b.$=qe-q}return 1}return b.a=3,0}function Ue(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function Ct(){var b=new Wu;return b==null?null:(b.a=0,b.xb=Um,Ma("Predictor","VP8LPredictors"),Ma("Predictor","VP8LPredictors_C"),Ma("PredictorAdd","VP8LPredictorsAdd"),Ma("PredictorAdd","VP8LPredictorsAdd_C"),Nh=At,ec=Tt,Na=wt,la=Hn,cl=en,ro=Jn,ul=yn,D.VP8LMapColor32b=Yu,D.VP8LMapColor8b=oa,b)}function qt(b,T,q,K,oe){var ce=1,ue=[b],fe=[T],me=K.m,xe=K.s,Ie=null,qe=0;e:for(;;){if(q)for(;ce&&we(me,1);){var Ve=ue,De=fe,dt=K,tt=1,Re=dt.m,Pe=dt.gc[dt.ab],lt=we(Re,2);if(dt.Oc&1<<lt)ce=0;else{switch(dt.Oc|=1<<lt,Pe.hc=lt,Pe.Ea=Ve[0],Pe.nc=De[0],Pe.K=[null],++dt.ab,e(4>=dt.ab),lt){case 0:case 1:Pe.b=we(Re,3)+2,tt=qt(Ze(Pe.Ea,Pe.b),Ze(Pe.nc,Pe.b),0,dt,Pe.K),Pe.K=Pe.K[0];break;case 3:var pt,ot=we(Re,8)+1,It=16<ot?0:4<ot?1:2<ot?2:3;if(Ve[0]=Ze(Pe.Ea,It),Pe.b=It,pt=tt=qt(ot,1,0,dt,Pe.K)){var St,$t=ot,Nt=Pe,Kn=1<<(8>>Nt.b),Rn=a(Kn);if(Rn==null)pt=0;else{var Mn=Nt.K[0],un=Nt.w;for(Rn[0]=Nt.K[0][0],St=1;St<1*$t;++St)Rn[St]=ze(Mn[un+St],Rn[St-1]);for(;St<4*Kn;++St)Rn[St]=0;Nt.K[0]=null,Nt.K[0]=Rn,pt=1}}tt=pt;break;case 2:break;default:e(0)}ce=tt}}if(ue=ue[0],fe=fe[0],ce&&we(me,1)&&!(ce=1<=(qe=we(me,4))&&11>=qe)){K.a=3;break e}var or;if(or=ce)t:{var er,Qt,mr,Oi=K,Zr=ue,fa=fe,$n=qe,Xi=q,Ga=Oi.m,_i=Oi.s,ei=[null],ji=1,gs=0,Ms=Ps[$n];n:for(;;){if(Xi&&we(Ga,1)){var fi=we(Ga,3)+2,si=Ze(Zr,fi),Di=Ze(fa,fi),vs=si*Di;if(!qt(si,Di,0,Oi,ei))break n;for(ei=ei[0],_i.xc=fi,er=0;er<vs;++er){var ko=ei[er]>>8&65535;ei[er]=ko,ko>=ji&&(ji=ko+1)}}if(Ga.h)break n;for(Qt=0;5>Qt;++Qt){var Hr=Zc[Qt];!Qt&&0<$n&&(Hr+=1<<$n),gs<Hr&&(gs=Hr)}var Po=s(ji*Ms,R),Wa=ji,ti=s(Wa,G);if(ti==null)var nu=null;else e(65536>=Wa),nu=ti;var ys=a(gs);if(nu==null||ys==null||Po==null){Oi.a=1;break n}var ln=Po;for(er=mr=0;er<ji;++er){var An=nu[er],Tr=An.G,ml=An.H,ru=0,Oo=1,Rf=0;for(Qt=0;5>Qt;++Qt){Hr=Zc[Qt],Tr[Qt]=ln,ml[Qt]=mr,!Qt&&0<$n&&(Hr+=1<<$n);i:{var fc,hc=Hr,Lh=Oi,br=ys,Vm=ln,qm=mr,Fh=0,gl=Lh.m,i_=we(gl,1);if(i(br,0,0,hc),i_){var zm=we(gl,1)+1,$m=we(gl,1),Uh=we(gl,$m==0?1:8);br[Uh]=1,zm==2&&(br[Uh=we(gl,8)]=1);var Mi=1}else{var ni=a(19),kf=we(gl,4)+4;if(19<kf){Lh.a=3;var pc=0;break i}for(fc=0;fc<kf;++fc)ni[Tf[fc]]=we(gl,3);var od=void 0,iu=void 0,jo=Lh,Bh=ni,ld=hc,Vh=br,qh=0,vl=jo.m,Hm=8,Gm=s(128,R);r:for(;U(Gm,0,7,Bh,19);){if(we(vl,1)){var Tv=2+2*we(vl,3);if((od=2+we(vl,Tv))>ld)break r}else od=ld;for(iu=0;iu<ld&&od--;){Q(vl);var Wm=Gm[0+(127&Y(vl))];X(vl,vl.u+Wm.g);var mc=Wm.value;if(16>mc)Vh[iu++]=mc,mc!=0&&(Hm=mc);else{var Cv=mc==16,Iv=mc-16,Rv=rd[Iv],Km=we(vl,Rs[Iv])+Rv;if(iu+Km>ld)break r;for(var kv=Cv?Hm:0;0<Km--;)Vh[iu++]=kv}}qh=1;break r}qh||(jo.a=3),Mi=qh}(Mi=Mi&&!gl.h)&&(Fh=U(Vm,qm,8,br,hc)),Mi&&Fh!=0?pc=Fh:(Lh.a=3,pc=0)}if(pc==0)break n;if(Oo&&kh[Qt]==1&&(Oo=ln[mr].g==0),ru+=ln[mr].g,mr+=pc,3>=Qt){var au,zh=ys[0];for(au=1;au<Hr;++au)ys[au]>zh&&(zh=ys[au]);Rf+=zh}}if(An.nd=Oo,An.Qb=0,Oo&&(An.qb=(Tr[3][ml[3]+0].value<<24|Tr[1][ml[1]+0].value<<16|Tr[2][ml[2]+0].value)>>>0,ru==0&&256>Tr[0][ml[0]+0].value&&(An.Qb=1,An.qb+=Tr[0][ml[0]+0].value<<8)),An.jc=!An.Qb&&6>Rf,An.jc){var Pf,Do=An;for(Pf=0;Pf<ki;++Pf){var yl=Pf,xl=Do.pd[yl],$h=Do.G[0][Do.H[0]+yl];256<=$h.value?(xl.g=$h.g+256,xl.value=$h.value):(xl.g=0,xl.value=0,yl>>=cr($h,8,xl),yl>>=cr(Do.G[1][Do.H[1]+yl],16,xl),yl>>=cr(Do.G[2][Do.H[2]+yl],0,xl),cr(Do.G[3][Do.H[3]+yl],24,xl))}}}_i.vc=ei,_i.Wb=ji,_i.Ya=nu,_i.yc=Po,or=1;break t}or=0}if(!(ce=or)){K.a=3;break e}if(0<qe){if(xe.ua=1<<qe,!Fe(xe.Wa,qe)){K.a=1,ce=0;break e}}else xe.ua=0;var Hh=K,su=ue,Pv=fe,cd=Hh.s,ud=cd.xc;if(Hh.c=su,Hh.i=Pv,cd.md=Ze(su,ud),cd.wc=ud==0?-1:(1<<ud)-1,q){K.xb=oc;break e}if((Ie=a(ue*fe))==null){K.a=1,ce=0;break e}ce=(ce=nn(K,Ie,0,ue,fe,fe,null))&&!me.h;break e}return ce?(oe!=null?oe[0]=Ie:(e(Ie==null),e(q)),K.$=0,q||Ue(xe)):Ue(xe),ce}function Dr(b,T){var q=b.c*b.i,K=q+T+16*T;return e(b.c<=T),b.V=a(K),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+q+T,1)}function Mr(b,T){var q=b.C,K=T-q,oe=b.V,ce=b.Ba+b.c*q;for(e(T<=b.l.o);0<K;){var ue=16<K?16:K,fe=b.l.ma,me=b.l.width,xe=me*ue,Ie=fe.ca,qe=fe.tb+me*q,Ve=b.Ta,De=b.Ua;Xe(b,ue,oe,ce),Wn(Ve,De,Ie,qe,xe),Ht(fe,q,q+ue,Ie,qe,me),K-=ue,oe+=ue*b.c,q+=ue}e(q==T),b.C=b.Ma=T}function jn(){this.ub=this.yd=this.td=this.Rb=0}function Lr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function La(){this.Yb=(function(){var b=[];return(function T(q,K,oe){for(var ce=oe[K],ue=0;ue<ce&&(q.push(oe.length>K+1?[]:0),!(oe.length<K+1));ue++)T(q[ue],K+1,oe)})(b,0,[3,11]),b})()}function cs(){this.jb=a(3),this.Wc=l([4,8],La),this.Xc=l([4,17],La)}function zr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ws(){this.ld=this.La=this.dd=this.tc=0}function Ks(){this.Na=this.la=0}function $i(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ws),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new Qo}function Bl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function zc(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new jn,this.Kc=new Lr,this.ed=new zr,this.Qa=new Gn,this.Ic=this.$c=this.Aa=0,this.D=new bf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ie),this.ia=0,this.pb=s(4,$i),this.Pa=new cs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bl),this.Hd=0,this.rb=Array(new Ks),this.sb=0,this.wa=Array(new Ws),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=l([4,2],Ws),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _o(){var b=new zc;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ms||(ms=$c)),b}function ur(b,T,q){return b.a==0&&(b.a=T,b.sc=q,b.cb=0),0}function xa(b,T,q){return 3<=q&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function Ii(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return ur(b,2,"null VP8Io passed to VP8GetHeaders()");var q=T.data,K=T.w,oe=T.ha;if(4>oe)return ur(b,7,"Truncated header.");var ce=q[K+0]|q[K+1]<<8|q[K+2]<<16,ue=b.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return ur(b,3,"Incorrect keyframe parameters.");if(!ue.yd)return ur(b,4,"Frame not displayable.");K+=3,oe-=3;var fe=b.Kc;if(ue.Rb){if(7>oe)return ur(b,7,"cannot parse picture header");if(!xa(q,K,oe))return ur(b,3,"Bad code word");fe.c=16383&(q[K+4]<<8|q[K+3]),fe.Td=q[K+4]>>6,fe.i=16383&(q[K+6]<<8|q[K+5]),fe.Ud=q[K+6]>>6,K+=7,oe-=7,b.za=fe.c+15>>4,b.Ub=fe.i+15>>4,T.width=fe.c,T.height=fe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ce=b.Pa).jb,0,255,ce.jb.length),e((ce=b.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(ue.ub>oe)return ur(b,7,"bad partition length");le(ce=b.m,q,K,ue.ub),K+=ue.ub,oe-=ue.ub,ue.Rb&&(fe.Ld=be(ce),fe.Kd=be(ce)),fe=b.Qa;var me,xe=b.Pa;if(e(ce!=null),e(fe!=null),fe.Cb=be(ce),fe.Cb){if(fe.Bb=be(ce),be(ce)){for(fe.Fb=be(ce),me=0;4>me;++me)fe.Zb[me]=be(ce)?te(ce,7):0;for(me=0;4>me;++me)fe.Lb[me]=be(ce)?te(ce,6):0}if(fe.Bb)for(me=0;3>me;++me)xe.jb[me]=be(ce)?W(ce,8):255}else fe.Bb=0;if(ce.Ka)return ur(b,3,"cannot parse segment header");if((fe=b.ed).zd=be(ce),fe.Tb=W(ce,6),fe.wb=W(ce,3),fe.Pc=be(ce),fe.Pc&&be(ce)){for(xe=0;4>xe;++xe)be(ce)&&(fe.vd[xe]=te(ce,6));for(xe=0;4>xe;++xe)be(ce)&&(fe.od[xe]=te(ce,6))}if(b.L=fe.Tb==0?0:fe.zd?1:2,ce.Ka)return ur(b,3,"cannot parse filter header");var Ie=oe;if(oe=me=K,K=me+Ie,fe=Ie,b.Xb=(1<<W(b.m,2))-1,Ie<3*(xe=b.Xb))q=7;else{for(me+=3*xe,fe-=3*xe,Ie=0;Ie<xe;++Ie){var qe=q[oe+0]|q[oe+1]<<8|q[oe+2]<<16;qe>fe&&(qe=fe),le(b.Jc[+Ie],q,me,qe),me+=qe,fe-=qe,oe+=3}le(b.Jc[+xe],q,me,fe),q=me<K?0:5}if(q!=0)return ur(b,q,"cannot parse partitions");for(q=W(me=b.m,7),oe=be(me)?te(me,4):0,K=be(me)?te(me,4):0,fe=be(me)?te(me,4):0,xe=be(me)?te(me,4):0,me=be(me)?te(me,4):0,Ie=b.Qa,qe=0;4>qe;++qe){if(Ie.Cb){var Ve=Ie.Zb[qe];Ie.Fb||(Ve+=q)}else{if(0<qe){b.pb[qe]=b.pb[0];continue}Ve=q}var De=b.pb[qe];De.Sc[0]=Os[Zn(Ve+oe,127)],De.Sc[1]=js[Zn(Ve+0,127)],De.Eb[0]=2*Os[Zn(Ve+K,127)],De.Eb[1]=101581*js[Zn(Ve+fe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=Os[Zn(Ve+xe,117)],De.Qc[1]=js[Zn(Ve+me,127)],De.lc=Ve+me}if(!ue.Rb)return ur(b,4,"Not a key frame.");for(be(ce),ue=b.Pa,q=0;4>q;++q){for(oe=0;8>oe;++oe)for(K=0;3>K;++K)for(fe=0;11>fe;++fe)xe=ae(ce,Er[q][oe][K][fe])?W(ce,8):Nv[q][oe][K][fe],ue.Wc[q][oe].Yb[K][fe]=xe;for(oe=0;17>oe;++oe)ue.Xc[q][oe]=ue.Wc[q][In[oe]]}return b.kc=be(ce),b.kc&&(b.Bd=W(ce,8)),b.cb=1}function $c(b,T,q,K,oe,ce,ue){var fe=T[oe].Yb[q];for(q=0;16>oe;++oe){if(!ae(b,fe[q+0]))return oe;for(;!ae(b,fe[q+1]);)if(fe=T[++oe].Yb[0],q=0,oe==16)return 16;var me=T[oe+1].Yb;if(ae(b,fe[q+2])){var xe=b,Ie=0;if(ae(xe,(Ve=fe)[(qe=q)+3]))if(ae(xe,Ve[qe+6])){for(fe=0,qe=2*(Ie=ae(xe,Ve[qe+8]))+(Ve=ae(xe,Ve[qe+9+Ie])),Ie=0,Ve=Sv[qe];Ve[fe];++fe)Ie+=Ie+ae(xe,Ve[fe]);Ie+=3+(8<<qe)}else ae(xe,Ve[qe+7])?(Ie=7+2*ae(xe,165),Ie+=ae(xe,145)):Ie=5+ae(xe,159);else Ie=ae(xe,Ve[qe+4])?3+ae(xe,Ve[qe+5]):2;fe=me[2]}else Ie=1,fe=me[1];me=ue+Fm[oe],0>(xe=b).b&&ge(xe);var qe,Ve=xe.b,De=(qe=xe.Ca>>1)-(xe.I>>Ve)>>31;--xe.b,xe.Ca+=De,xe.Ca|=1,xe.I-=(qe+1&De)<<Ve,ce[me]=((Ie^De)-De)*K[(0<oe)+0]}return 16}function Hc(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Vl(b,T){if(b==null)return 0;if(T==null)return ur(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Ii(b,T))return 0;if(e(b.cb),T.ac==null||T.ac(T)){T.ob&&(b.L=0);var q=sd[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=T.v-q>>4,b.zb=T.j-q>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=T.o+15+q>>4,b.Hb=T.va+15+q>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var K=b.ed;for(q=0;4>q;++q){var oe;if(b.Qa.Cb){var ce=b.Qa.Lb[q];b.Qa.Fb||(ce+=K.Tb)}else ce=K.Tb;for(oe=0;1>=oe;++oe){var ue=b.gd[q][oe],fe=ce;if(K.Pc&&(fe+=K.vd[0],oe&&(fe+=K.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var me=fe;0<K.wb&&(me=4<K.wb?me>>2:me>>1)>9-K.wb&&(me=9-K.wb),1>me&&(me=1),ue.dd=me,ue.tc=2*fe+me,ue.ld=40<=fe?2:15<=fe?1:0}else ue.tc=0;ue.La=oe}}}q=0}else ur(b,6,"Frame setup failed"),q=b.a;if(q=q==0){if(q){b.$c=0,0<b.Aa||(b.Ic=If);e:{q=b.Ic,K=4*(me=b.za);var xe=32*me,Ie=me+1,qe=0<b.L?me*(0<b.Aa?2:1):0,Ve=(b.Aa==2?2:1)*me;if((ue=K+832+(oe=3*(16*q+sd[b.L])/2*xe)+(ce=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ue)q=0;else{if(ue>b.Vb){if(b.Vb=0,b.Ec=a(ue),b.Fc=0,b.Ec==null){q=ur(b,1,"no memory during frame initialization.");break e}b.Vb=ue}ue=b.Ec,fe=b.Fc,b.Ac=ue,b.Bc=fe,fe+=K,b.Gd=s(xe,Bl),b.Hd=0,b.rb=s(Ie+1,Ks),b.sb=1,b.wa=qe?s(qe,Ws):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=me),e(!0),b.oc=ue,b.pc=fe,fe+=832,b.ya=s(Ve,Fa),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=me),b.R=16*me,b.B=8*me,me=(xe=sd[b.L])*b.R,xe=xe/2*b.B,b.sa=ue,b.ta=fe+me,b.qa=b.sa,b.ra=b.ta+16*q*b.R+xe,b.Ha=b.qa,b.Ia=b.ra+8*q*b.B+xe,b.$c=0,fe+=oe,b.mb=ce?ue:null,b.nb=ce?fe:null,e(fe+ce<=b.Fc+b.Vb),Hc(b),i(b.Ac,b.Bc,0,K),q=1}}if(q){if(T.ka=0,T.y=b.sa,T.O=b.ta,T.f=b.qa,T.N=b.ra,T.ea=b.Ha,T.Vd=b.Ia,T.fa=b.R,T.Rc=b.B,T.F=null,T.J=0,!ed){for(q=-255;255>=q;++q)Fr[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)oo[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)ic[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)fl[255+q]=0>q?0:255<q?255:q;ed=1}io=Ao,ao=Zo,Xc=el,ca=Dn,Pi=wo,Nr=Js,so=Gl,Ju=eo,Xu=Wl,hs=Yc,tc=Eo,dl=il,nc=Kl,Qu=To,Qc=Qs,rc=Aa,Zu=$r,ps=rl,Qr[0]=Ua,Qr[1]=_f,Qr[2]=_a,Qr[3]=Gu,Qr[4]=Wc,Qr[5]=aa,Qr[6]=Hi,Qr[7]=nl,Qr[8]=wa,Qr[9]=Es,Ea[0]=ds,Ea[1]=Hu,Ea[2]=us,Ea[3]=ql,Ea[4]=zn,Ea[5]=$l,Ea[6]=tl,lo[0]=qa,lo[1]=Gc,lo[2]=Hl,lo[3]=Ba,lo[4]=Xn,lo[5]=So,lo[6]=di,q=1}else q=0}q&&(q=(function(De,dt){for(De.M=0;De.M<De.Va;++De.M){var tt,Re=De.Jc[De.M&De.Xb],Pe=De.m,lt=De;for(tt=0;tt<lt.za;++tt){var pt=Pe,ot=lt,It=ot.Ac,St=ot.Bc+4*tt,$t=ot.zc,Nt=ot.ya[ot.aa+tt];if(ot.Qa.Bb?Nt.$b=ae(pt,ot.Pa.jb[0])?2+ae(pt,ot.Pa.jb[2]):ae(pt,ot.Pa.jb[1]):Nt.$b=0,ot.kc&&(Nt.Ad=ae(pt,ot.Bd)),Nt.Za=!ae(pt,145)+0,Nt.Za){var Kn=Nt.Ob,Rn=0;for(ot=0;4>ot;++ot){var Mn,un=$t[0+ot];for(Mn=0;4>Mn;++Mn){un=Ki[It[St+Mn]][un];for(var or=Ph[ae(pt,un[0])];0<or;)or=Ph[2*or+ae(pt,un[or])];un=-or,It[St+Mn]=un}r(Kn,Rn,It,St,4),Rn+=4,$t[0+ot]=un}}else un=ae(pt,156)?ae(pt,128)?1:3:ae(pt,163)?2:0,Nt.Ob[0]=un,i(It,St,un,4),i($t,0,un,4);Nt.Dd=ae(pt,142)?ae(pt,114)?ae(pt,183)?1:3:2:0}if(lt.m.Ka)return ur(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(lt=Re,pt=(Pe=De).rb[Pe.sb-1],It=Pe.rb[Pe.sb+Pe.ja],tt=Pe.ya[Pe.aa+Pe.ja],St=Pe.kc?tt.Ad:0)pt.la=It.la=0,tt.Za||(pt.Na=It.Na=0),tt.Hc=0,tt.Gc=0,tt.ia=0;else{var er,Qt;if(pt=It,It=lt,St=Pe.Pa.Xc,$t=Pe.ya[Pe.aa+Pe.ja],Nt=Pe.pb[$t.$b],ot=$t.ad,Kn=0,Rn=Pe.rb[Pe.sb-1],un=Mn=0,i(ot,Kn,0,384),$t.Za)var mr=0,Oi=St[3];else{or=a(16);var Zr=pt.Na+Rn.Na;if(Zr=ms(It,St[1],Zr,Nt.Eb,0,or,0),pt.Na=Rn.Na=(0<Zr)+0,1<Zr)io(or,0,ot,Kn);else{var fa=or[0]+3>>3;for(or=0;256>or;or+=16)ot[Kn+or]=fa}mr=1,Oi=St[0]}var $n=15&pt.la,Xi=15&Rn.la;for(or=0;4>or;++or){var Ga=1&Xi;for(fa=Qt=0;4>fa;++fa)$n=$n>>1|(Ga=(Zr=ms(It,Oi,Zr=Ga+(1&$n),Nt.Sc,mr,ot,Kn))>mr)<<7,Qt=Qt<<2|(3<Zr?3:1<Zr?2:ot[Kn+0]!=0),Kn+=16;$n>>=4,Xi=Xi>>1|Ga<<7,Mn=(Mn<<8|Qt)>>>0}for(Oi=$n,mr=Xi>>4,er=0;4>er;er+=2){for(Qt=0,$n=pt.la>>4+er,Xi=Rn.la>>4+er,or=0;2>or;++or){for(Ga=1&Xi,fa=0;2>fa;++fa)Zr=Ga+(1&$n),$n=$n>>1|(Ga=0<(Zr=ms(It,St[2],Zr,Nt.Qc,0,ot,Kn)))<<3,Qt=Qt<<2|(3<Zr?3:1<Zr?2:ot[Kn+0]!=0),Kn+=16;$n>>=2,Xi=Xi>>1|Ga<<5}un|=Qt<<4*er,Oi|=$n<<4<<er,mr|=(240&Xi)<<er}pt.la=Oi,Rn.la=mr,$t.Hc=Mn,$t.Gc=un,$t.ia=43690&un?0:Nt.ia,St=!(Mn|un)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[tt.$b][tt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!St),lt.Ka)return ur(De,7,"Premature end-of-file encountered.")}if(Hc(De),Pe=dt,lt=1,tt=(Re=De).D,pt=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)e:{if(tt.M=Re.M,tt.uc=pt,no(Re,tt),lt=1,tt=(Qt=Re.D).Nb,pt=(un=sd[Re.L])*Re.R,It=un/2*Re.B,or=16*tt*Re.R,fa=8*tt*Re.B,St=Re.sa,$t=Re.ta-pt+or,Nt=Re.qa,ot=Re.ra-It+fa,Kn=Re.Ha,Rn=Re.Ia-It+fa,Xi=($n=Qt.M)==0,Mn=$n>=Re.Va-1,Re.Aa==2&&no(Re,Qt),Qt.uc)for(Ga=(Zr=Re).D.M,e(Zr.D.uc),Qt=Zr.yb;Qt<Zr.Hb;++Qt){mr=Qt,Oi=Ga;var _i=(ei=(Hr=Zr).D).Nb;er=Hr.R;var ei=ei.wa[ei.Y+mr],ji=Hr.sa,gs=Hr.ta+16*_i*er+16*mr,Ms=ei.dd,fi=ei.tc;if(fi!=0)if(e(3<=fi),Hr.L==1)0<mr&&rc(ji,gs,er,fi+4),ei.La&&ps(ji,gs,er,fi),0<Oi&&Qc(ji,gs,er,fi+4),ei.La&&Zu(ji,gs,er,fi);else{var si=Hr.B,Di=Hr.qa,vs=Hr.ra+8*_i*si+8*mr,ko=Hr.Ha,Hr=Hr.Ia+8*_i*si+8*mr;_i=ei.ld,0<mr&&(Ju(ji,gs,er,fi+4,Ms,_i),hs(Di,vs,ko,Hr,si,fi+4,Ms,_i)),ei.La&&(dl(ji,gs,er,fi,Ms,_i),Qu(Di,vs,ko,Hr,si,fi,Ms,_i)),0<Oi&&(so(ji,gs,er,fi+4,Ms,_i),Xu(Di,vs,ko,Hr,si,fi+4,Ms,_i)),ei.La&&(tc(ji,gs,er,fi,Ms,_i),nc(Di,vs,ko,Hr,si,fi,Ms,_i))}}if(Re.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Qt=16*$n,$n=16*($n+1),Xi?(Pe.y=Re.sa,Pe.O=Re.ta+or,Pe.f=Re.qa,Pe.N=Re.ra+fa,Pe.ea=Re.Ha,Pe.W=Re.Ia+fa):(Qt-=un,Pe.y=St,Pe.O=$t,Pe.f=Nt,Pe.N=ot,Pe.ea=Kn,Pe.W=Rn),Mn||($n-=un),$n>Pe.o&&($n=Pe.o),Pe.F=null,Pe.J=null,Re.Fa!=null&&0<Re.Fa.length&&Qt<$n&&(Pe.J=sl(Re,Pe,Qt,$n-Qt),Pe.F=Re.mb,Pe.F==null&&Pe.F.length==0)){lt=ur(Re,3,"Could not decode alpha data.");break e}Qt<Pe.j&&(un=Pe.j-Qt,Qt=Pe.j,e(!(1&un)),Pe.O+=Re.R*un,Pe.N+=Re.B*(un>>1),Pe.W+=Re.B*(un>>1),Pe.F!=null&&(Pe.J+=Pe.width*un)),Qt<$n&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Qt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=$n-Qt,lt=Pe.put(Pe))}tt+1!=Re.Ic||Mn||(r(Re.sa,Re.ta-pt,St,$t+16*Re.R,pt),r(Re.qa,Re.ra-It,Nt,ot+8*Re.B,It),r(Re.Ha,Re.Ia-It,Kn,Rn+8*Re.B,It))}if(!lt)return ur(De,6,"Output aborted.")}return 1})(b,T)),T.bc!=null&&T.bc(T),q&=1}return q?(b.cb=0,q):0}function ba(b,T,q,K,oe){oe=b[T+q+32*K]+(oe>>3),b[T+q+32*K]=-256&oe?0>oe?0:255:oe}function Ys(b,T,q,K,oe,ce){ba(b,T,0,q,K+oe),ba(b,T,1,q,K+ce),ba(b,T,2,q,K-ce),ba(b,T,3,q,K-oe)}function Xr(b){return(20091*b>>16)+b}function xr(b,T,q,K){var oe,ce=0,ue=a(16);for(oe=0;4>oe;++oe){var fe=b[T+0]+b[T+8],me=b[T+0]-b[T+8],xe=(35468*b[T+4]>>16)-Xr(b[T+12]),Ie=Xr(b[T+4])+(35468*b[T+12]>>16);ue[ce+0]=fe+Ie,ue[ce+1]=me+xe,ue[ce+2]=me-xe,ue[ce+3]=fe-Ie,ce+=4,T++}for(oe=ce=0;4>oe;++oe)fe=(b=ue[ce+0]+4)+ue[ce+8],me=b-ue[ce+8],xe=(35468*ue[ce+4]>>16)-Xr(ue[ce+12]),ba(q,K,0,0,fe+(Ie=Xr(ue[ce+4])+(35468*ue[ce+12]>>16))),ba(q,K,1,0,me+xe),ba(q,K,2,0,me-xe),ba(q,K,3,0,fe-Ie),ce++,K+=32}function Js(b,T,q,K){var oe=b[T+0]+4,ce=35468*b[T+4]>>16,ue=Xr(b[T+4]),fe=35468*b[T+1]>>16;Ys(q,K,0,oe+ue,b=Xr(b[T+1]),fe),Ys(q,K,1,oe+ce,b,fe),Ys(q,K,2,oe-ce,b,fe),Ys(q,K,3,oe-ue,b,fe)}function Zo(b,T,q,K,oe){xr(b,T,q,K),oe&&xr(b,T+16,q,K+4)}function el(b,T,q,K){ao(b,T+0,q,K,1),ao(b,T+32,q,K+128,1)}function Dn(b,T,q,K){var oe;for(b=b[T+0]+4,oe=0;4>oe;++oe)for(T=0;4>T;++T)ba(q,K,T,oe,b)}function wo(b,T,q,K){b[T+0]&&ca(b,T+0,q,K),b[T+16]&&ca(b,T+16,q,K+4),b[T+32]&&ca(b,T+32,q,K+128),b[T+48]&&ca(b,T+48,q,K+128+4)}function Ao(b,T,q,K){var oe,ce=a(16);for(oe=0;4>oe;++oe){var ue=b[T+0+oe]+b[T+12+oe],fe=b[T+4+oe]+b[T+8+oe],me=b[T+4+oe]-b[T+8+oe],xe=b[T+0+oe]-b[T+12+oe];ce[0+oe]=ue+fe,ce[8+oe]=ue-fe,ce[4+oe]=xe+me,ce[12+oe]=xe-me}for(oe=0;4>oe;++oe)ue=(b=ce[0+4*oe]+3)+ce[3+4*oe],fe=ce[1+4*oe]+ce[2+4*oe],me=ce[1+4*oe]-ce[2+4*oe],xe=b-ce[3+4*oe],q[K+0]=ue+fe>>3,q[K+16]=xe+me>>3,q[K+32]=ue-fe>>3,q[K+48]=xe-me>>3,K+=64}function ia(b,T,q){var K,oe=T-32,ce=ua,ue=255-b[oe-1];for(K=0;K<q;++K){var fe,me=ce,xe=ue+b[T-1];for(fe=0;fe<q;++fe)b[T+fe]=me[xe+b[oe+fe]];T+=32}}function _f(b,T){ia(b,T,4)}function Gc(b,T){ia(b,T,8)}function Hu(b,T){ia(b,T,16)}function us(b,T){var q;for(q=0;16>q;++q)r(b,T+32*q,b,T-32,16)}function ql(b,T){var q;for(q=16;0<q;--q)i(b,T,b[T-1],16),T+=32}function zl(b,T,q){var K;for(K=0;16>K;++K)i(T,q+32*K,b,16)}function ds(b,T){var q,K=16;for(q=0;16>q;++q)K+=b[T-1+32*q]+b[T+q-32];zl(K>>5,b,T)}function zn(b,T){var q,K=8;for(q=0;16>q;++q)K+=b[T-1+32*q];zl(K>>4,b,T)}function $l(b,T){var q,K=8;for(q=0;16>q;++q)K+=b[T+q-32];zl(K>>4,b,T)}function tl(b,T){zl(128,b,T)}function Gt(b,T,q){return b+2*T+q+2>>2}function _a(b,T){var q,K=T-32;for(K=new Uint8Array([Gt(b[K-1],b[K+0],b[K+1]),Gt(b[K+0],b[K+1],b[K+2]),Gt(b[K+1],b[K+2],b[K+3]),Gt(b[K+2],b[K+3],b[K+4])]),q=0;4>q;++q)r(b,T+32*q,K,0,K.length)}function Gu(b,T){var q=b[T-1],K=b[T-1+32],oe=b[T-1+64],ce=b[T-1+96];Se(b,T+0,16843009*Gt(b[T-1-32],q,K)),Se(b,T+32,16843009*Gt(q,K,oe)),Se(b,T+64,16843009*Gt(K,oe,ce)),Se(b,T+96,16843009*Gt(oe,ce,ce))}function Ua(b,T){var q,K=4;for(q=0;4>q;++q)K+=b[T+q-32]+b[T-1+32*q];for(K>>=3,q=0;4>q;++q)i(b,T+32*q,K,4)}function Wc(b,T){var q=b[T-1+0],K=b[T-1+32],oe=b[T-1+64],ce=b[T-1-32],ue=b[T+0-32],fe=b[T+1-32],me=b[T+2-32],xe=b[T+3-32];b[T+0+96]=Gt(K,oe,b[T-1+96]),b[T+1+96]=b[T+0+64]=Gt(q,K,oe),b[T+2+96]=b[T+1+64]=b[T+0+32]=Gt(ce,q,K),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=Gt(ue,ce,q),b[T+3+64]=b[T+2+32]=b[T+1+0]=Gt(fe,ue,ce),b[T+3+32]=b[T+2+0]=Gt(me,fe,ue),b[T+3+0]=Gt(xe,me,fe)}function Hi(b,T){var q=b[T+1-32],K=b[T+2-32],oe=b[T+3-32],ce=b[T+4-32],ue=b[T+5-32],fe=b[T+6-32],me=b[T+7-32];b[T+0+0]=Gt(b[T+0-32],q,K),b[T+1+0]=b[T+0+32]=Gt(q,K,oe),b[T+2+0]=b[T+1+32]=b[T+0+64]=Gt(K,oe,ce),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=Gt(oe,ce,ue),b[T+3+32]=b[T+2+64]=b[T+1+96]=Gt(ce,ue,fe),b[T+3+64]=b[T+2+96]=Gt(ue,fe,me),b[T+3+96]=Gt(fe,me,me)}function aa(b,T){var q=b[T-1+0],K=b[T-1+32],oe=b[T-1+64],ce=b[T-1-32],ue=b[T+0-32],fe=b[T+1-32],me=b[T+2-32],xe=b[T+3-32];b[T+0+0]=b[T+1+64]=ce+ue+1>>1,b[T+1+0]=b[T+2+64]=ue+fe+1>>1,b[T+2+0]=b[T+3+64]=fe+me+1>>1,b[T+3+0]=me+xe+1>>1,b[T+0+96]=Gt(oe,K,q),b[T+0+64]=Gt(K,q,ce),b[T+0+32]=b[T+1+96]=Gt(q,ce,ue),b[T+1+32]=b[T+2+96]=Gt(ce,ue,fe),b[T+2+32]=b[T+3+96]=Gt(ue,fe,me),b[T+3+32]=Gt(fe,me,xe)}function nl(b,T){var q=b[T+0-32],K=b[T+1-32],oe=b[T+2-32],ce=b[T+3-32],ue=b[T+4-32],fe=b[T+5-32],me=b[T+6-32],xe=b[T+7-32];b[T+0+0]=q+K+1>>1,b[T+1+0]=b[T+0+64]=K+oe+1>>1,b[T+2+0]=b[T+1+64]=oe+ce+1>>1,b[T+3+0]=b[T+2+64]=ce+ue+1>>1,b[T+0+32]=Gt(q,K,oe),b[T+1+32]=b[T+0+96]=Gt(K,oe,ce),b[T+2+32]=b[T+1+96]=Gt(oe,ce,ue),b[T+3+32]=b[T+2+96]=Gt(ce,ue,fe),b[T+3+64]=Gt(ue,fe,me),b[T+3+96]=Gt(fe,me,xe)}function Es(b,T){var q=b[T-1+0],K=b[T-1+32],oe=b[T-1+64],ce=b[T-1+96];b[T+0+0]=q+K+1>>1,b[T+2+0]=b[T+0+32]=K+oe+1>>1,b[T+2+32]=b[T+0+64]=oe+ce+1>>1,b[T+1+0]=Gt(q,K,oe),b[T+3+0]=b[T+1+32]=Gt(K,oe,ce),b[T+3+32]=b[T+1+64]=Gt(oe,ce,ce),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=ce}function wa(b,T){var q=b[T-1+0],K=b[T-1+32],oe=b[T-1+64],ce=b[T-1+96],ue=b[T-1-32],fe=b[T+0-32],me=b[T+1-32],xe=b[T+2-32];b[T+0+0]=b[T+2+32]=q+ue+1>>1,b[T+0+32]=b[T+2+64]=K+q+1>>1,b[T+0+64]=b[T+2+96]=oe+K+1>>1,b[T+0+96]=ce+oe+1>>1,b[T+3+0]=Gt(fe,me,xe),b[T+2+0]=Gt(ue,fe,me),b[T+1+0]=b[T+3+32]=Gt(q,ue,fe),b[T+1+32]=b[T+3+64]=Gt(K,q,ue),b[T+1+64]=b[T+3+96]=Gt(oe,K,q),b[T+1+96]=Gt(ce,oe,K)}function Hl(b,T){var q;for(q=0;8>q;++q)r(b,T+32*q,b,T-32,8)}function Ba(b,T){var q;for(q=0;8>q;++q)i(b,T,b[T-1],8),T+=32}function Va(b,T,q){var K;for(K=0;8>K;++K)i(T,q+32*K,b,8)}function qa(b,T){var q,K=8;for(q=0;8>q;++q)K+=b[T+q-32]+b[T-1+32*q];Va(K>>4,b,T)}function So(b,T){var q,K=4;for(q=0;8>q;++q)K+=b[T+q-32];Va(K>>3,b,T)}function Xn(b,T){var q,K=4;for(q=0;8>q;++q)K+=b[T-1+32*q];Va(K>>3,b,T)}function di(b,T){Va(128,b,T)}function za(b,T,q){var K=b[T-q],oe=b[T+0],ce=3*(oe-K)+hl[1020+b[T-2*q]-b[T+q]],ue=Sf[112+(ce+4>>3)];b[T-q]=ua[255+K+Sf[112+(ce+3>>3)]],b[T+0]=ua[255+oe-ue]}function No(b,T,q,K){var oe=b[T+0],ce=b[T+q];return Wi[255+b[T-2*q]-b[T-q]]>K||Wi[255+ce-oe]>K}function Xs(b,T,q,K){return 4*Wi[255+b[T-q]-b[T+0]]+Wi[255+b[T-2*q]-b[T+q]]<=K}function Kc(b,T,q,K,oe){var ce=b[T-3*q],ue=b[T-2*q],fe=b[T-q],me=b[T+0],xe=b[T+q],Ie=b[T+2*q],qe=b[T+3*q];return 4*Wi[255+fe-me]+Wi[255+ue-xe]>K?0:Wi[255+b[T-4*q]-ce]<=oe&&Wi[255+ce-ue]<=oe&&Wi[255+ue-fe]<=oe&&Wi[255+qe-Ie]<=oe&&Wi[255+Ie-xe]<=oe&&Wi[255+xe-me]<=oe}function Qs(b,T,q,K){var oe=2*K+1;for(K=0;16>K;++K)Xs(b,T+K,q,oe)&&za(b,T+K,q)}function Aa(b,T,q,K){var oe=2*K+1;for(K=0;16>K;++K)Xs(b,T+K*q,1,oe)&&za(b,T+K*q,1)}function $r(b,T,q,K){var oe;for(oe=3;0<oe;--oe)Qs(b,T+=4*q,q,K)}function rl(b,T,q,K){var oe;for(oe=3;0<oe;--oe)Aa(b,T+=4,q,K)}function Zs(b,T,q,K,oe,ce,ue,fe){for(ce=2*ce+1;0<oe--;){if(Kc(b,T,q,ce,ue))if(No(b,T,q,fe))za(b,T,q);else{var me=b,xe=T,Ie=q,qe=me[xe-2*Ie],Ve=me[xe-Ie],De=me[xe+0],dt=me[xe+Ie],tt=me[xe+2*Ie],Re=27*(lt=hl[1020+3*(De-Ve)+hl[1020+qe-dt]])+63>>7,Pe=18*lt+63>>7,lt=9*lt+63>>7;me[xe-3*Ie]=ua[255+me[xe-3*Ie]+lt],me[xe-2*Ie]=ua[255+qe+Pe],me[xe-Ie]=ua[255+Ve+Re],me[xe+0]=ua[255+De-Re],me[xe+Ie]=ua[255+dt-Pe],me[xe+2*Ie]=ua[255+tt-lt]}T+=K}}function Gi(b,T,q,K,oe,ce,ue,fe){for(ce=2*ce+1;0<oe--;){if(Kc(b,T,q,ce,ue))if(No(b,T,q,fe))za(b,T,q);else{var me=b,xe=T,Ie=q,qe=me[xe-Ie],Ve=me[xe+0],De=me[xe+Ie],dt=Sf[112+((tt=3*(Ve-qe))+4>>3)],tt=Sf[112+(tt+3>>3)],Re=dt+1>>1;me[xe-2*Ie]=ua[255+me[xe-2*Ie]+Re],me[xe-Ie]=ua[255+qe+tt],me[xe+0]=ua[255+Ve-dt],me[xe+Ie]=ua[255+De-Re]}T+=K}}function Gl(b,T,q,K,oe,ce){Zs(b,T,q,1,16,K,oe,ce)}function eo(b,T,q,K,oe,ce){Zs(b,T,1,q,16,K,oe,ce)}function Eo(b,T,q,K,oe,ce){var ue;for(ue=3;0<ue;--ue)Gi(b,T+=4*q,q,1,16,K,oe,ce)}function il(b,T,q,K,oe,ce){var ue;for(ue=3;0<ue;--ue)Gi(b,T+=4,1,q,16,K,oe,ce)}function Wl(b,T,q,K,oe,ce,ue,fe){Zs(b,T,oe,1,8,ce,ue,fe),Zs(q,K,oe,1,8,ce,ue,fe)}function Yc(b,T,q,K,oe,ce,ue,fe){Zs(b,T,1,oe,8,ce,ue,fe),Zs(q,K,1,oe,8,ce,ue,fe)}function Kl(b,T,q,K,oe,ce,ue,fe){Gi(b,T+4*oe,oe,1,8,ce,ue,fe),Gi(q,K+4*oe,oe,1,8,ce,ue,fe)}function To(b,T,q,K,oe,ce,ue,fe){Gi(b,T+4,1,oe,8,ce,ue,fe),Gi(q,K+4,1,oe,8,ce,ue,fe)}function Co(){this.ba=new Pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Yl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function al(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jl(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new R}function Wu(){this.xb=this.a=0,this.l=new Qo,this.ca=new Pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jl,this.ab=0,this.gc=s(4,al),this.Oc=0}function fs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Io(b,T,q,K,oe,ce,ue){for(b=b==null?0:b[T+0],T=0;T<ue;++T)oe[ce+T]=b+q[K+T]&255,b=oe[ce+T]}function Xl(b,T,q,K,oe,ce,ue){var fe;if(b==null)Io(null,null,q,K,oe,ce,ue);else for(fe=0;fe<ue;++fe)oe[ce+fe]=b[T+fe]+q[K+fe]&255}function sa(b,T,q,K,oe,ce,ue){if(b==null)Io(null,null,q,K,oe,ce,ue);else{var fe,me=b[T+0],xe=me,Ie=me;for(fe=0;fe<ue;++fe)xe=Ie+(me=b[T+fe])-xe,Ie=q[K+fe]+(-256&xe?0>xe?0:255:xe)&255,xe=me,oe[ce+fe]=Ie}}function sl(b,T,q,K){var oe=T.width,ce=T.o;if(e(b!=null&&T!=null),0>q||0>=K||q+K>ce)return null;if(!b.Cc){if(b.ga==null){var ue;if(b.ga=new fs,(ue=b.ga==null)||(ue=T.width*T.o,e(b.Gb.length==0),b.Gb=a(ue),b.Uc=0,b.Gb==null?ue=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ue=1),ue=!ue),!ue){ue=b.ga;var fe=b.Fa,me=b.P,xe=b.qc,Ie=b.mb,qe=b.nb,Ve=me+1,De=xe-1,dt=ue.l;if(e(fe!=null&&Ie!=null&&T!=null),pl[0]=null,pl[1]=Io,pl[2]=Xl,pl[3]=sa,ue.ca=Ie,ue.tb=qe,ue.c=T.width,ue.i=T.height,e(0<ue.c&&0<ue.i),1>=xe)T=0;else if(ue.$a=fe[me+0]>>0&3,ue.Z=fe[me+0]>>2&3,ue.Lc=fe[me+0]>>4&3,me=fe[me+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||me)T=0;else if(dt.put=ui,dt.ac=Or,dt.bc=bi,dt.ma=ue,dt.width=T.width,dt.height=T.height,dt.Da=T.Da,dt.v=T.v,dt.va=T.va,dt.j=T.j,dt.o=T.o,ue.$a)e:{e(ue.$a==1),T=Ct();t:for(;;){if(T==null){T=0;break e}if(e(ue!=null),ue.mc=T,T.c=ue.c,T.i=ue.i,T.l=ue.l,T.l.ma=ue,T.l.width=ue.c,T.l.height=ue.i,T.a=0,re(T.m,fe,Ve,De),!qt(ue.c,ue.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&cn(T.s)?(ue.ic=1,fe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(fe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ue.ic=0,T=Dr(T,ue.c)),!T))break t;T=1;break e}ue.mc=null,T=0}else T=De>=ue.c*ue.i;ue=!T}if(ue)return null;b.ga.Lc!=1?b.Ga=0:K=ce-q}e(b.ga!=null),e(q+K<=ce);e:{if(T=(fe=b.ga).c,ce=fe.l.o,fe.$a==0){if(Ve=b.rc,De=b.Vc,dt=b.Fa,me=b.P+1+q*T,xe=b.mb,Ie=b.nb+q*T,e(me<=b.P+b.qc),fe.Z!=0)for(e(pl[fe.Z]!=null),ue=0;ue<K;++ue)pl[fe.Z](Ve,De,dt,me,xe,Ie,T),Ve=xe,De=Ie,Ie+=T,me+=T;else for(ue=0;ue<K;++ue)r(xe,Ie,dt,me,T),Ve=xe,De=Ie,Ie+=T,me+=T;b.rc=Ve,b.Vc=De}else{if(e(fe.mc!=null),T=q+K,e((ue=fe.mc)!=null),e(T<=ue.i),ue.C>=T)T=1;else if(fe.ic||Me(),fe.ic){fe=ue.V,Ve=ue.Ba,De=ue.c;var tt=ue.i,Re=(dt=1,me=ue.$/De,xe=ue.$%De,Ie=ue.m,qe=ue.s,ue.$),Pe=De*tt,lt=De*T,pt=qe.wc,ot=Re<lt?de(qe,xe,me):null;e(Re<=Pe),e(T<=tt),e(cn(qe));t:for(;;){for(;!Ie.h&&Re<lt;){if(xe&pt||(ot=de(qe,xe,me)),e(ot!=null),Q(Ie),256>(tt=qr(ot.G[0],ot.H[0],Ie)))fe[Ve+Re]=tt,++Re,++xe>=De&&(xe=0,++me<=T&&!(me%16)&&zt(ue,me));else{if(!(280>tt)){dt=0;break t}tt=Ci(tt-256,Ie);var It,St=qr(ot.G[4],ot.H[4],Ie);if(Q(Ie),!(Re>=(St=jr(De,St=Ci(St,Ie)))&&Pe-Re>=tt)){dt=0;break t}for(It=0;It<tt;++It)fe[Ve+Re+It]=fe[Ve+Re+It-St];for(Re+=tt,xe+=tt;xe>=De;)xe-=De,++me<=T&&!(me%16)&&zt(ue,me);Re<lt&&xe&pt&&(ot=de(qe,xe,me))}e(Ie.h==ee(Ie))}zt(ue,me>T?T:me);break t}!dt||Ie.h&&Re<Pe?(dt=0,ue.a=Ie.h?5:3):ue.$=Re,T=dt}else T=nn(ue,ue.V,ue.Ba,ue.c,ue.i,T,Mr);if(!T){K=0;break e}}q+K>=ce&&(b.Cc=1),K=1}if(!K)return null;if(b.Cc&&((K=b.ga)!=null&&(K.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+q*oe}function M(b,T,q,K,oe,ce){for(;0<oe--;){var ue,fe=b,me=T+(q?1:0),xe=b,Ie=T+(q?0:3);for(ue=0;ue<K;++ue){var qe=xe[Ie+4*ue];qe!=255&&(qe*=32897,fe[me+4*ue+0]=fe[me+4*ue+0]*qe>>23,fe[me+4*ue+1]=fe[me+4*ue+1]*qe>>23,fe[me+4*ue+2]=fe[me+4*ue+2]*qe>>23)}T+=ce}}function se(b,T,q,K,oe){for(;0<K--;){var ce;for(ce=0;ce<q;++ce){var ue=b[T+2*ce+0],fe=15&(xe=b[T+2*ce+1]),me=4369*fe,xe=(240&xe|xe>>4)*me>>16;b[T+2*ce+0]=(240&ue|ue>>4)*me>>16&240|(15&ue|ue<<4)*me>>16>>4&15,b[T+2*ce+1]=240&xe|fe}T+=oe}}function Ae(b,T,q,K,oe,ce,ue,fe){var me,xe,Ie=255;for(xe=0;xe<oe;++xe){for(me=0;me<K;++me){var qe=b[T+me];ce[ue+4*me]=qe,Ie&=qe}T+=q,ue+=fe}return Ie!=255}function Ce(b,T,q,K,oe){var ce;for(ce=0;ce<oe;++ce)q[K+ce]=b[T+ce]>>8}function Me(){Ha=M,Cn=se,sr=Ae,Wn=Ce}function nt(b,T,q){D[b]=function(K,oe,ce,ue,fe,me,xe,Ie,qe,Ve,De,dt,tt,Re,Pe,lt,pt){var ot,It=pt-1>>1,St=fe[me+0]|xe[Ie+0]<<16,$t=qe[Ve+0]|De[dt+0]<<16;e(K!=null);var Nt=3*St+$t+131074>>2;for(T(K[oe+0],255&Nt,Nt>>16,tt,Re),ce!=null&&(Nt=3*$t+St+131074>>2,T(ce[ue+0],255&Nt,Nt>>16,Pe,lt)),ot=1;ot<=It;++ot){var Kn=fe[me+ot]|xe[Ie+ot]<<16,Rn=qe[Ve+ot]|De[dt+ot]<<16,Mn=St+Kn+$t+Rn+524296,un=Mn+2*(Kn+$t)>>3;Nt=un+St>>1,St=(Mn=Mn+2*(St+Rn)>>3)+Kn>>1,T(K[oe+2*ot-1],255&Nt,Nt>>16,tt,Re+(2*ot-1)*q),T(K[oe+2*ot-0],255&St,St>>16,tt,Re+(2*ot-0)*q),ce!=null&&(Nt=Mn+$t>>1,St=un+Rn>>1,T(ce[ue+2*ot-1],255&Nt,Nt>>16,Pe,lt+(2*ot-1)*q),T(ce[ue+2*ot+0],255&St,St>>16,Pe,lt+(2*ot+0)*q)),St=Kn,$t=Rn}1&pt||(Nt=3*St+$t+131074>>2,T(K[oe+pt-1],255&Nt,Nt>>16,tt,Re+(pt-1)*q),ce!=null&&(Nt=3*$t+St+131074>>2,T(ce[ue+pt-1],255&Nt,Nt>>16,Pe,lt+(pt-1)*q)))}}function mt(){Yi[Th]=eu,Yi[da]=id,Yi[Ch]=Bm,Yi[Is]=Oh,Yi[Nf]=lc,Yi[td]=Ro,Yi[ac]=cc,Yi[Ef]=id,Yi[Ih]=Oh,Yi[nd]=lc,Yi[Rh]=Ro}function Et(b){return b&-16384?0>b?0:255:b>>jh}function _(b,T){return Et((19077*b>>8)+(26149*T>>8)-14234)}function $(b,T,q){return Et((19077*b>>8)-(6419*T>>8)-(13320*q>>8)+8708)}function J(b,T){return Et((19077*b>>8)+(33050*T>>8)-17685)}function he(b,T,q,K,oe){K[oe+0]=_(b,q),K[oe+1]=$(b,T,q),K[oe+2]=J(b,T)}function je(b,T,q,K,oe){K[oe+0]=J(b,T),K[oe+1]=$(b,T,q),K[oe+2]=_(b,q)}function $e(b,T,q,K,oe){var ce=$(b,T,q);T=ce<<3&224|J(b,T)>>3,K[oe+0]=248&_(b,q)|ce>>5,K[oe+1]=T}function gt(b,T,q,K,oe){var ce=240&J(b,T)|15;K[oe+0]=240&_(b,q)|$(b,T,q)>>4,K[oe+1]=ce}function on(b,T,q,K,oe){K[oe+0]=255,he(b,T,q,K,oe+1)}function Nn(b,T,q,K,oe){je(b,T,q,K,oe),K[oe+3]=255}function Xt(b,T,q,K,oe){he(b,T,q,K,oe),K[oe+3]=255}function Zn(b,T){return 0>b?0:b>T?T:b}function pr(b,T,q){D[b]=function(K,oe,ce,ue,fe,me,xe,Ie,qe){for(var Ve=Ie+(-2&qe)*q;Ie!=Ve;)T(K[oe+0],ce[ue+0],fe[me+0],xe,Ie),T(K[oe+1],ce[ue+0],fe[me+0],xe,Ie+q),oe+=2,++ue,++me,Ie+=2*q;1&qe&&T(K[oe+0],ce[ue+0],fe[me+0],xe,Ie)}}function to(b,T,q){return q==0?b==0?T==0?6:5:T==0?4:0:q}function Ri(b,T,q,K,oe){switch(b>>>30){case 3:ao(T,q,K,oe,0);break;case 2:Nr(T,q,K,oe);break;case 1:ca(T,q,K,oe)}}function no(b,T){var q,K,oe=T.M,ce=T.Nb,ue=b.oc,fe=b.pc+40,me=b.oc,xe=b.pc+584,Ie=b.oc,qe=b.pc+600;for(q=0;16>q;++q)ue[fe+32*q-1]=129;for(q=0;8>q;++q)me[xe+32*q-1]=129,Ie[qe+32*q-1]=129;for(0<oe?ue[fe-1-32]=me[xe-1-32]=Ie[qe-1-32]=129:(i(ue,fe-32-1,127,21),i(me,xe-32-1,127,9),i(Ie,qe-32-1,127,9)),K=0;K<b.za;++K){var Ve=T.ya[T.aa+K];if(0<K){for(q=-1;16>q;++q)r(ue,fe+32*q-4,ue,fe+32*q+12,4);for(q=-1;8>q;++q)r(me,xe+32*q-4,me,xe+32*q+4,4),r(Ie,qe+32*q-4,Ie,qe+32*q+4,4)}var De=b.Gd,dt=b.Hd+K,tt=Ve.ad,Re=Ve.Hc;if(0<oe&&(r(ue,fe-32,De[dt].y,0,16),r(me,xe-32,De[dt].f,0,8),r(Ie,qe-32,De[dt].ea,0,8)),Ve.Za){var Pe=ue,lt=fe-32+16;for(0<oe&&(K>=b.za-1?i(Pe,lt,De[dt].y[15],4):r(Pe,lt,De[dt+1].y,0,4)),q=0;4>q;q++)Pe[lt+128+q]=Pe[lt+256+q]=Pe[lt+384+q]=Pe[lt+0+q];for(q=0;16>q;++q,Re<<=2)Pe=ue,lt=fe+ai[q],Qr[Ve.Ob[q]](Pe,lt),Ri(Re,tt,16*+q,Pe,lt)}else if(Pe=to(K,oe,Ve.Ob[0]),Ea[Pe](ue,fe),Re!=0)for(q=0;16>q;++q,Re<<=2)Ri(Re,tt,16*+q,ue,fe+ai[q]);for(q=Ve.Gc,Pe=to(K,oe,Ve.Dd),lo[Pe](me,xe),lo[Pe](Ie,qe),Re=tt,Pe=me,lt=xe,255&(Ve=q>>0)&&(170&Ve?Xc(Re,256,Pe,lt):Pi(Re,256,Pe,lt)),Ve=Ie,Re=qe,255&(q>>=8)&&(170&q?Xc(tt,320,Ve,Re):Pi(tt,320,Ve,Re)),oe<b.Ub-1&&(r(De[dt].y,0,ue,fe+480,16),r(De[dt].f,0,me,xe+224,8),r(De[dt].ea,0,Ie,qe+224,8)),q=8*ce*b.B,De=b.sa,dt=b.ta+16*K+16*ce*b.R,tt=b.qa,Ve=b.ra+8*K+q,Re=b.Ha,Pe=b.Ia+8*K+q,q=0;16>q;++q)r(De,dt+q*b.R,ue,fe+32*q,16);for(q=0;8>q;++q)r(tt,Ve+q*b.B,me,xe+32*q,8),r(Re,Pe+q*b.B,Ie,qe+32*q,8)}}function $a(b,T,q,K,oe,ce,ue,fe,me){var xe=[0],Ie=[0],qe=0,Ve=me!=null?me.kd:0,De=me??new Yl;if(b==null||12>q)return 7;De.data=b,De.w=T,De.ha=q,T=[T],q=[q],De.gb=[De.gb];e:{var dt=T,tt=q,Re=De.gb;if(e(b!=null),e(tt!=null),e(Re!=null),Re[0]=0,12<=tt[0]&&!n(b,dt[0],"RIFF")){if(n(b,dt[0]+8,"WEBP")){Re=3;break e}var Pe=Je(b,dt[0]+4);if(12>Pe||4294967286<Pe){Re=3;break e}if(Ve&&Pe>tt[0]-8){Re=7;break e}Re[0]=Pe,dt[0]+=12,tt[0]-=12}Re=0}if(Re!=0)return Re;for(Pe=0<De.gb[0],q=q[0];;){e:{var lt=b;tt=T,Re=q;var pt=xe,ot=Ie,It=dt=[0];if((Nt=qe=[qe])[0]=0,8>Re[0])Re=7;else{if(!n(lt,tt[0],"VP8X")){if(Je(lt,tt[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var St=Je(lt,tt[0]+8),$t=1+_e(lt,tt[0]+12);if(2147483648<=$t*(lt=1+_e(lt,tt[0]+15))){Re=3;break e}It!=null&&(It[0]=St),pt!=null&&(pt[0]=$t),ot!=null&&(ot[0]=lt),tt[0]+=18,Re[0]-=18,Nt[0]=1}Re=0}}if(qe=qe[0],dt=dt[0],Re!=0)return Re;if(tt=!!(2&dt),!Pe&&qe)return 3;if(ce!=null&&(ce[0]=!!(16&dt)),ue!=null&&(ue[0]=tt),fe!=null&&(fe[0]=0),ue=xe[0],dt=Ie[0],qe&&tt&&me==null){Re=0;break}if(4>q){Re=7;break}if(Pe&&qe||!Pe&&!qe&&!n(b,T[0],"ALPH")){q=[q],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{St=b,Re=T,Pe=q;var Nt=De.gb;pt=De.na,ot=De.P,It=De.Sa,$t=22,e(St!=null),e(Pe!=null),lt=Re[0];var Kn=Pe[0];for(e(pt!=null),e(It!=null),pt[0]=null,ot[0]=null,It[0]=0;;){if(Re[0]=lt,Pe[0]=Kn,8>Kn){Re=7;break e}var Rn=Je(St,lt+4);if(4294967286<Rn){Re=3;break e}var Mn=8+Rn+1&-2;if($t+=Mn,0<Nt&&$t>Nt){Re=3;break e}if(!n(St,lt,"VP8 ")||!n(St,lt,"VP8L")){Re=0;break e}if(Kn[0]<Mn){Re=7;break e}n(St,lt,"ALPH")||(pt[0]=St,ot[0]=lt+8,It[0]=Rn),lt+=Mn,Kn-=Mn}}if(q=q[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Re!=0)break}q=[q],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Nt=b,Re=T,Pe=q,pt=De.gb[0],ot=De.Ja,It=De.xa,St=Re[0],lt=!n(Nt,St,"VP8 "),$t=!n(Nt,St,"VP8L"),e(Nt!=null),e(Pe!=null),e(ot!=null),e(It!=null),8>Pe[0])Re=7;else{if(lt||$t){if(Nt=Je(Nt,St+4),12<=pt&&Nt>pt-12){Re=3;break e}if(Ve&&Nt>Pe[0]-8){Re=7;break e}ot[0]=Nt,Re[0]+=8,Pe[0]-=8,It[0]=$t}else It[0]=5<=Pe[0]&&Nt[St+0]==47&&!(Nt[St+4]>>5),ot[0]=Pe[0];Re=0}if(q=q[0],De.Ja=De.Ja[0],De.xa=De.xa[0],T=T[0],Re!=0)break;if(4294967286<De.Ja)return 3;if(fe==null||tt||(fe[0]=De.xa?2:1),ue=[ue],dt=[dt],De.xa){if(5>q){Re=7;break}fe=ue,Ve=dt,tt=ce,b==null||5>q?b=0:5<=q&&b[T+0]==47&&!(b[T+4]>>5)?(Pe=[0],Nt=[0],pt=[0],re(ot=new L,b,T,q),kt(ot,Pe,Nt,pt)?(fe!=null&&(fe[0]=Pe[0]),Ve!=null&&(Ve[0]=Nt[0]),tt!=null&&(tt[0]=pt[0]),b=1):b=0):b=0}else{if(10>q){Re=7;break}fe=dt,b==null||10>q||!xa(b,T+3,q-3)?b=0:(Ve=b[T+0]|b[T+1]<<8|b[T+2]<<16,tt=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=De.Ja||!tt||!b?b=0:(ue&&(ue[0]=tt),fe&&(fe[0]=b),b=1))}if(!b||(ue=ue[0],dt=dt[0],qe&&(xe[0]!=ue||Ie[0]!=dt)))return 3;me!=null&&(me[0]=De,me.offset=T-me.w,e(4294967286>T-me.w),e(me.offset==me.ha-q));break}return Re==0||Re==7&&qe&&me==null?(ce!=null&&(ce[0]|=De.na!=null&&0<De.na.length),K!=null&&(K[0]=ue),oe!=null&&(oe[0]=dt),0):Re}function ol(b,T,q){var K=T.width,oe=T.height,ce=0,ue=0,fe=K,me=oe;if(T.Da=b!=null&&0<b.Da,T.Da&&(fe=b.cd,me=b.bd,ce=b.v,ue=b.j,11>q||(ce&=-2,ue&=-2),0>ce||0>ue||0>=fe||0>=me||ce+fe>K||ue+me>oe))return 0;if(T.v=ce,T.j=ue,T.va=ce+fe,T.o=ue+me,T.U=fe,T.T=me,T.da=b!=null&&0<b.da,T.da){if(!Be(fe,me,q=[b.ib],ce=[b.hb]))return 0;T.ib=q[0],T.hb=ce[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*K/4&&T.hb<3*oe/4,T.Kb=0),1}function wf(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function ll(b,T,q,K){if(K==null||0>=b||0>=T)return 2;if(q!=null){if(q.Da){var oe=q.cd,ce=q.bd,ue=-2&q.v,fe=-2&q.j;if(0>ue||0>fe||0>=oe||0>=ce||ue+oe>b||fe+ce>T)return 2;b=oe,T=ce}if(q.da){if(!Be(b,T,oe=[q.ib],ce=[q.hb]))return 2;b=oe[0],T=ce[0]}}K.width=b,K.height=T;e:{var me=K.width,xe=K.height;if(b=K.S,0>=me||0>=xe||!(b>=Th&&13>b))b=2;else{if(0>=K.Rd&&K.sd==null){ue=ce=oe=T=0;var Ie=(fe=me*Mh[b])*xe;if(11>b||(ce=(xe+1)/2*(T=(me+1)/2),b==12&&(ue=(oe=me)*xe)),(xe=a(Ie+2*ce+ue))==null){b=1;break e}K.sd=xe,11>b?((me=K.f.RGBA).eb=xe,me.fb=0,me.A=fe,me.size=Ie):((me=K.f.kb).y=xe,me.O=0,me.fa=fe,me.Fd=Ie,me.f=xe,me.N=0+Ie,me.Ab=T,me.Cd=ce,me.ea=xe,me.W=0+Ie+ce,me.Db=T,me.Ed=ce,b==12&&(me.F=xe,me.J=0+Ie+2*ce),me.Tc=ue,me.lb=oe)}if(T=1,oe=K.S,ce=K.width,ue=K.height,oe>=Th&&13>oe)if(11>oe)b=K.f.RGBA,T&=(fe=Math.abs(b.A))*(ue-1)+ce<=b.size,T&=fe>=ce*Mh[oe],T&=b.eb!=null;else{b=K.f.kb,fe=(ce+1)/2,Ie=(ue+1)/2,me=Math.abs(b.fa),xe=Math.abs(b.Ab);var qe=Math.abs(b.Db),Ve=Math.abs(b.lb),De=Ve*(ue-1)+ce;T&=me*(ue-1)+ce<=b.Fd,T&=xe*(Ie-1)+fe<=b.Cd,T=(T&=qe*(Ie-1)+fe<=b.Ed)&me>=ce&xe>=fe&qe>=fe,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,oe==12&&(T&=Ve>=ce,T&=De<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||q!=null&&q.fd&&(b=wf(K)),b}var ki=64,Jc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ql=24,Zl=32,Ku=8,Sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,T,q){return T[q+0]},D.Predictor3=function(b,T,q){return T[q+1]},D.Predictor4=function(b,T,q){return T[q-1]},D.Predictor5=function(b,T,q){return rt(rt(b,T[q+1]),T[q+0])},D.Predictor6=function(b,T,q){return rt(b,T[q-1])},D.Predictor7=function(b,T,q){return rt(b,T[q+0])},D.Predictor8=function(b,T,q){return rt(T[q-1],T[q+0])},D.Predictor9=function(b,T,q){return rt(T[q+0],T[q+1])},D.Predictor10=function(b,T,q){return rt(rt(b,T[q-1]),rt(T[q+0],T[q+1]))},D.Predictor11=function(b,T,q){var K=T[q+0];return 0>=yt(K>>24&255,b>>24&255,(T=T[q-1])>>24&255)+yt(K>>16&255,b>>16&255,T>>16&255)+yt(K>>8&255,b>>8&255,T>>8&255)+yt(255&K,255&b,255&T)?K:b},D.Predictor12=function(b,T,q){var K=T[q+0];return(it((b>>24&255)+(K>>24&255)-((T=T[q-1])>>24&255))<<24|it((b>>16&255)+(K>>16&255)-(T>>16&255))<<16|it((b>>8&255)+(K>>8&255)-(T>>8&255))<<8|it((255&b)+(255&K)-(255&T)))>>>0},D.Predictor13=function(b,T,q){var K=T[q-1];return(We((b=rt(b,T[q+0]))>>24&255,K>>24&255)<<24|We(b>>16&255,K>>16&255)<<16|We(b>>8&255,K>>8&255)<<8|We(b>>0&255,K>>0&255))>>>0};var Sh=D.PredictorAdd0;D.PredictorAdd1=bt,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Af=D.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",(function(b){return b>>8&255}),(function(b){return b})),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(b){return b}),(function(b){return b>>8&255}));var Nh,Ts=D.ColorIndexInverseTransform,Yu=D.MapARGB,Eh=D.VP8LColorIndexInverseTransformAlpha,oa=D.MapAlpha,Cs=D.VP8LPredictorsAdd=[];Cs.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var ec,Na,la,cl,ro,ul,io,ao,Nr,Xc,ca,Pi,so,Ju,Xu,hs,tc,dl,nc,Qu,Qc,rc,Zu,ps,Ha,Cn,sr,Wn,Fr=a(511),oo=a(2041),ic=a(225),fl=a(767),ed=0,hl=oo,Sf=ic,ua=fl,Wi=Fr,Th=0,da=1,Ch=2,Is=3,Nf=4,td=5,ac=6,Ef=7,Ih=8,nd=9,Rh=10,Rs=[2,3,7],rd=[3,3,11],Zc=[280,256,256,256,40],kh=[0,1,1,1,0],Tf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ks=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ps=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sc=8,Os=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],js=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ms=null,Sv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ph=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Nv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ki=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Er=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],In=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ea=[],Qr=[],lo=[],oc=1,Um=2,pl=[],Yi=[];nt("UpsampleRgbLinePair",he,3),nt("UpsampleBgrLinePair",je,3),nt("UpsampleRgbaLinePair",Xt,4),nt("UpsampleBgraLinePair",Nn,4),nt("UpsampleArgbLinePair",on,4),nt("UpsampleRgba4444LinePair",gt,2),nt("UpsampleRgb565LinePair",$e,2);var eu=D.UpsampleRgbLinePair,Bm=D.UpsampleBgrLinePair,id=D.UpsampleRgbaLinePair,Oh=D.UpsampleBgraLinePair,lc=D.UpsampleArgbLinePair,Ro=D.UpsampleRgba4444LinePair,cc=D.UpsampleRgb565LinePair,Ds=16,ad=1<<Ds-1,tu=-227,uc=482,jh=6,dc=0,Ji=a(256),Dh=a(256),Ev=a(256),t_=a(256),n_=a(uc-tu),r_=a(uc-tu);pr("YuvToRgbRow",he,3),pr("YuvToBgrRow",je,3),pr("YuvToRgbaRow",Xt,4),pr("YuvToBgraRow",Nn,4),pr("YuvToArgbRow",on,4),pr("YuvToRgba4444Row",gt,2),pr("YuvToRgb565Row",$e,2);var ai=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sd=[0,2,8],Cf=[8,7,6,4,4,2,2,2,1,1,1,1],If=1;this.WebPDecodeRGBA=function(b,T,q,K,oe){var ce=da,ue=new Co,fe=new Pr;ue.ba=fe,fe.S=ce,fe.width=[fe.width],fe.height=[fe.height];var me=fe.width,xe=fe.height,Ie=new Vr;if(Ie==null||b==null)var qe=2;else e(Ie!=null),qe=$a(b,T,q,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(qe!=0?me=0:(me!=null&&(me[0]=Ie.width[0]),xe!=null&&(xe[0]=Ie.height[0]),me=1),me){fe.width=fe.width[0],fe.height=fe.height[0],K!=null&&(K[0]=fe.width),oe!=null&&(oe[0]=fe.height);e:{if(K=new Qo,(oe=new Yl).data=b,oe.w=T,oe.ha=q,oe.kd=1,T=[0],e(oe!=null),((b=$a(oe.data,oe.w,oe.ha,null,null,null,T,null,oe))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(ue!=null),K.data=oe.data,K.w=oe.w+oe.offset,K.ha=oe.ha-oe.offset,K.put=ui,K.ac=Or,K.bc=bi,K.ma=ue,oe.xa){if((b=Ct())==null){ue=1;break e}if((function(Ve,De){var dt=[0],tt=[0],Re=[0];t:for(;;){if(Ve==null)return 0;if(De==null)return Ve.a=2,0;if(Ve.l=De,Ve.a=0,re(Ve.m,De.data,De.w,De.ha),!kt(Ve.m,dt,tt,Re)){Ve.a=3;break t}if(Ve.xb=Um,De.width=dt[0],De.height=tt[0],!qt(dt[0],tt[0],1,Ve,null))break t;return 1}return e(Ve.a!=0),0})(b,K)){if(K=(T=ll(K.width,K.height,ue.Oa,ue.ba))==0){t:{K=b;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((q=K.l)!=null),e((oe=q.ma)!=null),K.xb!=0){if(K.ca=oe.ba,K.tb=oe.tb,e(K.ca!=null),!ol(oe.Oa,q,Is)){K.a=2;break n}if(!Dr(K,q.width)||q.da)break n;if((q.da||gn(K.ca.S))&&Me(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Me()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!Fe(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!nn(K,K.V,K.Ba,K.c,K.i,q.o,Yt))break n;oe.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(T=b.a)}else T=b.a}else{if((b=new _o)==null){ue=1;break e}if(b.Fa=oe.na,b.P=oe.P,b.qc=oe.Sa,Ii(b,K)){if((T=ll(K.width,K.height,ue.Oa,ue.ba))==0){if(b.Aa=0,q=ue.Oa,e((oe=b)!=null),q!=null){if(0<(me=0>(me=q.Md)?0:100<me?255:255*me/100)){for(xe=Ie=0;4>xe;++xe)12>(qe=oe.pb[xe]).lc&&(qe.ia=me*Cf[0>qe.lc?0:qe.lc]>>3),Ie|=qe.ia;Ie&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=q.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}Vl(b,K)||(T=b.a)}}else T=b.a}T==0&&ue.Oa!=null&&ue.Oa.fd&&(T=wf(ue.ba))}ue=T}ce=ue!=0?null:11>ce?fe.f.RGBA.eb:fe.f.kb.y}else ce=null;return ce};var Mh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(D,z){for(var H="",U=0;U<4;U++)H+=String.fromCharCode(D[z++]);return H}function h(D,z){return(D[z+0]<<0|D[z+1]<<8|D[z+2]<<16)>>>0}function m(D,z){return(D[z+0]<<0|D[z+1]<<8|D[z+2]<<16|D[z+3]<<24)>>>0}new c;var g=[0],y=[0],E=[],A=new c,S=t,I=(function(D,z){var H={},U=0,R=!1,C=0,G=0;if(H.frames=[],!(function(Y,ee,X,Q){for(var ge=0;ge<Q;ge++)if(Y[ee+ge]!=X.charCodeAt(ge))return!0;return!1})(D,z,"RIFF",4)){var le,W;for(m(D,z+=4),z+=8;z<D.length;){var te=f(D,z),re=m(D,z+=4);z+=4;var ve=re+(1&re);switch(te){case"VP8 ":case"VP8L":H.frames[U]===void 0&&(H.frames[U]={}),(L=H.frames[U]).src_off=R?G:z-8,L.src_size=C+re+8,U++,R&&(R=!1,C=0,G=0);break;case"VP8X":(L=H.header={}).feature_flags=D[z];var we=z+4;L.canvas_width=1+h(D,we),we+=3,L.canvas_height=1+h(D,we),we+=3;break;case"ALPH":R=!0,C=ve+8,G=z-8;break;case"ANIM":(L=H.header).bgcolor=m(D,z),we=z+4,L.loop_count=(le=D)[(W=we)+0]<<0|le[W+1]<<8,we+=2;break;case"ANMF":var ie,L;(L=H.frames[U]={}).offset_x=2*h(D,z),z+=3,L.offset_y=2*h(D,z),z+=3,L.width=1+h(D,z),z+=3,L.height=1+h(D,z),z+=3,L.duration=h(D,z),z+=3,ie=D[z++],L.dispose=1&ie,L.blend=ie>>1&1}te!="ANMF"&&(z+=ve)}return H}})(S,0);I.response=S,I.rgbaoutput=!0,I.dataurl=!1;var P=I.header?I.header:null,F=I.frames?I.frames:null;if(P){P.loop_counter=P.loop_count,g=[P.canvas_height],y=[P.canvas_width];for(var B=0;B<F.length&&F[B].blend!=0;B++);}var j=F[0],V=A.WebPDecodeRGBA(S,j.src_off,j.src_size,y,g);j.rgba=V,j.imgwidth=y[0],j.imgheight=g[0];for(var O=0;O<y[0]*g[0]*4;O++)E[O]=V[O];return this.width=y,this.height=g,this.data=E,this}(function(t){var e=function(){return typeof mE=="function"},n=function(g,y,E,A){var S=4,I=s;switch(A){case t.image_compression.FAST:S=1,I=a;break;case t.image_compression.MEDIUM:S=6,I=l;break;case t.image_compression.SLOW:S=9,I=c}g=r(g,y,E,I);var P=mE(g,{level:S});return t.__addimage__.arrayBufferToBinaryString(P)},r=function(g,y,E,A){for(var S,I,P,F=g.length/y,B=new Uint8Array(g.length+F),j=h(),V=0;V<F;V+=1){if(P=V*y,S=g.subarray(P,P+y),A)B.set(A(S,E,I),P+V);else{for(var O,D=j.length,z=[];O<D;O+=1)z[O]=j[O](S,E,I);var H=m(z.concat());B.set(z[H],P+V)}I=S}return B},i=function(g){var y=Array.apply([],g);return y.unshift(0),y},a=function(g,y){var E,A=[],S=g.length;A[0]=1;for(var I=0;I<S;I+=1)E=g[I-y]||0,A[I+1]=g[I]-E+256&255;return A},s=function(g,y,E){var A,S=[],I=g.length;S[0]=2;for(var P=0;P<I;P+=1)A=E&&E[P]||0,S[P+1]=g[P]-A+256&255;return S},l=function(g,y,E){var A,S,I=[],P=g.length;I[0]=3;for(var F=0;F<P;F+=1)A=g[F-y]||0,S=E&&E[F]||0,I[F+1]=g[F]+256-(A+S>>>1)&255;return I},c=function(g,y,E){var A,S,I,P,F=[],B=g.length;F[0]=4;for(var j=0;j<B;j+=1)A=g[j-y]||0,S=E&&E[j]||0,I=E&&E[j-y]||0,P=f(A,S,I),F[j+1]=g[j]-P+256&255;return F},f=function(g,y,E){if(g===y&&y===E)return g;var A=Math.abs(y-E),S=Math.abs(g-E),I=Math.abs(g+y-E-E);return A<=S&&A<=I?g:S<=I?y:E},h=function(){return[i,a,s,l,c]},m=function(g){var y=g.map((function(E){return E.reduce((function(A,S){return A+Math.abs(S)}),0)}));return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(g,y,E,A){var S,I,P,F,B,j,V,O,D,z,H,U,R,C,G,le=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(P=new mfe(g)).imgData,I=P.bits,S=P.colorSpace,B=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){D=(O=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,H=new Uint8Array(D*P.colors),z=new Uint8Array(D);var te,re=P.pixelBitlength-P.bits;for(C=0,G=0;C<D;C++){for(R=O[C],te=0;te<re;)H[G++]=R>>>te&255,te+=P.bits;z[C]=R>>>te&255}}if(P.bits===16){D=(O=new Uint32Array(P.decodePixels().buffer)).length,H=new Uint8Array(D*(32/P.pixelBitlength)*P.colors),z=new Uint8Array(D*(32/P.pixelBitlength)),U=P.colors>1,C=0,G=0;for(var ve=0;C<D;)R=O[C++],H[G++]=R>>>0&255,U&&(H[G++]=R>>>16&255,R=O[C++],H[G++]=R>>>0&255),z[ve++]=R>>>16&255;I=8}A!==t.image_compression.NONE&&e()?(g=n(H,P.width*P.colors,P.colors,A),V=n(z,P.width,1,A)):(g=H,V=z,le=void 0)}if(P.colorType===3&&(S=this.color_spaces.INDEXED,j=P.palette,P.transparency.indexed)){var we=P.transparency.indexed,ie=0;for(C=0,D=we.length;C<D;++C)ie+=we[C];if((ie/=255)===D-1&&we.indexOf(0)!==-1)F=[we.indexOf(0)];else if(ie!==D){for(O=P.decodePixels(),z=new Uint8Array(O.length),C=0,D=O.length;C<D;C++)z[C]=we[O[C]];V=n(z,P.width,1)}}var L=(function(Y){var ee;switch(Y){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee})(A);return le===this.decode.FLATE_DECODE&&(W="/Predictor "+L+" "),W+="/Colors "+B+" /BitsPerComponent "+I+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:E,data:g,index:y,filter:le,decodeParameters:W,transparency:F,palette:j,sMask:V,predictor:L,width:P.width,height:P.height,bitsPerComponent:I,colorSpace:S}}}})(Jt.API),(function(t){t.processGIF89A=function(e,n,r,i){var a=new gfe(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:l},h=new TS(100).encode(f,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(Jt.API),Sl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ir.log("bit decode error:"+n)}},Sl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Sl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Sl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Sl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=f}this.pos+=t}},Sl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,f=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},Sl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Sl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},Sl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new Sl(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new TS(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(Jt.API),SM.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new SM(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new TS(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(Jt.API),Jt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,f=0;f<i;f+=4){var h=r[f],m=r[f+1],g=r[f+2],y=r[f+3];a[l++]=h,a[l++]=m,a[l++]=g,s[c++]=y}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Jt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},lp=Jt.API,Ry=lp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=e.doKerning!==!1,g=0,y=t.length,E=0,A=l[0]||c,S=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=m&&yr(f[r])==="object"&&!isNaN(parseInt(f[r][E],10))?f[r][E]/h:0,S.push((l[r]||A)/c+g)),E=r;return S},bM=lp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lp.processArabic&&(t=lp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Ry.apply(this,arguments).reduce((function(a,s){return a+s}),0)},_M=function(t,e,n,r){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<n;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},wM=function(t,e,n){n||(n={});var r,i,a,s,l,c,f,h=[],m=[h],g=n.textIndent||0,y=0,E=0,A=t.split(" "),S=Ry.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var I=Array(c).join(" "),P=[];A.map((function(B){(B=B.split(/\s*\n/)).length>1?P=P.concat(B.map((function(j,V){return(V&&j.length?`
`:"")+j}))):P.push(B[0])})),A=P,c=bM.apply(this,[I,n])}for(a=0,s=A.length;a<s;a++){var F=0;if(r=A[a],c&&r[0]==`
`&&(r=r.substr(1),F=1),g+y+(E=(i=Ry.apply(this,[r,n])).reduce((function(B,j){return B+j}),0))>e||F){if(E>e){for(l=_M.apply(this,[r,i,e-(g+y),e]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);E=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(B,j){return B+j}),0)}else h=[r];m.push(h),g=E+c,y=S}else h.push(r),g+=y+E,y=S}return f=c?function(B,j){return(j?I:"")+B.join(" ")}:function(B){return B.join(" ")},m.map(f)},lp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,f=[];for(l=0,c=r.length;l<c;l++)f=f.concat(wM.apply(this,[r[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var g,y,E,A,S=["{"];for(var I in m){if(g=m[I],isNaN(parseInt(I,10))?y="'"+I+"'":(I=parseInt(I,10),y=(y=a(I).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof g=="number")g<0?(E=a(g).slice(3),A="-"):(E=a(g).slice(2),A=""),E=A+E.slice(0,-1)+r[E.slice(-1)];else{if(yr(g)!=="object")throw new Error("Don't know what to do with value type "+yr(g)+".");E=s(g)}S.push(y+E)}return S.push("}"),S.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,E,A,S={},I=1,P=S,F=[],B="",j="",V=m.length-1,O=1;O<V;O+=1)(A=m[O])=="'"?g?(E=g.join(""),g=void 0):g=[]:g?g.push(A):A=="{"?(F.push([P,E]),P={},E=void 0):A=="}"?((y=F.pop())[0][y[1]]=P,E=void 0,P=y[0]):A=="-"?I=-1:E===void 0?n.hasOwnProperty(A)?(B+=n[A],E=parseInt(B,16)*I,I=1,B=""):B+=A:n.hasOwnProperty(A)?(j+=n[A],P[E]=parseInt(j,16)*I,I=1,E=void 0,j=""):j+=A;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var g=m.font,y=h.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var E=f.Unicode[g.postScriptName];E&&(g.metadata.Unicode.encoding=E,g.encoding=E.codePages[0])}])})(Jt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Jg(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Jt),(function(t){function e(){return(rn.canvg?Promise.resolve(rn.canvg):uE(()=>import("./index.es-uiwip7Mi.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}Jt.API.addSvgAsImage=function(n,r,i,a,s,l,c,f){if(isNaN(r)||isNaN(i))throw Ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then((function(E){return E.fromString(m,n,g)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(E){return E.render(g)})).then((function(){y.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,f)}))}})(),Jt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Jt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],f=0,h=0,m=0;function g(E,A){var S,I=!1;for(S=0;S<E.length;S+=1)E[S]===A&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=l.length;for(m=0;m<y;m+=1)n[l[m]].value=n[l[m]].defaultValue,n[l[m]].explicitSet=!1}if(yr(t)==="object"){for(i in t)if(a=t[i],g(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var E,A=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?A.push("/"+E+" /"+n[E].value):A.push("/"+E+" "+n[E].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Jt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,g=a.length;m<g;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,f,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(l=Object.keys(a).sort((function(y,E){return y-E}))).length;m<g;m++)s=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",E=0;E<g.length;E++)y+=String.fromCharCode(g[E]);var A=f();h({data:y,addLength1:!0,objectId:A}),c("endobj");var S=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var I=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dp(l.fontName)),c("/FontFile2 "+A+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var P=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+dp(l.fontName)),c("/FontDescriptor "+I+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+dp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);var E=f();h({data:g,addLength1:!0,objectId:E}),c("endobj");var A=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var S=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var I=0;I<l.metadata.hmtx.widths.length;I++)l.metadata.hmtx.widths[I]=parseInt(l.metadata.hmtx.widths[I]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+dp(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,f=a.y,h=a.options||{},m=a.mutex||{},g=m.pdfEscape,y=m.activeFontKey,E=m.fonts,A=y,S="",I=0,P="",F=E[A].encoding;if(E[A].encoding!=="Identity-H")return{text:l,x:c,y:f,options:h,mutex:m};for(P=l,A=y,Array.isArray(l)&&(P=l[0]),I=0;I<P.length;I+=1)E[A].metadata.hasOwnProperty("cmap")&&(s=E[A].metadata.cmap.unicode.codeMap[P[I].charCodeAt(0)]),s||P[I].charCodeAt(0)<256&&E[A].metadata.hasOwnProperty("Unicode")?S+=P[I]:S+="";var B="";return parseInt(A.slice(1))<14||F==="WinAnsiEncoding"?B=g(S,A).split("").map((function(j){return j.charCodeAt(0).toString(16)})).join(""):F==="Identity-H"&&(B=n(S,E[A])),m.isHex=!0,{text:B,x:c,y:f,options:h,mutex:m}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},c,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(Jt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Jt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,l,c,f,h,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,F=0;this.__bidiEngine__={};var B=function(U){var R=U.charCodeAt(),C=R>>8,G=A[C];return G!==void 0?m[256*G+(255&R)]:C===252||C===253?"AL":I.test(C)?"L":C===8?"R":"N"},j=function(U){for(var R,C=0;C<U.length;C++){if((R=B(U.charAt(C)))==="L")return!1;if(R==="R")return!0}return!1},V=function(U,R,C,G){var le,W,te,re,ve=R[G];switch(ve){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ve="AN");break;case"AL":P=!0,ve="R";break;case"WS":ve="N";break;case"CS":G<1||G+1>=R.length||(le=C[G-1])!=="EN"&&le!=="AN"||(W=R[G+1])!=="EN"&&W!=="AN"?ve="N":P&&(W="AN"),ve=W===le?W:"N";break;case"ES":ve=(le=G>0?C[G-1]:"B")==="EN"&&G+1<R.length&&R[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&C[G-1]==="EN"){ve="EN";break}if(P){ve="N";break}for(te=G+1,re=R.length;te<re&&R[te]==="ET";)te++;ve=te<re&&R[te]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(re=R.length,te=G+1;te<re&&R[te]==="NSM";)te++;if(te<re){var we=U[G],ie=we>=1425&&we<=2303||we===64286;if(le=R[te],ie&&(le==="R"||le==="AL")){ve="R";break}}}ve=G<1||(le=R[G-1])==="B"?"N":C[G-1];break;case"B":P=!1,i=!0,ve=F;break;case"S":a=!0,ve="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ve="N"}return ve},O=function(U,R,C){var G=U.split("");return C&&D(G,C,{hiLevel:F}),G.reverse(),R&&R.reverse(),G.join("")},D=function(U,R,C){var G,le,W,te,re,ve=-1,we=U.length,ie=0,L=[],Y=F?y:g,ee=[];for(P=!1,i=!1,a=!1,le=0;le<we;le++)ee[le]=B(U[le]);for(W=0;W<we;W++){if(re=ie,L[W]=V(U,ee,L,W),G=240&(ie=Y[re][E[L[W]]]),ie&=15,R[W]=te=Y[ie][5],G>0)if(G===16){for(le=ve;le<W;le++)R[le]=1;ve=-1}else ve=-1;if(Y[ie][6])ve===-1&&(ve=W);else if(ve>-1){for(le=ve;le<W;le++)R[le]=te;ve=-1}ee[W]==="B"&&(R[W]=0),C.hiLevel|=te}a&&(function(X,Q,ge){for(var be=0;be<ge;be++)if(X[be]==="S"){Q[be]=F;for(var ae=be-1;ae>=0&&X[ae]==="WS";ae--)Q[ae]=F}})(ee,R,we)},z=function(U,R,C,G,le){if(!(le.hiLevel<U)){if(U===1&&F===1&&!i)return R.reverse(),void(C&&C.reverse());for(var W,te,re,ve,we=R.length,ie=0;ie<we;){if(G[ie]>=U){for(re=ie+1;re<we&&G[re]>=U;)re++;for(ve=ie,te=re-1;ve<te;ve++,te--)W=R[ve],R[ve]=R[te],R[te]=W,C&&(W=C[ve],C[ve]=C[te],C[te]=W);ie=re}ie++}}},H=function(U,R,C){var G=U.split(""),le={hiLevel:F};return C||(C=[]),D(G,C,le),(function(W,te,re){if(re.hiLevel!==0&&h)for(var ve,we=0;we<W.length;we++)te[we]===1&&(ve=S.indexOf(W[we]))>=0&&(W[we]=S[ve+1])})(G,C,le),z(2,G,R,C,le),z(1,G,R,C,le),G.join("")};return this.__bidiEngine__.doBidiReorder=function(U,R,C){if((function(le,W){if(W)for(var te=0;te<le.length;te++)W[te]=te;l===void 0&&(l=j(le)),f===void 0&&(f=j(le))})(U,R),s||!c||f)if(s&&c&&l^f)F=l?1:0,U=O(U,R,C);else if(!s&&c&&f)F=l?1:0,U=H(U,R,C),U=O(U,R);else if(!s||l||c||f){if(s&&!c&&l^f)U=O(U,R),l?(F=0,U=H(U,R,C)):(F=1,U=H(U,R,C),U=O(U,R));else if(s&&l&&!c&&f)F=1,U=H(U,R,C),U=O(U,R);else if(!s&&!c&&l^f){var G=h;l?(F=1,U=H(U,R,C),F=0,h=!1,U=H(U,R,C),h=G):(F=0,U=H(U,R,C),U=O(U,R),F=1,h=!1,U=H(U,R,C),h=G,U=O(U,R))}}else F=0,U=H(U,R,C);else F=l?1:0,U=H(U,R,C);return U},this.__bidiEngine__.setOptions=function(U){U&&(s=U.isInputVisual,c=U.isOutputVisual,l=U.isInputRtl,f=U.isOutputRtl,h=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),s=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Jt),Jt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Zd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new kfe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new vfe(this.contents),this.head=new xfe(this),this.name=new Sfe(this),this.cmap=new MB(this),this.toUnicode={},this.hhea=new bfe(this),this.maxp=new Nfe(this),this.hmtx=new Efe(this),this.post=new wfe(this),this.os2=new _fe(this),this.loca=new Rfe(this),this.glyf=new Tfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,f;for(f=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Fl,Zd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),vfe=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,l,c,f,h,m,g,y,E,A;for(A in y=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(y)/c),s=Math.floor(m/c),h=16*y-m,(i=new Zd).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(s),i.writeShort(h),a=16*y,f=i.pos+a,l=null,E=[],n)for(g=n[A],i.writeString(A),i.writeInt(t(g)),i.writeInt(f),i.writeInt(g.length),E=E.concat(g),A==="head"&&(l=f),f+=g.length;f%4;)E.push(0),f++;return i.write(E),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=LB.call(n);n.length%4;)n.push(0);for(a=new Zd(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),yfe={}.hasOwnProperty,Vc=function(t,e){for(var n in e)yfe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Fl=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var xfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Zd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),NM=(function(){function t(e,n){var r,i,a,s,l,c,f,h,m,g,y,E,A,S,I,P,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,a=(function(){var B,j;for(j=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)j.push(e.readUInt16());return j})(),e.pos+=2,A=(function(){var B,j;for(j=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)j.push(e.readUInt16());return j})(),f=(function(){var B,j;for(j=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)j.push(e.readUInt16());return j})(),h=(function(){var B,j;for(j=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)j.push(e.readUInt16());return j})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var B,j;for(j=[],c=B=0;0<=i?B<i:B>i;c=0<=i?++B:--B)j.push(e.readUInt16());return j})(),c=I=0,F=a.length;I<F;c=++I)for(S=a[c],r=P=E=A[c];E<=S?P<=S:P>=S;r=E<=S?++P:--P)h[c]===0?s=r+f[c]:(s=l[h[c]/2+(r-E)-(g-c)]||0)!==0&&(s+=f[c]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,a,s,l,c,f,h,m,g,y,E,A,S,I,P,F,B,j,V,O,D,z,H,U,R,C,G,le,W,te,re,ve,we,ie,L,Y,ee,X,Q,ge,be,ae,Se,Ee,_e;switch(G=new Zd,s=Object.keys(e).sort((function(Je,Fe){return Je-Fe})),n){case"macroman":for(A=0,S=(function(){var Je=[];for(E=0;E<256;++E)Je.push(0);return Je})(),P={0:0},a={},le=0,ve=s.length;le<ve;le++)P[ae=e[i=s[le]]]==null&&(P[ae]=++A),a[i]={old:e[i],new:P[e[i]]},S[i]=P[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(S),{charMap:a,subtable:G.data,maxGlyphID:A+1};case"unicode":for(R=[],m=[],F=0,P={},r={},I=f=null,W=0,we=s.length;W<we;W++)P[j=e[i=s[W]]]==null&&(P[j]=++F),r[i]={old:j,new:P[j]},l=P[j]-i,I!=null&&l===f||(I&&m.push(I),R.push(i),f=l),I=i;for(I&&m.push(I),m.push(65535),R.push(65535),H=2*(z=R.length),D=2*Math.pow(Math.log(z)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,O=2*z-D,c=[],V=[],y=[],E=te=0,ie=R.length;te<ie;E=++te){if(U=R[E],h=m[E],U===65535){c.push(0),V.push(0);break}if(U-(C=r[U].new)>=32768)for(c.push(0),V.push(2*(y.length+z-E)),i=re=U;U<=h?re<=h:re>=h;i=U<=h?++re:--re)y.push(r[i].new);else c.push(C-U),V.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*z+2*y.length),G.writeUInt16(0),G.writeUInt16(H),G.writeUInt16(D),G.writeUInt16(g),G.writeUInt16(O),ge=0,L=m.length;ge<L;ge++)i=m[ge],G.writeUInt16(i);for(G.writeUInt16(0),be=0,Y=R.length;be<Y;be++)i=R[be],G.writeUInt16(i);for(Se=0,ee=c.length;Se<ee;Se++)l=c[Se],G.writeUInt16(l);for(Ee=0,X=V.length;Ee<X;Ee++)B=V[Ee],G.writeUInt16(B);for(_e=0,Q=y.length;_e<Q;_e++)A=y[_e],G.writeUInt16(A);return{charMap:r,subtable:G.data,maxGlyphID:F+1}}},t})(),MB=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new NM(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=NM.encode(n,r),(a=new Zd).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e})(),bfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),_fe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),wfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,f;for(f=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)f.push(n.readUInt32());return f}).call(this)}},e})(),Afe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Sfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,s,l,c,f,h,m,g,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(f={},s=m=0,g=i.length;m<g;s=++m)a=i[s],n.pos=a.offset,h=n.readString(a.length),l=new Afe(h,a),f[y=a.nameID]==null&&(f[y]=[]),f[a.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e})(),Nfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),Efe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,s,l,c,f;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(n.readInt16());return m})(),this.widths=(function(){var h,m,g,y;for(y=[],h=0,m=(g=this.metrics).length;h<m;h++)s=g[h],y.push(s.advance);return y}).call(this),i=this.widths[this.widths.length-1],f=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),LB=[].slice,Tfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,s,l,c,f,h,m,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Zd(r.read(a))).readShort(),h=c.readShort(),g=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[n]=l===-1?new Ife(c,h,g,f,m):new Cfe(c,l,h,g,f,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,s,l,c,f;for(l=[],s=[],c=0,f=r.length;c<f;c++)a=n[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},e})(),Cfe=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Ife=(function(){function t(e,n,r,i,a){var s,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Zd(LB.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Rfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,Fl),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],f=this.offsets[l+1]-c;f>0&&(a+=f)}for(var h=new Array(4*i.length),m=0;m<i.length;++m)h[4*m+3]=255&i[m],h[4*m+2]=(65280&i[m])>>8,h[4*m+1]=(16711680&i[m])>>16,h[4*m]=(4278190080&i[m])>>24;return h},e})(),kfe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,l,c,f,h,m,g,y,E,A,S,I;for(i in r=MB.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),y={0:0},I=r.charMap)y[(c=I[i]).old]=c.new;for(E in g=r.maxGlyphID,s)E in y||(y[E]=g++);return h=(function(P){var F,B;for(F in B={},P)B[P[F]]=F;return B})(y),m=Object.keys(h).sort((function(P,F){return P-F})),A=(function(){var P,F,B;for(B=[],P=0,F=m.length;P<F;P++)l=m[P],B.push(h[l]);return B})(),a=this.font.glyf.encode(s,A,y),f=this.font.loca.encode(a.offsets,A),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t})();Jt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,c,f;for(f=[],l=0,c=n.length;l<c;l++)r=n[l],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();const Pfe=({stock:t,clients:e,batches:n,onConfirmSale:r,onBack:i,salesHistory:a})=>{const s=L=>{if(!n)return"";const Y=n.find(ee=>ee.id_lote===L);return Y?Y.fornecedor:""},[l,c]=ye.useState(null),[f,h]=ye.useState([]),[m,g]=ye.useState(""),[y,E]=ye.useState(!1),[A,S]=ye.useState(!1),I=ye.useMemo(()=>{if(!n||n.length===0)return[];const L=new Set(n.filter(Y=>Y.status==="FECHADO").map(Y=>Y.id_lote));return t.filter(Y=>Y.status==="DISPONIVEL"&&L.has(Y.id_lote))},[t,n]),[P,F]=ye.useState(new Set),B=L=>{F(Y=>{const ee=new Set(Y);return ee.has(L)?ee.delete(L):ee.add(L),ee})},j=ye.useMemo(()=>{const L=I.filter(ee=>ee.id_completo.toLowerCase().includes(m.toLowerCase())||ee.id_lote.toLowerCase().includes(m.toLowerCase())),Y=new Map;return L.forEach(ee=>{const X=ee.id_lote;Y.has(X)||Y.set(X,[]),Y.get(X).push(ee)}),Array.from(Y.entries()).map(([ee,X])=>{const Q=new Map;return X.forEach(ge=>{Q.has(ge.sequencia)||Q.set(ge.sequencia,[]),Q.get(ge.sequencia).push(ge)}),{key:ee,items:X,lote:ee,carcasses:Array.from(Q.entries()).map(([ge,be])=>({sequencia:ge,parts:be.sort((ae,Se)=>ae.tipo-Se.tipo),totalCarcassWeight:be.reduce((ae,Se)=>ae+Se.peso_entrada,0)})).sort((ge,be)=>be.sequencia-ge.sequencia),totalWeight:X.reduce((ge,be)=>ge+be.peso_entrada,0),supplier:s(ee)}}).sort((ee,X)=>X.lote.localeCompare(ee.lote))},[I,m,n]),[V,O]=ye.useState({}),z=f.reduce((L,Y)=>{const ee=V[Y.id_completo];return L+(ee!==void 0?ee:Y.peso_entrada)},0),[H,U]=ye.useState(0),[R,C]=ye.useState(0),G=z*H,le=(L,Y)=>{O(ee=>({...ee,[L]:Y}))},W=L=>{f.find(Y=>Y.id_completo===L.id_completo)?(h(Y=>Y.filter(ee=>ee.id_completo!==L.id_completo)),O(Y=>{const ee={...Y};return delete ee[L.id_completo],ee})):(h(Y=>[...Y,L]),O(Y=>({...Y,[L.id_completo]:L.peso_entrada})))},te=L=>{if(L.every(ee=>f.some(X=>X.id_completo===ee.id_completo)))h(ee=>ee.filter(X=>!L.some(Q=>Q.id_completo===X.id_completo)));else{const ee=L.filter(X=>!f.some(Q=>Q.id_completo===X.id_completo));h(X=>[...X,...ee]),ee.forEach(X=>{O(Q=>({...Q,[X.id_completo]:X.peso_entrada}))})}},re=(L,Y)=>{const ee=L.reduce((ge,be)=>ge+be.peso_entrada,0),X={};let Q=0;L.forEach((ge,be)=>{if(be===L.length-1)X[ge.id_completo]=parseFloat((Y-Q).toFixed(2));else{const ae=ee>0?ge.peso_entrada/ee:0,Se=parseFloat((Y*ae).toFixed(2));X[ge.id_completo]=Se,Q+=Se}}),O(ge=>({...ge,...X}))},ve=ye.useMemo(()=>{const L=new Map;return f.forEach(Y=>{const ee=`${Y.id_lote}-${Y.sequencia}`;L.has(ee)||L.set(ee,[]),L.get(ee).push(Y)}),Array.from(L.values())},[f]),we=()=>{if(!l||f.length===0){alert("Selecione um cliente e itens para gerar o recibo.");return}const L=Jt?new Jt:null;if(!L)return;const Y=L.internal.pageSize.width;L.setFillColor(15,23,42),L.rect(20,15,45,15,"F"),L.setFont("courier","bold"),L.setFontSize(14),L.setTextColor(255,255,255),L.text("THIAGO",25,23),L.setFontSize(16),L.setTextColor(59,130,246),L.text("704",47,26),L.setTextColor(100,116,139),L.setFont("helvetica","bold"),L.setFontSize(8),L.text("EXCELNCIA EM CARNA OPERACIONAL",20,35),L.setTextColor(15,23,42),L.setFontSize(18),L.text("COMPROVANTE DE ENTREGA",Y-20,25,{align:"right"}),L.setFontSize(8),L.setFont("helvetica","bold"),L.text(`FRIGOGEST PRO X // ID: ${Date.now()}`,Y-20,32,{align:"right"}),L.setDrawColor(226,232,240),L.line(20,40,Y-20,40),L.setFont("helvetica","bold"),L.setFontSize(10),L.text("DADOS DO DESTINATRIO",20,50),L.setFont("helvetica","normal"),L.text(`CLIENTE: ${l.nome_social}`,20,58),L.text(`DOCUMENTO: ${l.cpf_cnpj||"N/A"}`,20,64),L.text(`ENDEREO: ${l.endereco||"RETIRADA LOCAL"}`,20,70),L.line(20,80,Y-20,80),L.setFont("helvetica","bold"),L.text("DETALHAMENTO DOS ITENS",20,90);let ee=100;L.setFillColor(242,245,248),L.rect(20,ee-6,Y-40,9,"F"),L.setFontSize(8),L.setFont("helvetica","bold"),L.text("IDENTIFICAO / DESCRIO",22,ee),L.text("TIPO",80,ee),L.text("LOTE",110,ee),L.text("PESO (KG)",155,ee,{align:"right"}),L.text("VALOR (R$)",190,ee,{align:"right"}),ee+=10,L.setFontSize(9),L.setFont("helvetica","normal");const X=new Map;f.forEach(Q=>{const ge=`${Q.id_lote}-${Q.sequencia}`;X.has(ge)||X.set(ge,[]),X.get(ge).push(Q)}),X.forEach((Q,ge)=>{const be=Q.length>1||Q[0].tipo===1,ae=Q.reduce((Ee,_e)=>Ee+(V[_e.id_completo]||_e.peso_entrada),0),Se=ae*H;L.setTextColor(15,23,42),be&&Q.length>1?(L.setFont("helvetica","bold"),L.setFontSize(9),L.text(`CARCASSA INTEIRA #${Q[0].sequencia}`,22,ee),L.setFontSize(8),L.setFont("helvetica","normal"),L.text(Q[0].id_lote,110,ee),L.text(ae.toFixed(2),155,ee,{align:"right"}),L.text(Se.toFixed(2),190,ee,{align:"right"}),ee+=7,L.setFontSize(7),L.setTextColor(100,116,139),Q.forEach(Ee=>{const _e=V[Ee.id_completo]||Ee.peso_entrada;L.text(`   ${Ee.tipo===2?"BANDA A":"BANDA B"}`,22,ee),L.text(_e.toFixed(2)+" kg",155,ee,{align:"right"}),ee+=5}),ee+=3,L.setFontSize(9),L.setTextColor(15,23,42)):be&&Q[0].tipo===1?(L.setFont("helvetica","bold"),L.text(`CARCASSA INTEIRA #${Q[0].sequencia}`,22,ee),L.setFont("helvetica","normal"),L.text("-",80,ee),L.text(Q[0].id_lote,110,ee),L.text(ae.toFixed(2),155,ee,{align:"right"}),L.text(Se.toFixed(2),190,ee,{align:"right"}),ee+=8):Q.forEach(Ee=>{const _e=V[Ee.id_completo]||Ee.peso_entrada,Je=_e*H;L.text(Ee.id_completo,22,ee),L.text(Ee.tipo===1?"INTEIRO":Ee.tipo===2?"BANDA A":"BANDA B",80,ee),L.text(Ee.id_lote,110,ee),L.text(_e.toFixed(2),155,ee,{align:"right"}),L.text(Je.toFixed(2),190,ee,{align:"right"}),ee+=8}),ee>250&&(L.addPage(),ee=30)}),L.setDrawColor(226,232,240),L.line(20,ee,Y-20,ee),ee+=10,L.setFontSize(12),L.setFont("helvetica","bold"),L.setTextColor(59,130,246),L.text("TOTAL DA CARGA:",20,ee),L.setTextColor(15,23,42),L.text(`${z.toFixed(2)} KG`,155,ee,{align:"right"}),L.text(Ot(G+R),190,ee,{align:"right"}),ee+=40,ee>260&&(L.addPage(),ee=50),L.setDrawColor(15,23,42),L.line(25,ee,95,ee),L.setFontSize(7),L.setFont("helvetica","bold"),L.text("RECEBIDO POR (CLIENTE)",60,ee+5,{align:"center"}),L.setFont("helvetica","normal"),L.text(l.nome_social,60,ee+9,{align:"center"}),L.line(Y-95,ee,Y-25,ee),L.setFont("helvetica","bold"),L.text("ENTREGUE POR (THIAGO 704)",Y-60,ee+5,{align:"center"}),L.setFont("helvetica","normal"),L.text("LOGSTICA OPERACIONAL FG",Y-60,ee+9,{align:"center"}),L.save(`RECIBO_THIAGO704_${l.id_ferro}.pdf`)},ie=()=>{if(!l||f.length===0||H<=0){alert(" Preencha todos os dados da venda!");return}confirm("Deseja gerar o Manifesto de Carga (PDF)?")&&we();const L=f.map(Y=>({...Y,peso_saida:V[Y.id_completo]!==void 0?V[Y.id_completo]:Y.peso_entrada}));r({client:l,items:L,pricePerKg:H,extrasCost:R}),c(null),h([]),U(0),C(0),E(!0)};return y?d.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-10",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:()=>E(!1),className:"group flex items-center gap-2 px-5 py-2 bg-white border border-slate-200 rounded-full text-xs font-black text-slate-500 hover:text-blue-600 hover:border-blue-100 hover:bg-blue-50 transition-all shadow-sm",children:[d.jsx(ja,{size:16})," Voltar  Expedio"]}),d.jsxs("button",{onClick:()=>E(!1),className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-xs font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-100 uppercase tracking-widest",children:[d.jsx(Nc,{size:18})," Realizar Outra Venda"]})]}),d.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[d.jsx("div",{className:"bg-slate-900 p-4 rounded-3xl text-white shadow-2xl shadow-slate-200",children:d.jsx(Tu,{size:32})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 italic",children:["LOG de ",d.jsx("span",{className:"text-blue-600",children:"Expedio"})]}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mt-2",children:"Histrico Operacional Cronolgico"})]})]})]}),d.jsx("div",{className:"premium-card overflow-hidden bg-white shadow-xl shadow-slate-100",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Data Valor"}),d.jsx("th",{children:"Entidade Receptora"}),d.jsx("th",{children:"ID Unitrio"}),d.jsx("th",{className:"text-right",children:"Peso Sada"}),d.jsx("th",{className:"text-right",children:"Montante Final"})]})}),d.jsx("tbody",{children:a.slice(0,100).map((L,Y)=>d.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[d.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(L.data_venda).toLocaleDateString()}),d.jsx("td",{children:d.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',L.nome_cliente||"Mercado Interno",'"']})}),d.jsx("td",{children:d.jsx("span",{className:"text-[10px] text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded border border-slate-100",children:L.id_completo})}),d.jsx("td",{className:"text-right font-black text-slate-900 text-sm",children:Rr(L.peso_real_saida)}),d.jsx("td",{className:"text-right",children:d.jsx("span",{className:"font-black text-blue-600 text-sm",children:Ot(L.peso_real_saida*L.preco_venda_kg)})})]},Y))})]})})})]})}):d.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] overflow-hidden animate-reveal font-sans",children:[d.jsxs("div",{className:"h-24 bg-white border-b border-slate-100 flex items-center justify-between px-10 shrink-0 z-50 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-10",children:[d.jsxs("button",{onClick:i,className:"group flex items-center gap-2.5 px-5 py-2.5 bg-slate-50 border border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-blue-600 hover:bg-white hover:border-blue-200 transition-all shadow-sm",children:[d.jsx(ja,{size:16})," Home"]}),d.jsx("div",{className:"h-10 w-px bg-slate-100"}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:d.jsx(Nc,{size:24})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-black text-slate-900 tracking-tight italic leading-none",children:["Terminal de ",d.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mt-1.5 opacity-60",children:"Expedio Controlada / ID-X-PROC"})]})]})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-3 px-6 py-3.5 rounded-2xl bg-slate-100 text-slate-600 text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all",children:[d.jsx(Tu,{size:16})," Archive Log"]})})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white/50 backdrop-blur-sm relative",children:[d.jsxs("div",{className:"p-8 pb-4 flex flex-col xl:flex-row gap-6 shrink-0 relative z-10",children:[d.jsxs("div",{className:"flex-1 group",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Entidade Receptora"}),d.jsxs("div",{className:"relative",children:[d.jsx(yx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),d.jsxs("select",{className:"modern-input h-16 pl-12 bg-white font-extrabold text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all cursor-pointer",value:l?JSON.stringify(l):"",onChange:L=>{L.target.value?c(JSON.parse(L.target.value)):c(null)},children:[d.jsx("option",{value:"",children:"-- SELECIONE O CLIENTE --"}),e.sort((L,Y)=>L.nome_social.localeCompare(Y.nome_social)).map(L=>d.jsxs("option",{value:JSON.stringify(L),children:[L.id_ferro," // ",L.nome_social]},L.id_ferro))]})]})]}),d.jsxs("div",{className:"w-full xl:w-96 group",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Filtro de Logstica"}),d.jsxs("div",{className:"relative",children:[d.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),d.jsx("input",{type:"text",placeholder:"BUSCAR ID OU LOTE...",className:"modern-input h-16 pl-12 bg-white font-black text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all",value:m,onChange:L=>g(L.target.value)})]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-8 pt-4 space-y-6 custom-scrollbar",children:j.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 grayscale",children:[d.jsx(dx,{size:100,className:"mb-6"}),d.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"Estoque Indisponvel"})]}):d.jsx("div",{className:"grid grid-cols-1 gap-6",children:j.map(L=>{const Y=L.items.every(Q=>f.some(ge=>ge.id_completo===Q.id_completo)),ee=L.items.some(Q=>f.some(ge=>ge.id_completo===Q.id_completo)),X=P.has(L.lote);return d.jsxs("div",{className:"bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-md transition-shadow group/batch",children:[d.jsxs("div",{onClick:()=>B(L.lote),className:`p-4 flex items-center justify-between cursor-pointer transition-colors ${X?"bg-slate-50/80 border-b border-slate-100":"bg-white hover:bg-slate-50/50"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${X?"bg-blue-600 text-white rotate-90":"bg-slate-100 text-slate-400"}`,children:d.jsx(Ol,{size:20})}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-0.5",children:["LOTE: ",L.lote]}),d.jsxs("p",{className:"text-xs font-extrabold text-slate-900 uppercase tracking-tighter italic",children:['"',L.supplier||"CARGA PADRO",'"']})]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right hidden sm:block",children:[d.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Payload Total"}),d.jsx("p",{className:"text-[12px] font-black text-slate-900",children:Rr(L.totalWeight)})]}),d.jsx("div",{className:"h-8 w-px bg-slate-100 hidden sm:block"}),d.jsx("button",{onClick:Q=>{Q.stopPropagation(),te(L.items)},className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${Y?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-100 text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,children:Y?"LIBERAR":ee?"COMPLETAR":"RESERVAR"})]})]}),X&&d.jsx("div",{className:"overflow-x-auto bg-white animate-reveal",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50/20",children:[d.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest w-12 text-center",children:"Sel"}),d.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Procedncia"}),d.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Tipo"}),d.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Peso (KG)"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50",children:L.carcasses.map(Q=>{const ge=Q.parts.every(be=>f.some(ae=>ae.id_completo===be.id_completo));return d.jsxs(Oe.Fragment,{children:[d.jsxs("tr",{className:"bg-slate-50/10 border-t border-slate-100/50",children:[d.jsx("td",{className:"px-6 py-1 text-center bg-slate-50/20",children:d.jsxs("div",{className:"w-4 h-4 rounded bg-slate-200 flex items-center justify-center text-[7px] font-black text-slate-500",children:["#",Q.sequencia]})}),d.jsx("td",{className:"px-4 py-1",colSpan:2,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Carcassa #",Q.sequencia]}),d.jsx("button",{onClick:be=>{be.stopPropagation(),te(Q.parts)},className:`px-2 py-0.5 rounded text-[7px] font-black uppercase transition-all ${ge?"bg-blue-600 text-white shadow-sm":"bg-white border border-slate-200 text-slate-400 hover:text-blue-600 hover:border-blue-200"}`,children:ge?"INTEIRA SELECIONADA":"VENDER INTEIRA"})]})}),d.jsx("td",{className:"px-6 py-1 text-right",children:d.jsx("span",{className:"text-[9px] font-black text-slate-400",children:Rr(Q.totalCarcassWeight)})})]}),Q.parts.map(be=>{const ae=f.some(Se=>Se.id_completo===be.id_completo);return d.jsxs("tr",{onClick:()=>W(be),className:`group/row cursor-pointer transition-all ${ae?"bg-blue-50/30":"hover:bg-slate-50/50"}`,children:[d.jsx("td",{className:"px-6 py-1.5 text-center",children:d.jsx("div",{className:`w-4 h-4 rounded-md border-2 flex items-center justify-center mx-auto transition-all ${ae?"bg-blue-600 border-blue-600 text-white":"border-slate-200 bg-white"}`,children:ae&&d.jsx(Ho,{size:8,fill:"currentColor",className:"text-white"})})}),d.jsx("td",{className:"px-4 py-1.5",children:d.jsx("span",{className:`text-[10px] font-mono font-bold ${ae?"text-blue-700":"text-slate-400"}`,children:be.id_completo})}),d.jsx("td",{className:"px-4 py-1.5 text-center",children:d.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${ae?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"}`,children:be.tipo===1?"INT":be.tipo===2?"B-A":"B-B"})}),d.jsx("td",{className:"px-6 py-1.5 text-right",children:d.jsx("span",{className:`text-xs font-black tracking-tight ${ae?"text-blue-900":"text-slate-900"}`,children:Rr(be.peso_entrada)})})]},be.id_completo)})]},Q.sequencia)})})]})})]},L.key)})})})]}),d.jsxs("div",{className:"w-full md:w-[420px] bg-white border-l border-slate-100 flex flex-col shadow-2xl z-40 relative",children:[d.jsxs("div",{className:"p-6 pb-2 shrink-0 border-b border-slate-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-slate-900 p-2.5 rounded-xl text-white shadow-lg",children:d.jsx(m3,{size:18})}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-base font-black text-slate-900 tracking-tight italic",children:["Manifesto de ",d.jsx("span",{className:"text-blue-600",children:"Sada"})]}),d.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Aguardando Confirmao"})]})]}),f.length>0&&d.jsx("button",{onClick:()=>h([]),className:"text-[10px] font-black text-rose-500 hover:bg-rose-50 px-3 py-1.5 rounded-lg transition-all uppercase tracking-tighter",children:"Limpar Tudo"})]}),d.jsxs("div",{className:`px-4 py-3 rounded-2xl transition-all flex items-center gap-3 ${l?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-50 border border-slate-100 text-slate-300"}`,children:[d.jsx(yx,{size:18,className:l?"text-white":"text-slate-300"}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("p",{className:"text-[10px] font-black uppercase truncate italic",children:l?l.nome_social:"Selecionar Cliente Ativo"})}),f.length>0&&d.jsxs("div",{className:"bg-white/20 px-2 py-0.5 rounded-md text-[9px] font-black",children:[f.length," ITENS"]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar-thin bg-slate-50/30",children:f.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[d.jsx(Mc,{size:40,className:"text-slate-300 mb-4"}),d.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Carrinho Vazio"})]}):ve.map((L,Y)=>{const ee=L.length>1,X=L.reduce((Q,ge)=>Q+(V[ge.id_completo]||ge.peso_entrada),0);return d.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50/50 px-4 py-2 flex justify-between items-center border-b border-slate-100",children:[d.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Animal #",L[0].sequencia," // Lote ",L[0].id_lote]}),!ee&&d.jsx("button",{onClick:()=>W(L[0]),className:"p-1 text-slate-300 hover:text-rose-500 transition-colors",children:d.jsx(Cu,{size:12})}),ee&&d.jsx("button",{onClick:()=>{L.forEach(Q=>W(Q))},className:"text-[8px] font-black text-rose-500 hover:bg-rose-100 px-2 py-1 rounded transition-all uppercase tracking-tighter",children:"Remover Carcaa"})]}),d.jsx("div",{className:"p-3",children:ee?d.jsxs("div",{className:"flex items-center justify-between bg-blue-50/30 p-3 rounded-xl border border-blue-100/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white shadow-sm",children:d.jsx(Lc,{size:14})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-blue-900 uppercase leading-none mb-1",children:"Carcassa Inteira"}),d.jsxs("p",{className:"text-[8px] font-bold text-blue-400 uppercase tracking-widest",children:[L.length," Cortes Vinculados"]})]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"text-[9px] font-black text-blue-600 uppercase tracking-wide mb-1",children:"PESO SADA"}),d.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 border-2 border-blue-400 rounded-xl px-4 py-3",children:[d.jsx(Sp,{size:20,className:"text-blue-600"}),d.jsx(Ra,{className:"w-32 bg-transparent text-right font-black text-xl text-blue-700 outline-none",placeholder:"Peso",value:Number(X.toFixed(2))||0,onValueChange:Q=>re(L,Q)}),d.jsx("span",{className:"text-sm font-black text-blue-500",children:"KG"})]})]})]}):L.map((Q,ge)=>{const be=V[Q.id_completo]||Q.peso_entrada;return d.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-50 rounded-lg transition-colors group/item",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-[8px] font-bold text-slate-500 font-mono",children:Q.id_completo.split("-").pop()}),d.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:Q.tipo===1?"INT":Q.tipo===2?"B-A":"B-B"})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"text-[9px] font-black text-blue-500 uppercase mb-1",children:"PESO SADA"}),d.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 border-2 border-blue-300 rounded-xl px-3 py-2",children:[d.jsx(Ra,{className:"w-28 bg-transparent text-right font-black text-lg text-blue-700 outline-none",placeholder:"Peso",value:be||0,onValueChange:ae=>le(Q.id_completo,ae)}),d.jsx("span",{className:"text-xs font-black text-blue-400",children:"KG"})]})]})]},ge)})})]},Y)})}),d.jsxs("div",{className:"shrink-0 bg-slate-900 text-white p-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 opacity-5 pointer-events-none",children:d.jsx(m3,{size:200,className:"rotate-12 translate-x-20 translate-y-20"})}),d.jsxs("div",{className:"relative z-10 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"R$ Preo / KG"}),d.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:d.jsx(Ra,{className:"w-full bg-transparent text-white font-black text-xl outline-none",value:H||0,onValueChange:L=>U(L),placeholder:"Preo/kg"})})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"Custos Extras"}),d.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:d.jsx(Ra,{className:"w-full bg-transparent text-white font-black text-lg outline-none",value:R||0,onValueChange:L=>C(L),placeholder:"Extras"})})]})]}),d.jsxs("div",{className:"pt-4 border-t border-white/10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Subtotal Acumulado"}),d.jsx("h2",{className:"text-3xl font-black text-blue-400 tracking-tighter italic leading-none",children:Ot(G+R)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Carga ( KG)"}),d.jsx("p",{className:"text-xl font-black text-white italic tracking-tighter leading-none",children:Rr(z)})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:ie,disabled:f.length===0||!l||H<=0,className:"w-full py-4 bg-blue-600 rounded-xl text-white font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-white hover:text-slate-900 transition-all disabled:opacity-20 active:scale-95 shadow-xl shadow-blue-500/20",children:[d.jsx(Lc,{size:20})," Confirmar Entrega [THIAGO 704]"]}),d.jsxs("button",{onClick:we,disabled:f.length===0||!l||H<=0,className:"w-full py-2.5 bg-white/5 border border-white/10 rounded-lg text-white font-black text-[8px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/10 transition-all disabled:opacity-10",children:[d.jsx(mx,{size:14})," Imprimir Comprovante"]})]})]})]})]})]})]}),A&&d.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-xl animate-reveal p-10 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-6xl h-[85vh] flex flex-col overflow-hidden border border-white",children:[d.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:d.jsx(nW,{size:28})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Expedio ",d.jsx("span",{className:"text-blue-500",children:"Tetris"})]}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Simulador de Carregamento Industrial"})]})]}),d.jsx("button",{onClick:()=>S(!1),className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group",children:d.jsx(Cu,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),d.jsxs("div",{className:"flex-1 p-10 flex flex-col lg:flex-row gap-10 overflow-hidden",children:[d.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[40px] border border-slate-100 p-8 flex flex-col relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:d.jsx(Nc,{size:200})}),d.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] mb-8",children:"Layout Interno do Veculo"}),d.jsxs("div",{className:"flex-1 grid grid-cols-6 grid-rows-8 gap-3 content-start",children:[f.map((L,Y)=>d.jsxs("div",{className:`h-16 rounded-xl border flex flex-col items-center justify-center transition-all group hover:scale-[1.05] animate-reveal ${L.tipo===1?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-100 text-slate-900"}`,title:`${L.id_completo} - ${Rr(L.peso_entrada)}`,children:[d.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:L.tipo===1?"INT":L.tipo===2?"B-A":"B-B"}),d.jsx("span",{className:"text-[8px] font-bold opacity-40",children:Rr(L.peso_entrada)})]},Y)),Array.from({length:Math.max(0,48-f.length)}).map((L,Y)=>d.jsx("div",{className:"h-16 rounded-xl border border-dashed border-slate-200 flex items-center justify-center text-slate-100",children:d.jsx(Jf,{size:16})},Y))]}),d.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 flex items-center justify-between",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-900"}),d.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Pesados / Inteiros"})]}),d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),d.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Mdia Estabilidade"})]})]}),d.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(a0,{size:14,className:"text-blue-500"})," Distribua o peso uniformemente"]})]})]}),d.jsxs("div",{className:"w-full lg:w-96 flex flex-col gap-8 shrink-0",children:[d.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-8 text-white shadow-xl shadow-blue-100",children:[d.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-100 mb-2",children:"Resumo do Manifesto"}),d.jsx("h3",{className:"text-4xl font-black italic tracking-tighter",children:Rr(z)}),d.jsxs("div",{className:"mt-8 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[d.jsx("span",{children:"Items Totais:"}),d.jsxs("span",{children:[f.length," UN"]})]}),d.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[d.jsx("span",{children:"Volume Mdio:"}),d.jsxs("span",{children:[(z/(f.length||1)).toFixed(1)," KG/UN"]})]}),d.jsx("div",{className:"h-px bg-white/10 my-4"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-[11px] font-black uppercase italic",children:"Distribuio de Carga"}),d.jsx("span",{className:"text-sm font-black text-blue-200",children:"OK"})]})]})]}),d.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[32px] p-8 border border-slate-100 overflow-y-auto",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Fila de Carregamento"}),d.jsx("div",{className:"space-y-3",children:f.map((L,Y)=>d.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-2xl border border-slate-200/50 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[10px] font-black bg-slate-900 text-white w-5 h-5 flex items-center justify-center rounded-lg",children:Y+1}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:["#",L.id_completo.split("-").pop()]}),d.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:L.id_lote})]})]}),d.jsx("span",{className:"text-xs font-black text-blue-600",children:Rr(L.peso_entrada)})]},Y))})]})]})]})]})})]})},Ofe=({sales:t=[],batches:e=[],stock:n=[],clients:r=[],transactions:i=[],addTransaction:a,deleteTransaction:s,addPartialPayment:l,onBack:c,payables:f=[],addPayable:h,updatePayable:m,deletePayable:g,estornoSale:y,cleanAllFinancialData:E})=>{const[A,S]=ye.useState("overview"),[I,P]=ye.useState(!1),[F,B]=ye.useState(!1),[j,V]=ye.useState("PENDING"),[O,D]=ye.useState("ALL"),[z,H]=ye.useState("ALL"),[U,R]=ye.useState("ALL"),[C,G]=ye.useState({descricao:"",valor:0,valor_pago:0,categoria:"OPERACIONAL",data_vencimento:new Date().toISOString().split("T")[0],status:"PENDENTE"}),[le,W]=ye.useState(()=>{const de=new Date;return de.setDate(1),de.toISOString().split("T")[0]}),[te,re]=ye.useState(()=>new Date().toISOString().split("T")[0]),[ve,we]=ye.useState(""),[ie,L]=ye.useState(""),[Y,ee]=ye.useState(""),[X,Q]=ye.useState(""),[ge,be]=ye.useState(""),[ae,Se]=ye.useState(""),[Ee,_e]=ye.useState(""),[Je,Fe]=ye.useState(""),[Ne,ne]=ye.useState({descricao:"",valor:0,tipo:"SAIDA",categoria:"OPERACIONAL",data:new Date().toISOString().split("T")[0]}),[Be,Ze]=ye.useState(null),[ze,et]=ye.useState(new Date().toISOString().split("T")[0]),[Ke,rt]=ye.useState("PIX"),[it,We]=ye.useState(""),[yt,bt]=ye.useState("0"),[At,Dt]=ye.useState(""),[Tt,Vt]=ye.useState(null),[wt,Hn]=ye.useState(""),en=de=>{const Xe=(de.peso_real_saida||0)*(de.preco_venda_kg||0),Yt=de.valor_pago||0;return{valorTotal:Xe,valorPago:Yt,saldoDevedor:Math.max(0,Xe-Yt)}},Jn=de=>{const Xe=n.find(Ct=>Ct.id_completo===de.id_completo),Yt=(Xe==null?void 0:Xe.id_lote)||de.id_completo.split("-").slice(0,3).join("-"),cn=Xe?e.find(Ct=>Ct.id_lote===Xe.id_lote):e.find(Ct=>Ct.id_lote===Yt),Ht=(de.peso_real_saida||0)*(de.preco_venda_kg||0),zt=cn&&Number(cn.custo_real_kg)||0,nn=(de.peso_real_saida||0)*zt,Ue=de.custo_extras_total||0;return{revenue:Ht,cgs:nn,operationalCost:Ue,netProfit:Ht-nn-Ue}},yn=()=>{if(!Be||!it)return;const de=parseFloat(it.replace(",",".")),Xe=parseFloat(yt.replace(",","."))||0,{saldoDevedor:Yt}=en(Be);if(isNaN(de)||de<=0||de+Xe>Yt+.01)return alert(" Valor invlido!");l(Be.id_venda,de+Xe,Ke,ze),de>0&&a({id:`TR-REC-${Be.id_venda}-${Date.now()}`,data:ze,descricao:`Recebimento: ${Be.nome_cliente||"Cliente"} - ${Be.id_completo}`,tipo:"ENTRADA",categoria:"VENDA",valor:de,metodo_pagamento:Ke,referencia_id:Be.id_venda}),Xe>0&&At&&a({id:`TR-DESC-${Be.id_venda}-${Date.now()}`,data:ze,descricao:`DESCONTO: ${At}`,tipo:"SAIDA",categoria:"DESCONTO",valor:Xe,metodo_pagamento:Ke,referencia_id:Be.id_venda}),Ze(null),We(""),bt("0"),Dt("")},xn=()=>{if(!Tt||!wt)return;const de=parseFloat(wt.replace(",",".")),Xe=Tt.valor-(Tt.valor_pago||0);if(isNaN(de)||de<=0||de>Xe+.01)return alert(" Valor invlido!");a({id:`TR-PAY-${Tt.id}-${Date.now()}`,data:ze,descricao:`Pagamento: ${Tt.descricao}`,tipo:"SAIDA",categoria:Tt.categoria,valor:de,metodo_pagamento:Ke,referencia_id:Tt.id});const Yt=(Tt.valor_pago||0)+de;m({...Tt,valor_pago:Yt,status:Yt>=Tt.valor-.01?"PAGO":"PARCIAL",data_pagamento:new Date().toISOString().split("T")[0]}),Vt(null),Hn("")},Ma=()=>{if(!Ne.descricao||!Ne.valor)return alert("Preencha todos os campos.");a({id:`TR-${Date.now()}`,descricao:Ne.descricao,valor:Number(Ne.valor),tipo:Ne.tipo,categoria:Ne.categoria,data:Ne.data,metodo_pagamento:"DINHEIRO",referencia_id:""}),P(!1)},gn=ye.useMemo(()=>e.filter(de=>de.status==="FECHADO"),[e]),ci=ye.useMemo(()=>new Set(gn.map(de=>de.id_lote)),[gn]),qn=gn.length>0,Pr=ye.useMemo(()=>i.filter(de=>{var Xe,Yt,cn,Ht;return!de.referencia_id||ci.has(de.referencia_id)||(Xe=de.id)!=null&&Xe.startsWith("TR-REC-")||(Yt=de.id)!=null&&Yt.startsWith("TR-PAY-")||de.categoria==="VENDA"||(cn=de.id)!=null&&cn.startsWith("TR-ESTORNO-")||de.categoria==="ESTORNO"||(Ht=de.id)!=null&&Ht.startsWith("TR-DESC-")||de.categoria==="DESCONTO"||!de.referencia_id.includes("-")?!0:!qn}),[i,ci,qn]),Vr=ye.useMemo(()=>Pr.filter(de=>de.data>=le&&de.data<=te).sort((de,Xe)=>Xe.data.localeCompare(de.data)),[Pr,le,te]),Sn=Pr.reduce((de,Xe)=>de+(Xe.tipo==="ENTRADA"?Xe.valor:-Xe.valor),0),Mt=ye.useMemo(()=>t.filter(Xe=>{const Yt=Xe.id_completo.split("-")[0]+"-"+Xe.id_completo.split("-")[1]+"-"+Xe.id_completo.split("-")[2];return ci.has(Yt)}).filter(Xe=>Xe.status_pagamento!=="ESTORNADO"&&en(Xe).saldoDevedor>.01).sort((Xe,Yt)=>Xe.data_vencimento.localeCompare(Yt.data_vencimento)),[t,ci]),bn=ye.useMemo(()=>Mt.reduce((de,Xe)=>de+en(Xe).saldoDevedor,0),[Mt]),xi=new Date().toISOString().split("T")[0];Mt.filter(de=>de.data_vencimento<xi);const Or=new Date(Date.now()-30*864e5).toISOString().split("T")[0],ui=Mt.filter(de=>de.data_vencimento<Or),bi=Array.from(new Set(ui.map(de=>de.nome_cliente||"Desconhecido"))),kt=ye.useMemo(()=>n.filter(de=>de.status==="DISPONIVEL").reduce((de,Xe)=>{const Yt=gn.find(Ht=>Ht.id_lote===Xe.id_lote),cn=Yt&&Number(Yt.custo_real_kg)||0;return de+Xe.peso_entrada*cn},0),[n,gn]),Ci=ye.useMemo(()=>qn?f.filter(de=>{if(de.status==="ESTORNADO"||de.status==="CANCELADO")return!1;if(de.id_lote)return ci.has(de.id_lote);if(de.categoria==="COMPRA_GADO"&&de.descricao){const Xe=de.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);return Xe?ci.has(Xe[1]):!1}return!0}).reduce((de,Xe)=>de+(Xe.valor-(Xe.valor_pago||0)),0):0,[f,ci,qn]),jr=ye.useMemo(()=>t.filter(Xe=>{if(Xe.status_pagamento==="ESTORNADO")return!1;const Yt=Xe.id_completo.split("-")[0]+"-"+Xe.id_completo.split("-")[1]+"-"+Xe.id_completo.split("-")[2];return ci.has(Yt)}).reduce((Xe,Yt)=>{const cn=Jn(Yt);return{revenue:Xe.revenue+cn.revenue,cgs:Xe.cgs+cn.cgs,ops:Xe.ops+cn.operationalCost,profit:Xe.profit+cn.netProfit}},{revenue:0,cgs:0,ops:0,profit:0}),[t,n,gn,ci]),qr=ye.useMemo(()=>{const de=new Map;return t.filter(Xe=>Xe.status_pagamento!=="ESTORNADO").forEach(Xe=>{const Yt=Jn(Xe),cn=Xe.nome_cliente||"Direto";de.has(cn)||de.set(cn,{revenue:0,profit:0,volume:0});const Ht=de.get(cn);Ht.revenue+=Yt.revenue,Ht.profit+=Yt.netProfit,Ht.volume+=Xe.peso_real_saida}),Array.from(de.entries()).map(([Xe,Yt])=>({name:Xe,...Yt})).sort((Xe,Yt)=>Yt.revenue-Xe.revenue)},[t,n,e]),cr=ye.useMemo(()=>{const de=t.filter(Ue=>Ue.status_pagamento!=="ESTORNADO"),Xe=de.reduce((Ue,Ct)=>Ue+Ct.peso_real_saida*Ct.preco_venda_kg,0),Yt=de.reduce((Ue,Ct)=>Ue+(Ct.valor_pago||0),0),cn=Xe>0?Yt/Xe*100:100,Ht=jr.cgs,zt=kt,nn=zt>0?Ht/zt:0;return{efficacy:cn,turnover:nn}},[t,jr,kt]);return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:c,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl shadow-slate-200",children:d.jsx(f3,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controladoria ",d.jsx("span",{className:"text-blue-600",children:"Finanas"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Fluxo de Caixa & Resultados / ID-FIN"})]})]})]}),d.jsx("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:d.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:["overview","cashflow","receivables","payables","suppliers","profit"].map(de=>d.jsx("button",{onClick:()=>S(de),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${A===de?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:de==="overview"?"Viso Geral":de==="cashflow"?"Fluxo Caixa":de==="receivables"?"A Receber":de==="payables"?"A Pagar":de==="suppliers"?"Fornecedores":"DRE"},de))})})]}),A==="overview"&&d.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Saldo em Caixa",value:Ot(Sn),icon:l0,color:"blue"},{label:"Contas a Receber",value:Ot(bn),icon:Vp,color:"emerald"},{label:"Valor em Estoque",value:Ot(kt),icon:HS,color:"amber"},{label:"Total a Pagar",value:Ot(Ci),icon:vx,color:"rose"}].map((de,Xe)=>d.jsxs("div",{className:"premium-card p-8 flex flex-col gap-5 group hover:-translate-y-1 transition-all",children:[d.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all group-hover:scale-110 ${de.color==="blue"?"bg-blue-50 text-blue-600":de.color==="emerald"?"bg-emerald-50 text-emerald-600":de.color==="amber"?"bg-amber-50 text-amber-600":"bg-rose-50 text-rose-600"}`,children:d.jsx(de.icon,{size:24})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:de.label}),d.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:de.value})]})]},Xe))}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"premium-card p-8 bg-emerald-50 border-emerald-100 group hover:-translate-y-1 transition-all",children:[d.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-2",children:"Total Ativos"}),d.jsxs("p",{className:"text-3xl font-black text-emerald-700 tracking-tight",children:["+",Ot(Sn+bn+kt)]}),d.jsx("p",{className:"text-[9px] font-bold text-emerald-500 mt-2",children:"Caixa + A Receber + Estoque"})]}),d.jsxs("div",{className:"premium-card p-8 bg-rose-50 border-rose-100 group hover:-translate-y-1 transition-all",children:[d.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-2",children:"Total Passivos"}),d.jsxs("p",{className:"text-3xl font-black text-rose-700 tracking-tight",children:["-",Ot(Ci)]}),d.jsx("p",{className:"text-[9px] font-bold text-rose-500 mt-2",children:"Contas a Pagar"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"premium-card p-10 bg-white",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[d.jsx(mW,{size:16,className:"text-amber-500"})," Top 5 Clientes (Curva ABC)"]}),d.jsx("div",{className:"px-3 py-1 bg-amber-50 rounded-full text-[9px] font-black text-amber-600 uppercase",children:"Faturamento"})]}),d.jsx("div",{className:"space-y-6",children:qr.slice(0,5).map((de,Xe)=>d.jsxs("div",{className:"flex items-center justify-between group",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs ${Xe===0?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-400 group-hover:bg-slate-100"}`,children:Xe===0?d.jsx(AG,{size:16}):Xe+1}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-[11px] font-black text-slate-800 uppercase italic",children:['"',de.name,'"']}),d.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[Rr(de.volume)," movimentados"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-black text-slate-900",children:Ot(de.revenue)}),d.jsxs("p",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:["+ ",Ot(de.profit)," lucro"]})]})]},Xe))})]}),d.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[d.jsx(wW,{size:16,className:"text-blue-600"})," Industrial Analytics"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"})]})]}),d.jsx("div",{className:"flex-1 flex flex-col justify-between",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-blue-200 transition-all",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Eficcia de Recebimento"}),d.jsxs("span",{className:"text-xs font-black text-blue-600",children:[cr.efficacy.toFixed(1),"%"]})]}),d.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${Math.min(100,cr.efficacy)}%`}})})]}),d.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-emerald-200 transition-all",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Giro de Ativo (Estoque)"}),d.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[cr.turnover.toFixed(1),"x / ciclo"]})]}),d.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000",style:{width:`${Math.min(100,cr.turnover*10)}%`}})})]})]})})]})]})]}),A==="cashflow"&&d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[d.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[d.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white shadow-2xl shadow-blue-900/20",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shadow-[0_0_12px_rgba(59,130,246,0.8)]"}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em]",children:"Saldo Atualizado"})]}),d.jsx("h3",{className:`text-5xl font-black tracking-tighter mb-12 ${Sn>=0?"text-white":"text-rose-400"}`,children:Ot(Sn)}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:()=>{P(!0),ne({...Ne,tipo:"ENTRADA"})},className:"w-full btn-modern bg-blue-600 hover:bg-white hover:text-blue-700 text-white py-5 rounded-2xl gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-widest",children:[d.jsx(Jf,{size:20})," Lanar Entrada"]}),d.jsxs("button",{onClick:()=>{P(!0),ne({...Ne,tipo:"SAIDA"})},className:"w-full btn-modern bg-white/5 border border-white/10 hover:bg-rose-600 text-white py-5 rounded-2xl gap-4 transition-all font-black text-xs uppercase tracking-widest",children:[d.jsx(px,{size:20})," Lanar Sada"]})]})]}),d.jsxs("div",{className:"premium-card p-10 bg-white",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[d.jsx(u3,{size:16,className:"text-blue-600"})," Parmetros de Filtro"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Inicial"}),d.jsx("input",{type:"date",className:"modern-input h-14",value:le,onChange:de=>W(de.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Final"}),d.jsx("input",{type:"date",className:"modern-input h-14",value:te,onChange:de=>re(de.target.value)})]})]})]})]}),d.jsx("div",{className:"lg:col-span-8",children:d.jsxs("div",{className:"premium-card overflow-hidden",children:[d.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap justify-between items-center gap-4",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Buffer de Movimentaes"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"px-4 py-1.5 bg-white rounded-full border border-slate-100 text-[10px] font-black text-slate-900 shadow-sm",children:[Vr.length," Registros"]}),d.jsxs("button",{onClick:()=>{const de=new Jt,Xe=de.internal.pageSize.width;de.setFillColor(15,23,42),de.rect(15,10,Xe-30,28,"F"),de.setFont("courier","bold"),de.setFontSize(28),de.setTextColor(255,255,255),de.text("THIAGO",22,28),de.setFontSize(32),de.setTextColor(59,130,246),de.text("704",68,32),de.setFillColor(59,130,246),de.rect(15,38,Xe-30,2,"F"),de.setFont("helvetica","bold"),de.setFontSize(14),de.setTextColor(15,23,42),de.text("FLUXO DE CAIXA",Xe/2,50,{align:"center"}),de.setFontSize(10),de.setTextColor(100,116,139),de.text(`Perodo: ${le}  a  ${te}`,Xe/2,58,{align:"center"}),de.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,Xe/2,65,{align:"center"}),de.setDrawColor(200,200,200),de.line(15,70,Xe-15,70);const Yt=Vr.filter(nn=>nn.tipo==="ENTRADA").reduce((nn,Ue)=>nn+Ue.valor,0),cn=Vr.filter(nn=>nn.tipo==="SAIDA").reduce((nn,Ue)=>nn+Ue.valor,0),Ht=Yt-cn;de.setFont("helvetica","bold"),de.setFontSize(11),de.setTextColor(16,185,129),de.text(`ENTRADAS:  R$ ${Yt.toFixed(2)}`,18,80),de.setTextColor(239,68,68),de.text(`SADAS:  R$ ${cn.toFixed(2)}`,85,80),de.setTextColor(15,23,42),de.text(`SALDO:  R$ ${Ht.toFixed(2)}`,148,80),de.setDrawColor(200,200,200),de.line(15,86,Xe-15,86);let zt=96;de.setFillColor(235,240,245),de.rect(15,zt-6,Xe-30,10,"F"),de.setFontSize(9),de.setFont("helvetica","bold"),de.setTextColor(15,23,42),de.text("DATA",18,zt),de.text("DESCRIO",48,zt),de.text("CATEGORIA",125,zt),de.text("VALOR",Xe-18,zt,{align:"right"}),zt+=10,de.setFontSize(10),Vr.forEach(nn=>{zt>270&&(de.addPage(),zt=25),de.setFont("helvetica","bold"),de.setTextColor(80,80,80),de.text(new Date(nn.data).toLocaleDateString("pt-BR"),18,zt),de.setTextColor(15,23,42),de.text((nn.descricao||"").substring(0,38),48,zt),de.setFontSize(8),de.setTextColor(100,116,139),de.text(nn.categoria||"",125,zt),de.setFontSize(10),de.setFont("helvetica","bold"),nn.tipo==="ENTRADA"?de.setTextColor(16,185,129):de.setTextColor(239,68,68),de.text(`${nn.tipo==="ENTRADA"?"+":"-"} R$ ${nn.valor.toFixed(2)}`,Xe-18,zt,{align:"right"}),zt+=8}),zt+=8,de.setFillColor(15,23,42),de.rect(15,zt,Xe-30,12,"F"),de.setFont("courier","bold"),de.setFontSize(8),de.setTextColor(255,255,255),de.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",Xe/2,zt+8,{align:"center"}),de.save(`FLUXO_CAIXA_${le}_${te}.pdf`)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-sm",children:[d.jsx(mx,{size:14})," Exportar PDF"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-24",children:"Data"}),d.jsx("th",{children:"Histrico Operacional"}),d.jsx("th",{children:"Vnculo / Categoria"}),d.jsx("th",{className:"text-right",children:"Valor Lquido"}),d.jsx("th",{className:"w-16 text-center",children:"Aes"})]})}),d.jsxs("tbody",{children:[Vr.map(de=>{var Xe;return d.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[d.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(de.data).toLocaleDateString()}),d.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs truncate max-w-sm italic",children:['"',de.descricao,'"']}),d.jsx("td",{children:d.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-lg border ${de.categoria==="ESTORNO"?"bg-amber-50 text-amber-600 border-amber-200":"bg-slate-50 text-slate-400 border-slate-100"}`,children:de.categoria})}),d.jsxs("td",{className:`text-right font-black text-sm ${de.tipo==="ENTRADA"?"text-emerald-600":"text-rose-600"}`,children:[de.tipo==="ENTRADA"?"+":"-"," ",Ot(de.valor)]}),d.jsx("td",{className:"text-center",children:de.categoria!=="ESTORNO"&&!((Xe=de.id)!=null&&Xe.startsWith("TR-ESTORNO-"))&&d.jsx("button",{onClick:()=>{window.confirm(`Estornar transao?

"${de.descricao}"
Valor: ${Ot(de.valor)}

Uma transao inversa ser criada.`)&&s(de.id)},className:"w-8 h-8 bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 rounded-lg transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",title:"Estornar transao",children:d.jsx(Bp,{size:14})})})]},de.id)}),Vr.length===0&&d.jsx("tr",{children:d.jsxs("td",{colSpan:5,className:"py-32 text-center",children:[d.jsx(os,{size:64,className:"mx-auto mb-6 text-slate-100"}),d.jsx("p",{className:"font-black text-[10px] uppercase text-slate-300 tracking-[0.4em]",children:"Nenhum registro no perodo"})]})})]})]})})]})})]}),A==="receivables"&&d.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[bi.length>0&&d.jsxs("div",{className:"bg-rose-600 rounded-[40px] text-white p-10 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-rose-900/20 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(Lc,{size:160})}),d.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[d.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center backdrop-blur-lg",children:d.jsx(a0,{size:40})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-3xl font-black tracking-tight uppercase leading-none italic mb-2",children:"Protocolo de Inadimplncia"}),d.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest max-w-sm",children:"Detectamos pendncias crticas com mais de 30 dias de atraso nas transaes."})]})]}),d.jsx("button",{onClick:()=>D("CRITICAL"),className:"btn-modern bg-white text-rose-600 px-10 py-5 rounded-2xl hover:bg-slate-900 hover:text-white transition-all shadow-xl font-black text-xs uppercase tracking-widest mt-6 md:mt-0 relative z-10",children:"Auditar Inadimplentes"})]}),d.jsxs("div",{className:"premium-card overflow-hidden bg-white shadow-xl",children:[d.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap gap-6 items-center",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-auto flex items-center gap-2",children:[d.jsx(Tu,{size:16,className:"text-blue-600"})," Fila de Compensao"]}),d.jsxs("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-inner",children:[d.jsx("button",{onClick:()=>D("ALL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${O==="ALL"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Todos"}),d.jsx("button",{onClick:()=>D("OVERDUE"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${O==="OVERDUE"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Vencidos"}),d.jsx("button",{onClick:()=>D("CRITICAL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${O==="CRITICAL"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Crticos"})]})]}),d.jsxs("div",{className:"px-8 py-4 bg-white border-b border-slate-50 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Cliente"}),d.jsxs("select",{value:ae,onChange:de=>Se(de.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[d.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(Mt.map(de=>de.nome_cliente||"Desconhecido"))).sort().map(de=>d.jsx("option",{value:de,children:de},de))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),d.jsxs("select",{value:ge,onChange:de=>be(de.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[d.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(Mt.map(de=>de.id_completo.split("-").slice(0,3).join("-")))).sort().map(de=>d.jsx("option",{value:de,children:de},de))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),d.jsx("input",{type:"date",value:Ee,onChange:de=>_e(de.target.value),className:"modern-input h-10 py-0 text-xs"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),d.jsx("input",{type:"date",value:Je,onChange:de=>Fe(de.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Vencimento"}),d.jsx("th",{children:"Status de Risco"}),d.jsx("th",{children:"Entidade / Destino"}),d.jsx("th",{className:"text-right",children:"Saldo Devedor"}),d.jsx("th",{className:"w-56 text-center",children:"Operaes"})]})}),d.jsxs("tbody",{children:[Mt.filter(de=>{if(ae&&de.nome_cliente!==ae||ge&&!de.id_completo.includes(ge)||Ee&&de.data_vencimento<Ee||Je&&de.data_vencimento>Je)return!1;const Xe=de.data_vencimento<xi;return O==="OVERDUE"?Xe:O==="CRITICAL"?de.data_vencimento<Or:!0}).sort((de,Xe)=>Xe.data_vencimento.localeCompare(de.data_vencimento)).map(de=>{const{saldoDevedor:Xe}=en(de),Yt=de.data_vencimento<xi,cn=Math.ceil(Math.abs(new Date(xi).getTime()-new Date(de.data_vencimento).getTime())/864e5);return d.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${Yt?"bg-rose-50/10":""}`,children:[d.jsx("td",{children:d.jsx("span",{className:`text-[11px] font-extrabold ${Yt?"text-rose-600":"text-slate-400"}`,children:new Date(de.data_vencimento).toLocaleDateString()})}),d.jsx("td",{children:d.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest inline-flex border ${Yt?"bg-rose-50 text-rose-600 border-rose-100 shadow-sm":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:Yt?`${cn} DIAS DE ATRASO`:"DENTRO DO PRAZO"})}),d.jsxs("td",{children:[d.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',de.nome_cliente||"Mercado Geral",'"']}),d.jsxs("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:["Comp: ",de.id_completo]})]}),d.jsx("td",{className:"text-right",children:d.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Ot(Xe)})}),d.jsx("td",{className:"text-center",children:d.jsxs("button",{onClick:()=>Ze(de),className:"btn-modern bg-slate-900 text-white py-2.5 px-6 rounded-xl text-[9px] uppercase font-black tracking-widest hover:bg-emerald-600 gap-2 shadow-lg group-hover:scale-105 transition-all",children:[d.jsx(l0,{size:14})," Efetuar Baixa"]})})]},de.id_venda)}),Mt.length===0&&d.jsx("tr",{children:d.jsxs("td",{colSpan:5,className:"py-32 text-center opacity-20",children:[d.jsx(Ho,{size:80,className:"mx-auto mb-6"}),d.jsx("p",{className:"font-black text-xs uppercase tracking-[0.6em]",children:"Nenhuma pendncia ativa"})]})})]})]})})]})]}),A==="payables"&&d.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[d.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ALL","PENDING","LATE","PAID"].map(de=>d.jsx("button",{onClick:()=>V(de),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${j===de?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:de==="ALL"?"Tudo":de==="PENDING"?"Em Aberto":de==="LATE"?"Crticas":"Liquidadas"},de))}),d.jsxs("button",{onClick:()=>B(!0),className:"btn-modern bg-blue-600 text-white hover:bg-slate-900 px-8 py-4 rounded-2xl gap-3 shadow-xl shadow-blue-900/10 font-black text-xs uppercase tracking-widest",children:[d.jsx(Jf,{size:20})," Nova Obrigao"]})]}),d.jsxs("div",{className:"premium-card overflow-hidden shadow-xl",children:[d.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-b border-slate-100 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),d.jsxs("select",{value:ve,onChange:de=>we(de.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[d.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(f.map(de=>de.id_lote).filter(Boolean))).sort().map(de=>d.jsx("option",{value:de,children:de},de))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Fornecedor"}),d.jsxs("select",{value:ie,onChange:de=>L(de.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[d.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(f.map(de=>{const Xe=de.descricao.split(" - ");return Xe.length>1?Xe[Xe.length-1]:null}).filter(Boolean))).sort().map(de=>d.jsx("option",{value:de,children:de},de))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),d.jsx("input",{type:"date",value:Y,onChange:de=>ee(de.target.value),className:"modern-input h-10 py-0 text-xs"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),d.jsx("input",{type:"date",value:X,onChange:de=>Q(de.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-20 text-center",children:"STS"}),d.jsx("th",{children:"Vencimento"}),d.jsx("th",{children:"Entidade / Descrio do Passivo"}),d.jsx("th",{className:"text-right",children:"Saldo Remanescente"}),d.jsx("th",{className:"w-40 text-center",children:"Buffer Ao"})]})}),d.jsx("tbody",{children:f.filter(de=>de.status==="ESTORNADO"||de.status==="CANCELADO"||ve&&de.id_lote!==ve&&!(de.descricao&&de.descricao.includes(ve))||ie&&!(de.descricao&&de.descricao.includes(ie))||Y&&de.data_vencimento<Y||X&&de.data_vencimento>X?!1:j==="ALL"?!0:j==="LATE"?de.status!=="PAGO"&&de.data_vencimento<xi:j==="PENDING"?de.status!=="PAGO":de.status==="PAGO").sort((de,Xe)=>Xe.data_vencimento.localeCompare(de.data_vencimento)).map(de=>{const Xe=de.status!=="PAGO"&&de.data_vencimento<xi;return d.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${Xe?"bg-rose-50/10":""}`,children:[d.jsx("td",{className:"text-center",children:d.jsx("div",{className:`w-3.5 h-3.5 rounded-full mx-auto transition-all ${de.status==="PAGO"?"bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.5)]":Xe?"animate-pulse bg-rose-600 shadow-[0_0_12px_rgba(225,29,72,0.5)]":"bg-slate-200 shadow-inner"}`})}),d.jsx("td",{className:"text-[11px] font-extrabold text-slate-400 group-hover:text-slate-900",children:new Date(de.data_vencimento).toLocaleDateString()}),d.jsxs("td",{children:[d.jsxs("p",{className:"font-extrabold text-slate-800 uppercase text-xs italic transition-all group-hover:translate-x-1",children:['"',de.descricao,'"']}),d.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded-md mt-1 inline-block border border-slate-100",children:de.categoria})]}),d.jsx("td",{className:"text-right",children:d.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Ot(de.valor-(de.valor_pago||0))})}),d.jsx("td",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[de.status!=="PAGO"&&d.jsx("button",{onClick:()=>{Vt(de),Hn((de.valor-(de.valor_pago||0)).toFixed(2).replace(".",","))},className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm",children:d.jsx(Au,{size:18})}),d.jsx("button",{onClick:()=>{window.confirm(`Estornar conta a pagar?

"${de.descricao}"
Valor: ${Ot(de.valor)}
${de.valor_pago&&de.valor_pago>0?`J pago: ${Ot(de.valor_pago)}  ser devolvido ao caixa`:"Nenhum pagamento realizado  ser cancelada"}`)&&g(de.id)},className:"w-10 h-10 bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 rounded-xl transition-all flex items-center justify-center",title:"Estornar conta",children:d.jsx(Bp,{size:18})})]})})]},de.id)})})]})})]})]}),A==="profit"&&d.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Receita Bruta Acumulada",value:jr.revenue,color:"blue",icon:Vp},{label:"Custo Logstico (CGS)",value:jr.cgs,color:"rose",icon:Nc},{label:"Fator Extras / Operacional",value:jr.ops,color:"orange",icon:WW},{label:"Lucro Lquido Sincronizado",value:jr.profit,color:"emerald",large:!0,icon:os}].map((de,Xe)=>d.jsxs("div",{className:`premium-card p-10 flex flex-col justify-center gap-6 relative overflow-hidden group transition-all hover:-translate-y-2 ${de.large?"bg-slate-900 text-white shadow-2xl shadow-blue-900/30":"bg-white"}`,children:[de.large&&d.jsx("div",{className:"absolute top-[-10%] right-[-10%] opacity-10 pointer-events-none transform rotate-12",children:d.jsx(de.icon,{size:160})}),d.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 ${de.large?"bg-blue-600 text-white":"bg-slate-50 text-slate-400 group-hover:bg-slate-900 group-hover:text-white transition-colors"}`,children:d.jsx(de.icon,{size:22})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${de.large?"text-blue-400":"text-slate-400"} mb-2`,children:de.label}),d.jsx("h3",{className:`text-4xl font-black tracking-tight ${de.large?"text-blue-100":"text-slate-900"}`,children:Ot(de.value)})]})]},Xe))}),d.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-50/10 pointer-events-none"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-inner animate-pulse",children:d.jsx(Q7,{size:48,className:"text-slate-200"})}),d.jsx("h4",{className:"font-black text-xs uppercase tracking-[0.8em] text-slate-300",children:"Visualizao de Grficos Analticos"}),d.jsx("p",{className:"text-[10px] font-bold text-slate-200 uppercase tracking-widest mt-4",children:"Processando Motor de Inteligncia BI..."})]})]})]}),A==="suppliers"&&(()=>{const de=new Map;f.filter(Ue=>Ue.categoria==="COMPRA_GADO"&&Ue.status!=="ESTORNADO"&&Ue.status!=="CANCELADO").forEach(Ue=>{let Ct=Ue.fornecedor_id||"";if(!Ct&&Ue.descricao){const qt=Ue.descricao.split(" - ");qt.length>1&&(Ct=qt[qt.length-1].trim())}Ct||(Ct="No Identificado"),de.has(Ct)||de.set(Ct,[]),de.get(Ct).push({descricao:Ue.descricao,lote:Ue.id_lote||(Ue.descricao.match(/LOTE-[A-Z0-9]+-\d+/)||[""])[0]||"-",valor:Ue.valor,valorPago:Ue.valor_pago||0,dataPagamento:Ue.data_pagamento||"-",dataVencimento:Ue.data_vencimento,status:Ue.status})}),i.filter(Ue=>Ue.tipo==="SAIDA"&&Ue.categoria==="COMPRA_GADO"&&!Ue.id.startsWith("TR-PAY-")&&!Ue.id.startsWith("TR-ESTORNO-")).forEach(Ue=>{var Dr,Mr;let Ct="";if(Ue.descricao){const jn=Ue.descricao.split(" - ");jn.length>1&&(Ct=jn[jn.length-1].trim())}Ct||(Ct="No Identificado");const qt=((Dr=Ue.descricao)==null?void 0:Dr.match(/LOTE-[A-Z0-9]+-\d+/))||((Mr=Ue.referencia_id)==null?void 0:Mr.match(/LOTE-[A-Z0-9]+-\d+/));de.has(Ct)||de.set(Ct,[]),de.get(Ct).push({descricao:Ue.descricao||"",lote:qt?qt[0]:Ue.referencia_id||"-",valor:Ue.valor,valorPago:Ue.valor,dataPagamento:Ue.data,dataVencimento:Ue.data,status:"PAGO"})});const Xe=Array.from(de.entries()).sort((Ue,Ct)=>Ue[0].localeCompare(Ct[0])),Yt=Xe.map(([Ue])=>Ue),cn=Array.from(new Set(Xe.flatMap(([,Ue])=>Ue.map(Ct=>Ct.lote)).filter(Ue=>Ue&&Ue!=="-"))).sort(),Ht=(z==="ALL"?Xe:Xe.filter(([Ue])=>Ue===z)).map(([Ue,Ct])=>[Ue,U==="ALL"?Ct:Ct.filter(qt=>qt.lote===U)]).filter(([,Ue])=>Ue.length>0),zt=Ht.reduce((Ue,[,Ct])=>Ue+Ct.reduce((qt,Dr)=>qt+Dr.valor,0),0),nn=Ht.reduce((Ue,[,Ct])=>Ue+Ct.reduce((qt,Dr)=>qt+Dr.valorPago,0),0);return d.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 animate-reveal",children:[d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[d.jsx(u3,{size:12,className:"text-blue-500"}),d.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:z,onChange:Ue=>H(Ue.target.value),children:[d.jsx("option",{value:"ALL",children:"TODOS FORNECEDORES"}),Yt.map(Ue=>d.jsx("option",{value:Ue,children:Ue},Ue))]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[d.jsx(tK,{size:12,className:"text-blue-500"}),d.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:U,onChange:Ue=>R(Ue.target.value),children:[d.jsx("option",{value:"ALL",children:"TODOS LOTES"}),cn.map(Ue=>d.jsx("option",{value:Ue,children:Ue},Ue))]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[d.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Fornecedores"}),d.jsx("span",{className:"text-lg font-black text-slate-900",children:Ht.length})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[d.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Total"}),d.jsx("span",{className:"text-lg font-black text-slate-900",children:Ot(zt)})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[d.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-wider",children:"Pago"}),d.jsx("span",{className:"text-lg font-black text-emerald-600",children:Ot(nn)})]}),zt-nn>.01&&d.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[d.jsx("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-wider",children:"Pendente"}),d.jsx("span",{className:"text-lg font-black text-orange-500",children:Ot(zt-nn)})]}),d.jsxs("button",{onClick:()=>{const Ue=new Jt,Ct=Ue.internal.pageSize.width;Ue.setFillColor(15,23,42),Ue.rect(15,10,Ct-30,28,"F"),Ue.setFont("courier","bold"),Ue.setFontSize(28),Ue.setTextColor(255,255,255),Ue.text("THIAGO",22,28),Ue.setFontSize(32),Ue.setTextColor(59,130,246),Ue.text("704",68,32),Ue.setFillColor(59,130,246),Ue.rect(15,38,Ct-30,2,"F"),Ue.setFont("helvetica","bold"),Ue.setFontSize(14),Ue.setTextColor(15,23,42),Ue.text("PAGAMENTOS A FORNECEDORES",Ct/2,50,{align:"center"}),Ue.setFontSize(10),Ue.setTextColor(100,116,139),Ue.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,Ct/2,58,{align:"center"}),Ue.setDrawColor(200,200,200),Ue.line(15,63,Ct-15,63),Ue.setFont("helvetica","bold"),Ue.setFontSize(11),Ue.setTextColor(15,23,42),Ue.text(`TOTAL:  R$ ${zt.toFixed(2)}`,18,73),Ue.setTextColor(16,185,129),Ue.text(`PAGO:  R$ ${nn.toFixed(2)}`,85,73),zt-nn>.01&&(Ue.setTextColor(239,68,68),Ue.text(`PENDENTE:  R$ ${(zt-nn).toFixed(2)}`,148,73)),Ue.line(15,79,Ct-15,79);let qt=90;Ht.forEach(([Dr,Mr])=>{qt>255&&(Ue.addPage(),qt=25);const jn=Mr.reduce((Gn,La)=>Gn+La.valor,0),Lr=Mr.reduce((Gn,La)=>Gn+La.valorPago,0);Ue.setFillColor(230,235,242),Ue.rect(15,qt-5,Ct-30,10,"F"),Ue.setFont("helvetica","bold"),Ue.setFontSize(10),Ue.setTextColor(15,23,42),Ue.text(`${Dr}  (${Mr.length})`,18,qt+1),Ue.setFontSize(9),Ue.text(`Total: R$ ${jn.toFixed(2)}`,115,qt+1),Ue.setTextColor(16,185,129),Ue.text(`Pago: R$ ${Lr.toFixed(2)}`,158,qt+1),qt+=10,Ue.setFontSize(8),Ue.setFont("helvetica","bold"),Ue.setTextColor(100,116,139),Ue.text("DATA",22,qt),Ue.text("LOTE",52,qt),Ue.text("VALOR",120,qt,{align:"right"}),Ue.text("PAGO",152,qt,{align:"right"}),Ue.text("STATUS",Ct-18,qt,{align:"right"}),qt+=7,Ue.setFont("helvetica","bold"),Ue.setFontSize(9),Mr.forEach(Gn=>{qt>270&&(Ue.addPage(),qt=25),Ue.setTextColor(80,80,80),Ue.text(Gn.dataPagamento!=="-"?new Date(Gn.dataPagamento).toLocaleDateString("pt-BR"):"-",22,qt),Ue.setTextColor(59,130,246),Ue.text(Gn.lote,52,qt),Ue.setTextColor(15,23,42),Ue.text(`R$ ${Gn.valor.toFixed(2)}`,120,qt,{align:"right"}),Ue.setTextColor(16,185,129),Ue.text(Gn.valorPago>0?`R$ ${Gn.valorPago.toFixed(2)}`:"-",152,qt,{align:"right"}),Ue.setTextColor(Gn.status==="PAGO"?16:Gn.status==="PARCIAL"?234:239,Gn.status==="PAGO"?185:Gn.status==="PARCIAL"?138:68,Gn.status==="PAGO"?129:Gn.status==="PARCIAL"?42:68),Ue.text(Gn.status,Ct-18,qt,{align:"right"}),qt+=7}),qt+=5}),qt+=8,qt>280&&(Ue.addPage(),qt=25),Ue.setFillColor(15,23,42),Ue.rect(15,qt,Ct-30,12,"F"),Ue.setFont("courier","bold"),Ue.setFontSize(8),Ue.setTextColor(255,255,255),Ue.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",Ct/2,qt+8,{align:"center"}),Ue.save(`FORNECEDORES_${new Date().toISOString().split("T")[0]}.pdf`)},className:"bg-blue-600 text-white rounded-xl px-4 py-2 shadow-sm flex items-center gap-2 text-[9px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all",children:[d.jsx(mx,{size:14})," Exportar PDF"]})]}),d.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Fornecedor"}),d.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Data Pgto"}),d.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Lote"}),d.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),d.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Pago"}),d.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center",children:"Status"})]})}),d.jsx("tbody",{children:Ht.map(([Ue,Ct])=>{const qt=Ct.reduce((jn,Lr)=>jn+Lr.valor,0),Dr=Ct.reduce((jn,Lr)=>jn+Lr.valorPago,0),Mr=[...Ct].sort((jn,Lr)=>Lr.dataVencimento.localeCompare(jn.dataVencimento));return d.jsxs(Oe.Fragment,{children:[d.jsxs("tr",{className:"bg-slate-100/80 border-t-2 border-slate-200",children:[d.jsx("td",{className:"px-3 py-1.5 font-black text-xs text-slate-800 uppercase",colSpan:3,children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Nc,{size:12,className:"text-blue-500"}),Ue,d.jsxs("span",{className:"text-[8px] font-bold text-slate-400 ml-1",children:["(",Ct.length,")"]})]})}),d.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-slate-700",children:Ot(qt)}),d.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-emerald-600",children:Ot(Dr)}),d.jsx("td",{className:"px-3 py-1.5 text-center",children:qt-Dr>.01&&d.jsxs("span",{className:"text-[8px] font-black text-orange-500",children:["DEVE ",Ot(qt-Dr)]})})]}),Mr.map((jn,Lr)=>d.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/40 transition-colors",children:[d.jsx("td",{className:"px-3 py-1.5 pl-8 text-[10px] text-slate-300",children:""}),d.jsx("td",{className:"px-3 py-1.5 text-[10px] font-semibold text-slate-500",children:jn.dataPagamento!=="-"?new Date(jn.dataPagamento).toLocaleDateString():"-"}),d.jsx("td",{className:"px-3 py-1.5",children:d.jsx("span",{className:"text-[9px] font-mono font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100",children:jn.lote})}),d.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-slate-700",children:Ot(jn.valor)}),d.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-emerald-600",children:jn.valorPago>0?Ot(jn.valorPago):"-"}),d.jsx("td",{className:"px-3 py-1.5 text-center",children:d.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${jn.status==="PAGO"?"bg-emerald-50 text-emerald-600":jn.status==="PARCIAL"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:jn.status})})]},Lr))]},Ue)})})]})})}),Ht.length===0&&d.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center",children:[d.jsx(Nc,{size:40,className:"mx-auto mb-4 text-slate-200"}),d.jsx("p",{className:"font-black text-[9px] uppercase text-slate-300 tracking-[0.3em]",children:"Nenhum pagamento a fornecedor registrado"})]})]})})(),(Be||Tt||I||F)&&d.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-xl animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-lg overflow-hidden flex flex-col border border-white relative",children:[d.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white relative",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:d.jsx(f3,{size:120})}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:"Terminal Financeiro"}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizador de Dados Ativo"})]}),d.jsx("button",{onClick:()=>{Ze(null),Vt(null),P(!1),B(!1)},className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group relative z-10",children:d.jsx(Cu,{size:24,className:"text-white group-hover:rotate-90 transition-transform"})})]}),d.jsxs("div",{className:"p-12 space-y-10 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[Be&&d.jsxs("div",{className:"space-y-8 animate-reveal",children:[d.jsxs("div",{className:"p-8 bg-slate-50 rounded-[32px] border border-slate-100 shadow-inner relative",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Compensao de Cliente"}),d.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',Be.nome_cliente,'"']}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[d.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-2 tracking-widest",children:"Saldo Pendente em Buffer"}),d.jsx("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:Ot(en(Be).saldoDevedor)})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor Recebido (R$)"}),d.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-20 text-4xl font-black text-center bg-blue-50/30 border-blue-100",value:it,onChange:de=>We(de.target.value)})]}),d.jsxs("div",{className:"p-6 bg-orange-50/50 border-2 border-orange-100 rounded-3xl space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center",children:d.jsx(px,{size:20,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Desconto por Avaria"}),d.jsx("p",{className:"text-[9px] font-bold text-orange-400 uppercase tracking-wider",children:"Carne machucada / Transporte"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Valor do Desconto (R$)"}),d.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-16 text-2xl font-black text-center bg-white border-orange-200",value:yt,onChange:de=>bt(de.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Motivo do Desconto"}),d.jsx("input",{type:"text",placeholder:"Ex: CARNE MACHUCADA NO TRANSPORTE",className:"modern-input h-14 text-xs bg-white border-orange-200 uppercase",value:At,onChange:de=>Dt(de.target.value.toUpperCase())})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Forma de Recebimento"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:"modern-input h-14 bg-slate-50/30 appearance-none font-black text-xs uppercase cursor-pointer w-full",value:Ke,onChange:de=>rt(de.target.value),children:[d.jsx("option",{value:"PIX",children:" PIX"}),d.jsx("option",{value:"DINHEIRO",children:" DINHEIRO"}),d.jsx("option",{value:"CHEQUE",children:" CHEQUE"}),d.jsx("option",{value:"TRANSFERENCIA",children:" TRANSFERNCIA"}),d.jsx("option",{value:"BOLETO",children:" BOLETO"}),d.jsx("option",{value:"CARTAO",children:" CARTO"}),d.jsx("option",{value:"OUTROS",children:" OUTROS"})]}),d.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:d.jsx(Ol,{size:16,className:"rotate-90"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Recebimento"}),d.jsx("input",{type:"date",className:"modern-input h-14 font-bold text-xs",value:ze,onChange:de=>et(de.target.value)})]})]}),d.jsxs("div",{className:"p-6 bg-slate-900 rounded-3xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Recebido:"}),d.jsx("span",{className:"text-lg font-black text-white",children:Ot(parseFloat(it.replace(",","."))||0)})]}),d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Desconto:"}),d.jsxs("span",{className:"text-lg font-black text-orange-400",children:["- ",Ot(parseFloat(yt.replace(",","."))||0)]})]}),d.jsx("div",{className:"h-px bg-white/10 my-4"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Total Baixado:"}),d.jsx("span",{className:"text-3xl font-black text-white",children:Ot((parseFloat(it.replace(",","."))||0)+(parseFloat(yt.replace(",","."))||0))})]}),d.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Via:"}),d.jsx("span",{className:"text-sm font-black text-blue-400 uppercase",children:Ke})]})]}),d.jsx("button",{onClick:yn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Recebimento"})]}),I&&d.jsxs("div",{className:"space-y-8 animate-reveal",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Histrico do Registro"}),d.jsx("input",{type:"text",placeholder:"Ex: Manuteno da Frota",className:"modern-input h-16 bg-slate-50/30",value:Ne.descricao,onChange:de=>ne({...Ne,descricao:de.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante (R$)"}),d.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Valor",className:"modern-input h-16 font-black text-xl",value:Ne.valor||"",onChange:de=>{const Xe=de.target.value.replace(",",".");(Xe===""||/^\d*\.?\d*$/.test(Xe))&&ne({...Ne,valor:parseFloat(Xe)||0})}})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Valor"}),d.jsx("input",{type:"date",className:"modern-input h-16",value:Ne.data,onChange:de=>ne({...Ne,data:de.target.value})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Classificao Contbil"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:"modern-input h-16 bg-slate-50/30 appearance-none font-bold text-xs uppercase cursor-pointer",value:Ne.categoria,onChange:de=>ne({...Ne,categoria:de.target.value}),children:[d.jsx("option",{value:"OPERACIONAL",children:"OPERACIONAL"}),d.jsx("option",{value:"ESTRUTURA",children:"SEDENTARES / SEDE"}),d.jsx("option",{value:"FUNCIONARIOS",children:"SARGENTOS / FUNCIONRIOS"}),d.jsx("option",{value:"COMPRA_GADO",children:"MATRIA PRIMA / GADO"})]}),d.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:d.jsx(Ol,{size:20,className:"rotate-90"})})]})]}),d.jsx("button",{onClick:Ma,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-2xl shadow-blue-900/10 transition-all font-black uppercase tracking-widest text-xs",children:"Efetuar Registro"})]}),F&&d.jsxs("div",{className:"space-y-8 animate-reveal",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Identificao do Passivo"}),d.jsx("input",{type:"text",placeholder:"Ex: Tributos Estaduais",className:"modern-input h-16 bg-slate-50/30",value:C.descricao,onChange:de=>G({...C,descricao:de.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor da Dvida"}),d.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Valor",className:"modern-input h-16 font-black text-xl",value:C.valor||"",onChange:de=>{const Xe=de.target.value.replace(",",".");(Xe===""||/^\d*\.?\d*$/.test(Xe))&&G({...C,valor:parseFloat(Xe)||0})}})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Vencimento Fixo"}),d.jsx("input",{type:"date",className:"modern-input h-16",value:C.data_vencimento,onChange:de=>G({...C,data_vencimento:de.target.value})})]})]}),d.jsx("button",{onClick:()=>{h({...C,id:`PAY-${Date.now()}`,status:"PENDENTE"}),B(!1)},className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-orange-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Agendar para Ciclo"})]}),Tt&&d.jsxs("div",{className:"space-y-8 animate-reveal",children:[d.jsxs("div",{className:"p-8 bg-rose-50 border border-rose-100 rounded-[32px] shadow-inner",children:[d.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-3",children:"Baixa de Passivo / Sada"}),d.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',Tt.descricao,'"']}),d.jsx("p",{className:"text-4xl font-black text-rose-600 mt-8 tracking-tight",children:Ot(Tt.valor-(Tt.valor_pago||0))})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante da Liquidao"}),d.jsx("input",{type:"text",className:"modern-input h-20 text-4xl font-black text-center bg-rose-50/30 border-rose-100",value:wt,onChange:de=>Hn(de.target.value)})]}),d.jsx("button",{onClick:xn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Pagamento"})]})]}),d.jsx("div",{className:"p-8 bg-slate-50/50 text-center border-t border-slate-50 relative z-10",children:d.jsx("p",{className:"text-[8px] font-black text-slate-200 uppercase tracking-[0.5em]",children:"FG-FIN-TERMINAL v2.5.5"})})]})})]})},jfe=({stock:t,batches:e,sales:n,clients:r,initialSearchTerm:i,onBack:a,onGoToSales:s,estornoSale:l})=>{const[c,f]=ye.useState(i||""),[h,m]=ye.useState(i?"client":"date"),[g,y]=ye.useState(new Set),E=B=>{const j=new Set(g);j.has(B)?j.delete(B):j.add(B),y(j)},A=ye.useMemo(()=>n.map(B=>{const j=t.find(R=>R.id_completo===B.id_completo),V=(j==null?void 0:j.id_lote)||B.id_completo.split("-").slice(0,3).join("-"),O=e.find(R=>R.id_lote===V),D=r.find(R=>R.id_ferro===B.id_cliente),z=B.peso_real_saida*B.preco_venda_kg,H=O&&Number(O.custo_real_kg)||0,U=B.peso_real_saida*H+(B.custo_extras_total||0);return{sale:B,item:j,batch:O,client:D,revenue:z,cost:U,profit:z-U}}).filter(B=>{var V,O,D,z;if(!c)return!0;const j=c.toLowerCase();return((V=B.sale.nome_cliente)==null?void 0:V.toLowerCase().includes(j))||((O=B.item)==null?void 0:O.id_completo.toLowerCase().includes(j))||((D=B.batch)==null?void 0:D.id_lote.toLowerCase().includes(j))||((z=B.batch)==null?void 0:z.fornecedor.toLowerCase().includes(j))}).sort((B,j)=>j.sale.data_venda.localeCompare(B.sale.data_venda)),[n,t,e,r,c]),S=ye.useMemo(()=>A.reduce((B,j)=>({revenue:B.revenue+j.revenue,cost:B.cost+j.cost,profit:B.profit+j.profit,count:B.count+1}),{revenue:0,cost:0,profit:0,count:0}),[A]),I=ye.useMemo(()=>{const B=new Map;return A.forEach(j=>{var O,D;let V="";if(h==="date"){const z=new Date(j.sale.data_venda);V=`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}`}else h==="client"?V=((O=j.client)==null?void 0:O.id_ferro)||"unknown":h==="batch"&&(V=((D=j.batch)==null?void 0:D.id_lote)||"unknown");B.has(V)||B.set(V,[]),B.get(V).push(j)}),Array.from(B.entries()).map(([j,V])=>{const O=V.reduce((U,R)=>U+R.revenue,0),D=V.reduce((U,R)=>U+R.cost,0),z=V.reduce((U,R)=>U+R.profit,0);let H=j;return h==="date"?H=new Date(V[0].sale.data_venda).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).toUpperCase():h==="client"?H=V[0].client?V[0].client.nome_social:V[0].sale.nome_cliente||"CLIENTE_DESCONHECIDO":h==="batch"&&(H=V[0].batch?`LOTE_${V[0].batch.id_lote}`:"SEM_LOTE"),{id:j,label:H,items:V,totalRevenue:O,totalCost:D,totalProfit:z,mostRecentDate:V[0].sale.data_venda}}).sort((j,V)=>V.mostRecentDate.localeCompare(j.mostRecentDate))},[A,h]),P=()=>{const B=A.map(({sale:j,item:V,batch:O,revenue:D,cost:z,profit:H})=>({DATA:j.data_venda,CLIENTE:j.nome_cliente,ITEM_ID:(V==null?void 0:V.id_completo)||"N/A",LOTE:(O==null?void 0:O.id_lote)||"N/A",PESO_SAIDA:j.peso_real_saida,PRECO_KG:j.preco_venda_kg,RECEITA:D,LUCRO:H}));OK(B,`FRIGOGEST_HIST_${new Date().toISOString().split("T")[0]}.csv`)},F=B=>{var D;const j=new Jt,V=j.internal.pageSize.width;j.setFont("helvetica","bold"),j.setFontSize(18),j.text("RECIBO DE EXPEDIO",V/2,25,{align:"center"}),j.setFontSize(10),j.setFont("helvetica","normal"),j.text(`FRIGOGEST INDUSTRIAL  ${new Date().toLocaleDateString()}`,V/2,32,{align:"center"}),j.line(20,40,V-20,40),j.setFont("helvetica","bold"),j.text("DADOS DA VENDA",20,50),j.setFont("helvetica","normal"),j.text(`CLIENTE: ${((D=B.nome_cliente)==null?void 0:D.toUpperCase())||"Venda Direta"}`,20,58),j.text(`DATA: ${B.data_venda}`,20,64),j.text(`ID VENDA: ${B.id_venda}`,20,70),j.line(20,80,V-20,80),j.text("ITEM",20,90),j.text("PESO (KG)",100,90,{align:"right"}),j.text("VALOR (R$)",140,90,{align:"right"}),j.text("SUBTOTAL (R$)",180,90,{align:"right"});const O=B.peso_real_saida*B.preco_venda_kg;j.text(B.id_completo,20,100),j.text(B.peso_real_saida.toFixed(2),100,100,{align:"right"}),j.text(B.preco_venda_kg.toFixed(2),140,100,{align:"right"}),j.text(O.toFixed(2),180,100,{align:"right"}),j.line(20,110,V-20,110),j.setFont("helvetica","bold"),j.text("TOTAL GERAL:",140,120,{align:"right"}),j.text(Ot(O),180,120,{align:"right"}),j.save(`RECIBO_${B.id_venda.substring(0,8)}.pdf`)};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),s&&d.jsxs("button",{onClick:s,className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-sm font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-200 uppercase tracking-wider animate-pulse hover:animate-none",children:[d.jsx(Sp,{size:20})," FAZER NOVA VENDA"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:d.jsx(Tu,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Histrico de ",d.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Registro de Expedio / ID-LOG"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto items-center",children:[d.jsxs("div",{className:"relative group flex-1 md:flex-none md:min-w-[300px]",children:[d.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),d.jsx("input",{type:"text",placeholder:"Pesquisar registros...",className:"modern-input pl-12 h-12 text-sm",value:c,onChange:B=>f(B.target.value)})]}),d.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm shrink-0",children:[{id:"date",label:"Data"},{id:"client",label:"Cliente"},{id:"batch",label:"Lote"}].map(B=>d.jsx("button",{onClick:()=>m(B.id),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${h===B.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:B.label},B.id))}),d.jsx("button",{onClick:P,className:"w-12 h-12 rounded-2xl bg-white border border-slate-100 flex items-center justify-center text-slate-500 hover:bg-blue-600 hover:text-white transition-all shadow-sm",children:d.jsx(IG,{size:20})})]})]}),d.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Faturamento Total",val:S.revenue,icon:Au,color:"blue"},{label:"Custo de Mercadoria",val:S.cost,icon:vx,color:"slate"},{label:"Margem Lquida",val:S.profit,icon:Vp,color:"emerald"}].map((B,j)=>d.jsxs("div",{className:"premium-card p-8 flex flex-col gap-4 group hover:translate-x-1 transition-all",children:[d.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${B.color==="blue"?"blue":B.color==="emerald"?"emerald":"slate"}-50 text-${B.color==="blue"?"blue":B.color==="emerald"?"emerald":"slate"}-600 flex items-center justify-center`,children:d.jsx(B.icon,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:B.label}),d.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:Ot(B.val)})]})]},j))}),d.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:I.map(B=>{const j=g.has(B.id);return d.jsxs("div",{className:`premium-card p-0 overflow-hidden transition-all ${j?"ring-2 ring-blue-500/10":""}`,children:[d.jsxs("div",{onClick:()=>E(B.id),className:`p-6 flex flex-col md:flex-row items-center justify-between cursor-pointer transition-all gap-8 ${j?"bg-slate-900 text-white":"bg-white hover:bg-slate-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[d.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border font-bold ${j?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40":"bg-slate-50 text-slate-400 border-slate-100"}`,children:[h==="date"&&d.jsx(vm,{size:20}),h==="client"&&d.jsx(yx,{size:20}),h==="batch"&&d.jsx(Mc,{size:20})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-lg font-black uppercase tracking-tight ${j?"text-white":"text-slate-900"}`,children:B.label}),d.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest mt-1 text-slate-400",children:[B.items.length," Operaes registradas"]})]})]}),d.jsxs("div",{className:"flex items-center gap-10 w-full md:w-auto justify-between md:justify-end",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Receita"}),d.jsx("p",{className:"font-black text-sm",children:Ot(B.totalRevenue)})]}),d.jsxs("div",{className:"text-right border-l border-white/10 pl-10",children:[d.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Resultado"}),d.jsx("p",{className:`font-black text-sm ${B.totalProfit>=0?j?"text-blue-400":"text-blue-600":"text-rose-500"}`,children:Ot(B.totalProfit)})]}),d.jsx("div",{className:`transition-all duration-300 ${j?"rotate-90 text-blue-400":"text-slate-300"}`,children:d.jsx(Ol,{size:24})})]})]}),j&&d.jsx("div",{className:"p-0 animate-reveal overflow-x-auto bg-white",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Data"}),d.jsx("th",{children:"Destinatrio"}),d.jsx("th",{children:"ID Item"}),d.jsx("th",{className:"text-right",children:"Peso Sada"}),d.jsx("th",{className:"text-right",children:"Quebra (KG)"}),d.jsx("th",{className:"text-right",children:"Valor Venda"}),d.jsx("th",{className:"text-right",children:"Margem"}),d.jsx("th",{className:"text-center",children:"Aes"})]})}),d.jsx("tbody",{children:B.items.map((V,O)=>{var z,H;const D=(((z=V.item)==null?void 0:z.peso_entrada)||0)-V.sale.peso_real_saida;return d.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${V.sale.status_pagamento==="ESTORNADO"?"opacity-50":""}`,children:[d.jsx("td",{className:"text-[10px] font-bold text-slate-400",children:new Date(V.sale.data_venda).toLocaleDateString()}),d.jsxs("td",{className:"font-extrabold uppercase text-xs text-slate-900 truncate max-w-[150px]",children:[V.sale.nome_cliente||"Loja Fsica",V.sale.status_pagamento==="ESTORNADO"&&d.jsx("span",{className:"ml-2 text-[8px] font-black bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full uppercase tracking-widest border border-amber-200",children:"ESTORNADO"})]}),d.jsx("td",{className:"font-mono text-[9px] text-slate-400",children:((H=V.item)==null?void 0:H.id_completo)||"N/A"}),d.jsx("td",{className:"text-right font-black text-slate-900",children:Rr(V.sale.peso_real_saida)}),d.jsx("td",{className:`text-right font-black ${D>0?"text-orange-600":"text-emerald-600"}`,children:Rr(D)}),d.jsx("td",{className:"text-right font-black text-slate-900",children:Ot(V.revenue)}),d.jsx("td",{className:`text-right font-black ${V.profit>=0?"text-blue-600":"text-rose-600"}`,children:Ot(V.profit)}),d.jsx("td",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>F(V.sale),className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 hover:bg-slate-900 hover:text-white transition-all flex items-center justify-center",title:"Imprimir recibo",children:d.jsx(mx,{size:16})}),V.sale.status_pagamento!=="ESTORNADO"&&l&&d.jsx("button",{onClick:()=>{window.confirm(` Estornar esta venda?

Cliente: ${V.sale.nome_cliente}
Item: ${V.sale.id_completo}
Valor: ${Ot(V.revenue)}

O item voltar ao estoque e qualquer pagamento recebido ser revertido no caixa.`)&&l(V.sale.id_venda)},className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 transition-all flex items-center justify-center",title:"Estornar venda",children:d.jsx(Bp,{size:14})})]})})]},O)})})]})})]},B.id)})})]})},Dfe=({scheduledOrders:t,clients:e,addScheduledOrder:n,updateScheduledOrder:r,onViewClientHistory:i,onBack:a})=>{const[s,l]=ye.useState(!1),[c,f]=ye.useState(null),[h,m]=ye.useState({id_cliente:"",nome_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"}),[g,y]=ye.useState("ABERTO"),E=ye.useMemo(()=>{let P=[...t];return g!=="TODOS"&&(P=P.filter(F=>F.status===g)),P.sort((F,B)=>F.data_entrega.localeCompare(B.data_entrega))},[t,g]),A=async P=>{if(P.preventDefault(),!h.id_cliente||!h.data_entrega||!h.itens)return;const F=e.find(j=>j.id_ferro===h.id_cliente),B={id:`ORD-${Date.now()}`,id_cliente:h.id_cliente,nome_cliente:(F==null?void 0:F.nome_social)||"Desconhecido",data_entrega:h.data_entrega,hora_entrega:h.hora_entrega,itens:h.itens,status:"ABERTO",data_criacao:new Date().toISOString(),alerta_madrugada:!!h.alerta_madrugada};await n(B),l(!1),m({id_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"})},S=P=>{const F=new Date;F.setHours(0,0,0,0);const B=new Date(P+"T12:00:00");B.setHours(0,0,0,0);const j=(B.getTime()-F.getTime())/864e5;return j>=0&&j<=1},I=P=>{const F=e.find(V=>V.id_ferro===P.id_cliente);if(!F||!F.whatsapp)return;const B=new Date(P.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"),j=`*CONFIRMACAO DE PEDIDO - FRIGOGEST*%0A%0AALERTA_LOGISTICA PARA *${P.nome_cliente.toUpperCase()}*%0ADATA: *${B}*%0A%0A* ITENS:*%0A${P.itens.replace(/\n/g,"%0A")}%0A%0A* PREVISAO:* ${P.hora_entrega||"--:--"}%0A%0AFG_CORE_TERMINAL_2026`;window.open(`https://wa.me/55${F.whatsapp.replace(/\D/g,"")}?text=${j}`,"_blank")};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-purple-700 hover:border-purple-100 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-purple-600 p-3 rounded-2xl text-white shadow-xl shadow-purple-100",children:d.jsx(vm,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agenda ",d.jsx("span",{className:"text-purple-600",children:"Logstica"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento de Entregas / ID-SCH"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ABERTO","CONFIRMADO","TODOS"].map(P=>d.jsx("button",{onClick:()=>y(P),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g===P?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:P.replace("ABERTO","Pendentes").replace("CONFIRMADO","Concludos").replace("TODOS","Todos")},P))}),d.jsxs("button",{onClick:()=>l(!0),className:"btn-modern bg-blue-600 text-white hover:bg-blue-500 px-8 py-3.5 rounded-2xl gap-3 shadow-xl shadow-blue-900/40",children:[d.jsx(Jf,{size:18})," Novo Agendamento"]})]})]}),t.some(P=>P.status==="ABERTO"&&S(P.data_entrega))&&d.jsxs("div",{className:"max-w-7xl mx-auto mb-10 bg-orange-600 rounded-[32px] text-white p-8 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-orange-900/20 animate-pulse-slow",children:[d.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-0",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:d.jsx(Xd,{size:32})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-2xl font-black tracking-tight uppercase",children:"Expedio Urgente"}),d.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:"Pedidos pendentes para as prximas 24 horas"})]})]}),d.jsx("div",{className:"px-6 py-2 rounded-full bg-white/10 text-[10px] font-black tracking-widest border border-white/10 uppercase",children:"Prioridade Mxima"})]}),d.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:E.length===0?d.jsxs("div",{className:"py-32 flex flex-col items-center justify-center bg-white rounded-[40px] border border-dashed border-slate-200",children:[d.jsx(Mc,{size:80,className:"mb-6 opacity-05"}),d.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-[0.4em]",children:"Nenhum agendamento encontrado"})]}):d.jsx("div",{className:"grid grid-cols-1 gap-4",children:E.map(P=>{const F=S(P.data_entrega);return d.jsx("div",{onClick:()=>f(P),className:`premium-card p-0 overflow-hidden group cursor-pointer transition-all hover:-translate-y-1 hover:shadow-xl ${P.status==="CONFIRMADO"?"opacity-60 grayscale-[0.5]":""}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:`w-28 h-28 flex flex-col items-center justify-center shrink-0 ${F?"bg-orange-600 text-white":"bg-slate-50 text-slate-400"} group-hover:scale-105 transition-transform`,children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:new Date(P.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short"})}),d.jsx("span",{className:"text-4xl font-black tracking-tighter",children:new Date(P.data_entrega+"T12:00:00").getDate()}),d.jsx("span",{className:"text-[9px] font-bold opacity-60 uppercase",children:new Date(P.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{month:"short"})})]}),d.jsxs("div",{className:"flex-1 p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight truncate max-w-sm",children:P.nome_cliente}),F&&d.jsx("div",{className:"w-2 h-2 bg-rose-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(225,29,72,0.5)]"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-slate-500 text-[10px] font-black",children:[d.jsx(s0,{size:12}),P.hora_entrega||"--:--"]}),d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate max-w-lg",children:P.itens})]})]}),d.jsxs("div",{className:"flex items-center gap-5",children:[P.status==="ABERTO"?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:B=>{B.stopPropagation(),r(P.id,{status:"CONFIRMADO"})},className:"btn-modern bg-slate-900 text-white px-6 py-2.5 rounded-2xl text-[10px] hover:bg-emerald-600 shadow-lg",children:"Validar"}),d.jsx("button",{onClick:B=>{B.stopPropagation(),I(P)},className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",children:d.jsx(o0,{size:20})})]}):d.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-[10px] uppercase tracking-widest",children:[d.jsx(Ho,{size:18})," Concludo"]}),d.jsx(Ol,{size:20,className:"text-slate-200 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})},P.id)})})}),(s||c)&&d.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-lg overflow-hidden flex flex-col border border-white",children:[d.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:s?"Agendamento de Fluxo":"Detalhes do Evento"}),d.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizao Logstica Pro"})]}),d.jsx("button",{onClick:()=>{l(!1),f(null)},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:d.jsx(Cu,{size:20})})]}),d.jsxs("form",{onSubmit:s?A:P=>{P.preventDefault(),r(c.id,c),f(null)},className:"p-10 space-y-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Entidade Cliente"}),s?d.jsxs("select",{required:!0,className:"modern-input h-14",value:h.id_cliente,onChange:P=>m({...h,id_cliente:P.target.value}),children:[d.jsx("option",{value:"",children:"Selecione um Cliente..."}),e.map(P=>d.jsxs("option",{value:P.id_ferro,children:[P.id_ferro,"  ",P.nome_social]},P.id_ferro))]}):d.jsx("div",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:c==null?void 0:c.nome_cliente})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Data Prevista"}),d.jsx("input",{required:!0,type:"date",className:"modern-input",value:s?h.data_entrega:c==null?void 0:c.data_entrega,onChange:P=>s?m({...h,data_entrega:P.target.value}):f({...c,data_entrega:P.target.value})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Janela de Horrio"}),d.jsx("input",{type:"time",className:"modern-input",value:s?h.hora_entrega:c==null?void 0:c.hora_entrega,onChange:P=>s?m({...h,hora_entrega:P.target.value}):f({...c,hora_entrega:P.target.value})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Manifesto de Carga / Observaes"}),d.jsx("textarea",{required:!0,rows:3,placeholder:"Descreva os itens do agendamento...",className:"modern-input min-h-[100px] p-4",value:s?h.itens:c==null?void 0:c.itens,onChange:P=>s?m({...h,itens:P.target.value}):f({...c,itens:P.target.value})})]}),!s&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Estado Operacional"}),d.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100",children:[d.jsx("button",{type:"button",onClick:()=>f({...c,status:"ABERTO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="ABERTO"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Pendente"}),d.jsx("button",{type:"button",onClick:()=>f({...c,status:"CONFIRMADO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="CONFIRMADO"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Concludo"})]})]}),d.jsxs("button",{type:"submit",className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all",children:[d.jsx(ux,{size:20})," ",s?"Efetivar Agendamento":"Confirmar Alteraes"]})]})]})})]})},Mfe=()=>{};var EM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lfe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},UB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|f>>6,y=f&63;c||(y=64,s||(g=64)),r.push(n[h],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lfe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||m==null)throw new Ffe;const g=a<<2|l>>4;if(r.push(g),f!==64){const y=l<<4&240|f>>2;if(r.push(y),m!==64){const E=f<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ffe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ufe=function(t){const e=FB(t);return UB.encodeByteArray(e,!0)},x1=function(t){return Ufe(t).replace(/\./g,"")},BB=function(t){try{return UB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vfe=()=>Bfe().__FIREBASE_DEFAULTS__,qfe=()=>{if(typeof process>"u"||typeof EM>"u")return;const t=EM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zfe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BB(t[1]);return e&&JSON.parse(e)},Eb=()=>{try{return Mfe()||Vfe()||qfe()||zfe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VB=t=>{var e,n;return(n=(e=Eb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qB=t=>{const e=VB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zB=()=>{var t;return(t=Eb())===null||t===void 0?void 0:t.config},$B=t=>{var e;return(e=Eb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[x1(JSON.stringify(n)),x1(JSON.stringify(s)),""].join(".")}const Xg={};function Hfe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xg))Xg[e]?t.emulator.push(e):t.prod.push(e);return t}function Gfe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TM=!1;function SC(t,e){if(typeof window>"u"||typeof document>"u"||!mf(window.location.host)||Xg[t]===e||Xg[t]||TM)return;Xg[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Hfe().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{TM=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Gfe(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const F=g.element;l(F),h(S,A);const B=f();c(P,I),F.append(P,E,S,B),document.body.appendChild(F)}a?(E.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wfe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ls())}function Kfe(){var t;const e=(t=Eb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yfe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jfe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xfe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qfe(){const t=ls();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zfe(){return!Kfe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ehe(){try{return typeof indexedDB=="object"}catch{return!1}}function the(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nhe="FirebaseError";class qc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nhe,Object.setPrototypeOf(this,qc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uv.prototype.create)}}class uv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?rhe(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new qc(i,l,r)}}function rhe(t,e){return t.replace(ihe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ihe=/\{\$([^}]+)}/g;function ahe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(CM(a)&&CM(s)){if(!lh(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function she(t,e){const n=new ohe(t,e);return n.subscribe.bind(n)}class ohe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lhe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=CS),i.error===void 0&&(i.error=CS),i.complete===void 0&&(i.complete=CS);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lhe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function CS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){return t&&t._delegate?t._delegate:t}class ef{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class che{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $fe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dhe(e))try{this.getOrInitializeService({instanceIdentifier:Bf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Bf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bf){return this.instances.has(e)}getOptions(e=Bf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uhe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bf){return this.component?this.component.multipleInstances?e:Bf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uhe(t){return t===Bf?void 0:t}function dhe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new che(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Un||(Un={}));const hhe={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},phe=Un.INFO,mhe={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},ghe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mhe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NC{constructor(e){this.name=e,this._logLevel=phe,this._logHandler=ghe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hhe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...e),this._logHandler(this,Un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...e),this._logHandler(this,Un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...e),this._logHandler(this,Un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...e),this._logHandler(this,Un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...e),this._logHandler(this,Un.ERROR,...e)}}const vhe=(t,e)=>e.some(n=>t instanceof n);let IM,RM;function yhe(){return IM||(IM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xhe(){return RM||(RM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GB=new WeakMap,wE=new WeakMap,WB=new WeakMap,IS=new WeakMap,EC=new WeakMap;function bhe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Hd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&GB.set(n,t)}).catch(()=>{}),EC.set(e,t),e}function _he(t){if(wE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});wE.set(t,e)}let AE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function whe(t){AE=t(AE)}function Ahe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(RS(this),e,...n);return WB.set(r,e.sort?e.sort():[e]),Hd(r)}:xhe().includes(t)?function(...e){return t.apply(RS(this),e),Hd(GB.get(this))}:function(...e){return Hd(t.apply(RS(this),e))}}function She(t){return typeof t=="function"?Ahe(t):(t instanceof IDBTransaction&&_he(t),vhe(t,yhe())?new Proxy(t,AE):t)}function Hd(t){if(t instanceof IDBRequest)return bhe(t);if(IS.has(t))return IS.get(t);const e=She(t);return e!==t&&(IS.set(t,e),EC.set(e,t)),e}const RS=t=>EC.get(t);function Nhe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Hd(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hd(s.result),c.oldVersion,c.newVersion,Hd(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Ehe=["get","getKey","getAll","getAllKeys","count"],The=["put","add","delete","clear"],kS=new Map;function kM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kS.get(e))return kS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=The.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ehe.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return kS.set(e,a),a}whe(t=>({...t,get:(e,n,r)=>kM(e,n)||t.get(e,n,r),has:(e,n)=>!!kM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Che{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ihe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ihe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const SE="@firebase/app",PM="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new NC("@firebase/app"),Rhe="@firebase/app-compat",khe="@firebase/analytics-compat",Phe="@firebase/analytics",Ohe="@firebase/app-check-compat",jhe="@firebase/app-check",Dhe="@firebase/auth",Mhe="@firebase/auth-compat",Lhe="@firebase/database",Fhe="@firebase/data-connect",Uhe="@firebase/database-compat",Bhe="@firebase/functions",Vhe="@firebase/functions-compat",qhe="@firebase/installations",zhe="@firebase/installations-compat",$he="@firebase/messaging",Hhe="@firebase/messaging-compat",Ghe="@firebase/performance",Whe="@firebase/performance-compat",Khe="@firebase/remote-config",Yhe="@firebase/remote-config-compat",Jhe="@firebase/storage",Xhe="@firebase/storage-compat",Qhe="@firebase/firestore",Zhe="@firebase/ai",epe="@firebase/firestore-compat",tpe="firebase",npe="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="[DEFAULT]",rpe={[SE]:"fire-core",[Rhe]:"fire-core-compat",[Phe]:"fire-analytics",[khe]:"fire-analytics-compat",[jhe]:"fire-app-check",[Ohe]:"fire-app-check-compat",[Dhe]:"fire-auth",[Mhe]:"fire-auth-compat",[Lhe]:"fire-rtdb",[Fhe]:"fire-data-connect",[Uhe]:"fire-rtdb-compat",[Bhe]:"fire-fn",[Vhe]:"fire-fn-compat",[qhe]:"fire-iid",[zhe]:"fire-iid-compat",[$he]:"fire-fcm",[Hhe]:"fire-fcm-compat",[Ghe]:"fire-perf",[Whe]:"fire-perf-compat",[Khe]:"fire-rc",[Yhe]:"fire-rc-compat",[Jhe]:"fire-gcs",[Xhe]:"fire-gcs-compat",[Qhe]:"fire-fst",[epe]:"fire-fst-compat",[Zhe]:"fire-vertex","fire-js":"fire-js",[tpe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map,ipe=new Map,EE=new Map;function OM(t,e){try{t.container.addComponent(e)}catch(n){Ou.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ch(t){const e=t.name;if(EE.has(e))return Ou.debug(`There were multiple attempts to register component ${e}.`),!1;EE.set(e,t);for(const n of b1.values())OM(n,t);for(const n of ipe.values())OM(n,t);return!0}function Tb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ape={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gd=new uv("app","Firebase",ape);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ef("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=npe;function KB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gd.create("bad-app-name",{appName:String(i)});if(n||(n=zB()),!n)throw Gd.create("no-options");const a=b1.get(i);if(a){if(lh(n,a.options)&&lh(r,a.config))return a;throw Gd.create("duplicate-app",{appName:i})}const s=new fhe(i);for(const c of EE.values())s.addComponent(c);const l=new spe(n,r,s);return b1.set(i,l),l}function TC(t=NE){const e=b1.get(t);if(!e&&t===NE&&zB())return KB();if(!e)throw Gd.create("no-app",{appName:t});return e}function Ic(t,e,n){var r;let i=(r=rpe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ou.warn(l.join(" "));return}ch(new ef(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ope="firebase-heartbeat-database",lpe=1,G0="firebase-heartbeat-store";let PS=null;function YB(){return PS||(PS=Nhe(ope,lpe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(G0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gd.create("idb-open",{originalErrorMessage:t.message})})),PS}async function cpe(t){try{const n=(await YB()).transaction(G0),r=await n.objectStore(G0).get(JB(t));return await n.done,r}catch(e){if(e instanceof qc)Ou.warn(e.message);else{const n=Gd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ou.warn(n.message)}}}async function jM(t,e){try{const r=(await YB()).transaction(G0,"readwrite");await r.objectStore(G0).put(e,JB(t)),await r.done}catch(n){if(n instanceof qc)Ou.warn(n.message);else{const r=Gd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ou.warn(r.message)}}}function JB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const upe=1024,dpe=30;class fpe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ppe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=DM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dpe){const s=mpe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ou.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DM(),{heartbeatsToSend:r,unsentEntries:i}=hpe(this._heartbeatsCache.heartbeats),a=x1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ou.warn(n),""}}}function DM(){return new Date().toISOString().substring(0,10)}function hpe(t,e=upe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),MM(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ppe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ehe()?the().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cpe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MM(t){return x1(JSON.stringify({version:2,heartbeats:t})).length}function mpe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gpe(t){ch(new ef("platform-logger",e=>new Che(e),"PRIVATE")),ch(new ef("heartbeat",e=>new fpe(e),"PRIVATE")),Ic(SE,PM,t),Ic(SE,PM,"esm2017"),Ic("fire-js","")}gpe("");var vpe="firebase",ype="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic(vpe,ype,"app");function CC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xpe=XB,QB=new uv("auth","Firebase",XB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new NC("@firebase/auth");function bpe(t,...e){_1.logLevel<=Un.WARN&&_1.warn(`Auth (${xh}): ${t}`,...e)}function Xy(t,...e){_1.logLevel<=Un.ERROR&&_1.error(`Auth (${xh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,...e){throw IC(t,...e)}function Rc(t,...e){return IC(t,...e)}function ZB(t,e,n){const r=Object.assign(Object.assign({},xpe()),{[e]:n});return new uv("auth","Firebase",r).create(e,{appName:t.name})}function Wd(t){return ZB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QB.create(t,...e)}function an(t,e,...n){if(!t)throw IC(e,...n)}function _u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xy(e),new Error(e)}function ju(t,e){t||_u(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _pe(){return LM()==="http:"||LM()==="https:"}function LM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wpe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_pe()||Jfe()||"connection"in navigator)?navigator.onLine:!0}function Ape(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.shortDelay=e,this.longDelay=n,ju(n>e,"Short delay should be less than long delay!"),this.isMobile=Wfe()||Xfe()}get(){return wpe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e){ju(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Epe=new fv(3e4,6e4);function bh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gf(t,e,n,r,i={}){return tV(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=dv(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return Yfe()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&mf(t.emulatorConfig.host)&&(f.credentials="include"),eV.fetch()(await nV(t,t.config.apiHost,n,l),f)})}async function tV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Spe),e);try{const i=new Cpe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw ky(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ky(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ky(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ky(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ZB(t,h,f);jl(t,h)}}catch(i){if(i instanceof qc)throw i;jl(t,"network-request-failed",{message:String(i)})}}async function Cb(t,e,n,r,i={}){const a=await gf(t,e,n,r,i);return"mfaPendingCredential"in a&&jl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function nV(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?RC(t.config,i):`${t.config.apiScheme}://${i}`;return Npe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Tpe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rc(this.auth,"network-request-failed")),Epe.get())})}}function ky(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rc(t,e,r);return i.customData._tokenResponse=n,i}function FM(t){return t!==void 0&&t.enterprise!==void 0}class Ipe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tpe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rpe(t,e){return gf(t,"GET","/v2/recaptchaConfig",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kpe(t,e){return gf(t,"POST","/v1/accounts:delete",e)}async function w1(t,e){return gf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ppe(t,e=!1){const n=Jr(t),r=await n.getIdToken(e),i=kC(r);an(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Qg(OS(i.auth_time)),issuedAtTime:Qg(OS(i.iat)),expirationTime:Qg(OS(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function OS(t){return Number(t)*1e3}function kC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xy("JWT malformed, contained fewer than 3 sections"),null;try{const i=BB(n);return i?JSON.parse(i):(Xy("Failed to decode base64 JWT payload"),null)}catch(i){return Xy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UM(t){const e=kC(t);return an(e,"internal-error"),an(typeof e.exp<"u","internal-error"),an(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qc&&Ope(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ope({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qg(this.lastLoginAt),this.creationTime=Qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await W0(t,w1(n,{idToken:r}));an(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?rV(a.providerUserInfo):[],l=Mpe(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new CE(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Dpe(t){const e=Jr(t);await A1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rV(t){return t.map(e=>{var{providerId:n}=e,r=CC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lpe(t,e){const n=await tV(t,{},async()=>{const r=dv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await nV(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&mf(t.emulatorConfig.host)&&(c.credentials="include"),eV.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fpe(t,e){return gf(t,"POST","/v2/accounts:revokeToken",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){an(e.idToken,"internal-error"),an(typeof e.idToken<"u","internal-error"),an(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){an(e.length!==0,"internal-error");const n=UM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(an(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Lpe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Op;return r&&(an(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(an(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(an(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Op,this.toJSON())}_performRefresh(){return _u("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e){an(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Il{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=CC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new CE(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await W0(this,this.stsTokenManager.getToken(this.auth,e));return an(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ppe(this,e)}reload(){return Dpe(this)}_assign(e){this!==e&&(an(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){an(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await A1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zo(this.auth.app))return Promise.reject(Wd(this.auth));const e=await this.getIdToken();return await W0(this,kpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,f,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:F,emailVerified:B,isAnonymous:j,providerData:V,stsTokenManager:O}=n;an(F&&O,e,"internal-error");const D=Op.fromJSON(this.name,O);an(typeof F=="string",e,"internal-error"),Ed(m,e.name),Ed(g,e.name),an(typeof B=="boolean",e,"internal-error"),an(typeof j=="boolean",e,"internal-error"),Ed(y,e.name),Ed(E,e.name),Ed(A,e.name),Ed(S,e.name),Ed(I,e.name),Ed(P,e.name);const z=new Il({uid:F,auth:e,email:g,emailVerified:B,displayName:m,isAnonymous:j,photoURL:E,phoneNumber:y,tenantId:A,stsTokenManager:D,createdAt:I,lastLoginAt:P});return V&&Array.isArray(V)&&(z.providerData=V.map(H=>Object.assign({},H))),S&&(z._redirectEventId=S),z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Op;i.updateFromServerResponse(n);const a=new Il({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await A1(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];an(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?rV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Op;l.updateFromIdToken(r);const c=new Il({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new CE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Map;function wu(t){ju(t instanceof Function,"Expected a class definition");let e=BM.get(t);return e?(ju(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iV.type="NONE";const VM=iV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e,n){return`firebase:${t}:${e}:${n}`}class jp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Qy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await w1(this.auth,{idToken:e}).catch(()=>{});return n?Il._fromGetAccountInfoResponse(this.auth,n,e):null}return Il._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jp(wu(VM),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||wu(VM);const s=Qy(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const g=await w1(e,{idToken:h}).catch(()=>{});if(!g)break;m=await Il._fromGetAccountInfoResponse(e,g,h)}else m=Il._fromJSON(e,h);f!==a&&(l=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new jp(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new jp(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uV(e))return"Blackberry";if(dV(e))return"Webos";if(sV(e))return"Safari";if((e.includes("chrome/")||oV(e))&&!e.includes("edge/"))return"Chrome";if(cV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aV(t=ls()){return/firefox\//i.test(t)}function sV(t=ls()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oV(t=ls()){return/crios\//i.test(t)}function lV(t=ls()){return/iemobile/i.test(t)}function cV(t=ls()){return/android/i.test(t)}function uV(t=ls()){return/blackberry/i.test(t)}function dV(t=ls()){return/webos/i.test(t)}function PC(t=ls()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Upe(t=ls()){var e;return PC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bpe(){return Qfe()&&document.documentMode===10}function fV(t=ls()){return PC(t)||cV(t)||dV(t)||uV(t)||/windows phone/i.test(t)||lV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e=[]){let n;switch(t){case"Browser":n=qM(ls());break;case"Worker":n=`${qM(ls())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qpe(t,e={}){return gf(t,"GET","/v2/passwordPolicy",bh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zpe=6;class $pe{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zpe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zM(this),this.idTokenSubscription=new zM(this),this.beforeStateQueue=new Vpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wu(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await jp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await w1(this,{idToken:e}),r=await Il._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return an(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await A1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ape()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zo(this.app))return Promise.reject(Wd(this));const n=e?Jr(e):null;return n&&an(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&an(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zo(this.app)?Promise.reject(Wd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zo(this.app)?Promise.reject(Wd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qpe(this),n=new $pe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fpe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wu(e)||this._popupRedirectResolver;an(n,this,"argument-error"),this.redirectPersistenceManager=await jp.create(this,[wu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(an(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return an(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(zo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bpe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cm(t){return Jr(t)}class zM{constructor(e){this.auth=e,this.observer=null,this.addObserver=she(n=>this.observer=n)}get next(){return an(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ib={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gpe(t){Ib=t}function pV(t){return Ib.loadJS(t)}function Wpe(){return Ib.recaptchaEnterpriseScript}function Kpe(){return Ib.gapiScript}function Ype(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jpe{constructor(){this.enterprise=new Xpe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Xpe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Qpe="recaptcha-enterprise",mV="NO_RECAPTCHA";class Zpe{constructor(e){this.type=Qpe,this.auth=Cm(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{Rpe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Ipe(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,s,l){const c=window.grecaptcha;FM(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(mV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jpe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&FM(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Wpe();c.length!==0&&(c+=l),pV(c).then(()=>{i(l,a,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function $M(t,e,n,r=!1,i=!1){const a=new Zpe(t);let s;if(i)s=mV;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function HM(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $M(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $M(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(t,e){const n=Tb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(lh(a,e??{}))return i;jl(i,"already-initialized")}return n.initialize({options:e})}function tme(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nme(t,e,n){const r=Cm(t);an(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=gV(e),{host:s,port:l}=rme(e),c=l===null?"":`:${l}`,f={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){an(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),an(lh(f,r.config.emulator)&&lh(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mf(s)?(AC(`${a}//${s}${c}`),SC("Auth",!0)):ime()}function gV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rme(t){const e=gV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:GM(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:GM(s)}}}function GM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ime(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _u("not implemented")}_getIdTokenResponse(e){return _u("not implemented")}_linkToIdToken(e,n){return _u("not implemented")}_getReauthenticationResolver(e){return _u("not implemented")}}async function ame(t,e){return gf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sme(t,e){return Cb(t,"POST","/v1/accounts:signInWithPassword",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ome(t,e){return Cb(t,"POST","/v1/accounts:signInWithEmailLink",bh(t,e))}async function lme(t,e){return Cb(t,"POST","/v1/accounts:signInWithEmailLink",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends OC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new K0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new K0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HM(e,n,"signInWithPassword",sme);case"emailLink":return ome(e,{email:this._email,oobCode:this._password});default:jl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HM(e,r,"signUpPassword",ame);case"emailLink":return lme(e,{idToken:n,email:this._email,oobCode:this._password});default:jl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t,e){return Cb(t,"POST","/v1/accounts:signInWithIdp",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cme="http://localhost";class uh extends OC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=CC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new uh(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Dp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dp(e,n)}buildRequest(){const e={requestUri:cme,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ume(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dme(t){const e=Lg(Fg(t)).link,n=e?Lg(Fg(e)).deep_link_id:null,r=Lg(Fg(t)).deep_link_id;return(r?Lg(Fg(r)).link:null)||r||n||e||t}class jC{constructor(e){var n,r,i,a,s,l;const c=Lg(Fg(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=ume((i=c.mode)!==null&&i!==void 0?i:null);an(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=dme(e);try{return new jC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.providerId=Im.PROVIDER_ID}static credential(e,n){return K0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jC.parseLink(n);return an(r,"argument-error"),K0._fromEmailAndCode(e,r.code,r.tenantId)}}Im.PROVIDER_ID="password";Im.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Im.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends vV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends hv{constructor(){super("facebook.com")}static credential(e){return uh._fromParams({providerId:Pd.PROVIDER_ID,signInMethod:Pd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pd.credentialFromTaggedObject(e)}static credentialFromError(e){return Pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pd.credential(e.oauthAccessToken)}catch{return null}}}Pd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends hv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uh._fromParams({providerId:Od.PROVIDER_ID,signInMethod:Od.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Od.credentialFromTaggedObject(e)}static credentialFromError(e){return Od.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Od.credential(n,r)}catch{return null}}}Od.GOOGLE_SIGN_IN_METHOD="google.com";Od.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends hv{constructor(){super("github.com")}static credential(e){return uh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jd.credential(e.oauthAccessToken)}catch{return null}}}jd.GITHUB_SIGN_IN_METHOD="github.com";jd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends hv{constructor(){super("twitter.com")}static credential(e,n){return uh._fromParams({providerId:Dd.PROVIDER_ID,signInMethod:Dd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dd.credentialFromTaggedObject(e)}static credentialFromError(e){return Dd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dd.credential(n,r)}catch{return null}}}Dd.TWITTER_SIGN_IN_METHOD="twitter.com";Dd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Il._fromIdTokenResponse(e,r,i),s=WM(r);return new um({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WM(r);return new um({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends qc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,S1.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new S1(e,n,r,i)}}function yV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?S1._fromErrorAndOperation(t,a,e,r):a})}async function fme(t,e,n=!1){const r=await W0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return um._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hme(t,e,n=!1){const{auth:r}=t;if(zo(r.app))return Promise.reject(Wd(r));const i="reauthenticate";try{const a=await W0(t,yV(r,i,e,t),n);an(a.idToken,r,"internal-error");const s=kC(a.idToken);an(s,r,"internal-error");const{sub:l}=s;return an(t.uid===l,r,"user-mismatch"),um._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e,n=!1){if(zo(t.app))return Promise.reject(Wd(t));const r="signIn",i=await yV(t,r,e),a=await um._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function pme(t,e){return xV(Cm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mme(t){const e=Cm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function KM(t,e,n){return zo(t.app)?Promise.reject(Wd(t)):pme(Jr(t),Im.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mme(t),r})}function gme(t,e,n,r){return Jr(t).onIdTokenChanged(e,n,r)}function vme(t,e,n){return Jr(t).beforeAuthStateChanged(e,n)}function yme(t,e,n,r){return Jr(t).onAuthStateChanged(e,n,r)}function xme(t){return Jr(t).signOut()}const N1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(N1,"1"),this.storage.removeItem(N1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme=1e3,_me=10;class _V extends bV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Bpe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_me):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_V.type="LOCAL";const wme=_V;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV extends bV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wV.type="SESSION";const AV=wV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ame(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,a)),c=await Ame(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const f=DC("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(){return window}function Nme(t){kc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){return typeof kc().WorkerGlobalScope<"u"&&typeof kc().importScripts=="function"}async function Eme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Cme(){return SV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="firebaseLocalStorageDb",Ime=1,E1="firebaseLocalStorage",EV="fbase_key";class pv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kb(t,e){return t.transaction([E1],e?"readwrite":"readonly").objectStore(E1)}function Rme(){const t=indexedDB.deleteDatabase(NV);return new pv(t).toPromise()}function IE(){const t=indexedDB.open(NV,Ime);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(E1,{keyPath:EV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(E1)?e(r):(r.close(),await Rme(),e(await IE()))})})}async function YM(t,e,n){const r=kb(t,!0).put({[EV]:e,value:n});return new pv(r).toPromise()}async function kme(t,e){const n=kb(t,!1).get(e),r=await new pv(n).toPromise();return r===void 0?null:r.value}function JM(t,e){const n=kb(t,!0).delete(e);return new pv(n).toPromise()}const Pme=800,Ome=3;class TV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ome)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rb._getInstance(Cme()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Eme(),!this.activeServiceWorker)return;this.sender=new Sme(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IE();return await YM(e,N1,"1"),await JM(e,N1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kme(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=kb(i,!1).getAll();return new pv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TV.type="LOCAL";const jme=TV;new fv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dme(t,e){return e?wu(e):(an(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends OC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mme(t){return xV(t.auth,new MC(t),t.bypassAuthState)}function Lme(t){const{auth:e,user:n}=t;return an(n,e,"internal-error"),hme(n,new MC(t),t.bypassAuthState)}async function Fme(t){const{auth:e,user:n}=t;return an(n,e,"internal-error"),fme(n,new MC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mme;case"linkViaPopup":case"linkViaRedirect":return Fme;case"reauthViaPopup":case"reauthViaRedirect":return Lme;default:jl(this.auth,"internal-error")}}resolve(e){ju(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ju(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ume=new fv(2e3,1e4);class _p extends CV{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,_p.currentPopupAction&&_p.currentPopupAction.cancel(),_p.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return an(e,this.auth,"internal-error"),e}async onExecution(){ju(this.filter.length===1,"Popup operations only handle one event");const e=DC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_p.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ume.get())};e()}}_p.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme="pendingRedirect",Zy=new Map;class Vme extends CV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zy.get(this.auth._key());if(!e){try{const r=await qme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zy.set(this.auth._key(),e)}return this.bypassAuthState||Zy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qme(t,e){const n=Hme(e),r=$me(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zme(t,e){Zy.set(t._key(),e)}function $me(t){return wu(t._redirectPersistence)}function Hme(t){return Qy(Bme,t.config.apiKey,t.name)}async function Gme(t,e,n=!1){if(zo(t.app))return Promise.reject(Wd(t));const r=Cm(t),i=Dme(r,e),s=await new Vme(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wme=600*1e3;class Kme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yme(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wme&&this.cachedEventUids.clear(),this.cachedEventUids.has(XM(e))}saveEventToCache(e){this.cachedEventUids.add(XM(e)),this.lastProcessedEventTime=Date.now()}}function XM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jme(t,e={}){return gf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qme=/^https?/;async function Zme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jme(t);for(const n of e)try{if(ege(n))return}catch{}jl(t,"unauthorized-domain")}function ege(t){const e=TE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Qme.test(n))return!1;if(Xme.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tge=new fv(3e4,6e4);function QM(){const t=kc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nge(t){return new Promise((e,n)=>{var r,i,a;function s(){QM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QM(),n(Rc(t,"network-request-failed"))},timeout:tge.get()})}if(!((i=(r=kc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=kc().gapi)===null||a===void 0)&&a.load)s();else{const l=Ype("iframefcb");return kc()[l]=()=>{gapi.load?s():n(Rc(t,"network-request-failed"))},pV(`${Kpe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ex=null,e})}let ex=null;function rge(t){return ex=ex||nge(t),ex}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ige=new fv(5e3,15e3),age="__/auth/iframe",sge="emulator/auth/iframe",oge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cge(t){const e=t.config;an(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?RC(e,sge):`https://${t.config.authDomain}/${age}`,r={apiKey:e.apiKey,appName:t.name,v:xh},i=lge.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${dv(r).slice(1)}`}async function uge(t){const e=await rge(t),n=kc().gapi;return an(n,t,"internal-error"),e.open({where:document.body,url:cge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oge,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Rc(t,"network-request-failed"),l=kc().setTimeout(()=>{a(s)},ige.get());function c(){kc().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fge=500,hge=600,pge="_blank",mge="http://localhost";class ZM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gge(t,e,n,r=fge,i=hge){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},dge),{width:r.toString(),height:i.toString(),top:a,left:s}),f=ls().toLowerCase();n&&(l=oV(f)?pge:n),aV(f)&&(e=e||mge,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(Upe(f)&&l!=="_self")return vge(e||"",l),new ZM(null);const m=window.open(e||"",l,h);an(m,t,"popup-blocked");try{m.focus()}catch{}return new ZM(m)}function vge(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yge="__/auth/handler",xge="emulator/auth/handler",bge=encodeURIComponent("fac");async function eL(t,e,n,r,i,a){an(t.config.authDomain,t,"auth-domain-config-required"),an(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xh,eventId:i};if(e instanceof vV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ahe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof hv){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${bge}=${encodeURIComponent(c)}`:"";return`${_ge(t)}?${dv(l).slice(1)}${f}`}function _ge({config:t}){return t.emulator?RC(t,xge):`https://${t.authDomain}/${yge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="webStorageSupport";class wge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AV,this._completeRedirectFn=Gme,this._overrideRedirectResult=zme}async _openPopup(e,n,r,i){var a;ju((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await eL(e,n,r,TE(),i);return gge(e,s,DC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await eL(e,n,r,TE(),i);return Nme(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ju(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uge(e),r=new Kme(e);return n.register("authEvent",i=>(an(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jS,{type:jS},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jS];s!==void 0&&n(!!s),jl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zme(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fV()||sV()||PC()}}const Age=wge;var tL="@firebase/auth",nL="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){an(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ege(t){ch(new ef("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;an(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hV(t)},f=new Hpe(r,i,a,c);return tme(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ch(new ef("auth-internal",e=>{const n=Cm(e.getProvider("auth").getImmediate());return(r=>new Sge(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ic(tL,nL,Nge(t)),Ic(tL,nL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tge=300,Cge=$B("authIdTokenMaxAge")||Tge;let rL=null;const Ige=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cge)return;const i=n==null?void 0:n.token;rL!==i&&(rL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rge(t=TC()){const e=Tb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eme(t,{popupRedirectResolver:Age,persistence:[jme,wme,AV]}),r=$B("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=Ige(a.toString());vme(n,s,()=>s(n.currentUser)),gme(n,l=>s(l))}}const i=VB("auth");return i&&nme(n,`http://${i}`),n}function kge(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Gpe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Rc("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",kge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ege("Browser");var iL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kd,RV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,D){function z(){}z.prototype=D.prototype,O.D=D.prototype,O.prototype=new z,O.prototype.constructor=O,O.C=function(H,U,R){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return D.prototype[U].apply(H,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,D,z){z||(z=0);var H=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)H[U]=D.charCodeAt(z++)|D.charCodeAt(z++)<<8|D.charCodeAt(z++)<<16|D.charCodeAt(z++)<<24;else for(U=0;16>U;++U)H[U]=D[z++]|D[z++]<<8|D[z++]<<16|D[z++]<<24;D=O.g[0],z=O.g[1],U=O.g[2];var R=O.g[3],C=D+(R^z&(U^R))+H[0]+3614090360&4294967295;D=z+(C<<7&4294967295|C>>>25),C=R+(U^D&(z^U))+H[1]+3905402710&4294967295,R=D+(C<<12&4294967295|C>>>20),C=U+(z^R&(D^z))+H[2]+606105819&4294967295,U=R+(C<<17&4294967295|C>>>15),C=z+(D^U&(R^D))+H[3]+3250441966&4294967295,z=U+(C<<22&4294967295|C>>>10),C=D+(R^z&(U^R))+H[4]+4118548399&4294967295,D=z+(C<<7&4294967295|C>>>25),C=R+(U^D&(z^U))+H[5]+1200080426&4294967295,R=D+(C<<12&4294967295|C>>>20),C=U+(z^R&(D^z))+H[6]+2821735955&4294967295,U=R+(C<<17&4294967295|C>>>15),C=z+(D^U&(R^D))+H[7]+4249261313&4294967295,z=U+(C<<22&4294967295|C>>>10),C=D+(R^z&(U^R))+H[8]+1770035416&4294967295,D=z+(C<<7&4294967295|C>>>25),C=R+(U^D&(z^U))+H[9]+2336552879&4294967295,R=D+(C<<12&4294967295|C>>>20),C=U+(z^R&(D^z))+H[10]+4294925233&4294967295,U=R+(C<<17&4294967295|C>>>15),C=z+(D^U&(R^D))+H[11]+2304563134&4294967295,z=U+(C<<22&4294967295|C>>>10),C=D+(R^z&(U^R))+H[12]+1804603682&4294967295,D=z+(C<<7&4294967295|C>>>25),C=R+(U^D&(z^U))+H[13]+4254626195&4294967295,R=D+(C<<12&4294967295|C>>>20),C=U+(z^R&(D^z))+H[14]+2792965006&4294967295,U=R+(C<<17&4294967295|C>>>15),C=z+(D^U&(R^D))+H[15]+1236535329&4294967295,z=U+(C<<22&4294967295|C>>>10),C=D+(U^R&(z^U))+H[1]+4129170786&4294967295,D=z+(C<<5&4294967295|C>>>27),C=R+(z^U&(D^z))+H[6]+3225465664&4294967295,R=D+(C<<9&4294967295|C>>>23),C=U+(D^z&(R^D))+H[11]+643717713&4294967295,U=R+(C<<14&4294967295|C>>>18),C=z+(R^D&(U^R))+H[0]+3921069994&4294967295,z=U+(C<<20&4294967295|C>>>12),C=D+(U^R&(z^U))+H[5]+3593408605&4294967295,D=z+(C<<5&4294967295|C>>>27),C=R+(z^U&(D^z))+H[10]+38016083&4294967295,R=D+(C<<9&4294967295|C>>>23),C=U+(D^z&(R^D))+H[15]+3634488961&4294967295,U=R+(C<<14&4294967295|C>>>18),C=z+(R^D&(U^R))+H[4]+3889429448&4294967295,z=U+(C<<20&4294967295|C>>>12),C=D+(U^R&(z^U))+H[9]+568446438&4294967295,D=z+(C<<5&4294967295|C>>>27),C=R+(z^U&(D^z))+H[14]+3275163606&4294967295,R=D+(C<<9&4294967295|C>>>23),C=U+(D^z&(R^D))+H[3]+4107603335&4294967295,U=R+(C<<14&4294967295|C>>>18),C=z+(R^D&(U^R))+H[8]+1163531501&4294967295,z=U+(C<<20&4294967295|C>>>12),C=D+(U^R&(z^U))+H[13]+2850285829&4294967295,D=z+(C<<5&4294967295|C>>>27),C=R+(z^U&(D^z))+H[2]+4243563512&4294967295,R=D+(C<<9&4294967295|C>>>23),C=U+(D^z&(R^D))+H[7]+1735328473&4294967295,U=R+(C<<14&4294967295|C>>>18),C=z+(R^D&(U^R))+H[12]+2368359562&4294967295,z=U+(C<<20&4294967295|C>>>12),C=D+(z^U^R)+H[5]+4294588738&4294967295,D=z+(C<<4&4294967295|C>>>28),C=R+(D^z^U)+H[8]+2272392833&4294967295,R=D+(C<<11&4294967295|C>>>21),C=U+(R^D^z)+H[11]+1839030562&4294967295,U=R+(C<<16&4294967295|C>>>16),C=z+(U^R^D)+H[14]+4259657740&4294967295,z=U+(C<<23&4294967295|C>>>9),C=D+(z^U^R)+H[1]+2763975236&4294967295,D=z+(C<<4&4294967295|C>>>28),C=R+(D^z^U)+H[4]+1272893353&4294967295,R=D+(C<<11&4294967295|C>>>21),C=U+(R^D^z)+H[7]+4139469664&4294967295,U=R+(C<<16&4294967295|C>>>16),C=z+(U^R^D)+H[10]+3200236656&4294967295,z=U+(C<<23&4294967295|C>>>9),C=D+(z^U^R)+H[13]+681279174&4294967295,D=z+(C<<4&4294967295|C>>>28),C=R+(D^z^U)+H[0]+3936430074&4294967295,R=D+(C<<11&4294967295|C>>>21),C=U+(R^D^z)+H[3]+3572445317&4294967295,U=R+(C<<16&4294967295|C>>>16),C=z+(U^R^D)+H[6]+76029189&4294967295,z=U+(C<<23&4294967295|C>>>9),C=D+(z^U^R)+H[9]+3654602809&4294967295,D=z+(C<<4&4294967295|C>>>28),C=R+(D^z^U)+H[12]+3873151461&4294967295,R=D+(C<<11&4294967295|C>>>21),C=U+(R^D^z)+H[15]+530742520&4294967295,U=R+(C<<16&4294967295|C>>>16),C=z+(U^R^D)+H[2]+3299628645&4294967295,z=U+(C<<23&4294967295|C>>>9),C=D+(U^(z|~R))+H[0]+4096336452&4294967295,D=z+(C<<6&4294967295|C>>>26),C=R+(z^(D|~U))+H[7]+1126891415&4294967295,R=D+(C<<10&4294967295|C>>>22),C=U+(D^(R|~z))+H[14]+2878612391&4294967295,U=R+(C<<15&4294967295|C>>>17),C=z+(R^(U|~D))+H[5]+4237533241&4294967295,z=U+(C<<21&4294967295|C>>>11),C=D+(U^(z|~R))+H[12]+1700485571&4294967295,D=z+(C<<6&4294967295|C>>>26),C=R+(z^(D|~U))+H[3]+2399980690&4294967295,R=D+(C<<10&4294967295|C>>>22),C=U+(D^(R|~z))+H[10]+4293915773&4294967295,U=R+(C<<15&4294967295|C>>>17),C=z+(R^(U|~D))+H[1]+2240044497&4294967295,z=U+(C<<21&4294967295|C>>>11),C=D+(U^(z|~R))+H[8]+1873313359&4294967295,D=z+(C<<6&4294967295|C>>>26),C=R+(z^(D|~U))+H[15]+4264355552&4294967295,R=D+(C<<10&4294967295|C>>>22),C=U+(D^(R|~z))+H[6]+2734768916&4294967295,U=R+(C<<15&4294967295|C>>>17),C=z+(R^(U|~D))+H[13]+1309151649&4294967295,z=U+(C<<21&4294967295|C>>>11),C=D+(U^(z|~R))+H[4]+4149444226&4294967295,D=z+(C<<6&4294967295|C>>>26),C=R+(z^(D|~U))+H[11]+3174756917&4294967295,R=D+(C<<10&4294967295|C>>>22),C=U+(D^(R|~z))+H[2]+718787259&4294967295,U=R+(C<<15&4294967295|C>>>17),C=z+(R^(U|~D))+H[9]+3951481745&4294967295,O.g[0]=O.g[0]+D&4294967295,O.g[1]=O.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+R&4294967295}r.prototype.u=function(O,D){D===void 0&&(D=O.length);for(var z=D-this.blockSize,H=this.B,U=this.h,R=0;R<D;){if(U==0)for(;R<=z;)i(this,O,R),R+=this.blockSize;if(typeof O=="string"){for(;R<D;)if(H[U++]=O.charCodeAt(R++),U==this.blockSize){i(this,H),U=0;break}}else for(;R<D;)if(H[U++]=O[R++],U==this.blockSize){i(this,H),U=0;break}}this.h=U,this.o+=D},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var D=1;D<O.length-8;++D)O[D]=0;var z=8*this.o;for(D=O.length-8;D<O.length;++D)O[D]=z&255,z/=256;for(this.u(O),O=Array(16),D=z=0;4>D;++D)for(var H=0;32>H;H+=8)O[z++]=this.g[D]>>>H&255;return O};function a(O,D){var z=l;return Object.prototype.hasOwnProperty.call(z,O)?z[O]:z[O]=D(O)}function s(O,D){this.h=D;for(var z=[],H=!0,U=O.length-1;0<=U;U--){var R=O[U]|0;H&&R==D||(z[U]=R,H=!1)}this.g=z}var l={};function c(O){return-128<=O&&128>O?a(O,function(D){return new s([D|0],0>D?-1:0)}):new s([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return m;if(0>O)return S(f(-O));for(var D=[],z=1,H=0;O>=z;H++)D[H]=O/z|0,z*=4294967296;return new s(D,0)}function h(O,D){if(O.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O.charAt(0)=="-")return S(h(O.substring(1),D));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=f(Math.pow(D,8)),H=m,U=0;U<O.length;U+=8){var R=Math.min(8,O.length-U),C=parseInt(O.substring(U,U+R),D);8>R?(R=f(Math.pow(D,R)),H=H.j(R).add(f(C))):(H=H.j(z),H=H.add(f(C)))}return H}var m=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-S(this).m();for(var O=0,D=1,z=0;z<this.g.length;z++){var H=this.i(z);O+=(0<=H?H:4294967296+H)*D,D*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(A(this))return"-"+S(this).toString(O);for(var D=f(Math.pow(O,6)),z=this,H="";;){var U=B(z,D).g;z=I(z,U.j(D));var R=((0<z.g.length?z.g[0]:z.h)>>>0).toString(O);if(z=U,E(z))return R+H;for(;6>R.length;)R="0"+R;H=R+H}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var D=0;D<O.g.length;D++)if(O.g[D]!=0)return!1;return!0}function A(O){return O.h==-1}t.l=function(O){return O=I(this,O),A(O)?-1:E(O)?0:1};function S(O){for(var D=O.g.length,z=[],H=0;H<D;H++)z[H]=~O.g[H];return new s(z,~O.h).add(g)}t.abs=function(){return A(this)?S(this):this},t.add=function(O){for(var D=Math.max(this.g.length,O.g.length),z=[],H=0,U=0;U<=D;U++){var R=H+(this.i(U)&65535)+(O.i(U)&65535),C=(R>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);H=C>>>16,R&=65535,C&=65535,z[U]=C<<16|R}return new s(z,z[z.length-1]&-2147483648?-1:0)};function I(O,D){return O.add(S(D))}t.j=function(O){if(E(this)||E(O))return m;if(A(this))return A(O)?S(this).j(S(O)):S(S(this).j(O));if(A(O))return S(this.j(S(O)));if(0>this.l(y)&&0>O.l(y))return f(this.m()*O.m());for(var D=this.g.length+O.g.length,z=[],H=0;H<2*D;H++)z[H]=0;for(H=0;H<this.g.length;H++)for(var U=0;U<O.g.length;U++){var R=this.i(H)>>>16,C=this.i(H)&65535,G=O.i(U)>>>16,le=O.i(U)&65535;z[2*H+2*U]+=C*le,P(z,2*H+2*U),z[2*H+2*U+1]+=R*le,P(z,2*H+2*U+1),z[2*H+2*U+1]+=C*G,P(z,2*H+2*U+1),z[2*H+2*U+2]+=R*G,P(z,2*H+2*U+2)}for(H=0;H<D;H++)z[H]=z[2*H+1]<<16|z[2*H];for(H=D;H<2*D;H++)z[H]=0;return new s(z,0)};function P(O,D){for(;(O[D]&65535)!=O[D];)O[D+1]+=O[D]>>>16,O[D]&=65535,D++}function F(O,D){this.g=O,this.h=D}function B(O,D){if(E(D))throw Error("division by zero");if(E(O))return new F(m,m);if(A(O))return D=B(S(O),D),new F(S(D.g),S(D.h));if(A(D))return D=B(O,S(D)),new F(S(D.g),D.h);if(30<O.g.length){if(A(O)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var z=g,H=D;0>=H.l(O);)z=j(z),H=j(H);var U=V(z,1),R=V(H,1);for(H=V(H,2),z=V(z,2);!E(H);){var C=R.add(H);0>=C.l(O)&&(U=U.add(z),R=C),H=V(H,1),z=V(z,1)}return D=I(O,U.j(D)),new F(U,D)}for(U=m;0<=O.l(D);){for(z=Math.max(1,Math.floor(O.m()/D.m())),H=Math.ceil(Math.log(z)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),R=f(z),C=R.j(D);A(C)||0<C.l(O);)z-=H,R=f(z),C=R.j(D);E(R)&&(R=g),U=U.add(R),O=I(O,C)}return new F(U,O)}t.A=function(O){return B(this,O).h},t.and=function(O){for(var D=Math.max(this.g.length,O.g.length),z=[],H=0;H<D;H++)z[H]=this.i(H)&O.i(H);return new s(z,this.h&O.h)},t.or=function(O){for(var D=Math.max(this.g.length,O.g.length),z=[],H=0;H<D;H++)z[H]=this.i(H)|O.i(H);return new s(z,this.h|O.h)},t.xor=function(O){for(var D=Math.max(this.g.length,O.g.length),z=[],H=0;H<D;H++)z[H]=this.i(H)^O.i(H);return new s(z,this.h^O.h)};function j(O){for(var D=O.g.length+1,z=[],H=0;H<D;H++)z[H]=O.i(H)<<1|O.i(H-1)>>>31;return new s(z,O.h)}function V(O,D){var z=D>>5;D%=32;for(var H=O.g.length-z,U=[],R=0;R<H;R++)U[R]=0<D?O.i(R+z)>>>D|O.i(R+z+1)<<32-D:O.i(R+z);return new s(U,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RV=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Kd=s}).apply(typeof iL<"u"?iL:typeof self<"u"?self:typeof window<"u"?window:{});var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kV,Ug,PV,tx,RE,OV,jV,DV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,$,J){return _==Array.prototype||_==Object.prototype||(_[$]=J.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Py=="object"&&Py];for(var $=0;$<_.length;++$){var J=_[$];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var r=n(this);function i(_,$){if($)e:{var J=r;_=_.split(".");for(var he=0;he<_.length-1;he++){var je=_[he];if(!(je in J))break e;J=J[je]}_=_[_.length-1],he=J[_],$=$(he),$!=he&&$!=null&&e(J,_,{configurable:!0,writable:!0,value:$})}}function a(_,$){_ instanceof String&&(_+="");var J=0,he=!1,je={next:function(){if(!he&&J<_.length){var $e=J++;return{value:$($e,_[$e]),done:!1}}return he=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}i("Array.prototype.values",function(_){return _||function(){return a(this,function($,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(_){var $=typeof _;return $=$!="object"?$:_?Array.isArray(_)?"array":$:"null",$=="array"||$=="object"&&typeof _.length=="number"}function f(_){var $=typeof _;return $=="object"&&_!=null||$=="function"}function h(_,$,J){return _.call.apply(_.bind,arguments)}function m(_,$,J){if(!_)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,he),_.apply($,je)}}return function(){return _.apply($,arguments)}}function g(_,$,J){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function y(_,$){var J=Array.prototype.slice.call(arguments,1);return function(){var he=J.slice();return he.push.apply(he,arguments),_.apply(this,he)}}function E(_,$){function J(){}J.prototype=$.prototype,_.aa=$.prototype,_.prototype=new J,_.prototype.constructor=_,_.Qb=function(he,je,$e){for(var gt=Array(arguments.length-2),on=2;on<arguments.length;on++)gt[on-2]=arguments[on];return $.prototype[je].apply(he,gt)}}function A(_){const $=_.length;if(0<$){const J=Array($);for(let he=0;he<$;he++)J[he]=_[he];return J}return[]}function S(_,$){for(let J=1;J<arguments.length;J++){const he=arguments[J];if(c(he)){const je=_.length||0,$e=he.length||0;_.length=je+$e;for(let gt=0;gt<$e;gt++)_[je+gt]=he[gt]}else _.push(he)}}class I{constructor($,J){this.i=$,this.j=J,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function P(_){return/^[\s\xa0]*$/.test(_)}function F(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function B(_){return B[" "](_),_}B[" "]=function(){};var j=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function V(_,$,J){for(const he in _)$.call(J,_[he],he,_)}function O(_,$){for(const J in _)$.call(void 0,_[J],J,_)}function D(_){const $={};for(const J in _)$[J]=_[J];return $}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(_,$){let J,he;for(let je=1;je<arguments.length;je++){he=arguments[je];for(J in he)_[J]=he[J];for(let $e=0;$e<z.length;$e++)J=z[$e],Object.prototype.hasOwnProperty.call(he,J)&&(_[J]=he[J])}}function U(_){var $=1;_=_.split(":");const J=[];for(;0<$&&_.length;)J.push(_.shift()),$--;return _.length&&J.push(_.join(":")),J}function R(_){l.setTimeout(()=>{throw _},0)}function C(){var _=ve;let $=null;return _.g&&($=_.g,_.g=_.g.next,_.g||(_.h=null),$.next=null),$}class G{constructor(){this.h=this.g=null}add($,J){const he=le.get();he.set($,J),this.h?this.h.next=he:this.g=he,this.h=he}}var le=new I(()=>new W,_=>_.reset());class W{constructor(){this.next=this.g=this.h=null}set($,J){this.h=$,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,ve=new G,we=()=>{const _=l.Promise.resolve(void 0);te=()=>{_.then(ie)}};var ie=()=>{for(var _;_=C();){try{_.h.call(_.g)}catch(J){R(J)}var $=le;$.j(_),100>$.h&&($.h++,_.next=$.g,$.g=_)}re=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(_,$){this.type=_,this.g=this.target=$,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,$=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const J=()=>{};l.addEventListener("test",J,$),l.removeEventListener("test",J,$)}catch{}return _})();function X(_,$){if(Y.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var J=this.type=_.type,he=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=$,$=_.relatedTarget){if(j){e:{try{B($.nodeName);var je=!0;break e}catch{}je=!1}je||($=null)}}else J=="mouseover"?$=_.fromElement:J=="mouseout"&&($=_.toElement);this.relatedTarget=$,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Q[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&X.aa.h.call(this)}}E(X,Y);var Q={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),be=0;function ae(_,$,J,he,je){this.listener=_,this.proxy=null,this.src=$,this.type=J,this.capture=!!he,this.ha=je,this.key=++be,this.da=this.fa=!1}function Se(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Ee(_){this.src=_,this.g={},this.h=0}Ee.prototype.add=function(_,$,J,he,je){var $e=_.toString();_=this.g[$e],_||(_=this.g[$e]=[],this.h++);var gt=Je(_,$,he,je);return-1<gt?($=_[gt],J||($.fa=!1)):($=new ae($,this.src,$e,!!he,je),$.fa=J,_.push($)),$};function _e(_,$){var J=$.type;if(J in _.g){var he=_.g[J],je=Array.prototype.indexOf.call(he,$,void 0),$e;($e=0<=je)&&Array.prototype.splice.call(he,je,1),$e&&(Se($),_.g[J].length==0&&(delete _.g[J],_.h--))}}function Je(_,$,J,he){for(var je=0;je<_.length;++je){var $e=_[je];if(!$e.da&&$e.listener==$&&$e.capture==!!J&&$e.ha==he)return je}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Ne={};function ne(_,$,J,he,je){if(Array.isArray($)){for(var $e=0;$e<$.length;$e++)ne(_,$[$e],J,he,je);return null}return J=yt(J),_&&_[ge]?_.K($,J,f(he)?!!he.capture:!1,je):Be(_,$,J,!1,he,je)}function Be(_,$,J,he,je,$e){if(!$)throw Error("Invalid event type");var gt=f(je)?!!je.capture:!!je,on=it(_);if(on||(_[Fe]=on=new Ee(_)),J=on.add($,J,he,gt,$e),J.proxy)return J;if(he=Ze(),J.proxy=he,he.src=_,he.listener=J,_.addEventListener)ee||(je=gt),je===void 0&&(je=!1),_.addEventListener($.toString(),he,je);else if(_.attachEvent)_.attachEvent(Ke($.toString()),he);else if(_.addListener&&_.removeListener)_.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return J}function Ze(){function _(J){return $.call(_.src,_.listener,J)}const $=rt;return _}function ze(_,$,J,he,je){if(Array.isArray($))for(var $e=0;$e<$.length;$e++)ze(_,$[$e],J,he,je);else he=f(he)?!!he.capture:!!he,J=yt(J),_&&_[ge]?(_=_.i,$=String($).toString(),$ in _.g&&($e=_.g[$],J=Je($e,J,he,je),-1<J&&(Se($e[J]),Array.prototype.splice.call($e,J,1),$e.length==0&&(delete _.g[$],_.h--)))):_&&(_=it(_))&&($=_.g[$.toString()],_=-1,$&&(_=Je($,J,he,je)),(J=-1<_?$[_]:null)&&et(J))}function et(_){if(typeof _!="number"&&_&&!_.da){var $=_.src;if($&&$[ge])_e($.i,_);else{var J=_.type,he=_.proxy;$.removeEventListener?$.removeEventListener(J,he,_.capture):$.detachEvent?$.detachEvent(Ke(J),he):$.addListener&&$.removeListener&&$.removeListener(he),(J=it($))?(_e(J,_),J.h==0&&(J.src=null,$[Fe]=null)):Se(_)}}}function Ke(_){return _ in Ne?Ne[_]:Ne[_]="on"+_}function rt(_,$){if(_.da)_=!0;else{$=new X($,this);var J=_.listener,he=_.ha||_.src;_.fa&&et(_),_=J.call(he,$)}return _}function it(_){return _=_[Fe],_ instanceof Ee?_:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(_){return typeof _=="function"?_:(_[We]||(_[We]=function($){return _.handleEvent($)}),_[We])}function bt(){L.call(this),this.i=new Ee(this),this.M=this,this.F=null}E(bt,L),bt.prototype[ge]=!0,bt.prototype.removeEventListener=function(_,$,J,he){ze(this,_,$,J,he)};function At(_,$){var J,he=_.F;if(he)for(J=[];he;he=he.F)J.push(he);if(_=_.M,he=$.type||$,typeof $=="string")$=new Y($,_);else if($ instanceof Y)$.target=$.target||_;else{var je=$;$=new Y(he,_),H($,je)}if(je=!0,J)for(var $e=J.length-1;0<=$e;$e--){var gt=$.g=J[$e];je=Dt(gt,he,!0,$)&&je}if(gt=$.g=_,je=Dt(gt,he,!0,$)&&je,je=Dt(gt,he,!1,$)&&je,J)for($e=0;$e<J.length;$e++)gt=$.g=J[$e],je=Dt(gt,he,!1,$)&&je}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var _=this.i,$;for($ in _.g){for(var J=_.g[$],he=0;he<J.length;he++)Se(J[he]);delete _.g[$],_.h--}}this.F=null},bt.prototype.K=function(_,$,J,he){return this.i.add(String(_),$,!1,J,he)},bt.prototype.L=function(_,$,J,he){return this.i.add(String(_),$,!0,J,he)};function Dt(_,$,J,he){if($=_.i.g[String($)],!$)return!0;$=$.concat();for(var je=!0,$e=0;$e<$.length;++$e){var gt=$[$e];if(gt&&!gt.da&&gt.capture==J){var on=gt.listener,Nn=gt.ha||gt.src;gt.fa&&_e(_.i,gt),je=on.call(Nn,he)!==!1&&je}}return je&&!he.defaultPrevented}function Tt(_,$,J){if(typeof _=="function")J&&(_=g(_,J));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:l.setTimeout(_,$||0)}function Vt(_){_.g=Tt(()=>{_.g=null,_.i&&(_.i=!1,Vt(_))},_.l);const $=_.h;_.h=null,_.m.apply(null,$)}class wt extends L{constructor($,J){super(),this.m=$,this.l=J,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Vt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hn(_){L.call(this),this.h=_,this.g={}}E(Hn,L);var en=[];function Jn(_){V(_.g,function($,J){this.g.hasOwnProperty(J)&&et($)},_),_.g={}}Hn.prototype.N=function(){Hn.aa.N.call(this),Jn(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=l.JSON.stringify,xn=l.JSON.parse,Ma=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function gn(){}gn.prototype.h=null;function ci(_){return _.h||(_.h=_.i())}function qn(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){Y.call(this,"d")}E(Vr,Y);function Sn(){Y.call(this,"c")}E(Sn,Y);var Mt={},bn=null;function xi(){return bn=bn||new bt}Mt.La="serverreachability";function Or(_){Y.call(this,Mt.La,_)}E(Or,Y);function ui(_){const $=xi();At($,new Or($))}Mt.STAT_EVENT="statevent";function bi(_,$){Y.call(this,Mt.STAT_EVENT,_),this.stat=$}E(bi,Y);function kt(_){const $=xi();At($,new bi($,_))}Mt.Ma="timingevent";function Ci(_,$){Y.call(this,Mt.Ma,_),this.size=$}E(Ci,Y);function jr(_,$){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},$)}function qr(){this.g=!0}qr.prototype.xa=function(){this.g=!1};function cr(_,$,J,he,je,$e){_.info(function(){if(_.g)if($e)for(var gt="",on=$e.split("&"),Nn=0;Nn<on.length;Nn++){var Xt=on[Nn].split("=");if(1<Xt.length){var Zn=Xt[0];Xt=Xt[1];var pr=Zn.split("_");gt=2<=pr.length&&pr[1]=="type"?gt+(Zn+"="+Xt+"&"):gt+(Zn+"=redacted&")}}else gt=null;else gt=$e;return"XMLHTTP REQ ("+he+") [attempt "+je+"]: "+$+`
`+J+`
`+gt})}function de(_,$,J,he,je,$e,gt){_.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+je+"]: "+$+`
`+J+`
`+$e+" "+gt})}function Xe(_,$,J,he){_.info(function(){return"XMLHTTP TEXT ("+$+"): "+cn(_,J)+(he?" "+he:"")})}function Yt(_,$){_.info(function(){return"TIMEOUT: "+$})}qr.prototype.info=function(){};function cn(_,$){if(!_.g)return $;if(!$)return null;try{var J=JSON.parse($);if(J){for(_=0;_<J.length;_++)if(Array.isArray(J[_])){var he=J[_];if(!(2>he.length)){var je=he[1];if(Array.isArray(je)&&!(1>je.length)){var $e=je[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(var gt=1;gt<je.length;gt++)je[gt]=""}}}}return yn(J)}catch{return $}}var Ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nn;function Ue(){}E(Ue,gn),Ue.prototype.g=function(){return new XMLHttpRequest},Ue.prototype.i=function(){return{}},nn=new Ue;function Ct(_,$,J,he){this.j=_,this.i=$,this.l=J,this.R=he||1,this.U=new Hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Dr={},Mr={};function jn(_,$,J){_.L=1,_.v=wo(xr($)),_.m=J,_.P=!0,Lr(_,null)}function Lr(_,$){_.F=Date.now(),cs(_),_.A=xr(_.v);var J=_.A,he=_.R;Array.isArray(he)||(he=[String(he)]),Gt(J.i,"t",he),_.C=0,J=_.j.J,_.h=new qt,_.g=se(_.j,J?$:null,!_.m),0<_.O&&(_.M=new wt(g(_.Y,_,_.g),_.O)),$=_.U,J=_.g,he=_.ca;var je="readystatechange";Array.isArray(je)||(je&&(en[0]=je.toString()),je=en);for(var $e=0;$e<je.length;$e++){var gt=ne(J,je[$e],he||$.handleEvent,!1,$.h||$);if(!gt)break;$.g[gt.key]=gt}$=_.H?D(_.H):{},_.m?(_.u||(_.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,$)):(_.u="GET",_.g.ea(_.A,_.u,null,$)),ui(),cr(_.i,_.u,_.A,_.l,_.R,_.m)}Ct.prototype.ca=function(_){_=_.target;const $=this.M;$&&$r(_)==3?$.j():this.Y(_)},Ct.prototype.Y=function(_){try{if(_==this.g)e:{const pr=$r(this.g);var $=this.g.Ba();const to=this.g.Z();if(!(3>pr)&&(pr!=3||this.g&&(this.h.h||this.g.oa()||rl(this.g)))){this.J||pr!=4||$==7||($==8||0>=to?ui(3):ui(2)),Ws(this);var J=this.g.Z();this.X=J;t:if(Gn(this)){var he=rl(this.g);_="";var je=he.length,$e=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$i(this),Ks(this);var gt="";break t}this.h.i=new l.TextDecoder}for($=0;$<je;$++)this.h.h=!0,_+=this.h.i.decode(he[$],{stream:!($e&&$==je-1)});he.length=0,this.h.g+=_,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=J==200,de(this.i,this.u,this.A,this.l,this.R,pr,J),this.o){if(this.T&&!this.K){t:{if(this.g){var on,Nn=this.g;if((on=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(on)){var Xt=on;break t}}Xt=null}if(J=Xt)Xe(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,J);else{this.o=!1,this.s=3,kt(12),$i(this),Ks(this);break e}}if(this.P){J=!0;let Ri;for(;!this.J&&this.C<gt.length;)if(Ri=La(this,gt),Ri==Mr){pr==4&&(this.s=4,kt(14),J=!1),Xe(this.i,this.l,null,"[Incomplete Response]");break}else if(Ri==Dr){this.s=4,kt(15),Xe(this.i,this.l,gt,"[Invalid Chunk]"),J=!1;break}else Xe(this.i,this.l,Ri,null),Fa(this,Ri);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pr!=4||gt.length!=0||this.h.h||(this.s=1,kt(16),J=!1),this.o=this.o&&J,!J)Xe(this.i,this.l,gt,"[Invalid Chunked Response]"),$i(this),Ks(this);else if(0<gt.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Jl(Zn),Zn.M=!0,kt(11))}}else Xe(this.i,this.l,gt,null),Fa(this,gt);pr==4&&$i(this),this.o&&!this.J&&(pr==4?Io(this.j,this):(this.o=!1,cs(this)))}else Zs(this.g),J==400&&0<gt.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),$i(this),Ks(this)}}}catch{}finally{}};function Gn(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function La(_,$){var J=_.C,he=$.indexOf(`
`,J);return he==-1?Mr:(J=Number($.substring(J,he)),isNaN(J)?Dr:(he+=1,he+J>$.length?Mr:($=$.slice(he,he+J),_.C=he+J,$)))}Ct.prototype.cancel=function(){this.J=!0,$i(this)};function cs(_){_.S=Date.now()+_.I,zr(_,_.I)}function zr(_,$){if(_.B!=null)throw Error("WatchDog timer not null");_.B=jr(g(_.ba,_),$)}function Ws(_){_.B&&(l.clearTimeout(_.B),_.B=null)}Ct.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Yt(this.i,this.A),this.L!=2&&(ui(),kt(17)),$i(this),this.s=2,Ks(this)):zr(this,this.S-_)};function Ks(_){_.j.G==0||_.J||Io(_.j,_)}function $i(_){Ws(_);var $=_.M;$&&typeof $.ma=="function"&&$.ma(),_.M=null,Jn(_.U),_.g&&($=_.g,_.g=null,$.abort(),$.ma())}function Fa(_,$){try{var J=_.j;if(J.G!=0&&(J.g==_||_o(J.h,_))){if(!_.K&&_o(J.h,_)&&J.G==3){try{var he=J.Da.g.parse($)}catch{he=null}if(Array.isArray(he)&&he.length==3){var je=he;if(je[0]==0){e:if(!J.u){if(J.g)if(J.g.F+3e3<_.F)fs(J),Eo(J);else break e;al(J),kt(18)}}else J.za=je[1],0<J.za-J.T&&37500>je[2]&&J.F&&J.v==0&&!J.C&&(J.C=jr(g(J.Za,J),6e3));if(1>=Qo(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else sa(J,11)}else if((_.K||J.g==_)&&fs(J),!P($))for(je=J.Da.g.parse($),$=0;$<je.length;$++){let Xt=je[$];if(J.T=Xt[0],Xt=Xt[1],J.G==2)if(Xt[0]=="c"){J.K=Xt[1],J.ia=Xt[2];const Zn=Xt[3];Zn!=null&&(J.la=Zn,J.j.info("VER="+J.la));const pr=Xt[4];pr!=null&&(J.Aa=pr,J.j.info("SVER="+J.Aa));const to=Xt[5];to!=null&&typeof to=="number"&&0<to&&(he=1.5*to,J.L=he,J.j.info("backChannelRequestTimeoutMs_="+he)),he=J;const Ri=_.g;if(Ri){const no=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var $e=he.h;$e.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||($e.j=$e.l,$e.g=new Set,$e.h&&(ur($e,$e.h),$e.h=null))}if(he.D){const $a=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(he.ya=$a,Dn(he.I,he.D,$a))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-_.F,J.j.info("Handshake RTT: "+J.R+"ms")),he=J;var gt=_;if(he.qa=M(he,he.J?he.ia:null,he.W),gt.K){xa(he.h,gt);var on=gt,Nn=he.L;Nn&&(on.I=Nn),on.B&&(Ws(on),cs(on)),he.g=gt}else Yl(he);0<J.i.length&&Wl(J)}else Xt[0]!="stop"&&Xt[0]!="close"||sa(J,7);else J.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?sa(J,7):eo(J):Xt[0]!="noop"&&J.l&&J.l.ta(Xt),J.v=0)}}ui(4)}catch{}}var bf=class{constructor(_,$){this.g=_,this.map=$}};function Bl(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zc(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Qo(_){return _.h?1:_.g?_.g.size:0}function _o(_,$){return _.h?_.h==$:_.g?_.g.has($):!1}function ur(_,$){_.g?_.g.add($):_.h=$}function xa(_,$){_.h&&_.h==$?_.h=null:_.g&&_.g.has($)&&_.g.delete($)}Bl.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Ii(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let $=_.i;for(const J of _.g.values())$=$.concat(J.D);return $}return A(_.i)}function $c(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var $=[],J=_.length,he=0;he<J;he++)$.push(_[he]);return $}$=[],J=0;for(he in _)$[J++]=_[he];return $}function Hc(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var $=[];_=_.length;for(var J=0;J<_;J++)$.push(J);return $}$=[],J=0;for(const he in _)$[J++]=he;return $}}}function Vl(_,$){if(_.forEach&&typeof _.forEach=="function")_.forEach($,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,$,void 0);else for(var J=Hc(_),he=$c(_),je=he.length,$e=0;$e<je;$e++)$.call(void 0,he[$e],J&&J[$e],_)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(_,$){if(_){_=_.split("&");for(var J=0;J<_.length;J++){var he=_[J].indexOf("="),je=null;if(0<=he){var $e=_[J].substring(0,he);je=_[J].substring(he+1)}else $e=_[J];$($e,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Xr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Xr){this.h=_.h,Js(this,_.j),this.o=_.o,this.g=_.g,Zo(this,_.s),this.l=_.l;var $=_.i,J=new ds;J.i=$.i,$.g&&(J.g=new Map($.g),J.h=$.h),el(this,J),this.m=_.m}else _&&($=String(_).match(ba))?(this.h=!1,Js(this,$[1]||"",!0),this.o=Ao($[2]||""),this.g=Ao($[3]||"",!0),Zo(this,$[4]),this.l=Ao($[5]||"",!0),el(this,$[6]||"",!0),this.m=Ao($[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Xr.prototype.toString=function(){var _=[],$=this.j;$&&_.push(ia($,Gc,!0),":");var J=this.g;return(J||$=="file")&&(_.push("//"),($=this.o)&&_.push(ia($,Gc,!0),"@"),_.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&_.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&_.push("/"),_.push(ia(J,J.charAt(0)=="/"?us:Hu,!0))),(J=this.i.toString())&&_.push("?",J),(J=this.m)&&_.push("#",ia(J,zl)),_.join("")};function xr(_){return new Xr(_)}function Js(_,$,J){_.j=J?Ao($,!0):$,_.j&&(_.j=_.j.replace(/:$/,""))}function Zo(_,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);_.s=$}else _.s=null}function el(_,$,J){$ instanceof ds?(_.i=$,Gu(_.i,_.h)):(J||($=ia($,ql)),_.i=new ds($,_.h))}function Dn(_,$,J){_.i.set($,J)}function wo(_){return Dn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Ao(_,$){return _?$?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ia(_,$,J){return typeof _=="string"?(_=encodeURI(_).replace($,_f),J&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function _f(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Gc=/[#\/\?@]/g,Hu=/[#\?:]/g,us=/[#\?]/g,ql=/[#\?@]/g,zl=/#/g;function ds(_,$){this.h=this.g=null,this.i=_||null,this.j=!!$}function zn(_){_.g||(_.g=new Map,_.h=0,_.i&&Ys(_.i,function($,J){_.add(decodeURIComponent($.replace(/\+/g," ")),J)}))}t=ds.prototype,t.add=function(_,$){zn(this),this.i=null,_=_a(this,_);var J=this.g.get(_);return J||this.g.set(_,J=[]),J.push($),this.h+=1,this};function $l(_,$){zn(_),$=_a(_,$),_.g.has($)&&(_.i=null,_.h-=_.g.get($).length,_.g.delete($))}function tl(_,$){return zn(_),$=_a(_,$),_.g.has($)}t.forEach=function(_,$){zn(this),this.g.forEach(function(J,he){J.forEach(function(je){_.call($,je,he,this)},this)},this)},t.na=function(){zn(this);const _=Array.from(this.g.values()),$=Array.from(this.g.keys()),J=[];for(let he=0;he<$.length;he++){const je=_[he];for(let $e=0;$e<je.length;$e++)J.push($[he])}return J},t.V=function(_){zn(this);let $=[];if(typeof _=="string")tl(this,_)&&($=$.concat(this.g.get(_a(this,_))));else{_=Array.from(this.g.values());for(let J=0;J<_.length;J++)$=$.concat(_[J])}return $},t.set=function(_,$){return zn(this),this.i=null,_=_a(this,_),tl(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[$]),this.h+=1,this},t.get=function(_,$){return _?(_=this.V(_),0<_.length?String(_[0]):$):$};function Gt(_,$,J){$l(_,$),0<J.length&&(_.i=null,_.g.set(_a(_,$),A(J)),_.h+=J.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],$=Array.from(this.g.keys());for(var J=0;J<$.length;J++){var he=$[J];const $e=encodeURIComponent(String(he)),gt=this.V(he);for(he=0;he<gt.length;he++){var je=$e;gt[he]!==""&&(je+="="+encodeURIComponent(String(gt[he]))),_.push(je)}}return this.i=_.join("&")};function _a(_,$){return $=String($),_.j&&($=$.toLowerCase()),$}function Gu(_,$){$&&!_.j&&(zn(_),_.i=null,_.g.forEach(function(J,he){var je=he.toLowerCase();he!=je&&($l(this,he),Gt(this,je,J))},_)),_.j=$}function Ua(_,$){const J=new qr;if(l.Image){const he=new Image;he.onload=y(Hi,J,"TestLoadImage: loaded",!0,$,he),he.onerror=y(Hi,J,"TestLoadImage: error",!1,$,he),he.onabort=y(Hi,J,"TestLoadImage: abort",!1,$,he),he.ontimeout=y(Hi,J,"TestLoadImage: timeout",!1,$,he),l.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=_}else $(!1)}function Wc(_,$){const J=new qr,he=new AbortController,je=setTimeout(()=>{he.abort(),Hi(J,"TestPingServer: timeout",!1,$)},1e4);fetch(_,{signal:he.signal}).then($e=>{clearTimeout(je),$e.ok?Hi(J,"TestPingServer: ok",!0,$):Hi(J,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(je),Hi(J,"TestPingServer: error",!1,$)})}function Hi(_,$,J,he,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),he(J)}catch{}}function aa(){this.g=new Ma}function nl(_,$,J){const he=J||"";try{Vl(_,function(je,$e){let gt=je;f(je)&&(gt=yn(je)),$.push(he+$e+"="+encodeURIComponent(gt))})}catch(je){throw $.push(he+"type="+encodeURIComponent("_badmap")),je}}function Es(_){this.l=_.Ub||null,this.j=_.eb||!1}E(Es,gn),Es.prototype.g=function(){return new wa(this.l,this.j)},Es.prototype.i=(function(_){return function(){return _}})({});function wa(_,$){bt.call(this),this.D=_,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(wa,bt),t=wa.prototype,t.open=function(_,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=$,this.readyState=1,Va(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&($.body=_),(this.D||l).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var $=_.value?_.value:new Uint8Array(0);($=this.v.decode($,{stream:!_.done}))&&(this.response=this.responseText+=$)}_.done?Ba(this):Va(this),this.readyState==3&&Hl(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Ba(this))},t.Qa=function(_){this.g&&(this.response=_,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Va(_)}t.setRequestHeader=function(_,$){this.u.append(_,$)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],$=this.h.entries();for(var J=$.next();!J.done;)J=J.value,_.push(J[0]+": "+J[1]),J=$.next();return _.join(`\r
`)};function Va(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function qa(_){let $="";return V(_,function(J,he){$+=he,$+=":",$+=J,$+=`\r
`}),$}function So(_,$,J){e:{for(he in J){var he=!1;break e}he=!0}he||(J=qa(J),typeof _=="string"?J!=null&&encodeURIComponent(String(J)):Dn(_,$,J))}function Xn(_){bt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Xn,bt);var di=/^https?$/i,za=["POST","PUT"];t=Xn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,$,J,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);$=$?$.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nn.g(),this.v=this.o?ci(this.o):ci(nn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open($,String(_),!0),this.B=!1}catch($e){No(this,$e);return}if(_=J||"",J=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var je in he)J.set(je,he[je]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const $e of he.keys())J.set($e,he.get($e));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(J.keys()).find($e=>$e.toLowerCase()=="content-type"),je=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(za,$,void 0))||he||je||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$e,gt]of J)this.g.setRequestHeader($e,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(_),this.u=!1}catch($e){No(this,$e)}};function No(_,$){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=$,_.m=5,Xs(_),Qs(_)}function Xs(_){_.A||(_.A=!0,At(_,"complete"),At(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,At(this,"complete"),At(this,"abort"),Qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),Xn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},t.bb=function(){Kc(this)};function Kc(_){if(_.h&&typeof s<"u"&&(!_.v[1]||$r(_)!=4||_.Z()!=2)){if(_.u&&$r(_)==4)Tt(_.Ea,0,_);else if(At(_,"readystatechange"),$r(_)==4){_.h=!1;try{const gt=_.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var J;if(!(J=$)){var he;if(he=gt===0){var je=String(_.D).match(ba)[1]||null;!je&&l.self&&l.self.location&&(je=l.self.location.protocol.slice(0,-1)),he=!di.test(je?je.toLowerCase():"")}J=he}if(J)At(_,"complete"),At(_,"success");else{_.m=6;try{var $e=2<$r(_)?_.g.statusText:""}catch{$e=""}_.l=$e+" ["+_.Z()+"]",Xs(_)}}finally{Qs(_)}}}}function Qs(_,$){if(_.g){Aa(_);const J=_.g,he=_.v[0]?()=>{}:null;_.g=null,_.v=null,$||At(_,"ready");try{J.onreadystatechange=he}catch{}}}function Aa(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function $r(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var $=this.g.responseText;return _&&$.indexOf(_)==0&&($=$.substring(_.length)),xn($)}};function rl(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(_){const $={};_=(_.g&&2<=$r(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<_.length;he++){if(P(_[he]))continue;var J=U(_[he]);const je=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const $e=$[je]||[];$[je]=$e,$e.push(J)}O($,function(he){return he.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(_,$,J){return J&&J.internalChannelParams&&J.internalChannelParams[_]||$}function Gl(_){this.Aa=0,this.i=[],this.j=new qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,_),this.cb=Gi("retryDelaySeedMs",1e4,_),this.Wa=Gi("forwardChannelMaxRetries",2,_),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Bl(_&&_.concurrentRequestLimit),this.Da=new aa,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gl.prototype,t.la=8,t.G=1,t.connect=function(_,$,J,he){kt(0),this.W=_,this.H=$||{},J&&he!==void 0&&(this.H.OSID=J,this.H.OAID=he),this.F=this.X,this.I=M(this,null,this.W),Wl(this)};function eo(_){if(il(_),_.G==3){var $=_.U++,J=xr(_.I);if(Dn(J,"SID",_.K),Dn(J,"RID",$),Dn(J,"TYPE","terminate"),To(_,J),$=new Ct(_,_.j,$),$.L=2,$.v=wo(xr(J)),J=!1,l.navigator&&l.navigator.sendBeacon)try{J=l.navigator.sendBeacon($.v.toString(),"")}catch{}!J&&l.Image&&(new Image().src=$.v,J=!0),J||($.g=se($.j,null),$.g.ea($.v)),$.F=Date.now(),cs($)}sl(_)}function Eo(_){_.g&&(Jl(_),_.g.cancel(),_.g=null)}function il(_){Eo(_),_.u&&(l.clearTimeout(_.u),_.u=null),fs(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Wl(_){if(!zc(_.h)&&!_.s){_.s=!0;var $=_.Ga;te||we(),re||(te(),re=!0),ve.add($,_),_.B=0}}function Yc(_,$){return Qo(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=$.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=jr(g(_.Ga,_,$),Xl(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const je=new Ct(this,this.j,_);let $e=this.o;if(this.S&&($e?($e=D($e),H($e,this.S)):$e=this.S),this.m!==null||this.O||(je.H=$e,$e=null),this.P)e:{for(var $=0,J=0;J<this.i.length;J++){t:{var he=this.i[J];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if($+=he,4096<$){$=J;break e}if($===4096||J===this.i.length-1){$=J+1;break e}}$=1e3}else $=1e3;$=Co(this,je,$),J=xr(this.I),Dn(J,"RID",_),Dn(J,"CVER",22),this.D&&Dn(J,"X-HTTP-Session-Id",this.D),To(this,J),$e&&(this.O?$="headers="+encodeURIComponent(String(qa($e)))+"&"+$:this.m&&So(J,this.m,$e)),ur(this.h,je),this.Ua&&Dn(J,"TYPE","init"),this.P?(Dn(J,"$req",$),Dn(J,"SID","null"),je.T=!0,jn(je,J,null)):jn(je,J,$),this.G=2}}else this.G==3&&(_?Kl(this,_):this.i.length==0||zc(this.h)||Kl(this))};function Kl(_,$){var J;$?J=$.l:J=_.U++;const he=xr(_.I);Dn(he,"SID",_.K),Dn(he,"RID",J),Dn(he,"AID",_.T),To(_,he),_.m&&_.o&&So(he,_.m,_.o),J=new Ct(_,_.j,J,_.B+1),_.m===null&&(J.H=_.o),$&&(_.i=$.D.concat(_.i)),$=Co(_,J,1e3),J.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ur(_.h,J),jn(J,he,$)}function To(_,$){_.H&&V(_.H,function(J,he){Dn($,he,J)}),_.l&&Vl({},function(J,he){Dn($,he,J)})}function Co(_,$,J){J=Math.min(_.i.length,J);var he=_.l?g(_.l.Na,_.l,_):null;e:{var je=_.i;let $e=-1;for(;;){const gt=["count="+J];$e==-1?0<J?($e=je[0].g,gt.push("ofs="+$e)):$e=0:gt.push("ofs="+$e);let on=!0;for(let Nn=0;Nn<J;Nn++){let Xt=je[Nn].g;const Zn=je[Nn].map;if(Xt-=$e,0>Xt)$e=Math.max(0,je[Nn].g-100),on=!1;else try{nl(Zn,gt,"req"+Xt+"_")}catch{he&&he(Zn)}}if(on){he=gt.join("&");break e}}}return _=_.i.splice(0,J),$.D=_,he}function Yl(_){if(!_.g&&!_.u){_.Y=1;var $=_.Fa;te||we(),re||(te(),re=!0),ve.add($,_),_.v=0}}function al(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=jr(g(_.Fa,_),Xl(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=jr(g(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Eo(this),Wu(this))};function Jl(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function Wu(_){_.g=new Ct(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var $=xr(_.qa);Dn($,"RID","rpc"),Dn($,"SID",_.K),Dn($,"AID",_.T),Dn($,"CI",_.F?"0":"1"),!_.F&&_.ja&&Dn($,"TO",_.ja),Dn($,"TYPE","xmlhttp"),To(_,$),_.m&&_.o&&So($,_.m,_.o),_.L&&(_.g.I=_.L);var J=_.g;_=_.ia,J.L=1,J.v=wo(xr($)),J.m=null,J.P=!0,Lr(J,_)}t.Za=function(){this.C!=null&&(this.C=null,Eo(this),al(this),kt(19))};function fs(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function Io(_,$){var J=null;if(_.g==$){fs(_),Jl(_),_.g=null;var he=2}else if(_o(_.h,$))J=$.D,xa(_.h,$),he=1;else return;if(_.G!=0){if($.o)if(he==1){J=$.m?$.m.length:0,$=Date.now()-$.F;var je=_.B;he=xi(),At(he,new Ci(he,J)),Wl(_)}else Yl(_);else if(je=$.s,je==3||je==0&&0<$.X||!(he==1&&Yc(_,$)||he==2&&al(_)))switch(J&&0<J.length&&($=_.h,$.i=$.i.concat(J)),je){case 1:sa(_,5);break;case 4:sa(_,10);break;case 3:sa(_,6);break;default:sa(_,2)}}}function Xl(_,$){let J=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(J*=2),J*$}function sa(_,$){if(_.j.info("Error code "+$),$==2){var J=g(_.fb,_),he=_.Xa;const je=!he;he=new Xr(he||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Js(he,"https"),wo(he),je?Ua(he.toString(),J):Wc(he.toString(),J)}else kt(2);_.G=0,_.l&&_.l.sa($),sl(_),il(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function sl(_){if(_.G=0,_.ka=[],_.l){const $=Ii(_.h);($.length!=0||_.i.length!=0)&&(S(_.ka,$),S(_.ka,_.i),_.h.i.length=0,A(_.i),_.i.length=0),_.l.ra()}}function M(_,$,J){var he=J instanceof Xr?xr(J):new Xr(J);if(he.g!="")$&&(he.g=$+"."+he.g),Zo(he,he.s);else{var je=l.location;he=je.protocol,$=$?$+"."+je.hostname:je.hostname,je=+je.port;var $e=new Xr(null);he&&Js($e,he),$&&($e.g=$),je&&Zo($e,je),J&&($e.l=J),he=$e}return J=_.D,$=_.ya,J&&$&&Dn(he,J,$),Dn(he,"VER",_.la),To(_,he),he}function se(_,$,J){if($&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=_.Ca&&!_.pa?new Xn(new Es({eb:J})):new Xn(_.pa),$.Ha(_.J),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}t=Ae.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ce(){}Ce.prototype.g=function(_,$){return new Me(_,$)};function Me(_,$){bt.call(this),this.g=new Gl($),this.l=_,this.h=$&&$.messageUrlParams||null,_=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(_?_["X-WebChannel-Content-Type"]=$.messageContentType:_={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(_?_["X-WebChannel-Client-Profile"]=$.va:_={"X-WebChannel-Client-Profile":$.va}),this.g.S=_,(_=$&&$.Sb)&&!P(_)&&(this.g.m=_),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!P($)&&(this.g.D=$,_=this.h,_!==null&&$ in _&&(_=this.h,$ in _&&delete _[$])),this.j=new Et(this)}E(Me,bt),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){eo(this.g)},Me.prototype.o=function(_){var $=this.g;if(typeof _=="string"){var J={};J.__data__=_,_=J}else this.u&&(J={},J.__data__=yn(_),_=J);$.i.push(new bf($.Ya++,_)),$.G==3&&Wl($)},Me.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,Me.aa.N.call(this)};function nt(_){Vr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var $=_.__sm__;if($){e:{for(const J in $){_=J;break e}_=void 0}(this.i=_)&&(_=this.i,$=$!==null&&_ in $?$[_]:void 0),this.data=$}else this.data=_}E(nt,Vr);function mt(){Sn.call(this),this.status=1}E(mt,Sn);function Et(_){this.g=_}E(Et,Ae),Et.prototype.ua=function(){At(this.g,"a")},Et.prototype.ta=function(_){At(this.g,new nt(_))},Et.prototype.sa=function(_){At(this.g,new mt)},Et.prototype.ra=function(){At(this.g,"b")},Ce.prototype.createWebChannel=Ce.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,DV=function(){return new Ce},jV=function(){return xi()},OV=Mt,RE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,tx=Ht,zt.COMPLETE="complete",PV=zt,qn.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Ug=qn,Xn.prototype.listenOnce=Xn.prototype.L,Xn.prototype.getLastError=Xn.prototype.Ka,Xn.prototype.getLastErrorCode=Xn.prototype.Ba,Xn.prototype.getStatus=Xn.prototype.Z,Xn.prototype.getResponseJson=Xn.prototype.Oa,Xn.prototype.getResponseText=Xn.prototype.oa,Xn.prototype.send=Xn.prototype.ea,Xn.prototype.setWithCredentials=Xn.prototype.Ha,kV=Xn}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});const aL="@firebase/firestore",sL="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new NC("@firebase/firestore");function fp(){return dh.logLevel}function jt(t,...e){if(dh.logLevel<=Un.DEBUG){const n=e.map(LC);dh.debug(`Firestore (${Rm}): ${t}`,...n)}}function Du(t,...e){if(dh.logLevel<=Un.ERROR){const n=e.map(LC);dh.error(`Firestore (${Rm}): ${t}`,...n)}}function tf(t,...e){if(dh.logLevel<=Un.WARN){const n=e.map(LC);dh.warn(`Firestore (${Rm}): ${t}`,...n)}}function LC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MV(t,r,n)}function MV(t,e,n){let r=`FIRESTORE (${Rm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Du(r),new Error(r)}function hr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||MV(e,i,r)}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends qc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ts.UNAUTHENTICATED)))}shutdown(){}}class Oge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jge{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){hr(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Yd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yd,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yd)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hr(typeof r.accessToken=="string",31837,{l:r}),new LV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hr(e===null||typeof e=="string",2055,{h:e}),new ts(e)}}class Dge{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mge{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Dge(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lge{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){hr(this.o===void 0,3512);const r=a=>{a.error!=null&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(hr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oL(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Fge(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Tn(t,e){return t<e?-1:t>e?1:0}function kE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Tn(r,i);{const a=FV(),s=Uge(a.encode(lL(t,n)),a.encode(lL(e,n)));return s!==0?s:Tn(r,i)}}n+=r>65535?2:1}return Tn(t.length,e.length)}function lL(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Uge(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Tn(t[n],e[n]);return Tn(t.length,e.length)}function dm(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="__name__";class bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&sn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&sn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=bc.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Tn(e.length,n.length)}static compareSegments(e,n){const r=bc.isNumericId(e),i=bc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bc.extractNumericId(e).compare(bc.extractNumericId(n)):kE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kd.fromString(e.substring(4,e.length-2))}}class Br extends bc{construct(e,n,r){return new Br(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Rt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Br(n)}static emptyPath(){return new Br([])}}const Bge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pa extends bc{construct(e,n,r){return new Pa(e,n,r)}static isValidIdentifier(e){return Bge.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cL}static keyField(){return new Pa([cL])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Rt(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Rt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Rt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new Rt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pa(n)}static emptyPath(){return new Pa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(Br.fromString(e))}static fromName(e){return new Kt(Br.fromString(e).popFirst(5))}static empty(){return new Kt(Br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Br.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Br.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new Br(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t,e,n){if(!n)throw new Rt(ut.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vge(t,e,n,r){if(e===!0&&r===!0)throw new Rt(ut.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uL(t){if(!Kt.isDocumentKey(t))throw new Rt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dL(t){if(Kt.isDocumentKey(t))throw new Rt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":sn(12329,{type:typeof t})}function xo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pb(t);throw new Rt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qge(t,e){if(e<=0)throw new Rt(ut.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){const n={typeString:t};return e&&(n.value=e),n}function mv(t,e){if(!BV(t))throw new Rt(ut.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Rt(ut.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=-62135596800,hL=1e6;class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hL);return new Kr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fL)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hL}_compareTo(e){return this.seconds===e.seconds?Tn(this.nanoseconds,e.nanoseconds):Tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mv(e,Kr._jsonSchema))return new Kr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kr._jsonSchemaVersion="firestore/timestamp/1.0",Kr._jsonSchema={type:qi("string",Kr._jsonSchemaVersion),seconds:qi("number"),nanoseconds:qi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{static fromTimestamp(e){return new fn(e)}static min(){return new fn(new Kr(0,0))}static max(){return new fn(new Kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-1;function zge(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fn.fromTimestamp(r===1e9?new Kr(n+1,0):new Kr(n,r));return new nf(i,Kt.empty(),e)}function $ge(t){return new nf(t.readTime,t.key,Y0)}class nf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nf(fn.min(),Kt.empty(),Y0)}static max(){return new nf(fn.max(),Kt.empty(),Y0)}}function Hge(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Kt.comparator(t.documentKey,e.documentKey),n!==0?n:Tn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){if(t.code!==ut.FAILED_PRECONDITION||t.message!==Gge)throw t;jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&sn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ht(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ht.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ht.reject(n)}static resolve(e){return new ht(((n,r)=>{n(e)}))}static reject(e){return new ht(((n,r)=>{r(e)}))}static waitFor(e){return new ht(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=ht.resolve(!1);for(const r of e)n=n.next((i=>i?ht.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ht(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ht(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Kge(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ob.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=-1;function jb(t){return t==null}function T1(t){return t===0&&1/t==-1/0}function Yge(t){return typeof t=="number"&&Number.isInteger(t)&&!T1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="";function Jge(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pL(e)),e=Xge(t.get(n),e);return pL(e)}function Xge(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case VV:n+="";break;default:n+=a}}return n}function pL(t){return t+VV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){this.comparator=e,this.root=n||ka.EMPTY}insert(e,n){return new li(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ka.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ka.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oy(this.root,e,this.comparator,!0)}}class Oy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ka{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ka.RED,this.left=i??ka.EMPTY,this.right=a??ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ka(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ka.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ka.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sn(27949);return e+(this.isRed()?0:1)}}ka.EMPTY=null,ka.RED=!0,ka.BLACK=!1;ka.EMPTY=new class{constructor(){this.size=0}get key(){throw sn(57766)}get value(){throw sn(16141)}get color(){throw sn(16727)}get left(){throw sn(29726)}get right(){throw sn(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ka(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new na(this.comparator);return n.data=e,n}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.fields=e,e.sort(Pa.comparator)}static empty(){return new vo([])}unionWith(e){let n=new na(Pa.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dm(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zV("Invalid base64 string: "+a):a}})(e);return new Da(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Da(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Da.EMPTY_BYTE_STRING=new Da("");const Qge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rf(t){if(hr(!!t,39018),typeof t=="string"){let e=0;const n=Qge.exec(t);if(hr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ai(t.seconds),nanos:Ai(t.nanos)}}function Ai(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function af(t){return typeof t=="string"?Da.fromBase64String(t):Da.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="server_timestamp",HV="__type__",GV="__previous_value__",WV="__local_write_time__";function BC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[HV])===null||n===void 0?void 0:n.stringValue)===$V}function Db(t){const e=t.mapValue.fields[GV];return BC(e)?Db(e):e}function J0(t){const e=rf(t.mapValue.fields[WV].timestampValue);return new Kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zge{constructor(e,n,r,i,a,s,l,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const C1="(default)";class X0{constructor(e,n){this.projectId=e,this.database=n||C1}static empty(){return new X0("","")}get isDefaultDatabase(){return this.database===C1}isEqual(e){return e instanceof X0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="__type__",e0e="__max__",jy={mapValue:{}},YV="__vector__",I1="value";function sf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BC(t)?4:n0e(t)?9007199254740991:t0e(t)?10:11:sn(28295,{value:t})}function Uc(t,e){if(t===e)return!0;const n=sf(t);if(n!==sf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return J0(t).isEqual(J0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=rf(i.timestampValue),l=rf(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return af(i.bytesValue).isEqual(af(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ai(i.geoPointValue.latitude)===Ai(a.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ai(i.integerValue)===Ai(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ai(i.doubleValue),l=Ai(a.doubleValue);return s===l?T1(s)===T1(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return dm(t.arrayValue.values||[],e.arrayValue.values||[],Uc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(mL(s)!==mL(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Uc(s[c],l[c])))return!1;return!0})(t,e);default:return sn(52216,{left:t})}}function Q0(t,e){return(t.values||[]).find((n=>Uc(n,e)))!==void 0}function fm(t,e){if(t===e)return 0;const n=sf(t),r=sf(e);if(n!==r)return Tn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Ai(a.integerValue||a.doubleValue),c=Ai(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return vL(t.timestampValue,e.timestampValue);case 4:return vL(J0(t),J0(e));case 5:return kE(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=af(a),c=af(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Tn(l[f],c[f]);if(h!==0)return h}return Tn(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Tn(Ai(a.latitude),Ai(s.latitude));return l!==0?l:Tn(Ai(a.longitude),Ai(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yL(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var l,c,f,h;const m=a.fields||{},g=s.fields||{},y=(l=m[I1])===null||l===void 0?void 0:l.arrayValue,E=(c=g[I1])===null||c===void 0?void 0:c.arrayValue,A=Tn(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:yL(y,E)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===jy.mapValue&&s===jy.mapValue)return 0;if(a===jy.mapValue)return 1;if(s===jy.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=kE(c[m],h[m]);if(g!==0)return g;const y=fm(l[c[m]],f[h[m]]);if(y!==0)return y}return Tn(c.length,h.length)})(t.mapValue,e.mapValue);default:throw sn(23264,{le:n})}}function vL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tn(t,e);const n=rf(t),r=rf(e),i=Tn(n.seconds,r.seconds);return i!==0?i:Tn(n.nanos,r.nanos)}function yL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fm(n[i],r[i]);if(a)return a}return Tn(n.length,r.length)}function hm(t){return PE(t)}function PE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=rf(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return af(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Kt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=PE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${PE(n.fields[s])}`;return i+"}"})(t.mapValue):sn(61005,{value:t})}function nx(t){switch(sf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Db(t);return e?16+nx(e):16;case 5:return 2*t.stringValue.length;case 6:return af(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+nx(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vf(r.fields,((a,s)=>{i+=a.length+nx(s)})),i})(t.mapValue);default:throw sn(13486,{value:t})}}function xL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function OE(t){return!!t&&"integerValue"in t}function VC(t){return!!t&&"arrayValue"in t}function bL(t){return!!t&&"nullValue"in t}function _L(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rx(t){return!!t&&"mapValue"in t}function t0e(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KV])===null||n===void 0?void 0:n.stringValue)===YV}function Zg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zg(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n0e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.value=e}static empty(){return new zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zg(n)}setAll(e){let n=Pa.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Zg(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());rx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Uc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new zs(Zg(this.value))}}function JV(t){const e=[];return vf(t.fields,((n,r)=>{const i=new Pa([n]);if(rx(r)){const a=JV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new vo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new is(e,0,fn.min(),fn.min(),fn.min(),zs.empty(),0)}static newFoundDocument(e,n,r,i){return new is(e,1,n,fn.min(),r,i,0)}static newNoDocument(e,n){return new is(e,2,n,fn.min(),fn.min(),zs.empty(),0)}static newUnknownDocument(e,n){return new is(e,3,n,fn.min(),fn.min(),zs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.position=e,this.inclusive=n}}function wL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Kt.comparator(Kt.fromName(s.referenceValue),n.key):r=fm(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function AL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Uc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n="asc"){this.field=e,this.dir=n}}function r0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{}class Vi extends XV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a0e(e,n,r):n==="array-contains"?new l0e(e,r):n==="in"?new c0e(e,r):n==="not-in"?new u0e(e,r):n==="array-contains-any"?new d0e(e,r):new Vi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s0e(e,r):new o0e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fm(n,this.value)):n!==null&&sf(this.value)===sf(n)&&this.matchesComparison(fm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return sn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dl extends XV{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Dl(e,n)}matches(e){return QV(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function QV(t){return t.op==="and"}function ZV(t){return i0e(t)&&QV(t)}function i0e(t){for(const e of t.filters)if(e instanceof Dl)return!1;return!0}function jE(t){if(t instanceof Vi)return t.field.canonicalString()+t.op.toString()+hm(t.value);if(ZV(t))return t.filters.map((e=>jE(e))).join(",");{const e=t.filters.map((n=>jE(n))).join(",");return`${t.op}(${e})`}}function eq(t,e){return t instanceof Vi?(function(r,i){return i instanceof Vi&&r.op===i.op&&r.field.isEqual(i.field)&&Uc(r.value,i.value)})(t,e):t instanceof Dl?(function(r,i){return i instanceof Dl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&eq(s,i.filters[l])),!0):!1})(t,e):void sn(19439)}function tq(t){return t instanceof Vi?(function(n){return`${n.field.canonicalString()} ${n.op} ${hm(n.value)}`})(t):t instanceof Dl?(function(n){return n.op.toString()+" {"+n.getFilters().map(tq).join(" ,")+"}"})(t):"Filter"}class a0e extends Vi{constructor(e,n,r){super(e,n,r),this.key=Kt.fromName(r.referenceValue)}matches(e){const n=Kt.comparator(e.key,this.key);return this.matchesComparison(n)}}class s0e extends Vi{constructor(e,n){super(e,"in",n),this.keys=nq("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o0e extends Vi{constructor(e,n){super(e,"not-in",n),this.keys=nq("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nq(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Kt.fromName(r.referenceValue)))}class l0e extends Vi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return VC(n)&&Q0(n.arrayValue,this.value)}}class c0e extends Vi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Q0(this.value.arrayValue,n)}}class u0e extends Vi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Q0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Q0(this.value.arrayValue,n)}}class d0e extends Vi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!VC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Q0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Pe=null}}function SL(t,e=null,n=[],r=[],i=null,a=null,s=null){return new f0e(t,e,n,r,i,a,s)}function qC(t){const e=mn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),jb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hm(r))).join(",")),e.Pe=n}return e.Pe}function zC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AL(t.startAt,e.startAt)&&AL(t.endAt,e.endAt)}function DE(t){return Kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function h0e(t,e,n,r,i,a,s,l){return new Om(t,e,n,r,i,a,s,l)}function $C(t){return new Om(t)}function NL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rq(t){return t.collectionGroup!==null}function e0(t){const e=mn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new na(Pa.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Z0(a,r))})),n.has(Pa.keyField().canonicalString())||e.Te.push(new Z0(Pa.keyField(),r))}return e.Te}function Pc(t){const e=mn(t);return e.Ie||(e.Ie=p0e(e,e0(t))),e.Ie}function p0e(t,e){if(t.limitType==="F")return SL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Z0(i.field,a)}));const n=t.endAt?new R1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new R1(t.startAt.position,t.startAt.inclusive):null;return SL(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ME(t,e){const n=t.filters.concat([e]);return new Om(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function k1(t,e,n){return new Om(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mb(t,e){return zC(Pc(t),Pc(e))&&t.limitType===e.limitType}function iq(t){return`${qC(Pc(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>tq(i))).join(", ")}]`),jb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>hm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>hm(i))).join(",")),`Target(${r})`})(Pc(t))}; limitType=${t.limitType})`}function Lb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Kt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of e0(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=wL(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,e0(r),i)||r.endAt&&!(function(s,l,c){const f=wL(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,e0(r),i))})(t,e)}function m0e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aq(t){return(e,n)=>{let r=!1;for(const i of e0(t)){const a=g0e(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function g0e(t,e,n){const r=t.field.isKeyField()?Kt.comparator(e.key,n.key):(function(a,s,l){const c=s.data.field(a),f=l.data.field(a);return c!==null&&f!==null?fm(c,f):sn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return sn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return qV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0e=new li(Kt.comparator);function Mu(){return v0e}const sq=new li(Kt.comparator);function Bg(...t){let e=sq;for(const n of t)e=e.insert(n.key,n);return e}function oq(t){let e=sq;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Kf(){return t0()}function lq(){return t0()}function t0(){return new _h((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y0e=new li(Kt.comparator),x0e=new na(Kt.comparator);function Bn(...t){let e=x0e;for(const n of t)e=e.add(n);return e}const b0e=new na(Tn);function _0e(){return b0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:T1(e)?"-0":e}}function cq(t){return{integerValue:""+t}}function w0e(t,e){return Yge(e)?cq(e):HC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this._=void 0}}function A0e(t,e,n){return t instanceof P1?(function(i,a){const s={fields:{[HV]:{stringValue:$V},[WV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&BC(a)&&(a=Db(a)),a&&(s.fields[GV]=a),{mapValue:s}})(n,e):t instanceof ev?dq(t,e):t instanceof tv?fq(t,e):(function(i,a){const s=uq(i,a),l=EL(s)+EL(i.Ee);return OE(s)&&OE(i.Ee)?cq(l):HC(i.serializer,l)})(t,e)}function S0e(t,e,n){return t instanceof ev?dq(t,e):t instanceof tv?fq(t,e):n}function uq(t,e){return t instanceof O1?(function(r){return OE(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class P1 extends Fb{}class ev extends Fb{constructor(e){super(),this.elements=e}}function dq(t,e){const n=hq(e);for(const r of t.elements)n.some((i=>Uc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class tv extends Fb{constructor(e){super(),this.elements=e}}function fq(t,e){let n=hq(e);for(const r of t.elements)n=n.filter((i=>!Uc(i,r)));return{arrayValue:{values:n}}}class O1 extends Fb{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function EL(t){return Ai(t.integerValue||t.doubleValue)}function hq(t){return VC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N0e(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ev&&i instanceof ev||r instanceof tv&&i instanceof tv?dm(r.elements,i.elements,Uc):r instanceof O1&&i instanceof O1?Uc(r.Ee,i.Ee):r instanceof P1&&i instanceof P1})(t.transform,e.transform)}class E0e{constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ix(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ub{}function pq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bb(t.key,Ss.none()):new gv(t.key,t.data,Ss.none());{const n=t.data,r=zs.empty();let i=new na(Pa.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new yf(t.key,r,new vo(i.toArray()),Ss.none())}}function T0e(t,e,n){t instanceof gv?(function(i,a,s){const l=i.value.clone(),c=CL(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof yf?(function(i,a,s){if(!ix(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=CL(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(mq(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function n0(t,e,n,r){return t instanceof gv?(function(a,s,l,c){if(!ix(a.precondition,s))return l;const f=a.value.clone(),h=IL(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof yf?(function(a,s,l,c){if(!ix(a.precondition,s))return l;const f=IL(a.fieldTransforms,c,s),h=s.data;return h.setAll(mq(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,s,l){return ix(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function C0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=uq(r.transform,i||null);a!=null&&(n===null&&(n=zs.empty()),n.set(r.field,a))}return n||null}function TL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dm(r,i,((a,s)=>N0e(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gv extends Ub{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yf extends Ub{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mq(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function CL(t,e,n){const r=new Map;hr(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,S0e(s,l,n[i]))}return r}function IL(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,A0e(a,s,e))}return r}class Bb extends Ub{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I0e extends Ub{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&T0e(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lq();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=pq(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(fn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Bn())}isEqual(e){return this.batchId===e.batchId&&dm(this.mutations,e.mutations,((n,r)=>TL(n,r)))&&dm(this.baseMutations,e.baseMutations,((n,r)=>TL(n,r)))}}class GC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){hr(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return y0e})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new GC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui,Yn;function O0e(t){switch(t){case ut.OK:return sn(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return sn(15467,{code:t})}}function gq(t){if(t===void 0)return Du("GRPC error has no .code"),ut.UNKNOWN;switch(t){case Ui.OK:return ut.OK;case Ui.CANCELLED:return ut.CANCELLED;case Ui.UNKNOWN:return ut.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return ut.INTERNAL;case Ui.UNAVAILABLE:return ut.UNAVAILABLE;case Ui.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ui.NOT_FOUND:return ut.NOT_FOUND;case Ui.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ui.ABORTED:return ut.ABORTED;case Ui.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ui.DATA_LOSS:return ut.DATA_LOSS;default:return sn(39323,{code:t})}}(Yn=Ui||(Ui={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0e=new Kd([4294967295,4294967295],0);function RL(t){const e=FV().encode(t),n=new RV;return n.update(e),new Uint8Array(n.digest())}function kL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Kd([n,r],0),new Kd([i,a],0)]}class WC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vg(`Invalid padding: ${n}`);if(r<0)throw new Vg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vg(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Kd.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Kd.fromNumber(r)));return i.compare(j0e)===1&&(i=new Kd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=RL(e),[r,i]=kL(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new WC(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.fe===0)return;const n=RL(e),[r,i]=kL(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);this.we(s)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vb(fn.min(),i,new li(Tn),Mu(),Bn())}}class vv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vv(r,n,Bn(),Bn(),Bn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class vq{constructor(e,n){this.targetId=e,this.De=n}}class yq{constructor(e,n,r=Da.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PL{constructor(){this.ve=0,this.Ce=OL(),this.Fe=Da.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Bn(),n=Bn(),r=Bn();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:sn(38017,{changeType:a})}})),new vv(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=OL()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,hr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class D0e{constructor(e){this.We=e,this.Ge=new Map,this.ze=Mu(),this.je=Dy(),this.Je=Dy(),this.He=new li(Tn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:sn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,i)=>{this.nt(i)&&n(i)}))}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(DE(a))if(r===0){const s=new Kt(a.path);this.Xe(n,s,is.newNoDocument(s,fn.min()))}else hr(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const l=this._t(e),c=l?this.ut(l,e,s):1;if(c!==0){this.rt(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=af(r).toUint8Array()}catch(c){if(c instanceof zV)return tf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new WC(s,i,a)}catch(c){return tf(c instanceof Vg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.We.lt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),i++)})),i}Pt(e){const n=new Map;this.Ge.forEach(((a,s)=>{const l=this.st(s);if(l){if(a.current&&DE(l.target)){const c=new Kt(l.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,is.newNoDocument(c,e))}a.Ne&&(n.set(s,a.Le()),a.ke())}}));let r=Bn();this.Je.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.st(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.ze.forEach(((a,s)=>s.setReadTime(e)));const i=new Vb(e,n,this.He,this.ze,r);return this.ze=Mu(),this.je=Dy(),this.Je=Dy(),this.He=new li(Tn),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new PL,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new na(Tn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new na(Tn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||jt("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new PL),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Dy(){return new li(Kt.comparator)}function OL(){return new li(Kt.comparator)}const M0e={asc:"ASCENDING",desc:"DESCENDING"},L0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F0e={and:"AND",or:"OR"};class U0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function LE(t,e){return t.useProto3Json||jb(e)?e:{value:e}}function j1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function B0e(t,e){return j1(t,e.toTimestamp())}function Oc(t){return hr(!!t,49232),fn.fromTimestamp((function(n){const r=rf(n);return new Kr(r.seconds,r.nanos)})(t))}function KC(t,e){return FE(t,e).canonicalString()}function FE(t,e){const n=(function(i){return new Br(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bq(t){const e=Br.fromString(t);return hr(Nq(e),10190,{key:e.toString()}),e}function UE(t,e){return KC(t.databaseId,e.path)}function DS(t,e){const n=bq(e);if(n.get(1)!==t.databaseId.projectId)throw new Rt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Kt(wq(n))}function _q(t,e){return KC(t.databaseId,e)}function V0e(t){const e=bq(t);return e.length===4?Br.emptyPath():wq(e)}function BE(t){return new Br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wq(t){return hr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jL(t,e,n){return{name:UE(t,e),fields:n.value.mapValue.fields}}function q0e(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:sn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(hr(h===void 0||typeof h=="string",58123),Da.fromBase64String(h||"")):(hr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Da.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?ut.UNKNOWN:gq(f.code);return new Rt(h,f.message||"")})(s);n=new yq(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=DS(t,r.document.name),a=Oc(r.document.updateTime),s=r.document.createTime?Oc(r.document.createTime):fn.min(),l=new zs({mapValue:{fields:r.document.fields}}),c=is.newFoundDocument(i,a,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new ax(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=DS(t,r.document),a=r.readTime?Oc(r.readTime):fn.min(),s=is.newNoDocument(i,a),l=r.removedTargetIds||[];n=new ax([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=DS(t,r.document),a=r.removedTargetIds||[];n=new ax([],a,i,null)}else{if(!("filter"in e))return sn(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new P0e(i,a),l=r.targetId;n=new vq(l,s)}}return n}function z0e(t,e){let n;if(e instanceof gv)n={update:jL(t,e.key,e.value)};else if(e instanceof Bb)n={delete:UE(t,e.key)};else if(e instanceof yf)n={update:jL(t,e.key,e.data),updateMask:Q0e(e.fieldMask)};else{if(!(e instanceof I0e))return sn(16599,{Rt:e.type});n={verify:UE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof P1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ev)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof O1)return{fieldPath:s.field.canonicalString(),increment:l.Ee};throw sn(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:B0e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:sn(27497)})(t,e.precondition)),n}function $0e(t,e){return t&&t.length>0?(hr(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Oc(i.updateTime):Oc(a);return s.isEqual(fn.min())&&(s=Oc(a)),new E0e(s,i.transformResults||[])})(n,e)))):[]}function H0e(t,e){return{documents:[_q(t,e.path)]}}function G0e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_q(t,i);const a=(function(f){if(f.length!==0)return Sq(Dl.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:pp(g.field),direction:Y0e(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=LE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{Vt:n,parent:i}}function W0e(t){let e=V0e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hr(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const g=Aq(m);return g instanceof Dl&&ZV(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((g=>(function(E){return new Z0(mp(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,jb(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,y=m.values||[];return new R1(y,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const g=!m.before,y=m.values||[];return new R1(y,g)})(n.endAt)),h0e(e,i,s,a,l,"F",c,f)}function K0e(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aq(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mp(n.unaryFilter.field);return Vi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mp(n.unaryFilter.field);return Vi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mp(n.unaryFilter.field);return Vi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mp(n.unaryFilter.field);return Vi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sn(61313);default:return sn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vi.create(mp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sn(58110);default:return sn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Dl.create(n.compositeFilter.filters.map((r=>Aq(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sn(1026)}})(n.compositeFilter.op))})(t):sn(30097,{filter:t})}function Y0e(t){return M0e[t]}function J0e(t){return L0e[t]}function X0e(t){return F0e[t]}function pp(t){return{fieldPath:t.canonicalString()}}function mp(t){return Pa.fromServerFormat(t.fieldPath)}function Sq(t){return t instanceof Vi?(function(n){if(n.op==="=="){if(_L(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NAN"}};if(bL(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_L(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NAN"}};if(bL(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(n.field),op:J0e(n.op),value:n.value}}})(t):t instanceof Dl?(function(n){const r=n.getFilters().map((i=>Sq(i)));return r.length===1?r[0]:{compositeFilter:{op:X0e(n.op),filters:r}}})(t):sn(54877,{filter:t})}function Q0e(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i,a=fn.min(),s=fn.min(),l=Da.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Bd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(e){this.gt=e}}function eve(t){const e=W0e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?k1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tve{constructor(){this.Dn=new nve}addToCollectionParentIndex(e,n){return this.Dn.add(n),ht.resolve()}getCollectionParents(e,n){return ht.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ht.resolve()}deleteFieldIndex(e,n){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,n){return ht.resolve()}getDocumentsMatchingTarget(e,n){return ht.resolve(null)}getIndexType(e,n){return ht.resolve(0)}getFieldIndexes(e,n){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,n){return ht.resolve(nf.min())}getMinOffsetFromCollectionGroup(e,n){return ht.resolve(nf.min())}updateCollectionGroup(e,n,r){return ht.resolve()}updateIndexEntries(e,n){return ht.resolve()}}class nve{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new na(Br.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new na(Br.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eq=41943040;class qs{static withCacheSize(e){return new qs(e,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(Eq,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new pm(0)}static ur(){return new pm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="LruGarbageCollector",rve=1048576;function LL([t,e],[n,r]){const i=Tn(t,n);return i===0?Tn(e,r):i}class ive{constructor(e){this.Tr=e,this.buffer=new na(LL),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ave{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){jt(ML,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pm(n)?jt(ML,"Ignoring IndexedDB error during garbage collection: ",n):await km(n)}await this.Rr(3e5)}))}}class sve{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ht.resolve(Ob.ue);const r=new ive(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(DL)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DL):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),fp()<=Un.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function ove(t,e){return new sve(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lve{constructor(){this.changes=new _h((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ht.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&n0(r.mutation,i,vo.empty(),Kr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Bn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Bn()){const i=Kf();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Bg();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Kf();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Bn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=Mu();const s=t0(),l=(function(){return t0()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof yf)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),n0(h.mutation,f,h.mutation.getFieldMask(),Kr.now())):s.set(f.key,vo.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>{var m;return l.set(f,new cve(h,(m=s.get(f))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=t0();let i=new li(((s,l)=>s-l)),a=Bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||vo.empty();h=l.applyToLocalView(f,h),r.set(c,h);const m=(i.get(l.batchId)||Bn()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=lq();h.forEach((g=>{if(!a.has(g)){const y=pq(n.get(g),r.get(g));y!==null&&m.set(g,y),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ht.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Kt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ht.resolve(Kf());let l=Y0,c=a;return s.next((f=>ht.forEach(f,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?ht.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,Bn()))).next((h=>({batchId:l,changes:oq(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Kt(n)).next((r=>{let i=Bg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Bg();return this.indexManager.getCollectionParents(e,a).next((l=>ht.forEach(l,(c=>{const f=(function(m,g){return new Om(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((m,g)=>{s=s.insert(m,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,is.newInvalidDocument(h)))}));let l=Bg();return s.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&n0(h.mutation,f,vo.empty(),Kr.now()),Lb(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dve{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ht.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Oc(i.createTime)}})(n)),ht.resolve()}getNamedQuery(e,n){return ht.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:eve(i.bundledQuery),readTime:Oc(i.readTime)}})(n)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fve{constructor(){this.overlays=new li(Kt.comparator),this.kr=new Map}getOverlay(e,n){return ht.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kf();return ht.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.wt(e,n,a)})),ht.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),ht.resolve()}getOverlaysForCollection(e,n,r){const i=Kf(),a=n.length+1,s=new Kt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ht.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new li(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Kf(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Kf(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ht.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new k0e(n,r));let a=this.kr.get(n);a===void 0&&(a=Bn(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hve{constructor(){this.sessionToken=Da.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.qr=new na(ma.Qr),this.$r=new na(ma.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new ma(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ma(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new Kt(new Br([])),r=new ma(n,e),i=new ma(n,e+1),a=[];return this.$r.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Kt(new Br([])),r=new ma(n,e),i=new ma(n,e+1);let a=Bn();return this.$r.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new ma(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ma{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Kt.comparator(e.key,n.key)||Tn(e.Hr,n.Hr)}static Ur(e,n){return Tn(e.Hr,n.Hr)||Kt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new na(ma.Qr)}checkEmpty(e){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new R0e(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Yr=this.Yr.add(new ma(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ht.resolve(s)}lookupMutationBatch(e,n){return ht.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ht.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?UC:this.er-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ma(n,0),i=new ma(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);a.push(l)})),ht.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new na(Tn);return n.forEach((i=>{const a=new ma(i,0),s=new ma(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],(l=>{r=r.add(l.Hr)}))})),ht.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Kt.isDocumentKey(a)||(a=a.child(""));const s=new ma(new Kt(a),0);let l=new na(Tn);return this.Yr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),ht.resolve(this.ei(l))}ei(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){hr(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ht.forEach(n.mutations,(i=>{const a=new ma(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new ma(n,0),i=this.Yr.firstAfterOrEqual(r);return ht.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ht.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mve{constructor(e){this.ni=e,this.docs=(function(){return new li(Kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ht.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=Mu();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():is.newInvalidDocument(i))})),ht.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Mu();const s=n.path,l=new Kt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||Hge($ge(h),r)<=0||(i.has(h.key)||Lb(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return ht.resolve(a)}getAllFromCollectionGroup(e,n,r,i){sn(9500)}ri(e,n){return ht.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gve(this)}getSize(e){return ht.resolve(this.size)}}class gve extends lve{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),ht.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vve{constructor(e){this.persistence=e,this.ii=new _h((n=>qC(n)),zC),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.si=0,this.oi=new YC,this.targetCount=0,this._i=pm.ar()}forEachTarget(e,n){return this.ii.forEach(((r,i)=>n(i))),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ht.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new pm(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ht.resolve()}updateTargetData(e,n){return this.hr(n),ht.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ht.waitFor(a).next((()=>i))}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ht.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ht.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),ht.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ht.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ht.resolve(r)}containsKey(e,n){return ht.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ob(0),this.ci=!1,this.ci=!0,this.li=new hve,this.referenceDelegate=e(this),this.hi=new vve(this),this.indexManager=new tve,this.remoteDocumentCache=(function(i){return new mve(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new Z0e(n),this.Ti=new dve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fve,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new pve(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){jt("MemoryPersistence","Starting transaction:",e);const i=new yve(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return ht.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class yve extends Wge{constructor(e){super(),this.currentSequenceNumber=e}}class JC{constructor(e){this.persistence=e,this.Ai=new YC,this.Ri=null}static Vi(e){return new JC(e)}get mi(){if(this.Ri)return this.Ri;throw sn(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ht.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ht.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.mi,(r=>{const i=Kt.fromPath(r);return this.fi(e,i).next((a=>{a||n.removeEntry(i,fn.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ht.or([()=>ht.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class D1{constructor(e,n){this.persistence=e,this.gi=new _h((r=>Jge(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=ove(this,n)}static Vi(e,n){return new D1(e,n)}Ii(){}di(e){return ht.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return ht.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((a=>a?ht.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(s=>this.Sr(e,s,n).next((l=>{l||(r++,a.removeEntry(s,fn.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ht.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ht.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ht.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ht.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nx(e.data.value)),n}Sr(e,n,r){return ht.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ht.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Bn(),i=Bn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new XC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bve{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Zfe()?8:Kge(ls())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ys(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new xve;return this.ws(e,n,s).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,n,s,l.size)}))})).next((()=>a.result))}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(fp()<=Un.DEBUG&&jt("QueryEngine","SDK will not create cache indexes for query:",hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ht.resolve()):(fp()<=Un.DEBUG&&jt("QueryEngine","Query:",hp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(fp()<=Un.DEBUG&&jt("QueryEngine","The SDK decides to create cache indexes for query:",hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pc(n))):ht.resolve())}ps(e,n){if(NL(n))return ht.resolve(null);let r=Pc(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=k1(n,null,"F"),r=Pc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Bn(...a);return this.gs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ds(n,f,s,c.readTime)?this.ps(e,k1(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ys(e,n,r,i){return NL(n)||i.isEqual(fn.min())?ht.resolve(null):this.gs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ds(n,s,r,i)?ht.resolve(null):(fp()<=Un.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.vs(e,s,n,zge(i,Y0)).next((l=>l)))}))}bs(e,n){let r=new na(aq(e));return n.forEach(((i,a)=>{Lb(e,a)&&(r=r.add(a))})),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return fp()<=Un.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",hp(n)),this.gs.getDocumentsMatchingQuery(e,n,nf.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="LocalStore",_ve=3e8;class wve{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new li(Tn),this.Ms=new _h((a=>qC(a)),zC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uve(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function Ave(t,e,n,r){return new wve(t,e,n,r)}async function Cq(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=Bn();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Bs:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function Sve(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const m=f.batch,g=m.keys();let y=ht.resolve();return g.forEach((E=>{y=y.next((()=>h.getEntry(c,E))).next((A=>{const S=f.docVersions.get(E);hr(S!==null,48541),A.version.compareTo(S)<0&&(m.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),h.addEntry(A)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Bn();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Iq(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function Nve(t,e){const n=mn(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach(((h,m)=>{const g=i.get(m);if(!g)return;l.push(n.hi.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.hi.addMatchingKeys(a,h.addedDocuments,m))));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Da.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),(function(A,S,I){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=_ve?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(g,y,h)&&l.push(n.hi.updateTargetData(a,y))}));let c=Mu(),f=Bn();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(Eve(a,s,e.documentUpdates).next((h=>{c=h.Ls,f=h.ks}))),!r.isEqual(fn.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next((m=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return ht.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.Fs=i,a)))}function Eve(t,e,n){let r=Bn(),i=Bn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=Mu();return n.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(fn.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):jt(QC,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Ls:s,ks:i}}))}function Tve(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=UC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Cve(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.hi.getTargetData(r,e).next((a=>a?(i=a,ht.resolve(i)):n.hi.allocateTargetId(r).next((s=>(i=new Bd(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function VE(t,e,n){const r=mn(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Pm(s))throw s;jt(QC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function FL(t,e,n){const r=mn(t);let i=fn.min(),a=Bn();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=mn(c),g=m.Ms.get(h);return g!==void 0?ht.resolve(m.Fs.get(g)):m.hi.getTargetData(f,h)})(r,s,Pc(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:fn.min(),n?a:Bn()))).next((l=>(Ive(r,m0e(e),l),{documents:l,qs:a})))))}function Ive(t,e,n){let r=t.xs.get(e)||fn.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.xs.set(e,r)}class UL{constructor(){this.activeTargetIds=_0e()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rve{constructor(){this.Fo=new UL,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new UL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="ConnectivityMonitor";class VL{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){jt(BL,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){jt(BL,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My=null;function qE(){return My===null?My=(function(){return 268435456+Math.round(2147483648*Math.random())})():My++,"0x"+My.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="RestConnection",Pve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ove{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===C1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=qE(),l=this.Go(e,n.toUriEncodedString());jt(MS,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:f}=new URL(l),h=mf(f);return this.jo(e,l,c,r,h).then((m=>(jt(MS,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw tf(MS,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}Jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Go(e,n){const r=Pve[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jve{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="WebChannelConnection";class Dve extends Ove{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const s=qE();return new Promise(((l,c)=>{const f=new kV;f.setWithCredentials(!0),f.listenOnce(PV.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case tx.NO_ERROR:const m=f.getResponseJson();jt(Za,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case tx.TIMEOUT:jt(Za,`RPC '${e}' ${s} timed out`),c(new Rt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case tx.HTTP_ERROR:const g=f.getStatus();if(jt(Za,`RPC '${e}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const A=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(P)>=0?P:ut.UNKNOWN})(E.status);c(new Rt(A,E.message))}else c(new Rt(ut.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Rt(ut.UNAVAILABLE,"Connection failed."));break;default:sn(9055,{c_:e,streamId:s,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{jt(Za,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);jt(Za,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}P_(e,n,r){const i=qE(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DV(),l=jV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");jt(Za,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);this.T_(m);let g=!1,y=!1;const E=new jve({Ho:S=>{y?jt(Za,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(jt(Za,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),jt(Za,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Yo:()=>m.close()}),A=(S,I,P)=>{S.listen(I,(F=>{try{P(F)}catch(B){setTimeout((()=>{throw B}),0)}}))};return A(m,Ug.EventType.OPEN,(()=>{y||(jt(Za,`RPC '${e}' stream ${i} transport opened.`),E.s_())})),A(m,Ug.EventType.CLOSE,(()=>{y||(y=!0,jt(Za,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(m))})),A(m,Ug.EventType.ERROR,(S=>{y||(y=!0,tf(Za,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.__(new Rt(ut.UNAVAILABLE,"The operation could not be completed")))})),A(m,Ug.EventType.MESSAGE,(S=>{var I;if(!y){const P=S.data[0];hr(!!P,16349);const F=P,B=(F==null?void 0:F.error)||((I=F[0])===null||I===void 0?void 0:I.error);if(B){jt(Za,`RPC '${e}' stream ${i} received error:`,B);const j=B.status;let V=(function(z){const H=Ui[z];if(H!==void 0)return gq(H)})(j),O=B.message;V===void 0&&(V=ut.INTERNAL,O="Unknown error status: "+j+" with message "+B.message),y=!0,E.__(new Rt(V,O)),m.close()}else jt(Za,`RPC '${e}' stream ${i} received:`,P),E.a_(P)}})),A(l,OV.STAT_EVENT,(S=>{S.stat===RE.PROXY?jt(Za,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===RE.NOPROXY&&jt(Za,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.o_()}),0),E}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function LS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){return new U0e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&jt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="PersistentStream";class kq{constructor(e,n,r,i,a,s,l,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Rq(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ut.RESOURCE_EXHAUSTED?(Du(n.toString()),Du("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===n&&this.W_(r,i)}),(r=>{e((()=>{const i=new Rt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return jt(qL,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(jt(qL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mve extends kq{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=q0e(this.serializer,e),r=(function(a){if(!("targetChange"in a))return fn.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?fn.min():s.readTime?Oc(s.readTime):fn.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=BE(this.serializer),n.addTarget=(function(a,s){let l;const c=s.target;if(l=DE(c)?{documents:H0e(a,c)}:{query:G0e(a,c).Vt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=xq(a,s.resumeToken);const f=LE(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(fn.min())>0){l.readTime=j1(a,s.snapshotVersion.toTimestamp());const f=LE(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=K0e(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=BE(this.serializer),n.removeTarget=e,this.k_(n)}}class Lve extends kq{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return hr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){hr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=$0e(e.writeResults,e.commitTime),r=Oc(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=BE(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>z0e(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fve{}class Uve extends Fve{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Rt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,FE(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Rt(ut.UNKNOWN,a.toString())}))}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Jo(e,FE(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rt(ut.UNKNOWN,s.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Bve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Du(n),this._a=!1):jt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="RemoteStore";class Vve{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((s=>{r.enqueueAndForget((async()=>{wh(this)&&(jt(fh,"Restarting streams for network reachability change."),await(async function(c){const f=mn(c);f.Ia.add(4),await yv(f),f.Aa.set("Unknown"),f.Ia.delete(4),await zb(f)})(this))}))})),this.Aa=new Bve(r,i)}}async function zb(t){if(wh(t))for(const e of t.da)await e(!0)}async function yv(t){for(const e of t.da)await e(!1)}function Pq(t,e){const n=mn(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),nI(n)?tI(n):jm(n).x_()&&eI(n,e))}function ZC(t,e){const n=mn(t),r=jm(n);n.Ta.delete(e),r.x_()&&Oq(n,e),n.Ta.size===0&&(r.x_()?r.B_():wh(n)&&n.Aa.set("Unknown"))}function eI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jm(t).H_(e)}function Oq(t,e){t.Ra.$e(e),jm(t).Y_(e)}function tI(t){t.Ra=new D0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),jm(t).start(),t.Aa.aa()}function nI(t){return wh(t)&&!jm(t).M_()&&t.Ta.size>0}function wh(t){return mn(t).Ia.size===0}function jq(t){t.Ra=void 0}async function qve(t){t.Aa.set("Online")}async function zve(t){t.Ta.forEach(((e,n)=>{eI(t,e)}))}async function $ve(t,e){jq(t),nI(t)?(t.Aa.la(e),tI(t)):t.Aa.set("Unknown")}async function Hve(t,e,n){if(t.Aa.set("Online"),e instanceof yq&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(r){jt(fh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await M1(t,r)}else if(e instanceof ax?t.Ra.Ye(e):e instanceof vq?t.Ra.it(e):t.Ra.et(e),!n.isEqual(fn.min()))try{const r=await Iq(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Ra.Pt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(f);h&&a.Ta.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Da.EMPTY_BYTE_STRING,h.snapshotVersion)),Oq(a,c);const m=new Bd(h.target,c,f,h.sequenceNumber);eI(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){jt(fh,"Failed to raise snapshot:",r),await M1(t,r)}}async function M1(t,e,n){if(!Pm(e))throw e;t.Ia.add(1),await yv(t),t.Aa.set("Offline"),n||(n=()=>Iq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{jt(fh,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await zb(t)}))}function Dq(t,e){return e().catch((n=>M1(t,n,e)))}async function $b(t){const e=mn(t),n=of(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:UC;for(;Gve(e);)try{const i=await Tve(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Wve(e,i)}catch(i){await M1(e,i)}Mq(e)&&Lq(e)}function Gve(t){return wh(t)&&t.Pa.length<10}function Wve(t,e){t.Pa.push(e);const n=of(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Mq(t){return wh(t)&&!of(t).M_()&&t.Pa.length>0}function Lq(t){of(t).start()}async function Kve(t){of(t).na()}async function Yve(t){const e=of(t);for(const n of t.Pa)e.X_(n.mutations)}async function Jve(t,e,n){const r=t.Pa.shift(),i=GC.from(r,e,n);await Dq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await $b(t)}async function Xve(t,e){e&&of(t).Z_&&await(async function(r,i){if((function(s){return O0e(s)&&s!==ut.ABORTED})(i.code)){const a=r.Pa.shift();of(r).N_(),await Dq(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await $b(r)}})(t,e),Mq(t)&&Lq(t)}async function zL(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),jt(fh,"RemoteStore received new credentials");const r=wh(n);n.Ia.add(3),await yv(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await zb(n)}async function Qve(t,e){const n=mn(t);e?(n.Ia.delete(2),await zb(n)):e||(n.Ia.add(2),await yv(n),n.Aa.set("Unknown"))}function jm(t){return t.Va||(t.Va=(function(n,r,i){const a=mn(n);return a.ia(),new Mve(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:qve.bind(null,t),e_:zve.bind(null,t),n_:$ve.bind(null,t),J_:Hve.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),nI(t)?tI(t):t.Aa.set("Unknown")):(await t.Va.stop(),jq(t))}))),t.Va}function of(t){return t.ma||(t.ma=(function(n,r,i){const a=mn(n);return a.ia(),new Lve(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Kve.bind(null,t),n_:Xve.bind(null,t),ea:Yve.bind(null,t),ta:Jve.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await $b(t)):(await t.ma.stop(),t.Pa.length>0&&(jt(fh,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Yd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new rI(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iI(t,e){if(Du("AsyncQueue",`${e}: ${t}`),Pm(t))return new Rt(ut.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static emptySet(e){return new Mp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Kt.comparator(n.key,r.key):(n,r)=>Kt.comparator(n.key,r.key),this.keyedMap=Bg(),this.sortedSet=new li(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.fa=new li(Kt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):sn(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mm{constructor(e,n,r,i,a,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new mm(e,n,Mp.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zve{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class eye{constructor(){this.queries=HL(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=mn(n),a=i.queries;i.queries=HL(),a.forEach(((s,l)=>{for(const c of l.wa)c.onError(r)}))})(this,new Rt(ut.ABORTED,"Firestore shutting down"))}}function HL(){return new _h((t=>iq(t)),Mb)}async function Fq(t,e){const n=mn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new Zve,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=iI(s,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&aI(n)}async function Uq(t,e){const n=mn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tye(t,e){const n=mn(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.wa)l.Ca(i)&&(r=!0);s.ya=i}}r&&aI(n)}function nye(t,e,n){const r=mn(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function aI(t){t.Da.forEach((e=>{e.next()}))}var zE,GL;(GL=zE||(zE={})).Fa="default",GL.Cache="cache";class Bq{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==zE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.key=e}}class qq{constructor(e){this.key=e}}class rye{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Bn(),this.mutatedKeys=Bn(),this.Xa=aq(e),this.eu=new Mp(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new $L,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const g=i.get(h),y=Lb(this.query,m)?m:null,E=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;g&&y?g.data.isEqual(y.data)?E!==A&&(r.track({type:3,doc:y}),S=!0):this.iu(g,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Xa(y,c)>0||f&&this.Xa(y,f)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(c||f)&&(l=!0)),S&&(y?(s=s.add(y),a=A?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort(((h,m)=>(function(y,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn(20277,{At:S})}};return A(y)-A(E)})(h.type,m.type)||this.Xa(h.doc,m.doc))),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,f=c!==this.Ya;return this.Ya=c,s.length!==0||f?{snapshot:new mm(this.query,e.eu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $L,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Bn(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new qq(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new Vq(r))})),n}uu(e){this.Ha=e.qs,this.Za=Bn();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return mm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const sI="SyncEngine";class iye{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aye{constructor(e){this.key=e,this.lu=!1}}class sye{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new _h((l=>iq(l)),Mb),this.Tu=new Map,this.Iu=new Set,this.du=new li(Kt.comparator),this.Eu=new Map,this.Au=new YC,this.Ru={},this.Vu=new Map,this.mu=pm.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function oye(t,e,n=!0){const r=Kq(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await zq(r,e,n,!0),i}async function lye(t,e){const n=Kq(t);await zq(n,e,!0,!1)}async function zq(t,e,n,r){const i=await Cve(t.localStore,Pc(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await cye(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Pq(t.remoteStore,i),l}async function cye(t,e,n,r,i){t.gu=(m,g,y)=>(async function(A,S,I,P){let F=S.view.nu(I);F.Ds&&(F=await FL(A.localStore,S.query,!1).then((({documents:O})=>S.view.nu(O,F))));const B=P&&P.targetChanges.get(S.targetId),j=P&&P.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(F,A.isPrimaryClient,B,j);return KL(A,S.targetId,V._u),V.snapshot})(t,m,g,y);const a=await FL(t.localStore,e,!0),s=new rye(e,a.qs),l=s.nu(a.documents),c=vv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);KL(t,n,f._u);const h=new iye(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function uye(t,e,n){const r=mn(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter((s=>!Mb(s,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await VE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZC(r.remoteStore,i.targetId),$E(r,i.targetId)})).catch(km)):($E(r,i.targetId),await VE(r.localStore,i.targetId,!0))}async function dye(t,e){const n=mn(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZC(n.remoteStore,r.targetId))}async function fye(t,e,n){const r=xye(t);try{const i=await(function(s,l){const c=mn(s),f=Kr.now(),h=l.reduce(((y,E)=>y.add(E.key)),Bn());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let E=Mu(),A=Bn();return c.Os.getEntries(y,h).next((S=>{E=S,E.forEach(((I,P)=>{P.isValidDocument()||(A=A.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,E))).next((S=>{m=S;const I=[];for(const P of l){const F=C0e(P,m.get(P.key).overlayedDocument);F!=null&&I.push(new yf(P.key,F,JV(F.value.mapValue),Ss.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,I,l)})).next((S=>{g=S;const I=S.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(y,S.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:oq(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.Ru[s.currentUser.toKey()];f||(f=new li(Tn)),f=f.insert(l,c),s.Ru[s.currentUser.toKey()]=f})(r,i.batchId,n),await xv(r,i.changes),await $b(r.remoteStore)}catch(i){const a=iI(i,"Failed to persist write");n.reject(a)}}async function $q(t,e){const n=mn(t);try{const r=await Nve(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Eu.get(a);s&&(hr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?hr(s.lu,14607):i.removedDocuments.size>0&&(hr(s.lu,42227),s.lu=!1))})),await xv(n,r,e)}catch(r){await km(r)}}function WL(t,e,n){const r=mn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=mn(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,m)=>{for(const g of m.wa)g.va(l)&&(f=!0)})),f&&aI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hye(t,e,n){const r=mn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new li(Kt.comparator);s=s.insert(a,is.newNoDocument(a,fn.min()));const l=Bn().add(a),c=new Vb(fn.min(),new Map,new li(Tn),s,l);await $q(r,c),r.du=r.du.remove(a),r.Eu.delete(e),oI(r)}else await VE(r.localStore,e,!1).then((()=>$E(r,e,n))).catch(km)}async function pye(t,e){const n=mn(t),r=e.batch.batchId;try{const i=await Sve(n.localStore,e);Gq(n,r,null),Hq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xv(n,i)}catch(i){await km(i)}}async function mye(t,e,n){const r=mn(t);try{const i=await(function(s,l){const c=mn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((m=>(hr(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);Gq(r,e,n),Hq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xv(r,i)}catch(i){await km(i)}}function Hq(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function Gq(t,e,n){const r=mn(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function $E(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||Wq(t,r)}))}function Wq(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ZC(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),oI(t))}function KL(t,e,n){for(const r of n)r instanceof Vq?(t.Au.addReference(r.key,e),gye(t,r)):r instanceof qq?(jt(sI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Wq(t,r.key)):sn(19791,{yu:r})}function gye(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(jt(sI,"New document in limbo: "+n),t.Iu.add(r),oI(t))}function oI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Kt(Br.fromString(e)),r=t.mu.next();t.Eu.set(r,new aye(n)),t.du=t.du.insert(n,r),Pq(t.remoteStore,new Bd(Pc($C(n.path)),r,"TargetPurposeLimboResolution",Ob.ue))}}async function xv(t,e,n){const r=mn(t),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach(((l,c)=>{s.push(r.gu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=XC.Es(c.targetId,f);a.push(m)}})))})),await Promise.all(s),r.hu.J_(i),await(async function(c,f){const h=mn(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ht.forEach(f,(g=>ht.forEach(g.Is,(y=>h.persistence.referenceDelegate.addReference(m,g.targetId,y))).next((()=>ht.forEach(g.ds,(y=>h.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))))))}catch(m){if(!Pm(m))throw m;jt(QC,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const y=h.Fs.get(g),E=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(E);h.Fs=h.Fs.insert(g,A)}}})(r.localStore,a))}async function vye(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){jt(sI,"User change. New user:",e.toKey());const r=await Cq(n.localStore,e);n.currentUser=e,(function(a,s){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Rt(ut.CANCELLED,s))}))})),a.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xv(n,r.Bs)}}function yye(t,e){const n=mn(t),r=n.Eu.get(e);if(r&&r.lu)return Bn().add(r.key);{let i=Bn();const a=n.Tu.get(e);if(!a)return i;for(const s of a){const l=n.Pu.get(s);i=i.unionWith(l.view.tu)}return i}}function Kq(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$q.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hye.bind(null,e),e.hu.J_=tye.bind(null,e.eventManager),e.hu.pu=nye.bind(null,e.eventManager),e}function xye(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pye.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mye.bind(null,e),e}class L1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Ave(this.persistence,new bve,e.initialUser,this.serializer)}Du(e){return new Tq(JC.Vi,this.serializer)}bu(e){return new Rve}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}L1.provider={build:()=>new L1};class bye extends L1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){hr(this.persistence.referenceDelegate instanceof D1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ave(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new Tq((r=>D1.Vi(r,n)),this.serializer)}}class HE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vye.bind(null,this.syncEngine),await Qve(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eye})()}createDatastore(e){const n=qb(e.databaseInfo.databaseId),r=(function(a){return new Dve(a)})(e.databaseInfo);return(function(a,s,l,c){return new Uve(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new Vve(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>WL(this.syncEngine,n,0)),(function(){return VL.C()?new VL:new kve})())}createSyncEngine(e,n){return(function(i,a,s,l,c,f,h){const m=new sye(i,a,s,l,c,f);return h&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=mn(i);jt(fh,"RemoteStore shutting down."),a.Ia.add(5),await yv(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}HE.provider={build:()=>new HE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Du("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="FirestoreClient";class _ye{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{jt(lf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(jt(lf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function FS(t,e){t.asyncQueue.verifyOperationInProgress(),jt(lf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Cq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{tf("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{jt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{tf("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function YL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wye(t);jt(lf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>zL(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>zL(e.remoteStore,i))),t._onlineComponents=e}async function wye(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){jt(lf,"Using user provided OfflineComponentProvider");try{await FS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ut.FAILED_PRECONDITION||i.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;tf("Error using user provided cache. Falling back to memory cache: "+n),await FS(t,new L1)}}else jt(lf,"Using default OfflineComponentProvider"),await FS(t,new bye(void 0));return t._offlineComponents}async function Jq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(jt(lf,"Using user provided OnlineComponentProvider"),await YL(t,t._uninitializedComponentsProvider._online)):(jt(lf,"Using default OnlineComponentProvider"),await YL(t,new HE))),t._onlineComponents}function Aye(t){return Jq(t).then((e=>e.syncEngine))}async function GE(t){const e=await Jq(t),n=e.eventManager;return n.onListen=oye.bind(null,e.syncEngine),n.onUnlisten=uye.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lye.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dye.bind(null,e.syncEngine),n}function Sye(t,e,n={}){const r=new Yd;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,f){const h=new Yq({next:g=>{h.Ou(),s.enqueueAndForget((()=>Uq(a,m))),g.fromCache&&c.source==="server"?f.reject(new Rt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new Bq(l,h,{includeMetadataChanges:!0,ka:!0});return Fq(a,m)})(await GE(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="firestore.googleapis.com",XL=!0;class QL{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qq,this.ssl=XL}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rve)throw new Rt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Rt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Rt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Rt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pge;switch(r.type){case"firstParty":return new Mge(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=JL.get(n);r&&(jt("ComponentProvider","Removing Datastore"),JL.delete(n),r.terminate())})(this),Promise.resolve()}}function Nye(t,e,n,r={}){var i;t=xo(t,Hb);const a=mf(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(AC(`https://${c}`),SC("Firestore",!0)),s.host!==Qq&&s.host!==c&&tf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!lh(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=ts.MOCK_USER;else{h=HB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Rt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ts(g)}t._authCredentials=new Oge(new LV(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qu(this.firestore,e,this._query)}}class Ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}toJSON(){return{type:Ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mv(n,Ti._jsonSchema))return new Ti(e,r||null,new Kt(Br.fromString(n.referencePath)))}}Ti._jsonSchemaVersion="firestore/documentReference/1.0",Ti._jsonSchema={type:qi("string",Ti._jsonSchemaVersion),referencePath:qi("string")};class Jd extends qu{constructor(e,n,r){super(e,n,$C(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new Kt(e))}withConverter(e){return new Jd(this.firestore,e,this._path)}}function rr(t,e,...n){if(t=Jr(t),UV("collection","path",e),t instanceof Hb){const r=Br.fromString(e,...n);return dL(r),new Jd(t,null,r)}{if(!(t instanceof Ti||t instanceof Jd))throw new Rt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Br.fromString(e,...n));return dL(r),new Jd(t.firestore,null,r)}}function En(t,e,...n){if(t=Jr(t),arguments.length===1&&(e=FC.newId()),UV("doc","path",e),t instanceof Hb){const r=Br.fromString(e,...n);return uL(r),new Ti(t,null,new Kt(r))}{if(!(t instanceof Ti||t instanceof Jd))throw new Rt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Br.fromString(e,...n));return uL(r),new Ti(t.firestore,t instanceof Jd?t.converter:null,new Kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="AsyncQueue";class e8{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Rq(this,"async_queue_retry"),this.oc=()=>{const r=LS();r&&jt(ZL,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=LS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=LS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Yd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pm(e))throw e;jt(ZL,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Du("INTERNAL UNHANDLED ERROR: ",t8(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=rI.createAndSchedule(this,e,n,r,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&sn(47125,{hc:t8(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function t8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Lu extends Hb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new e8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e8(e),this._firestoreClient=void 0,await e}}}function Eye(t,e){const n=typeof t=="object"?t:TC(),r=typeof t=="string"?t:C1,i=Tb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=qB("firestore");a&&Nye(i,...a)}return i}function Gb(t){if(t._terminated)throw new Rt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Tye(t),t._firestoreClient}function Tye(t){var e,n,r;const i=t._freezeSettings(),a=(function(l,c,f,h){return new Zge(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Xq(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _ye(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Da.fromBase64String(e))}catch(n){throw new Rt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$o._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mv(e,$o._jsonSchema))return $o.fromBase64String(e.bytes)}}$o._jsonSchemaVersion="firestore/bytes/1.0",$o._jsonSchema={type:qi("string",$o._jsonSchemaVersion),bytes:qi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Rt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tn(this._lat,e._lat)||Tn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jc._jsonSchemaVersion}}static fromJSON(e){if(mv(e,jc._jsonSchema))return new jc(e.latitude,e.longitude)}}jc._jsonSchemaVersion="firestore/geoPoint/1.0",jc._jsonSchema={type:qi("string",jc._jsonSchemaVersion),latitude:qi("number"),longitude:qi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mv(e,Dc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Dc(e.vectorValues);throw new Rt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dc._jsonSchemaVersion="firestore/vectorValue/1.0",Dc._jsonSchema={type:qi("string",Dc._jsonSchemaVersion),vectorValues:qi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cye=/^__.*__$/;class Iye{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yf(e,this.data,this.fieldMask,n,this.fieldTransforms):new gv(e,this.data,n,this.fieldTransforms)}}class Zq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ez(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn(40011,{Ec:t})}}class cI{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return F1(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ez(this.Ec)&&Cye.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Rye{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qb(e)}Dc(e,n,r,i=!1){return new cI({Ec:e,methodName:n,bc:r,path:Pa.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _v(t){const e=t._freezeSettings(),n=qb(t._databaseId);return new Rye(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uI(t,e,n,r,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);dI("Data must be an object, but it was:",s,r);const l=rz(r,s);let c,f;if(a.merge)c=new vo(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const g=WE(e,m,n);if(!s.contains(g))throw new Rt(ut.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);az(h,g)||h.push(g)}c=new vo(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new Iye(new zs(l),c,f)}class Wb extends lI{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wb}}function tz(t,e,n,r){const i=t.Dc(1,e,n);dI("Data must be an object, but it was:",i,r);const a=[],s=zs.empty();vf(r,((c,f)=>{const h=fI(e,c,n);f=Jr(f);const m=i.gc(h);if(f instanceof Wb)a.push(h);else{const g=wv(f,m);g!=null&&(a.push(h),s.set(h,g))}}));const l=new vo(a);return new Zq(s,l,i.fieldTransforms)}function nz(t,e,n,r,i,a){const s=t.Dc(1,e,n),l=[WE(e,r,n)],c=[i];if(a.length%2!=0)throw new Rt(ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(WE(e,a[g])),c.push(a[g+1]);const f=[],h=zs.empty();for(let g=l.length-1;g>=0;--g)if(!az(f,l[g])){const y=l[g];let E=c[g];E=Jr(E);const A=s.gc(y);if(E instanceof Wb)f.push(y);else{const S=wv(E,A);S!=null&&(f.push(y),h.set(y,S))}}const m=new vo(f);return new Zq(h,m,s.fieldTransforms)}function kye(t,e,n,r=!1){return wv(n,t.Dc(r?4:3,e))}function wv(t,e){if(iz(t=Jr(t)))return dI("Unsupported field value:",e,t),rz(t,e);if(t instanceof lI)return(function(r,i){if(!ez(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=wv(l,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w0e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Kr.fromDate(r);return{timestampValue:j1(i.serializer,a)}}if(r instanceof Kr){const a=new Kr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:j1(i.serializer,a)}}if(r instanceof jc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:xq(i.serializer,r._byteString)};if(r instanceof Ti){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:KC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dc)return(function(s,l){return{mapValue:{fields:{[KV]:{stringValue:YV},[I1]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw l.wc("VectorValues must only contain numeric values.");return HC(l.serializer,f)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Pb(r)}`)})(t,e)}function rz(t,e){const n={};return qV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vf(t,((r,i)=>{const a=wv(i,e.Vc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function iz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof jc||t instanceof $o||t instanceof Ti||t instanceof lI||t instanceof Dc)}function dI(t,e,n){if(!iz(n)||!BV(n)){const r=Pb(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function WE(t,e,n){if((e=Jr(e))instanceof bv)return e._internalPath;if(typeof e=="string")return fI(t,e);throw F1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pye=new RegExp("[~\\*/\\[\\]]");function fI(t,e,n){if(e.search(Pye)>=0)throw F1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bv(...e.split("."))._internalPath}catch{throw F1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function F1(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Rt(ut.INVALID_ARGUMENT,l+t+c)}function az(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Oye extends sz{data(){return super.data()}}function hI(t,e){return typeof e=="string"?fI(t,e):e instanceof bv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Rt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{}class mI extends pI{}function lz(t,e,...n){let r=[];e instanceof pI&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof vI)).length,l=a.filter((c=>c instanceof gI)).length;if(s>1||s>0&&l>0)throw new Rt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class gI extends mI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gI(e,n,r)}_apply(e){const n=this._parse(e);return uz(e._query,n),new qu(e.firestore,e.converter,ME(e._query,n))}_parse(e){const n=_v(e.firestore);return(function(a,s,l,c,f,h,m){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Rt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){i8(m,h);const E=[];for(const A of m)E.push(r8(c,a,A));g={arrayValue:{values:E}}}else g=r8(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||i8(m,h),g=kye(l,s,m,h==="in"||h==="not-in");return Vi.create(f,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vI extends pI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Dl.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)uz(s,c),s=ME(s,c)})(e._query,n),new qu(e.firestore,e.converter,ME(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yI extends mI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yI(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new Rt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Rt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Z0(a,s)})(e._query,this._field,this._direction);return new qu(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new Om(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function jye(t,e="asc"){const n=e,r=hI("orderBy",t);return yI._create(r,n)}class xI extends mI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new xI(e,n,r)}_apply(e){return new qu(e.firestore,e.converter,k1(e._query,this._limit,this._limitType))}}function cz(t){return qge("limit",t),xI._create("limit",t,"F")}function r8(t,e,n){if(typeof(n=Jr(n))=="string"){if(n==="")throw new Rt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rq(e)&&n.indexOf("/")!==-1)throw new Rt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Br.fromString(n));if(!Kt.isDocumentKey(r))throw new Rt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xL(t,new Kt(r))}if(n instanceof Ti)return xL(t,n._key);throw new Rt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pb(n)}.`)}function i8(t,e){if(!Array.isArray(t)||t.length===0)throw new Rt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uz(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Rt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Rt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dye{convertValue(e,n="none"){switch(sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(af(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw sn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[I1].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((s=>Ai(s.doubleValue)));return new Dc(a)}convertGeoPoint(e){return new jc(Ai(e.latitude),Ai(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Db(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(J0(e));default:return null}}convertTimestamp(e){const n=rf(e);return new Kr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Br.fromString(e);hr(Nq(r),9688,{name:e});const i=new X0(r.get(1),r.get(3)),a=new Kt(r.popFirst(5));return i.isEqual(n)||Du(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eh extends sz{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eh._jsonSchemaVersion="firestore/documentSnapshot/1.0",eh._jsonSchema={type:qi("string",eh._jsonSchemaVersion),bundleSource:qi("string","DocumentSnapshot"),bundleName:qi("string"),bundle:qi("string")};class sx extends eh{data(e={}){return super.data(e)}}class th{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sx(this._firestore,this._userDataWriter,r.key,r,new qg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new sx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new qg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new sx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new qg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:Mye(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=th._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=FC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mye(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn(61501,{type:t})}}th._jsonSchemaVersion="firestore/querySnapshot/1.0",th._jsonSchema={type:qi("string",th._jsonSchemaVersion),bundleSource:qi("string","QuerySnapshot"),bundleName:qi("string"),bundle:qi("string")};class _I extends Dye{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,n)}}function wi(t){t=xo(t,qu);const e=xo(t.firestore,Lu),n=Gb(e),r=new _I(e);return oz(t._query),Sye(n,t._query).then((i=>new th(e,r,t,i)))}function Vo(t,e,n){t=xo(t,Ti);const r=xo(t.firestore,Lu),i=bI(t.converter,e,n);return Av(r,[uI(_v(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ss.none())])}function xs(t,e,n,...r){t=xo(t,Ti);const i=xo(t.firestore,Lu),a=_v(i);let s;return s=typeof(e=Jr(e))=="string"||e instanceof bv?nz(a,"updateDoc",t._key,e,n,r):tz(a,"updateDoc",t._key,e),Av(i,[s.toMutation(t._key,Ss.exists(!0))])}function Lye(t){return Av(xo(t.firestore,Lu),[new Bb(t._key,Ss.none())])}function KE(t,e){const n=xo(t.firestore,Lu),r=En(t),i=bI(t.converter,e);return Av(n,[uI(_v(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then((()=>r))}function Td(t,...e){var n,r,i;t=Jr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||n8(e[s])||(a=e[s++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(n8(e[s])){const m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,f,h;if(t instanceof Ti)f=xo(t.firestore,Lu),h=$C(t._key.path),c={next:m=>{e[s]&&e[s](Fye(f,t,m))},error:e[s+1],complete:e[s+2]};else{const m=xo(t,qu);f=xo(m.firestore,Lu),h=m._query;const g=new _I(f);c={next:y=>{e[s]&&e[s](new th(f,g,m,y))},error:e[s+1],complete:e[s+2]},oz(t._query)}return(function(g,y,E,A){const S=new Yq(A),I=new Bq(y,S,E);return g.asyncQueue.enqueueAndForget((async()=>Fq(await GE(g),I))),()=>{S.Ou(),g.asyncQueue.enqueueAndForget((async()=>Uq(await GE(g),I)))}})(Gb(f),h,l,c)}function Av(t,e){return(function(r,i){const a=new Yd;return r.asyncQueue.enqueueAndForget((async()=>fye(await Aye(r),i,a))),a.promise})(Gb(t),e)}function Fye(t,e,n){const r=n.docs.get(e._key),i=new _I(t);return new eh(t,i,e._key,r,new qg(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uye{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_v(e)}set(e,n,r){this._verifyNotCommitted();const i=US(e,this._firestore),a=bI(i.converter,n,r),s=uI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ss.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=US(e,this._firestore);let s;return s=typeof(n=Jr(n))=="string"||n instanceof bv?nz(this._dataReader,"WriteBatch.update",a._key,n,r,i):tz(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=US(e,this._firestore);return this._mutations=this._mutations.concat(new Bb(n._key,Ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function US(t,e){if((t=Jr(t)).firestore!==e)throw new Rt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){return Gb(t=xo(t,Lu)),new Uye(t,(e=>Av(t,e)))}(function(e,n=!0){(function(i){Rm=i})(xh),ch(new ef("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Lu(new jge(r.getProvider("auth-internal")),new Lge(s,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Rt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new X0(f.options.projectId,h)})(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Ic(aL,sL,e),Ic(aL,sL,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="firebasestorage.googleapis.com",fz="storageBucket",Bye=120*1e3,Vye=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends qc{constructor(e,n,r=0){super(BS(e),`Firebase Storage: ${n} (${BS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return BS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vi||(vi={}));function BS(t){return"storage/"+t}function wI(){const t="An unknown error occurred, please check the error payload for server response.";return new yi(vi.UNKNOWN,t)}function qye(t){return new yi(vi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zye(t){return new yi(vi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $ye(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yi(vi.UNAUTHENTICATED,t)}function Hye(){return new yi(vi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gye(t){return new yi(vi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Wye(){return new yi(vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kye(){return new yi(vi.CANCELED,"User canceled the upload/download.")}function Yye(t){return new yi(vi.INVALID_URL,"Invalid URL '"+t+"'.")}function Jye(t){return new yi(vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Xye(){return new yi(vi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fz+"' property when initializing the app?")}function Qye(){return new yi(vi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zye(){return new yi(vi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function exe(t){return new yi(vi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function YE(t){return new yi(vi.INVALID_ARGUMENT,t)}function hz(){return new yi(vi.APP_DELETED,"The Firebase app was deleted.")}function txe(t){return new yi(vi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function i0(t,e){return new yi(vi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ig(t){throw new yi(vi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yo.makeFromUrl(e,n)}catch{return new yo(e,"")}if(r.path==="")return r;throw Jye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},A=n===dz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",I=new RegExp(`^https?://${A}/${i}/${S}`,"i"),F=[{regex:l,indices:c,postModify:a},{regex:y,indices:E,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<F.length;B++){const j=F[B],V=j.regex.exec(e);if(V){const O=V[j.indices.bucket];let D=V[j.indices.path];D||(D=""),r=new yo(O,D),j.postModify(r);break}}if(r==null)throw Yye(e);return r}}class nxe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rxe(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let f=!1;function h(...S){f||(f=!0,e.apply(null,S))}function m(S){i=setTimeout(()=>{i=null,t(y,c())},S)}function g(){a&&clearTimeout(a)}function y(S,...I){if(f){g();return}if(S){g(),h.call(null,S,...I);return}if(c()||s){g(),h.call(null,S,...I);return}r<64&&(r*=2);let F;l===1?(l=2,F=0):F=(r+Math.random())*1e3,m(F)}let E=!1;function A(S){E||(E=!0,g(),!f&&(i!==null?(S||(l=2),clearTimeout(i),m(0)):S||(l=1)))}return m(0),a=setTimeout(()=>{s=!0,A(!0)},n),A}function ixe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function axe(t){return t!==void 0}function sxe(t){return typeof t=="object"&&!Array.isArray(t)}function AI(t){return typeof t=="string"||t instanceof String}function a8(t){return SI()&&t instanceof Blob}function SI(){return typeof Blob<"u"}function s8(t,e,n,r){if(r<e)throw YE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nh||(nh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oxe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,n,r,i,a,s,l,c,f,h,m,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ly(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===nh.NO_ERROR,c=a.getStatus();if(!l||oxe(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===nh.ABORT;r(!1,new Ly(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Ly(f,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());axe(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=wI();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?hz():Kye();s(c)}else{const c=Wye();s(c)}};this.canceled_?n(!1,new Ly(!1,null,!0)):this.backoffId_=rxe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ixe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ly{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cxe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uxe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dxe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fxe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hxe(t,e,n,r,i,a,s=!0,l=!1){const c=pz(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return dxe(h,e),cxe(h,n),uxe(h,a),fxe(h,r),new lxe(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pxe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mxe(...t){const e=pxe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(SI())return new Blob(t);throw new yi(vi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gxe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vxe(t){if(typeof atob>"u")throw exe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VS{constructor(e,n){this.data=e,this.contentType=n||null}}function yxe(t,e){switch(t){case Sc.RAW:return new VS(mz(e));case Sc.BASE64:case Sc.BASE64URL:return new VS(gz(t,e));case Sc.DATA_URL:return new VS(bxe(e),_xe(e))}throw wI()}function mz(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xxe(t){let e;try{e=decodeURIComponent(t)}catch{throw i0(Sc.DATA_URL,"Malformed data URL.")}return mz(e)}function gz(t,e){switch(t){case Sc.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw i0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sc.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw i0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vxe(e)}catch(i){throw i.message.includes("polyfill")?i:i0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class vz{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw i0(Sc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=wxe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function bxe(t){const e=new vz(t);return e.base64?gz(Sc.BASE64,e.rest):xxe(e.rest)}function _xe(t){return new vz(t).contentType}function wxe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){let r=0,i="";a8(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(a8(this.data_)){const r=this.data_,i=gxe(r,e,n);return i===null?null:new Md(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Md(r,!0)}}static getBlob(...e){if(SI()){const n=e.map(r=>r instanceof Md?r.data_:r);return new Md(mxe.apply(null,n))}else{const n=e.map(s=>AI(s)?yxe(Sc.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Md(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){let e;try{e=JSON.parse(t)}catch{return null}return sxe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Axe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sxe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nxe(t,e){return e}class bs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Nxe}}let Fy=null;function Exe(t){return!AI(t)||t.length<2?t:xz(t)}function bz(){if(Fy)return Fy;const t=[];t.push(new bs("bucket")),t.push(new bs("generation")),t.push(new bs("metageneration")),t.push(new bs("name","fullPath",!0));function e(a,s){return Exe(s)}const n=new bs("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new bs("size");return i.xform=r,t.push(i),t.push(new bs("timeCreated")),t.push(new bs("updated")),t.push(new bs("md5Hash",null,!0)),t.push(new bs("cacheControl",null,!0)),t.push(new bs("contentDisposition",null,!0)),t.push(new bs("contentEncoding",null,!0)),t.push(new bs("contentLanguage",null,!0)),t.push(new bs("contentType",null,!0)),t.push(new bs("metadata","customMetadata",!0)),Fy=t,Fy}function Txe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new yo(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Cxe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return Txe(r,t),r}function _z(t,e,n){const r=yz(e);return r===null?null:Cxe(t,r,n)}function Ixe(t,e,n,r){const i=yz(e);if(i===null||!AI(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,m=t.fullPath,g="/b/"+s(h)+"/o/"+s(m),y=NI(g,n,r),E=pz({alt:"media",token:f});return y+E})[0]}function Rxe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class wz{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){if(!t)throw wI()}function kxe(t,e){function n(r,i){const a=_z(t,i,e);return Az(a!==null),a}return n}function Pxe(t,e){function n(r,i){const a=_z(t,i,e);return Az(a!==null),Ixe(a,i,t.host,t._protocol)}return n}function Sz(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Hye():i=$ye():n.getStatus()===402?i=zye(t.bucket):n.getStatus()===403?i=Gye(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Oxe(t){const e=Sz(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=qye(t.path)),a.serverResponse=i.serverResponse,a}return n}function jxe(t,e,n){const r=e.fullServerUrl(),i=NI(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new wz(i,a,Pxe(t,n),s);return l.errorHandler=Oxe(e),l}function Dxe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Mxe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Dxe(null,e)),r}function Lxe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let F="";for(let B=0;B<2;B++)F=F+Math.random().toString().slice(2);return F}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const f=Mxe(e,r,i),h=Rxe(f,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=Md.getBlob(m,r,g);if(y===null)throw Qye();const E={name:f.fullPath},A=NI(a,t.host,t._protocol),S="POST",I=t.maxUploadRetryTime,P=new wz(A,S,kxe(t,n),I);return P.urlParams=E,P.headers=s,P.body=y.uploadData(),P.errorHandler=Sz(e),P}class Fxe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Ig("cannot .send() more than once");if(mf(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ig("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ig("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ig("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Uxe extends Fxe{initXhr(){this.xhr_.responseType="text"}}function Nz(){return new Uxe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this._service=e,n instanceof yo?this._location=n:this._location=yo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hh(e,n)}get root(){const e=new yo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xz(this._location.path)}get storage(){return this._service}get parent(){const e=Axe(this._location.path);if(e===null)return null;const n=new yo(this._location.bucket,e);return new hh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw txe(e)}}function Bxe(t,e,n){t._throwIfRoot("uploadBytes");const r=Lxe(t.storage,t._location,bz(),new Md(e,!0),n);return t.storage.makeRequestWithTokens(r,Nz).then(i=>({metadata:i,ref:t}))}function Vxe(t){t._throwIfRoot("getDownloadURL");const e=jxe(t.storage,t._location,bz());return t.storage.makeRequestWithTokens(e,Nz).then(n=>{if(n===null)throw Zye();return n})}function qxe(t,e){const n=Sxe(t._location.path,e),r=new yo(t._location.bucket,n);return new hh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zxe(t){return/^[A-Za-z]+:\/\//.test(t)}function $xe(t,e){return new hh(t,e)}function Ez(t,e){if(t instanceof EI){const n=t;if(n._bucket==null)throw Xye();const r=new hh(n,n._bucket);return e!=null?Ez(r,e):r}else return e!==void 0?qxe(t,e):t}function Hxe(t,e){if(e&&zxe(e)){if(t instanceof EI)return $xe(t,e);throw YE("To use ref(service, url), the first argument must be a Storage instance.")}else return Ez(t,e)}function o8(t,e){const n=e==null?void 0:e[fz];return n==null?null:yo.makeFromBucketSpec(n,t)}function Gxe(t,e,n,r={}){t.host=`${e}:${n}`;const i=mf(e);i&&(AC(`https://${t.host}/b`),SC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:HB(a,t.app.options.projectId))}class EI{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=dz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bye,this._maxUploadRetryTime=Vye,this._requests=new Set,i!=null?this._bucket=yo.makeFromBucketSpec(i,this._host):this._bucket=o8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yo.makeFromBucketSpec(this._url,e):this._bucket=o8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s8("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s8("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new nxe(hz());{const s=hxe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const l8="@firebase/storage",c8="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="storage";function Wxe(t,e,n){return t=Jr(t),Bxe(t,e,n)}function Kxe(t){return t=Jr(t),Vxe(t)}function Yxe(t,e){return t=Jr(t),Hxe(t,e)}function Jxe(t=TC(),e){t=Jr(t);const r=Tb(t,Tz).getImmediate({identifier:e}),i=qB("storage");return i&&Xxe(r,...i),r}function Xxe(t,e,n,r={}){Gxe(t,e,n,r)}function Qxe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new EI(n,r,i,e,xh)}function Zxe(){ch(new ef(Tz,Qxe,"PUBLIC").setMultipleInstances(!0)),Ic(l8,c8,""),Ic(l8,c8,"esm2017")}Zxe();const Uy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AI_API_KEY:"AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",VITE_EVOLUTION_API_KEY:"",VITE_EVOLUTION_API_URL:"",VITE_EVOLUTION_INSTANCE:"",VITE_FIREBASE_API_KEY:"AIzaSyD5cALBG9ZCoptVK2A8_mCYsVSOE6y6vV4",VITE_FIREBASE_APP_ID:"1:389741054647:web:9f2873c8392c01c9135b32",VITE_FIREBASE_AUTH_DOMAIN:"gestfri.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"389741054647",VITE_FIREBASE_PROJECT_ID:"gestfri",VITE_FIREBASE_STORAGE_BUCKET:"gestfri.firebasestorage.app",VITE_OFFLINE_MODE:"false",VITE_SHEETS_WEBAPP_URL:"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"};var u8={};const cp=t=>{if(typeof process<"u"&&u8[t])return u8[t];if(typeof import.meta<"u"&&(Uy!=null&&Uy[t]))return Uy[t]},JE={apiKey:cp("VITE_FIREBASE_API_KEY"),authDomain:cp("VITE_FIREBASE_AUTH_DOMAIN"),projectId:cp("VITE_FIREBASE_PROJECT_ID"),storageBucket:cp("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:cp("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:cp("VITE_FIREBASE_APP_ID")},Cz=JE.apiKey&&JE.projectId;Cz||console.warn(" Firebase configuration not found. Please set environment variables.");const gm=Cz?KB(JE):null,Vd=gm?Rge(gm):null,xt=gm?Eye(gm):null,d8=gm?Jxe(gm):null,e1e=({onLoginSuccess:t})=>{const[e,n]=ye.useState(""),[r,i]=ye.useState(""),[a,s]=ye.useState(!1),[l,c]=ye.useState(!1),[f,h]=ye.useState(null),[m,g]=ye.useState(!1);ye.useEffect(()=>{const A=localStorage.getItem("fg_saved_email"),S=localStorage.getItem("fg_saved_password");A&&(n(A),s(!0),S&&i(S)),window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(I=>g(I))},[]),ye.useEffect(()=>{f&&h(null)},[e,r]);const y=async A=>{var S;A.preventDefault(),c(!0),h(null);try{if(!Vd)throw new Error("FIREBASE_CORE_OFFLINE");await KM(Vd,e.trim(),r),a?(localStorage.setItem("fg_saved_email",e),localStorage.setItem("fg_saved_password",r)):(localStorage.removeItem("fg_saved_email"),localStorage.removeItem("fg_saved_password")),t()}catch(I){console.error(I),h((S=I.code)!=null&&S.includes("auth/")?"CREDENCIAIS INVLIDAS":"ERRO DE PROTOCOLO DE REDE")}finally{c(!1)}},E=async()=>{c(!0),h(null);try{const A=localStorage.getItem("fg_saved_email"),S=localStorage.getItem("fg_saved_password");if(!A||!S){h("Faa login normal primeiro para habilitar biometria"),c(!1);return}const I={challenge:new Uint8Array(32),rpId:window.location.hostname,timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:I}),!Vd)throw new Error("FIREBASE_CORE_OFFLINE");await KM(Vd,A,S),t()}catch(A){console.error(A),h("Autenticao biomtrica falhou. Use login normal.")}finally{c(!1)}};return d.jsxs("div",{className:"min-h-screen bg-[#fcfdff] technical-grid flex items-center justify-center p-6 relative overflow-hidden font-sans",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-100 rounded-full blur-[120px] opacity-40 animate-pulse"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-100 rounded-full blur-[120px] opacity-40 animate-pulse",style:{animationDelay:"1s"}}),d.jsx("div",{className:"bg-white/80 backdrop-blur-xl border border-white rounded-[48px] w-full max-w-lg shadow-[0_32px_64px_-16px_rgba(37,99,235,0.1)] relative overflow-hidden animate-reveal p-1",children:d.jsxs("div",{className:"p-10 md:p-14",children:[d.jsxs("div",{className:"mb-12 text-center md:text-left",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-600 rounded-full mb-6",children:[d.jsx(Lc,{size:14}),d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Acesso Restrito"})]}),d.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight text-slate-900 leading-none",children:["Frigo",d.jsx("span",{className:"text-blue-600",children:"Gest"}),d.jsx("span",{className:"text-emerald-500",children:"."})]}),d.jsx("p",{className:"text-sm font-medium text-slate-400 mt-4 leading-relaxed max-w-sm",children:"Entre com suas credenciais para gerenciar a inteligncia operacional do seu frigorfico."})]}),f&&d.jsxs("div",{className:"mb-8 border border-red-100 bg-red-50 p-4 rounded-2xl flex items-center gap-4 animate-reveal",children:[d.jsx(i9,{size:20,className:"text-red-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase tracking-widest",children:"Falha na Autenticao"}),d.jsx("p",{className:"text-xs font-bold text-red-800",children:f})]})]}),d.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"E-mail Corporativo"}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"email",required:!0,value:e,onChange:A=>n(A.target.value),placeholder:"ex: admin@sistema.com",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),d.jsx(fW,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Senha de Acesso"}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"password",required:!0,value:r,onChange:A=>i(A.target.value),placeholder:"",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),d.jsx(fx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),d.jsxs("div",{className:"flex items-center gap-3 px-1",children:[d.jsx("input",{type:"checkbox",id:"rememberMe",checked:a,onChange:A=>s(A.target.checked),className:"w-5 h-5 rounded-lg accent-blue-600 cursor-pointer"}),d.jsx("label",{htmlFor:"rememberMe",className:"text-xs font-bold text-slate-600 cursor-pointer select-none",children:"Lembrar minhas credenciais neste dispositivo"})]}),d.jsxs("div",{className:"pt-6 space-y-4",children:[d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-blue-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?d.jsx(Yf,{className:"animate-spin",size:20}):d.jsxs(d.Fragment,{children:[d.jsx(As,{size:18}),d.jsx("span",{children:"Acessar Painel"})]})}),m&&d.jsx("button",{type:"button",onClick:E,disabled:l,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-emerald-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?d.jsx(Yf,{className:"animate-spin",size:20}):d.jsxs(d.Fragment,{children:[d.jsx(LG,{size:20}),d.jsx(MW,{size:18}),d.jsx("span",{children:"Login Biomtrico"})]})}),d.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3 opacity-30",children:[d.jsx("div",{className:"h-px w-8 bg-slate-300"}),d.jsxs("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:[mT," Enterprise"]}),d.jsx("div",{className:"h-px w-8 bg-slate-300"})]})]})]})]})})]})},f8=({onBack:t,refreshData:e})=>{const[n,r]=ye.useState(""),[i,a]=ye.useState(!1),[s,l]=ye.useState(1),[c,f]=ye.useState(""),[h,m]=ye.useState(!0),g=async()=>{if(c!=="ZERAR SISTEMA")return alert("Confirmao incorreta");if(window.confirm("AO CRTICA: Deseja realmente apagar todos os dados de operao?")){a(!0),r("Inicializando sequncia de limpeza...");try{const A=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const S of A){r(`Limpando base: ${S.toUpperCase()}...`);const I=await wi(rr(xt,S));if(I.empty)continue;const P=r0(xt);I.docs.forEach(F=>P.delete(F.ref)),await P.commit()}alert("Sistema reiniciado com sucesso. Cadastros preservados."),e(),l(1),f(""),t()}catch{r("Erro durante a operao de limpeza")}finally{a(!1)}}},y=async()=>{if(window.confirm(` Limpar dados de teste?

Isto remover:
 Todos os lotes
 Todo o estoque
 Todas as vendas
 Todas as transaes

Mas MANTER:
 Clientes
 Fornecedores

Deseja continuar?`)){a(!0),r("Limpando dados de teste...");try{const A=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const S of A){r(`Limpando: ${S.toUpperCase()}...`);const I=await wi(rr(xt,S));if(I.empty)continue;const P=r0(xt);I.docs.forEach(F=>P.delete(F.ref)),await P.commit()}r(" Sistema limpo! Clientes e fornecedores preservados."),alert(` Dados de teste removidos!

Sistema pronto para produo.
Clientes e fornecedores foram preservados.`),e(),t()}catch(A){console.error(A),r(" Erro durante limpeza")}finally{a(!1)}}},E=async()=>{if(window.confirm("Protocolo de Simulao: Deseja carregar o cenrio de teste estratgico (Guerra)?")){a(!0),r("Injetando dados de guerra no FG-CORE...");try{const A=r0(xt),S=new Date,I=new Date(S.getTime()-600*60*60*1e3).toISOString().split("T")[0],P=new Date(S.getTime()-360*60*60*1e3).toISOString().split("T")[0],F=new Date(S.getTime()-7200*60*1e3).toISOString().split("T")[0],B=new Date(S.getTime()+1440*60*1e3).toISOString().split("T")[0],j={id_lote:"L-TOP-01",fornecedor:"FAZENDA ELITE",data_recebimento:P,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},V={id_lote:"L-LOSS-02",fornecedor:"FORNECEDOR C",data_recebimento:F,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},O={id_lote:"L-OLD-99",fornecedor:"ESTOQUE ESQUECIDO",data_recebimento:I,peso_total_romaneio:1e3,valor_compra_total:2e4,frete:500,gastos_extras:0,custo_real_kg:20.5,status:"FECHADO"};A.set(En(xt,"batches",j.id_lote),j),A.set(En(xt,"batches",V.id_lote),V),A.set(En(xt,"batches",O.id_lote),O);const D={id_completo:"L-TOP-01-01-INTEIRO",id_lote:"L-TOP-01",sequencia:1,tipo:vn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:P},z={id_completo:"L-LOSS-02-01-INTEIRO",id_lote:"L-LOSS-02",sequencia:1,tipo:vn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:F},H={id_completo:"L-OLD-99-01-INTEIRO",id_lote:"L-OLD-99",sequencia:1,tipo:vn.INTEIRO,peso_entrada:245,status:"DISPONIVEL",data_entrada:I},U={id_completo:"L-OLD-99-02-BANDA_A",id_lote:"L-OLD-99",sequencia:2,tipo:vn.BANDA_A,peso_entrada:122,status:"DISPONIVEL",data_entrada:I};A.set(En(xt,"stock_items",D.id_completo),D),A.set(En(xt,"stock_items",z.id_completo),z),A.set(En(xt,"stock_items",H.id_completo),H),A.set(En(xt,"stock_items",U.id_completo),U);const R={id_venda:"V-FUMO-01",id_cliente:"77",id_completo:z.id_completo,peso_real_saida:230,preco_venda_kg:35,data_venda:P,data_vencimento:F,status_pagamento:"PENDENTE",quebra_kg:20,lucro_liquido_unitario:10,forma_pagamento:"OUTROS",valor_pago:0},C={id_venda:"V-ELITE-01",id_cliente:"15",id_completo:D.id_completo,peso_real_saida:248,preco_venda_kg:38,data_venda:F,data_vencimento:B,status_pagamento:"PAGO",quebra_kg:2,lucro_liquido_unitario:15,forma_pagamento:"PIX",valor_pago:9424};A.set(En(xt,"sales",R.id_venda),R),A.set(En(xt,"sales",C.id_venda),C),A.set(En(xt,"transactions","TR-SIM-01"),{id:"TR-SIM-01",data:P,descricao:"Saldo Inicial Simulao",tipo:"ENTRADA",categoria:"OUTROS",valor:5e4}),await A.commit(),e(),alert("Cenrio de Guerra atualizado: IA detectar Risco de Crdito, Quebra Industrial e Estoque Antigo!"),t()}catch(A){console.error(A),r("Falha na injeo de dados")}finally{a(!1)}}};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid flex items-center justify-center animate-reveal",children:[h&&d.jsx("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-[32px] max-w-lg w-full overflow-hidden shadow-2xl border-4 border-rose-500",children:[d.jsxs("div",{className:"bg-gradient-to-r from-rose-600 to-red-700 p-8 text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:d.jsx(Xd,{size:48,className:"text-white"})}),d.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight",children:" ALTO RISCO "}),d.jsx("p",{className:"text-rose-100 text-sm font-bold mt-2",children:"REA RESTRITA - ACESSO ADMINISTRATIVO"})]}),d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-rose-700 font-black text-sm uppercase mb-3",children:" ATENO - LEIA COM CUIDADO:"}),d.jsxs("ul",{className:"space-y-3 text-sm text-slate-700",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-rose-500 font-bold",children:""}),d.jsxs("span",{children:["Esta rea ",d.jsx("strong",{className:"text-rose-600",children:"APAGA DADOS PERMANENTEMENTE"})]})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-rose-500 font-bold",children:""}),d.jsxs("span",{children:["Pode ",d.jsx("strong",{className:"text-rose-600",children:"BAGUNAR TODO O FLUXO DE CAIXA"})]})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-rose-500 font-bold",children:""}),d.jsxs("span",{children:["Dados apagados ",d.jsx("strong",{className:"text-rose-600",children:"NO PODEM SER RECUPERADOS"})]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-blue-700 font-black text-sm uppercase mb-3",children:" RECOMENDAO:"}),d.jsxs("p",{className:"text-sm text-slate-700",children:["Para limpezas de dados, use o ",d.jsx("strong",{className:"text-blue-600",children:"Firebase Console"})," diretamente:"]}),d.jsx("p",{className:"text-xs text-blue-600 font-mono mt-2 bg-blue-100 p-2 rounded-lg",children:"console.firebase.google.com"})]}),d.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-green-700 font-black text-sm uppercase mb-3",children:" SOLICITAR LIMPEZA:"}),d.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Envie uma solicitao para o administrador limpar os dados pelo Firebase:"}),d.jsx("button",{onClick:()=>{const A=encodeURIComponent(` *SOLICITAO DE LIMPEZA - FRIGOGEST*

 Um usurio est solicitando limpeza de dados do sistema.

 Data: ${new Date().toLocaleString("pt-BR")}

 Por favor, acesse o Firebase Console e verifique se  necessrio limpar alguma collection.

 console.firebase.google.com`);window.open(`https://wa.me/5577999226268?text=${A}`,"_blank"),alert(` Solicitao enviada!

O administrador ir verificar e limpar os dados pelo Firebase se necessrio.`),t()},className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg flex items-center justify-center gap-2",children:" Solicitar Limpeza via WhatsApp"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:t,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg",children:" SAIR (RECOMENDADO)"}),d.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 bg-slate-200 hover:bg-rose-600 hover:text-white text-slate-600 font-black text-sm uppercase rounded-2xl transition-all",children:"Continuar mesmo assim"})]})]})]})}),d.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-100 w-full max-w-xl shadow-2xl overflow-hidden relative",children:[d.jsxs("div",{className:"bg-slate-900 p-6 text-white flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-rose-600 flex items-center justify-center text-white shadow-lg shadow-rose-900/40",children:d.jsx(i9,{size:16})}),d.jsx("span",{className:"text-[10px] font-black tracking-widest uppercase",children:"Autorizao de Nvel 05"})]}),d.jsxs("div",{className:"flex gap-1.5 translate-x-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"}),d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"}),d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"})]})]}),d.jsx("div",{className:"p-10 md:p-16",children:s===1?d.jsxs("div",{className:"space-y-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 mb-2",children:["Zona de ",d.jsx("span",{className:"text-rose-600",children:"Perigo"})]}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Protocolo de Expurgo FG-CORE"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-[32px] border border-rose-100 p-8 bg-rose-50/20",children:[d.jsx("label",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-4 block px-1",children:"Dados a Apagar"}),d.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Lotes Ativos"]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Estoque Frio"]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Histrico de Vendas"]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Fluxo Financeiro"]})]})]}),d.jsxs("div",{className:"rounded-[32px] border border-emerald-100 p-8 bg-emerald-50/20",children:[d.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-4 block px-1",children:"Dados Preservados"}),d.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Clientes"]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Fornecedores"]}),d.jsxs("li",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Contas e Bancos"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:()=>l(2),className:"w-full btn-modern bg-white border border-rose-100 text-rose-600 py-4 rounded-2xl hover:bg-rose-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[d.jsx(hT,{size:16})," Protocolo de Expurgo"]}),d.jsxs("button",{onClick:y,className:"w-full btn-modern bg-white border border-blue-100 text-blue-600 py-4 rounded-2xl hover:bg-blue-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[d.jsx(dx,{size:16})," Limpar Dados de Teste"]}),d.jsxs("div",{className:"relative py-4",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-slate-100"})}),d.jsx("div",{className:"relative flex justify-center text-[8px] font-black uppercase text-slate-300 bg-white px-4 tracking-[0.4em]",children:"Ou"})]}),d.jsxs("button",{onClick:E,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-[0.2em]",children:[d.jsx(ZW,{size:20,className:"text-blue-400"})," Simular Cenrio de Guerra"]}),d.jsxs("button",{onClick:t,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors flex items-center justify-center gap-2",children:[d.jsx(ja,{size:12})," Abortar e Voltar"]})]})]}):d.jsxs("div",{className:"space-y-10 animate-reveal",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:d.jsx(fx,{size:32})}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4",children:"Confirmao de Segurana Requerida"}),d.jsx("div",{className:"bg-slate-50 border border-slate-100 p-4 rounded-2xl font-black text-slate-900 uppercase tracking-widest mb-8 text-sm",children:'"ZERAR SISTEMA"'}),d.jsx("input",{value:c,onChange:A=>f(A.target.value),className:"modern-input h-16 text-center font-black text-2xl uppercase",placeholder:"DIGITAR CADEIA"})]}),i?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(As,{className:"animate-spin text-rose-600 mx-auto mb-6",size:48}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:g,disabled:c!=="ZERAR SISTEMA",className:"w-full btn-modern bg-rose-600 text-white py-6 rounded-2xl hover:bg-slate-900 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-rose-900/30",children:[d.jsx(os,{size:20})," Confirmar Expurgo"]}),d.jsx("button",{onClick:()=>l(1),disabled:i,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors",children:" Voltar ao Incio"})]})]})})]})]})},t1e=({suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r,onBack:i})=>{const[a,s]=ye.useState(""),[l,c]=ye.useState(!1),[f,h]=ye.useState({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}),[m,g]=ye.useState(null),[y,E]=ye.useState(!1),[A,S]=ye.useState(null),I=t.filter(j=>j.status!=="INATIVO"&&(j.nome_fantasia.toLowerCase().includes(a.toLowerCase())||j.cpf_cnpj.includes(a))).sort((j,V)=>j.nome_fantasia.localeCompare(V.nome_fantasia)),P=j=>{j.preventDefault(),f.nome_fantasia&&(e({...f,id:Date.now().toString()}),c(!1),h({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}))},F=j=>{j.preventDefault(),A&&n&&(n(A),g(A),E(!1))},B=j=>`https://wa.me/55${j.replace(/\D/g,"")}`;return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:d.jsx(Nc,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",d.jsx("span",{className:"text-indigo-600",children:"Fornecedores"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Unidade de Cadeia de Suprimentos / ID-SUP"})]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[d.jsxs("div",{className:"relative group w-full sm:w-80",children:[d.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),d.jsx("input",{type:"text",placeholder:"Buscar parceiro ou documento...",className:"modern-input pl-12 bg-white",value:a,onChange:j=>s(j.target.value)})]}),d.jsxs("button",{onClick:()=>c(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[d.jsx(a9,{size:18})," Novo Fornecedor"]})]})]}),d.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Origem / Parceiro"}),d.jsx("th",{className:"hidden md:table-cell",children:"Documentao"}),d.jsx("th",{className:"hidden sm:table-cell",children:"Geolocalizao"}),d.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),d.jsx("th",{className:"w-32 text-center",children:"Operaes"})]})}),d.jsx("tbody",{children:I.map(j=>d.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group",children:[d.jsx("td",{children:d.jsxs("div",{onClick:()=>{g(j),E(!1)},className:"cursor-pointer",children:[d.jsx("p",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:j.nome_fantasia}),j.cpf_cnpj&&d.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:j.cpf_cnpj})]})}),d.jsx("td",{className:"hidden md:table-cell",children:d.jsx("div",{className:"flex flex-col text-[10px] font-bold text-slate-500 uppercase",children:d.jsxs("span",{children:["IE: ",j.inscricao_estadual||"ISENTO"]})})}),d.jsx("td",{className:"hidden sm:table-cell",children:j.cidade?d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[d.jsx(hx,{size:12,className:"text-indigo-500"})," ",j.cidade," - ",j.estado]}),d.jsx("span",{className:"text-[10px] text-gray-400",children:j.endereco})]}):d.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO MAPEADO"})}),d.jsx("td",{className:"hidden sm:table-cell",children:j.telefone?d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-xs font-bold text-gray-700",children:j.telefone}),d.jsx("a",{href:B(j.telefone),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):d.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),d.jsx("td",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>{g(j),E(!1)},className:"p-2 text-gray-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Ver Detalhes",children:d.jsx(Ol,{size:20})}),d.jsx("button",{onClick:V=>{V.stopPropagation(),confirm(`Inativar este fornecedor?

O registro ser mantido no histrico mas no aparecer mais nas listas.`)&&r(j.id)},className:"p-2 text-gray-200 hover:text-amber-600 hover:bg-amber-50 rounded-xl transition-all",title:"Inativar",children:d.jsx(hT,{size:18})})]})})]},j.id))})]})})}),l&&d.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[d.jsxs("div",{className:"bg-indigo-600 p-8 text-white flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Registro de Parceiro"}),d.jsx("p",{className:"text-[10px] text-indigo-100 font-bold uppercase tracking-widest mt-1",children:"Buffer de Entrada / SUP-01"})]}),d.jsx("button",{onClick:()=>c(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:d.jsx(Cu,{size:20})})]}),d.jsxs("form",{onSubmit:P,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:d.jsxs("div",{className:"md:col-span-12 space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Nome Social da Entidade / Fazenda"}),d.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: FAZENDA BOI GORDO",value:f.nome_fantasia,onChange:j=>h({...f,nome_fantasia:j.target.value.toUpperCase()})})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"CPF / CNPJ"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:f.cpf_cnpj,onChange:j=>h({...f,cpf_cnpj:j.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Ins. Estadual"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"IE Number",value:f.inscricao_estadual,onChange:j=>h({...f,inscricao_estadual:j.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Contato Principal"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:f.telefone,onChange:j=>h({...f,telefone:j.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4",children:[d.jsxs("div",{className:"md:col-span-8 space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Endereo Fiscal / Operacional"}),d.jsx("input",{type:"text",className:"modern-input",value:f.endereco,onChange:j=>h({...f,endereco:j.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"md:col-span-4 space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Cidade / UF"}),d.jsx("input",{type:"text",className:"modern-input",placeholder:"CIDADE - UF",value:f.cidade,onChange:j=>h({...f,cidade:j.target.value.toUpperCase()})})]})]}),d.jsxs("div",{className:"pt-4 space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / PIX"}),d.jsx("textarea",{className:"modern-input bg-emerald-50 border-emerald-100 font-mono text-xs h-32 resize-none",placeholder:"BANCO / AGNCIA / CONTA / CHAVE PIX",value:f.dados_bancarios,onChange:j=>h({...f,dados_bancarios:j.target.value.toUpperCase()})})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[d.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-indigo-600 hover:bg-indigo-700",children:"Confirmar Registro"})]})]})]})}),m&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[d.jsxs("div",{className:`p-8 flex justify-between items-center ${y?"bg-amber-50":"bg-slate-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 shadow-sm border border-slate-100",children:d.jsx(Nc,{size:32})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:y?"Editor de Fornecedor":m.nome_fantasia}),d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:y?"Protocolo de Alterao Master":`Registro Industrial #${m.cpf_cnpj||"---"}`})]})]}),d.jsx("button",{onClick:()=>g(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:d.jsx(Cu,{size:24})})]}),d.jsx("div",{className:"p-10 overflow-y-auto bg-white flex-1",children:y?d.jsxs("form",{id:"edit-form",onSubmit:F,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Identificao / Razo Social"}),d.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(A==null?void 0:A.nome_fantasia)||"",onChange:j=>S(V=>V?{...V,nome_fantasia:j.target.value.toUpperCase()}:null)})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Documento"}),d.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.cpf_cnpj)||"",onChange:j=>S(V=>V?{...V,cpf_cnpj:j.target.value}:null)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Insc. Estadual"}),d.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.inscricao_estadual)||"",onChange:j=>S(V=>V?{...V,inscricao_estadual:j.target.value}:null)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Telefone"}),d.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.telefone)||"",onChange:j=>S(V=>V?{...V,telefone:j.target.value}:null)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Cidade - UF"}),d.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.cidade)||"",onChange:j=>S(V=>V?{...V,cidade:j.target.value.toUpperCase()}:null)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Logradouro"}),d.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.endereco)||"",onChange:j=>S(V=>V?{...V,endereco:j.target.value.toUpperCase()}:null)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / Fluxo Financeiro"}),d.jsx("textarea",{className:"modern-input h-32 resize-none bg-emerald-50 border-emerald-100 font-mono text-xs font-bold text-emerald-900",value:(A==null?void 0:A.dados_bancarios)||"",onChange:j=>S(V=>V?{...V,dados_bancarios:j.target.value.toUpperCase()}:null)})]})]}):d.jsx("div",{className:"space-y-10",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Comunicao e Suporte"}),d.jsxs("div",{children:[d.jsx("a",{href:B(m.telefone),target:"_blank",className:"text-2xl font-extrabold text-slate-900 hover:text-indigo-600 transition-colors block tracking-tight",children:m.telefone||"SEM TELEFONE"}),d.jsx("p",{className:"text-[11px] text-slate-400 font-bold mt-1 uppercase tracking-wider",children:"Canal Primrio WhatsApp"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Dados de Localidade"}),d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:d.jsx(hx,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight uppercase",children:m.endereco||"Endereo no informado"}),d.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1 tracking-widest",children:[m.cidade," - ",m.estado]})]})]})]})]}),d.jsxs("div",{className:"bg-indigo-50/50 rounded-3xl p-8 border border-indigo-100 flex flex-col h-full",children:[d.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[d.jsx(l0,{size:16})," Liquidao Financeira"]}),d.jsx("div",{className:"font-mono text-xs text-indigo-900 font-bold whitespace-pre-wrap uppercase leading-relaxed h-full overflow-y-auto pr-2",children:m.dados_bancarios||"NENHUM DADO BANCRIO REGISTRADO NO SISTEMA"})]})]})})}),d.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center z-20",children:y?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),d.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-indigo-600 hover:bg-indigo-700 flex items-center gap-2",children:[d.jsx(gx,{size:18})," Salvar Alteraes"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{S(m),E(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[d.jsx(n9,{size:18})," Substituir Dados"]}),d.jsx("div",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-[0.2em]",children:"ltima Sincronizao: Hoje"})]})})]})})]})},pi=async(t,e,n,r,i)=>{var a;if(!(!xt||!t))try{const s={timestamp:new Date().toISOString(),userId:t.uid||"unknown",userEmail:t.email||"unknown",userName:t.displayName||((a=t.email)==null?void 0:a.split("@")[0])||"Unknown User",action:e,entity:n,details:r,metadata:i||{}};await KE(rr(xt,"audit_logs"),s),console.log(`[AUDIT] ${e} ${n}: ${r}`)}catch(s){console.error("Failed to log action:",s)}},n1e=async(t=100)=>{if(!xt)return[];try{const e=lz(rr(xt,"audit_logs"),jye("timestamp","desc"),cz(t));return(await wi(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Failed to fetch audit logs:",e),[]}},Iz=()=>{try{if(typeof import.meta<"u")return"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"}catch{}return null};let ox=0;const h8=3e4;let qS=!1;function r1e(t){return t.map(e=>({id_ferro:e.id_ferro||"",nome_social:e.nome_social||"",whatsapp:e.whatsapp||"",cpf_cnpj:e.cpf_cnpj||"",telefone_residencial:e.telefone_residencial||"",endereco:e.endereco||"",bairro:e.bairro||"",cidade:e.cidade||"",cep:e.cep||"",limite_credito:String(e.limite_credito||0),saldo_devedor:String(e.saldo_devedor||0),observacoes:e.observacoes||""}))}function i1e(t){return t.map(e=>({id:e.id||"",nome_fantasia:e.nome_fantasia||"",cpf_cnpj:e.cpf_cnpj||"",inscricao_estadual:e.inscricao_estadual||"",telefone:e.telefone||"",endereco:e.endereco||"",cidade:e.cidade||"",estado:e.estado||"",dados_bancarios:e.dados_bancarios||"",observacoes:e.observacoes||""}))}function a1e(t){return t.map(e=>({id_lote:e.id_lote||"",fornecedor:e.fornecedor||"",data_recebimento:e.data_recebimento||"",peso_total_romaneio:String(e.peso_total_romaneio||0),valor_compra_total:String(e.valor_compra_total||0),frete:String(e.frete||0),gastos_extras:String(e.gastos_extras||0),custo_real_kg:String(e.custo_real_kg||0),status:e.status||"",valor_entrada:String(e.valor_entrada||0),observacoes:""}))}function s1e(t){const e={1:"INTEIRO",2:"BANDA_A",3:"BANDA_B"};return t.map(n=>({id_completo:n.id_completo||"",id_lote:n.id_lote||"",sequencia:String(n.sequencia||0),tipo:e[n.tipo]||String(n.tipo),peso_entrada:String(n.peso_entrada||0),status:n.status||"",data_entrada:n.data_entrada||""}))}function o1e(t){return t.map(e=>({id_venda:e.id_venda||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",id_completo:e.id_completo||"",peso_real_saida:String(e.peso_real_saida||0),preco_venda_kg:String(e.preco_venda_kg||0),data_venda:e.data_venda||"",quebra_kg:String(e.quebra_kg||0),custo_extras_total:String(e.custo_extras_total||0),prazo_dias:String(e.prazo_dias||0),data_vencimento:e.data_vencimento||"",forma_pagamento:e.forma_pagamento||"",status_pagamento:e.status_pagamento||""}))}function l1e(t){return t.map(e=>({id:e.id||"",data:e.data||"",descricao:e.descricao||"",tipo:e.tipo||"",categoria:e.categoria||"",valor:String(e.valor||0),referencia_id:e.referencia_id||"",metodo_pagamento:e.metodo_pagamento||""}))}function c1e(t){return t.map(e=>({id:e.id||"",descricao:e.descricao||"",categoria:e.categoria||"",valor:String(e.valor||0),valor_pago:String(e.valor_pago||0),data_vencimento:e.data_vencimento||"",data_pagamento:e.data_pagamento||"",status:e.status||"",fornecedor_id:e.fornecedor_id||"",id_lote:e.id_lote||"",observacoes:e.observacoes||"",recorrente:String(e.recorrente||!1)}))}function u1e(t){return t.map(e=>({id:e.id||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",data_entrega:e.data_entrega||"",hora_entrega:e.hora_entrega||"",itens:e.itens||"",status:e.status||"",data_criacao:e.data_criacao||"",alerta_madrugada:String(e.alerta_madrugada||!1)}))}async function Rz(t){const e=Iz();if(!e)return{success:!1,message:"VITE_SHEETS_WEBAPP_URL no configurada"};const n=Date.now();if(n-ox<h8)return{success:!1,message:`Throttle: aguarde ${Math.ceil((h8-(n-ox))/1e3)}s`};if(qS)return{success:!1,message:"Sync j em andamento"};qS=!0,ox=n;try{const r={allData:{Clientes:r1e(t.clients),Fornecedores:i1e(t.suppliers),Lotes:a1e(t.batches),Estoque:s1e(t.stock),Vendas:o1e(t.sales),"Fluxo de Caixa":l1e(t.transactions),"Contas a Pagar":c1e(t.payables),Agendamentos:u1e(t.scheduledOrders)}},i=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(r),redirect:"follow"});let a={};try{const s=await i.text();a=JSON.parse(s),console.log(" Sheets sync resposta:",a)}catch{console.log(" Sheets sync: enviado (status:",i.status,")")}return i.ok||i.status===0?(console.log(" Sheets sync:  sucesso!"),{success:!0,message:`Dados sincronizados! ${a.timestamp||""}`}):(console.warn(" Sheets sync:  status",i.status),{success:!1,message:`HTTP ${i.status}: ${a.message||"erro desconhecido"}`})}catch(r){return console.warn(" Sheets sync erro:",r.message),{success:!1,message:r.message}}finally{qS=!1}}async function d1e(t){return ox=0,Rz(t)}function p8(){return!!Iz()}const m8=({isRecording:t,color:e,stream:n})=>{const r=ye.useRef(null),i=ye.useRef(null);return ye.useEffect(()=>{if(!t||!n||!r.current)return;const a=new(window.AudioContext||window.webkitAudioContext),s=a.createMediaStreamSource(n),l=a.createAnalyser();l.fftSize=64,s.connect(l);const c=l.frequencyBinCount,f=new Uint8Array(c),h=()=>{const m=r.current;if(!m)return;const g=m.getContext("2d");if(!g)return;const y=m.width,E=m.height;l.getByteFrequencyData(f),g.clearRect(0,0,y,E);const A=y/c*1.5;let S=0;for(let I=0;I<c;I++){const P=f[I]/255*E*.8;g.fillStyle=e,g.fillRect(S,(E-P)/2,A-2,P),S+=A}i.current=requestAnimationFrame(h)};return h(),()=>{i.current&&cancelAnimationFrame(i.current),a.close()}},[t,n,e]),t?d.jsx("canvas",{ref:r,width:300,height:60,className:"w-full h-12 animate-reveal"}):null},f1e=({onBack:t,onSubmit:e,reports:n=[]})=>{const[r,i]=ye.useState("normal"),[a,s]=ye.useState(""),[l,c]=ye.useState(!1),[f,h]=ye.useState(!1),[m,g]=ye.useState(null),[y,E]=ye.useState(!1),[A,S]=ye.useState(!1),[I,P]=ye.useState(!1),[F,B]=ye.useState(null),[j,V]=ye.useState(null),[O,D]=ye.useState(null),[z,H]=ye.useState({}),[U,R]=ye.useState(0),[C,G]=ye.useState(null),le=ye.useRef(null),W=ye.useRef([]),te=ye.useRef(null),re=ye.useRef(null),ve=async(Q,ge)=>{if(!d8)throw new Error("Firebase Storage no configurado");const be=`reports/${Date.now()}_${ge}.${Q.type.split("/")[1]}`,ae=Yxe(d8,be);H(Se=>({...Se,[ge]:!0}));try{const Se=await Wxe(ae,Q);return await Kxe(Se.ref)}finally{H(Se=>({...Se,[ge]:!1}))}},we=async Q=>{try{const ge={audio:!0,video:Q==="video"?{facingMode:"user"}:!1},be=await navigator.mediaDevices.getUserMedia(ge);G(be),Q==="video"&&te.current&&(te.current.srcObject=be);const ae=new MediaRecorder(be);le.current=ae,W.current=[],ae.ondataavailable=Se=>{Se.data.size>0&&W.current.push(Se.data)},ae.onstop=async()=>{const Se=Q==="video"?"video/webm":"audio/webm",Ee=new Blob(W.current,{type:Se});try{const _e=await ve(Ee,Q);Q==="journey"?B(_e):Q==="client"?V(_e):D(_e)}catch(_e){alert("Erro ao salvar no servidor. Tente novamente."),console.error(_e)}be.getTracks().forEach(_e=>_e.stop()),G(null),te.current&&(te.current.srcObject=null)},ae.start(),R(0),re.current=setInterval(()=>{R(Se=>Se+1)},1e3),Q==="journey"?E(!0):Q==="client"?S(!0):P(!0)}catch{alert("Erro ao acessar cmera/microfone. Verifique as permisses.")}},ie=Q=>{le.current&&le.current.state==="recording"&&(le.current.stop(),re.current&&clearInterval(re.current),Q==="journey"?E(!1):Q==="client"?S(!1):P(!1))},L=Q=>{const ge=Math.floor(Q/60),be=Q%60;return`${ge.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}`},Y=async(Q,ge)=>{var ae;const be=(ae=Q.target.files)==null?void 0:ae[0];if(be)try{const Se=await ve(be,ge);ge==="journey"?B(Se):ge==="client"?V(Se):D(Se)}catch{alert("Erro ao fazer upload do arquivo.")}},ee=async Q=>{if(e){h(!0);try{await e({intensity:r,notes:a,type:Q,extra_movement:!1,technical_issues:l,audio_url:F||void 0,client_complaint_audio_url:j||void 0,video_url:O||void 0}),g("Sucesso"),s(""),c(!1),i("normal"),B(null),V(null),D(null),setTimeout(()=>g(null),2500)}finally{h(!1)}}},X=[...n].sort((Q,ge)=>ge.timestamp.localeCompare(Q.timestamp));return m?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-emerald-50 flex items-center justify-center p-8 animate-reveal",children:d.jsxs("div",{className:"bg-white rounded-[48px] p-16 text-center shadow-[0_32px_64px_-16px_rgba(251,191,36,0.2)] max-w-sm w-full border border-yellow-100",children:[d.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-emerald-400 to-teal-500 text-white rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-emerald-200",children:d.jsx(Ho,{size:56})}),d.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2 italic",children:"Tudo Certo!"}),d.jsx("p",{className:"text-[11px] font-bold text-emerald-600 uppercase tracking-widest mt-4",children:"Sua jornada multimdia foi registrada "})]})}):d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-gradient-to-b from-slate-50 to-orange-50/30 technical-grid animate-reveal pb-40 font-sans",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-8",children:[d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-3 px-6 py-2 bg-white/80 backdrop-blur-md border border-amber-100 rounded-full text-[10px] font-black text-amber-600 uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Incio"]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"bg-gradient-to-tr from-amber-400 to-orange-500 p-4 rounded-[28px] text-white shadow-2xl shadow-orange-200 hover:rotate-6 transition-transform",children:d.jsx(tG,{size:32})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-800 leading-none",children:["Meu Dirio de ",d.jsx("span",{className:"text-orange-500 italic",children:"Jornada"})]}),d.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em] mt-2",children:"Registro Multimdia & Energia"})]})]})]}),d.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-[10px] font-black uppercase tracking-widest shadow-xl shadow-blue-200 border-none",children:"Operador Oficial"})]}),d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[d.jsx("div",{className:"lg:col-span-12 xl:col-span-5 space-y-10",children:d.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-2xl shadow-orange-100/50 space-y-12 border border-white",children:[d.jsxs("div",{className:"space-y-5",children:[d.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[d.jsx(As,{size:14,className:"text-emerald-500"})," Como est a operao?"]}),d.jsxs("div",{className:"flex p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:[d.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"text-slate-400 hover:text-emerald-600":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg"}`,children:"Tudo Perfeito"}),d.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"bg-gradient-to-r from-rose-500 to-orange-600 text-white shadow-lg":"text-slate-400 hover:text-rose-600"}`,children:"Houve Falhas"})]})]}),d.jsxs("div",{className:"space-y-5 p-8 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50",children:[d.jsxs("label",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[d.jsx(x3,{size:14})," Registro em Vdeo (Opcional)"]}),I&&d.jsx("div",{className:"rounded-2xl overflow-hidden bg-black aspect-video mb-4 shadow-inner",children:d.jsx("video",{ref:te,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex flex-col gap-4",children:[I&&d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-indigo-900 rounded-2xl animate-pulse",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2.5 h-2.5 bg-rose-500 rounded-full animate-ping"}),d.jsx("span",{className:"font-mono text-xs font-bold text-indigo-100 uppercase tracking-widest",children:"Gravando"})]}),d.jsx("span",{className:"font-mono text-sm font-black text-white",children:L(U)})]}),O?d.jsxs("div",{className:"flex-1 space-y-4",children:[d.jsx("video",{src:O,controls:!0,className:"w-full rounded-2xl shadow-lg"}),d.jsxs("button",{onClick:()=>D(null),className:"w-full py-3 rounded-xl bg-orange-50 text-orange-600 text-[10px] font-black uppercase tracking-widest hover:bg-orange-100 flex items-center justify-center gap-2",children:[d.jsx(os,{size:14})," Trocar Vdeo"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{disabled:z.video,onClick:()=>I?ie("video"):we("video"),className:`flex-1 min-w-[150px] py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${I?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white shadow-xl shadow-indigo-100"} ${z.video?"opacity-50 cursor-not-allowed":""}`,children:[z.video?d.jsx(Yf,{className:"animate-spin",size:18}):I?d.jsx(vK,{size:18}):d.jsx(x3,{size:18}),z.video?"Salvando...":I?"Parar Vdeo":"Gravar Vdeo"]}),!I&&d.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-indigo-100 text-indigo-600 hover:bg-indigo-50 transition-all ${z.video?"opacity-50":""}`,children:[d.jsx(Gy,{size:18}),d.jsx("input",{disabled:z.video,type:"file",accept:"video/*",className:"hidden",onChange:Q=>Y(Q,"video")}),d.jsx("span",{className:"ml-2 text-[10px] font-black uppercase tracking-widest",children:"Upload"})]})]})]})]}),d.jsxs("div",{className:"space-y-5 p-8 bg-blue-50/50 rounded-[32px] border border-blue-100/50",children:[d.jsxs("label",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[d.jsx(Id,{size:14})," Relato da Jornada (udio)"]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[y&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-blue-600 uppercase tracking-widest",children:[d.jsx("span",{children:"Captao Ativa"}),d.jsx("span",{children:L(U)})]}),d.jsx("div",{className:"bg-blue-100/30 rounded-2xl p-4 border border-blue-200/50",children:d.jsx(m8,{isRecording:y,color:"#2563eb",stream:C})})]}),F?d.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[d.jsx("audio",{src:F,controls:!0,className:"flex-1 h-12"}),d.jsx("button",{onClick:()=>B(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:d.jsx(Id,{size:18})})]}):d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{disabled:z.journey,onClick:()=>y?ie("journey"):we("journey"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${y?"bg-rose-500 text-white animate-pulse":"bg-blue-600 text-white shadow-xl shadow-blue-100"} ${z.journey?"opacity-50 cursor-not-allowed":""}`,children:[z.journey?d.jsx(Yf,{className:"animate-spin",size:18}):y?d.jsx(yW,{size:18}):d.jsx(Id,{size:18}),z.journey?"Salvando...":y?"Parar Gravao":"Gravar udio"]}),!y&&d.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-blue-100 text-blue-600 hover:bg-blue-50 transition-all ${z.journey?"opacity-50":""}`,children:[d.jsx(Gy,{size:18}),d.jsx("input",{disabled:z.journey,type:"file",accept:"audio/*",className:"hidden",onChange:Q=>Y(Q,"journey")})]})]})]})]}),d.jsxs("div",{className:"space-y-5 p-8 bg-rose-50/50 rounded-[32px] border border-rose-100/50",children:[d.jsxs("label",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[d.jsx(a0,{size:14})," Reclamao de Cliente (udio)"]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[A&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-rose-600 uppercase tracking-widest",children:[d.jsx("span",{children:"Relato Crtico"}),d.jsx("span",{children:L(U)})]}),d.jsx("div",{className:"bg-rose-100/30 rounded-2xl p-4 border border-rose-200/50",children:d.jsx(m8,{isRecording:A,color:"#e11d48",stream:C})})]}),j?d.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[d.jsx("audio",{src:j,controls:!0,className:"flex-1 h-12"}),d.jsx("button",{onClick:()=>V(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:d.jsx(Id,{size:18})})]}):d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{disabled:z.client,onClick:()=>A?ie("client"):we("client"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${A?"bg-rose-600 text-white animate-pulse shadow-xl shadow-rose-200":"bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50"} ${z.client?"opacity-50 cursor-not-allowed":""}`,children:[z.client?d.jsx(Yf,{className:"animate-spin",size:18}):A?d.jsx(gx,{size:18}):d.jsx(Id,{size:18}),z.client?"Salvando...":A?"Parar Cliente":"Gravar Cliente"]}),!A&&d.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50 transition-all ${z.client?"opacity-50":""}`,children:[d.jsx(Gy,{size:18}),d.jsx("input",{disabled:z.client,type:"file",accept:"audio/*",className:"hidden",onChange:Q=>Y(Q,"client")})]})]})]})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[d.jsx(os,{size:14,className:"text-amber-500"})," Ritmo de Trabalho"]}),d.jsx("div",{className:"grid grid-cols-3 p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:["tranquilo","normal","intenso"].map(Q=>d.jsx("button",{onClick:()=>i(Q),className:`py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${r===Q?Q==="tranquilo"?"bg-emerald-500 text-white shadow-lg shadow-emerald-100":Q==="normal"?"bg-amber-500 text-white shadow-lg shadow-amber-100":"bg-orange-600 text-white shadow-lg shadow-orange-100":"text-slate-400 hover:bg-white/50"}`,children:Q==="tranquilo"?"Leve":Q==="normal"?"Normal":"Intenso"},Q))})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsx("div",{className:"flex justify-between items-center px-2",children:d.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Observaes (Texto Opcional)"})}),d.jsx("div",{className:"relative",children:d.jsx("textarea",{value:a,onChange:Q=>s(Q.target.value),className:"w-full h-40 p-8 rounded-[32px] font-bold text-slate-700 bg-slate-50/50 border-2 border-slate-100 outline-none transition-all placeholder:text-slate-300 focus:border-amber-400 focus:bg-white focus:shadow-xl focus:shadow-amber-100/50",placeholder:"Caso queira escrever algo mais..."})})]}),d.jsx("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:d.jsxs("button",{onClick:()=>ee("RELATORIO"),disabled:f,className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500 text-white py-5 rounded-[24px] hover:shadow-2xl hover:shadow-orange-200 transition-all font-black text-[11px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95",children:[f?d.jsx(As,{size:18,className:"animate-spin"}):d.jsx(gx,{size:18})," Enviar Jornada Completa "]})})]})}),d.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-8",children:[d.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] px-2 flex items-center gap-3",children:[d.jsx(Tu,{size:18,className:"text-orange-500"})," Histrico Operacional"]}),d.jsx("div",{className:"grid grid-cols-1 gap-6",children:X.length===0?d.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[48px] border-2 border-dashed border-slate-100 shadow-sm",children:[d.jsx(os,{size:80,className:"mb-6 text-amber-100"}),d.jsx("p",{className:"text-[11px] font-black uppercase text-slate-300 tracking-[0.4em]",children:"Aguardando primeiro registro multimdia"})]}):X.map(Q=>d.jsxs("div",{className:"bg-white rounded-[32px] p-8 flex flex-col gap-6 shadow-xl shadow-slate-100 border-l-[8px] border-amber-400 hover:border-orange-500 transition-all hover:-translate-x-1 group",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 text-slate-400 flex items-center justify-center group-hover:from-orange-500 group-hover:to-orange-600 group-hover:text-white transition-all shadow-sm",children:d.jsx(Up,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-black text-slate-800 uppercase text-[11px] tracking-tight",children:Q.userName||"Operador Feliz"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:`text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${Q.type==="RECLAMACAO"?"bg-orange-100 text-orange-600":"bg-emerald-100 text-emerald-600"}`,children:Q.type==="RECLAMACAO"?"Ocorrncia":"Tudo Ok"}),d.jsx("span",{className:"text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest bg-blue-50 text-blue-500",children:Q.intensity.toUpperCase()})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[11px] font-black text-slate-700",children:new Date(Q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),d.jsx("p",{className:"text-[9px] font-bold text-slate-300 uppercase",children:new Date(Q.timestamp).toLocaleDateString()})]})]}),d.jsxs("div",{className:"space-y-4",children:[Q.video_url&&d.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-indigo-100",children:d.jsx("video",{src:Q.video_url,controls:!0,className:"w-full"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[Q.audio_url&&d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100/50",children:[d.jsx(Id,{size:14,className:"text-blue-500"}),d.jsx("audio",{src:Q.audio_url,controls:!0,className:"flex-1 h-8"})]}),Q.client_complaint_audio_url&&d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-rose-50 rounded-2xl border border-rose-100/50",children:[d.jsx(a0,{size:14,className:"text-rose-500"}),d.jsx("audio",{src:Q.client_complaint_audio_url,controls:!0,className:"flex-1 h-8"})]})]})]}),Q.notes&&d.jsx("div",{className:"p-6 bg-slate-50/50 rounded-2xl border border-slate-100",children:d.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',Q.notes,'"']})})]},Q.id))})]})]})]})},h1e=({onBack:t,onAddOrder:e,existingOrders:n})=>{const[r,i]=ye.useState(new Date(Date.now()+864e5).toISOString().split("T")[0]),[a,s]=ye.useState(""),[l,c]=ye.useState(""),[f,h]=ye.useState(""),[m,g]=ye.useState(""),[y,E]=ye.useState(!1),A=25,S=n.filter(V=>V.data_entrega===r&&V.status!=="CANCELADO"),I=S.reduce((V,O)=>{const D=O.itens.match(/(\d+)/);return V+(D?parseInt(D[0]):1)},0),P=Math.max(0,A-I),F=Math.min(100,I/A*100),B=()=>{if(!a||!f)return;const V=`Quero confirmar o agendamento de ${f} novilhas para o abate dia ${new Date(r).toLocaleDateString()}`;g(`https://wa.me/55${a.replace(/\D/g,"")}?text=${encodeURIComponent(V)}`)},j=async()=>{if(!(!e||!l||!f)){E(!0);try{await e({id:`ORD-${Date.now()}`,id_cliente:"TEMP-"+Date.now(),nome_cliente:l,data_entrega:r,hora_entrega:"08:00",itens:`${f} Novilhas (Agendamento Rpido)`,status:"CONFIRMADO",data_criacao:new Date().toISOString(),alerta_madrugada:!1}),c(""),h(""),g("")}finally{E(!1)}}};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-red-700 hover:border-red-100 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-rose-600 p-3 rounded-2xl text-white shadow-xl shadow-rose-100",children:d.jsx(As,{size:28})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controle de ",d.jsx("span",{className:"text-rose-600",children:"Abate"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento e Escala / ID-ABT"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center",children:d.jsx(vm,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Escala para o dia"}),d.jsx("input",{type:"date",value:r,onChange:V=>i(V.target.value),className:"text-sm font-bold text-slate-900 outline-none bg-transparent cursor-pointer"})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[d.jsxs("div",{className:"lg:col-span-12 xl:col-span-5 space-y-8",children:[d.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative shadow-2xl overflow-hidden min-h-[300px] flex flex-col justify-center",children:[d.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:d.jsx(os,{size:200})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] mb-4",children:"Vagas Disponveis no Lote"}),d.jsx("h2",{className:"text-8xl font-black tracking-tighter text-blue-400",children:P}),d.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mt-2",children:"Novilhas por alocar"})]}),d.jsx("div",{className:"mt-12 bg-white/5 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 shadow-[0_0_15px_rgba(59,130,246,0.5)]",style:{width:`${F}%`}})}),d.jsxs("div",{className:"flex justify-between mt-4 text-[10px] font-black uppercase tracking-widest",children:[d.jsxs("span",{className:"text-blue-400",children:[I," Alocadas"]}),d.jsxs("span",{className:"text-slate-500",children:[A," Limite Dirio"]})]})]}),d.jsxs("div",{className:"premium-card p-8",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[d.jsx(pT,{size:16,className:"text-rose-600"})," Parceiros Confirmados"]}),d.jsx("div",{className:"grid grid-cols-1 gap-3",children:S.length===0?d.jsx("div",{className:"py-12 flex flex-col items-center justify-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-100",children:d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})}):S.map(V=>d.jsxs("div",{className:"p-4 rounded-2xl bg-white border border-slate-50 flex justify-between items-center group hover:border-rose-100 transition-all shadow-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-extrabold text-slate-900 uppercase text-sm",children:V.nome_cliente}),d.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5",children:V.itens})]}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:d.jsx(ux,{size:14})})]},V.id))})]}),d.jsxs("div",{className:"premium-card p-8 bg-blue-600 text-white border-none shadow-xl shadow-blue-200",children:[d.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[d.jsx(os,{size:16})," Manual do Colaborador"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"1"}),d.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Selecione a **DATA DO ABATE** no topo da tela."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"2"}),d.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Verifique o painel **VAGAS DISPONVEIS**. Limite: 25 cabeas/dia."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"3"}),d.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Insira o nome do produtor e a quantidade. Clique em **CRIAR LINK**."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"4"}),d.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Envie o link via WhatsApp para o produtor confirmar a entrega."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"5"}),d.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Aps a resposta dele, clique em **VALIDAR NO SISTEMA** para reservar a vaga."})]})]})]})]}),d.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 premium-card overflow-hidden h-full",children:[d.jsxs("div",{className:"bg-slate-900 p-8 flex items-center gap-4 text-white",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center",children:d.jsx(o0,{size:20})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-black uppercase tracking-tight text-lg",children:"Agendamento Remoto"}),d.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:"Terminal via Web/Whatsapp"})]})]}),d.jsxs("div",{className:"p-10 space-y-8",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block px-1",children:"Seu nmero de Whatsapp"}),d.jsx("input",{type:"text",placeholder:"DDD + Nmero",value:a,onChange:V=>s(V.target.value),className:"modern-input h-14 font-bold text-lg"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Identificador do Parceiro"}),d.jsx("input",{type:"text",placeholder:"Nome ou ID",value:l,onChange:V=>c(V.target.value),className:"modern-input h-14"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Quantidade de Cabeas"}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:"Qtd",value:f===""?"":f,onChange:V=>{const O=V.target.value;(O===""||/^\d*$/.test(O))&&h(O===""?"":parseInt(O))},className:"modern-input h-14 font-black text-lg"})]})]}),d.jsxs("button",{onClick:B,disabled:!a||!f,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all disabled:opacity-20 active:scale-95",children:[d.jsx(iW,{size:18})," Criar Link de Confirmao"]}),m&&d.jsxs("div",{className:"animate-reveal space-y-6 pt-10 border-t border-slate-50",children:[d.jsx("div",{className:"bg-blue-50/50 rounded-2xl border border-blue-100 p-5 font-mono text-[10px] text-blue-600 break-all leading-relaxed shadow-inner",children:m}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center flex items-center justify-center gap-3 shadow-xl shadow-[rgba(37,211,102,0.2)] hover:bg-[#128C7E] transition-all",children:[d.jsx(o0,{size:18})," Enviar Mensagem"]}),d.jsxs("button",{onClick:j,disabled:y,className:"bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl shadow-[rgba(225,29,72,0.2)] hover:bg-slate-900 transition-all",children:[y?d.jsx(As,{size:18,className:"animate-spin"}):d.jsx(ux,{size:18})," Validar no Sistema"]})]})]})]})]})]})]})};async function p1e(t,e){return console.warn(" Evolution API no configurada. Usando mtodo manual."),window.open(`https://wa.me/${t.replace(/\D/g,"")}?text=${encodeURIComponent(e)}`,"_blank"),{success:!1,error:"API no configurada - enviado via WhatsApp Web"}}async function m1e(t){return console.warn(" Evolution API no configurada."),{success:!1,error:"API no configurada"}}const g1e=({onBack:t,clients:e})=>{const[n,r]=ye.useState("config"),[i,a]=ye.useState([]),[s,l]=ye.useState(!1),[c,f]=ye.useState(0),[h,m]=ye.useState([]),[g,y]=ye.useState("selection"),[E]=ye.useState([{id:"vendas",name:"BOIADEIRO_DIGITAL",prompt:'Voc  o "Boiadeiro Digital", focado em vendas de gado. Seu tom  rstico e negociador. Use grias do campo.'},{id:"cobranca",name:"AGENTE_COBRANA",prompt:"Voc  um assistente financeiro educado, mas firme. Seu objetivo  lembrar o cliente sobre pagamentos pendentes, oferecendo opes de PIX."},{id:"sac",name:"SUPORTE_FG_CORE",prompt:"Voc  o suporte ao cliente. Tire dvidas sobre entregas e notas fiscais com muita pacincia e educao."}]),[A,S]=ye.useState("vendas"),[I,P]=ye.useState({price:"R$ 210,00",stock:"500 cabeas",delivery:"3 DIAS TEIS",payment:" VISTA / 30 DIAS"}),[F,B]=ye.useState("manual"),[j,V]=ye.useState(E[0].prompt);ye.useEffect(()=>{var ae;V(((ae=E.find(Se=>Se.id===A))==null?void 0:ae.prompt)||"")},[A,E]);const[O,D]=ye.useState(""),[z,H]=ye.useState(!1),[U,R]=ye.useState({}),[C,G]=ye.useState(null),le=ye.useRef(null),W=ye.useRef([]),[te,re]=ye.useState([]),[ve,we]=ye.useState(""),[ie,L]=ye.useState(!1),[Y]=ye.useState("6728"),[ee]=ye.useState("TOKEN_B838"),X=ae=>{if(A==="vendas"){const Se=[`Ol *${ae}*! 

 *OFERTA ESPECIAL DO DIA*

Estoque fresco, gado premium:
 Preo: *${I.price}*
 Disponvel: ${I.stock}
 Entrega: ${I.delivery}

Garanta j! Estoque limitado. `,`Boa tarde, *${ae}*! 

*Acabou de chegar:*
Lote premium com acabamento perfeito

 Qualidade garantida
 Condies especiais: ${I.payment}
 Entrega em ${I.delivery}

Interesse? Responda aqui! `,`*${ae}*, oportunidade! 

 Carne de primeira
 *${I.price}* /kg
 Lote de ${I.stock}

Preo para CLIENTE VIP!
Reservo para voc? `];return Se[Math.floor(Math.random()*Se.length)]}else return A==="cobranca"?`Ol *${ae}*! 

 *Lembrete Amigvel*

Identificamos um pagamento pendente em nossa base.

 *Formas de pagamento:*
 PIX (instantneo)
 Transferncia bancria
 Boleto

Precisa de ajuda? Estamos  disposio! 

Atenciosamente,
Equipe FrigoGest`:`Ol *${ae}*! 

Como podemos ajudar hoje?

 Suporte FrigoGest
 Atendimento: Seg-Sex, 8h-18h`},Q=async(ae,Se)=>{if(O){O.includes(".mp4")||O.includes("video");const _e=await m1e();return _e.success?(alert(" Mensagem com mdia enviada!"),!0):(alert(" Erro ao enviar: "+_e.error),!1)}return(await p1e(ae,Se)).success||(console.warn("Usando fallback: WhatsApp Web"),window.open(`https://wa.me/${ae.replace(/\D/g,"")}?text=${encodeURIComponent(Se)}`,"_blank")),!0},ge=async ae=>{const Se=await navigator.mediaDevices.getUserMedia({audio:!0}),Ee=new MediaRecorder(Se);le.current=Ee,W.current=[],Ee.ondataavailable=_e=>{_e.data.size>0&&W.current.push(_e.data)},Ee.onstop=()=>R(_e=>({..._e,[ae]:URL.createObjectURL(new Blob(W.current,{type:"audio/mp3"}))})),Ee.start(),G(ae)},be=()=>{le.current&&(le.current.stop(),le.current.stream.getTracks().forEach(ae=>ae.stop()),G(null))};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40 relative group",children:[d.jsx(Pg,{size:28}),d.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agente ",d.jsx("span",{className:"text-blue-600",children:"Cognitivo"})]}),d.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Automao e Inteligncia de Vendas / ID-AI"})]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:d.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[{id:"config",icon:r9,label:"Parmetros"},{id:"campaign",icon:rK,label:"Campanha"},{id:"voice",icon:s9,label:"Voz/Media"},{id:"test",icon:o0,label:"Simular"}].map(ae=>d.jsxs("button",{onClick:()=>r(ae.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${n===ae.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[d.jsx(ae.icon,{size:14})," ",ae.label]},ae.id))})})]}),d.jsxs("div",{className:"max-w-7xl mx-auto",children:[n==="config"&&d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[d.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[d.jsxs("div",{className:"premium-card p-10 bg-white",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-50",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(e9,{size:16,className:"text-blue-600"})," Ncleo de Personalidade"]}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-10",children:E.map(ae=>d.jsxs("button",{onClick:()=>S(ae.id),className:`p-5 rounded-[24px] border-2 transition-all flex flex-col gap-3 text-left ${A===ae.id?"border-blue-600 bg-blue-50/30":"border-slate-50 bg-slate-50/20 hover:border-slate-200"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${A===ae.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-slate-200 text-slate-400"}`,children:ae.id==="vendas"?d.jsx(os,{size:16}):ae.id==="cobranca"?d.jsx(Au,{size:16}):d.jsx(As,{size:16})}),d.jsxs("div",{children:[d.jsx("h4",{className:`font-black text-[10px] uppercase tracking-tighter ${A===ae.id?"text-blue-600":"text-slate-400"}`,children:ae.id}),d.jsx("p",{className:`font-bold text-xs ${A===ae.id?"text-slate-900":"text-slate-400"}`,children:ae.name})]})]},ae.id))}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Instrues de Sistema (Prompt)"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute top-4 left-4 text-blue-500 opacity-20",children:d.jsx(y3,{size:20})}),d.jsx("textarea",{value:j,onChange:ae=>V(ae.target.value),className:"w-full h-40 modern-input p-10 font-medium text-slate-700 bg-slate-50/50"})]})]})]}),d.jsxs("div",{className:"premium-card p-10 bg-white",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[d.jsx(HG,{size:16,className:"text-blue-600"})," Protocolo de Conexo"]}),d.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100 mb-8",children:[d.jsx("button",{onClick:()=>B("manual"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${F==="manual"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Disparo Individual (WA)"}),d.jsx("button",{onClick:()=>B("auto"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${F==="auto"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Z-API Automtico"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Instncia ID"}),d.jsx("input",{type:"text",placeholder:"i.e. 6728",className:"modern-input h-12 text-sm bg-slate-50/30"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Token de Acesso"}),d.jsx("input",{type:"password",placeholder:"",className:"modern-input h-12 text-sm bg-slate-50/30"})]})]})]})]}),d.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[d.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:d.jsx(Hy,{size:120})}),d.jsx("h3",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-10",children:"Base de Conhecimento Dinmica"}),d.jsx("div",{className:"space-y-8 relative z-10",children:[{l:"Preo de Referncia (Arroba)",v:I.price,k:"price",icon:Au},{l:"Capacidade em Estoque",v:I.stock,k:"stock",icon:Mc},{l:"Prazo Logstico Mdio",v:I.delivery,k:"delivery",icon:vm},{l:"Flexibilidade de Pagamento",v:I.payment,k:"payment",icon:As}].map(ae=>d.jsxs("div",{className:"group/item",children:[d.jsxs("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest block mb-2 px-1 flex items-center gap-2",children:[d.jsx(ae.icon,{size:10,className:"text-blue-500"})," ",ae.l]}),d.jsx("input",{type:"text",value:ae.v,onChange:Se=>P({...I,[ae.k]:Se.target.value}),className:"bg-white/5 border-none w-full px-4 py-3 rounded-xl font-black text-blue-400 uppercase italic tracking-tighter outline-none focus:bg-white/10 transition-all border border-white/5"})]},ae.k))})]}),d.jsxs("div",{className:"premium-card p-10 bg-white",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[d.jsx(d3,{size:16,className:"text-blue-600"})," Ativos Visuais (Mdia)"]}),d.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[32px] p-12 text-center relative group hover:border-blue-600 transition-all bg-slate-50/30",children:[d.jsx("input",{type:"file",onChange:ae=>{ae.target.files&&(H(!0),setTimeout(()=>{D("https://fg-media.cloud/temp_001.mp4"),H(!1)},1500))},className:"absolute inset-0 opacity-0 cursor-pointer"}),d.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-6 text-slate-400 group-hover:scale-110 group-hover:text-blue-600 transition-all",children:d.jsx(Gy,{size:28})}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:z?"Processando arquivo...":"Arraste uma foto ou vdeo para a campanha"})]}),O&&d.jsxs("div",{className:"mt-6 bg-blue-50 rounded-2xl p-4 flex justify-between items-center border border-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white",children:d.jsx(d3,{size:14})}),d.jsx("span",{className:"text-[10px] font-black text-blue-700 truncate max-w-[200px]",children:O})]}),d.jsx("button",{onClick:()=>D(""),className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:d.jsx(Cu,{size:14})})]})]})]})]}),n==="campaign"&&d.jsx("div",{className:"animate-reveal max-w-7xl mx-auto",children:g==="selection"?d.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white",children:[d.jsxs("div",{className:"bg-slate-900 p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Seleo de Alvos Ativos"}),d.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:["Sincronizando com Base CRM (",e.length," entidades detectadas)"]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Entidades Selecionadas"}),d.jsx("p",{className:"text-2xl font-black text-blue-400 leading-none",children:i.length})]}),d.jsxs("button",{disabled:i.length===0,onClick:()=>{m(i.map(ae=>{var Se;return{clientId:ae,client:e.find(Ee=>Ee.id_ferro===ae),status:"pending",message:X(((Se=e.find(Ee=>Ee.id_ferro===ae))==null?void 0:Se.nome_social)||"NONE")}})),y("review")},className:"btn-modern bg-blue-600 text-white px-8 py-4 rounded-2xl hover:bg-blue-500 gap-3 shadow-xl shadow-blue-900/40 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-widest",children:["Iniciar Campanha ",d.jsx(Ol,{size:18})]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"technical-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-16 text-center",children:d.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg accent-blue-600",onChange:ae=>a(ae.target.checked?e.map(Se=>Se.id_ferro):[]),checked:i.length===e.length&&e.length>0})}),d.jsx("th",{children:"Parceiro de Negcios"}),d.jsx("th",{children:"Protocolo ID"}),d.jsx("th",{children:"Contato Digital"}),d.jsx("th",{className:"text-center",children:"Vnculo"})]})}),d.jsx("tbody",{children:e.map(ae=>d.jsxs("tr",{onClick:()=>{const Se=new Set(i);Se.has(ae.id_ferro)?Se.delete(ae.id_ferro):Se.add(ae.id_ferro),a(Array.from(Se))},className:`cursor-pointer transition-colors ${i.includes(ae.id_ferro)?"bg-blue-50/30":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:"text-center",children:d.jsx("div",{className:`w-6 h-6 mx-auto rounded-lg border-2 flex items-center justify-center transition-all ${i.includes(ae.id_ferro)?"bg-blue-600 border-blue-600 text-white shadow-lg":"bg-white border-slate-200"}`,children:i.includes(ae.id_ferro)&&d.jsx(Ho,{size:14})})}),d.jsx("td",{className:"font-extrabold text-slate-900 uppercase text-xs",children:ae.nome_social}),d.jsxs("td",{className:"font-mono text-[10px] text-slate-400",children:["# ",ae.id_ferro]}),d.jsx("td",{className:"font-black text-slate-900 text-[11px]",children:ae.whatsapp||"SEM_DADO"}),d.jsx("td",{className:"text-center",children:d.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${ae.whatsapp?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-300 border-slate-100"}`,children:ae.whatsapp?"Online":"Offline"})})]},ae.id_ferro))})]})})]}):d.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[d.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-8 text-white flex flex-col md:flex-row justify-between items-center shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-emerald-500 to-rose-500 animate-gradient-x"}),d.jsxs("button",{onClick:()=>y("selection"),className:"flex items-center gap-2 text-[10px] font-black uppercase text-slate-500 hover:text-white transition-colors mb-4 md:mb-0",children:[d.jsx(ja,{size:14})," Voltar  Seleo"]}),d.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Reviso do Manifesto IA"}),d.jsx("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10",children:d.jsxs("span",{className:"text-[10px] font-black text-blue-400",children:[h.filter(ae=>ae.status==="sent").length," / ",h.length," ENTREGUES"]})})]}),d.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.map((ae,Se)=>{var Ee,_e,Je;return d.jsxs("div",{className:`premium-card p-8 group transition-all ${ae.status==="sent"?"opacity-50 grayscale bg-slate-50/50 cursor-default":"bg-white hover:border-blue-200"}`,children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg ${ae.status==="sent"?"bg-emerald-600 text-white":"bg-blue-600 text-white shadow-lg shadow-blue-900/30"}`,children:ae.status==="sent"?d.jsx(Ho,{size:24}):(Ee=ae.client)==null?void 0:Ee.nome_social.charAt(0)}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:(_e=ae.client)==null?void 0:_e.nome_social}),d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:((Je=ae.client)==null?void 0:Je.whatsapp)||"PEND_CONNECTION"})]})]}),d.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[d.jsx("button",{onClick:()=>{var Ne;const Fe=[...h];Fe[Se].message=X(((Ne=ae.client)==null?void 0:Ne.nome_social)||""),m(Fe)},className:"w-12 h-12 rounded-2xl bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shrink-0 shadow-sm",children:d.jsx(fT,{size:18})}),d.jsx("button",{disabled:ae.status==="sent",onClick:()=>{var Ne;Q(((Ne=ae.client)==null?void 0:Ne.whatsapp)||"",ae.message);const Fe=[...h];Fe[Se].status="sent",m(Fe)},className:"flex-1 md:flex-none btn-modern bg-slate-900 text-white px-8 py-3.5 rounded-2xl hover:bg-emerald-600 shadow-xl gap-3 text-xs",children:ae.status==="sent"?"Mensagem Entregue":d.jsxs(d.Fragment,{children:[d.jsx(p3,{size:16})," Enviar agora"]})})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:d.jsx(o0,{size:18})}),d.jsx("textarea",{disabled:ae.status==="sent",value:ae.message,onChange:Fe=>{const Ne=[...h];Ne[Se].message=Fe.target.value,m(Ne)},className:"w-full h-32 modern-input p-10 font-medium text-slate-700 bg-slate-50/30"})]})]},Se)})})]})}),n==="voice"&&d.jsx("div",{className:"animate-reveal max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[{id:"saudacao",l:"Abertura / Saudao",d:"Primeiro contato cognitivo",icon:Id},{id:"preco",l:"Fluxo de Negociao",d:"Defesa de margens e preos",icon:Au},{id:"qualidade",l:"Engajamento Tcnico",d:"Rendimento e qualidade de carcaa",icon:As},{id:"fechamento",l:"Commit de Reserva",d:"Confirmao de abate/compra",icon:Lc}].map(ae=>d.jsxs("div",{className:"premium-card p-10 group bg-white",children:[d.jsxs("div",{className:"flex justify-between items-start mb-10",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 text-slate-400 flex items-center justify-center transition-all group-hover:bg-blue-600 group-hover:text-white group-hover:scale-110 shadow-sm",children:d.jsx(ae.icon,{size:28})}),d.jsxs("div",{className:"text-right",children:[d.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight uppercase",children:ae.l}),d.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase mt-0.5",children:ae.d})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[C===ae.id?d.jsx("button",{onClick:be,className:"flex-1 bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 animate-pulse shadow-xl shadow-rose-900/20",children:"Parar Gravao"}):d.jsx("button",{onClick:()=>ge(ae.id),className:"flex-1 bg-white border-2 border-slate-100 text-slate-600 py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all flex items-center justify-center gap-3 shadow-sm",children:"Iniciar Captura"}),U[ae.id]&&d.jsx("button",{onClick:()=>new Audio(U[ae.id]).play(),className:"w-20 h-[68px] rounded-2xl bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 transition-all shadow-xl shadow-slate-900/20",children:d.jsx(h3,{size:24,fill:"currentColor"})})]}),U[ae.id]&&d.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),d.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Ativo Digitalizado"})]})]},ae.id))}),n==="test"&&d.jsxs("div",{className:"animate-reveal max-w-4xl mx-auto h-[800px] flex flex-col bg-white rounded-[48px] shadow-2xl border border-slate-100 overflow-hidden relative",children:[d.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white relative",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-600/30"}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-900/40",children:d.jsx(Pg,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Debug de Simulao"}),d.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Interface Terminal v2.5 / Session Active"})]})]}),d.jsxs("div",{className:"flex gap-1.5 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),d.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Sinc"})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 flex flex-col bg-slate-50/30 no-scrollbar",children:[te.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-05 py-32",children:[d.jsx(Pg,{size:160,className:"text-slate-900"}),d.jsx("p",{className:"mt-8 text-xs font-black uppercase tracking-[0.8em] text-slate-900",children:"Aguardando Input"})]}):te.map((ae,Se)=>d.jsx("div",{className:`flex ${ae.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`p-6 rounded-[32px] max-w-[85%] shadow-sm ${ae.role==="user"?"bg-white text-slate-900 border border-slate-100 font-medium":"bg-slate-900 text-blue-50 font-medium shadow-xl shadow-slate-900/20"}`,children:[d.jsx("div",{className:`flex items-center gap-2 mb-3 text-[8px] font-black uppercase tracking-widest ${ae.role==="user"?"text-slate-400":"text-blue-400"}`,children:ae.role==="user"?d.jsxs(d.Fragment,{children:[d.jsx(yx,{size:10})," Humano"]}):d.jsxs(d.Fragment,{children:[d.jsx(Pg,{size:10})," Agente Cognitivo"]})}),ae.audio?d.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/10",children:[d.jsx("button",{onClick:()=>new Audio(ae.audio).play(),className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center hover:scale-110 transition-all",children:d.jsx(h3,{size:16,fill:"currentColor"})}),d.jsx("div",{className:"flex-1 h-0.5 bg-white/10 rounded-full"}),d.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-50",children:"Stream Voz"})]}):d.jsx("p",{className:"leading-relaxed text-sm",children:ae.content})]})},Se)),ie&&d.jsxs("div",{className:"flex gap-2 items-center text-blue-600 font-black text-[10px] uppercase tracking-widest animate-pulse ml-2",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce"})]}),"IA Processando..."]})]}),d.jsxs("div",{className:"p-10 bg-white border-t border-slate-100 flex gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",children:d.jsx(y3,{size:18})}),d.jsx("input",{value:ve,onChange:ae=>we(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&ve&&(re([...te,{role:"user",content:ve}]),we(""),L(!0),setTimeout(()=>{re(Se=>[...Se,{role:"assistant",content:X("Simulador")}]),L(!1)},1500)),placeholder:"Simule uma objeo ou pergunta do cliente...",className:"w-full h-16 modern-input pl-14 text-sm"})]}),d.jsx("button",{onClick:()=>ve&&(re([...te,{role:"user",content:ve}]),we(""),L(!0),setTimeout(()=>{re(ae=>[...ae,{role:"assistant",content:X("Simulador")}]),L(!1)},1500)),className:"w-16 h-16 rounded-[24px] bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 hover:scale-105 transition-all shadow-xl shadow-slate-900/20 shrink-0",children:d.jsx(p3,{size:24})})]})]})]})]})},v1e={CREATE:"CRIOU",UPDATE:"EDITOU",DELETE:"EXCLUIU",LOGIN:"ENTROU",LOGOUT:"SAIU",OTHER:"OUTRO"},y1e={CLIENT:"Cliente",BATCH:"Lote",STOCK:"Estoque",SALE:"Venda",TRANSACTION:"Financeiro",ORDER:"Pedido",SYSTEM:"Sistema",OTHER:"Outro"},x1e=({onBack:t})=>{const[e,n]=ye.useState([]),[r,i]=ye.useState(!0),[a,s]=ye.useState(""),[l,c]=ye.useState("ALL"),[f,h]=ye.useState("ALL"),[m,g]=ye.useState("ALL"),[y,E]=ye.useState("");ye.useEffect(()=>{A()},[]);const A=async()=>{i(!0);const O=await n1e(500);n(O),i(!1)},S=ye.useMemo(()=>{const O=new Map;return e.forEach(D=>{var H;const z=O.get(D.userId);!z||D.timestamp>z.lastActive?O.set(D.userId,{name:D.userName||((H=D.userEmail)==null?void 0:H.split("@")[0])||"Desconhecido",email:D.userEmail,lastActive:D.timestamp,actions:((z==null?void 0:z.actions)||0)+1}):z.actions+=1}),Array.from(O.entries()).map(([D,z])=>({id:D,...z}))},[e]),I=new Date,P=S.filter(O=>(I.getTime()-new Date(O.lastActive).getTime())/1e3/60<15),F=ye.useMemo(()=>e.filter(O=>{const D=!a||O.details.toLowerCase().includes(a.toLowerCase())||O.userName&&O.userName.toLowerCase().includes(a.toLowerCase())||O.userEmail.toLowerCase().includes(a.toLowerCase()),z=l==="ALL"||O.entity===l,H=f==="ALL"||O.userId===f,U=m==="ALL"||O.action===m,R=!y||O.timestamp.startsWith(y);return D&&z&&H&&U&&R}),[e,a,l,f,m,y]),B=O=>{switch(O){case"CREATE":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"UPDATE":return"bg-blue-100 text-blue-700 border-blue-200";case"DELETE":return"bg-rose-100 text-rose-700 border-rose-200";case"LOGIN":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"LOGOUT":return"bg-slate-100 text-slate-600 border-slate-200";default:return"bg-slate-50 text-slate-400 border-slate-100"}},j=O=>{switch(O){case"SALE":return"";case"CLIENT":return"";case"BATCH":return"";case"STOCK":return"";case"TRANSACTION":return"";case"ORDER":return"";case"SYSTEM":return"";default:return""}},V=O=>{const D=(I.getTime()-new Date(O).getTime())/1e3;return D<60?"agora":D<3600?`${Math.floor(D/60)}min`:D<86400?`${Math.floor(D/3600)}h`:`${Math.floor(D/86400)}d`};return d.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar"]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:d.jsx(Lc,{size:24})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-black tracking-tight text-gray-900",children:["Auditoria ",d.jsx("span",{className:"text-blue-600",children:"Geral"})]}),d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:"Todas atividades  Todos usurios  Tempo real"})]})]})]}),d.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all shadow-sm",children:[d.jsx(fT,{size:14,className:r?"animate-spin":""})," Atualizar"]})]}),d.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:d.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx(pT,{size:16,className:"text-blue-600"}),d.jsx("h3",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Colaboradores"}),d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[9px] font-black px-2 py-0.5 rounded-full uppercase",children:[P.length," Online"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.map(O=>{const D=P.some(z=>z.id===O.id);return d.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-xl border transition-all cursor-pointer ${f===O.id?"bg-blue-50 border-blue-300 shadow-md":D?"bg-emerald-50/50 border-emerald-100":"bg-slate-50/50 border-slate-100"}`,onClick:()=>h(f===O.id?"ALL":O.id),children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-black text-white ${D?"bg-emerald-500":"bg-slate-400"}`,children:O.name.charAt(0).toUpperCase()}),D&&d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white animate-pulse"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:O.name}),d.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[D?d.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-emerald-600 uppercase",children:[d.jsx(SK,{size:8})," Online"]}):d.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-slate-400 uppercase",children:[d.jsx(wK,{size:8})," ",V(O.lastActive)]}),d.jsxs("span",{className:"text-[8px] font-bold text-slate-300",children:[" ",O.actions," aes"]})]})]})]},O.id)}),S.length===0&&d.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase",children:"Nenhum usurio registrado nos logs"})]})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto mb-4 flex flex-wrap gap-3 items-center",children:[d.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[d.jsx(ym,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),d.jsx("input",{type:"text",placeholder:"Pesquisar atividade, usurio...",className:"w-full bg-white border border-slate-100 rounded-xl py-2 pl-10 pr-4 text-xs font-bold text-slate-700 outline-none focus:border-blue-300 shadow-sm",value:a,onChange:O=>s(O.target.value)})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-100 rounded-xl px-2 py-1 shadow-sm",children:[d.jsx(vm,{size:12,className:"text-blue-500 ml-1"}),d.jsx("input",{type:"date",className:"text-[10px] font-bold text-slate-600 bg-transparent outline-none px-1",value:y,onChange:O=>E(O.target.value)}),y&&d.jsx("button",{onClick:()=>E(""),className:"text-[9px] font-black text-rose-400 px-1",children:""})]}),d.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:" Cliente",value:"CLIENT"},{label:" Lote",value:"BATCH"},{label:" Venda",value:"SALE"},{label:" Financeiro",value:"TRANSACTION"},{label:" Estoque",value:"STOCK"},{label:" Sistema",value:"SYSTEM"}].map(O=>d.jsx("button",{onClick:()=>c(O.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${l===O.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:O.label},O.value))}),d.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:"Entrou",value:"LOGIN"},{label:"Criou",value:"CREATE"},{label:"Editou",value:"UPDATE"},{label:"Excluiu",value:"DELETE"}].map(O=>d.jsx("button",{onClick:()=>g(O.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${m===O.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:O.label},O.value))})]}),d.jsx("div",{className:"max-w-7xl mx-auto mb-3 flex items-center gap-3 px-1",children:d.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:[F.length," registros ",f!=="ALL"&&" Filtrando por usurio"," ",y&&` Data: ${y}`]})}),d.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:r?d.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-4",children:[d.jsx(As,{className:"animate-spin text-blue-600",size:40}),d.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Carregando registros..."})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider w-36",children:"Quando"}),d.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Quem"}),d.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-24",children:"Ao"}),d.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-28",children:"Mdulo"}),d.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"O que fez"})]})}),d.jsx("tbody",{children:F.length===0?d.jsx("tr",{children:d.jsxs("td",{colSpan:5,className:"py-20 text-center",children:[d.jsx(Up,{size:48,className:"mx-auto mb-3 text-slate-200"}),d.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Nenhum registro encontrado"})]})}):F.map(O=>{var z,H;const D=P.some(U=>U.id===O.userId);return d.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/30 transition-colors group",children:[d.jsxs("td",{className:"px-4 py-2.5",children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:new Date(O.timestamp).toLocaleDateString("pt-BR")}),d.jsxs("p",{className:"text-[9px] font-bold text-slate-400 flex items-center gap-1 mt-0.5",children:[d.jsx(s0,{size:9})," ",new Date(O.timestamp).toLocaleTimeString("pt-BR")]}),d.jsxs("p",{className:"text-[8px] font-bold text-blue-400 mt-0.5",children:[V(O.timestamp)," atrs"]})]}),d.jsx("td",{className:"px-4 py-2.5",children:d.jsxs("div",{className:"flex items-center gap-2.5",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-black text-white ${D?"bg-emerald-500":"bg-slate-400"}`,children:(O.userName||((z=O.userEmail)==null?void 0:z.split("@")[0])||"?").charAt(0).toUpperCase()}),D&&d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-emerald-400 rounded-full border-2 border-white"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:O.userName||((H=O.userEmail)==null?void 0:H.split("@")[0])||"Sistema"}),d.jsx("p",{className:"text-[8px] font-bold text-slate-400 mt-0.5 truncate max-w-[140px]",children:O.userEmail})]})]})}),d.jsx("td",{className:"px-4 py-2.5 text-center",children:d.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-lg border text-[8px] font-black uppercase tracking-wider ${B(O.action)}`,children:v1e[O.action]||O.action})}),d.jsxs("td",{className:"px-4 py-2.5 text-center",children:[d.jsx("span",{className:"text-sm mr-1",children:j(O.entity)}),d.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase",children:y1e[O.entity]||O.entity})]}),d.jsx("td",{className:"px-4 py-2.5",children:d.jsx("p",{className:"text-xs font-bold text-slate-700 leading-relaxed max-w-xl",children:O.details})})]},O.id)})})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto mt-6 flex flex-wrap justify-between items-center gap-3 border-t border-slate-100 pt-6 opacity-40",children:[d.jsxs("div",{className:"flex gap-4 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," ",P.length," Online Agora"]}),d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," ",e.length," Logs Carregados"]})]}),d.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"THIAGO 704 // Auditoria em Tempo Real"})]})]})};var b1e={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _1e,w1e;function A1e(){return{geminiUrl:_1e,vertexUrl:w1e}}function S1e(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=A1e();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu{}function Pt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];w(h,e.slice(a+1),n[f])}else for(const f of c)w(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];w(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(l=>x(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function N1e(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&a.length>l)for(let c=l;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}XE(t,i,a,0,s)}}function XE(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])XE(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of l)c[f]=s[f];for(const[f,h]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(f):m.push(g);w(s,m,h)}for(const f of l)delete s[f]}}else{const s=t;a in s&&XE(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E1e(t){const e={},n=x(t,["operationName"]);n!=null&&w(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function T1e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],I1e(s)),e}function C1e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],R1e(s)),e}function I1e(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>k1e(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function R1e(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>P1e(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function k1e(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],F1e(n)),e}function P1e(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],U1e(n)),e}function O1e(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function j1e(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function D1e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],M1e(s)),e}function M1e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function kz(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],L1e(s)),e}function L1e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function F1e(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],TI(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function U1e(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],TI(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var g8;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(g8||(g8={}));var v8;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(v8||(v8={}));var y8;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(y8||(y8={}));var qd;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(qd||(qd={}));var x8;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(x8||(x8={}));var b8;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(b8||(b8={}));var _8;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_8||(_8={}));var w8;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(w8||(w8={}));var A8;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(A8||(A8={}));var S8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(S8||(S8={}));var N8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(N8||(N8={}));var E8;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(E8||(E8={}));var T8;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(T8||(T8={}));var C8;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(C8||(C8={}));var I8;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(I8||(I8={}));var R8;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(R8||(R8={}));var k8;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(k8||(k8={}));var P8;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(P8||(P8={}));var O8;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(O8||(O8={}));var j8;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(j8||(j8={}));var D8;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(D8||(D8={}));var U1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(U1||(U1={}));var M8;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(M8||(M8={}));var L8;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(L8||(L8={}));var F8;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(F8||(F8={}));var QE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(QE||(QE={}));var U8;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(U8||(U8={}));var B8;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(B8||(B8={}));var V8;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(V8||(V8={}));var q8;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(q8||(q8={}));var z8;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(z8||(z8={}));var $8;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($8||($8={}));var H8;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(H8||(H8={}));var G8;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(G8||(G8={}));var W8;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(W8||(W8={}));var K8;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(K8||(K8={}));var Y8;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Y8||(Y8={}));var J8;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(J8||(J8={}));var X8;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(X8||(X8={}));var Q8;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Q8||(Q8={}));var Z8;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Z8||(Z8={}));var e7;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(e7||(e7={}));var t7;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(t7||(t7={}));var n7;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(n7||(n7={}));var r7;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(r7||(r7={}));var i7;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(i7||(i7={}));var a7;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(a7||(a7={}));var s7;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(s7||(s7={}));var o7;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(o7||(o7={}));var l7;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(l7||(l7={}));var c7;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(c7||(c7={}));var u7;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(u7||(u7={}));var d7;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(d7||(d7={}));var f7;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(f7||(f7={}));var h7;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(h7||(h7={}));var wp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(wp||(wp={}));class ZE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Rg{get text(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const g of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,E]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&(y!==null||y!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class p7{}class m7{}class B1e{}class V1e{}class q1e{}class z1e{}class g7{}class v7{}class y7{}class $1e{}class B1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new B1;let i;const a=e;return n?i=C1e(a):i=T1e(a),Object.assign(r,i),r}}class x7{}class b7{}class _7{}class w7{}class H1e{}class G1e{}class W1e{}class CI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new CI,a=D1e(e);return Object.assign(r,a),r}}class K1e{}class Y1e{}class J1e{}class A7{}class X1e{get text(){var e,n,r;let i="",a=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&a.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Q1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class II{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new II,a=kz(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ar(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Pz(t,e){const n=ar(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Oz(t){return Array.isArray(t)?t.map(e=>V1(e)):[V1(t)]}function V1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jz(t){const e=V1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dz(t){const e=V1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function S7(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Mz(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>S7(e)):[S7(t)]}function eT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function N7(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function E7(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ss(t){if(t==null)throw new Error("ContentUnion is required");return eT(t)?t:{role:"user",parts:Mz(t)}}function RI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ss(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ss(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ss(n)):[ss(e)]}function Ko(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(N7(t)||E7(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ss(t)]}const e=[],n=[],r=eT(t[0]);for(const i of t){const a=eT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(N7(i)||E7(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Mz(n)}),e}function Z1e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(qd).includes(n[0].toUpperCase())?n[0].toUpperCase():qd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(qd).includes(r.toUpperCase())?r.toUpperCase():qd.TYPE_UNSPECIFIED})}}function Lp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Z1e(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(qd).includes(l.toUpperCase())?l.toUpperCase():qd.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Lp(l);else if(r.includes(s)){const c=[];for(const f of l){if(f.type=="null"){e.nullable=!0;continue}c.push(Lp(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(l))c[f]=Lp(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function kI(t){return Lp(t)}function PI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function OI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Dm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Lp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Lp(e.response));return t}function Mm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ebe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function $u(t,e){if(typeof e!="string")throw new Error("name must be a string");return ebe(t,e,"cachedContents")}function Lz(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xf(t){return TI(t)}function tbe(t){return t!=null&&typeof t=="object"&&"name"in t}function nbe(t){return t!=null&&typeof t=="object"&&"video"in t}function rbe(t){return t!=null&&typeof t=="object"&&"uri"in t}function Fz(t){var e;let n;if(tbe(t)&&(n=t.name),!(rbe(t)&&(n=t.uri,n===void 0))&&!(nbe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Uz(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Bz(t){for(const e of["models","tunedModels","publisherModels"])if(ibe(t,e))return t[e];return[]}function ibe(t,e){return t!==null&&typeof t=="object"&&e in t}function abe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function sbe(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=abe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Vz(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function obe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qz(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Lm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function zz(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lbe(t){const e={},n=x(t,["responsesFile"]);n!=null&&w(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>qbe(s))),w(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["inlinedEmbedContentResponses"],a)}return e}function cbe(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function ube(t){const e={},n=x(t,["format"]);n!=null&&w(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function lx(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&w(e,["state"],zz(i));const a=x(t,["metadata","createTime"]);a!=null&&w(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&w(e,["endTime"],s);const l=x(t,["metadata","updateTime"]);l!=null&&w(e,["updateTime"],l);const c=x(t,["metadata","model"]);c!=null&&w(e,["model"],c);const f=x(t,["metadata","output"]);return f!=null&&w(e,["dest"],lbe(qz(f))),e}function tT(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["state"]);i!=null&&w(e,["state"],zz(i));const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["createTime"]);s!=null&&w(e,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(e,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(e,["endTime"],c);const f=x(t,["updateTime"]);f!=null&&w(e,["updateTime"],f);const h=x(t,["model"]);h!=null&&w(e,["model"],h);const m=x(t,["inputConfig"]);m!=null&&w(e,["src"],dbe(m));const g=x(t,["outputConfig"]);g!=null&&w(e,["dest"],cbe(qz(g)));const y=x(t,["completionStats"]);return y!=null&&w(e,["completionStats"],y),e}function dbe(t){const e={},n=x(t,["instancesFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function fbe(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&w(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Vbe(t,s))),w(n,["requests","requests"],a)}return n}function hbe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function pbe(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function mbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function gbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function vbe(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],ybe(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const f=x(t,["logprobsResult"]);f!=null&&w(e,["logprobsResult"],f);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function ybe(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function $z(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ybe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function xbe(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function bbe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],ube(obe(i))),n}function T7(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],fbe(t,Vz(t,i)));const a=x(e,["config"]);return a!=null&&xbe(a,n),n}function _be(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],ar(t,r));const i=x(e,["src"]);i!=null&&w(n,["inputConfig"],hbe(Vz(t,i)));const a=x(e,["config"]);return a!=null&&bbe(a,n),n}function wbe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),n}function Abe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],Rbe(t,i));const a=x(e,["config"]);return a!=null&&wbe(a,n),n}function Sbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Nbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Ebe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function Tbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function Cbe(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=RI(t,r);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(w(n,["_self"],Ibe(i,n)),N1e(n,{"requests[].*":"requests[].request.*"})),n}function Ibe(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Rbe(t,e){const n={},r=x(e,["fileName"]);r!=null&&w(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&w(n,["requests"],Cbe(t,i)),n}function kbe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Pbe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Obe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jbe(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],$z(ss(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const f=x(e,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const E=x(e,["frequencyPenalty"]);E!=null&&w(r,["frequencyPenalty"],E);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const S=x(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const I=x(e,["responseSchema"]);I!=null&&w(r,["responseSchema"],kI(I));const P=x(e,["responseJsonSchema"]);if(P!=null&&w(r,["responseJsonSchema"],P),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=x(e,["safetySettings"]);if(n!==void 0&&F!=null){let C=F;Array.isArray(C)&&(C=C.map(G=>Jbe(G))),w(n,["safetySettings"],C)}const B=x(e,["tools"]);if(n!==void 0&&B!=null){let C=Mm(B);Array.isArray(C)&&(C=C.map(G=>Qbe(Dm(G)))),w(n,["tools"],C)}const j=x(e,["toolConfig"]);if(n!==void 0&&j!=null&&w(n,["toolConfig"],Xbe(j)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=x(e,["cachedContent"]);n!==void 0&&V!=null&&w(n,["cachedContent"],$u(t,V));const O=x(e,["responseModalities"]);O!=null&&w(r,["responseModalities"],O);const D=x(e,["mediaResolution"]);D!=null&&w(r,["mediaResolution"],D);const z=x(e,["speechConfig"]);if(z!=null&&w(r,["speechConfig"],PI(z)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=x(e,["thinkingConfig"]);H!=null&&w(r,["thinkingConfig"],H);const U=x(e,["imageConfig"]);U!=null&&w(r,["imageConfig"],Bbe(U));const R=x(e,["enableEnhancedCivicAnswers"]);return R!=null&&w(r,["enableEnhancedCivicAnswers"],R),r}function Dbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>vbe(f))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function Mbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Lbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Fbe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function Ube(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function Bbe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Vbe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["request","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let l=Ko(i);Array.isArray(l)&&(l=l.map(c=>$z(c))),w(n,["request","contents"],l)}const a=x(e,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&w(n,["request","generationConfig"],jbe(t,s,x(n,["request"],{}))),n}function qbe(t){const e={},n=x(t,["response"]);n!=null&&w(e,["response"],Dbe(n));const r=x(t,["error"]);return r!=null&&w(e,["error"],r),e}function zbe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function $be(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),n}function Hbe(t){const e={},n=x(t,["config"]);return n!=null&&zbe(n,e),e}function Gbe(t){const e={},n=x(t,["config"]);return n!=null&&$be(n,e),e}function Wbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>lx(s))),w(e,["batchJobs"],a)}return e}function Kbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>tT(s))),w(e,["batchJobs"],a)}return e}function Ybe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],kbe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Pbe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],pbe(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Jbe(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Xbe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],Obe(r)),e}function Qbe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],Fbe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],Ube(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fu||(Fu={}));class Ah{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zbe extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Fu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=T7(this.apiClient,e),r=n._url,i=Pt("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,f=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=g,m.request=y}f.push(m)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=_be(this.apiClient,e);return l=Pt("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>tT(h))}else{const f=T7(this.apiClient,e);return l=Pt("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>lx(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Abe(this.apiClient,e);return a=Pt("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>lx(c))}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Lbe(this.apiClient,e);return l=Pt("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>tT(h))}else{const f=Mbe(this.apiClient,e);return l=Pt("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>lx(h))}}async cancel(e){var n,r,i,a;let s="",l={};if(this.apiClient.isVertexAI()){const c=gbe(this.apiClient,e);s=Pt("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=mbe(this.apiClient,e);s=Pt("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Gbe(e);return l=Pt("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Kbe(h),g=new A7;return Object.assign(g,m),g})}else{const f=Hbe(e);return l=Pt("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Wbe(h),g=new A7;return Object.assign(g,m),g})}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Nbe(this.apiClient,e);return l=Pt("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Tbe(h))}else{const f=Sbe(this.apiClient,e);return l=Pt("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Ebe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function C7(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>A_e(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function t_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=Ko(s);Array.isArray(h)&&(h=h.map(m=>C7(m))),w(e,["contents"],h)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],C7(ss(l)));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>N_e(m))),w(e,["tools"],h)}const f=x(t,["toolConfig"]);if(e!==void 0&&f!=null&&w(e,["toolConfig"],S_e(f)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function n_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let m=Ko(s);Array.isArray(m)&&(m=m.map(g=>g)),w(e,["contents"],m)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],ss(l));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>E_e(g))),w(e,["tools"],m)}const f=x(t,["toolConfig"]);e!==void 0&&f!=null&&w(e,["toolConfig"],f);const h=x(t,["kmsKeyName"]);return e!==void 0&&h!=null&&w(e,["encryption_spec","kmsKeyName"],h),n}function r_e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],Pz(t,r));const i=x(e,["config"]);return i!=null&&t_e(i,n),n}function i_e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],Pz(t,r));const i=x(e,["config"]);return i!=null&&n_e(i,n),n}function a_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],$u(t,r)),n}function s_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],$u(t,r)),n}function o_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function l_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function c_e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function u_e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function d_e(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function f_e(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function h_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],$u(t,r)),n}function p_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],$u(t,r)),n}function m_e(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function g_e(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function v_e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function y_e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function x_e(t){const e={},n=x(t,["config"]);return n!=null&&v_e(n,e),e}function b_e(t){const e={},n=x(t,["config"]);return n!=null&&y_e(n,e),e}function __e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function w_e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function A_e(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],c_e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],u_e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],e_e(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function S_e(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],d_e(r)),e}function N_e(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],m_e(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],g_e(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function E_e(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>f_e(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=x(t,["googleSearchRetrieval"]);f!=null&&w(e,["googleSearchRetrieval"],f);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function T_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function C_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function I_e(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],$u(t,r));const i=x(e,["config"]);return i!=null&&T_e(i,n),n}function R_e(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],$u(t,r));const i=x(e,["config"]);return i!=null&&C_e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_e extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Fu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=i_e(this.apiClient,e);return l=Pt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=r_e(this.apiClient,e);return l=Pt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=p_e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=h_e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=s_e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=l_e(h),g=new _7;return Object.assign(g,m),g})}else{const f=a_e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=o_e(h),g=new _7;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=R_e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=I_e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=b_e(e);return l=Pt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=w_e(h),g=new w7;return Object.assign(g,m),g})}else{const f=x_e(e);return l=Pt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=__e(h),g=new w7;return Object.assign(g,m),g})}}}function q1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function I7(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dn(t){return this instanceof dn?(this.v=t,this):new dn(t)}function kl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(E){return Promise.resolve(E).then(y,m)}}function l(y,E){r[y]&&(i[y]=function(A){return new Promise(function(S,I){a.push([y,A,S,I])>1||c(y,A)})},E&&(i[y]=E(i[y])))}function c(y,E){try{f(r[y](E))}catch(A){g(a[0][3],A)}}function f(y){y.value instanceof dn?Promise.resolve(y.value.v).then(h,m):g(a[0][2],y)}function h(y){c("next",y)}function m(y){c("throw",y)}function g(y,E){y(E),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Pl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof I7=="function"?I7(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(l,c){s=t[a](s),i(l,c,s.done,s.value)})}}function i(a,s,l,c){Promise.resolve(c).then(function(f){a({value:f,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Hz(n)}function Hz(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function O_e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function R7(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Hz(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class j_e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new D_e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class D_e{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),O_e(a)}async sendMessage(e){var n;await this.sendPromise;const r=ss(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,l;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(m))!==null&&l!==void 0?l:[]);const y=f?[f]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ss(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?R7(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return kl(this,arguments,function*(){var i,a,s,l,c,f;const h=[];try{for(var m=!0,g=Pl(e),y;y=yield dn(g.next()),i=y.done,!i;m=!0){l=y.value,m=!1;const E=l;if(P_e(E)){const A=(f=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;A!==void 0&&h.push(A)}yield yield dn(E)}}catch(E){a={error:E}}finally{try{!m&&!i&&(s=g.return)&&(yield dn(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...R7(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M_e(t){const e={},n=x(t,["file"]);return n!=null&&w(e,["file"],n),e}function L_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function F_e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],Fz(n)),e}function U_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function B_e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],Fz(n)),e}function V_e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function q_e(t){const e={},n=x(t,["config"]);return n!=null&&V_e(n,e),e}function z_e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $_e extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Fu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=q_e(e);return a=Pt("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=z_e(c),h=new K1e;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=M_e(e);return a=Pt("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=L_e(c),h=new Y1e;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=B_e(e);return a=Pt("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=F_e(e);return a=Pt("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=U_e(c),h=new J1e;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function H_e(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>o2e(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function G_e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function W_e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function K_e(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Y_e(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const f=x(t,["maxOutputTokens"]);f!=null&&w(e,["maxOutputTokens"],f);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const E=x(t,["responseModalities"]);E!=null&&w(e,["responseModalities"],E);const A=x(t,["responseSchema"]);A!=null&&w(e,["responseSchema"],A);const S=x(t,["routingConfig"]);S!=null&&w(e,["routingConfig"],S);const I=x(t,["seed"]);I!=null&&w(e,["seed"],I);const P=x(t,["speechConfig"]);P!=null&&w(e,["speechConfig"],P);const F=x(t,["stopSequences"]);F!=null&&w(e,["stopSequences"],F);const B=x(t,["temperature"]);B!=null&&w(e,["temperature"],B);const j=x(t,["thinkingConfig"]);j!=null&&w(e,["thinkingConfig"],j);const V=x(t,["topK"]);V!=null&&w(e,["topK"],V);const O=x(t,["topP"]);if(O!=null&&w(e,["topP"],O),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function J_e(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function X_e(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function Q_e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const f=x(t,["mediaResolution"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","mediaResolution"],f);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],OI(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=x(t,["systemInstruction"]);e!==void 0&&E!=null&&w(e,["setup","systemInstruction"],H_e(ss(E)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let V=Mm(A);Array.isArray(V)&&(V=V.map(O=>c2e(Dm(O)))),w(e,["setup","tools"],V)}const S=x(t,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],l2e(S));const I=x(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","inputAudioTranscription"],I);const P=x(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&w(e,["setup","outputAudioTranscription"],P);const F=x(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&w(e,["setup","realtimeInputConfig"],F);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&w(e,["setup","contextWindowCompression"],B);const j=x(t,["proactivity"]);if(e!==void 0&&j!=null&&w(e,["setup","proactivity"],j),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Z_e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],Y_e(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const f=x(t,["mediaResolution"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","mediaResolution"],f);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],OI(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=x(t,["systemInstruction"]);e!==void 0&&E!=null&&w(e,["setup","systemInstruction"],ss(E));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let O=Mm(A);Array.isArray(O)&&(O=O.map(D=>u2e(Dm(D)))),w(e,["setup","tools"],O)}const S=x(t,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],S);const I=x(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","inputAudioTranscription"],I);const P=x(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&w(e,["setup","outputAudioTranscription"],P);const F=x(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&w(e,["setup","realtimeInputConfig"],F);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&w(e,["setup","contextWindowCompression"],B);const j=x(t,["proactivity"]);e!==void 0&&j!=null&&w(e,["setup","proactivity"],j);const V=x(t,["explicitVadSignal"]);return e!==void 0&&V!=null&&w(e,["setup","explicitVadSignal"],V),n}function e2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],Q_e(i,n)),n}function t2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],Z_e(i,n)),n}function n2e(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&w(e,["musicGenerationConfig"],n),e}function r2e(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function i2e(t){const e={},n=x(t,["media"]);if(n!=null){let f=Oz(n);Array.isArray(f)&&(f=f.map(h=>cx(h))),w(e,["mediaChunks"],f)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],cx(Dz(r)));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],cx(jz(a)));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function a2e(t){const e={},n=x(t,["media"]);if(n!=null){let f=Oz(n);Array.isArray(f)&&(f=f.map(h=>h)),w(e,["mediaChunks"],f)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],Dz(r));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],jz(a));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function s2e(t){const e={},n=x(t,["setupComplete"]);n!=null&&w(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&w(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&w(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&w(e,["usageMetadata"],d2e(s));const l=x(t,["goAway"]);l!=null&&w(e,["goAway"],l);const c=x(t,["sessionResumptionUpdate"]);c!=null&&w(e,["sessionResumptionUpdate"],c);const f=x(t,["voiceActivityDetectionSignal"]);f!=null&&w(e,["voiceActivityDetectionSignal"],f);const h=x(t,["voiceActivity"]);return h!=null&&w(e,["voiceActivity"],f2e(h)),e}function o2e(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],G_e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],W_e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],cx(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function l2e(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function c2e(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],J_e(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],X_e(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function u2e(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>K_e(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=x(t,["googleSearchRetrieval"]);f!=null&&w(e,["googleSearchRetrieval"],f);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function d2e(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&w(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&w(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&w(e,["thoughtsTokenCount"],s);const l=x(t,["totalTokenCount"]);l!=null&&w(e,["totalTokenCount"],l);const c=x(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(E=>E)),w(e,["promptTokensDetails"],y)}const f=x(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),w(e,["cacheTokensDetails"],y)}const h=x(t,["candidatesTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(E=>E)),w(e,["responseTokensDetails"],y)}const m=x(t,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(E=>E)),w(e,["toolUsePromptTokensDetails"],y)}const g=x(t,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}function f2e(t){const e={},n=x(t,["type"]);return n!=null&&w(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h2e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function p2e(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],m2e(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const f=x(t,["logprobsResult"]);f!=null&&w(e,["logprobsResult"],f);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function m2e(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function g2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let a=Ko(i);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["contents"],a)}return n}function v2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["tokensInfo"],i)}return e}function y2e(t){const e={},n=x(t,["values"]);n!=null&&w(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&w(e,["statistics"],x2e(r)),e}function x2e(t){const e={},n=x(t,["truncated"]);n!=null&&w(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function Yb(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Cwe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function b2e(t){const e={},n=x(t,["controlType"]);n!=null&&w(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function _2e(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function w2e(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],ss(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Yz(l))),w(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&w(e,["generationConfig"],hwe(a)),n}function A2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>Yb(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&_2e(a),n}function S2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w2e(a,n),n}function N2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function E2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function T2e(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function C2e(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function I2e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function R2e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function k2e(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const f=x(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&w(e,["parameters","safetySetting"],f);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const E=x(t,["outputMimeType"]);e!==void 0&&E!=null&&w(e,["parameters","outputOptions","mimeType"],E);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","compressionQuality"],A);const S=x(t,["addWatermark"]);e!==void 0&&S!=null&&w(e,["parameters","addWatermark"],S);const I=x(t,["labels"]);e!==void 0&&I!=null&&w(e,["labels"],I);const P=x(t,["editMode"]);e!==void 0&&P!=null&&w(e,["parameters","editMode"],P);const F=x(t,["baseSteps"]);return e!==void 0&&F!=null&&w(e,["parameters","editConfig","baseSteps"],F),n}function P2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>jwe(c))),w(n,["instances[0]","referenceImages"],l)}const s=x(e,["config"]);return s!=null&&k2e(s,n),n}function O2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Jb(a))),w(e,["generatedImages"],i)}return e}function j2e(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function D2e(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&w(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&w(e,["instances[]","mimeType"],s);const l=x(t,["autoTruncate"]);return e!==void 0&&l!=null&&w(e,["parameters","autoTruncate"],l),n}function M2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let l=RI(t,i);Array.isArray(l)&&(l=l.map(c=>c)),w(n,["requests[]","content"],l)}const a=x(e,["config"]);a!=null&&j2e(a,n);const s=x(e,["model"]);return s!==void 0&&w(n,["requests[]","model"],ar(t,s)),n}function L2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=RI(t,i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&D2e(a,n),n}function F2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function U2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>y2e(s))),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function B2e(t){const e={},n=x(t,["endpoint"]);n!=null&&w(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function V2e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function q2e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z2e(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $2e(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function H2e(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Yb(ss(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const f=x(e,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const E=x(e,["frequencyPenalty"]);E!=null&&w(r,["frequencyPenalty"],E);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const S=x(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const I=x(e,["responseSchema"]);I!=null&&w(r,["responseSchema"],kI(I));const P=x(e,["responseJsonSchema"]);if(P!=null&&w(r,["responseJsonSchema"],P),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=x(e,["safetySettings"]);if(n!==void 0&&F!=null){let C=F;Array.isArray(C)&&(C=C.map(G=>Dwe(G))),w(n,["safetySettings"],C)}const B=x(e,["tools"]);if(n!==void 0&&B!=null){let C=Mm(B);Array.isArray(C)&&(C=C.map(G=>qwe(Dm(G)))),w(n,["tools"],C)}const j=x(e,["toolConfig"]);if(n!==void 0&&j!=null&&w(n,["toolConfig"],Vwe(j)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=x(e,["cachedContent"]);n!==void 0&&V!=null&&w(n,["cachedContent"],$u(t,V));const O=x(e,["responseModalities"]);O!=null&&w(r,["responseModalities"],O);const D=x(e,["mediaResolution"]);D!=null&&w(r,["mediaResolution"],D);const z=x(e,["speechConfig"]);if(z!=null&&w(r,["speechConfig"],PI(z)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=x(e,["thinkingConfig"]);H!=null&&w(r,["thinkingConfig"],H);const U=x(e,["imageConfig"]);U!=null&&w(r,["imageConfig"],ywe(U));const R=x(e,["enableEnhancedCivicAnswers"]);return R!=null&&w(r,["enableEnhancedCivicAnswers"],R),r}function G2e(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],ss(i));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const f=x(e,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const E=x(e,["frequencyPenalty"]);E!=null&&w(r,["frequencyPenalty"],E);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const S=x(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const I=x(e,["responseSchema"]);I!=null&&w(r,["responseSchema"],kI(I));const P=x(e,["responseJsonSchema"]);P!=null&&w(r,["responseJsonSchema"],P);const F=x(e,["routingConfig"]);F!=null&&w(r,["routingConfig"],F);const B=x(e,["modelSelectionConfig"]);B!=null&&w(r,["modelConfig"],B);const j=x(e,["safetySettings"]);if(n!==void 0&&j!=null){let W=j;Array.isArray(W)&&(W=W.map(te=>te)),w(n,["safetySettings"],W)}const V=x(e,["tools"]);if(n!==void 0&&V!=null){let W=Mm(V);Array.isArray(W)&&(W=W.map(te=>Yz(Dm(te)))),w(n,["tools"],W)}const O=x(e,["toolConfig"]);n!==void 0&&O!=null&&w(n,["toolConfig"],O);const D=x(e,["labels"]);n!==void 0&&D!=null&&w(n,["labels"],D);const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],$u(t,z));const H=x(e,["responseModalities"]);H!=null&&w(r,["responseModalities"],H);const U=x(e,["mediaResolution"]);U!=null&&w(r,["mediaResolution"],U);const R=x(e,["speechConfig"]);R!=null&&w(r,["speechConfig"],PI(R));const C=x(e,["audioTimestamp"]);C!=null&&w(r,["audioTimestamp"],C);const G=x(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const le=x(e,["imageConfig"]);if(le!=null&&w(r,["imageConfig"],xwe(le)),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function k7(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>Yb(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],H2e(t,a,n)),n}function P7(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],G2e(t,a,n)),n}function O7(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>p2e(f))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function j7(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["candidates"],f)}const i=x(t,["createTime"]);i!=null&&w(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&w(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const l=x(t,["responseId"]);l!=null&&w(e,["responseId"],l);const c=x(t,["usageMetadata"]);return c!=null&&w(e,["usageMetadata"],c),e}function W2e(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&w(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&w(e,["parameters","safetySetting"],s);const l=x(t,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const c=x(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&w(e,["parameters","includeSafetyAttributes"],c);const f=x(t,["includeRaiReason"]);e!==void 0&&f!=null&&w(e,["parameters","includeRaiReason"],f);const h=x(t,["language"]);e!==void 0&&h!=null&&w(e,["parameters","language"],h);const m=x(t,["outputMimeType"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","mimeType"],m);const g=x(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=x(t,["imageSize"]);if(e!==void 0&&y!=null&&w(e,["parameters","sampleImageSize"],y),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function K2e(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const f=x(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&w(e,["parameters","safetySetting"],f);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const E=x(t,["outputMimeType"]);e!==void 0&&E!=null&&w(e,["parameters","outputOptions","mimeType"],E);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","compressionQuality"],A);const S=x(t,["addWatermark"]);e!==void 0&&S!=null&&w(e,["parameters","addWatermark"],S);const I=x(t,["labels"]);e!==void 0&&I!=null&&w(e,["labels"],I);const P=x(t,["imageSize"]);e!==void 0&&P!=null&&w(e,["parameters","sampleImageSize"],P);const F=x(t,["enhancePrompt"]);return e!==void 0&&F!=null&&w(e,["parameters","enhancePrompt"],F),n}function Y2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&W2e(a,n),n}function J2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&K2e(a,n),n}function X2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>cwe(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],Wz(i)),e}function Q2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Jb(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],Kz(i)),e}function Z2e(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&w(e,["parameters","resolution"],s);const l=x(t,["personGeneration"]);if(e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=x(t,["negativePrompt"]);e!==void 0&&c!=null&&w(e,["parameters","negativePrompt"],c);const f=x(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&w(e,["parameters","enhancePrompt"],f),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=x(t,["lastFrame"]);e!==void 0&&h!=null&&w(e,["instances[0]","lastFrame"],Xb(h));const m=x(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>t5e(y))),w(e,["instances[0]","referenceImages"],g)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ewe(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&w(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&w(e,["parameters","durationSeconds"],s);const l=x(t,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&w(e,["parameters","aspectRatio"],c);const f=x(t,["resolution"]);e!==void 0&&f!=null&&w(e,["parameters","resolution"],f);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["pubsubTopic"]);e!==void 0&&m!=null&&w(e,["parameters","pubsubTopic"],m);const g=x(t,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const y=x(t,["enhancePrompt"]);e!==void 0&&y!=null&&w(e,["parameters","enhancePrompt"],y);const E=x(t,["generateAudio"]);e!==void 0&&E!=null&&w(e,["parameters","generateAudio"],E);const A=x(t,["lastFrame"]);e!==void 0&&A!=null&&w(e,["instances[0]","lastFrame"],Ul(A));const S=x(t,["referenceImages"]);if(e!==void 0&&S!=null){let F=S;Array.isArray(F)&&(F=F.map(B=>n5e(B))),w(e,["instances[0]","referenceImages"],F)}const I=x(t,["mask"]);e!==void 0&&I!=null&&w(e,["instances[0]","mask"],e5e(I));const P=x(t,["compressionQuality"]);return e!==void 0&&P!=null&&w(e,["parameters","compressionQuality"],P),n}function twe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],awe(s)),e}function nwe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],swe(s)),e}function rwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Xb(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],Jz(s));const l=x(e,["source"]);l!=null&&owe(l,n);const c=x(e,["config"]);return c!=null&&Z2e(c,n),n}function iwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Ul(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],Xz(s));const l=x(e,["source"]);l!=null&&lwe(l,n);const c=x(e,["config"]);return c!=null&&ewe(c,n),n}function awe(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>dwe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function swe(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>fwe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function owe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Xb(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],Jz(a)),n}function lwe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ul(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],Xz(a)),n}function cwe(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],bwe(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&w(e,["safetyAttributes"],Wz(i)),e}function Jb(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],Gz(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&w(e,["safetyAttributes"],Kz(i));const a=x(t,["prompt"]);return a!=null&&w(e,["enhancedPrompt"],a),e}function uwe(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["mask"],Gz(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["labels"],i)}return e}function dwe(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],Qwe(n)),e}function fwe(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],Zwe(n)),e}function hwe(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const f=x(t,["maxOutputTokens"]);f!=null&&w(e,["maxOutputTokens"],f);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const E=x(t,["responseModalities"]);E!=null&&w(e,["responseModalities"],E);const A=x(t,["responseSchema"]);A!=null&&w(e,["responseSchema"],A);const S=x(t,["routingConfig"]);S!=null&&w(e,["routingConfig"],S);const I=x(t,["seed"]);I!=null&&w(e,["seed"],I);const P=x(t,["speechConfig"]);P!=null&&w(e,["speechConfig"],P);const F=x(t,["stopSequences"]);F!=null&&w(e,["stopSequences"],F);const B=x(t,["temperature"]);B!=null&&w(e,["temperature"],B);const j=x(t,["thinkingConfig"]);j!=null&&w(e,["thinkingConfig"],j);const V=x(t,["topK"]);V!=null&&w(e,["topK"],V);const O=x(t,["topP"]);if(O!=null&&w(e,["topP"],O),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function pwe(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function mwe(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function gwe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function vwe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function ywe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xwe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=x(t,["personGeneration"]);i!=null&&w(e,["personGeneration"],i);const a=x(t,["outputMimeType"]);a!=null&&w(e,["imageOutputOptions","mimeType"],a);const s=x(t,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function bwe(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&w(e,["imageBytes"],xf(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Gz(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],xf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Xb(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&w(e,["bytesBase64Encoded"],xf(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ul(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],xf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function _we(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],Uz(t,l)),r}function wwe(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],Uz(t,l)),r}function Awe(t,e){const n={},r=x(e,["config"]);return r!=null&&_we(t,r,n),n}function Swe(t,e){const n={},r=x(e,["config"]);return r!=null&&wwe(t,r,n),n}function Nwe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=Bz(i);Array.isArray(a)&&(a=a.map(s=>nT(s))),w(e,["models"],a)}return e}function Ewe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=Bz(i);Array.isArray(a)&&(a=a.map(s=>rT(s))),w(e,["models"],a)}return e}function Twe(t){const e={},n=x(t,["maskMode"]);n!=null&&w(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function nT(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["version"]);a!=null&&w(e,["version"],a);const s=x(t,["_self"]);s!=null&&w(e,["tunedModelInfo"],zwe(s));const l=x(t,["inputTokenLimit"]);l!=null&&w(e,["inputTokenLimit"],l);const c=x(t,["outputTokenLimit"]);c!=null&&w(e,["outputTokenLimit"],c);const f=x(t,["supportedGenerationMethods"]);f!=null&&w(e,["supportedActions"],f);const h=x(t,["temperature"]);h!=null&&w(e,["temperature"],h);const m=x(t,["maxTemperature"]);m!=null&&w(e,["maxTemperature"],m);const g=x(t,["topP"]);g!=null&&w(e,["topP"],g);const y=x(t,["topK"]);y!=null&&w(e,["topK"],y);const E=x(t,["thinking"]);return E!=null&&w(e,["thinking"],E),e}function rT(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["versionId"]);a!=null&&w(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>B2e(g))),w(e,["endpoints"],m)}const l=x(t,["labels"]);l!=null&&w(e,["labels"],l);const c=x(t,["_self"]);c!=null&&w(e,["tunedModelInfo"],$we(c));const f=x(t,["defaultCheckpointId"]);f!=null&&w(e,["defaultCheckpointId"],f);const h=x(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),w(e,["checkpoints"],m)}return e}function Cwe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],V2e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],q2e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],h2e(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Iwe(t){const e={},n=x(t,["productImage"]);return n!=null&&w(e,["image"],Ul(n)),e}function Rwe(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&w(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&w(e,["parameters","seed"],s);const l=x(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&w(e,["parameters","safetySetting"],l);const c=x(t,["personGeneration"]);e!==void 0&&c!=null&&w(e,["parameters","personGeneration"],c);const f=x(t,["addWatermark"]);e!==void 0&&f!=null&&w(e,["parameters","addWatermark"],f);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const m=x(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","compressionQuality"],m);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const y=x(t,["labels"]);return e!==void 0&&y!=null&&w(e,["labels"],y),n}function kwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["source"]);i!=null&&Owe(i,n);const a=x(e,["config"]);return a!=null&&Rwe(a,n),n}function Pwe(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Jb(i))),w(e,["generatedImages"],r)}return e}function Owe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Ul(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Iwe(l))),w(e,["instances[0]","productImages"],s)}return n}function jwe(t){const e={},n=x(t,["referenceImage"]);n!=null&&w(e,["referenceImage"],Ul(n));const r=x(t,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&w(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&w(e,["maskImageConfig"],Twe(a));const s=x(t,["controlImageConfig"]);s!=null&&w(e,["controlImageConfig"],b2e(s));const l=x(t,["styleImageConfig"]);l!=null&&w(e,["styleImageConfig"],l);const c=x(t,["subjectImageConfig"]);return c!=null&&w(e,["subjectImageConfig"],c),e}function Wz(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Kz(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Dwe(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Mwe(t){const e={},n=x(t,["image"]);return n!=null&&w(e,["image"],Ul(n)),e}function Lwe(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&w(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&w(e,["parameters","maskDilation"],s);const l=x(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&w(e,["parameters","binaryColorThreshold"],l);const c=x(t,["labels"]);return e!==void 0&&c!=null&&w(e,["labels"],c),n}function Fwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["source"]);i!=null&&Bwe(i,n);const a=x(e,["config"]);return a!=null&&Lwe(a,n),n}function Uwe(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uwe(i))),w(e,["generatedMasks"],r)}return e}function Bwe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ul(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&w(e,["instances[0]","scribble"],Mwe(a)),n}function Vwe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],z2e(r)),e}function qwe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],gwe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],vwe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function Yz(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>$2e(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=x(t,["googleSearchRetrieval"]);f!=null&&w(e,["googleSearchRetrieval"],f);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function zwe(t){const e={},n=x(t,["baseModel"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function $we(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function Hwe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Gwe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Wwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","name"],ar(t,r));const i=x(e,["config"]);return i!=null&&Hwe(i,n),n}function Kwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&Gwe(i,n),n}function Ywe(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&w(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&w(e,["parameters","includeRaiReason"],s);const l=x(t,["outputMimeType"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","mimeType"],l);const c=x(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&w(e,["parameters","outputOptions","compressionQuality"],c);const f=x(t,["enhanceInputImage"]);e!==void 0&&f!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=x(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const y=x(t,["mode"]);return e!==void 0&&y!=null&&w(e,["parameters","mode"],y),n}function Jwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["image"]);i!=null&&w(n,["instances[0]","image"],Ul(i));const a=x(e,["upscaleFactor"]);a!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Ywe(s,n),n}function Xwe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Jb(a))),w(e,["generatedImages"],i)}return e}function Qwe(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],xf(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function Zwe(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],xf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function e5e(t){const e={},n=x(t,["image"]);n!=null&&w(e,["_self"],Ul(n));const r=x(t,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function t5e(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Xb(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function n5e(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Ul(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function Jz(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["encodedVideo"],xf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function Xz(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],xf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r5e(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),n}function i5e(t){const e={},n=x(t,["config"]);return n!=null&&r5e(n,e),e}function a5e(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function s5e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&a5e(r,e),e}function o5e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function l5e(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),n}function c5e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],d5e(s)),e}function u5e(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&w(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&l5e(i,e),e}function d5e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function f5e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function h5e(t){const e={},n=x(t,["config"]);return n!=null&&f5e(n,e),e}function p5e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["fileSearchStores"],a)}return e}function Qz(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),w(e,["customMetadata"],l)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&w(e,["chunkingConfig"],s),n}function m5e(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&Qz(r,e),e}function g5e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v5e="Content-Type",y5e="X-Server-Timeout",x5e="User-Agent",iT="x-goog-api-client",b5e="1.37.0",_5e=`google-genai-sdk/${b5e}`,w5e="v1beta1",A5e="v1beta";class S5e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:w5e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:A5e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&N5e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await D7(i),new ZE(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await D7(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return kl(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield dn(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const A=JSON.parse(JSON.stringify(E.error)),S=A.status,I=A.code,P=`got status: ${S}. ${JSON.stringify(E)}`;if(I>=400&&I<600)throw new Kb({message:P,status:I})}}catch(E){if(E.name==="ApiError")throw E}s+=m;let g=-1,y=0;for(;;){g=-1,y=0;for(const S of c){const I=s.indexOf(S);I!==-1&&(g===-1||I<g)&&(g=I,y=S.length)}if(g===-1)break;const E=s.substring(0,g);s=s.substring(g+y);const A=E.trim();if(A.startsWith(l)){const S=A.substring(l.length).trim();try{const I=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield dn(new ZE(I))}catch(I){throw new Error(`exception parsing stream chunk ${S}. ${I}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=_5e+" "+this.clientOptions.userAgentExtra;return e[x5e]=n,e[iT]=n,e[v5e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(y5e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},f=this.getFileName(e),h=Pt("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&Qz(r,m);const g=await this.fetchUploadUrl(f,l,c,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function D7(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Kb({message:i,status:n}):new Error(i)}}function N5e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const l=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=l[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[c]=f)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E5e="mcp_used/unknown";let T5e=!1;function Zz(t){for(const e of t)if(C5e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return T5e}function e$(t){var e;const n=(e=t[iT])!==null&&e!==void 0?e:"";t[iT]=(n+` ${E5e}`).trimStart()}function C5e(t){return t!==null&&typeof t=="object"&&t instanceof jI}function I5e(t){return kl(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield dn(n.listTools({cursor:i}));for(const l of s.tools)yield yield dn(l),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class jI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new jI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,Pl(I5e(h))),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const m=i;s.push(m);const g=m.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(m){n={error:m}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),sbe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function R5e(t,e,n){const r=new Q1e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class k5e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=j5e(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(F=>{f=F}),m=e.callbacks,g=function(){f({})},y=this.apiClient,E={onopen:g,onmessage:F=>{R5e(y,m.onmessage,F)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(F){}},A=this.webSocketFactory.create(c,O5e(s),E);A.connect(),await h;const P={setup:{model:ar(this.apiClient,e.model)}};return A.send(JSON.stringify(P)),new P5e(A,this.apiClient)}}class P5e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=r2e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=n2e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wp.PLAY)}pause(){this.sendPlaybackControl(wp.PAUSE)}stop(){this.sendPlaybackControl(wp.STOP)}resetContext(){this.sendPlaybackControl(wp.RESET_CONTEXT)}close(){this.conn.close()}}function O5e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function j5e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D5e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function M5e(t,e,n){const r=new X1e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=s2e(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class L5e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new k5e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Zz(e.config.tools)&&e$(m);const g=V5e(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const z=this.apiClient.getApiKey();let H="BidiGenerateContent",U="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),H="BidiGenerateContentConstrained",U="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${H}?${U}=${z}`}let y=()=>{};const E=new Promise(z=>{y=z}),A=e.callbacks,S=function(){var z;(z=A==null?void 0:A.onopen)===null||z===void 0||z.call(A),y({})},I=this.apiClient,P={onopen:S,onmessage:z=>{M5e(I,A.onmessage,z)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(z){}},F=this.webSocketFactory.create(h,B5e(g),P);F.connect(),await E;let B=ar(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const z=this.apiClient.getProject(),H=this.apiClient.getLocation();B=`projects/${z}/locations/${H}/`+B}let j={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[U1.AUDIO]}:e.config.responseModalities=[U1.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],O=[];for(const z of V)if(this.isCallableTool(z)){const H=z;O.push(await H.tool())}else O.push(z);O.length>0&&(e.config.tools=O);const D={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=t2e(this.apiClient,D):j=e2e(this.apiClient,D),delete j.config,F.send(JSON.stringify(j)),new U5e(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const F5e={turnComplete:!0};class U5e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ko(n.turns),e.isVertexAI()||(r=r.map(i=>Yb(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(D5e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},F5e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:a2e(e)}:n={realtimeInput:i2e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function B5e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function V5e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M7=10;function L7(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Fp(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Fp(t){return"callTool"in t&&typeof t.callTool=="function"}function q5e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Fp(i)))!==null&&r!==void 0?r:!1}function F7(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Fp(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function U7(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z5e extends zu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!q5e(n)||L7(n.config))return await this.generateContentInternal(c);const f=F7(n);if(f.length>0){const A=f.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,m;const g=Ko(c.contents),y=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:M7;let E=0;for(;E<y&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,S=[];for(const I of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Fp(I)){const F=await I.callTool(h.functionCalls);S.push(...F)}E++,m={role:"user",parts:S},c.contents=Ko(c.contents),c.contents.push(A),c.contents.push(m),U7(c.config)&&(g.push(A),g.push(m))}return U7(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,l;if(this.maybeMoveToResponseJsonSchem(n),L7(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=F7(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let l;return a?l={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ah(Fu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Fp(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&Zz(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),e$(f),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Fp(s)){const l=s,c=await l.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:M7;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(f,h,m){return kl(this,arguments,function*(){for(var g,y,E,A,S,I;l<a;){s&&(l++,s=!1);const j=yield dn(f.processParamsMaybeAddMcpUsage(m)),V=yield dn(f.generateContentStreamInternal(j)),O=[],D=[];try{for(var P=!0,F=(y=void 0,Pl(V)),B;B=yield dn(F.next()),g=B.done,!g;P=!0){A=B.value,P=!1;const z=A;if(yield yield dn(z),z.candidates&&(!((S=z.candidates[0])===null||S===void 0)&&S.content)){D.push(z.candidates[0].content);for(const H of(I=z.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(l<a&&H.functionCall){if(!H.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(H.functionCall.name)){const U=yield dn(h.get(H.functionCall.name).callTool([H.functionCall]));O.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${H.functionCall.name}`)}}}}catch(z){y={error:z}}finally{try{!P&&!g&&(E=F.return)&&(yield dn(E.call(F)))}finally{if(y)throw y.error}}if(O.length>0){s=!0;const z=new Rg;z.candidates=[{content:{role:"user",parts:O}}],yield yield dn(z);const H=[];H.push(...D),H.push({role:"user",parts:O});const U=Ko(m.contents).concat(H);m.contents=U}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=P7(this.apiClient,e);return l=Pt("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=j7(h),g=new Rg;return Object.assign(g,m),g})}else{const f=k7(this.apiClient,e);return l=Pt("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=O7(h),g=new Rg;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=P7(this.apiClient,e);return l=Pt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return kl(this,arguments,function*(){var g,y,E,A;try{for(var S=!0,I=Pl(m),P;P=yield dn(I.next()),g=P.done,!g;S=!0){A=P.value,S=!1;const F=A,B=j7(yield dn(F.json()));B.sdkHttpResponse={headers:F.headers};const j=new Rg;Object.assign(j,B),yield yield dn(j)}}catch(F){y={error:F}}finally{try{!S&&!g&&(E=I.return)&&(yield dn(E.call(I)))}finally{if(y)throw y.error}}})})}else{const f=k7(this.apiClient,e);return l=Pt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return kl(this,arguments,function*(){var g,y,E,A;try{for(var S=!0,I=Pl(m),P;P=yield dn(I.next()),g=P.done,!g;S=!0){A=P.value,S=!1;const F=A,B=O7(yield dn(F.json()));B.sdkHttpResponse={headers:F.headers};const j=new Rg;Object.assign(j,B),yield yield dn(j)}}catch(F){y={error:F}}finally{try{!S&&!g&&(E=I.return)&&(yield dn(E.call(I)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=L2e(this.apiClient,e);return l=Pt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=U2e(h),g=new p7;return Object.assign(g,m),g})}else{const f=M2e(this.apiClient,e);return l=Pt("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=F2e(h),g=new p7;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=J2e(this.apiClient,e);return l=Pt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Q2e(h),g=new m7;return Object.assign(g,m),g})}else{const f=Y2e(this.apiClient,e);return l=Pt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=X2e(h),g=new m7;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=P2e(this.apiClient,e);return a=Pt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=O2e(c),h=new B1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Jwe(this.apiClient,e);return a=Pt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Xwe(c),h=new V1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=kwe(this.apiClient,e);return a=Pt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Pwe(c),h=new q1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Fwe(this.apiClient,e);return a=Pt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Uwe(c),h=new z1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=mwe(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>rT(h))}else{const f=pwe(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>nT(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Swe(this.apiClient,e);return l=Pt("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Ewe(h),g=new g7;return Object.assign(g,m),g})}else{const f=Awe(this.apiClient,e);return l=Pt("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Nwe(h),g=new g7;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Kwe(this.apiClient,e);return l=Pt("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>rT(h))}else{const f=Wwe(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>nT(h))}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=C2e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=R2e(h),g=new v7;return Object.assign(g,m),g})}else{const f=T2e(this.apiClient,e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=I2e(h),g=new v7;return Object.assign(g,m),g})}}async countTokens(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=S2e(this.apiClient,e);return l=Pt("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=E2e(h),g=new y7;return Object.assign(g,m),g})}else{const f=A2e(this.apiClient,e);return l=Pt("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=N2e(h),g=new y7;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=g2e(this.apiClient,e);return a=Pt("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=v2e(c),h=new $1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=iwe(this.apiClient,e);return l=Pt("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=nwe(h),g=new B1;return Object.assign(g,m),g})}else{const f=rwe(this.apiClient,e);return l=Pt("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=twe(h),g=new B1;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $5e extends zu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=j1e(e);return l=Pt("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=O1e(e);return l=Pt("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=E1e(e);return a=Pt("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H5e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function G5e(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>tAe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function W5e(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&w(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&w(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&w(n,["uses"],s);const l=x(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&w(n,["bidiGenerateContentSetup"],eAe(t,l));const c=x(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&w(n,["fieldMask"],c),r}function K5e(t,e){const n={},r=x(e,["config"]);return r!=null&&w(n,["config"],W5e(t,r,n)),n}function Y5e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function J5e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function X5e(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function Q5e(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function Z5e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const f=x(t,["mediaResolution"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","mediaResolution"],f);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],OI(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=x(t,["systemInstruction"]);e!==void 0&&E!=null&&w(e,["setup","systemInstruction"],G5e(ss(E)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let V=Mm(A);Array.isArray(V)&&(V=V.map(O=>rAe(Dm(O)))),w(e,["setup","tools"],V)}const S=x(t,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],nAe(S));const I=x(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","inputAudioTranscription"],I);const P=x(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&w(e,["setup","outputAudioTranscription"],P);const F=x(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&w(e,["setup","realtimeInputConfig"],F);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&w(e,["setup","contextWindowCompression"],B);const j=x(t,["proactivity"]);if(e!==void 0&&j!=null&&w(e,["setup","proactivity"],j),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function eAe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],Z5e(i,n)),n}function tAe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Y5e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],J5e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],H5e(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function nAe(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rAe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],X5e(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],Q5e(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iAe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function aAe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=iAe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class sAe extends zu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=K5e(this.apiClient,e);a=Pt("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=aAe(l,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oAe(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function lAe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&oAe(r,e),e}function cAe(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function uAe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function dAe(t){const e={},n=x(t,["parent"]);n!=null&&w(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&uAe(r,e),e}function fAe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hAe extends zu{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ah(Fu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cAe(e);return a=Pt("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lAe(e);i=Pt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dAe(e);return a=Pt("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=fAe(c),h=new H1e;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pAe extends zu{constructor(e,n=new hAe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ah(Fu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=i5e(e);return a=Pt("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=o5e(e);return a=Pt("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=s5e(e);i=Pt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=h5e(e);return a=Pt("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=p5e(c),h=new G1e;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=m5e(e);return a=Pt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=g5e(c),h=new W1e;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=u5e(e);return a=Pt("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=c5e(c),h=new CI;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let t$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return t$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const mAe=()=>t$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const sT=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jo extends Error{}class Ns extends Jo{constructor(e,n,r,i){super(`${Ns.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Qb({message:r,cause:sT(n)});const a=n;return e===400?new r$(e,a,r,i):e===401?new i$(e,a,r,i):e===403?new a$(e,a,r,i):e===404?new s$(e,a,r,i):e===409?new o$(e,a,r,i):e===422?new l$(e,a,r,i):e===429?new c$(e,a,r,i):e>=500?new u$(e,a,r,i):new Ns(e,a,r,i)}}class oT extends Ns{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Qb extends Ns{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class n$ extends Qb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class r$ extends Ns{}class i$ extends Ns{}class a$ extends Ns{}class s$ extends Ns{}class o$ extends Ns{}class l$ extends Ns{}class c$ extends Ns{}class u$ extends Ns{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gAe=/^[a-z][a-z0-9+.-]*:/i,vAe=t=>gAe.test(t);let lT=t=>(lT=Array.isArray,lT(t));const yAe=lT;let xAe=yAe;const B7=xAe;function bAe(t){if(!t)return!0;for(const e in t)return!1;return!0}function _Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const wAe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jo(`${t} must be an integer`);if(e<0)throw new Jo(`${t} must be a positive integer`);return e},AAe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SAe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gp="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NAe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EAe=()=>{var t,e,n,r,i;const a=NAe();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":q7(Deno.build.os),"X-Stainless-Arch":V7(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":q7((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":V7((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=TAe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TAe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const V7=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",q7=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let By;const CAe=()=>By??(By=EAe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IAe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function d$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function RAe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return d$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function f$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function kAe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PAe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zS(t,e,n){return h$(),new File(t,e??"unknown_file",n)}function OAe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const jAe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",DAe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&p$(t),MAe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function LAe(t,e,n){if(h$(),t=await t,DAe(t))return t instanceof File?t:zS([await t.arrayBuffer()],t.name);if(MAe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),zS(await cT(i),e,n)}const r=await cT(t);if(e||(e=OAe(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return zS(r,e,n)}async function cT(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(p$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(jAe(t))try{for(var l=!0,c=Pl(t),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const h=i;s.push(...await cT(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${FAe(t)}`)}return s}function FAe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m${constructor(e){this._client=e}}m$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const z7=Object.freeze(Object.create(null)),UAe=(t=g$)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,m,g)=>{var y,E,A;/[?#]/.test(m)&&(i=!0);const S=r[g];let I=(i?encodeURIComponent:t)(""+S);return g!==r.length&&(S==null||typeof S=="object"&&S.toString===((A=Object.getPrototypeOf((E=Object.getPrototypeOf((y=S.hasOwnProperty)!==null&&y!==void 0?y:z7))!==null&&E!==void 0?E:z7))===null||A===void 0?void 0:A.toString))&&(I=S+"",a.push({start:h.length+m.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":I)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(l))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((g,y)=>{const E=" ".repeat(y.start-h),A="^".repeat(y.length);return h=y.start+y.length,g+E+A},"");throw new Jo(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${m}`)}return s}),Vy=UAe(g$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v$ extends m${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=q1(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Jo("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Jo("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Vy`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Vy`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Vy`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,l=q1(a,["api_version"]);return this._client.get(Vy`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}v$._key=Object.freeze(["interactions"]);class y$ extends v${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BAe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let qy;function DI(t){let e;return(qy??(e=new globalThis.TextEncoder,qy=e.encode.bind(e)))(t)}let zy;function $7(t){let e;return(zy??(e=new globalThis.TextDecoder,zy=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zb{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?DI(e):e;this.buffer=BAe([this.buffer,n]);const r=[];let i;for(;(i=VAe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push($7(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=$7(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Zb.NEWLINE_CHARS=new Set([`
`,"\r"]);Zb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function VAe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function qAe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z1={off:0,error:200,warn:300,info:400,debug:500},H7=(t,e,n)=>{if(t){if(_Ae(z1,t))return t;_s(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(z1))}`)}};function zg(){}function $y(t,e,n){return!e||z1[t]>z1[n]?zg:e[t].bind(e)}const zAe={error:zg,warn:zg,info:zg,debug:zg};let G7=new WeakMap;function _s(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return zAe;const i=G7.get(n);if(i&&i[0]===r)return i[1];const a={error:$y("error",n,r),warn:$y("warn",n,r),info:$y("info",n,r),debug:$y("debug",n,r)};return G7.set(n,[r,a]),a}const Vf=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ap{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?_s(r):console;function s(){return kl(this,arguments,function*(){var c,f,h,m;if(i)throw new Jo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,E=Pl($Ae(e,n)),A;A=yield dn(E.next()),c=A.done,!c;y=!0){m=A.value,y=!1;const S=m;if(!g)if(S.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield dn(JSON.parse(S.data))}catch(I){throw a.error("Could not parse message into JSON:",S.data),a.error("From chunk:",S.raw),I}}}catch(S){f={error:S}}finally{try{!y&&!c&&(h=E.return)&&(yield dn(h.call(E)))}finally{if(f)throw f.error}}g=!0}catch(S){if(aT(S))return yield dn(void 0);throw S}finally{g||n.abort()}})}return new Ap(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return kl(this,arguments,function*(){var c,f,h,m;const g=new Zb,y=f$(e);try{for(var E=!0,A=Pl(y),S;S=yield dn(A.next()),c=S.done,!c;E=!0){m=S.value,E=!1;const I=m;for(const P of g.decode(I))yield yield dn(P)}}catch(I){f={error:I}}finally{try{!E&&!c&&(h=A.return)&&(yield dn(h.call(A)))}finally{if(f)throw f.error}}for(const I of g.flush())yield yield dn(I)})}function s(){return kl(this,arguments,function*(){var c,f,h,m;if(i)throw new Jo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,E=Pl(a()),A;A=yield dn(E.next()),c=A.done,!c;y=!0){m=A.value,y=!1;const S=m;g||S&&(yield yield dn(JSON.parse(S)))}}catch(S){f={error:S}}finally{try{!y&&!c&&(h=E.return)&&(yield dn(h.call(E)))}finally{if(f)throw f.error}}g=!0}catch(S){if(aT(S))return yield dn(void 0);throw S}finally{g||n.abort()}})}return new Ap(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Ap(()=>i(e),this.controller,this.client),new Ap(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return d$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=DI(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function $Ae(t,e){return kl(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jo("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jo("Attempted to iterate over a response with no body");const l=new GAe,c=new Zb,f=f$(t.body);try{for(var h=!0,m=Pl(HAe(f)),g;g=yield dn(m.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const y=s;for(const E of c.decode(y)){const A=l.decode(E);A&&(yield yield dn(A))}}}catch(y){i={error:y}}finally{try{!h&&!r&&(a=m.return)&&(yield dn(a.call(m)))}finally{if(i)throw i.error}}for(const y of c.flush()){const E=l.decode(y);E&&(yield yield dn(E))}})}function HAe(t){return kl(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var l=!0,c=Pl(t),f;f=yield dn(c.next()),n=f.done,!n;l=!0){a=f.value,l=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?DI(h):h;let g=new Uint8Array(s.length+m.length);g.set(s),g.set(m,s.length),s=g;let y;for(;(y=qAe(s))!==-1;)yield yield dn(s.slice(0,y)),s=s.slice(y)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield dn(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield dn(s))})}class GAe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=WAe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function WAe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function KAe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var l;if(e.options.stream)return _s(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ap.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return _s(t).debug(`[${r}] response parsed`,Vf({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MI extends Promise{constructor(e,n,r=KAe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new MI(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x$=Symbol("brand.privateNullableHeaders");function*YAe(t){if(!t)return;if(x$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():B7(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=B7(r[1])?r[1]:[r[1]];let s=!1;for(const l of a)l!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const kg=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of YAe(r)){const l=a.toLowerCase();i.has(l)||(e.delete(a),i.add(l)),s===null?(e.delete(a),n.add(l)):(e.append(a,s),n.delete(l))}}return{[x$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $S=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=b1e)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var b$;class e_{constructor(e){var n,r,i,a,s,l,c,{baseURL:f=$S("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=$S("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,g=q1(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:e_.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(s=(a=H7(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:H7($S("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:E,this.fetchOptions=y.fetchOptions,this.maxRetries=(l=y.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:IAe(),this.encoder=PAe,this._options=y,this.apiKey=h,this.apiVersion=m,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=kg([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return kg([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return kg([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Jo(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${gp}`}defaultIdempotencyKey(){return`stainless-node-retry-${mAe()}`}makeStatusError(e,n,r,i){return Ns.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=vAe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return bAe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new MI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:f,url:h,timeout:m}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(_s(this).debug(`[${g}] sending request`,Vf({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:f.headers})),!((a=l.signal)===null||a===void 0)&&a.aborted)throw new oT;const A=new AbortController,S=await this.fetchWithTimeout(h,f,m,A).catch(sT),I=Date.now();if(S instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(!((s=l.signal)===null||s===void 0)&&s.aborted)throw new oT;const B=aT(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return _s(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${F}`),_s(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${F})`,Vf({retryOfRequestLogID:r,url:h,durationMs:I-E,message:S.message})),this.retryRequest(l,n,r??g);throw _s(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),_s(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Vf({retryOfRequestLogID:r,url:h,durationMs:I-E,message:S.message})),B?new n$:new Qb({cause:S})}const P=`[${g}${y}] ${f.method} ${h} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${I-E}ms`;if(!S.ok){const F=await this.shouldRetry(S);if(n&&F){const z=`retrying, ${n} attempts remaining`;return await kAe(S.body),_s(this).info(`${P} - ${z}`),_s(this).debug(`[${g}] response error (${z})`,Vf({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:I-E})),this.retryRequest(l,n,r??g,S.headers)}const B=F?"error; no more retries left":"error; not retryable";_s(this).info(`${P} - ${B}`);const j=await S.text().catch(z=>sT(z).message),V=AAe(j),O=V?void 0:j;throw _s(this).debug(`[${g}] response error (${B})`,Vf({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,message:O,durationMs:Date.now()-E})),this.makeStatusError(S.status,V,O,S.headers)}return _s(this).info(P),_s(this).debug(`[${g}] response start`,Vf({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:I-E})),{response:S,options:l,controller:A,requestLogID:g,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:l}=a,c=q1(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const l=i==null?void 0:i.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await SAe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:l,path:c,query:f,defaultBaseURL:h}=s,m=this.buildURL(c,f,h);"timeout"in s&&wAe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),E=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:E},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let l=kg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),CAe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=kg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:RAe(e)}:this.encoder({body:e,headers:r})}}e_.DEFAULT_TIMEOUT=6e4;class ya extends e_{constructor(){super(...arguments),this.interactions=new y$(this)}}b$=ya;ya.GeminiNextGenAPIClient=b$;ya.GeminiNextGenAPIClientError=Jo;ya.APIError=Ns;ya.APIConnectionError=Qb;ya.APIConnectionTimeoutError=n$;ya.APIUserAbortError=oT;ya.NotFoundError=s$;ya.ConflictError=o$;ya.RateLimitError=c$;ya.BadRequestError=r$;ya.AuthenticationError=i$;ya.InternalServerError=u$;ya.PermissionDeniedError=a$;ya.UnprocessableEntityError=l$;ya.toFile=LAe;ya.Interactions=y$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JAe(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function XAe(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function QAe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function ZAe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function eSe(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&w(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=x(t,["batchSize"]);e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","batchSize"],l);const c=x(t,["learningRate"]);if(e!==void 0&&c!=null&&w(e,["tuningTask","hyperparameters","learningRate"],c),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function tSe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec"],W7(y))}else if(i==="PREFERENCE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec"],W7(y))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&w(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&w(e,["description"],s);let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(f==="PREFERENCE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(h==="PREFERENCE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function nSe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&hSe(a);const s=x(t,["config"]);return s!=null&&eSe(s,n),n}function rSe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&pSe(a,n,e);const s=x(t,["config"]);return s!=null&&tSe(s,n,e),n}function iSe(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function aSe(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function sSe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function oSe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function lSe(t,e){const n={},r=x(t,["config"]);return r!=null&&sSe(r,n),n}function cSe(t,e){const n={},r=x(t,["config"]);return r!=null&&oSe(r,n),n}function uSe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>_$(l))),w(n,["tuningJobs"],s)}return n}function dSe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>uT(l))),w(n,["tuningJobs"],s)}return n}function fSe(t,e){const n={},r=x(t,["name"]);r!=null&&w(n,["model"],r);const i=x(t,["name"]);return i!=null&&w(n,["endpoint"],i),n}function hSe(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(n,["examples","examples"],i)}return n}function pSe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function _$(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],Lz(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["tuningTask","startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["tuningTask","completeTime"]);c!=null&&w(n,["endTime"],c);const f=x(t,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=x(t,["description"]);h!=null&&w(n,["description"],h);const m=x(t,["baseModel"]);m!=null&&w(n,["baseModel"],m);const g=x(t,["_self"]);return g!=null&&w(n,["tunedModel"],fSe(g)),n}function uT(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],Lz(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(n,["endTime"],c);const f=x(t,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=x(t,["error"]);h!=null&&w(n,["error"],h);const m=x(t,["description"]);m!=null&&w(n,["description"],m);const g=x(t,["baseModel"]);g!=null&&w(n,["baseModel"],g);const y=x(t,["tunedModel"]);y!=null&&w(n,["tunedModel"],y);const E=x(t,["preTunedModel"]);E!=null&&w(n,["preTunedModel"],E);const A=x(t,["supervisedTuningSpec"]);A!=null&&w(n,["supervisedTuningSpec"],A);const S=x(t,["preferenceOptimizationSpec"]);S!=null&&w(n,["preferenceOptimizationSpec"],S);const I=x(t,["tuningDataStats"]);I!=null&&w(n,["tuningDataStats"],I);const P=x(t,["encryptionSpec"]);P!=null&&w(n,["encryptionSpec"],P);const F=x(t,["partnerModelTuningSpec"]);F!=null&&w(n,["partnerModelTuningSpec"],F);const B=x(t,["customBaseModel"]);B!=null&&w(n,["customBaseModel"],B);const j=x(t,["experiment"]);j!=null&&w(n,["experiment"],j);const V=x(t,["labels"]);V!=null&&w(n,["labels"],V);const O=x(t,["outputUri"]);O!=null&&w(n,["outputUri"],O);const D=x(t,["pipelineJob"]);D!=null&&w(n,["pipelineJob"],D);const z=x(t,["serviceAccount"]);z!=null&&w(n,["serviceAccount"],z);const H=x(t,["tunedModelDisplayName"]);H!=null&&w(n,["tunedModelDisplayName"],H);const U=x(t,["veoTuningSpec"]);return U!=null&&w(n,["veoTuningSpec"],U),n}function mSe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(t,["done"]);s!=null&&w(n,["done"],s);const l=x(t,["error"]);return l!=null&&w(n,["error"],l),n}function W7(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&w(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gSe extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Fu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:QE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=aSe(e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>uT(h))}else{const f=iSe(e);return l=Pt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>_$(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=cSe(e);return l=Pt("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=dSe(h),g=new x7;return Object.assign(g,m),g})}else{const f=lSe(e);return l=Pt("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=uSe(h),g=new x7;return Object.assign(g,m),g})}}async cancel(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=XAe(e);return l=Pt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=ZAe(h),g=new b7;return Object.assign(g,m),g})}else{const f=JAe(e);return l=Pt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=QAe(h),g=new b7;return Object.assign(g,m),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=rSe(e,e);return a=Pt("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>uT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=nSe(e);return a=Pt("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>mSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ySe=1024*1024*8,xSe=3,bSe=1e3,_Se=2,$1="x-goog-upload-status";async function wSe(t,e,n){var r;const i=await w$(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[$1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function ASe(t,e,n){var r;const i=await w$(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[$1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=kz(a),l=new II;return Object.assign(l,s),l}async function w$(t,e,n){var r,i;let a=0,s=0,l=new ZE(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(ySe,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let m=0,g=bSe;for(;m<xSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[$1]));)m++,await NSe(g),g=g*_Se;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[$1])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function SSe(t){return{size:t.size,type:t.type}}function NSe(t){return new Promise(e=>setTimeout(e,t))}class ESe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wSe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ASe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TSe{create(e,n,r){return new CSe(e,n,r)}}class CSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K7="x-goog-api-key";class ISe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(K7)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(K7,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RSe="gl-node/";class kSe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ya({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=S1e(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new ISe(this.apiKey);this.apiClient=new S5e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:RSe+"web",uploader:new ESe,downloader:new vSe}),this.models=new z5e(this.apiClient),this.live=new L5e(this.apiClient,i,new TSe),this.batches=new Zbe(this.apiClient),this.chats=new j_e(this.models,this.apiClient),this.caches=new k_e(this.apiClient),this.files=new $_e(this.apiClient),this.operations=new $5e(this.apiClient),this.authTokens=new sAe(this.apiClient),this.tunings=new gSe(this.apiClient),this.fileSearchStores=new pAe(this.apiClient)}}const PSe=[{id:"ADMINISTRATIVO",name:"Administradora",description:"Crebro Central  entende TUDO do sistema. Lotes, estoque, clientes, vendas, pedidos, fornecedores, financeiro, cadeia do abate, rob de vendas e auditoria.",icon:"",color:"blue",enabled:!0,systemPrompt:"Agente Administrativo do FrigoGest  crebro central com 68 regras em 10 mdulos.",modules:["LOTES","ESTOQUE","CLIENTES","VENDAS","PEDIDOS","FORNECEDORES","FINANCEIRO","CADEIA_ABATE","ROBO_VENDAS","AUDITORIA"],triggerCount:19},{id:"PRODUCAO",name:"Produo & Rendimento",description:"Especialista em rendimento de carcaa, raas, quebra de resfriamento e anlise de fornecedores com scorecard.",icon:"",color:"emerald",enabled:!0,systemPrompt:"Agente de Produo  rendimento, raas, quebra de resfriamento, scorecard de fornecedores.",modules:["LOTES","ESTOQUE","FORNECEDORES"],triggerCount:6},{id:"COMERCIAL",name:"Comercial & Vendas",description:"Focado em maximizar receita, proteger margem, controlar crdito de clientes e ranking de melhores compradores.",icon:"",color:"amber",enabled:!0,systemPrompt:"Agente Comercial  margem, crdito, preo sugerido, ranking de clientes.",modules:["VENDAS","CLIENTES"],triggerCount:4},{id:"AUDITOR",name:"Auditor Financeiro",description:"Garante que cada centavo esteja rastreado. Detecta furos no caixa, estornos incompletos e transaes rfs.",icon:"",color:"rose",enabled:!0,systemPrompt:"Auditor Financeiro  regra de ouro: cada venda paga deve ter Transaction ENTRADA.",modules:["FINANCEIRO","VENDAS","LOTES"],triggerCount:5}],OSe=({onBack:t,batches:e,stock:n,sales:r,clients:i,transactions:a,suppliers:s,payables:l,scheduledOrders:c})=>{const[f,h]=ye.useState(null),[m,g]=ye.useState("overview"),[y]=ye.useState(PSe),[E,A]=ye.useState(null),[S,I]=ye.useState(!1),[P,F]=ye.useState(null),B=ye.useRef(null),j=ye.useMemo(()=>{const R=[],C=new Date;e.filter(W=>W.status==="ABERTO").forEach(W=>{const te=Math.floor((C.getTime()-new Date(W.data_recebimento).getTime())/864e5),re=n.some(ve=>ve.id_lote===W.id_lote);te>7&&!re&&R.push({id:`ADM-LOTE-${W.id_lote}`,agent:"ADMINISTRATIVO",severity:"ALERTA",module:"LOTES",title:`Lote ${W.id_lote} sem peas`,message:`Lote aberto h ${te} dias sem peas registradas no estoque. Verificar desossa.`,timestamp:C.toISOString(),status:"NOVO"})}),i.forEach(W=>{const te=r.filter(re=>re.id_cliente===W.id_ferro&&re.status_pagamento!=="ESTORNADO").sort((re,ve)=>new Date(ve.data_venda).getTime()-new Date(re.data_venda).getTime())[0];if(te){const re=Math.floor((C.getTime()-new Date(te.data_venda).getTime())/864e5);re>60&&R.push({id:`ADM-CLI-${W.id_ferro}`,agent:"ADMINISTRATIVO",severity:"INFO",module:"CLIENTES",title:`Cliente ${W.nome_social} inativo`,message:`Sem compras h ${re} dias. Considere reativar contato.`,timestamp:C.toISOString(),status:"NOVO"})}});const G=new Date(C);G.setDate(G.getDate()+1);const le=G.toISOString().split("T")[0];return c.filter(W=>W.data_entrega===le&&W.status==="ABERTO").forEach(W=>{R.push({id:`ADM-PED-${W.id}`,agent:"ADMINISTRATIVO",severity:"CRITICO",module:"PEDIDOS",title:"Pedido amanh sem confirmar!",message:`Pedido de ${W.nome_cliente} para ${le} ainda est ABERTO. Confirmar urgente!`,timestamp:C.toISOString(),status:"NOVO"})}),s.forEach(W=>{W.dados_bancarios||R.push({id:`ADM-FORN-${W.id}`,agent:"ADMINISTRATIVO",severity:"ALERTA",module:"FORNECEDORES",title:`${W.nome_fantasia} sem PIX/Banco`,message:"Fornecedor sem dados bancrios cadastrados. Pode atrasar pagamentos.",timestamp:C.toISOString(),status:"NOVO"})}),n.filter(W=>W.status==="DISPONIVEL").forEach(W=>{const te=Math.floor((C.getTime()-new Date(W.data_entrada).getTime())/864e5);te>30&&R.push({id:`ADM-STK-${W.id_completo}`,agent:"ADMINISTRATIVO",severity:"ALERTA",module:"ESTOQUE",title:`Pea ${W.id_completo} parada`,message:`No frio h ${te} dias. Risco de perda de qualidade. Peso: ${W.peso_entrada}kg.`,timestamp:C.toISOString(),status:"NOVO"})}),r.filter(W=>W.status_pagamento==="PENDENTE"&&W.prazo_dias>0).forEach(W=>{const te=new Date(W.data_vencimento),re=Math.floor((C.getTime()-te.getTime())/864e5);if(re>7){const ve=W.peso_real_saida*W.preco_venda_kg;R.push({id:`COM-VNC-${W.id_venda}`,agent:"COMERCIAL",severity:"CRITICO",module:"VENDAS",title:`Cobrana: ${W.nome_cliente||W.id_cliente}`,message:`Venda ${W.id_venda} vencida h ${re} dias. Valor: R$${ve.toFixed(2)}`,timestamp:C.toISOString(),status:"NOVO",data:{valor:ve,dias_atraso:re}})}}),i.forEach(W=>{if(W.limite_credito>0){const te=r.filter(re=>re.id_cliente===W.id_ferro&&re.status_pagamento==="PENDENTE").reduce((re,ve)=>re+ve.peso_real_saida*ve.preco_venda_kg,0);te>W.limite_credito&&R.push({id:`COM-CRED-${W.id_ferro}`,agent:"COMERCIAL",severity:"BLOQUEIO",module:"CLIENTES",title:`${W.nome_social}  crdito excedido`,message:`Saldo devedor R$${te.toFixed(2)} excede limite R$${W.limite_credito.toFixed(2)}. Vendas a prazo BLOQUEADAS.`,timestamp:C.toISOString(),status:"NOVO",data:{devendo:te,limite:W.limite_credito}})}}),r.filter(W=>W.status_pagamento==="PAGO").forEach(W=>{if(!a.some(re=>re.referencia_id===W.id_venda&&re.tipo==="ENTRADA"&&re.categoria!=="ESTORNO")){const re=W.peso_real_saida*W.preco_venda_kg;R.push({id:`AUD-FURO-${W.id_venda}`,agent:"AUDITOR",severity:"CRITICO",module:"FINANCEIRO",title:`FURO: Venda ${W.id_venda}`,message:`Venda PAGA sem Transaction ENTRADA no caixa! Valor: R$${re.toFixed(2)}. Pagamento no registrado.`,timestamp:C.toISOString(),status:"NOVO",data:{valor:re}})}}),e.filter(W=>W.status!=="ESTORNADO").forEach(W=>{const te=l.some(ve=>ve.id_lote===W.id_lote),re=a.some(ve=>ve.referencia_id===W.id_lote&&ve.tipo==="SAIDA"&&ve.categoria==="COMPRA_GADO");!te&&!re&&R.push({id:`AUD-LOTE-${W.id_lote}`,agent:"AUDITOR",severity:"CRITICO",module:"FINANCEIRO",title:`Lote ${W.id_lote} sem sada`,message:`Lote comprado sem Transaction SAIDA nem Payable vinculado. Valor: R$${W.valor_compra_total.toFixed(2)}`,timestamp:C.toISOString(),status:"NOVO",data:{valor:W.valor_compra_total}})}),l.filter(W=>W.status==="PENDENTE"||W.status==="PARCIAL").forEach(W=>{const te=new Date(W.data_vencimento),re=Math.floor((C.getTime()-te.getTime())/864e5);re>0&&R.push({id:`AUD-PAY-${W.id}`,agent:"AUDITOR",severity:"ALERTA",module:"FINANCEIRO",title:`Dvida vencida: ${W.descricao}`,message:`Payable vencido h ${re} dias. Valor: R$${W.valor.toFixed(2)}. Fornecedor: ${W.fornecedor_id||"N/A"}`,timestamp:C.toISOString(),status:"NOVO",data:{valor:W.valor,dias_atraso:re}})}),e.filter(W=>W.status==="FECHADO").forEach(W=>{const te=n.filter(re=>re.id_lote===W.id_lote);if(te.length>0&&W.peso_total_romaneio>0){const ve=te.reduce((we,ie)=>we+ie.peso_entrada,0)/W.peso_total_romaneio*100;ve<48&&R.push({id:`PROD-REND-${W.id_lote}`,agent:"PRODUCAO",severity:"CRITICO",module:"LOTES",title:`Rendimento baixo: ${W.id_lote}`,message:`Rendimento ${ve.toFixed(1)}% (abaixo de 48%). Fornecedor: ${W.fornecedor}. Investigar quebra excessiva.`,timestamp:C.toISOString(),status:"NOVO",data:{rendimento:ve,fornecedor:W.fornecedor}})}}),R.sort((W,te)=>{const re={BLOQUEIO:0,CRITICO:1,ALERTA:2,INFO:3};return re[W.severity]-re[te.severity]})},[e,n,r,i,a,s,l,c]),V=ye.useMemo(()=>{const R={ADMINISTRATIVO:{total:0,criticos:0,bloqueios:0},PRODUCAO:{total:0,criticos:0,bloqueios:0},COMERCIAL:{total:0,criticos:0,bloqueios:0},AUDITOR:{total:0,criticos:0,bloqueios:0}};return j.forEach(C=>{R[C.agent].total++,C.severity==="CRITICO"&&R[C.agent].criticos++,C.severity==="BLOQUEIO"&&R[C.agent].bloqueios++}),R},[j]),O=ye.useMemo(()=>{const R=a.filter(re=>re.categoria!=="ESTORNO"),C=R.filter(re=>re.tipo==="ENTRADA").reduce((re,ve)=>re+ve.valor,0),G=R.filter(re=>re.tipo==="SAIDA").reduce((re,ve)=>re+ve.valor,0),le=C-G,W=n.filter(re=>re.status==="DISPONIVEL").reduce((re,ve)=>{const we=e.find(ie=>ie.id_lote===ve.id_lote);return re+ve.peso_entrada*((we==null?void 0:we.custo_real_kg)||0)},0),te=r.filter(re=>re.status_pagamento==="PENDENTE").reduce((re,ve)=>re+ve.peso_real_saida*ve.preco_venda_kg,0);return{entradas:C,saidas:G,saldo:le,estoqueValor:W,vendasPendentes:te}},[a,n,e,r]),D={blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",glow:"shadow-blue-200/50"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200",glow:"shadow-emerald-200/50"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200",glow:"shadow-amber-200/50"},rose:{bg:"bg-rose-50",text:"text-rose-600",border:"border-rose-200",glow:"shadow-rose-200/50"}},z={INFO:{icon:d.jsx(OG,{size:14}),color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},ALERTA:{icon:d.jsx(Xd,{size:14}),color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"},CRITICO:{icon:d.jsx(Z7,{size:14}),color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100"},BLOQUEIO:{icon:d.jsx(HW,{size:14}),color:"text-red-700",bg:"bg-red-50",border:"border-red-200"}};f&&y.find(R=>R.id===f);const H=f?j.filter(R=>R.agent===f):j,U=async()=>{var R,C,G,le,W;I(!0),F(null),A(null);try{const te="AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",re=new kSe({apiKey:te}),ve=a.filter(_e=>_e.categoria!=="ESTORNO"),we=ve.filter(_e=>_e.tipo==="ENTRADA").reduce((_e,Je)=>_e+Je.valor,0),ie=ve.filter(_e=>_e.tipo==="SAIDA").reduce((_e,Je)=>_e+Je.valor,0),L=r.filter(_e=>_e.status_pagamento==="PAGO"),Y=r.filter(_e=>_e.status_pagamento==="PENDENTE"),ee=r.filter(_e=>_e.status_pagamento==="ESTORNADO"),X=l.filter(_e=>_e.status==="PENDENTE"||_e.status==="PARCIAL"),Q=X.filter(_e=>new Date(_e.data_vencimento)<new Date),ge=n.filter(_e=>_e.status==="DISPONIVEL"),be=`
## SNAPSHOT FINANCEIRO  FRIGOGEST
Data: ${new Date().toLocaleDateString("pt-BR")}

### CAIXA
- Entradas totais: R$ ${we.toFixed(2)}
- Sadas totais: R$ ${ie.toFixed(2)}
- Saldo: R$ ${(we-ie).toFixed(2)}
- Total transaes: ${a.length}

### VENDAS
- Pagas: ${L.length} (R$ ${L.reduce((_e,Je)=>_e+Je.peso_real_saida*Je.preco_venda_kg,0).toFixed(2)})
- Pendentes: ${Y.length} (R$ ${Y.reduce((_e,Je)=>_e+Je.peso_real_saida*Je.preco_venda_kg,0).toFixed(2)})
- Estornadas: ${ee.length}

### CONTAS A PAGAR
- Pendentes: ${X.length} (R$ ${X.reduce((_e,Je)=>_e+Je.valor,0).toFixed(2)})
- Vencidas: ${Q.length} (R$ ${Q.reduce((_e,Je)=>_e+Je.valor,0).toFixed(2)})

### ESTOQUE
- Peas disponveis: ${ge.length}
- Peso total: ${ge.reduce((_e,Je)=>_e+Je.peso_entrada,0).toFixed(1)} kg

### LOTES
- Total: ${e.length}
- Abertos: ${e.filter(_e=>_e.status==="ABERTO").length}
- Fechados: ${e.filter(_e=>_e.status==="FECHADO").length}

### ALERTAS DETECTADOS (${j.length})
${j.slice(0,15).map(_e=>`- [${_e.severity}] ${_e.title}: ${_e.message}`).join(`
`)}

### CLIENTES
- Total: ${i.length}
- Com saldo devedor: ${i.filter(_e=>_e.saldo_devedor>0).length}
            `.trim(),Ee=(W=(le=(G=(C=(R=(await re.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:`Voc  o AUDITOR FINANCEIRO do FrigoGest  sistema de gesto de frigorfico.

Sua funo:
1. Analisar o snapshot financeiro abaixo
2. Identificar RISCOS, FUROS e OPORTUNIDADES
3. Dar recomendaes CONCRETAS e ACIONVEIS

Regras:
- Responda SEMPRE em portugus brasileiro
- Seja DIRETO e OBJETIVO
- Use emojis para destacar prioridade:  crtico,  ateno,  ok
- Cite valores e nmeros especficos
- Se no tiver dados suficientes, diga claramente
- Mximo 500 palavras
- Organize em sees: DIAGNSTICO, RISCOS, RECOMENDAES

${be}`}]}})).candidates)==null?void 0:R[0])==null?void 0:C.content)==null?void 0:G.parts)==null?void 0:le[0])==null?void 0:W.text;Ee?(A(Ee),setTimeout(()=>{var _e;return(_e=B.current)==null?void 0:_e.scrollIntoView({behavior:"smooth",block:"start"})},300)):F("A IA no retornou resposta. Tente novamente.")}catch(te){F(te.message||"Erro ao consultar a IA.")}finally{I(!1)}};return d.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[d.jsx(ja,{size:14})," Voltar ao Incio"]}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-purple-400 shadow-xl shadow-purple-900/40 relative group",children:[d.jsx(X7,{size:28}),d.jsx("div",{className:"absolute inset-0 bg-purple-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Central de ",d.jsx("span",{className:"text-purple-600",children:"Agentes IA"})]}),d.jsxs("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:["Ecossistema Multi-Agente  ",j.length," alertas ativos"]})]})]})]}),d.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[{id:"overview",icon:As,label:"Viso Geral"},{id:"alerts",icon:GS,label:`Alertas (${j.length})`},{id:"config",icon:r9,label:"Configurao"}].map(R=>d.jsxs("button",{onClick:()=>g(R.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${m===R.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[d.jsx(R.icon,{size:14})," ",R.label]},R.id))})]}),d.jsxs("div",{className:"max-w-7xl mx-auto",children:[m==="overview"&&d.jsxs("div",{className:"animate-reveal space-y-8",children:[d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{label:"Saldo Caixa",value:`R$${O.saldo.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:d.jsx(Au,{size:18}),color:O.saldo>=0?"text-emerald-600":"text-rose-600"},{label:"A Receber",value:`R$${O.vendasPendentes.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:d.jsx(Vp,{size:18}),color:"text-blue-600"},{label:"Estoque Parado",value:`R$${O.estoqueValor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:d.jsx(Mc,{size:18}),color:"text-purple-600"},{label:"Alertas Ativos",value:j.length.toString(),icon:d.jsx(GS,{size:18}),color:j.length>0?"text-amber-600":"text-emerald-600"},{label:"Crticos",value:j.filter(R=>R.severity==="CRITICO"||R.severity==="BLOQUEIO").length.toString(),icon:d.jsx(Xd,{size:18}),color:"text-rose-600"}].map((R,C)=>d.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-5 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:`${R.color} opacity-40`,children:R.icon}),d.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:R.label})]}),d.jsx("p",{className:`text-xl font-black ${R.color}`,children:R.value})]},C))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(R=>{const C=V[R.id],G=D[R.color];return d.jsxs("button",{onClick:()=>{h(R.id),g("alerts")},className:`premium-card p-6 bg-white text-left group hover:${G.border} transition-all hover:shadow-xl ${G.glow}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-5",children:[d.jsx("div",{className:"text-4xl",children:R.icon}),d.jsxs("div",{className:"flex items-center gap-1",children:[C.bloqueios>0&&d.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-700 text-[9px] font-black",children:[C.bloqueios," BLOQ"]}),C.criticos>0&&d.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-rose-100 text-rose-600 text-[9px] font-black",children:[C.criticos," CRIT"]}),C.total>0&&C.criticos===0&&C.bloqueios===0&&d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-amber-100 text-amber-600 text-[9px] font-black",children:C.total}),C.total===0&&d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-600 text-[9px] font-black",children:"OK"})]})]}),d.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight mb-1",children:R.name}),d.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed mb-4",children:R.description}),d.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[R.modules.slice(0,4).map(le=>d.jsx("span",{className:`px-2 py-0.5 rounded-md ${G.bg} ${G.text} text-[8px] font-black uppercase`,children:le},le)),R.modules.length>4&&d.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-slate-400 text-[8px] font-black",children:["+",R.modules.length-4]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 flex justify-between items-center",children:[d.jsxs("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:[R.triggerCount," gatilhos"]}),d.jsx(Ol,{size:16,className:"text-slate-300 group-hover:text-slate-600 transition-colors"})]})]},R.id)})}),j.length>0&&d.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(os,{size:14,className:"text-amber-500"})," Alertas Recentes"]}),d.jsxs("button",{onClick:()=>g("alerts"),className:"text-[10px] font-black text-blue-600 uppercase tracking-widest hover:underline",children:["Ver todos (",j.length,")"]})]}),d.jsx("div",{className:"divide-y divide-slate-50",children:j.slice(0,6).map(R=>{const C=z[R.severity],G=y.find(le=>le.id===R.agent);return d.jsxs("div",{className:"p-5 flex items-start gap-4 hover:bg-slate-50/50 transition-colors",children:[d.jsx("div",{className:`w-8 h-8 rounded-xl ${C.bg} ${C.color} flex items-center justify-center shrink-0`,children:C.icon}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:[G==null?void 0:G.icon," ",G==null?void 0:G.name]}),d.jsx("span",{className:`px-1.5 py-0.5 rounded ${C.bg} ${C.color} text-[8px] font-black uppercase`,children:R.severity}),d.jsx("span",{className:"px-1.5 py-0.5 rounded bg-slate-100 text-slate-400 text-[8px] font-black uppercase",children:R.module})]}),d.jsx("h4",{className:"font-bold text-sm text-slate-900 truncate",children:R.title}),d.jsx("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:R.message})]})]},R.id)})})]}),j.length===0&&d.jsxs("div",{className:"bg-white rounded-3xl border border-emerald-100 p-16 text-center",children:[d.jsx(Ho,{size:60,className:"text-emerald-500 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Tudo Limpo!"}),d.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Nenhum alerta detectado. Todos os sistemas operando normalmente."})]})]}),m==="alerts"&&d.jsxs("div",{className:"animate-reveal space-y-6",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[d.jsxs("button",{onClick:()=>h(null),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f?"bg-white text-slate-400 border border-slate-100 hover:bg-slate-50":"bg-slate-900 text-white"}`,children:["Todos (",j.length,")"]}),y.map(R=>{const C=V[R.id].total;return d.jsxs("button",{onClick:()=>h(R.id),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f===R.id?"bg-slate-900 text-white":"bg-white text-slate-400 border border-slate-100 hover:bg-slate-50"}`,children:[R.icon," ",R.name," (",C,")"]},R.id)})]}),d.jsxs("div",{className:"space-y-3",children:[H.map(R=>{var le;const C=z[R.severity],G=y.find(W=>W.id===R.agent);return d.jsx("div",{className:`bg-white rounded-2xl border ${C.border} p-6 transition-all hover:shadow-lg`,children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${C.bg} ${C.color} flex items-center justify-center shrink-0 text-lg`,children:C.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsxs("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:[G==null?void 0:G.icon," ",G==null?void 0:G.name]}),d.jsx("span",{className:`px-2 py-0.5 rounded-full ${C.bg} ${C.color} text-[8px] font-black uppercase`,children:R.severity}),d.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-400 text-[8px] font-black uppercase",children:R.module})]}),d.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:R.title}),d.jsx("p",{className:"text-sm text-slate-500",children:R.message}),((le=R.data)==null?void 0:le.valor)&&d.jsxs("p",{className:"mt-2 text-sm font-black text-rose-600",children:[" Impacto: R$",R.data.valor.toFixed(2)]})]})]})},R.id)}),H.length===0&&d.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-100 p-12 text-center",children:[d.jsx(Ho,{size:40,className:"text-emerald-500 mx-auto mb-3"}),d.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Nenhum alerta para este agente"})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("button",{onClick:U,disabled:S,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-5 px-6 rounded-2xl font-black text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-3 shadow-xl shadow-purple-200/50 transition-all disabled:opacity-50",children:S?d.jsxs(d.Fragment,{children:[d.jsx(Yf,{size:18,className:"animate-spin"})," Analisando dados com Gemini..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Hy,{size:18})," Consultar Auditor IA"]})}),P&&d.jsxs("div",{className:"mt-3 p-4 bg-rose-50 border border-rose-200 rounded-xl text-rose-600 text-xs font-bold",children:[" ",P]}),E&&d.jsxs("div",{ref:B,className:"mt-6 bg-slate-900 rounded-3xl p-8 shadow-2xl animate-reveal",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-purple-500/20 p-2 rounded-xl",children:d.jsx(Hy,{size:20,className:"text-purple-400"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:"Parecer do Auditor IA"}),d.jsx("p",{className:"text-[10px] text-slate-500 font-bold",children:"Gemini 2.0 Flash  Anlise em tempo real"})]})]}),d.jsx("div",{className:"text-sm text-slate-300 leading-relaxed whitespace-pre-wrap font-medium",children:E}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700/50 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] text-slate-600 font-black uppercase tracking-widest",children:new Date().toLocaleString("pt-BR")}),d.jsxs("button",{onClick:U,className:"text-[10px] font-black text-purple-400 uppercase tracking-widest hover:text-purple-300 flex items-center gap-1",children:[d.jsx(os,{size:12})," Atualizar Anlise"]})]})]})]})]}),m==="config"&&d.jsx("div",{className:"animate-reveal space-y-6",children:y.map(R=>{const C=D[R.color],G=V[R.id];return d.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:`p-6 ${C.bg} border-b ${C.border} flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-3xl",children:R.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:R.name}),d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:R.modules.join("  ")})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:`px-3 py-1 rounded-full ${G.total>0?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"} text-[9px] font-black uppercase`,children:[G.total," alertas"]}),d.jsx("div",{className:`w-12 h-7 rounded-full relative cursor-pointer transition-all ${R.enabled?"bg-emerald-500":"bg-slate-300"}`,children:d.jsx("div",{className:`absolute top-0.5 w-6 h-6 bg-white rounded-full shadow transition-all ${R.enabled?"right-0.5":"left-0.5"}`})})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-sm text-slate-500 mb-4",children:R.description}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[d.jsx("p",{className:"text-2xl font-black text-slate-900",children:R.modules.length}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Mdulos"})]}),d.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[d.jsx("p",{className:"text-2xl font-black text-slate-900",children:R.triggerCount}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Gatilhos"})]}),d.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[d.jsx("p",{className:"text-2xl font-black text-slate-900",children:68}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Regras"})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"System Prompt"}),d.jsx("div",{className:"bg-slate-900 rounded-xl p-4 text-xs font-mono text-blue-300 leading-relaxed",children:R.systemPrompt})]}),d.jsxs("p",{className:"mt-4 text-[10px] text-emerald-400 font-bold text-center flex items-center justify-center gap-1",children:[d.jsx(Hy,{size:12})," Auditor Financeiro conectado ao Gemini 2.0 Flash"]})]})]},R.id)})})]})]})},jSe=()=>{const[e,n]=ye.useState(null),[r,i]=ye.useState("menu"),[a,s]=ye.useState(null),[l,c]=ye.useState("checking"),[f,h]=ye.useState({...IK,scheduledOrders:[],suppliers:[],payables:[]}),[m,g]=ye.useState(!0),[y,E]=ye.useState("idle");ye.useEffect(()=>{if(!Vd){n({user:{email:"offline@local"}}),g(!1),c("offline");return}const X=setTimeout(()=>{g(!1)},5e3),Q=yme(Vd,ge=>{n(ge?{user:ge}:null),g(!1),clearTimeout(X)});return()=>{clearTimeout(X),Q()}},[]);const A=ye.useCallback(async()=>{if(!(!e||!xt)){c("checking");try{const[X,Q,ge,be,ae,Se,Ee,_e,Je]=await Promise.all([wi(rr(xt,"clients")),wi(rr(xt,"batches")),wi(rr(xt,"stock_items")),wi(rr(xt,"sales")),wi(rr(xt,"transactions")),wi(rr(xt,"scheduled_orders")),wi(lz(rr(xt,"daily_reports"),cz(50))),wi(rr(xt,"suppliers")),wi(rr(xt,"payables"))]),Fe=X.docs.map(We=>({...We.data()})),Ne=Q.docs.map(We=>({...We.data()})),ne=ge.docs.map(We=>({...We.data()})),Be=be.docs.map(We=>({...We.data()})),Ze=ae.docs.map(We=>({...We.data()})),ze=Se.docs.map(We=>({...We.data()})),et=Ee.docs.map(We=>({...We.data()})),Ke=_e.docs.map(We=>({...We.data(),id:We.id})),rt=((Je==null?void 0:Je.docs)||[]).map(We=>{const yt=We.data();return{...yt,id:We.id,valor:yt.valor!==void 0?Number(yt.valor):Number(yt.valor_total||0)}}),it=Fe.map(We=>{const bt=Be.filter(At=>At.id_cliente===We.id_ferro&&At.status_pagamento==="PENDENTE").reduce((At,Dt)=>{const Tt=Dt.peso_real_saida*Dt.preco_venda_kg,Vt=Dt.valor_pago||0;return At+(Tt-Vt)},0);return{...We,saldo_devedor:bt}});h({clients:it,batches:Ne,stock:ne,sales:Be,transactions:Ze,scheduledOrders:ze,reports:et,suppliers:Ke,payables:rt}),c("online"),p8()&&(E("syncing"),Rz({clients:it,batches:Ne,stock:ne,sales:Be,transactions:Ze,scheduledOrders:ze,reports:et,suppliers:Ke,payables:rt}).then(We=>{E(We.success?"ok":"idle"),We.success&&setTimeout(()=>E("idle"),5e3)}).catch(()=>E("error")))}catch(X){console.error(X),c("offline")}}},[e]);ye.useEffect(()=>{if(A(),(async()=>{xt&&setTimeout(async()=>{try{const[Fe,Ne,ne,Be,Ze]=await Promise.all([wi(rr(xt,"batches")),wi(rr(xt,"payables")),wi(rr(xt,"stock_items")),wi(rr(xt,"sales")),wi(rr(xt,"transactions"))]),ze=new Set(Fe.docs.map(it=>it.data().id_lote)),et=r0(xt);let Ke=0;Ne.forEach(it=>{const We=it.data();if(We.categoria==="COMPRA_GADO"){let yt=We.id_lote;if(!yt&&We.descricao){const bt=We.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);bt&&(yt=bt[1])}yt&&!ze.has(yt)&&(et.delete(it.ref),Ke++,console.log(` Payable rfo: ${We.descricao}`))}});const rt=new Map;Ne.forEach(it=>{const We=it.data();if(We.categoria==="COMPRA_GADO"){let yt=We.id_lote;if(!yt&&We.descricao){const bt=We.descricao.match(/Lote (LOTE-[A-Z0-9]+-\d+)/);bt&&(yt=bt[1])}yt&&(rt.has(yt)||rt.set(yt,[]),rt.get(yt).push({ref:it.ref,data:We,docId:it.id}))}}),rt.forEach((it,We)=>{it.length>1&&it.some(bt=>bt.docId.startsWith("PAY-LOTE-"))&&it.forEach(bt=>{bt.docId.startsWith("PAY-LOTE-")||(et.delete(bt.ref),Ke++,console.log(` Payable DUPLICADO removido: "${bt.data.descricao}" (ID: ${bt.docId})`))})}),ne.forEach(it=>{const We=it.data();We.id_lote&&!ze.has(We.id_lote)&&(et.delete(it.ref),Ke++,console.log(` Estoque rfo: ${We.id_completo}`))}),Be.forEach(it=>{const We=it.data();if(We.id_completo){const yt=We.id_completo.split("-");if(yt.length>=3){const bt=`${yt[0]}-${yt[1]}-${yt[2]}`;ze.has(bt)||(et.delete(it.ref),Ke++,console.log(` Venda rf: ${We.id_venda}`))}}}),Ze.forEach(it=>{const We=it.data();We.referencia_id&&We.categoria==="COMPRA_GADO"&&(ze.has(We.referencia_id)||(et.delete(it.ref),Ke++,console.log(` Transao rf: ${We.descricao}`)))}),Ke>0&&(await et.commit(),console.log(` ${Ke} registros rfos removidos automaticamente`),A())}catch(Fe){console.error("Erro limpando rfos:",Fe)}},2e3)})(),!xt)return;const Q=Td(rr(xt,"clients"),()=>A()),ge=Td(rr(xt,"batches"),()=>A()),be=Td(rr(xt,"stock_items"),()=>A()),ae=Td(rr(xt,"sales"),()=>A()),Se=Td(rr(xt,"transactions"),()=>A()),Ee=Td(rr(xt,"scheduled_orders"),()=>A()),_e=Td(rr(xt,"daily_reports"),()=>A()),Je=Td(rr(xt,"payables"),()=>A());return()=>{Q(),ge(),be(),ae(),Se(),Ee(),_e(),Je()}},[A]);const S=async X=>{try{const Q=await KE(rr(xt,"suppliers"),X),ge={...X,id:Q.id};await Vo(Q,ge),h(be=>({...be,suppliers:[...be.suppliers,ge]})),pi(e.user,"CREATE","OTHER",`Novo fornecedor: ${X.nome_fantasia}`,X),alert("Fornecedor cadastrado com sucesso!")}catch(Q){console.error(Q),alert("Erro ao salvar fornecedor.")}},I=async X=>{try{await Vo(En(xt,"suppliers",X.id),X),h(Q=>({...Q,suppliers:Q.suppliers.map(ge=>ge.id===X.id?X:ge)})),pi(e.user,"UPDATE","OTHER",`Fornecedor atualizado: ${X.nome_fantasia}`,X),alert("Fornecedor atualizado!")}catch(Q){console.error(Q),alert("Erro ao atualizar fornecedor.")}},P=async X=>{try{const Q=await KE(rr(xt,"payables"),X),ge={...X,id:Q.id};await Vo(Q,ge),h(be=>({...be,payables:[...be.payables,ge]})),pi(e.user,"CREATE","OTHER",`Nova conta a pagar: ${X.descricao}`,X)}catch(Q){console.error(Q),alert("Erro ao salvar conta a pagar.")}},F=async X=>{try{await Vo(En(xt,"payables",X.id),X),h(Q=>({...Q,payables:Q.payables.map(ge=>ge.id===X.id?X:ge)})),pi(e.user,"UPDATE","OTHER",`Conta atualizada: ${X.descricao}`,X)}catch(Q){console.error(Q),alert("Erro ao atualizar conta.")}},B=async X=>{try{const Q=f.payables.find(Ee=>Ee.id===X);if(!Q)return;const ge=Q.status==="PAGO",be=Q.status==="PARCIAL",ae=Q.valor_pago||0,Se=ge||be?"ESTORNADO":"CANCELADO";if(await xs(En(xt,"payables",X),{status:Se}),(ge||be)&&ae>0&&xt){const Ee={id:`TR-ESTORNO-PAY-${X}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO: ${Q.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:ge?Q.valor:ae,metodo_pagamento:"OUTROS",referencia_id:X};await G(Ee)}h(Ee=>({...Ee,payables:Ee.payables.map(_e=>_e.id===X?{..._e,status:Se}:_e)})),pi(e.user,"ESTORNO","OTHER",`Conta estornada (${Se}): ${Q.descricao}`,{id:X,status:Se})}catch(Q){console.error(Q),alert("Erro ao estornar conta.")}},j=X=>JSON.parse(JSON.stringify(X)),V=ye.useMemo(()=>f.batches.filter(X=>X.status==="FECHADO"),[f.batches]),O=ye.useMemo(()=>new Set(V.map(X=>X.id_lote)),[V]),D=ye.useMemo(()=>f.stock.filter(X=>O.has(X.id_lote)),[f.stock,O]),z=async X=>{const Q={...X};e!=null&&e.user&&pi(e.user,"CREATE","BATCH",`Novo lote criado: ${Q.id_lote} - ${Q.fornecedor}`);const ge=Q.forma_pagamento||"OUTROS";if(Q.pagamento_a_vista,delete Q.pagamento_a_vista,delete Q.forma_pagamento,Q.peso_total_romaneio=parseFloat(Q.peso_total_romaneio)||0,Q.valor_compra_total=parseFloat(Q.valor_compra_total)||0,Q.frete=parseFloat(Q.frete)||0,Q.gastos_extras=parseFloat(Q.gastos_extras)||0,Q.custo_real_kg=parseFloat(Q.custo_real_kg)||0,!xt)return{success:!1,error:"Firebase no configurado"};try{await Vo(En(xt,"batches",Q.id_lote),Q);const be=(Q.valor_compra_total||0)+(Q.frete||0)+(Q.gastos_extras||0);if(be>0&&ge==="VISTA"){const ae={id:`TR-LOTE-${Q.id_lote}`,data:Q.data_recebimento,descricao:`Compra Lote ${Q.id_lote} - ${Q.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:be,metodo_pagamento:ge,referencia_id:Q.id_lote};await G(ae)}return await A(),{success:!0}}catch(be){return{success:!1,error:be.message}}},H=async X=>{if(!xt)return;const Q=f.sales.find(ge=>ge.id_venda===X);if(!Q||Q.status_pagamento==="ESTORNADO"){(Q==null?void 0:Q.status_pagamento)==="ESTORNADO"&&alert("Esta venda j foi estornada.");return}try{const ge=Q.valor_pago||0;await xs(En(xt,"sales",X),{status_pagamento:"ESTORNADO",valor_pago:0});const be=Q.stock_ids_originais&&Array.isArray(Q.stock_ids_originais)?Q.stock_ids_originais:[Q.id_completo];for(const Se of be)try{await xs(En(xt,"stock_items",Se),{status:"DISPONIVEL"})}catch{console.warn(` Item de estoque ${Se} no encontrado para devolver`)}if(ge>0){const Se={id:`TR-ESTORNO-VENDA-${X}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO VENDA: ${Q.nome_cliente||"Cliente"} - ${Q.id_completo}`,tipo:"SAIDA",categoria:"ESTORNO",valor:ge,metodo_pagamento:Q.forma_pagamento||"OUTROS",referencia_id:X};await G(Se)}const ae=f.transactions.filter(Se=>{var Ee;return(Se.referencia_id===X||((Ee=Se.id)==null?void 0:Ee.startsWith(`TR-DESC-${X}`)))&&Se.categoria==="DESCONTO"&&Se.tipo==="SAIDA"});for(const Se of ae){const Ee={id:`TR-ESTORNO-DESC-${X}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO DESCONTO: ${Se.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:Se.valor,metodo_pagamento:"OUTROS",referencia_id:X};await G(Ee)}pi(e==null?void 0:e.user,"ESTORNO","SALE",`Venda estornada: ${X} (${Q.nome_cliente}) - Pago: R$${ge.toFixed(2)}`,{saleId:X,valorPago:ge}),A()}catch(ge){console.error(" Erro ao estornar venda:",ge),alert("Erro ao estornar a venda.")}},U=async X=>{var Q;if(xt)try{console.log(` INICIANDO ESTORNO DO LOTE: ${X}`),await xs(En(xt,"batches",X),{status:"ESTORNADO"}),console.log(` Lote ${X} marcado como ESTORNADO`);const ge=await wi(rr(xt,"stock_items"));let be=0;for(const Ne of ge.docs){const ne=Ne.data();ne.id_lote===X&&ne.status!=="ESTORNADO"&&(await xs(En(xt,"stock_items",Ne.id),{status:"ESTORNADO"}),be++)}console.log(` ${be} itens de estoque estornados`);const ae=await wi(rr(xt,"payables"));let Se=0;for(const Ne of ae.docs){const ne=Ne.data(),Be=ne.id_lote===X,Ze=ne.id&&ne.id.includes(X),ze=ne.descricao&&ne.descricao.includes(X);if((Be||Ze||ze)&&ne.status!=="ESTORNADO"&&ne.status!=="CANCELADO"){const et=ne.status==="PAGO",Ke=ne.status==="PARCIAL",rt=ne.valor_pago||0,it=et||Ke?"ESTORNADO":"CANCELADO";await xs(En(xt,"payables",Ne.id),{status:it}),(et||Ke)&&rt>0&&await G({id:`TR-ESTORNO-PAY-${Ne.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: ${ne.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:et?ne.valor:rt,metodo_pagamento:"OUTROS",referencia_id:X}),Se++}}console.log(` ${Se} contas a pagar estornadas`);const Ee=await wi(rr(xt,"sales"));let _e=0;for(const Ne of Ee.docs){const ne=Ne.data();if(ne.id_completo&&ne.id_completo.startsWith(X)&&ne.status_pagamento!=="ESTORNADO"){const Be=ne.valor_pago||0;await xs(En(xt,"sales",Ne.id),{status_pagamento:"ESTORNADO"}),Be>0&&await G({id:`TR-ESTORNO-VENDA-${Ne.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: Venda ${ne.nome_cliente||"Cliente"} - ${ne.id_completo}`,tipo:"SAIDA",categoria:"ESTORNO",valor:Be,metodo_pagamento:"OUTROS",referencia_id:X}),_e++}}console.log(` ${_e} vendas estornadas`);const Je=await wi(rr(xt,"transactions"));let Fe=0;for(const Ne of Je.docs){const ne=Ne.data();(ne.referencia_id===X||ne.descricao&&ne.descricao.includes(X))&&ne.categoria==="COMPRA_GADO"&&!((Q=ne.descricao)!=null&&Q.includes("ESTORNO"))&&(await G({id:`TR-ESTORNO-${Ne.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: ${ne.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:ne.valor,metodo_pagamento:"OUTROS",referencia_id:X}),Fe++)}console.log(` ${Fe} transaes de compra estornadas`),console.log(` LOTE ${X} COMPLETAMENTE ESTORNADO!`),e!=null&&e.user&&pi(e.user,"ESTORNO","BATCH",`Lote COMPLETAMENTE estornado: ${X} (${be} estoque, ${Se} payables, ${_e} vendas, ${Fe} transaes)`),A()}catch(ge){console.error(" Erro ao estornar lote:",ge),alert("Erro ao estornar o lote. Verifique o console.")}},R=async X=>{const Q=j(X);if(!xt)return{success:!1,error:"Firebase no configurado"};try{return await Vo(En(xt,"stock_items",Q.id_completo),Q),e!=null&&e.user&&pi(e.user,"CREATE","STOCK",`Item de estoque adicionado: ${Q.id_completo}`),A(),{success:!0}}catch(ge){return{success:!1,error:ge.message}}},C=async(X,Q)=>{xt&&(await xs(En(xt,"stock_items",X),j(Q)),A())},G=async X=>{xt&&(await Vo(En(xt,"transactions",X.id),j(X)),e!=null&&e.user&&pi(e.user,"CREATE","TRANSACTION",`Transao adicionada: ${X.tipo} ${X.valor} (${X.descricao})`),A())},le=async X=>{const Q=(X.valor_compra_total||0)+(X.frete||0)+(X.gastos_extras||0);if(Q===0)return;const ge={id:`TR-LOTE-${X.id_lote}`,data:X.data_recebimento,descricao:`Compra Lote ${X.id_lote} - ${X.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:Q,metodo_pagamento:X.forma_pagamento||"OUTROS",referencia_id:X.id_lote},be=X.valor_entrada||0,ae=X.forma_pagamento==="VISTA",Se=X.forma_pagamento==="PRAZO";if(ae)await G(ge);else if(Se){if(be>0){const _e={...ge,id:`TR-LOTE-ENTRADA-${X.id_lote}`,descricao:`Entrada/Adiantamento Lote ${X.id_lote} - ${X.fornecedor}`,valor:be};await G(_e)}const Ee=Q-be;if(Ee>0){if(f.payables.filter(Ne=>Ne.id_lote===X.id_lote||Ne.id===`PAY-LOTE-${X.id_lote}`).length>0){console.log(` Payable j existe para lote ${X.id_lote}, ignorando duplicata.`);return}const Je={id:`PAY-LOTE-${X.id_lote}`,descricao:`Restante Lote ${X.id_lote} - ${X.fornecedor}`,valor:Ee,data_vencimento:new Date(Date.now()+(X.prazo_dias||30)*24*60*60*1e3).toISOString().split("T")[0],status:"PENDENTE",categoria:"COMPRA_GADO",observacoes:`Compra a Prazo (Entrada: ${be>0?be:"No"})`,fornecedor_id:X.fornecedor,id_lote:X.id_lote},Fe=En(xt,"payables",`PAY-LOTE-${X.id_lote}`);await Vo(Fe,Je)}}},W=async X=>{const Q=j(X);if(!xt)return{success:!1,error:"Firebase no configurado"};try{const ge=r0(xt);return Q.forEach(be=>{const ae=En(xt,"sales",be.id_venda);ge.set(ae,be)}),Q.forEach(be=>{(be.stock_ids_originais&&Array.isArray(be.stock_ids_originais)?be.stock_ids_originais:[be.id_completo]).forEach(Se=>{const Ee=En(xt,"stock_items",Se);ge.update(Ee,{status:"VENDIDO"})})}),await ge.commit(),e!=null&&e.user&&pi(e.user,"CREATE","SALE",`Venda realizada: ${Q.length} itens para ${Q[0].nome_cliente||"Cliente"}`),A(),{success:!0}}catch(ge){return{success:!1,error:ge.message}}},te=async X=>{xt&&(await xs(En(xt,"stock_items",X),{status:"ESTORNADO"}),e!=null&&e.user&&pi(e.user,"ESTORNO","STOCK",`Item estornado no estoque: ${X}`),A())},re=async(X,Q)=>{xt&&(await xs(En(xt,"sales",X),{custo_extras_total:Q}),A())},ve=async X=>{var be,ae,Se;if(!xt)return;const Q=f.transactions.find(Ee=>Ee.id===X);if(!Q)return;if((be=Q.id)!=null&&be.startsWith("TR-REC-")||Q.referencia_id&&f.sales.some(Ee=>Ee.id_venda===Q.referencia_id)){alert(` Esta transao est vinculada a uma VENDA.
Use o estorno de VENDA no Histrico de Vendas.`);return}if((ae=Q.id)!=null&&ae.startsWith("TR-PAY-")||Q.referencia_id&&f.payables.some(Ee=>Ee.id===Q.referencia_id)){alert(` Esta transao est vinculada a uma CONTA A PAGAR.
Use o estorno de CONTA em Financeiro > A Pagar.`);return}if(Q.categoria==="ESTORNO"||(Se=Q.id)!=null&&Se.startsWith("TR-ESTORNO-")){alert(" Esta transao j  um estorno. No pode ser estornada novamente.");return}const ge={id:`TR-ESTORNO-${X}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO: ${Q.descricao}`,tipo:Q.tipo==="ENTRADA"?"SAIDA":"ENTRADA",categoria:"ESTORNO",valor:Q.valor,metodo_pagamento:Q.metodo_pagamento||"OUTROS",referencia_id:Q.referencia_id||X};await G(ge),pi(e==null?void 0:e.user,"ESTORNO","TRANSACTION",`Transao estornada: ${Q.descricao} (R$${Q.valor})`),A()},we=async(X,Q,ge,be)=>{const ae=f.sales.find(Fe=>Fe.id_venda===X);if(!ae||!xt)return;const Se=ae.peso_real_saida*ae.preco_venda_kg,_e=(ae.valor_pago||0)+Q,Je=_e>=Se?"PAGO":"PENDENTE";try{await xs(En(xt,"sales",X),{valor_pago:_e,status_pagamento:Je,forma_pagamento:ge}),A()}catch(Fe){console.error("Error adding partial payment:",Fe)}},ie=async X=>{if(!xt)return;const Q=j(X);await Vo(En(xt,"scheduled_orders",Q.id),Q),e!=null&&e.user&&pi(e.user,"CREATE","ORDER",`Pedido agendado criado para ${Q.nome_cliente}`),A()},L=async(X,Q)=>{xt&&(await xs(En(xt,"scheduled_orders",X),j(Q)),A())},Y=async X=>{xt&&(await Lye(En(xt,"scheduled_orders",X)),e!=null&&e.user&&pi(e.user,"DELETE","ORDER",`Pedido excludo: ${X}`),A())},ee=async()=>{Vd&&(await xme(Vd),e!=null&&e.user&&pi(e.user,"LOGOUT","SYSTEM","Usurio saiu do sistema")),n(null),i("menu")};return m?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx(Yf,{className:"text-blue-600 animate-spin",size:48})}):e?d.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden selection:bg-blue-200",children:[r==="menu"&&d.jsx(RK,{setView:i,onLogout:ee,onSyncSheets:p8()?async()=>{E("syncing");const X=await d1e(f);E(X.success?"ok":"error"),X.success&&setTimeout(()=>E("idle"),5e3)}:void 0,sheetsSyncStatus:y}),r==="system_reset"&&d.jsx(f8,{onBack:()=>i("menu"),refreshData:A}),r==="dashboard"&&d.jsx(Ide,{sales:f.sales,stock:D,transactions:f.transactions,batches:V,clients:f.clients,onBack:()=>i("menu")}),r==="clients"&&d.jsx(Rde,{clients:f.clients,sales:f.sales,transactions:f.transactions,batches:V,addClient:async X=>{xt&&(await Vo(En(xt,"clients",X.id_ferro),j(X)),e!=null&&e.user&&pi(e.user,"CREATE","CLIENT",`Novo cliente: ${X.nome_social}`),A())},updateClient:async X=>{xt&&(await Vo(En(xt,"clients",X.id_ferro),j(X),{merge:!0}),e!=null&&e.user&&pi(e.user,"UPDATE","CLIENT",`Cliente atualizado: ${X.nome_social}`),A())},onGoToFinancial:()=>i("financial"),onBack:()=>i("menu")}),r==="suppliers"&&d.jsx(t1e,{suppliers:f.suppliers,addSupplier:S,updateSupplier:I,deleteSupplier:async X=>{xt&&(await xs(En(xt,"suppliers",X),{status:"INATIVO"}),e!=null&&e.user&&pi(e.user,"UPDATE","OTHER",`Fornecedor inativado: ${X}`),A())},onBack:()=>i("menu")}),r==="batches"&&d.jsx(kde,{batches:f.batches,suppliers:f.suppliers,stock:f.stock,addBatch:z,updateBatch:async(X,Q)=>{xt&&(await xs(En(xt,"batches",X),j(Q)),e!=null&&e.user&&pi(e.user,"UPDATE","BATCH",`Lote atualizado: ${X}`),A())},deleteBatch:U,addStockItem:R,updateStockItem:C,removeStockItem:te,registerBatchFinancial:le,onGoToStock:()=>i("stock"),onBack:()=>i("menu")}),r==="stock"&&d.jsx(Pde,{stock:D,batches:V,sales:f.sales,clients:f.clients,updateBatch:async(X,Q)=>{xt&&(await xs(En(xt,"batches",X),j(Q)),e!=null&&e.user&&pi(e.user,"UPDATE","BATCH",`Lote atualizado: ${X}`),A())},deleteBatch:U,onBack:()=>i("menu")}),r==="expedition"&&d.jsx(Pfe,{clients:f.clients,stock:D,batches:V,salesHistory:f.sales,onConfirmSale:X=>{const{client:Q,items:ge,pricePerKg:be,extrasCost:ae}=X,Se=new Map;ge.forEach(Fe=>{const Ne=`${Fe.id_lote}-${Fe.sequencia}`;Se.has(Ne)||Se.set(Ne,[]),Se.get(Ne).push(Fe)});const Ee=[];let _e=0;const Je=[...Se.values()].reduce((Fe,Ne)=>Fe+Ne.reduce((ne,Be)=>ne+(Be.peso_saida||Be.peso_entrada),0),0);Se.forEach((Fe,Ne)=>{const ne=Fe.length>1,Be=f.batches.find(At=>At.id_lote===Fe[0].id_lote),Ze=Be?Be.custo_real_kg:0,ze=Fe.reduce((At,Dt)=>At+Dt.peso_entrada,0),et=Fe.reduce((At,Dt)=>At+(Dt.peso_saida||Dt.peso_entrada),0),Ke=ze-et,rt=et*be,it=et*Ze,We=Je>0?ae*(et/Je):0,yt=rt-it-We,bt=ne?`${Fe[0].id_lote}-${Fe[0].sequencia}-INTEIRO`:Fe[0].id_completo;Ee.push({id_venda:`V-${Date.now()}-${_e++}`,id_cliente:Q.id_ferro,nome_cliente:Q.nome_social,id_completo:bt,peso_real_saida:et,preco_venda_kg:be,data_venda:new Date().toISOString().split("T")[0],quebra_kg:Ke,lucro_liquido_unitario:yt,custo_extras_total:We,prazo_dias:30,data_vencimento:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],forma_pagamento:"OUTROS",status_pagamento:"PENDENTE",tipo_venda:ne?"CARCACA_INTEIRA":"BANDA_AVULSA",stock_ids_originais:Fe.map(At=>At.id_completo)})}),W(Ee),i("sales_history")},onBack:()=>i("menu")}),r==="sales_history"&&d.jsx(jfe,{stock:D,batches:V,sales:f.sales,clients:f.clients,initialSearchTerm:a==null?void 0:a.searchTerm,onBack:()=>i("menu"),onGoToSales:()=>i("expedition"),estornoSale:H}),r==="financial"&&d.jsx(Ofe,{sales:f.sales,batches:V,stock:D,clients:f.clients,transactions:f.transactions,updateSaleCost:re,addTransaction:G,deleteTransaction:ve,addPartialPayment:we,onBack:()=>i("menu"),payables:f.payables,addPayable:P,updatePayable:F,deletePayable:B,estornoSale:H}),r==="scheduled_orders"&&d.jsx(Dfe,{scheduledOrders:f.scheduledOrders,clients:f.clients,addScheduledOrder:ie,updateScheduledOrder:L,deleteScheduledOrder:Y,onViewClientHistory:X=>{s({searchTerm:X}),i("sales_history")},onBack:()=>i("menu")}),r==="report"&&d.jsx(f1e,{reports:f.reports,onBack:()=>i("menu"),onSubmit:async X=>{var ge,be,ae;if(!xt)return;const Q={id:`REPORT-${Date.now()}`,timestamp:new Date().toISOString(),date:new Date().toISOString().split("T")[0],userId:((ge=e==null?void 0:e.user)==null?void 0:ge.uid)||"anonymous",userName:((ae=(be=e==null?void 0:e.user)==null?void 0:be.email)==null?void 0:ae.split("@")[0])||"Colaborador",...X};await Vo(En(xt,"daily_reports",Q.id),Q),pi(e==null?void 0:e.user,"CREATE","OTHER",`Relatrio enviado: ${X.type}`),A()}}),r==="heifers"&&d.jsx(h1e,{onBack:()=>i("menu"),existingOrders:f.scheduledOrders,onAddOrder:ie}),r==="sales_agent"&&d.jsx(g1e,{onBack:()=>i("menu"),clients:f.clients}),r==="audit"&&d.jsx(x1e,{onBack:()=>i("menu")}),r==="ai_agents"&&d.jsx(OSe,{onBack:()=>i("menu"),batches:f.batches,stock:f.stock,sales:f.sales,clients:f.clients,transactions:f.transactions,suppliers:f.suppliers,payables:f.payables,scheduledOrders:f.scheduledOrders}),r==="system_reset"&&d.jsx(f8,{onBack:()=>i("menu"),refreshData:A}),d.jsxs("div",{className:"fixed bottom-3 left-3 right-3 md:bottom-8 md:left-8 md:right-auto z-[200] flex flex-col md:flex-row gap-2 md:gap-3 pointer-events-none items-stretch md:items-center",children:[l==="online"&&d.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-emerald-50 text-emerald-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-emerald-900/5 animate-reveal",children:[d.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),d.jsx("span",{className:"hidden md:inline",children:"CORE: SINAL_CRIPTOGRAFADO"}),d.jsx("span",{className:"md:hidden",children:"ONLINE"})]}),l==="offline"&&d.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-rose-50 text-rose-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-rose-900/5 animate-reveal",children:[d.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(244,63,94,0.5)]"}),d.jsx("span",{className:"hidden md:inline",children:"CORE: LINK_AUSENTE"}),d.jsx("span",{className:"md:hidden",children:"OFFLINE"})]}),d.jsxs("button",{onClick:()=>{window.confirm(` Atualizar aplicativo?

Isso ir buscar a verso mais recente do app.

 IMPORTANTE: Seus dados (lotes, financeiro, estoque) NO sero afetados!

Deseja continuar?`)&&window.location.reload()},className:"pointer-events-auto bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-2.5 rounded-xl md:rounded-2xl font-black text-[9px] md:text-[10px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl transition-all hover:scale-105 active:scale-95 animate-reveal cursor-pointer",title:"Clique para atualizar o app e carregar a verso mais recente",children:[d.jsx(fT,{size:14,className:"animate-spin-slow"}),d.jsx("span",{children:"Atualizar App"})]}),d.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-[0_20px_40px_rgba(15,23,42,0.3)] animate-reveal",children:[d.jsx(As,{size:12,className:"text-blue-400"}),d.jsx("span",{className:"hidden md:inline",children:CK}),d.jsx("span",{className:"md:hidden",children:mT})]})]})]}):d.jsx(e1e,{onLoginSuccess:()=>{}})},A$=document.getElementById("root");if(!A$)throw new Error("Could not find root element to mount to");const DSe=VH.createRoot(A$);DSe.render(d.jsx(Oe.StrictMode,{children:d.jsx(jSe,{})}));export{yr as _,hy as c,Sr as g};
