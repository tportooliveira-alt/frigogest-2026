(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l_={exports:{}},pg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function xH(){if(H3)return pg;H3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return pg.Fragment=e,pg.jsx=n,pg.jsxs=n,pg}var G3;function bH(){return G3||(G3=1,l_.exports=xH()),l_.exports}var f=bH(),c_={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3;function _H(){if(W3)return on;W3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(ce){return ce===null||typeof ce!="object"?null:(ce=g&&ce[g]||ce["@@iterator"],typeof ce=="function"?ce:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function C(ce,O,K){this.props=ce,this.context=O,this.refs=A,this.updater=K||N}C.prototype.isReactComponent={},C.prototype.setState=function(ce,O){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,O,"setState")},C.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function I(){}I.prototype=C.prototype;function k(ce,O,K){this.props=ce,this.context=O,this.refs=A,this.updater=K||N}var B=k.prototype=new I;B.constructor=k,S(B,C.prototype),B.isPureReactComponent=!0;var L=Array.isArray;function z(){}var D={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(ce,O,K){var H=K.ref;return{$$typeof:t,type:ce,key:O,ref:H!==void 0?H:null,props:K}}function Y(ce,O){return V(ce.type,O,ce.props)}function q(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===t}function M(ce){var O={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(K){return O[K]})}var F=/\/+/g;function Q(ce,O){return typeof ce=="object"&&ce!==null&&ce.key!=null?M(""+ce.key):O.toString(36)}function se(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(z,z):(ce.status="pending",ce.then(function(O){ce.status==="pending"&&(ce.status="fulfilled",ce.value=O)},function(O){ce.status==="pending"&&(ce.status="rejected",ce.reason=O)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function W(ce,O,K,H,Z){var te=typeof ce;(te==="undefined"||te==="boolean")&&(ce=null);var me=!1;if(ce===null)me=!0;else switch(te){case"bigint":case"string":case"number":me=!0;break;case"object":switch(ce.$$typeof){case t:case e:me=!0;break;case h:return me=ce._init,W(me(ce._payload),O,K,H,Z)}}if(me)return Z=Z(ce),me=H===""?"."+Q(ce,0):H,L(Z)?(K="",me!=null&&(K=me.replace(F,"$&/")+"/"),W(Z,O,K,"",function(Ae){return Ae})):Z!=null&&(q(Z)&&(Z=Y(Z,K+(Z.key==null||ce&&ce.key===Z.key?"":(""+Z.key).replace(F,"$&/")+"/")+me)),O.push(Z)),1;me=0;var _e=H===""?".":H+":";if(L(ce))for(var ie=0;ie<ce.length;ie++)H=ce[ie],te=_e+Q(H,ie),me+=W(H,O,K,te,Z);else if(ie=y(ce),typeof ie=="function")for(ce=ie.call(ce),ie=0;!(H=ce.next()).done;)H=H.value,te=_e+Q(H,ie++),me+=W(H,O,K,te,Z);else if(te==="object"){if(typeof ce.then=="function")return W(se(ce),O,K,H,Z);throw O=String(ce),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return me}function ee(ce,O,K){if(ce==null)return ce;var H=[],Z=0;return W(ce,H,"","",function(te){return O.call(K,te,Z++)}),H}function le(ce){if(ce._status===-1){var O=ce._result;O=O(),O.then(function(K){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=K)},function(K){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=K)}),ce._status===-1&&(ce._status=0,ce._result=O)}if(ce._status===1)return ce._result.default;throw ce._result}var xe=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},ve={map:ee,forEach:function(ce,O,K){ee(ce,function(){O.apply(this,arguments)},K)},count:function(ce){var O=0;return ee(ce,function(){O++}),O},toArray:function(ce){return ee(ce,function(O){return O})||[]},only:function(ce){if(!q(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return on.Activity=m,on.Children=ve,on.Component=C,on.Fragment=n,on.Profiler=i,on.PureComponent=k,on.StrictMode=r,on.Suspense=c,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,on.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return D.H.useMemoCache(ce)}},on.cache=function(ce){return function(){return ce.apply(null,arguments)}},on.cacheSignal=function(){return null},on.cloneElement=function(ce,O,K){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var H=S({},ce.props),Z=ce.key;if(O!=null)for(te in O.key!==void 0&&(Z=""+O.key),O)!j.call(O,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&O.ref===void 0||(H[te]=O[te]);var te=arguments.length-2;if(te===1)H.children=K;else if(1<te){for(var me=Array(te),_e=0;_e<te;_e++)me[_e]=arguments[_e+2];H.children=me}return V(ce.type,Z,H)},on.createContext=function(ce){return ce={$$typeof:s,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:a,_context:ce},ce},on.createElement=function(ce,O,K){var H,Z={},te=null;if(O!=null)for(H in O.key!==void 0&&(te=""+O.key),O)j.call(O,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Z[H]=O[H]);var me=arguments.length-2;if(me===1)Z.children=K;else if(1<me){for(var _e=Array(me),ie=0;ie<me;ie++)_e[ie]=arguments[ie+2];Z.children=_e}if(ce&&ce.defaultProps)for(H in me=ce.defaultProps,me)Z[H]===void 0&&(Z[H]=me[H]);return V(ce,te,Z)},on.createRef=function(){return{current:null}},on.forwardRef=function(ce){return{$$typeof:l,render:ce}},on.isValidElement=q,on.lazy=function(ce){return{$$typeof:h,_payload:{_status:-1,_result:ce},_init:le}},on.memo=function(ce,O){return{$$typeof:d,type:ce,compare:O===void 0?null:O}},on.startTransition=function(ce){var O=D.T,K={};D.T=K;try{var H=ce(),Z=D.S;Z!==null&&Z(K,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(z,xe)}catch(te){xe(te)}finally{O!==null&&K.types!==null&&(O.types=K.types),D.T=O}},on.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},on.use=function(ce){return D.H.use(ce)},on.useActionState=function(ce,O,K){return D.H.useActionState(ce,O,K)},on.useCallback=function(ce,O){return D.H.useCallback(ce,O)},on.useContext=function(ce){return D.H.useContext(ce)},on.useDebugValue=function(){},on.useDeferredValue=function(ce,O){return D.H.useDeferredValue(ce,O)},on.useEffect=function(ce,O){return D.H.useEffect(ce,O)},on.useEffectEvent=function(ce){return D.H.useEffectEvent(ce)},on.useId=function(){return D.H.useId()},on.useImperativeHandle=function(ce,O,K){return D.H.useImperativeHandle(ce,O,K)},on.useInsertionEffect=function(ce,O){return D.H.useInsertionEffect(ce,O)},on.useLayoutEffect=function(ce,O){return D.H.useLayoutEffect(ce,O)},on.useMemo=function(ce,O){return D.H.useMemo(ce,O)},on.useOptimistic=function(ce,O){return D.H.useOptimistic(ce,O)},on.useReducer=function(ce,O,K){return D.H.useReducer(ce,O,K)},on.useRef=function(ce){return D.H.useRef(ce)},on.useState=function(ce){return D.H.useState(ce)},on.useSyncExternalStore=function(ce,O,K){return D.H.useSyncExternalStore(ce,O,K)},on.useTransition=function(){return D.H.useTransition()},on.version="19.2.3",on}var K3;function oT(){return K3||(K3=1,c_.exports=_H()),c_.exports}var be=oT();const je=mr(be);var u_={exports:{}},mg={},d_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function wH(){return Y3||(Y3=1,(function(t){function e(W,ee){var le=W.length;W.push(ee);e:for(;0<le;){var xe=le-1>>>1,ve=W[xe];if(0<i(ve,ee))W[xe]=ee,W[le]=ve,le=xe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ee=W[0],le=W.pop();if(le!==ee){W[0]=le;e:for(var xe=0,ve=W.length,ce=ve>>>1;xe<ce;){var O=2*(xe+1)-1,K=W[O],H=O+1,Z=W[H];if(0>i(K,le))H<ve&&0>i(Z,K)?(W[xe]=Z,W[H]=le,xe=H):(W[xe]=K,W[O]=le,xe=O);else if(H<ve&&0>i(Z,le))W[xe]=Z,W[H]=le,xe=H;else break e}}return ee}function i(W,ee){var le=W.sortIndex-ee.sortIndex;return le!==0?le:W.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,m=null,g=3,y=!1,N=!1,S=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=W)r(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(d)}}function L(W){if(S=!1,B(W),!N)if(n(c)!==null)N=!0,z||(z=!0,M());else{var ee=n(d);ee!==null&&se(L,ee.startTime-W)}}var z=!1,D=-1,j=5,V=-1;function Y(){return A?!0:!(t.unstable_now()-V<j)}function q(){if(A=!1,z){var W=t.unstable_now();V=W;var ee=!0;try{e:{N=!1,S&&(S=!1,I(D),D=-1),y=!0;var le=g;try{t:{for(B(W),m=n(c);m!==null&&!(m.expirationTime>W&&Y());){var xe=m.callback;if(typeof xe=="function"){m.callback=null,g=m.priorityLevel;var ve=xe(m.expirationTime<=W);if(W=t.unstable_now(),typeof ve=="function"){m.callback=ve,B(W),ee=!0;break t}m===n(c)&&r(c),B(W)}else r(c);m=n(c)}if(m!==null)ee=!0;else{var ce=n(d);ce!==null&&se(L,ce.startTime-W),ee=!1}}break e}finally{m=null,g=le,y=!1}ee=void 0}}finally{ee?M():z=!1}}}var M;if(typeof k=="function")M=function(){k(q)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Q=F.port2;F.port1.onmessage=q,M=function(){Q.postMessage(null)}}else M=function(){C(q,0)};function se(W,ee){D=C(function(){W(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var le=g;g=ee;try{return W()}finally{g=le}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=g;g=W;try{return ee()}finally{g=le}},t.unstable_scheduleCallback=function(W,ee,le){var xe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?xe+le:xe):le=xe,W){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=le+ve,W={id:h++,callback:ee,priorityLevel:W,startTime:le,expirationTime:ve,sortIndex:-1},le>xe?(W.sortIndex=le,e(d,W),n(c)===null&&W===n(d)&&(S?(I(D),D=-1):S=!0,se(L,le-xe))):(W.sortIndex=ve,e(c,W),N||y||(N=!0,z||(z=!0,M()))),W},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(W){var ee=g;return function(){var le=g;g=ee;try{return W.apply(this,arguments)}finally{g=le}}}})(f_)),f_}var J3;function AH(){return J3||(J3=1,d_.exports=wH()),d_.exports}var h_={exports:{}},Va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3;function SH(){if(X3)return Va;X3=1;var t=oT();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Va.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,h)},Va.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},Va.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Va.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Va.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Va.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Va.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Va.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Va.requestFormReset=function(c){r.d.r(c)},Va.unstable_batchedUpdates=function(c,d){return c(d)},Va.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},Va.useFormStatus=function(){return s.H.useHostTransitionStatus()},Va.version="19.2.3",Va}var Q3;function EH(){if(Q3)return h_.exports;Q3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h_.exports=SH(),h_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function NH(){if(Z3)return mg;Z3=1;var t=AH(),e=oT(),n=EH();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var E=p.return;if(E===null)break;var R=E.alternate;if(R===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===p)return c(E),o;if(R===v)return c(E),u;R=R.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=R;else{for(var X=!1,he=E.child;he;){if(he===p){X=!0,p=E,v=R;break}if(he===v){X=!0,v=E,p=R;break}he=he.sibling}if(!X){for(he=R.child;he;){if(he===p){X=!0,p=R,v=E;break}if(he===v){X=!0,v=R,p=E;break}he=he.sibling}if(!X)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function M(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function Q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case N:return"Portal";case k:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case B:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return u=o.displayName||null,u!==null?u:Q(o.type)||"Memo";case j:u=o._payload,o=o._init;try{return Q(o(u))}catch{}}return null}var se=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},xe=[],ve=-1;function ce(o){return{current:o}}function O(o){0>ve||(o.current=xe[ve],xe[ve]=null,ve--)}function K(o,u){ve++,xe[ve]=o.current,o.current=u}var H=ce(null),Z=ce(null),te=ce(null),me=ce(null);function _e(o,u){switch(K(te,u),K(Z,o),K(H,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?p3(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=p3(u),o=m3(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}O(H),K(H,o)}function ie(){O(H),O(Z),O(te)}function Ae(o){o.memoizedState!==null&&K(me,o);var u=H.current,p=m3(u,o.type);u!==p&&(K(Z,o),K(H,p))}function Re(o){Z.current===o&&(O(H),O(Z)),me.current===o&&(O(me),ug._currentValue=le)}var Se,We;function tt(o){if(Se===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);Se=u&&u[1]||"",We=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+o+We}var ge=!1;function ue(o,u){if(!o||ge)return"";ge=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Je){var $e=Je}Reflect.construct(o,[],ct)}else{try{ct.call()}catch(Je){$e=Je}o.call(ct.prototype)}}else{try{throw Error()}catch(Je){$e=Je}(ct=o())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(Je){if(Je&&$e&&typeof Je.stack=="string")return[Je.stack,$e.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=v.DetermineComponentFrameRoot(),X=R[0],he=R[1];if(X&&he){var Ee=X.split(`
`),ze=he.split(`
`);for(E=v=0;v<Ee.length&&!Ee[v].includes("DetermineComponentFrameRoot");)v++;for(;E<ze.length&&!ze[E].includes("DetermineComponentFrameRoot");)E++;if(v===Ee.length||E===ze.length)for(v=Ee.length-1,E=ze.length-1;1<=v&&0<=E&&Ee[v]!==ze[E];)E--;for(;1<=v&&0<=E;v--,E--)if(Ee[v]!==ze[E]){if(v!==1||E!==1)do if(v--,E--,0>E||Ee[v]!==ze[E]){var et=`
`+Ee[v].replace(" at new "," at ");return o.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",o.displayName)),et}while(1<=v&&0<=E);break}}}finally{ge=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?tt(p):""}function ut(o,u){switch(o.tag){case 26:case 27:case 5:return tt(o.type);case 16:return tt("Lazy");case 13:return o.child!==u&&u!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return ue(o.type,!1);case 11:return ue(o.type.render,!1);case 1:return ue(o.type,!0);case 31:return tt("Activity");default:return""}}function Ze(o){try{var u="",p=null;do u+=ut(o,p),p=o,o=o.return;while(o);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var He=Object.prototype.hasOwnProperty,Ge=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,Ye=t.unstable_requestPaint,ht=t.unstable_now,Et=t.unstable_getCurrentPriorityLevel,yt=t.unstable_ImmediatePriority,St=t.unstable_UserBlockingPriority,Kt=t.unstable_NormalPriority,It=t.unstable_LowPriority,zt=t.unstable_IdlePriority,xt=t.log,Nn=t.unstable_setDisableYieldValue,nn=null,qn=null;function Ne(o){if(typeof xt=="function"&&Nn(o),qn&&typeof qn.setStrictMode=="function")try{qn.setStrictMode(nn,o)}catch{}}var rt=Math.clz32?Math.clz32:Ar,Vt=Math.log,Dt=Math.LN2;function Ar(o){return o>>>=0,o===0?32:31-(Vt(o)/Dt|0)|0}var un=256,Dn=262144,Sr=4194304;function pn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ft(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,R=o.suspendedLanes,X=o.pingedLanes;o=o.warmLanes;var he=v&134217727;return he!==0?(v=he&~R,v!==0?E=pn(v):(X&=he,X!==0?E=pn(X):p||(p=he&~o,p!==0&&(E=pn(p))))):(he=v&~R,he!==0?E=pn(he):X!==0?E=pn(X):p||(p=v&~o,p!==0&&(E=pn(p)))),E===0?0:u!==0&&u!==E&&(u&R)===0&&(R=E&-E,p=u&-u,R>=p||R===32&&(p&4194048)!==0)?u:E}function vn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function xs(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(){var o=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),o}function gi(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Oi(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function kt(o,u,p,v,E,R){var X=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var he=o.entanglements,Ee=o.expirationTimes,ze=o.hiddenUpdates;for(p=X&~p;0<p;){var et=31-rt(p),ct=1<<et;he[et]=0,Ee[et]=-1;var $e=ze[et];if($e!==null)for(ze[et]=null,et=0;et<$e.length;et++){var Je=$e[et];Je!==null&&(Je.lane&=-536870913)}p&=~ct}v!==0&&da(o,v,0),R!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=R&~(X&~u))}function da(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-rt(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function ji(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-rt(p),E=1<<v;E&u|o[v]&u&&(o[v]|=u),p&=~E}}function Wr(o,u){var p=u&-u;return p=(p&42)!==0?1:Ir(p),(p&(o.suspendedLanes|u))!==0?0:p}function Ir(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Er(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Kr(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:F3(o.type))}function Ko(o,u){var p=ee.p;try{return ee.p=o,u()}finally{ee.p=p}}var vi=Math.random().toString(36).slice(2),Ln="__reactFiber$"+vi,ir="__reactProps$"+vi,ei="__reactContainer$"+vi,Mi="__reactEvents$"+vi,Yr="__reactListeners$"+vi,ns="__reactHandles$"+vi,Vs="__reactResources$"+vi,Ia="__reactMarker$"+vi;function bs(o){delete o[Ln],delete o[ir],delete o[Mi],delete o[Yr],delete o[ns]}function Ra(o){var u=o[Ln];if(u)return u;for(var p=o.parentNode;p;){if(u=p[ei]||p[Ln]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=w3(o);o!==null;){if(p=o[Ln])return p;o=w3(o)}return u}o=p,p=o.parentNode}return null}function ka(o){if(o=o[Ln]||o[ei]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function yo(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function rs(o){var u=o[Vs];return u||(u=o[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Rr(o){o[Ia]=!0}var zs=new Set,$s={};function Di(o,u){Pa(o,u),Pa(o+"Capture",u)}function Pa(o,u){for($s[o]=u,o=0;o<u.length;o++)zs.add(u[o])}var gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Uc={};function Yo(o){return He.call(Uc,o)?!0:He.call(Fl,o)?!1:gf.test(o)?Uc[o]=!0:(Fl[o]=!0,!1)}function xo(o,u,p){if(Yo(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function er(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function fa(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}function yi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Bc(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function qc(o,u,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,R=v.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(X){p=""+X,R.call(this,X)}}),Object.defineProperty(o,u,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(X){p=""+X},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ul(o){if(!o._valueTracker){var u=Bc(o)?"checked":"value";o._valueTracker=qc(o,u,""+o[u])}}function ha(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=Bc(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function Hs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Fr=/[\n"\\]/g;function ur(o){return o.replace(Fr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Gs(o,u,p,v,E,R,X,he){o.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.type=X:o.removeAttribute("type"),u!=null?X==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+yi(u)):o.value!==""+yi(u)&&(o.value=""+yi(u)):X!=="submit"&&X!=="reset"||o.removeAttribute("value"),u!=null?Xo(o,X,yi(u)):p!=null?Xo(o,X,yi(p)):v!=null&&o.removeAttribute("value"),E==null&&R!=null&&(o.defaultChecked=!!R),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?o.name=""+yi(he):o.removeAttribute("name")}function Jo(o,u,p,v,E,R,X,he){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),u!=null||p!=null){if(!(R!=="submit"&&R!=="reset"||u!=null)){Ul(o);return}p=p!=null?""+yi(p):"",u=u!=null?""+yi(u):p,he||u===o.value||(o.value=u),o.defaultValue=u}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=he?o.checked:!!v,o.defaultChecked=!!v,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(o.name=X),Ul(o)}function Xo(o,u,p){u==="number"&&Hs(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Tn(o,u,p,v){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+yi(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function bo(o,u,p){if(u!=null&&(u=""+yi(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+yi(p):""}function _o(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(se(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=yi(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),Ul(o)}function Ji(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||vf.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function Bu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in u)v=u[E],u.hasOwnProperty(E)&&p[E]!==v&&Vc(o,E,v)}else for(var R in u)u.hasOwnProperty(R)&&Vc(o,R,u[R])}function is(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(o){return ql.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function jn(){}var Vl=null;function Qo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ut=null,pa=null;function qu(o){var u=ka(o);if(u&&(o=u.stateNode)){var p=o[ir]||null;e:switch(o=u.stateNode,u.type){case"input":if(Gs(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ur(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var E=v[ir]||null;if(!E)throw Error(r(90));Gs(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&ha(v)}break e;case"textarea":bo(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Tn(o,!!p.multiple,u,!1)}}}var Oa=!1;function zc(o,u,p){if(Oa)return o(u,p);Oa=!0;try{var v=o(u);return v}finally{if(Oa=!1,(Ut!==null||pa!==null)&&($v(),Ut&&(u=Ut,o=pa,pa=Ut=null,qu(u),o)))for(u=0;u<o.length;u++)qu(o[u])}}function Li(o,u){var p=o.stateNode;if(p===null)return null;var v=p[ir]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=!1;if(Xi)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Zo=!1}var ma=null,zl=null,ja=null;function Ma(){if(ja)return ja;var o,u=zl,p=u.length,v,E="value"in ma?ma.value:ma.textContent,R=E.length;for(o=0;o<p&&u[o]===E[o];o++);var X=p-o;for(v=1;v<=X&&u[p-v]===E[R-v];v++);return ja=E.slice(o,1<v?1-v:void 0)}function Da(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function wo(){return!0}function Vn(){return!1}function ti(o){function u(p,v,E,R,X){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=R,this.target=X,this.currentTarget=null;for(var he in o)o.hasOwnProperty(he)&&(p=o[he],this[he]=p?p(R):R[he]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?wo:Vn,this.isPropagationStopped=Vn,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),u}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=ti(La),Ws=m({},La,{view:0,detail:0}),$c=ti(Ws),Ks,ga,kr,el=m({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==kr&&(kr&&o.type==="mousemove"?(Ks=o.screenX-kr.screenX,ga=o.screenY-kr.screenY):ga=Ks=0,kr=o),Ks)},movementY:function(o){return"movementY"in o?o.movementY:ga}}),Ys=ti(el),Fi=m({},el,{dataTransfer:0}),$l=ti(Fi),Js=m({},Ws,{relatedTarget:0}),So=ti(Js),tl=m({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=ti(tl),Hc=m({},La,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Gl=ti(Hc),Eo=m({},La,{data:0}),No=ti(Eo),Wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Kl[o])?!!u[o]:!1}function ss(){return Vu}var To=m({},Ws,{key:function(o){if(o.key){var u=Wl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Da(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?nl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(o){return o.type==="keypress"?Da(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Da(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Yl=ti(To),Qi=m({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=ti(Qi),P=m({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),ne=ti(P),we=m({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),Te=ti(we),De=m({},el,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=ti(De),pt=m({},La,{newState:0,oldState:0}),At=ti(pt),_=[9,13,27,32],$=Xi&&"CompositionEvent"in window,J=null;Xi&&"documentMode"in document&&(J=document.documentMode);var fe=Xi&&"TextEvent"in window&&!J,Oe=Xi&&(!$||J&&8<J&&11>=J),Be=" ",mt=!1;function en(o,u){switch(o){case"keyup":return _.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ht=!1;function Hn(o,u){switch(o){case"compositionend":return yn(u);case"keypress":return u.which!==32?null:(mt=!0,Be);case"textInput":return o=u.data,o===Be&&mt?null:o;default:return null}}function ar(o,u){if(Ht)return o==="compositionend"||!$&&en(o,u)?(o=Ma(),ja=zl=ma=null,Ht=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Oe&&u.locale!=="ko"?null:u.data;default:return null}}var Xs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xi(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Xs[o.type]:u==="textarea"}function Qs(o,u,p,v){Ut?pa?pa.push(v):pa=[v]:Ut=v,u=Xv(u,"onChange"),0<u.length&&(p=new Ao("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var Fa=null,il=null;function yf(o){l3(o,0)}function al(o){var u=yo(o);if(ha(u))return o}function bi(o,u){if(o==="change")return u}var Gc=!1;if(Xi){var Jl;if(Xi){var Xl="oninput"in document;if(!Xl){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Xl=typeof zu.oninput=="function"}Jl=Xl}else Jl=!1;Gc=Jl&&(!document.documentMode||9<document.documentMode)}function va(){Fa&&(Fa.detachEvent("onpropertychange",wh),il=Fa=null)}function wh(o){if(o.propertyName==="value"&&al(il)){var u=[];Qs(u,il,o,Qo(o)),zc(yf,u)}}function xf(o,u,p){o==="focusin"?(va(),Fa=u,il=p,Fa.attachEvent("onpropertychange",wh)):o==="focusout"&&va()}function Ah(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return al(il)}function ws(o,u){if(o==="click")return al(u)}function $u(o,u){if(o==="input"||o==="change")return al(u)}function Sh(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Zi=typeof Object.is=="function"?Object.is:Sh;function As(o,u){if(Zi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!He.call(u,E)||!Zi(o[E],u[E]))return!1}return!0}function Ql(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ya(o,u){var p=Ql(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ql(p)}}function ea(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?ea(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function sl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Hs(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Hs(o.document)}return u}function Zs(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var ol=Xi&&"documentMode"in document&&11>=document.documentMode,eo=null,to=null,gr=null,Wc=!1;function ta(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Wc||eo==null||eo!==Hs(v)||(v=eo,"selectionStart"in v&&Zs(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),gr&&As(gr,v)||(gr=v,v=Xv(to,"onSelect"),0<v.length&&(u=new Ao("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=eo)))}function _i(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var no={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Hu={},Gu={};Xi&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function os(o){if(Hu[o])return Hu[o];if(!no[o])return o;var u=no[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in Gu)return Hu[o]=u[p];return o}var Zl=os("animationend"),ll=os("animationiteration"),ec=os("animationstart"),Wu=os("transitionrun"),Kc=os("transitionstart"),tc=os("transitioncancel"),Ku=os("transitionend"),ls=new Map,Ua="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ua.push("scrollEnd");function bn(o,u){ls.set(o,u),Di(u,[o])}var Xn=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Fn=[],Nr=0,ro=0;function nc(){for(var o=Nr,u=ro=Nr=0;u<o;){var p=Fn[u];Fn[u++]=null;var v=Fn[u];Fn[u++]=null;var E=Fn[u];Fn[u++]=null;var R=Fn[u];if(Fn[u++]=null,v!==null&&E!==null){var X=v.pending;X===null?E.next=E:(E.next=X.next,X.next=E),v.pending=E}R!==0&&bf(p,E,R)}}function cl(o,u,p,v){Fn[Nr++]=o,Fn[Nr++]=u,Fn[Nr++]=p,Fn[Nr++]=v,ro|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Yu(o,u,p,v){return cl(o,u,p,v),na(o)}function ul(o,u){return cl(o,null,null,u),na(o)}function bf(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,R=o.return;R!==null;)R.childLanes|=p,v=R.alternate,v!==null&&(v.childLanes|=p),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(E=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,E&&u!==null&&(E=31-rt(p),o=R.hiddenUpdates,v=o[E],v===null?o[E]=[u]:v.push(u),u.lane=p|536870912),R):null}function na(o){if(50<rg)throw rg=0,P2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ui={};function Eh(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(o,u,p,v){return new Eh(o,u,p,v)}function Nh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ss(o,u){var p=o.alternate;return p===null?(p=ra(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function _f(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Ju(o,u,p,v,E,R){var X=0;if(v=o,typeof o=="function")Nh(o)&&(X=1);else if(typeof o=="string")X=oH(o,p,H.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=ra(31,p,u,E),o.elementType=V,o.lanes=R,o;case S:return rc(p.children,E,R,u);case A:X=8,E|=24;break;case C:return o=ra(12,p,u,E|2),o.elementType=C,o.lanes=R,o;case L:return o=ra(13,p,u,E),o.elementType=L,o.lanes=R,o;case z:return o=ra(19,p,u,E),o.elementType=z,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:X=10;break e;case I:X=9;break e;case B:X=11;break e;case D:X=14;break e;case j:X=16,v=null;break e}X=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=ra(X,p,u,E),u.elementType=o,u.type=v,u.lanes=R,u}function rc(o,u,p,v){return o=ra(7,o,v,u),o.lanes=p,o}function wf(o,u,p){return o=ra(6,o,null,u),o.lanes=p,o}function Th(o){var u=ra(18,null,null,0);return u.stateNode=o,u}function Xu(o,u,p){return u=ra(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ch=new WeakMap;function Es(o,u){if(typeof o=="object"&&o!==null){var p=Ch.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Ze(u)},Ch.set(o,u),u)}return{value:o,source:u,stack:Ze(u)}}var Qu=[],Yc=0,Ih=null,Af=0,Ns=[],Ts=0,ic=null,Cs=1,Is="";function cs(o,u){Qu[Yc++]=Af,Qu[Yc++]=Ih,Ih=o,Af=u}function Av(o,u,p){Ns[Ts++]=Cs,Ns[Ts++]=Is,Ns[Ts++]=ic,ic=o;var v=Cs;o=Is;var E=32-rt(v)-1;v&=~(1<<E),p+=1;var R=32-rt(u)+E;if(30<R){var X=E-E%5;R=(v&(1<<X)-1).toString(32),v>>=X,E-=X,Cs=1<<32-rt(u)+E|p<<E|v,Is=R+o}else Cs=1<<R|p<<E|v,Is=o}function Dm(o){o.return!==null&&(cs(o,1),Av(o,1,0))}function Rh(o){for(;o===Ih;)Ih=Qu[--Yc],Qu[Yc]=null,Af=Qu[--Yc],Qu[Yc]=null;for(;o===ic;)ic=Ns[--Ts],Ns[Ts]=null,Is=Ns[--Ts],Ns[Ts]=null,Cs=Ns[--Ts],Ns[Ts]=null}function Sv(o,u){Ns[Ts++]=Cs,Ns[Ts++]=Is,Ns[Ts++]=ic,Cs=u.id,Is=u.overflow,ic=o}var Bi=null,vr=null,_n=!1,xa=null,Ur=!1,io=Error(r(519));function ac(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zu(Es(u,o)),io}function Lm(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[Ln]=o,u[ir]=v,p){case"dialog":Sn("cancel",u),Sn("close",u);break;case"iframe":case"object":case"embed":Sn("load",u);break;case"video":case"audio":for(p=0;p<ag.length;p++)Sn(ag[p],u);break;case"source":Sn("error",u);break;case"img":case"image":case"link":Sn("error",u),Sn("load",u);break;case"details":Sn("toggle",u);break;case"input":Sn("invalid",u),Jo(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Sn("invalid",u);break;case"textarea":Sn("invalid",u),_o(u,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||f3(u.textContent,p)?(v.popover!=null&&(Sn("beforetoggle",u),Sn("toggle",u)),v.onScroll!=null&&Sn("scroll",u),v.onScrollEnd!=null&&Sn("scrollend",u),v.onClick!=null&&(u.onclick=jn),u=!0):u=!1,u||ac(o,!0)}function dl(o){for(Bi=o.return;Bi;)switch(Bi.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Bi=Bi.return}}function qi(o){if(o!==Bi)return!1;if(!_n)return dl(o),_n=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||W2(o.type,o.memoizedProps)),p=!p),p&&vr&&ac(o),dl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));vr=_3(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));vr=_3(o)}else u===27?(u=vr,hd(o.type)?(o=Q2,Q2=null,vr=o):vr=u):vr=Bi?jo(o.stateNode.nextSibling):null;return!0}function Jc(){vr=Bi=null,_n=!1}function Fm(){var o=xa;return o!==null&&(Ms===null?Ms=o:Ms.push.apply(Ms,o),xa=null),o}function Zu(o){xa===null?xa=[o]:xa.push(o)}var kh=ce(null),sc=null,Co=null;function oc(o,u,p){K(kh,u._currentValue),u._currentValue=p}function Rs(o){o._currentValue=kh.current,O(kh)}function ed(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function Xc(o,u,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var R=E.dependencies;if(R!==null){var X=E.child;R=R.firstContext;e:for(;R!==null;){var he=R;R=E;for(var Ee=0;Ee<u.length;Ee++)if(he.context===u[Ee]){R.lanes|=p,he=R.alternate,he!==null&&(he.lanes|=p),ed(R.return,p,o),v||(X=null);break e}R=he.next}}else if(E.tag===18){if(X=E.return,X===null)throw Error(r(341));X.lanes|=p,R=X.alternate,R!==null&&(R.lanes|=p),ed(X,p,o),X=null}else X=E.child;if(X!==null)X.return=E;else for(X=E;X!==null;){if(X===o){X=null;break}if(E=X.sibling,E!==null){E.return=X.return,X=E;break}X=X.return}E=X}}function lc(o,u,p,v){o=null;for(var E=u,R=!1;E!==null;){if(!R){if((E.flags&524288)!==0)R=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var X=E.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var he=E.type;Zi(E.pendingProps.value,X.value)||(o!==null?o.push(he):o=[he])}}else if(E===me.current){if(X=E.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(ug):o=[ug])}E=E.return}o!==null&&Xc(u,o,p,v),u.flags|=262144}function Ph(o){for(o=o.firstContext;o!==null;){if(!Zi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function cc(o){sc=o,Co=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Vi(o){return Ev(sc,o)}function Oh(o,u){return sc===null&&cc(o),Ev(o,u)}function Ev(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Co===null){if(o===null)throw Error(r(308));Co=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Co=Co.next=u;return p}var Xb=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},Qb=t.unstable_scheduleCallback,Zb=t.unstable_NormalPriority,Jr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new Xb,data:new Map,refCount:0}}function Sf(o){o.refCount--,o.refCount===0&&Qb(Zb,function(){o.controller.abort()})}var Ef=null,jh=0,b=0,T=null;function U(o,u){if(Ef===null){var p=Ef=[];jh=0,b=F2(),T={status:"pending",value:void 0,then:function(v){p.push(v)}}}return jh++,u.then(G,G),u}function G(){if(--jh===0&&Ef!==null){T!==null&&(T.status="fulfilled");var o=Ef;Ef=null,b=0,T=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function re(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var ae=W.S;W.S=function(o,u){D4=ht(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&U(o,u),ae!==null&&ae(o,u)};var oe=ce(null);function de(){var o=oe.current;return o!==null?o:xr.pooledCache}function pe(o,u){u===null?K(oe,oe.current):K(oe,u.pool)}function ye(){var o=de();return o===null?null:{parent:Jr._currentValue,pool:o}}var Ce=Error(r(460)),Ue=Error(r(474)),Fe=Error(r(542)),Me={then:function(){}};function lt(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Xe(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(jn,jn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,ft(o),o;default:if(typeof u.status=="string")u.then(jn,jn);else{if(o=xr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=v}},function(v){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,ft(o),o}throw Pe=u,Ce}}function Ie(o){try{var u=o._init;return u(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Pe=p,Ce):p}}var Pe=null;function at(){if(Pe===null)throw Error(r(459));var o=Pe;return Pe=null,o}function ft(o){if(o===Ce||o===Fe)throw Error(r(483))}var it=null,Nt=0;function _t(o){var u=Nt;return Nt+=1,it===null&&(it=[]),Xe(it,o,u)}function Lt(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function wt(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Un(o){function u(Le,ke){if(o){var qe=Le.deletions;qe===null?(Le.deletions=[ke],Le.flags|=16):qe.push(ke)}}function p(Le,ke){if(!o)return null;for(;ke!==null;)u(Le,ke),ke=ke.sibling;return null}function v(Le){for(var ke=new Map;Le!==null;)Le.key!==null?ke.set(Le.key,Le):ke.set(Le.index,Le),Le=Le.sibling;return ke}function E(Le,ke){return Le=Ss(Le,ke),Le.index=0,Le.sibling=null,Le}function R(Le,ke,qe){return Le.index=qe,o?(qe=Le.alternate,qe!==null?(qe=qe.index,qe<ke?(Le.flags|=67108866,ke):qe):(Le.flags|=67108866,ke)):(Le.flags|=1048576,ke)}function X(Le){return o&&Le.alternate===null&&(Le.flags|=67108866),Le}function he(Le,ke,qe,st){return ke===null||ke.tag!==6?(ke=wf(qe,Le.mode,st),ke.return=Le,ke):(ke=E(ke,qe),ke.return=Le,ke)}function Ee(Le,ke,qe,st){var Bt=qe.type;return Bt===S?et(Le,ke,qe.props.children,st,qe.key):ke!==null&&(ke.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===j&&Ie(Bt)===ke.type)?(ke=E(ke,qe.props),Lt(ke,qe),ke.return=Le,ke):(ke=Ju(qe.type,qe.key,qe.props,null,Le.mode,st),Lt(ke,qe),ke.return=Le,ke)}function ze(Le,ke,qe,st){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==qe.containerInfo||ke.stateNode.implementation!==qe.implementation?(ke=Xu(qe,Le.mode,st),ke.return=Le,ke):(ke=E(ke,qe.children||[]),ke.return=Le,ke)}function et(Le,ke,qe,st,Bt){return ke===null||ke.tag!==7?(ke=rc(qe,Le.mode,st,Bt),ke.return=Le,ke):(ke=E(ke,qe),ke.return=Le,ke)}function ct(Le,ke,qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=wf(""+ke,Le.mode,qe),ke.return=Le,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return qe=Ju(ke.type,ke.key,ke.props,null,Le.mode,qe),Lt(qe,ke),qe.return=Le,qe;case N:return ke=Xu(ke,Le.mode,qe),ke.return=Le,ke;case j:return ke=Ie(ke),ct(Le,ke,qe)}if(se(ke)||M(ke))return ke=rc(ke,Le.mode,qe,null),ke.return=Le,ke;if(typeof ke.then=="function")return ct(Le,_t(ke),qe);if(ke.$$typeof===k)return ct(Le,Oh(Le,ke),qe);wt(Le,ke)}return null}function $e(Le,ke,qe,st){var Bt=ke!==null?ke.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Bt!==null?null:he(Le,ke,""+qe,st);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:return qe.key===Bt?Ee(Le,ke,qe,st):null;case N:return qe.key===Bt?ze(Le,ke,qe,st):null;case j:return qe=Ie(qe),$e(Le,ke,qe,st)}if(se(qe)||M(qe))return Bt!==null?null:et(Le,ke,qe,st,null);if(typeof qe.then=="function")return $e(Le,ke,_t(qe),st);if(qe.$$typeof===k)return $e(Le,ke,Oh(Le,qe),st);wt(Le,qe)}return null}function Je(Le,ke,qe,st,Bt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Le=Le.get(qe)||null,he(ke,Le,""+st,Bt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case y:return Le=Le.get(st.key===null?qe:st.key)||null,Ee(ke,Le,st,Bt);case N:return Le=Le.get(st.key===null?qe:st.key)||null,ze(ke,Le,st,Bt);case j:return st=Ie(st),Je(Le,ke,qe,st,Bt)}if(se(st)||M(st))return Le=Le.get(qe)||null,et(ke,Le,st,Bt,null);if(typeof st.then=="function")return Je(Le,ke,qe,_t(st),Bt);if(st.$$typeof===k)return Je(Le,ke,qe,Oh(ke,st),Bt);wt(ke,st)}return null}function Ot(Le,ke,qe,st){for(var Bt=null,Wn=null,Mt=ke,fn=ke=0,Rn=null;Mt!==null&&fn<qe.length;fn++){Mt.index>fn?(Rn=Mt,Mt=null):Rn=Mt.sibling;var Kn=$e(Le,Mt,qe[fn],st);if(Kn===null){Mt===null&&(Mt=Rn);break}o&&Mt&&Kn.alternate===null&&u(Le,Mt),ke=R(Kn,ke,fn),Wn===null?Bt=Kn:Wn.sibling=Kn,Wn=Kn,Mt=Rn}if(fn===qe.length)return p(Le,Mt),_n&&cs(Le,fn),Bt;if(Mt===null){for(;fn<qe.length;fn++)Mt=ct(Le,qe[fn],st),Mt!==null&&(ke=R(Mt,ke,fn),Wn===null?Bt=Mt:Wn.sibling=Mt,Wn=Mt);return _n&&cs(Le,fn),Bt}for(Mt=v(Mt);fn<qe.length;fn++)Rn=Je(Mt,Le,fn,qe[fn],st),Rn!==null&&(o&&Rn.alternate!==null&&Mt.delete(Rn.key===null?fn:Rn.key),ke=R(Rn,ke,fn),Wn===null?Bt=Rn:Wn.sibling=Rn,Wn=Rn);return o&&Mt.forEach(function(yd){return u(Le,yd)}),_n&&cs(Le,fn),Bt}function Wt(Le,ke,qe,st){if(qe==null)throw Error(r(151));for(var Bt=null,Wn=null,Mt=ke,fn=ke=0,Rn=null,Kn=qe.next();Mt!==null&&!Kn.done;fn++,Kn=qe.next()){Mt.index>fn?(Rn=Mt,Mt=null):Rn=Mt.sibling;var yd=$e(Le,Mt,Kn.value,st);if(yd===null){Mt===null&&(Mt=Rn);break}o&&Mt&&yd.alternate===null&&u(Le,Mt),ke=R(yd,ke,fn),Wn===null?Bt=yd:Wn.sibling=yd,Wn=yd,Mt=Rn}if(Kn.done)return p(Le,Mt),_n&&cs(Le,fn),Bt;if(Mt===null){for(;!Kn.done;fn++,Kn=qe.next())Kn=ct(Le,Kn.value,st),Kn!==null&&(ke=R(Kn,ke,fn),Wn===null?Bt=Kn:Wn.sibling=Kn,Wn=Kn);return _n&&cs(Le,fn),Bt}for(Mt=v(Mt);!Kn.done;fn++,Kn=qe.next())Kn=Je(Mt,Le,fn,Kn.value,st),Kn!==null&&(o&&Kn.alternate!==null&&Mt.delete(Kn.key===null?fn:Kn.key),ke=R(Kn,ke,fn),Wn===null?Bt=Kn:Wn.sibling=Kn,Wn=Kn);return o&&Mt.forEach(function(yH){return u(Le,yH)}),_n&&cs(Le,fn),Bt}function hr(Le,ke,qe,st){if(typeof qe=="object"&&qe!==null&&qe.type===S&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:e:{for(var Bt=qe.key;ke!==null;){if(ke.key===Bt){if(Bt=qe.type,Bt===S){if(ke.tag===7){p(Le,ke.sibling),st=E(ke,qe.props.children),st.return=Le,Le=st;break e}}else if(ke.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===j&&Ie(Bt)===ke.type){p(Le,ke.sibling),st=E(ke,qe.props),Lt(st,qe),st.return=Le,Le=st;break e}p(Le,ke);break}else u(Le,ke);ke=ke.sibling}qe.type===S?(st=rc(qe.props.children,Le.mode,st,qe.key),st.return=Le,Le=st):(st=Ju(qe.type,qe.key,qe.props,null,Le.mode,st),Lt(st,qe),st.return=Le,Le=st)}return X(Le);case N:e:{for(Bt=qe.key;ke!==null;){if(ke.key===Bt)if(ke.tag===4&&ke.stateNode.containerInfo===qe.containerInfo&&ke.stateNode.implementation===qe.implementation){p(Le,ke.sibling),st=E(ke,qe.children||[]),st.return=Le,Le=st;break e}else{p(Le,ke);break}else u(Le,ke);ke=ke.sibling}st=Xu(qe,Le.mode,st),st.return=Le,Le=st}return X(Le);case j:return qe=Ie(qe),hr(Le,ke,qe,st)}if(se(qe))return Ot(Le,ke,qe,st);if(M(qe)){if(Bt=M(qe),typeof Bt!="function")throw Error(r(150));return qe=Bt.call(qe),Wt(Le,ke,qe,st)}if(typeof qe.then=="function")return hr(Le,ke,_t(qe),st);if(qe.$$typeof===k)return hr(Le,ke,Oh(Le,qe),st);wt(Le,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,ke!==null&&ke.tag===6?(p(Le,ke.sibling),st=E(ke,qe),st.return=Le,Le=st):(p(Le,ke),st=wf(qe,Le.mode,st),st.return=Le,Le=st),X(Le)):p(Le,ke)}return function(Le,ke,qe,st){try{Nt=0;var Bt=hr(Le,ke,qe,st);return it=null,Bt}catch(Mt){if(Mt===Ce||Mt===Fe)throw Mt;var Wn=ra(29,Mt,null,Le.mode);return Wn.lanes=st,Wn.return=Le,Wn}finally{}}}var wn=Un(!0),Cn=Un(!1),rn=!1;function Qn(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gn(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Gt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function sr(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Zn&2)!==0){var E=v.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),v.pending=u,u=na(o),bf(o,null,p),u}return cl(o,v,u,p),na(o)}function wi(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,ji(o,p)}}function Br(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var X={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};R===null?E=R=X:R=R.next=X,p=p.next}while(p!==null);R===null?E=R=u:R=R.next=u}else E=R=u;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var ia=!1;function Mn(){if(ia){var o=T;if(o!==null)throw o}}function zi(o,u,p,v){ia=!1;var E=o.updateQueue;rn=!1;var R=E.firstBaseUpdate,X=E.lastBaseUpdate,he=E.shared.pending;if(he!==null){E.shared.pending=null;var Ee=he,ze=Ee.next;Ee.next=null,X===null?R=ze:X.next=ze,X=Ee;var et=o.alternate;et!==null&&(et=et.updateQueue,he=et.lastBaseUpdate,he!==X&&(he===null?et.firstBaseUpdate=ze:he.next=ze,et.lastBaseUpdate=Ee))}if(R!==null){var ct=E.baseState;X=0,et=ze=Ee=null,he=R;do{var $e=he.lane&-536870913,Je=$e!==he.lane;if(Je?(In&$e)===$e:(v&$e)===$e){$e!==0&&$e===b&&(ia=!0),et!==null&&(et=et.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var Ot=o,Wt=he;$e=u;var hr=p;switch(Wt.tag){case 1:if(Ot=Wt.payload,typeof Ot=="function"){ct=Ot.call(hr,ct,$e);break e}ct=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Wt.payload,$e=typeof Ot=="function"?Ot.call(hr,ct,$e):Ot,$e==null)break e;ct=m({},ct,$e);break e;case 2:rn=!0}}$e=he.callback,$e!==null&&(o.flags|=64,Je&&(o.flags|=8192),Je=E.callbacks,Je===null?E.callbacks=[$e]:Je.push($e))}else Je={lane:$e,tag:he.tag,payload:he.payload,callback:he.callback,next:null},et===null?(ze=et=Je,Ee=ct):et=et.next=Je,X|=$e;if(he=he.next,he===null){if(he=E.shared.pending,he===null)break;Je=he,he=Je.next,Je.next=null,E.lastBaseUpdate=Je,E.shared.pending=null}}while(!0);et===null&&(Ee=ct),E.baseState=Ee,E.firstBaseUpdate=ze,E.lastBaseUpdate=et,R===null&&(E.shared.lanes=0),ld|=X,o.lanes=X,o.memoizedState=ct}}function Ba(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function ci(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Ba(p[o],u)}var qr=ce(null),Ai=ce(0);function us(o,u){o=cu,K(Ai,o),K(qr,u),cu=o|u.baseLanes}function ks(){K(Ai,cu),K(qr,qr.current)}function ni(){cu=Ai.current,O(qr),O(Ai)}var Xr=ce(null),Si=null;function ds(o){var u=o.alternate;K(Vr,Vr.current&1),K(Xr,o),Si===null&&(u===null||qr.current!==null||u.memoizedState!==null)&&(Si=o)}function Io(o){K(Vr,Vr.current),K(Xr,o),Si===null&&(Si=o)}function Pr(o){o.tag===22?(K(Vr,Vr.current),K(Xr,o),Si===null&&(Si=o)):Ro()}function Ro(){K(Vr,Vr.current),K(Xr,Xr.current)}function qa(o){O(Xr),Si===o&&(Si=null),O(Vr)}var Vr=ce(0);function Qc(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||J2(p)||X2(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var fs=0,tn=null,mn=null,yr=null,fl=!1,Zc=!1,ko=!1,Nf=0,uc=0,dc=null,Mh=0;function dr(){throw Error(r(321))}function Um(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Zi(o[p],u[p]))return!1;return!0}function Bm(o,u,p,v,E,R){return fs=R,tn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=o===null||o.memoizedState===null?WI:o2,ko=!1,R=p(v,E),ko=!1,Zc&&(R=hl(u,p,v,E)),Dh(o),R}function Dh(o){W.H=Km;var u=mn!==null&&mn.next!==null;if(fs=0,yr=mn=tn=null,fl=!1,uc=0,dc=null,u)throw Error(r(300));o===null||Ni||(o=o.dependencies,o!==null&&Ph(o)&&(Ni=!0))}function hl(o,u,p,v){tn=o;var E=0;do{if(Zc&&(dc=null),uc=0,Zc=!1,25<=E)throw Error(r(301));if(E+=1,yr=mn=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}W.H=KI,R=u(p,v)}while(Zc);return R}function e2(){var o=W.H,u=o.useState()[0];return u=typeof u.then=="function"?fc(u):u,o=o.useState()[0],(mn!==null?mn.memoizedState:null)!==o&&(tn.flags|=1024),u}function qm(){var o=Nf!==0;return Nf=0,o}function Vm(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function Lh(o){if(fl){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}fl=!1}fs=0,yr=mn=tn=null,Zc=!1,uc=Nf=0,dc=null}function Ei(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?tn.memoizedState=yr=o:yr=yr.next=o,yr}function zr(){if(mn===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=mn.next;var u=yr===null?tn.memoizedState:yr.next;if(u!==null)yr=u,mn=o;else{if(o===null)throw tn.alternate===null?Error(r(467)):Error(r(310));mn=o,o={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},yr===null?tn.memoizedState=yr=o:yr=yr.next=o}return yr}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(o){var u=uc;return uc+=1,dc===null&&(dc=[]),o=Xe(dc,o,u),u=tn,(yr===null?u.memoizedState:yr.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?WI:o2),o}function nd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return fc(o);if(o.$$typeof===k)return Vi(o)}throw Error(r(438,String(o)))}function eu(o){var u=null,p=tn.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=tn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Tf(),tn.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=Y;return u.index++,p}function Po(o,u){return typeof u=="function"?u(o):u}function Fh(o){var u=zr();return rd(u,mn,o)}function rd(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,R=v.pending;if(R!==null){if(E!==null){var X=E.next;E.next=R.next,R.next=X}u.baseQueue=E=R,v.pending=null}if(R=o.baseState,E===null)o.memoizedState=R;else{u=E.next;var he=X=null,Ee=null,ze=u,et=!1;do{var ct=ze.lane&-536870913;if(ct!==ze.lane?(In&ct)===ct:(fs&ct)===ct){var $e=ze.revertLane;if($e===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),ct===b&&(et=!0);else if((fs&$e)===$e){ze=ze.next,$e===b&&(et=!0);continue}else ct={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ee===null?(he=Ee=ct,X=R):Ee=Ee.next=ct,tn.lanes|=$e,ld|=$e;ct=ze.action,ko&&p(R,ct),R=ze.hasEagerState?ze.eagerState:p(R,ct)}else $e={lane:ct,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ee===null?(he=Ee=$e,X=R):Ee=Ee.next=$e,tn.lanes|=ct,ld|=ct;ze=ze.next}while(ze!==null&&ze!==u);if(Ee===null?X=R:Ee.next=he,!Zi(R,o.memoizedState)&&(Ni=!0,et&&(p=T,p!==null)))throw p;o.memoizedState=R,o.baseState=X,o.baseQueue=Ee,v.lastRenderedState=R}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Uh(o){var u=zr(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,R=u.memoizedState;if(E!==null){p.pending=null;var X=E=E.next;do R=o(R,X.action),X=X.next;while(X!==E);Zi(R,u.memoizedState)||(Ni=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),p.lastRenderedState=R}return[R,v]}function Bh(o,u,p){var v=tn,E=zr(),R=_n;if(R){if(p===void 0)throw Error(r(407));p=p()}else p=u();var X=!Zi((mn||E).memoizedState,p);if(X&&(E.memoizedState=p,Ni=!0),E=E.queue,t2($m.bind(null,v,E,o),[o]),E.getSnapshot!==u||X||yr!==null&&yr.memoizedState.tag&1){if(v.flags|=2048,nu(9,{destroy:void 0},zm.bind(null,v,E,p,u),null),xr===null)throw Error(r(349));R||(fs&127)!==0||pl(v,u,p)}return p}function pl(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=tn.updateQueue,u===null?(u=Tf(),tn.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function zm(o,u,p,v){u.value=p,u.getSnapshot=v,Nv(u)&&Hm(o)}function $m(o,u,p){return p(function(){Nv(u)&&Hm(o)})}function Nv(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Zi(o,p)}catch{return!0}}function Hm(o){var u=ul(o,2);u!==null&&Ds(u,o,2)}function hc(o){var u=Ei();if(typeof o=="function"){var p=o;if(o=p(),ko){Ne(!0);try{p()}finally{Ne(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:o},u}function Tv(o,u,p,v){return o.baseState=p,rd(o,mn,typeof v=="function"?v:Po)}function Cv(o,u,p,v,E){if(Pv(o))throw Error(r(485));if(o=u.action,o!==null){var R={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){R.listeners.push(X)}};W.T!==null?p(!0):R.isTransition=!1,v(R),p=u.pending,p===null?(R.next=u.pending=R,Iv(u,R)):(R.next=p.next,u.pending=p.next=R)}}function Iv(o,u){var p=u.action,v=u.payload,E=o.state;if(u.isTransition){var R=W.T,X={};W.T=X;try{var he=p(E,v),Ee=W.S;Ee!==null&&Ee(X,he),Gm(o,u,he)}catch(ze){tu(o,u,ze)}finally{R!==null&&X.types!==null&&(R.types=X.types),W.T=R}}else try{R=p(E,v),Gm(o,u,R)}catch(ze){tu(o,u,ze)}}function Gm(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Rv(o,u,v)},function(v){return tu(o,u,v)}):Rv(o,u,p)}function Rv(o,u,p){u.status="fulfilled",u.value=p,qh(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Iv(o,p)))}function tu(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,qh(u),u=u.next;while(u!==v)}o.action=null}function qh(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Cf(o,u){return u}function Oo(o,u){if(_n){var p=xr.formState;if(p!==null){e:{var v=tn;if(_n){if(vr){t:{for(var E=vr,R=Ur;E.nodeType!==8;){if(!R){E=null;break t}if(E=jo(E.nextSibling),E===null){E=null;break t}}R=E.data,E=R==="F!"||R==="F"?E:null}if(E){vr=jo(E.nextSibling),v=E.data==="F!";break e}}ac(v)}v=!1}v&&(u=p[0])}}return p=Ei(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:u},p.queue=v,p=$I.bind(null,tn,v),v.dispatch=p,v=hc(!1),R=s2.bind(null,tn,!1,v.queue),v=Ei(),E={state:u,dispatch:null,action:o,pending:null},v.queue=E,p=Cv.bind(null,tn,E,R,p),E.dispatch=p,v.memoizedState=o,[u,p,!1]}function ml(o){var u=zr();return gl(u,mn,o)}function gl(o,u,p){if(u=rd(o,u,Cf)[0],o=Fh(Po)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=fc(u)}catch(X){throw X===Ce?Fe:X}else v=u;u=zr();var E=u.queue,R=E.dispatch;return p!==u.memoizedState&&(tn.flags|=2048,nu(9,{destroy:void 0},Vh.bind(null,E,p),null)),[v,R,o]}function Vh(o,u){o.action=u}function zh(o){var u=zr(),p=mn;if(p!==null)return gl(u,p,o);zr(),u=u.memoizedState,p=zr();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function nu(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=tn.updateQueue,u===null&&(u=Tf(),tn.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function kv(){return zr().memoizedState}function id(o,u,p,v){var E=Ei();tn.flags|=o,E.memoizedState=nu(1|u,{destroy:void 0},p,v===void 0?null:v)}function ad(o,u,p,v){var E=zr();v=v===void 0?null:v;var R=E.memoizedState.inst;mn!==null&&v!==null&&Um(v,mn.memoizedState.deps)?E.memoizedState=nu(u,R,p,v):(tn.flags|=o,E.memoizedState=nu(1|u,R,p,v))}function RI(o,u){id(8390656,8,o,u)}function t2(o,u){ad(2048,8,o,u)}function f$(o){tn.flags|=4;var u=tn.updateQueue;if(u===null)u=Tf(),tn.updateQueue=u,u.events=[o];else{var p=u.events;p===null?u.events=[o]:p.push(o)}}function kI(o){var u=zr().memoizedState;return f$({ref:u,nextImpl:o}),function(){if((Zn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function PI(o,u){return ad(4,2,o,u)}function OI(o,u){return ad(4,4,o,u)}function jI(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function MI(o,u,p){p=p!=null?p.concat([o]):null,ad(4,4,jI.bind(null,u,o),p)}function n2(){}function DI(o,u){var p=zr();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&Um(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function LI(o,u){var p=zr();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&Um(u,v[1]))return v[0];if(v=o(),ko){Ne(!0);try{o()}finally{Ne(!1)}}return p.memoizedState=[v,u],v}function r2(o,u,p){return p===void 0||(fs&1073741824)!==0&&(In&261930)===0?o.memoizedState=u:(o.memoizedState=p,o=F4(),tn.lanes|=o,ld|=o,p)}function FI(o,u,p,v){return Zi(p,u)?p:qr.current!==null?(o=r2(o,p,v),Zi(o,u)||(Ni=!0),o):(fs&42)===0||(fs&1073741824)!==0&&(In&261930)===0?(Ni=!0,o.memoizedState=p):(o=F4(),tn.lanes|=o,ld|=o,u)}function UI(o,u,p,v,E){var R=ee.p;ee.p=R!==0&&8>R?R:8;var X=W.T,he={};W.T=he,s2(o,!1,u,p);try{var Ee=E(),ze=W.S;if(ze!==null&&ze(he,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var et=re(Ee,v);Wm(o,u,et,oo(o))}else Wm(o,u,v,oo(o))}catch(ct){Wm(o,u,{then:function(){},status:"rejected",reason:ct},oo())}finally{ee.p=R,X!==null&&he.types!==null&&(X.types=he.types),W.T=X}}function h$(){}function i2(o,u,p,v){if(o.tag!==5)throw Error(r(476));var E=BI(o).queue;UI(o,E,u,le,p===null?h$:function(){return qI(o),p(v)})}function BI(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:le},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function qI(o){var u=BI(o);u.next===null&&(u=o.alternate.memoizedState),Wm(o,u.next.queue,{},oo())}function a2(){return Vi(ug)}function VI(){return zr().memoizedState}function zI(){return zr().memoizedState}function p$(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=oo();o=Gt(p);var v=sr(u,o,p);v!==null&&(Ds(v,u,p),wi(v,u,p)),u={cache:td()},o.payload=u;return}u=u.return}}function m$(o,u,p){var v=oo();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Pv(o)?HI(u,p):(p=Yu(o,u,p,v),p!==null&&(Ds(p,o,v),GI(p,u,v)))}function $I(o,u,p){var v=oo();Wm(o,u,p,v)}function Wm(o,u,p,v){var E={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Pv(o))HI(u,E);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var X=u.lastRenderedState,he=R(X,p);if(E.hasEagerState=!0,E.eagerState=he,Zi(he,X))return cl(o,u,E,0),xr===null&&nc(),!1}catch{}finally{}if(p=Yu(o,u,E,v),p!==null)return Ds(p,o,v),GI(p,u,v),!0}return!1}function s2(o,u,p,v){if(v={lane:2,revertLane:F2(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Pv(o)){if(u)throw Error(r(479))}else u=Yu(o,p,v,2),u!==null&&Ds(u,o,2)}function Pv(o){var u=o.alternate;return o===tn||u!==null&&u===tn}function HI(o,u){Zc=fl=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function GI(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,ji(o,p)}}var Km={readContext:Vi,use:nd,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};Km.useEffectEvent=dr;var WI={readContext:Vi,use:nd,useCallback:function(o,u){return Ei().memoizedState=[o,u===void 0?null:u],o},useContext:Vi,useEffect:RI,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,id(4194308,4,jI.bind(null,u,o),p)},useLayoutEffect:function(o,u){return id(4194308,4,o,u)},useInsertionEffect:function(o,u){id(4,2,o,u)},useMemo:function(o,u){var p=Ei();u=u===void 0?null:u;var v=o();if(ko){Ne(!0);try{o()}finally{Ne(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=Ei();if(p!==void 0){var E=p(u);if(ko){Ne(!0);try{p(u)}finally{Ne(!1)}}}else E=u;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=m$.bind(null,tn,o),[v.memoizedState,o]},useRef:function(o){var u=Ei();return o={current:o},u.memoizedState=o},useState:function(o){o=hc(o);var u=o.queue,p=$I.bind(null,tn,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:n2,useDeferredValue:function(o,u){var p=Ei();return r2(p,o,u)},useTransition:function(){var o=hc(!1);return o=UI.bind(null,tn,o.queue,!0,!1),Ei().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=tn,E=Ei();if(_n){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),xr===null)throw Error(r(349));(In&127)!==0||pl(v,u,p)}E.memoizedState=p;var R={value:p,getSnapshot:u};return E.queue=R,RI($m.bind(null,v,R,o),[o]),v.flags|=2048,nu(9,{destroy:void 0},zm.bind(null,v,R,p,u),null),p},useId:function(){var o=Ei(),u=xr.identifierPrefix;if(_n){var p=Is,v=Cs;p=(v&~(1<<32-rt(v)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Nf++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=Mh++,u="_"+u+"r_"+p.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:a2,useFormState:Oo,useActionState:Oo,useOptimistic:function(o){var u=Ei();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=s2.bind(null,tn,!0,p),p.dispatch=u,[o,u]},useMemoCache:eu,useCacheRefresh:function(){return Ei().memoizedState=p$.bind(null,tn)},useEffectEvent:function(o){var u=Ei(),p={impl:o};return u.memoizedState=p,function(){if((Zn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},o2={readContext:Vi,use:nd,useCallback:DI,useContext:Vi,useEffect:t2,useImperativeHandle:MI,useInsertionEffect:PI,useLayoutEffect:OI,useMemo:LI,useReducer:Fh,useRef:kv,useState:function(){return Fh(Po)},useDebugValue:n2,useDeferredValue:function(o,u){var p=zr();return FI(p,mn.memoizedState,o,u)},useTransition:function(){var o=Fh(Po)[0],u=zr().memoizedState;return[typeof o=="boolean"?o:fc(o),u]},useSyncExternalStore:Bh,useId:VI,useHostTransitionStatus:a2,useFormState:ml,useActionState:ml,useOptimistic:function(o,u){var p=zr();return Tv(p,mn,o,u)},useMemoCache:eu,useCacheRefresh:zI};o2.useEffectEvent=kI;var KI={readContext:Vi,use:nd,useCallback:DI,useContext:Vi,useEffect:t2,useImperativeHandle:MI,useInsertionEffect:PI,useLayoutEffect:OI,useMemo:LI,useReducer:Uh,useRef:kv,useState:function(){return Uh(Po)},useDebugValue:n2,useDeferredValue:function(o,u){var p=zr();return mn===null?r2(p,o,u):FI(p,mn.memoizedState,o,u)},useTransition:function(){var o=Uh(Po)[0],u=zr().memoizedState;return[typeof o=="boolean"?o:fc(o),u]},useSyncExternalStore:Bh,useId:VI,useHostTransitionStatus:a2,useFormState:zh,useActionState:zh,useOptimistic:function(o,u){var p=zr();return mn!==null?Tv(p,mn,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:eu,useCacheRefresh:zI};KI.useEffectEvent=kI;function l2(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:m({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var c2={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=oo(),E=Gt(v);E.payload=u,p!=null&&(E.callback=p),u=sr(o,E,v),u!==null&&(Ds(u,o,v),wi(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=oo(),E=Gt(v);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=sr(o,E,v),u!==null&&(Ds(u,o,v),wi(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=oo(),v=Gt(p);v.tag=2,u!=null&&(v.callback=u),u=sr(o,v,p),u!==null&&(Ds(u,o,p),wi(u,o,p))}};function YI(o,u,p,v,E,R,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,R,X):u.prototype&&u.prototype.isPureReactComponent?!As(p,v)||!As(E,R):!0}function JI(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&c2.enqueueReplaceState(u,u.state,null)}function If(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=m({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}function XI(o){Xn(o)}function QI(o){console.error(o)}function ZI(o){Xn(o)}function Ov(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function e4(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function u2(o,u,p){return p=Gt(p),p.tag=3,p.payload={element:null},p.callback=function(){Ov(o,u)},p}function t4(o){return o=Gt(o),o.tag=3,o}function n4(o,u,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var R=v.value;o.payload=function(){return E(R)},o.callback=function(){e4(u,p,v)}}var X=p.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(o.callback=function(){e4(u,p,v),typeof E!="function"&&(cd===null?cd=new Set([this]):cd.add(this));var he=v.stack;this.componentDidCatch(v.value,{componentStack:he!==null?he:""})})}function g$(o,u,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&lc(u,p,E,!0),p=Xr.current,p!==null){switch(p.tag){case 31:case 13:return Si===null?Hv():p.alternate===null&&ri===0&&(ri=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===Me?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),M2(o,v,E)),!1;case 22:return p.flags|=65536,v===Me?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),M2(o,v,E)),!1}throw Error(r(435,p.tag))}return M2(o,v,E),Hv(),!1}if(_n)return u=Xr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,v!==io&&(o=Error(r(422),{cause:v}),Zu(Es(o,p)))):(v!==io&&(u=Error(r(423),{cause:v}),Zu(Es(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Es(v,p),E=u2(o.stateNode,v,E),Br(o,E),ri!==4&&(ri=2)),!1;var R=Error(r(520),{cause:v});if(R=Es(R,p),ng===null?ng=[R]:ng.push(R),ri!==4&&(ri=2),u===null)return!0;v=Es(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=u2(p.stateNode,v,o),Br(p,o),!1;case 1:if(u=p.type,R=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(cd===null||!cd.has(R))))return p.flags|=65536,E&=-E,p.lanes|=E,E=t4(E),n4(E,o,p,v),Br(p,E),!1}p=p.return}while(p!==null);return!1}var d2=Error(r(461)),Ni=!1;function ba(o,u,p,v){u.child=o===null?Cn(u,null,p,v):wn(u,o.child,p,v)}function r4(o,u,p,v,E){p=p.render;var R=u.ref;if("ref"in v){var X={};for(var he in v)he!=="ref"&&(X[he]=v[he])}else X=v;return cc(u),v=Bm(o,u,p,X,R,E),he=qm(),o!==null&&!Ni?(Vm(o,u,E),ru(o,u,E)):(_n&&he&&Dm(u),u.flags|=1,ba(o,u,v,E),u.child)}function i4(o,u,p,v,E){if(o===null){var R=p.type;return typeof R=="function"&&!Nh(R)&&R.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=R,a4(o,u,R,v,E)):(o=Ju(p.type,null,v,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(R=o.child,!x2(o,E)){var X=R.memoizedProps;if(p=p.compare,p=p!==null?p:As,p(X,v)&&o.ref===u.ref)return ru(o,u,E)}return u.flags|=1,o=Ss(R,v),o.ref=u.ref,o.return=u,u.child=o}function a4(o,u,p,v,E){if(o!==null){var R=o.memoizedProps;if(As(R,v)&&o.ref===u.ref)if(Ni=!1,u.pendingProps=v=R,x2(o,E))(o.flags&131072)!==0&&(Ni=!0);else return u.lanes=o.lanes,ru(o,u,E)}return f2(o,u,p,v,E)}function s4(o,u,p,v){var E=v.children,R=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(R=R!==null?R.baseLanes|p:p,o!==null){for(v=u.child=o.child,E=0;v!==null;)E=E|v.lanes|v.childLanes,v=v.sibling;v=E&~R}else v=0,u.child=null;return o4(o,u,R,p,v)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&pe(u,R!==null?R.cachePool:null),R!==null?us(u,R):ks(),Pr(u);else return v=u.lanes=536870912,o4(o,u,R!==null?R.baseLanes|p:p,p,v)}else R!==null?(pe(u,R.cachePool),us(u,R),Ro(),u.memoizedState=null):(o!==null&&pe(u,null),ks(),Ro());return ba(o,u,E,p),u.child}function Ym(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function o4(o,u,p,v,E){var R=de();return R=R===null?null:{parent:Jr._currentValue,pool:R},u.memoizedState={baseLanes:p,cachePool:R},o!==null&&pe(u,null),ks(),Pr(u),o!==null&&lc(o,u,v,!0),u.childLanes=E,null}function jv(o,u){return u=Dv({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function l4(o,u,p){return wn(u,o.child,null,p),o=jv(u,u.pendingProps),o.flags|=2,qa(u),u.memoizedState=null,o}function v$(o,u,p){var v=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(_n){if(v.mode==="hidden")return o=jv(u,v),u.lanes=536870912,Ym(null,o);if(Io(u),(o=vr)?(o=b3(o,Ur),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ic!==null?{id:Cs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},p=Th(o),p.return=u,u.child=p,Bi=u,vr=null)):o=null,o===null)throw ac(u);return u.lanes=536870912,null}return jv(u,v)}var R=o.memoizedState;if(R!==null){var X=R.dehydrated;if(Io(u),E)if(u.flags&256)u.flags&=-257,u=l4(o,u,p);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Ni||lc(o,u,p,!1),E=(p&o.childLanes)!==0,Ni||E){if(v=xr,v!==null&&(X=Wr(v,p),X!==0&&X!==R.retryLane))throw R.retryLane=X,ul(o,X),Ds(v,o,X),d2;Hv(),u=l4(o,u,p)}else o=R.treeContext,vr=jo(X.nextSibling),Bi=u,_n=!0,xa=null,Ur=!1,o!==null&&Sv(u,o),u=jv(u,v),u.flags|=4096;return u}return o=Ss(o.child,{mode:v.mode,children:v.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Mv(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function f2(o,u,p,v,E){return cc(u),p=Bm(o,u,p,v,void 0,E),v=qm(),o!==null&&!Ni?(Vm(o,u,E),ru(o,u,E)):(_n&&v&&Dm(u),u.flags|=1,ba(o,u,p,E),u.child)}function c4(o,u,p,v,E,R){return cc(u),u.updateQueue=null,p=hl(u,v,p,E),Dh(o),v=qm(),o!==null&&!Ni?(Vm(o,u,R),ru(o,u,R)):(_n&&v&&Dm(u),u.flags|=1,ba(o,u,p,R),u.child)}function u4(o,u,p,v,E){if(cc(u),u.stateNode===null){var R=Ui,X=p.contextType;typeof X=="object"&&X!==null&&(R=Vi(X)),R=new p(v,R),u.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=c2,u.stateNode=R,R._reactInternals=u,R=u.stateNode,R.props=v,R.state=u.memoizedState,R.refs={},Qn(u),X=p.contextType,R.context=typeof X=="object"&&X!==null?Vi(X):Ui,R.state=u.memoizedState,X=p.getDerivedStateFromProps,typeof X=="function"&&(l2(u,p,X,v),R.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(X=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),X!==R.state&&c2.enqueueReplaceState(R,R.state,null),zi(u,v,R,E),Mn(),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){R=u.stateNode;var he=u.memoizedProps,Ee=If(p,he);R.props=Ee;var ze=R.context,et=p.contextType;X=Ui,typeof et=="object"&&et!==null&&(X=Vi(et));var ct=p.getDerivedStateFromProps;et=typeof ct=="function"||typeof R.getSnapshotBeforeUpdate=="function",he=u.pendingProps!==he,et||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(he||ze!==X)&&JI(u,R,v,X),rn=!1;var $e=u.memoizedState;R.state=$e,zi(u,v,R,E),Mn(),ze=u.memoizedState,he||$e!==ze||rn?(typeof ct=="function"&&(l2(u,p,ct,v),ze=u.memoizedState),(Ee=rn||YI(u,p,Ee,v,$e,ze,X))?(et||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ze),R.props=v,R.state=ze,R.context=X,v=Ee):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{R=u.stateNode,Gn(o,u),X=u.memoizedProps,et=If(p,X),R.props=et,ct=u.pendingProps,$e=R.context,ze=p.contextType,Ee=Ui,typeof ze=="object"&&ze!==null&&(Ee=Vi(ze)),he=p.getDerivedStateFromProps,(ze=typeof he=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X!==ct||$e!==Ee)&&JI(u,R,v,Ee),rn=!1,$e=u.memoizedState,R.state=$e,zi(u,v,R,E),Mn();var Je=u.memoizedState;X!==ct||$e!==Je||rn||o!==null&&o.dependencies!==null&&Ph(o.dependencies)?(typeof he=="function"&&(l2(u,p,he,v),Je=u.memoizedState),(et=rn||YI(u,p,et,v,$e,Je,Ee)||o!==null&&o.dependencies!==null&&Ph(o.dependencies))?(ze||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,Je,Ee),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,Je,Ee)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||X===o.memoizedProps&&$e===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&$e===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Je),R.props=v,R.state=Je,R.context=Ee,v=et):(typeof R.componentDidUpdate!="function"||X===o.memoizedProps&&$e===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&$e===o.memoizedState||(u.flags|=1024),v=!1)}return R=v,Mv(o,u),v=(u.flags&128)!==0,R||v?(R=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:R.render(),u.flags|=1,o!==null&&v?(u.child=wn(u,o.child,null,E),u.child=wn(u,null,p,E)):ba(o,u,p,E),u.memoizedState=R.state,o=u.child):o=ru(o,u,E),o}function d4(o,u,p,v){return Jc(),u.flags|=256,ba(o,u,p,v),u.child}var h2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p2(o){return{baseLanes:o,cachePool:ye()}}function m2(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=so),o}function f4(o,u,p){var v=u.pendingProps,E=!1,R=(u.flags&128)!==0,X;if((X=R)||(X=o!==null&&o.memoizedState===null?!1:(Vr.current&2)!==0),X&&(E=!0,u.flags&=-129),X=(u.flags&32)!==0,u.flags&=-33,o===null){if(_n){if(E?ds(u):Ro(),(o=vr)?(o=b3(o,Ur),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ic!==null?{id:Cs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},p=Th(o),p.return=u,u.child=p,Bi=u,vr=null)):o=null,o===null)throw ac(u);return X2(o)?u.lanes=32:u.lanes=536870912,null}var he=v.children;return v=v.fallback,E?(Ro(),E=u.mode,he=Dv({mode:"hidden",children:he},E),v=rc(v,E,p,null),he.return=u,v.return=u,he.sibling=v,u.child=he,v=u.child,v.memoizedState=p2(p),v.childLanes=m2(o,X,p),u.memoizedState=h2,Ym(null,v)):(ds(u),g2(u,he))}var Ee=o.memoizedState;if(Ee!==null&&(he=Ee.dehydrated,he!==null)){if(R)u.flags&256?(ds(u),u.flags&=-257,u=v2(o,u,p)):u.memoizedState!==null?(Ro(),u.child=o.child,u.flags|=128,u=null):(Ro(),he=v.fallback,E=u.mode,v=Dv({mode:"visible",children:v.children},E),he=rc(he,E,p,null),he.flags|=2,v.return=u,he.return=u,v.sibling=he,u.child=v,wn(u,o.child,null,p),v=u.child,v.memoizedState=p2(p),v.childLanes=m2(o,X,p),u.memoizedState=h2,u=Ym(null,v));else if(ds(u),X2(he)){if(X=he.nextSibling&&he.nextSibling.dataset,X)var ze=X.dgst;X=ze,v=Error(r(419)),v.stack="",v.digest=X,Zu({value:v,source:null,stack:null}),u=v2(o,u,p)}else if(Ni||lc(o,u,p,!1),X=(p&o.childLanes)!==0,Ni||X){if(X=xr,X!==null&&(v=Wr(X,p),v!==0&&v!==Ee.retryLane))throw Ee.retryLane=v,ul(o,v),Ds(X,o,v),d2;J2(he)||Hv(),u=v2(o,u,p)}else J2(he)?(u.flags|=192,u.child=o.child,u=null):(o=Ee.treeContext,vr=jo(he.nextSibling),Bi=u,_n=!0,xa=null,Ur=!1,o!==null&&Sv(u,o),u=g2(u,v.children),u.flags|=4096);return u}return E?(Ro(),he=v.fallback,E=u.mode,Ee=o.child,ze=Ee.sibling,v=Ss(Ee,{mode:"hidden",children:v.children}),v.subtreeFlags=Ee.subtreeFlags&65011712,ze!==null?he=Ss(ze,he):(he=rc(he,E,p,null),he.flags|=2),he.return=u,v.return=u,v.sibling=he,u.child=v,Ym(null,v),v=u.child,he=o.child.memoizedState,he===null?he=p2(p):(E=he.cachePool,E!==null?(Ee=Jr._currentValue,E=E.parent!==Ee?{parent:Ee,pool:Ee}:E):E=ye(),he={baseLanes:he.baseLanes|p,cachePool:E}),v.memoizedState=he,v.childLanes=m2(o,X,p),u.memoizedState=h2,Ym(o.child,v)):(ds(u),p=o.child,o=p.sibling,p=Ss(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(X=u.deletions,X===null?(u.deletions=[o],u.flags|=16):X.push(o)),u.child=p,u.memoizedState=null,p)}function g2(o,u){return u=Dv({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Dv(o,u){return o=ra(22,o,null,u),o.lanes=0,o}function v2(o,u,p){return wn(u,o.child,null,p),o=g2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function h4(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),ed(o.return,u,p)}function y2(o,u,p,v,E,R){var X=o.memoizedState;X===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E,treeForkCount:R}:(X.isBackwards=u,X.rendering=null,X.renderingStartTime=0,X.last=v,X.tail=p,X.tailMode=E,X.treeForkCount=R)}function p4(o,u,p){var v=u.pendingProps,E=v.revealOrder,R=v.tail;v=v.children;var X=Vr.current,he=(X&2)!==0;if(he?(X=X&1|2,u.flags|=128):X&=1,K(Vr,X),ba(o,u,v,p),v=_n?Af:0,!he&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&h4(o,p,u);else if(o.tag===19)h4(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&Qc(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),y2(u,!1,E,p,R,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Qc(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}y2(u,!0,p,null,R,v);break;case"together":y2(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function ru(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),ld|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(lc(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Ss(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Ss(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function x2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Ph(o)))}function y$(o,u,p){switch(u.tag){case 3:_e(u,u.stateNode.containerInfo),oc(u,Jr,o.memoizedState.cache),Jc();break;case 27:case 5:Ae(u);break;case 4:_e(u,u.stateNode.containerInfo);break;case 10:oc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Io(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(ds(u),u.flags|=128,null):(p&u.child.childLanes)!==0?f4(o,u,p):(ds(u),o=ru(o,u,p),o!==null?o.sibling:null);ds(u);break;case 19:var E=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(lc(o,u,p,!1),v=(p&u.childLanes)!==0),E){if(v)return p4(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),K(Vr,Vr.current),v)break;return null;case 22:return u.lanes=0,s4(o,u,p,u.pendingProps);case 24:oc(u,Jr,o.memoizedState.cache)}return ru(o,u,p)}function m4(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Ni=!0;else{if(!x2(o,p)&&(u.flags&128)===0)return Ni=!1,y$(o,u,p);Ni=(o.flags&131072)!==0}else Ni=!1,_n&&(u.flags&1048576)!==0&&Av(u,Af,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(o=Ie(u.elementType),u.type=o,typeof o=="function")Nh(o)?(v=If(o,v),u.tag=1,u=u4(null,u,o,v,p)):(u.tag=0,u=f2(null,u,o,v,p));else{if(o!=null){var E=o.$$typeof;if(E===B){u.tag=11,u=r4(null,u,o,v,p);break e}else if(E===D){u.tag=14,u=i4(null,u,o,v,p);break e}}throw u=Q(o)||o,Error(r(306,u,""))}}return u;case 0:return f2(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,E=If(v,u.pendingProps),u4(o,u,v,E,p);case 3:e:{if(_e(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var R=u.memoizedState;E=R.element,Gn(o,u),zi(u,v,null,p);var X=u.memoizedState;if(v=X.cache,oc(u,Jr,v),v!==R.cache&&Xc(u,[Jr],p,!0),Mn(),v=X.element,R.isDehydrated)if(R={element:v,isDehydrated:!1,cache:X.cache},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){u=d4(o,u,v,p);break e}else if(v!==E){E=Es(Error(r(424)),u),Zu(E),u=d4(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(vr=jo(o.firstChild),Bi=u,_n=!0,xa=null,Ur=!0,p=Cn(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Jc(),v===E){u=ru(o,u,p);break e}ba(o,u,v,p)}u=u.child}return u;case 26:return Mv(o,u),o===null?(p=N3(u.type,null,u.pendingProps,null))?u.memoizedState=p:_n||(p=u.type,o=u.pendingProps,v=Qv(te.current).createElement(p),v[Ln]=u,v[ir]=o,_a(v,p,o),Rr(v),u.stateNode=v):u.memoizedState=N3(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ae(u),o===null&&_n&&(v=u.stateNode=A3(u.type,u.pendingProps,te.current),Bi=u,Ur=!0,E=vr,hd(u.type)?(Q2=E,vr=jo(v.firstChild)):vr=E),ba(o,u,u.pendingProps.children,p),Mv(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&_n&&((E=v=vr)&&(v=K$(v,u.type,u.pendingProps,Ur),v!==null?(u.stateNode=v,Bi=u,vr=jo(v.firstChild),Ur=!1,E=!0):E=!1),E||ac(u)),Ae(u),E=u.type,R=u.pendingProps,X=o!==null?o.memoizedProps:null,v=R.children,W2(E,R)?v=null:X!==null&&W2(E,X)&&(u.flags|=32),u.memoizedState!==null&&(E=Bm(o,u,e2,null,null,p),ug._currentValue=E),Mv(o,u),ba(o,u,v,p),u.child;case 6:return o===null&&_n&&((o=p=vr)&&(p=Y$(p,u.pendingProps,Ur),p!==null?(u.stateNode=p,Bi=u,vr=null,o=!0):o=!1),o||ac(u)),null;case 13:return f4(o,u,p);case 4:return _e(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=wn(u,null,v,p):ba(o,u,v,p),u.child;case 11:return r4(o,u,u.type,u.pendingProps,p);case 7:return ba(o,u,u.pendingProps,p),u.child;case 8:return ba(o,u,u.pendingProps.children,p),u.child;case 12:return ba(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,oc(u,u.type,v.value),ba(o,u,v.children,p),u.child;case 9:return E=u.type._context,v=u.pendingProps.children,cc(u),E=Vi(E),v=v(E),u.flags|=1,ba(o,u,v,p),u.child;case 14:return i4(o,u,u.type,u.pendingProps,p);case 15:return a4(o,u,u.type,u.pendingProps,p);case 19:return p4(o,u,p);case 31:return v$(o,u,p);case 22:return s4(o,u,p,u.pendingProps);case 24:return cc(u),v=Vi(Jr),o===null?(E=de(),E===null&&(E=xr,R=td(),E.pooledCache=R,R.refCount++,R!==null&&(E.pooledCacheLanes|=p),E=R),u.memoizedState={parent:v,cache:E},Qn(u),oc(u,Jr,E)):((o.lanes&p)!==0&&(Gn(o,u),zi(u,null,null,p),Mn()),E=o.memoizedState,R=u.memoizedState,E.parent!==v?(E={parent:v,cache:v},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),oc(u,Jr,v)):(v=R.cache,oc(u,Jr,v),v!==E.cache&&Xc(u,[Jr],p,!0))),ba(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function iu(o){o.flags|=4}function b2(o,u,p,v,E){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(V4())o.flags|=8192;else throw Pe=Me,Ue}else o.flags&=-16777217}function g4(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!k3(u))if(V4())o.flags|=8192;else throw Pe=Me,Ue}function Lv(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Gr():536870912,o.lanes|=u,Wh|=u)}function Jm(o,u){if(!_n)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Or(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function x$(o,u,p){var v=u.pendingProps;switch(Rh(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(u),null;case 1:return Or(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Rs(Jr),ie(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(qi(u)?iu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Fm())),Or(u),null;case 26:var E=u.type,R=u.memoizedState;return o===null?(iu(u),R!==null?(Or(u),g4(u,R)):(Or(u),b2(u,E,null,v,p))):R?R!==o.memoizedState?(iu(u),Or(u),g4(u,R)):(Or(u),u.flags&=-16777217):(o=o.memoizedProps,o!==v&&iu(u),Or(u),b2(u,E,o,v,p)),null;case 27:if(Re(u),p=te.current,E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&iu(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Or(u),null}o=H.current,qi(u)?Lm(u):(o=A3(E,v,p),u.stateNode=o,iu(u))}return Or(u),null;case 5:if(Re(u),E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&iu(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Or(u),null}if(R=H.current,qi(u))Lm(u);else{var X=Qv(te.current);switch(R){case 1:R=X.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:R=X.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":R=X.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":R=X.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":R=X.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof v.is=="string"?X.createElement("select",{is:v.is}):X.createElement("select"),v.multiple?R.multiple=!0:v.size&&(R.size=v.size);break;default:R=typeof v.is=="string"?X.createElement(E,{is:v.is}):X.createElement(E)}}R[Ln]=u,R[ir]=v;e:for(X=u.child;X!==null;){if(X.tag===5||X.tag===6)R.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===u)break e;for(;X.sibling===null;){if(X.return===null||X.return===u)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}u.stateNode=R;e:switch(_a(R,E,v),E){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&iu(u)}}return Or(u),b2(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,p),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&iu(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=te.current,qi(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,E=Bi,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Ln]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||f3(o.nodeValue,p)),o||ac(u,!0)}else o=Qv(o).createTextNode(v),o[Ln]=u,u.stateNode=o}return Or(u),null;case 31:if(p=u.memoizedState,o===null||o.memoizedState!==null){if(v=qi(u),p!==null){if(o===null){if(!v)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Ln]=u}else Jc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Or(u),o=!1}else p=Fm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return u.flags&256?(qa(u),u):(qa(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Or(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=qi(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Ln]=u}else Jc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Or(u),E=!1}else E=Fm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(qa(u),u):(qa(u),null)}return qa(u),(u.flags&128)!==0?(u.lanes=p,u):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=u.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool),R=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),R!==E&&(v.flags|=2048)),p!==o&&p&&(u.child.flags|=8192),Lv(u,u.updateQueue),Or(u),null);case 4:return ie(),o===null&&V2(u.stateNode.containerInfo),Or(u),null;case 10:return Rs(u.type),Or(u),null;case 19:if(O(Vr),v=u.memoizedState,v===null)return Or(u),null;if(E=(u.flags&128)!==0,R=v.rendering,R===null)if(E)Jm(v,!1);else{if(ri!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(R=Qc(o),R!==null){for(u.flags|=128,Jm(v,!1),o=R.updateQueue,u.updateQueue=o,Lv(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)_f(p,o),p=p.sibling;return K(Vr,Vr.current&1|2),_n&&cs(u,v.treeForkCount),u.child}o=o.sibling}v.tail!==null&&ht()>Vv&&(u.flags|=128,E=!0,Jm(v,!1),u.lanes=4194304)}else{if(!E)if(o=Qc(R),o!==null){if(u.flags|=128,E=!0,o=o.updateQueue,u.updateQueue=o,Lv(u,o),Jm(v,!0),v.tail===null&&v.tailMode==="hidden"&&!R.alternate&&!_n)return Or(u),null}else 2*ht()-v.renderingStartTime>Vv&&p!==536870912&&(u.flags|=128,E=!0,Jm(v,!1),u.lanes=4194304);v.isBackwards?(R.sibling=u.child,u.child=R):(o=v.last,o!==null?o.sibling=R:u.child=R,v.last=R)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ht(),o.sibling=null,p=Vr.current,K(Vr,E?p&1|2:p&1),_n&&cs(u,v.treeForkCount),o):(Or(u),null);case 22:case 23:return qa(u),ni(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Or(u),u.subtreeFlags&6&&(u.flags|=8192)):Or(u),p=u.updateQueue,p!==null&&Lv(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&O(oe),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Rs(Jr),Or(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function b$(o,u){switch(Rh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Rs(Jr),ie(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Re(u),null;case 31:if(u.memoizedState!==null){if(qa(u),u.alternate===null)throw Error(r(340));Jc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(qa(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Jc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return O(Vr),null;case 4:return ie(),null;case 10:return Rs(u.type),null;case 22:case 23:return qa(u),ni(),o!==null&&O(oe),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Rs(Jr),null;case 25:return null;default:return null}}function v4(o,u){switch(Rh(u),u.tag){case 3:Rs(Jr),ie();break;case 26:case 27:case 5:Re(u);break;case 4:ie();break;case 31:u.memoizedState!==null&&qa(u);break;case 13:qa(u);break;case 19:O(Vr);break;case 10:Rs(u.type);break;case 22:case 23:qa(u),ni(),o!==null&&O(oe);break;case 24:Rs(Jr)}}function Xm(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var R=p.create,X=p.inst;v=R(),X.destroy=v}p=p.next}while(p!==E)}}catch(he){lr(u,u.return,he)}}function sd(o,u,p){try{var v=u.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var R=E.next;v=R;do{if((v.tag&o)===o){var X=v.inst,he=X.destroy;if(he!==void 0){X.destroy=void 0,E=u;var Ee=p,ze=he;try{ze()}catch(et){lr(E,Ee,et)}}}v=v.next}while(v!==R)}}catch(et){lr(u,u.return,et)}}function y4(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{ci(u,p)}catch(v){lr(o,o.return,v)}}}function x4(o,u,p){p.props=If(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){lr(o,u,v)}}function Qm(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){lr(o,u,E)}}function pc(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){lr(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){lr(o,u,E)}else p.current=null}function b4(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){lr(o,o.return,E)}}function _2(o,u,p){try{var v=o.stateNode;V$(v,o.type,p,u),v[ir]=u}catch(E){lr(o,o.return,E)}}function _4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&hd(o.type)||o.tag===4}function w2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&hd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function A2(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=jn));else if(v!==4&&(v===27&&hd(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(A2(o,u,p),o=o.sibling;o!==null;)A2(o,u,p),o=o.sibling}function Fv(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&hd(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Fv(o,u,p),o=o.sibling;o!==null;)Fv(o,u,p),o=o.sibling}function w4(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);_a(u,v,p),u[Ln]=o,u[ir]=p}catch(R){lr(o,o.return,R)}}var au=!1,Ti=!1,S2=!1,A4=typeof WeakSet=="function"?WeakSet:Set,aa=null;function _$(o,u){if(o=o.containerInfo,H2=ay,o=sl(o),Zs(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,R=v.focusNode;v=v.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var X=0,he=-1,Ee=-1,ze=0,et=0,ct=o,$e=null;t:for(;;){for(var Je;ct!==p||E!==0&&ct.nodeType!==3||(he=X+E),ct!==R||v!==0&&ct.nodeType!==3||(Ee=X+v),ct.nodeType===3&&(X+=ct.nodeValue.length),(Je=ct.firstChild)!==null;)$e=ct,ct=Je;for(;;){if(ct===o)break t;if($e===p&&++ze===E&&(he=X),$e===R&&++et===v&&(Ee=X),(Je=ct.nextSibling)!==null)break;ct=$e,$e=ct.parentNode}ct=Je}p=he===-1||Ee===-1?null:{start:he,end:Ee}}else p=null}p=p||{start:0,end:0}}else p=null;for(G2={focusedElem:o,selectionRange:p},ay=!1,aa=u;aa!==null;)if(u=aa,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,aa=o;else for(;aa!==null;){switch(u=aa,R=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)E=o[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,p=u,E=R.memoizedProps,R=R.memoizedState,v=p.stateNode;try{var Ot=If(p.type,E);o=v.getSnapshotBeforeUpdate(Ot,R),v.__reactInternalSnapshotBeforeUpdate=o}catch(Wt){lr(p,p.return,Wt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)Y2(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Y2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,aa=o;break}aa=u.return}}function S4(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:ou(o,p),v&4&&Xm(5,p);break;case 1:if(ou(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(X){lr(p,p.return,X)}else{var E=If(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(X){lr(p,p.return,X)}}v&64&&y4(p),v&512&&Qm(p,p.return);break;case 3:if(ou(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{ci(o,u)}catch(X){lr(p,p.return,X)}}break;case 27:u===null&&v&4&&w4(p);case 26:case 5:ou(o,p),u===null&&v&4&&b4(p),v&512&&Qm(p,p.return);break;case 12:ou(o,p);break;case 31:ou(o,p),v&4&&T4(o,p);break;case 13:ou(o,p),v&4&&C4(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=R$.bind(null,p),J$(o,p))));break;case 22:if(v=p.memoizedState!==null||au,!v){u=u!==null&&u.memoizedState!==null||Ti,E=au;var R=Ti;au=v,(Ti=u)&&!R?lu(o,p,(p.subtreeFlags&8772)!==0):ou(o,p),au=E,Ti=R}break;case 30:break;default:ou(o,p)}}function E4(o){var u=o.alternate;u!==null&&(o.alternate=null,E4(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&bs(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var $r=null,Ps=!1;function su(o,u,p){for(p=p.child;p!==null;)N4(o,u,p),p=p.sibling}function N4(o,u,p){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(nn,p)}catch{}switch(p.tag){case 26:Ti||pc(p,u),su(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ti||pc(p,u);var v=$r,E=Ps;hd(p.type)&&($r=p.stateNode,Ps=!1),su(o,u,p),og(p.stateNode),$r=v,Ps=E;break;case 5:Ti||pc(p,u);case 6:if(v=$r,E=Ps,$r=null,su(o,u,p),$r=v,Ps=E,$r!==null)if(Ps)try{($r.nodeType===9?$r.body:$r.nodeName==="HTML"?$r.ownerDocument.body:$r).removeChild(p.stateNode)}catch(R){lr(p,u,R)}else try{$r.removeChild(p.stateNode)}catch(R){lr(p,u,R)}break;case 18:$r!==null&&(Ps?(o=$r,y3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),tp(o)):y3($r,p.stateNode));break;case 4:v=$r,E=Ps,$r=p.stateNode.containerInfo,Ps=!0,su(o,u,p),$r=v,Ps=E;break;case 0:case 11:case 14:case 15:sd(2,p,u),Ti||sd(4,p,u),su(o,u,p);break;case 1:Ti||(pc(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&x4(p,u,v)),su(o,u,p);break;case 21:su(o,u,p);break;case 22:Ti=(v=Ti)||p.memoizedState!==null,su(o,u,p),Ti=v;break;default:su(o,u,p)}}function T4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{tp(o)}catch(p){lr(u,u.return,p)}}}function C4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{tp(o)}catch(p){lr(u,u.return,p)}}function w$(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new A4),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new A4),u;default:throw Error(r(435,o.tag))}}function Uv(o,u){var p=w$(o);u.forEach(function(v){if(!p.has(v)){p.add(v);var E=k$.bind(null,o,v);v.then(E,E)}})}function Os(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],R=o,X=u,he=X;e:for(;he!==null;){switch(he.tag){case 27:if(hd(he.type)){$r=he.stateNode,Ps=!1;break e}break;case 5:$r=he.stateNode,Ps=!1;break e;case 3:case 4:$r=he.stateNode.containerInfo,Ps=!0;break e}he=he.return}if($r===null)throw Error(r(160));N4(R,X,E),$r=null,Ps=!1,R=E.alternate,R!==null&&(R.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)I4(u,o),u=u.sibling}var vl=null;function I4(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Os(u,o),js(o),v&4&&(sd(3,o,o.return),Xm(3,o),sd(5,o,o.return));break;case 1:Os(u,o),js(o),v&512&&(Ti||p===null||pc(p,p.return)),v&64&&au&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=vl;if(Os(u,o),js(o),v&512&&(Ti||p===null||pc(p,p.return)),v&4){var R=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":R=E.getElementsByTagName("title")[0],(!R||R[Ia]||R[Ln]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=E.createElement(v),E.head.insertBefore(R,E.querySelector("head > title"))),_a(R,v,p),R[Ln]=o,Rr(R),v=R;break e;case"link":var X=I3("link","href",E).get(v+(p.href||""));if(X){for(var he=0;he<X.length;he++)if(R=X[he],R.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&R.getAttribute("rel")===(p.rel==null?null:p.rel)&&R.getAttribute("title")===(p.title==null?null:p.title)&&R.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){X.splice(he,1);break t}}R=E.createElement(v),_a(R,v,p),E.head.appendChild(R);break;case"meta":if(X=I3("meta","content",E).get(v+(p.content||""))){for(he=0;he<X.length;he++)if(R=X[he],R.getAttribute("content")===(p.content==null?null:""+p.content)&&R.getAttribute("name")===(p.name==null?null:p.name)&&R.getAttribute("property")===(p.property==null?null:p.property)&&R.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&R.getAttribute("charset")===(p.charSet==null?null:p.charSet)){X.splice(he,1);break t}}R=E.createElement(v),_a(R,v,p),E.head.appendChild(R);break;default:throw Error(r(468,v))}R[Ln]=o,Rr(R),v=R}o.stateNode=v}else R3(E,o.type,o.stateNode);else o.stateNode=C3(E,v,o.memoizedProps);else R!==v?(R===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):R.count--,v===null?R3(E,o.type,o.stateNode):C3(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&_2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Os(u,o),js(o),v&512&&(Ti||p===null||pc(p,p.return)),p!==null&&v&4&&_2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Os(u,o),js(o),v&512&&(Ti||p===null||pc(p,p.return)),o.flags&32){E=o.stateNode;try{Ji(E,"")}catch(Ot){lr(o,o.return,Ot)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,_2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(S2=!0);break;case 6:if(Os(u,o),js(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(Ot){lr(o,o.return,Ot)}}break;case 3:if(ty=null,E=vl,vl=Zv(u.containerInfo),Os(u,o),vl=E,js(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{tp(u.containerInfo)}catch(Ot){lr(o,o.return,Ot)}S2&&(S2=!1,R4(o));break;case 4:v=vl,vl=Zv(o.stateNode.containerInfo),Os(u,o),js(o),vl=v;break;case 12:Os(u,o),js(o);break;case 31:Os(u,o),js(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Uv(o,v)));break;case 13:Os(u,o),js(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(qv=ht()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Uv(o,v)));break;case 22:E=o.memoizedState!==null;var Ee=p!==null&&p.memoizedState!==null,ze=au,et=Ti;if(au=ze||E,Ti=et||Ee,Os(u,o),Ti=et,au=ze,js(o),v&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||Ee||au||Ti||Rf(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){Ee=p=u;try{if(R=Ee.stateNode,E)X=R.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{he=Ee.stateNode;var ct=Ee.memoizedProps.style,$e=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;he.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(Ot){lr(Ee,Ee.return,Ot)}}}else if(u.tag===6){if(p===null){Ee=u;try{Ee.stateNode.nodeValue=E?"":Ee.memoizedProps}catch(Ot){lr(Ee,Ee.return,Ot)}}}else if(u.tag===18){if(p===null){Ee=u;try{var Je=Ee.stateNode;E?x3(Je,!0):x3(Ee.stateNode,!1)}catch(Ot){lr(Ee,Ee.return,Ot)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Uv(o,p))));break;case 19:Os(u,o),js(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Uv(o,v)));break;case 30:break;case 21:break;default:Os(u,o),js(o)}}function js(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(_4(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,R=w2(o);Fv(o,R,E);break;case 5:var X=p.stateNode;p.flags&32&&(Ji(X,""),p.flags&=-33);var he=w2(o);Fv(o,he,X);break;case 3:case 4:var Ee=p.stateNode.containerInfo,ze=w2(o);A2(o,ze,Ee);break;default:throw Error(r(161))}}catch(et){lr(o,o.return,et)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function R4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;R4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function ou(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)S4(o,u.alternate,u),u=u.sibling}function Rf(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:sd(4,u,u.return),Rf(u);break;case 1:pc(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&x4(u,u.return,p),Rf(u);break;case 27:og(u.stateNode);case 26:case 5:pc(u,u.return),Rf(u);break;case 22:u.memoizedState===null&&Rf(u);break;case 30:Rf(u);break;default:Rf(u)}o=o.sibling}}function lu(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,E=o,R=u,X=R.flags;switch(R.tag){case 0:case 11:case 15:lu(E,R,p),Xm(4,R);break;case 1:if(lu(E,R,p),v=R,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ze){lr(v,v.return,ze)}if(v=R,E=v.updateQueue,E!==null){var he=v.stateNode;try{var Ee=E.shared.hiddenCallbacks;if(Ee!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ee.length;E++)Ba(Ee[E],he)}catch(ze){lr(v,v.return,ze)}}p&&X&64&&y4(R),Qm(R,R.return);break;case 27:w4(R);case 26:case 5:lu(E,R,p),p&&v===null&&X&4&&b4(R),Qm(R,R.return);break;case 12:lu(E,R,p);break;case 31:lu(E,R,p),p&&X&4&&T4(E,R);break;case 13:lu(E,R,p),p&&X&4&&C4(E,R);break;case 22:R.memoizedState===null&&lu(E,R,p),Qm(R,R.return);break;case 30:break;default:lu(E,R,p)}u=u.sibling}}function E2(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Sf(p))}function N2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Sf(o))}function yl(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)k4(o,u,p,v),u=u.sibling}function k4(o,u,p,v){var E=u.flags;switch(u.tag){case 0:case 11:case 15:yl(o,u,p,v),E&2048&&Xm(9,u);break;case 1:yl(o,u,p,v);break;case 3:yl(o,u,p,v),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Sf(o)));break;case 12:if(E&2048){yl(o,u,p,v),o=u.stateNode;try{var R=u.memoizedProps,X=R.id,he=R.onPostCommit;typeof he=="function"&&he(X,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ee){lr(u,u.return,Ee)}}else yl(o,u,p,v);break;case 31:yl(o,u,p,v);break;case 13:yl(o,u,p,v);break;case 23:break;case 22:R=u.stateNode,X=u.alternate,u.memoizedState!==null?R._visibility&2?yl(o,u,p,v):Zm(o,u):R._visibility&2?yl(o,u,p,v):(R._visibility|=2,$h(o,u,p,v,(u.subtreeFlags&10256)!==0||!1)),E&2048&&E2(X,u);break;case 24:yl(o,u,p,v),E&2048&&N2(u.alternate,u);break;default:yl(o,u,p,v)}}function $h(o,u,p,v,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var R=o,X=u,he=p,Ee=v,ze=X.flags;switch(X.tag){case 0:case 11:case 15:$h(R,X,he,Ee,E),Xm(8,X);break;case 23:break;case 22:var et=X.stateNode;X.memoizedState!==null?et._visibility&2?$h(R,X,he,Ee,E):Zm(R,X):(et._visibility|=2,$h(R,X,he,Ee,E)),E&&ze&2048&&E2(X.alternate,X);break;case 24:$h(R,X,he,Ee,E),E&&ze&2048&&N2(X.alternate,X);break;default:$h(R,X,he,Ee,E)}u=u.sibling}}function Zm(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,E=v.flags;switch(v.tag){case 22:Zm(p,v),E&2048&&E2(v.alternate,v);break;case 24:Zm(p,v),E&2048&&N2(v.alternate,v);break;default:Zm(p,v)}u=u.sibling}}var eg=8192;function Hh(o,u,p){if(o.subtreeFlags&eg)for(o=o.child;o!==null;)P4(o,u,p),o=o.sibling}function P4(o,u,p){switch(o.tag){case 26:Hh(o,u,p),o.flags&eg&&o.memoizedState!==null&&lH(p,vl,o.memoizedState,o.memoizedProps);break;case 5:Hh(o,u,p);break;case 3:case 4:var v=vl;vl=Zv(o.stateNode.containerInfo),Hh(o,u,p),vl=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=eg,eg=16777216,Hh(o,u,p),eg=v):Hh(o,u,p));break;default:Hh(o,u,p)}}function O4(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function tg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];aa=v,M4(v,o)}O4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)j4(o),o=o.sibling}function j4(o){switch(o.tag){case 0:case 11:case 15:tg(o),o.flags&2048&&sd(9,o,o.return);break;case 3:tg(o);break;case 12:tg(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Bv(o)):tg(o);break;default:tg(o)}}function Bv(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];aa=v,M4(v,o)}O4(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:sd(8,u,u.return),Bv(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Bv(u));break;default:Bv(u)}o=o.sibling}}function M4(o,u){for(;aa!==null;){var p=aa;switch(p.tag){case 0:case 11:case 15:sd(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Sf(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,aa=v;else e:for(p=o;aa!==null;){v=aa;var E=v.sibling,R=v.return;if(E4(v),v===p){aa=null;break e}if(E!==null){E.return=R,aa=E;break e}aa=R}}}var A$={getCacheForType:function(o){var u=Vi(Jr),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p},cacheSignal:function(){return Vi(Jr).controller.signal}},S$=typeof WeakMap=="function"?WeakMap:Map,Zn=0,xr=null,An=null,In=0,or=0,ao=null,od=!1,Gh=!1,T2=!1,cu=0,ri=0,ld=0,kf=0,C2=0,so=0,Wh=0,ng=null,Ms=null,I2=!1,qv=0,D4=0,Vv=1/0,zv=null,cd=null,$i=0,ud=null,Kh=null,uu=0,R2=0,k2=null,L4=null,rg=0,P2=null;function oo(){return(Zn&2)!==0&&In!==0?In&-In:W.T!==null?F2():Kr()}function F4(){if(so===0)if((In&536870912)===0||_n){var o=Dn;Dn<<=1,(Dn&3932160)===0&&(Dn=262144),so=o}else so=536870912;return o=Xr.current,o!==null&&(o.flags|=32),so}function Ds(o,u,p){(o===xr&&(or===2||or===9)||o.cancelPendingCommit!==null)&&(Yh(o,0),dd(o,In,so,!1)),Oi(o,p),((Zn&2)===0||o!==xr)&&(o===xr&&((Zn&2)===0&&(kf|=p),ri===4&&dd(o,In,so,!1)),mc(o))}function U4(o,u,p){if((Zn&6)!==0)throw Error(r(327));var v=!p&&(u&127)===0&&(u&o.expiredLanes)===0||vn(o,u),E=v?T$(o,u):j2(o,u,!0),R=v;do{if(E===0){Gh&&!v&&dd(o,u,0,!1);break}else{if(p=o.current.alternate,R&&!E$(p)){E=j2(o,u,!1),R=!1;continue}if(E===2){if(R=u,o.errorRecoveryDisabledLanes&R)var X=0;else X=o.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){u=X;e:{var he=o;E=ng;var Ee=he.current.memoizedState.isDehydrated;if(Ee&&(Yh(he,X).flags|=256),X=j2(he,X,!1),X!==2){if(T2&&!Ee){he.errorRecoveryDisabledLanes|=R,kf|=R,E=4;break e}R=Ms,Ms=E,R!==null&&(Ms===null?Ms=R:Ms.push.apply(Ms,R))}E=X}if(R=!1,E!==2)continue}}if(E===1){Yh(o,0),dd(o,u,0,!0);break}e:{switch(v=o,R=E,R){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:dd(v,u,so,!od);break e;case 2:Ms=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=qv+300-ht(),10<E)){if(dd(v,u,so,!od),Ft(v,0,!0)!==0)break e;uu=u,v.timeoutHandle=g3(B4.bind(null,v,p,Ms,zv,I2,u,so,kf,Wh,od,R,"Throttled",-0,0),E);break e}B4(v,p,Ms,zv,I2,u,so,kf,Wh,od,R,null,-0,0)}}break}while(!0);mc(o)}function B4(o,u,p,v,E,R,X,he,Ee,ze,et,ct,$e,Je){if(o.timeoutHandle=-1,ct=u.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},P4(u,R,ct);var Ot=(R&62914560)===R?qv-ht():(R&4194048)===R?D4-ht():0;if(Ot=cH(ct,Ot),Ot!==null){uu=R,o.cancelPendingCommit=Ot(K4.bind(null,o,u,R,p,v,E,X,he,Ee,et,ct,null,$e,Je)),dd(o,R,X,!ze);return}}K4(o,u,R,p,v,E,X,he,Ee)}function E$(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],R=E.getSnapshot;E=E.value;try{if(!Zi(R(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function dd(o,u,p,v){u&=~C2,u&=~kf,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var E=u;0<E;){var R=31-rt(E),X=1<<R;v[R]=-1,E&=~X}p!==0&&da(o,p,u)}function $v(){return(Zn&6)===0?(ig(0),!1):!0}function O2(){if(An!==null){if(or===0)var o=An.return;else o=An,Co=sc=null,Lh(o),it=null,Nt=0,o=An;for(;o!==null;)v4(o.alternate,o),o=o.return;An=null}}function Yh(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,H$(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),uu=0,O2(),xr=o,An=p=Ss(o.current,null),In=u,or=0,ao=null,od=!1,Gh=vn(o,u),T2=!1,Wh=so=C2=kf=ld=ri=0,Ms=ng=null,I2=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var E=31-rt(v),R=1<<E;u|=o[E],v&=~R}return cu=u,nc(),p}function q4(o,u){tn=null,W.H=Km,u===Ce||u===Fe?(u=at(),or=3):u===Ue?(u=at(),or=4):or=u===d2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ao=u,An===null&&(ri=1,Ov(o,Es(u,o.current)))}function V4(){var o=Xr.current;return o===null?!0:(In&4194048)===In?Si===null:(In&62914560)===In||(In&536870912)!==0?o===Si:!1}function z4(){var o=W.H;return W.H=Km,o===null?Km:o}function $4(){var o=W.A;return W.A=A$,o}function Hv(){ri=4,od||(In&4194048)!==In&&Xr.current!==null||(Gh=!0),(ld&134217727)===0&&(kf&134217727)===0||xr===null||dd(xr,In,so,!1)}function j2(o,u,p){var v=Zn;Zn|=2;var E=z4(),R=$4();(xr!==o||In!==u)&&(zv=null,Yh(o,u)),u=!1;var X=ri;e:do try{if(or!==0&&An!==null){var he=An,Ee=ao;switch(or){case 8:O2(),X=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(u=!0);var ze=or;if(or=0,ao=null,Jh(o,he,Ee,ze),p&&Gh){X=0;break e}break;default:ze=or,or=0,ao=null,Jh(o,he,Ee,ze)}}N$(),X=ri;break}catch(et){q4(o,et)}while(!0);return u&&o.shellSuspendCounter++,Co=sc=null,Zn=v,W.H=E,W.A=R,An===null&&(xr=null,In=0,nc()),X}function N$(){for(;An!==null;)H4(An)}function T$(o,u){var p=Zn;Zn|=2;var v=z4(),E=$4();xr!==o||In!==u?(zv=null,Vv=ht()+500,Yh(o,u)):Gh=vn(o,u);e:do try{if(or!==0&&An!==null){u=An;var R=ao;t:switch(or){case 1:or=0,ao=null,Jh(o,u,R,1);break;case 2:case 9:if(lt(R)){or=0,ao=null,G4(u);break}u=function(){or!==2&&or!==9||xr!==o||(or=7),mc(o)},R.then(u,u);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:lt(R)?(or=0,ao=null,G4(u)):(or=0,ao=null,Jh(o,u,R,7));break;case 5:var X=null;switch(An.tag){case 26:X=An.memoizedState;case 5:case 27:var he=An;if(X?k3(X):he.stateNode.complete){or=0,ao=null;var Ee=he.sibling;if(Ee!==null)An=Ee;else{var ze=he.return;ze!==null?(An=ze,Gv(ze)):An=null}break t}}or=0,ao=null,Jh(o,u,R,5);break;case 6:or=0,ao=null,Jh(o,u,R,6);break;case 8:O2(),ri=6;break e;default:throw Error(r(462))}}C$();break}catch(et){q4(o,et)}while(!0);return Co=sc=null,W.H=v,W.A=E,Zn=p,An!==null?0:(xr=null,In=0,nc(),ri)}function C$(){for(;An!==null&&!Ve();)H4(An)}function H4(o){var u=m4(o.alternate,o,cu);o.memoizedProps=o.pendingProps,u===null?Gv(o):An=u}function G4(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=c4(p,u,u.pendingProps,u.type,void 0,In);break;case 11:u=c4(p,u,u.pendingProps,u.type.render,u.ref,In);break;case 5:Lh(u);default:v4(p,u),u=An=_f(u,cu),u=m4(p,u,cu)}o.memoizedProps=o.pendingProps,u===null?Gv(o):An=u}function Jh(o,u,p,v){Co=sc=null,Lh(u),it=null,Nt=0;var E=u.return;try{if(g$(o,E,u,p,In)){ri=1,Ov(o,Es(p,o.current)),An=null;return}}catch(R){if(E!==null)throw An=E,R;ri=1,Ov(o,Es(p,o.current)),An=null;return}u.flags&32768?(_n||v===1?o=!0:Gh||(In&536870912)!==0?o=!1:(od=o=!0,(v===2||v===9||v===3||v===6)&&(v=Xr.current,v!==null&&v.tag===13&&(v.flags|=16384))),W4(u,o)):Gv(u)}function Gv(o){var u=o;do{if((u.flags&32768)!==0){W4(u,od);return}o=u.return;var p=x$(u.alternate,u,cu);if(p!==null){An=p;return}if(u=u.sibling,u!==null){An=u;return}An=u=o}while(u!==null);ri===0&&(ri=5)}function W4(o,u){do{var p=b$(o.alternate,o);if(p!==null){p.flags&=32767,An=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){An=o;return}An=o=p}while(o!==null);ri=6,An=null}function K4(o,u,p,v,E,R,X,he,Ee){o.cancelPendingCommit=null;do Wv();while($i!==0);if((Zn&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(R=u.lanes|u.childLanes,R|=ro,kt(o,p,R,X,he,Ee),o===xr&&(An=xr=null,In=0),Kh=u,ud=o,uu=p,R2=R,k2=E,L4=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,P$(Kt,function(){return Z4(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,E=ee.p,ee.p=2,X=Zn,Zn|=4;try{_$(o,u,p)}finally{Zn=X,ee.p=E,W.T=v}}$i=1,Y4(),J4(),X4()}}function Y4(){if($i===1){$i=0;var o=ud,u=Kh,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=W.T,W.T=null;var v=ee.p;ee.p=2;var E=Zn;Zn|=4;try{I4(u,o);var R=G2,X=sl(o.containerInfo),he=R.focusedElem,Ee=R.selectionRange;if(X!==he&&he&&he.ownerDocument&&ea(he.ownerDocument.documentElement,he)){if(Ee!==null&&Zs(he)){var ze=Ee.start,et=Ee.end;if(et===void 0&&(et=ze),"selectionStart"in he)he.selectionStart=ze,he.selectionEnd=Math.min(et,he.value.length);else{var ct=he.ownerDocument||document,$e=ct&&ct.defaultView||window;if($e.getSelection){var Je=$e.getSelection(),Ot=he.textContent.length,Wt=Math.min(Ee.start,Ot),hr=Ee.end===void 0?Wt:Math.min(Ee.end,Ot);!Je.extend&&Wt>hr&&(X=hr,hr=Wt,Wt=X);var Le=ya(he,Wt),ke=ya(he,hr);if(Le&&ke&&(Je.rangeCount!==1||Je.anchorNode!==Le.node||Je.anchorOffset!==Le.offset||Je.focusNode!==ke.node||Je.focusOffset!==ke.offset)){var qe=ct.createRange();qe.setStart(Le.node,Le.offset),Je.removeAllRanges(),Wt>hr?(Je.addRange(qe),Je.extend(ke.node,ke.offset)):(qe.setEnd(ke.node,ke.offset),Je.addRange(qe))}}}}for(ct=[],Je=he;Je=Je.parentNode;)Je.nodeType===1&&ct.push({element:Je,left:Je.scrollLeft,top:Je.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<ct.length;he++){var st=ct[he];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}ay=!!H2,G2=H2=null}finally{Zn=E,ee.p=v,W.T=p}}o.current=u,$i=2}}function J4(){if($i===2){$i=0;var o=ud,u=Kh,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=W.T,W.T=null;var v=ee.p;ee.p=2;var E=Zn;Zn|=4;try{S4(o,u.alternate,u)}finally{Zn=E,ee.p=v,W.T=p}}$i=3}}function X4(){if($i===4||$i===3){$i=0,Ye();var o=ud,u=Kh,p=uu,v=L4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$i=5:($i=0,Kh=ud=null,Q4(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(cd=null),Er(p),u=u.stateNode,qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(nn,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=W.T,E=ee.p,ee.p=2,W.T=null;try{for(var R=o.onRecoverableError,X=0;X<v.length;X++){var he=v[X];R(he.value,{componentStack:he.stack})}}finally{W.T=u,ee.p=E}}(uu&3)!==0&&Wv(),mc(o),E=o.pendingLanes,(p&261930)!==0&&(E&42)!==0?o===P2?rg++:(rg=0,P2=o):rg=0,ig(0)}}function Q4(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Sf(u)))}function Wv(){return Y4(),J4(),X4(),Z4()}function Z4(){if($i!==5)return!1;var o=ud,u=R2;R2=0;var p=Er(uu),v=W.T,E=ee.p;try{ee.p=32>p?32:p,W.T=null,p=k2,k2=null;var R=ud,X=uu;if($i=0,Kh=ud=null,uu=0,(Zn&6)!==0)throw Error(r(331));var he=Zn;if(Zn|=4,j4(R.current),k4(R,R.current,X,p),Zn=he,ig(0,!1),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(nn,R)}catch{}return!0}finally{ee.p=E,W.T=v,Q4(o,u)}}function e3(o,u,p){u=Es(p,u),u=u2(o.stateNode,u,2),o=sr(o,u,2),o!==null&&(Oi(o,2),mc(o))}function lr(o,u,p){if(o.tag===3)e3(o,o,p);else for(;u!==null;){if(u.tag===3){e3(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(cd===null||!cd.has(v))){o=Es(p,o),p=t4(2),v=sr(u,p,2),v!==null&&(n4(p,v,u,o),Oi(v,2),mc(v));break}}u=u.return}}function M2(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new S$;var E=new Set;v.set(u,E)}else E=v.get(u),E===void 0&&(E=new Set,v.set(u,E));E.has(p)||(T2=!0,E.add(p),o=I$.bind(null,o,u,p),u.then(o,o))}function I$(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,xr===o&&(In&p)===p&&(ri===4||ri===3&&(In&62914560)===In&&300>ht()-qv?(Zn&2)===0&&Yh(o,0):C2|=p,Wh===In&&(Wh=0)),mc(o)}function t3(o,u){u===0&&(u=Gr()),o=ul(o,u),o!==null&&(Oi(o,u),mc(o))}function R$(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),t3(o,p)}function k$(o,u){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),t3(o,p)}function P$(o,u){return Ge(o,u)}var Kv=null,Xh=null,D2=!1,Yv=!1,L2=!1,fd=0;function mc(o){o!==Xh&&o.next===null&&(Xh===null?Kv=Xh=o:Xh=Xh.next=o),Yv=!0,D2||(D2=!0,j$())}function ig(o,u){if(!L2&&Yv){L2=!0;do for(var p=!1,v=Kv;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var R=0;else{var X=v.suspendedLanes,he=v.pingedLanes;R=(1<<31-rt(42|o)+1)-1,R&=E&~(X&~he),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(p=!0,a3(v,R))}else R=In,R=Ft(v,v===xr?R:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(R&3)===0||vn(v,R)||(p=!0,a3(v,R));v=v.next}while(p);L2=!1}}function O$(){n3()}function n3(){Yv=D2=!1;var o=0;fd!==0&&$$()&&(o=fd);for(var u=ht(),p=null,v=Kv;v!==null;){var E=v.next,R=r3(v,u);R===0?(v.next=null,p===null?Kv=E:p.next=E,E===null&&(Xh=p)):(p=v,(o!==0||(R&3)!==0)&&(Yv=!0)),v=E}$i!==0&&$i!==5||ig(o),fd!==0&&(fd=0)}function r3(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var X=31-rt(R),he=1<<X,Ee=E[X];Ee===-1?((he&p)===0||(he&v)!==0)&&(E[X]=xs(he,u)):Ee<=u&&(o.expiredLanes|=he),R&=~he}if(u=xr,p=In,p=Ft(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(or===2||or===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Ke(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||vn(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&Ke(v),Er(p)){case 2:case 8:p=St;break;case 32:p=Kt;break;case 268435456:p=zt;break;default:p=Kt}return v=i3.bind(null,o),p=Ge(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&Ke(v),o.callbackPriority=2,o.callbackNode=null,2}function i3(o,u){if($i!==0&&$i!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Wv()&&o.callbackNode!==p)return null;var v=In;return v=Ft(o,o===xr?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(U4(o,v,u),r3(o,ht()),o.callbackNode!=null&&o.callbackNode===p?i3.bind(null,o):null)}function a3(o,u){if(Wv())return null;U4(o,u,!0)}function j$(){G$(function(){(Zn&6)!==0?Ge(yt,O$):n3()})}function F2(){if(fd===0){var o=b;o===0&&(o=un,un<<=1,(un&261888)===0&&(un=256)),fd=o}return fd}function s3(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:as(""+o)}function o3(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function M$(o,u,p,v,E){if(u==="submit"&&p&&p.stateNode===E){var R=s3((E[ir]||null).action),X=v.submitter;X&&(u=(u=X[ir]||null)?s3(u.formAction):X.getAttribute("formAction"),u!==null&&(R=u,X=null));var he=new Ao("action","action",null,v,E);o.push({event:he,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(fd!==0){var Ee=X?o3(E,X):new FormData(E);i2(p,{pending:!0,data:Ee,method:E.method,action:R},null,Ee)}}else typeof R=="function"&&(he.preventDefault(),Ee=X?o3(E,X):new FormData(E),i2(p,{pending:!0,data:Ee,method:E.method,action:R},R,Ee))},currentTarget:E}]})}}for(var U2=0;U2<Ua.length;U2++){var B2=Ua[U2],D$=B2.toLowerCase(),L$=B2[0].toUpperCase()+B2.slice(1);bn(D$,"on"+L$)}bn(Zl,"onAnimationEnd"),bn(ll,"onAnimationIteration"),bn(ec,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Wu,"onTransitionRun"),bn(Kc,"onTransitionStart"),bn(tc,"onTransitionCancel"),bn(Ku,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ag="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ag));function l3(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var R=void 0;if(u)for(var X=v.length-1;0<=X;X--){var he=v[X],Ee=he.instance,ze=he.currentTarget;if(he=he.listener,Ee!==R&&E.isPropagationStopped())break e;R=he,E.currentTarget=ze;try{R(E)}catch(et){Xn(et)}E.currentTarget=null,R=Ee}else for(X=0;X<v.length;X++){if(he=v[X],Ee=he.instance,ze=he.currentTarget,he=he.listener,Ee!==R&&E.isPropagationStopped())break e;R=he,E.currentTarget=ze;try{R(E)}catch(et){Xn(et)}E.currentTarget=null,R=Ee}}}}function Sn(o,u){var p=u[Mi];p===void 0&&(p=u[Mi]=new Set);var v=o+"__bubble";p.has(v)||(c3(u,o,2,!1),p.add(v))}function q2(o,u,p){var v=0;u&&(v|=4),c3(p,o,v,u)}var Jv="_reactListening"+Math.random().toString(36).slice(2);function V2(o){if(!o[Jv]){o[Jv]=!0,zs.forEach(function(p){p!=="selectionchange"&&(F$.has(p)||q2(p,!1,o),q2(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Jv]||(u[Jv]=!0,q2("selectionchange",!1,u))}}function c3(o,u,p,v){switch(F3(u)){case 2:var E=fH;break;case 8:E=hH;break;default:E=r_}p=E.bind(null,u,p,o),E=void 0,!Zo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function z2(o,u,p,v,E){var R=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var X=v.tag;if(X===3||X===4){var he=v.stateNode.containerInfo;if(he===E)break;if(X===4)for(X=v.return;X!==null;){var Ee=X.tag;if((Ee===3||Ee===4)&&X.stateNode.containerInfo===E)return;X=X.return}for(;he!==null;){if(X=Ra(he),X===null)return;if(Ee=X.tag,Ee===5||Ee===6||Ee===26||Ee===27){v=R=X;continue e}he=he.parentNode}}v=v.return}zc(function(){var ze=R,et=Qo(p),ct=[];e:{var $e=ls.get(o);if($e!==void 0){var Je=Ao,Ot=o;switch(o){case"keypress":if(Da(p)===0)break e;case"keydown":case"keyup":Je=Yl;break;case"focusin":Ot="focus",Je=So;break;case"focusout":Ot="blur",Je=So;break;case"beforeblur":case"afterblur":Je=So;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=ne;break;case Zl:case ll:case ec:Je=Hl;break;case Ku:Je=Te;break;case"scroll":case"scrollend":Je=$c;break;case"wheel":Je=Qe;break;case"copy":case"cut":case"paste":Je=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=rl;break;case"toggle":case"beforetoggle":Je=At}var Wt=(u&4)!==0,hr=!Wt&&(o==="scroll"||o==="scrollend"),Le=Wt?$e!==null?$e+"Capture":null:$e;Wt=[];for(var ke=ze,qe;ke!==null;){var st=ke;if(qe=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||qe===null||Le===null||(st=Li(ke,Le),st!=null&&Wt.push(sg(ke,st,qe))),hr)break;ke=ke.return}0<Wt.length&&($e=new Je($e,Ot,null,p,et),ct.push({event:$e,listeners:Wt}))}}if((u&7)===0){e:{if($e=o==="mouseover"||o==="pointerover",Je=o==="mouseout"||o==="pointerout",$e&&p!==Vl&&(Ot=p.relatedTarget||p.fromElement)&&(Ra(Ot)||Ot[ei]))break e;if((Je||$e)&&($e=et.window===et?et:($e=et.ownerDocument)?$e.defaultView||$e.parentWindow:window,Je?(Ot=p.relatedTarget||p.toElement,Je=ze,Ot=Ot?Ra(Ot):null,Ot!==null&&(hr=a(Ot),Wt=Ot.tag,Ot!==hr||Wt!==5&&Wt!==27&&Wt!==6)&&(Ot=null)):(Je=null,Ot=ze),Je!==Ot)){if(Wt=Ys,st="onMouseLeave",Le="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(Wt=rl,st="onPointerLeave",Le="onPointerEnter",ke="pointer"),hr=Je==null?$e:yo(Je),qe=Ot==null?$e:yo(Ot),$e=new Wt(st,ke+"leave",Je,p,et),$e.target=hr,$e.relatedTarget=qe,st=null,Ra(et)===ze&&(Wt=new Wt(Le,ke+"enter",Ot,p,et),Wt.target=qe,Wt.relatedTarget=hr,st=Wt),hr=st,Je&&Ot)t:{for(Wt=U$,Le=Je,ke=Ot,qe=0,st=Le;st;st=Wt(st))qe++;st=0;for(var Bt=ke;Bt;Bt=Wt(Bt))st++;for(;0<qe-st;)Le=Wt(Le),qe--;for(;0<st-qe;)ke=Wt(ke),st--;for(;qe--;){if(Le===ke||ke!==null&&Le===ke.alternate){Wt=Le;break t}Le=Wt(Le),ke=Wt(ke)}Wt=null}else Wt=null;Je!==null&&u3(ct,$e,Je,Wt,!1),Ot!==null&&hr!==null&&u3(ct,hr,Ot,Wt,!0)}}e:{if($e=ze?yo(ze):window,Je=$e.nodeName&&$e.nodeName.toLowerCase(),Je==="select"||Je==="input"&&$e.type==="file")var Wn=bi;else if(xi($e))if(Gc)Wn=$u;else{Wn=Ah;var Mt=xf}else Je=$e.nodeName,!Je||Je.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?ze&&is(ze.elementType)&&(Wn=bi):Wn=ws;if(Wn&&(Wn=Wn(o,ze))){Qs(ct,Wn,p,et);break e}Mt&&Mt(o,$e,ze),o==="focusout"&&ze&&$e.type==="number"&&ze.memoizedProps.value!=null&&Xo($e,"number",$e.value)}switch(Mt=ze?yo(ze):window,o){case"focusin":(xi(Mt)||Mt.contentEditable==="true")&&(eo=Mt,to=ze,gr=null);break;case"focusout":gr=to=eo=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,ta(ct,p,et);break;case"selectionchange":if(ol)break;case"keydown":case"keyup":ta(ct,p,et)}var fn;if($)e:{switch(o){case"compositionstart":var Rn="onCompositionStart";break e;case"compositionend":Rn="onCompositionEnd";break e;case"compositionupdate":Rn="onCompositionUpdate";break e}Rn=void 0}else Ht?en(o,p)&&(Rn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Rn="onCompositionStart");Rn&&(Oe&&p.locale!=="ko"&&(Ht||Rn!=="onCompositionStart"?Rn==="onCompositionEnd"&&Ht&&(fn=Ma()):(ma=et,zl="value"in ma?ma.value:ma.textContent,Ht=!0)),Mt=Xv(ze,Rn),0<Mt.length&&(Rn=new No(Rn,o,null,p,et),ct.push({event:Rn,listeners:Mt}),fn?Rn.data=fn:(fn=yn(p),fn!==null&&(Rn.data=fn)))),(fn=fe?Hn(o,p):ar(o,p))&&(Rn=Xv(ze,"onBeforeInput"),0<Rn.length&&(Mt=new No("onBeforeInput","beforeinput",null,p,et),ct.push({event:Mt,listeners:Rn}),Mt.data=fn)),M$(ct,o,ze,p,et)}l3(ct,u)})}function sg(o,u,p){return{instance:o,listener:u,currentTarget:p}}function Xv(o,u){for(var p=u+"Capture",v=[];o!==null;){var E=o,R=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||R===null||(E=Li(o,p),E!=null&&v.unshift(sg(o,E,R)),E=Li(o,u),E!=null&&v.push(sg(o,E,R))),o.tag===3)return v;o=o.return}return[]}function U$(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function u3(o,u,p,v,E){for(var R=u._reactName,X=[];p!==null&&p!==v;){var he=p,Ee=he.alternate,ze=he.stateNode;if(he=he.tag,Ee!==null&&Ee===v)break;he!==5&&he!==26&&he!==27||ze===null||(Ee=ze,E?(ze=Li(p,R),ze!=null&&X.unshift(sg(p,ze,Ee))):E||(ze=Li(p,R),ze!=null&&X.push(sg(p,ze,Ee)))),p=p.return}X.length!==0&&o.push({event:u,listeners:X})}var B$=/\r\n?/g,q$=/\u0000|\uFFFD/g;function d3(o){return(typeof o=="string"?o:""+o).replace(B$,`
`).replace(q$,"")}function f3(o,u){return u=d3(u),d3(o)===u}function fr(o,u,p,v,E,R){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Ji(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Ji(o,""+v);break;case"className":er(o,"class",v);break;case"tabIndex":er(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":er(o,p,v);break;case"style":Bu(o,v,R);break;case"data":if(u!=="object"){er(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=as(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(p==="formAction"?(u!=="input"&&fr(o,u,"name",E.name,E,null),fr(o,u,"formEncType",E.formEncType,E,null),fr(o,u,"formMethod",E.formMethod,E,null),fr(o,u,"formTarget",E.formTarget,E,null)):(fr(o,u,"encType",E.encType,E,null),fr(o,u,"method",E.method,E,null),fr(o,u,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=as(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=jn);break;case"onScroll":v!=null&&Sn("scroll",o);break;case"onScrollEnd":v!=null&&Sn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=as(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Sn("beforetoggle",o),Sn("toggle",o),xo(o,"popover",v);break;case"xlinkActuate":fa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":fa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":fa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":fa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":fa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":fa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":fa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":fa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":fa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":xo(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Bl.get(p)||p,xo(o,p,v))}}function $2(o,u,p,v,E,R){switch(p){case"style":Bu(o,v,R);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Ji(o,v):(typeof v=="number"||typeof v=="bigint")&&Ji(o,""+v);break;case"onScroll":v!=null&&Sn("scroll",o);break;case"onScrollEnd":v!=null&&Sn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),R=o[ir]||null,R=R!=null?R[p]:null,typeof R=="function"&&o.removeEventListener(u,R,E),typeof v=="function")){typeof R!="function"&&R!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):xo(o,p,v)}}}function _a(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sn("error",o),Sn("load",o);var v=!1,E=!1,R;for(R in p)if(p.hasOwnProperty(R)){var X=p[R];if(X!=null)switch(R){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:fr(o,u,R,X,p,null)}}E&&fr(o,u,"srcSet",p.srcSet,p,null),v&&fr(o,u,"src",p.src,p,null);return;case"input":Sn("invalid",o);var he=R=X=E=null,Ee=null,ze=null;for(v in p)if(p.hasOwnProperty(v)){var et=p[v];if(et!=null)switch(v){case"name":E=et;break;case"type":X=et;break;case"checked":Ee=et;break;case"defaultChecked":ze=et;break;case"value":R=et;break;case"defaultValue":he=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:fr(o,u,v,et,p,null)}}Jo(o,R,he,Ee,ze,X,E,!1);return;case"select":Sn("invalid",o),v=X=R=null;for(E in p)if(p.hasOwnProperty(E)&&(he=p[E],he!=null))switch(E){case"value":R=he;break;case"defaultValue":X=he;break;case"multiple":v=he;default:fr(o,u,E,he,p,null)}u=R,p=X,o.multiple=!!v,u!=null?Tn(o,!!v,u,!1):p!=null&&Tn(o,!!v,p,!0);return;case"textarea":Sn("invalid",o),R=E=v=null;for(X in p)if(p.hasOwnProperty(X)&&(he=p[X],he!=null))switch(X){case"value":v=he;break;case"defaultValue":E=he;break;case"children":R=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:fr(o,u,X,he,p,null)}_o(o,v,E,R);return;case"option":for(Ee in p)if(p.hasOwnProperty(Ee)&&(v=p[Ee],v!=null))switch(Ee){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:fr(o,u,Ee,v,p,null)}return;case"dialog":Sn("beforetoggle",o),Sn("toggle",o),Sn("cancel",o),Sn("close",o);break;case"iframe":case"object":Sn("load",o);break;case"video":case"audio":for(v=0;v<ag.length;v++)Sn(ag[v],o);break;case"image":Sn("error",o),Sn("load",o);break;case"details":Sn("toggle",o);break;case"embed":case"source":case"link":Sn("error",o),Sn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in p)if(p.hasOwnProperty(ze)&&(v=p[ze],v!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:fr(o,u,ze,v,p,null)}return;default:if(is(u)){for(et in p)p.hasOwnProperty(et)&&(v=p[et],v!==void 0&&$2(o,u,et,v,p,void 0));return}}for(he in p)p.hasOwnProperty(he)&&(v=p[he],v!=null&&fr(o,u,he,v,p,null))}function V$(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,R=null,X=null,he=null,Ee=null,ze=null,et=null;for(Je in p){var ct=p[Je];if(p.hasOwnProperty(Je)&&ct!=null)switch(Je){case"checked":break;case"value":break;case"defaultValue":Ee=ct;default:v.hasOwnProperty(Je)||fr(o,u,Je,null,v,ct)}}for(var $e in v){var Je=v[$e];if(ct=p[$e],v.hasOwnProperty($e)&&(Je!=null||ct!=null))switch($e){case"type":R=Je;break;case"name":E=Je;break;case"checked":ze=Je;break;case"defaultChecked":et=Je;break;case"value":X=Je;break;case"defaultValue":he=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,u));break;default:Je!==ct&&fr(o,u,$e,Je,v,ct)}}Gs(o,X,he,Ee,ze,et,R,E);return;case"select":Je=X=he=$e=null;for(R in p)if(Ee=p[R],p.hasOwnProperty(R)&&Ee!=null)switch(R){case"value":break;case"multiple":Je=Ee;default:v.hasOwnProperty(R)||fr(o,u,R,null,v,Ee)}for(E in v)if(R=v[E],Ee=p[E],v.hasOwnProperty(E)&&(R!=null||Ee!=null))switch(E){case"value":$e=R;break;case"defaultValue":he=R;break;case"multiple":X=R;default:R!==Ee&&fr(o,u,E,R,v,Ee)}u=he,p=X,v=Je,$e!=null?Tn(o,!!p,$e,!1):!!v!=!!p&&(u!=null?Tn(o,!!p,u,!0):Tn(o,!!p,p?[]:"",!1));return;case"textarea":Je=$e=null;for(he in p)if(E=p[he],p.hasOwnProperty(he)&&E!=null&&!v.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:fr(o,u,he,null,v,E)}for(X in v)if(E=v[X],R=p[X],v.hasOwnProperty(X)&&(E!=null||R!=null))switch(X){case"value":$e=E;break;case"defaultValue":Je=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==R&&fr(o,u,X,E,v,R)}bo(o,$e,Je);return;case"option":for(var Ot in p)if($e=p[Ot],p.hasOwnProperty(Ot)&&$e!=null&&!v.hasOwnProperty(Ot))switch(Ot){case"selected":o.selected=!1;break;default:fr(o,u,Ot,null,v,$e)}for(Ee in v)if($e=v[Ee],Je=p[Ee],v.hasOwnProperty(Ee)&&$e!==Je&&($e!=null||Je!=null))switch(Ee){case"selected":o.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:fr(o,u,Ee,$e,v,Je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in p)$e=p[Wt],p.hasOwnProperty(Wt)&&$e!=null&&!v.hasOwnProperty(Wt)&&fr(o,u,Wt,null,v,$e);for(ze in v)if($e=v[ze],Je=p[ze],v.hasOwnProperty(ze)&&$e!==Je&&($e!=null||Je!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,u));break;default:fr(o,u,ze,$e,v,Je)}return;default:if(is(u)){for(var hr in p)$e=p[hr],p.hasOwnProperty(hr)&&$e!==void 0&&!v.hasOwnProperty(hr)&&$2(o,u,hr,void 0,v,$e);for(et in v)$e=v[et],Je=p[et],!v.hasOwnProperty(et)||$e===Je||$e===void 0&&Je===void 0||$2(o,u,et,$e,v,Je);return}}for(var Le in p)$e=p[Le],p.hasOwnProperty(Le)&&$e!=null&&!v.hasOwnProperty(Le)&&fr(o,u,Le,null,v,$e);for(ct in v)$e=v[ct],Je=p[ct],!v.hasOwnProperty(ct)||$e===Je||$e==null&&Je==null||fr(o,u,ct,$e,v,Je)}function h3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z$(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var E=p[v],R=E.transferSize,X=E.initiatorType,he=E.duration;if(R&&he&&h3(X)){for(X=0,he=E.responseEnd,v+=1;v<p.length;v++){var Ee=p[v],ze=Ee.startTime;if(ze>he)break;var et=Ee.transferSize,ct=Ee.initiatorType;et&&h3(ct)&&(Ee=Ee.responseEnd,X+=et*(Ee<he?1:(he-ze)/(Ee-ze)))}if(--v,u+=8*(R+X)/(E.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var H2=null,G2=null;function Qv(o){return o.nodeType===9?o:o.ownerDocument}function p3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m3(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function W2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var K2=null;function $$(){var o=window.event;return o&&o.type==="popstate"?o===K2?!1:(K2=o,!0):(K2=null,!1)}var g3=typeof setTimeout=="function"?setTimeout:void 0,H$=typeof clearTimeout=="function"?clearTimeout:void 0,v3=typeof Promise=="function"?Promise:void 0,G$=typeof queueMicrotask=="function"?queueMicrotask:typeof v3<"u"?function(o){return v3.resolve(null).then(o).catch(W$)}:g3;function W$(o){setTimeout(function(){throw o})}function hd(o){return o==="head"}function y3(o,u){var p=u,v=0;do{var E=p.nextSibling;if(o.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(E),tp(u);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")og(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,og(p);for(var R=p.firstChild;R;){var X=R.nextSibling,he=R.nodeName;R[Ia]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&R.rel.toLowerCase()==="stylesheet"||p.removeChild(R),R=X}}else p==="body"&&og(o.ownerDocument.body);p=E}while(p);tp(u)}function x3(o,u){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function Y2(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Y2(p),bs(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function K$(o,u,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Ia])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var R=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=jo(o.nextSibling),o===null)break}return null}function Y$(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=jo(o.nextSibling),o===null))return null;return o}function b3(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=jo(o.nextSibling),o===null))return null;return o}function J2(o){return o.data==="$?"||o.data==="$~"}function X2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function J$(o,u){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||p.readyState!=="loading")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function jo(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var Q2=null;function _3(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(u===0)return jo(o.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}o=o.nextSibling}return null}function w3(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return o;u--}else p!=="/$"&&p!=="/&"||u++}o=o.previousSibling}return null}function A3(o,u,p){switch(u=Qv(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function og(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);bs(o)}var Mo=new Map,S3=new Set;function Zv(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var du=ee.d;ee.d={f:X$,r:Q$,D:Z$,C:eH,L:tH,m:nH,X:iH,S:rH,M:aH};function X$(){var o=du.f(),u=$v();return o||u}function Q$(o){var u=ka(o);u!==null&&u.tag===5&&u.type==="form"?qI(u):du.r(o)}var Qh=typeof document>"u"?null:document;function E3(o,u,p){var v=Qh;if(v&&typeof u=="string"&&u){var E=ur(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),S3.has(E)||(S3.add(E),o={rel:o,crossOrigin:p,href:u},v.querySelector(E)===null&&(u=v.createElement("link"),_a(u,"link",o),Rr(u),v.head.appendChild(u)))}}function Z$(o){du.D(o),E3("dns-prefetch",o,null)}function eH(o,u){du.C(o,u),E3("preconnect",o,u)}function tH(o,u,p){du.L(o,u,p);var v=Qh;if(v&&o&&u){var E='link[rel="preload"][as="'+ur(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+ur(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+ur(p.imageSizes)+'"]')):E+='[href="'+ur(o)+'"]';var R=E;switch(u){case"style":R=Zh(o);break;case"script":R=ep(o)}Mo.has(R)||(o=m({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Mo.set(R,o),v.querySelector(E)!==null||u==="style"&&v.querySelector(lg(R))||u==="script"&&v.querySelector(cg(R))||(u=v.createElement("link"),_a(u,"link",o),Rr(u),v.head.appendChild(u)))}}function nH(o,u){du.m(o,u);var p=Qh;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+ur(v)+'"][href="'+ur(o)+'"]',R=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=ep(o)}if(!Mo.has(R)&&(o=m({rel:"modulepreload",href:o},u),Mo.set(R,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(cg(R)))return}v=p.createElement("link"),_a(v,"link",o),Rr(v),p.head.appendChild(v)}}}function rH(o,u,p){du.S(o,u,p);var v=Qh;if(v&&o){var E=rs(v).hoistableStyles,R=Zh(o);u=u||"default";var X=E.get(R);if(!X){var he={loading:0,preload:null};if(X=v.querySelector(lg(R)))he.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Mo.get(R))&&Z2(o,p);var Ee=X=v.createElement("link");Rr(Ee),_a(Ee,"link",o),Ee._p=new Promise(function(ze,et){Ee.onload=ze,Ee.onerror=et}),Ee.addEventListener("load",function(){he.loading|=1}),Ee.addEventListener("error",function(){he.loading|=2}),he.loading|=4,ey(X,u,v)}X={type:"stylesheet",instance:X,count:1,state:he},E.set(R,X)}}}function iH(o,u){du.X(o,u);var p=Qh;if(p&&o){var v=rs(p).hoistableScripts,E=ep(o),R=v.get(E);R||(R=p.querySelector(cg(E)),R||(o=m({src:o,async:!0},u),(u=Mo.get(E))&&e_(o,u),R=p.createElement("script"),Rr(R),_a(R,"link",o),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},v.set(E,R))}}function aH(o,u){du.M(o,u);var p=Qh;if(p&&o){var v=rs(p).hoistableScripts,E=ep(o),R=v.get(E);R||(R=p.querySelector(cg(E)),R||(o=m({src:o,async:!0,type:"module"},u),(u=Mo.get(E))&&e_(o,u),R=p.createElement("script"),Rr(R),_a(R,"link",o),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},v.set(E,R))}}function N3(o,u,p,v){var E=(E=te.current)?Zv(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Zh(p.href),p=rs(E).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Zh(p.href);var R=rs(E).hoistableStyles,X=R.get(o);if(X||(E=E.ownerDocument||E,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,X),(R=E.querySelector(lg(o)))&&!R._p&&(X.instance=R,X.state.loading=5),Mo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Mo.set(o,p),R||sH(E,o,p,X.state))),u&&v===null)throw Error(r(528,""));return X}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=ep(p),p=rs(E).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Zh(o){return'href="'+ur(o)+'"'}function lg(o){return'link[rel="stylesheet"]['+o+"]"}function T3(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function sH(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),_a(u,"link",p),Rr(u),o.head.appendChild(u))}function ep(o){return'[src="'+ur(o)+'"]'}function cg(o){return"script[async]"+o}function C3(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+ur(p.href)+'"]');if(v)return u.instance=v,Rr(v),v;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Rr(v),_a(v,"style",E),ey(v,p.precedence,o),u.instance=v;case"stylesheet":E=Zh(p.href);var R=o.querySelector(lg(E));if(R)return u.state.loading|=4,u.instance=R,Rr(R),R;v=T3(p),(E=Mo.get(E))&&Z2(v,E),R=(o.ownerDocument||o).createElement("link"),Rr(R);var X=R;return X._p=new Promise(function(he,Ee){X.onload=he,X.onerror=Ee}),_a(R,"link",v),u.state.loading|=4,ey(R,p.precedence,o),u.instance=R;case"script":return R=ep(p.src),(E=o.querySelector(cg(R)))?(u.instance=E,Rr(E),E):(v=p,(E=Mo.get(R))&&(v=m({},p),e_(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Rr(E),_a(E,"link",v),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,ey(v,p.precedence,o));return u.instance}function ey(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,R=E,X=0;X<v.length;X++){var he=v[X];if(he.dataset.precedence===u)R=he;else if(R!==E)break}R?R.parentNode.insertBefore(o,R.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function Z2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function e_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ty=null;function I3(o,u,p){if(ty===null){var v=new Map,E=ty=new Map;E.set(p,v)}else E=ty,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var R=p[E];if(!(R[Ia]||R[Ln]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var X=R.getAttribute(u)||"";X=o+X;var he=v.get(X);he?he.push(R):v.set(X,[R])}}return v}function R3(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function oH(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function k3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function lH(o,u,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=Zh(v.href),R=u.querySelector(lg(E));if(R){u=R._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=ny.bind(o),u.then(o,o)),p.state.loading|=4,p.instance=R,Rr(R);return}R=u.ownerDocument||u,v=T3(v),(E=Mo.get(E))&&Z2(v,E),R=R.createElement("link"),Rr(R);var X=R;X._p=new Promise(function(he,Ee){X.onload=he,X.onerror=Ee}),_a(R,"link",v),p.instance=R}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=ny.bind(o),u.addEventListener("load",p),u.addEventListener("error",p))}}var t_=0;function cH(o,u){return o.stylesheets&&o.count===0&&iy(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&iy(o,o.stylesheets),o.unsuspend){var R=o.unsuspend;o.unsuspend=null,R()}},6e4+u);0<o.imgBytes&&t_===0&&(t_=62500*z$());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&iy(o,o.stylesheets),o.unsuspend)){var R=o.unsuspend;o.unsuspend=null,R()}},(o.imgBytes>t_?50:800)+u);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(E)}}:null}function ny(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)iy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ry=null;function iy(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ry=new Map,u.forEach(uH,o),ry=null,ny.call(o))}function uH(o,u){if(!(u.state.loading&4)){var p=ry.get(o);if(p)var v=p.get(null);else{p=new Map,ry.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<E.length;R++){var X=E[R];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(p.set(X.dataset.precedence,X),v=X)}v&&p.set(null,v)}E=u.instance,X=E.getAttribute("data-precedence"),R=p.get(X)||v,R===v&&p.set(null,E),p.set(X,E),this.count++,v=ny.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),R?R.parentNode.insertBefore(E,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var ug={$$typeof:k,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function dH(o,u,p,v,E,R,X,he,Ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=R,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function P3(o,u,p,v,E,R,X,he,Ee,ze,et,ct){return o=new dH(o,u,p,X,Ee,ze,et,ct,he),u=1,R===!0&&(u|=24),R=ra(3,null,null,u),o.current=R,R.stateNode=o,u=td(),u.refCount++,o.pooledCache=u,u.refCount++,R.memoizedState={element:v,isDehydrated:p,cache:u},Qn(R),o}function O3(o){return o?(o=Ui,o):Ui}function j3(o,u,p,v,E,R){E=O3(E),v.context===null?v.context=E:v.pendingContext=E,v=Gt(u),v.payload={element:p},R=R===void 0?null:R,R!==null&&(v.callback=R),p=sr(o,v,u),p!==null&&(Ds(p,o,u),wi(p,o,u))}function M3(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function n_(o,u){M3(o,u),(o=o.alternate)&&M3(o,u)}function D3(o){if(o.tag===13||o.tag===31){var u=ul(o,67108864);u!==null&&Ds(u,o,67108864),n_(o,67108864)}}function L3(o){if(o.tag===13||o.tag===31){var u=oo();u=Ir(u);var p=ul(o,u);p!==null&&Ds(p,o,u),n_(o,u)}}var ay=!0;function fH(o,u,p,v){var E=W.T;W.T=null;var R=ee.p;try{ee.p=2,r_(o,u,p,v)}finally{ee.p=R,W.T=E}}function hH(o,u,p,v){var E=W.T;W.T=null;var R=ee.p;try{ee.p=8,r_(o,u,p,v)}finally{ee.p=R,W.T=E}}function r_(o,u,p,v){if(ay){var E=i_(v);if(E===null)z2(o,u,v,sy,p),U3(o,v);else if(mH(E,o,u,p,v))v.stopPropagation();else if(U3(o,v),u&4&&-1<pH.indexOf(o)){for(;E!==null;){var R=ka(E);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var X=pn(R.pendingLanes);if(X!==0){var he=R;for(he.pendingLanes|=2,he.entangledLanes|=2;X;){var Ee=1<<31-rt(X);he.entanglements[1]|=Ee,X&=~Ee}mc(R),(Zn&6)===0&&(Vv=ht()+500,ig(0))}}break;case 31:case 13:he=ul(R,2),he!==null&&Ds(he,R,2),$v(),n_(R,2)}if(R=i_(v),R===null&&z2(o,u,v,sy,p),R===E)break;E=R}E!==null&&v.stopPropagation()}else z2(o,u,v,null,p)}}function i_(o){return o=Qo(o),a_(o)}var sy=null;function a_(o){if(sy=null,o=Ra(o),o!==null){var u=a(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=s(u),o!==null)return o;o=null}else if(p===31){if(o=l(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return sy=o,null}function F3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case yt:return 2;case St:return 8;case Kt:case It:return 32;case zt:return 268435456;default:return 32}default:return 32}}var s_=!1,pd=null,md=null,gd=null,dg=new Map,fg=new Map,vd=[],pH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U3(o,u){switch(o){case"focusin":case"focusout":pd=null;break;case"dragenter":case"dragleave":md=null;break;case"mouseover":case"mouseout":gd=null;break;case"pointerover":case"pointerout":dg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":fg.delete(u.pointerId)}}function hg(o,u,p,v,E,R){return o===null||o.nativeEvent!==R?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:R,targetContainers:[E]},u!==null&&(u=ka(u),u!==null&&D3(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function mH(o,u,p,v,E){switch(u){case"focusin":return pd=hg(pd,o,u,p,v,E),!0;case"dragenter":return md=hg(md,o,u,p,v,E),!0;case"mouseover":return gd=hg(gd,o,u,p,v,E),!0;case"pointerover":var R=E.pointerId;return dg.set(R,hg(dg.get(R)||null,o,u,p,v,E)),!0;case"gotpointercapture":return R=E.pointerId,fg.set(R,hg(fg.get(R)||null,o,u,p,v,E)),!0}return!1}function B3(o){var u=Ra(o.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){o.blockedOn=u,Ko(o.priority,function(){L3(p)});return}}else if(u===31){if(u=l(p),u!==null){o.blockedOn=u,Ko(o.priority,function(){L3(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function oy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=i_(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);Vl=v,p.target.dispatchEvent(v),Vl=null}else return u=ka(p),u!==null&&D3(u),o.blockedOn=p,!1;u.shift()}return!0}function q3(o,u,p){oy(o)&&p.delete(u)}function gH(){s_=!1,pd!==null&&oy(pd)&&(pd=null),md!==null&&oy(md)&&(md=null),gd!==null&&oy(gd)&&(gd=null),dg.forEach(q3),fg.forEach(q3)}function ly(o,u){o.blockedOn===u&&(o.blockedOn=null,s_||(s_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gH)))}var cy=null;function V3(o){cy!==o&&(cy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cy===o&&(cy=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],E=o[u+2];if(typeof v!="function"){if(a_(v||p)===null)continue;break}var R=ka(p);R!==null&&(o.splice(u,3),u-=3,i2(R,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function tp(o){function u(Ee){return ly(Ee,o)}pd!==null&&ly(pd,o),md!==null&&ly(md,o),gd!==null&&ly(gd,o),dg.forEach(u),fg.forEach(u);for(var p=0;p<vd.length;p++){var v=vd[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<vd.length&&(p=vd[0],p.blockedOn===null);)B3(p),p.blockedOn===null&&vd.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],R=p[v+1],X=E[ir]||null;if(typeof R=="function")X||V3(p);else if(X){var he=null;if(R&&R.hasAttribute("formAction")){if(E=R,X=R[ir]||null)he=X.formAction;else if(a_(E)!==null)continue}else he=X.action;typeof he=="function"?p[v+1]=he:(p.splice(v,3),v-=3),V3(p)}}}function z3(){function o(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(X){return E=X})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function o_(o){this._internalRoot=o}uy.prototype.render=o_.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=oo();j3(p,v,o,u,null,null)},uy.prototype.unmount=o_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;j3(o.current,2,null,o,null,null),$v(),u[ei]=null}};function uy(o){this._internalRoot=o}uy.prototype.unstable_scheduleHydration=function(o){if(o){var u=Kr();o={blockedOn:null,target:o,priority:u};for(var p=0;p<vd.length&&u!==0&&u<vd[p].priority;p++);vd.splice(p,0,o),p===0&&B3(o)}};var $3=e.version;if($3!=="19.2.3")throw Error(r(527,$3,"19.2.3"));ee.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var vH={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{nn=dy.inject(vH),qn=dy}catch{}}return mg.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",E=XI,R=QI,X=ZI;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(X=u.onRecoverableError)),u=P3(o,1,!1,null,null,p,v,null,E,R,X,z3),o[ei]=u.current,V2(o),new o_(u)},mg.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,E="",R=XI,X=QI,he=ZI,Ee=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(R=p.onUncaughtError),p.onCaughtError!==void 0&&(X=p.onCaughtError),p.onRecoverableError!==void 0&&(he=p.onRecoverableError),p.formState!==void 0&&(Ee=p.formState)),u=P3(o,1,!0,u,p??null,v,E,Ee,R,X,he,z3),u.context=O3(null),p=u.current,v=oo(),v=Ir(v),E=Gt(v),E.callback=null,sr(p,E,v),p=v,u.current.lanes=p,Oi(u,p),mc(u),o[ei]=u.current,V2(o),new uy(u)},mg.version="19.2.3",mg}var eR;function TH(){if(eR)return u_.exports;eR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u_.exports=NH(),u_.exports}var CH=TH();const IH=mr(CH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=be.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>be.createElement("svg",{ref:c,...kH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:L7("lucide",i),...l},[...s.map(([d,h])=>be.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=be.forwardRef(({className:r,...i},a)=>be.createElement(PH,{ref:a,iconNode:e,className:L7(`lucide-${RH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Na=vt("Activity",OH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],tR=vt("Archive",jH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ta=vt("ArrowLeft",MH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],F7=vt("Award",DH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],FH=vt("Barcode",LH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]],BS=vt("Beef",UH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qH=vt("Bell",BH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Rg=vt("Bot",VH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],$H=vt("BrainCircuit",zH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],GH=vt("Calculator",HH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z0=vt("Calendar",WH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],YH=vt("ChartColumn",KH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],XH=vt("ChartNoAxesColumn",JH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],U7=vt("ChartPie",QH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o1=vt("Check",ZH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ou=vt("ChevronRight",eG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Up=vt("CircleAlert",tG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xu=vt("CircleCheckBig",nG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],B7=vt("Clock",rG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],aG=vt("Contact",iG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],q7=vt("Cpu",sG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lG=vt("CreditCard",oG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],uG=vt("Crown",cG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],l1=vt("Database",dG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],hG=vt("Dna",fG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hf=vt("DollarSign",pG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],V7=vt("Download",mG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bp=vt("FileText",gG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],yG=vt("Filter",vG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],bG=vt("Fingerprint",xG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],qS=vt("Flame",_G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],AG=vt("FolderOpen",wG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],EG=vt("Folder",SG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],TG=vt("Globe",NG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wd=vt("History",CG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VS=vt("Image",IG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kG=vt("Info",RG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],nR=vt("Landmark",PG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jG=vt("Layers",OG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],DG=vt("LayoutDashboard",MG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],FG=vt("LayoutGrid",LG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],BG=vt("Link",UG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sp=vt("LoaderCircle",qG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],zG=vt("LockOpen",VG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lT=vt("Lock",$G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],GG=vt("LogOut",HG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],KG=vt("Mail",WG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],c1=vt("MapPin",YG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],XG=vt("Medal",JG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],i0=vt("MessageCircle",QG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],eW=vt("MicOff",ZG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Sd=vt("Mic",tW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M5 12h14",key:"1ays0h"}]],u1=vt("Minus",nW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],iW=vt("Navigation",rW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],sW=vt("PackagePlus",aW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],dh=vt("Package",oW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],cW=vt("Palette",lW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],z7=vt("PenLine",uW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qg=vt("Pencil",dW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],rR=vt("Play",fW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gf=vt("Plus",hW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$7=vt("Printer",pW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],H7=vt("RefreshCw",mW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],d1=vt("Save",gW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Vg=vt("Scale",vW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],xW=vt("ScanFace",yW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],gm=vt("Search",bW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iR=vt("Send",_W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AW=vt("Settings",wW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],G7=vt("ShieldAlert",SW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kl=vt("ShieldCheck",EW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],TW=vt("ShoppingBag",NW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aR=vt("ShoppingCart",CW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sR=vt("Smartphone",IW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],W7=vt("Sparkles",RW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oR=vt("Star",kW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],OW=vt("Sword",PW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K7=vt("Target",jW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],lR=vt("Terminal",MW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],LW=vt("Thermometer",DW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zf=vt("Trash2",FW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],cR=vt("Trash",UW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],f1=vt("TrendingDown",BW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],h1=vt("TrendingUp",qW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ev=vt("TriangleAlert",VW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Fd=vt("Truck",zW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],HW=vt("Type",$W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],zg=vt("Upload",GW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Y7=vt("UserPlus",WW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a0=vt("User",KW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],J7=vt("Users",YW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XW=vt("VideoOff",JW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],uR=vt("Video",QW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],p1=vt("Wallet",ZW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],X7=vt("WandSparkles",eK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Q7=vt("Waves",tK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ac=vt("X",nK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gs=vt("Zap",rK),iK=({setView:t,onLogout:e})=>{const n=[{id:"dashboard",label:"Painel Geral",description:"Viso Macro & KPIs",icon:DG,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"clients",label:"Clientes",description:"Agenda & Contatos",icon:J7,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"suppliers",label:"Fornecedores",description:"Cadastro Rural",icon:Fd,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"batches",label:"Cadastro de Lotes",description:"Entrada de Gado",icon:dh,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"stock",label:"Estoque",description:"Auditoria Fria",icon:BS,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"expedition",label:"Vendas",description:"Venda de Peas",icon:Vg,color:"text-amber-600",bg:"bg-amber-50",glow:"group-hover:shadow-lg"},{id:"sales_history",label:"Histrico",description:"Relatrios de Venda",icon:Bp,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"},{id:"financial",label:"Financeiro",description:"Fluxo de Caixa",icon:Hf,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"scheduled_orders",label:"Agendamentos",description:"Pedidos Futuros",icon:Z0,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"heifers",label:"Gesto Abate",description:"Novilhas Dirias",icon:BS,color:"text-emerald-700",bg:"bg-emerald-100",glow:"group-hover:shadow-lg"},{id:"sales_agent",label:"Agente IA",description:"Rob de Vendas",icon:Rg,color:"text-purple-600",bg:"bg-purple-100",glow:"group-hover:shadow-lg"},{id:"report",label:"Relatrio",description:"Resumo Dirio",icon:Bp,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"aistudio",label:"AI Studio",description:"Processamento IA",icon:X7,color:"text-fuchsia-600",bg:"bg-fuchsia-50",glow:"group-hover:shadow-lg"}];return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex flex-col items-center justify-center p-6 lg:p-12 relative overflow-hidden font-sans text-white",children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.08] pointer-events-none",style:{backgroundImage:"linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px)",backgroundSize:"60px 60px"}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/10 rounded-full blur-[120px] pointer-events-none"}),f.jsxs("div",{className:"w-full max-w-6xl z-10 animate-fade-in flex flex-col items-center gap-12",children:[f.jsxs("div",{className:"text-center space-y-4 relative",children:[f.jsx("div",{className:"absolute -top-6 -right-12 bg-white/20 text-white text-[8px] font-black px-2 py-0.5 rounded border border-white/30 uppercase tracking-[0.2em] animate-pulse",children:"Sistema Ativo"}),f.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/10 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/20 mb-4 transform hover:scale-110 transition-all duration-700 group cursor-default",children:[f.jsx(Fd,{size:48,className:"text-white group-hover:text-blue-100 transition-colors"}),f.jsx("div",{className:"absolute inset-0 rounded-[2rem] border border-white/20 animate-ping opacity-20"})]}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter uppercase italic leading-none drop-shadow-2xl",children:["Frigo",f.jsx("span",{className:"text-blue-200 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]",children:"Gest"})]}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-transparent to-white/30"}),f.jsxs("p",{className:"text-white/70 font-black text-[10px] uppercase tracking-[0.4em] flex items-center gap-2",children:[f.jsx(gs,{size:12,className:"text-blue-200"})," Sistema Avanado v2.6.5"]}),f.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-l from-transparent to-white/30"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 w-full",children:n.map(r=>{const i=r.icon;return f.jsxs("button",{onClick:()=>t(r.id),className:`group relative flex flex-col items-start justify-between p-8 h-48 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-[2.5rem] hover:border-white/40 hover:bg-white/15 transition-all duration-500 shadow-2xl active:scale-[0.98] text-left overflow-hidden ${r.glow}`,children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsx("div",{className:`w-14 h-14 rounded-2xl ${r.bg} flex items-center justify-center ${r.color} group-hover:scale-110 transition-all duration-500 border border-white/10 shadow-lg`,children:f.jsx(i,{size:28})}),f.jsxs("div",{className:"relative z-10 transition-transform duration-500 group-hover:translate-x-1",children:[f.jsx("h3",{className:"text-lg font-black text-white group-hover:text-blue-100 transition-colors uppercase tracking-tight",children:r.label}),f.jsx("p",{className:"text-[10px] text-white/60 font-black mt-1 tracking-widest uppercase opacity-60 group-hover:opacity-100",children:r.description})]}),f.jsxs("div",{className:"absolute bottom-8 right-8 flex items-center gap-2 opacity-20 group-hover:opacity-100 transition-all",children:[f.jsx("div",{className:"h-[1px] w-4 bg-white/30 group-hover:bg-white/60 transition-colors"}),f.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 group-hover:text-white/80 transition-colors",children:["0",n.indexOf(r)+1]})]}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},r.id)})}),f.jsxs("div",{className:"mt-4 flex flex-col items-center gap-8 relative",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("button",{onClick:()=>{confirm(` Atualizar para nova verso?

Seus dados no sero perdidos!`)&&window.location.reload()},className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-emerald-500/20 backdrop-blur-md border border-emerald-400/30 hover:border-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/30 transition-all hover:shadow-lg active:scale-95 group",children:[f.jsx(gs,{size:16,className:"group-hover:rotate-180 transition-transform"}),"ATUALIZAR"]}),f.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-white/10 backdrop-blur-md border border-white/20 hover:border-rose-400 hover:text-rose-300 hover:bg-rose-500/20 transition-all hover:shadow-lg active:scale-95 group",children:[f.jsx(GG,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"SAIR"]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-4 text-white/40 font-bold text-[8px] uppercase tracking-[0.5em]",children:[f.jsx("span",{children:"Status: Online"}),f.jsx("span",{className:"w-1 h-1 bg-emerald-400 rounded-full animate-pulse"}),f.jsx("span",{children:"Enc: 256-Bit"})]}),f.jsx("p",{className:"text-[9px] text-white/30 font-black uppercase tracking-[0.4em]",children:" FRIGOGEST 2026  SYS_ID: FG-PRO-X"})]})]})]})]})};var dn=(t=>(t[t.INTEIRO=1]="INTEIRO",t[t.BANDA_A=2]="BANDA_A",t[t.BANDA_B=3]="BANDA_B",t))(dn||{});const zS=new Date().toISOString().split("T")[0],aK={clients:[],batches:[],stock:[],sales:[],transactions:[],scheduledOrders:[],reports:[],suppliers:[],payables:[]},dR=t=>{switch(t){case dn.INTEIRO:return"Carcaa Inteira";case dn.BANDA_A:return"Banda A (Dir)";case dn.BANDA_B:return"Banda B (Esq)";default:return"Desconhecido"}},sK=t=>{const e=new Date(t),n=new Date(zS),r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))},oK=t=>t<=1?{label:"Resfriamento",color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-100",status:"fresh"}:t<=4?{label:"Pronto (pice)",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",status:"prime"}:t<=7?{label:"Alerta Venda",color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",status:"warning"}:{label:"Risco Quebra",color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",status:"critical"},Zt=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),_r=t=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)+" kg",$S=(t,e,n,r)=>r===0?0:(t+e+n)/r,lK=(t,e)=>{if(!t||!t.length)return;const n=";",r=Object.keys(t[0]),i=r.join(n)+`
`+t.map(l=>r.map(c=>{let d=l[c]===null||l[c]===void 0?"":l[c];return d=d instanceof Date?d.toLocaleString():d.toString().replace(/"/g,'""'),d.search(new RegExp(`("|${n}|
)`))>=0&&(d=`"${d}"`),d}).join(n)).join(`
`),a=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){const l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},fR=(t,e,n)=>{const r=e.filter(g=>g.id_cliente===t.id_ferro),a=r.filter(g=>g.status_pagamento==="PENDENTE").filter(g=>g.data_vencimento<n),s=r.reduce((g,y)=>g+y.peso_real_saida*y.preco_venda_kg,0),l=t.limite_credito>0?t.saldo_devedor/t.limite_credito:0;let c=5,d="AAA",h="Cliente Exemplar";return a.length>0&&(c-=2,d="C",h="Faturas em Atraso"),l>.8&&(c-=1,d==="AAA"&&(d="A"),h="Limite Prximo ao Fim"),t.saldo_devedor>t.limite_credito&&t.limite_credito>0&&(c-=2,d="C",h="Limite Excedido"),a.reduce((g,y)=>{const N=Math.ceil((new Date(n).getTime()-new Date(y.data_vencimento).getTime())/864e5);return Math.max(g,N)},0)>10&&(c=1,d="F",h="Risco Iminente (Fumo)"),s>1e5&&a.length===0&&l<.6&&(d="AAA",c=5,h="Parceiro Estratgico (Ouro)"),{stars:Math.max(1,Math.min(5,c)),tier:d,reason:h,color:d==="AAA"?"text-emerald-500":d==="A"?"text-blue-500":d==="C"?"text-orange-600":d==="F"?"text-rose-600":"text-slate-600",border:d==="F"?"border-rose-100":"border-slate-100",bg:d==="F"?"bg-rose-50":"bg-slate-50"}};function Z7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Z7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $n(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Z7(t))&&(r&&(r+=" "),r+=e);return r}var p_,hR;function Bs(){if(hR)return p_;hR=1;var t=Array.isArray;return p_=t,p_}var m_,pR;function e9(){if(pR)return m_;pR=1;var t=typeof fy=="object"&&fy&&fy.Object===Object&&fy;return m_=t,m_}var g_,mR;function Dc(){if(mR)return g_;mR=1;var t=e9(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return g_=n,g_}var v_,gR;function tv(){if(gR)return v_;gR=1;var t=Dc(),e=t.Symbol;return v_=e,v_}var y_,vR;function cK(){if(vR)return y_;vR=1;var t=tv(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var h=r.call(s);return d&&(l?s[i]=c:delete s[i]),h}return y_=a,y_}var x_,yR;function uK(){if(yR)return x_;yR=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return x_=n,x_}var b_,xR;function ju(){if(xR)return b_;xR=1;var t=tv(),e=cK(),n=uK(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return b_=s,b_}var __,bR;function Mu(){if(bR)return __;bR=1;function t(e){return e!=null&&typeof e=="object"}return __=t,__}var w_,_R;function vm(){if(_R)return w_;_R=1;var t=ju(),e=Mu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return w_=r,w_}var A_,wR;function cT(){if(wR)return A_;wR=1;var t=Bs(),e=vm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return A_=i,A_}var S_,AR;function af(){if(AR)return S_;AR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return S_=t,S_}var E_,SR;function uT(){if(SR)return E_;SR=1;var t=ju(),e=af(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return E_=s,E_}var N_,ER;function dK(){if(ER)return N_;ER=1;var t=Dc(),e=t["__core-js_shared__"];return N_=e,N_}var T_,NR;function fK(){if(NR)return T_;NR=1;var t=dK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return T_=n,T_}var C_,TR;function t9(){if(TR)return C_;TR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return C_=n,C_}var I_,CR;function hK(){if(CR)return I_;CR=1;var t=uT(),e=fK(),n=af(),r=t9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var y=t(g)?h:a;return y.test(r(g))}return I_=m,I_}var R_,IR;function pK(){if(IR)return R_;IR=1;function t(e,n){return e==null?void 0:e[n]}return R_=t,R_}var k_,RR;function fh(){if(RR)return k_;RR=1;var t=hK(),e=pK();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return k_=n,k_}var P_,kR;function qx(){if(kR)return P_;kR=1;var t=fh(),e=t(Object,"create");return P_=e,P_}var O_,PR;function mK(){if(PR)return O_;PR=1;var t=qx();function e(){this.__data__=t?t(null):{},this.size=0}return O_=e,O_}var j_,OR;function gK(){if(OR)return j_;OR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return j_=t,j_}var M_,jR;function vK(){if(jR)return M_;jR=1;var t=qx(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return r.call(s,a)?s[a]:void 0}return M_=i,M_}var D_,MR;function yK(){if(MR)return D_;MR=1;var t=qx(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return D_=r,D_}var L_,DR;function xK(){if(DR)return L_;DR=1;var t=qx(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return L_=n,L_}var F_,LR;function bK(){if(LR)return F_;LR=1;var t=mK(),e=gK(),n=vK(),r=yK(),i=xK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,F_=a,F_}var U_,FR;function _K(){if(FR)return U_;FR=1;function t(){this.__data__=[],this.size=0}return U_=t,U_}var B_,UR;function dT(){if(UR)return B_;UR=1;function t(e,n){return e===n||e!==e&&n!==n}return B_=t,B_}var q_,BR;function Vx(){if(BR)return q_;BR=1;var t=dT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return q_=e,q_}var V_,qR;function wK(){if(qR)return V_;qR=1;var t=Vx(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return V_=r,V_}var z_,VR;function AK(){if(VR)return z_;VR=1;var t=Vx();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return z_=e,z_}var $_,zR;function SK(){if(zR)return $_;zR=1;var t=Vx();function e(n){return t(this.__data__,n)>-1}return $_=e,$_}var H_,$R;function EK(){if($R)return H_;$R=1;var t=Vx();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return H_=e,H_}var G_,HR;function zx(){if(HR)return G_;HR=1;var t=_K(),e=wK(),n=AK(),r=SK(),i=EK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,G_=a,G_}var W_,GR;function fT(){if(GR)return W_;GR=1;var t=fh(),e=Dc(),n=t(e,"Map");return W_=n,W_}var K_,WR;function NK(){if(WR)return K_;WR=1;var t=bK(),e=zx(),n=fT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return K_=r,K_}var Y_,KR;function TK(){if(KR)return Y_;KR=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Y_=t,Y_}var J_,YR;function $x(){if(YR)return J_;YR=1;var t=TK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return J_=e,J_}var X_,JR;function CK(){if(JR)return X_;JR=1;var t=$x();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return X_=e,X_}var Q_,XR;function IK(){if(XR)return Q_;XR=1;var t=$x();function e(n){return t(this,n).get(n)}return Q_=e,Q_}var Z_,QR;function RK(){if(QR)return Z_;QR=1;var t=$x();function e(n){return t(this,n).has(n)}return Z_=e,Z_}var ew,ZR;function kK(){if(ZR)return ew;ZR=1;var t=$x();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return ew=e,ew}var tw,ek;function hT(){if(ek)return tw;ek=1;var t=NK(),e=CK(),n=IK(),r=RK(),i=kK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,tw=a,tw}var nw,tk;function n9(){if(tk)return nw;tk=1;var t=hT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var d=r.apply(this,s);return a.cache=c.set(l,d)||c,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,nw=n,nw}var rw,nk;function PK(){if(nk)return rw;nk=1;var t=n9(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return rw=n,rw}var iw,rk;function OK(){if(rk)return iw;rk=1;var t=PK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,d){a.push(c?d.replace(n,"$1"):l||s)}),a});return iw=r,iw}var aw,ik;function pT(){if(ik)return aw;ik=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return aw=t,aw}var sw,ak;function jK(){if(ak)return sw;ak=1;var t=tv(),e=pT(),n=Bs(),r=vm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return sw=s,sw}var ow,sk;function r9(){if(sk)return ow;sk=1;var t=jK();function e(n){return n==null?"":t(n)}return ow=e,ow}var lw,ok;function i9(){if(ok)return lw;ok=1;var t=Bs(),e=cT(),n=OK(),r=r9();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return lw=i,lw}var cw,lk;function Hx(){if(lk)return cw;lk=1;var t=vm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return cw=e,cw}var uw,ck;function mT(){if(ck)return uw;ck=1;var t=i9(),e=Hx();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return uw=n,uw}var dw,uk;function a9(){if(uk)return dw;uk=1;var t=mT();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return dw=e,dw}var MK=a9();const zo=mr(MK);var fw,dk;function DK(){if(dk)return fw;dk=1;function t(e){return e==null}return fw=t,fw}var LK=DK();const On=mr(LK);var hw,fk;function FK(){if(fk)return hw;fk=1;var t=ju(),e=Bs(),n=Mu(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return hw=i,hw}var UK=FK();const eh=mr(UK);var BK=uT();const hn=mr(BK);var qK=af();const ym=mr(qK);var pw={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function VK(){if(hk)return tr;hk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function S(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case i:case r:case d:case h:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case c:case g:case m:case a:return A;default:return C}}case e:return C}}}return tr.ContextConsumer=s,tr.ContextProvider=a,tr.Element=t,tr.ForwardRef=c,tr.Fragment=n,tr.Lazy=g,tr.Memo=m,tr.Portal=e,tr.Profiler=i,tr.StrictMode=r,tr.Suspense=d,tr.SuspenseList=h,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(A){return S(A)===s},tr.isContextProvider=function(A){return S(A)===a},tr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},tr.isForwardRef=function(A){return S(A)===c},tr.isFragment=function(A){return S(A)===n},tr.isLazy=function(A){return S(A)===g},tr.isMemo=function(A){return S(A)===m},tr.isPortal=function(A){return S(A)===e},tr.isProfiler=function(A){return S(A)===i},tr.isStrictMode=function(A){return S(A)===r},tr.isSuspense=function(A){return S(A)===d},tr.isSuspenseList=function(A){return S(A)===h},tr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===d||A===h||A===y||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===m||A.$$typeof===a||A.$$typeof===s||A.$$typeof===c||A.$$typeof===N||A.getModuleId!==void 0)},tr.typeOf=S,tr}var pk;function zK(){return pk||(pk=1,pw.exports=VK()),pw.exports}var $K=zK(),mw,mk;function s9(){if(mk)return mw;mk=1;var t=ju(),e=Mu(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return mw=r,mw}var gw,gk;function HK(){if(gk)return gw;gk=1;var t=s9();function e(n){return t(n)&&n!=+n}return gw=e,gw}var GK=HK();const xm=mr(GK);var WK=s9();const KK=mr(WK);var Nl=function(e){return e===0?0:e>0?1:-1},Uf=function(e){return eh(e)&&e.indexOf("%")===e.length-1},bt=function(e){return KK(e)&&!xm(e)},YK=function(e){return On(e)},Wi=function(e){return bt(e)||eh(e)},JK=0,nv=function(e){var n=++JK;return"".concat(e||"").concat(n)},th=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(e)&&!eh(e))return r;var a;if(Uf(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return xm(a)&&(a=r),i&&a>n&&(a=n),a},Nd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},XK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Uo=function(e,n){return bt(e)&&bt(n)?function(r){return e+r*(n-e)}:function(){return n}};function m1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):zo(r,e))===n})}var QK=function(e,n){return bt(e)&&bt(n)?e-n:eh(e)&&eh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ep(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function HS(t){"@babel/helpers - typeof";return HS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HS(t)}var ZK=["viewBox","children"],eY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vk=["points","pathLength"],vw={svg:ZK,polygon:vk,polyline:vk},gT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],g1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(be.isValidElement(e)&&(r=e.props),!ym(r))return null;var i={};return Object.keys(r).forEach(function(a){gT.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},tY=function(e,n,r){return function(i){return e(n,r,i),null}},v1=function(e,n,r){if(!ym(e)||HS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];gT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=tY(s,n,r))}),i},nY=["children"],rY=["children"];function yk(t,e){if(t==null)return{};var n=iY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GS(t){"@babel/helpers - typeof";return GS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GS(t)}var xk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},bk=null,yw=null,vT=function t(e){if(e===bk&&Array.isArray(yw))return yw;var n=[];return be.Children.forEach(e,function(r){On(r)||($K.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),yw=n,bk=e,n};function Cl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return bu(i)}):r=[bu(e)],vT(t).forEach(function(i){var a=zo(i,"type.displayName")||zo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function uo(t,e){var n=Cl(t,e);return n&&n[0]}var _k=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!bt(r)||r<=0||!bt(i)||i<=0)},aY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sY=function(e){return e&&e.type&&eh(e.type)&&aY.indexOf(e.type)>=0},oY=function(e){return e&&GS(e)==="object"&&"clipDot"in e},lY=function(e,n,r,i){var a,s=(a=vw==null?void 0:vw[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!hn(e)&&(i&&s.includes(n)||eY.includes(n))||r&&gT.includes(n)},En=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(be.isValidElement(e)&&(i=e.props),!ym(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;lY((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},WS=function t(e,n){if(e===n)return!0;var r=be.Children.count(e);if(r!==be.Children.count(n))return!1;if(r===0)return!0;if(r===1)return wk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!wk(a,s))return!1}return!0},wk=function(e,n){if(On(e)&&On(n))return!0;if(!On(e)&&!On(n)){var r=e.props||{},i=r.children,a=yk(r,nY),s=n.props||{},l=s.children,c=yk(s,rY);return i&&l?Ep(a,c)&&WS(i,l):!i&&!l?Ep(a,c):!1}return!1},Ak=function(e,n){var r=[],i={};return vT(e).forEach(function(a,s){if(sY(a))r.push(a);else if(a){var l=bu(a.type),c=n[l]||{},d=c.handler,h=c.once;if(d&&(!h||!i[l])){var m=d(a,l,s);r.push(m),i[l]=!0}}}),r},cY=function(e){var n=e&&e.type;return n&&xk[n]?xk[n]:null},uY=function(e,n){return vT(n).indexOf(e)},dY=["children","width","height","viewBox","className","style","title","desc"];function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function fY(t,e){if(t==null)return{};var n=hY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,d=fY(t,dY),h=i||{width:n,height:r,x:0,y:0},m=$n("recharts-surface",a);return je.createElement("svg",KS({},En(d,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),je.createElement("title",null,l),je.createElement("desc",null,c),e)}var pY=["children","className"];function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function mY(t,e){if(t==null)return{};var n=gY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qr=je.forwardRef(function(t,e){var n=t.children,r=t.className,i=mY(t,pY),a=$n("recharts-layer",r);return je.createElement("g",JS({className:a},En(i,!0),{ref:e}),n)}),_u=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},xw,Sk;function vY(){if(Sk)return xw;Sk=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return xw=t,xw}var bw,Ek;function yY(){if(Ek)return bw;Ek=1;var t=vY();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return bw=e,bw}var _w,Nk;function o9(){if(Nk)return _w;Nk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function c(d){return l.test(d)}return _w=c,_w}var ww,Tk;function xY(){if(Tk)return ww;Tk=1;function t(e){return e.split("")}return ww=t,ww}var Aw,Ck;function bY(){if(Ck)return Aw;Ck=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",N=d+"?",S="["+a+"]?",A="(?:"+y+"(?:"+[h,m,g].join("|")+")"+S+N+")*",C=S+N+A,I="(?:"+[h+l+"?",l,m,g,s].join("|")+")",k=RegExp(c+"(?="+c+")|"+I+C,"g");function B(L){return L.match(k)||[]}return Aw=B,Aw}var Sw,Ik;function _Y(){if(Ik)return Sw;Ik=1;var t=xY(),e=o9(),n=bY();function r(i){return e(i)?n(i):t(i)}return Sw=r,Sw}var Ew,Rk;function wY(){if(Rk)return Ew;Rk=1;var t=yY(),e=o9(),n=_Y(),r=r9();function i(a){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),d=l?t(l,1).join(""):s.slice(1);return c[a]()+d}}return Ew=i,Ew}var Nw,kk;function AY(){if(kk)return Nw;kk=1;var t=wY(),e=t("toUpperCase");return Nw=e,Nw}var SY=AY();const Gx=mr(SY);function Tr(t){return function(){return t}}const l9=Math.cos,y1=Math.sin,jl=Math.sqrt,x1=Math.PI,Wx=2*x1,XS=Math.PI,QS=2*XS,Of=1e-6,EY=QS-Of;function c9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function NY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class TY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c9:NY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,d=i-n,h=s-e,m=l-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Of)if(!(Math.abs(m*c-d*h)>Of)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,N=i-l,S=c*c+d*d,A=y*y+N*N,C=Math.sqrt(S),I=Math.sqrt(g),k=a*Math.tan((XS-Math.acos((S+g-A)/(2*C*I)))/2),B=k/I,L=k/C;Math.abs(B-1)>Of&&this._append`L${e+B*h},${n+B*m}`,this._append`A${a},${a},0,0,${+(m*y>h*N)},${this._x1=e+L*c},${this._y1=n+L*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,h=n+c,m=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Of||Math.abs(this._y1-h)>Of)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%QS+QS),g>EY?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>Of&&this._append`A${r},${r},0,${+(g>=XS)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function yT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new TY(e)}function xT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u9(t){this._context=t}u9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kx(t){return new u9(t)}function d9(t){return t[0]}function f9(t){return t[1]}function h9(t,e){var n=Tr(!0),r=null,i=Kx,a=null,s=yT(l);t=typeof t=="function"?t:t===void 0?d9:Tr(t),e=typeof e=="function"?e:e===void 0?f9:Tr(e);function l(c){var d,h=(c=xT(c)).length,m,g=!1,y;for(r==null&&(a=i(y=s())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(m,d,c),+e(m,d,c));if(y)return a=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Tr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Tr(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Tr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function hy(t,e,n){var r=null,i=Tr(!0),a=null,s=Kx,l=null,c=yT(d);t=typeof t=="function"?t:t===void 0?d9:Tr(+t),e=typeof e=="function"?e:Tr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?f9:Tr(+n);function d(m){var g,y,N,S=(m=xT(m)).length,A,C=!1,I,k=new Array(S),B=new Array(S);for(a==null&&(l=s(I=c())),g=0;g<=S;++g){if(!(g<S&&i(A=m[g],g,m))===C)if(C=!C)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=g-1;N>=y;--N)l.point(k[N],B[N]);l.lineEnd(),l.areaEnd()}C&&(k[g]=+t(A,g,m),B[g]=+e(A,g,m),l.point(r?+r(A,g,m):k[g],n?+n(A,g,m):B[g]))}if(I)return l=null,I+""||null}function h(){return h9().defined(i).curve(s).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Tr(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Tr(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Tr(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Tr(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Tr(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Tr(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Tr(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),d):s},d.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),d):a},d}class p9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function CY(t){return new p9(t,!0)}function IY(t){return new p9(t,!1)}const bT={draw(t,e){const n=jl(e/x1);t.moveTo(n,0),t.arc(0,0,n,0,Wx)}},RY={draw(t,e){const n=jl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},m9=jl(1/3),kY=m9*2,PY={draw(t,e){const n=jl(e/kY),r=n*m9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OY={draw(t,e){const n=jl(e),r=-n/2;t.rect(r,r,n,n)}},jY=.8908130915292852,g9=y1(x1/10)/y1(7*x1/10),MY=y1(Wx/10)*g9,DY=-l9(Wx/10)*g9,LY={draw(t,e){const n=jl(e*jY),r=MY*n,i=DY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Wx*a/5,l=l9(s),c=y1(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Tw=jl(3),FY={draw(t,e){const n=-jl(e/(Tw*3));t.moveTo(0,n*2),t.lineTo(-Tw*n,-n),t.lineTo(Tw*n,-n),t.closePath()}},Do=-.5,Lo=jl(3)/2,ZS=1/jl(12),UY=(ZS/2+1)*3,BY={draw(t,e){const n=jl(e/UY),r=n/2,i=n*ZS,a=r,s=n*ZS+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Do*r-Lo*i,Lo*r+Do*i),t.lineTo(Do*a-Lo*s,Lo*a+Do*s),t.lineTo(Do*l-Lo*c,Lo*l+Do*c),t.lineTo(Do*r+Lo*i,Do*i-Lo*r),t.lineTo(Do*a+Lo*s,Do*s-Lo*a),t.lineTo(Do*l+Lo*c,Do*c-Lo*l),t.closePath()}};function qY(t,e){let n=null,r=yT(i);t=typeof t=="function"?t:Tr(t||bT),e=typeof e=="function"?e:Tr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Tr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Tr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function b1(){}function _1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function v9(t){this._context=t}v9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VY(t){return new v9(t)}function y9(t){this._context=t}y9.prototype={areaStart:b1,areaEnd:b1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zY(t){return new y9(t)}function x9(t){this._context=t}x9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Y(t){return new x9(t)}function b9(t){this._context=t}b9.prototype={areaStart:b1,areaEnd:b1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HY(t){return new b9(t)}function Pk(t){return t<0?-1:1}function Ok(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(Pk(a)+Pk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function jk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Cw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function w1(t){this._context=t}w1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cw(this,this._t0,jk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cw(this,jk(this,n=Ok(this,t,e)),n);break;default:Cw(this,this._t0,n=Ok(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _9(t){this._context=new w9(t)}(_9.prototype=Object.create(w1.prototype)).point=function(t,e){w1.prototype.point.call(this,e,t)};function w9(t){this._context=t}w9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function GY(t){return new w1(t)}function WY(t){return new _9(t)}function A9(t){this._context=t}A9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Mk(t),i=Mk(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Mk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function KY(t){return new A9(t)}function Yx(t,e){this._context=t,this._t=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YY(t){return new Yx(t,.5)}function JY(t){return new Yx(t,0)}function XY(t){return new Yx(t,1)}function qp(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function eE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function QY(t,e){return t[e]}function ZY(t){const e=[];return e.key=t,e}function eJ(){var t=Tr([]),e=eE,n=qp,r=QY;function i(a){var s=Array.from(t.apply(this,arguments),ZY),l,c=s.length,d=-1,h;for(const m of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+r(m,s[l].key,d,a)]).data=m;for(l=0,h=xT(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Tr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Tr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?eE:typeof a=="function"?a:Tr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??qp,i):n},i}function tJ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}qp(t,e)}}function nJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}qp(t,e)}}function rJ(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,d=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,g=h[r-1][1]||0,y=(m-g)/2,N=0;N<l;++N){var S=t[e[N]],A=S[r][1]||0,C=S[r-1][1]||0;y+=A-C}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,qp(t,e)}}function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}var iJ=["type","size","sizeType"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return s0(e)=="symbol"?e:e+""}function oJ(t,e){if(s0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lJ(t,e){if(t==null)return{};var n=cJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var S9={symbolCircle:bT,symbolCross:RY,symbolDiamond:PY,symbolSquare:OY,symbolStar:LY,symbolTriangle:FY,symbolWye:BY},uJ=Math.PI/180,dJ=function(e){var n="symbol".concat(Gx(e));return S9[n]||bT},fJ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hJ=function(e,n){S9["symbol".concat(Gx(e))]=n},_T=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=lJ(e,iJ),d=Lk(Lk({},c),{},{type:r,size:a,sizeType:l}),h=function(){var A=dJ(r),C=qY().type(A).size(fJ(a,l,r));return C()},m=d.className,g=d.cx,y=d.cy,N=En(d,!0);return g===+g&&y===+y&&a===+a?je.createElement("path",tE({},N,{className:$n("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};_T.registerSymbol=hJ;function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){o0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N9(r.key),r)}}function vJ(t,e,n){return e&&gJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yJ(t,e,n){return e=A1(e),xJ(t,E9()?Reflect.construct(e,n||[],A1(t).constructor):e.apply(t,n))}function xJ(t,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bJ(t)}function bJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A1(t)}function _J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function o0(t,e,n){return e=N9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N9(t){var e=wJ(t,"string");return Vp(e)=="symbol"?e:e+""}function wJ(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fo=32,wT=(function(t){function e(){return mJ(this,e),yJ(this,e,arguments)}return _J(e,t),vJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Fo/2,s=Fo/6,l=Fo/3,c=r.inactive?i:r.color;if(r.type==="plainline")return je.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Fo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return je.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Fo,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return je.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fo/8,"h").concat(Fo,"v").concat(Fo*3/4,"h").concat(-Fo,"z"),className:"recharts-legend-icon"});if(je.isValidElement(r.legendIcon)){var d=pJ({},r);return delete d.legendIcon,je.cloneElement(r.legendIcon,d)}return je.createElement(_T,{fill:c,cx:a,cy:a,size:Fo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:Fo,height:Fo},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,N){var S=y.formatter||c,A=$n(o0(o0({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",y.inactive));if(y.type==="none")return null;var C=hn(y.value)?null:y.value;_u(!hn(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=y.inactive?d:y.color;return je.createElement("li",nE({className:A,style:m,key:"legend-item-".concat(N)},v1(r.props,y,N)),je.createElement(YS,{width:s,height:s,viewBox:h,style:g},r.renderIcon(y)),je.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},S?S(C,y,N):C))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return je.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(be.PureComponent);o0(wT,"displayName","Legend");o0(wT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Iw,Uk;function AJ(){if(Uk)return Iw;Uk=1;var t=zx();function e(){this.__data__=new t,this.size=0}return Iw=e,Iw}var Rw,Bk;function SJ(){if(Bk)return Rw;Bk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Rw=t,Rw}var kw,qk;function EJ(){if(qk)return kw;qk=1;function t(e){return this.__data__.get(e)}return kw=t,kw}var Pw,Vk;function NJ(){if(Vk)return Pw;Vk=1;function t(e){return this.__data__.has(e)}return Pw=t,Pw}var Ow,zk;function TJ(){if(zk)return Ow;zk=1;var t=zx(),e=fT(),n=hT(),r=200;function i(a,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return Ow=i,Ow}var jw,$k;function T9(){if($k)return jw;$k=1;var t=zx(),e=AJ(),n=SJ(),r=EJ(),i=NJ(),a=TJ();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,jw=s,jw}var Mw,Hk;function CJ(){if(Hk)return Mw;Hk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Mw=e,Mw}var Dw,Gk;function IJ(){if(Gk)return Dw;Gk=1;function t(e){return this.__data__.has(e)}return Dw=t,Dw}var Lw,Wk;function C9(){if(Wk)return Lw;Wk=1;var t=hT(),e=CJ(),n=IJ();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Lw=r,Lw}var Fw,Kk;function I9(){if(Kk)return Fw;Kk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Fw=t,Fw}var Uw,Yk;function R9(){if(Yk)return Uw;Yk=1;function t(e,n){return e.has(n)}return Uw=t,Uw}var Bw,Jk;function k9(){if(Jk)return Bw;Jk=1;var t=C9(),e=I9(),n=R9(),r=1,i=2;function a(s,l,c,d,h,m){var g=c&r,y=s.length,N=l.length;if(y!=N&&!(g&&N>y))return!1;var S=m.get(s),A=m.get(l);if(S&&A)return S==l&&A==s;var C=-1,I=!0,k=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++C<y;){var B=s[C],L=l[C];if(d)var z=g?d(L,B,C,l,s,m):d(B,L,C,s,l,m);if(z!==void 0){if(z)continue;I=!1;break}if(k){if(!e(l,function(D,j){if(!n(k,j)&&(B===D||h(B,D,c,d,m)))return k.push(j)})){I=!1;break}}else if(!(B===L||h(B,L,c,d,m))){I=!1;break}}return m.delete(s),m.delete(l),I}return Bw=a,Bw}var qw,Xk;function RJ(){if(Xk)return qw;Xk=1;var t=Dc(),e=t.Uint8Array;return qw=e,qw}var Vw,Qk;function kJ(){if(Qk)return Vw;Qk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Vw=t,Vw}var zw,Zk;function AT(){if(Zk)return zw;Zk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return zw=t,zw}var $w,eP;function PJ(){if(eP)return $w;eP=1;var t=tv(),e=RJ(),n=dT(),r=k9(),i=kJ(),a=AT(),s=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",N="[object Set]",S="[object String]",A="[object Symbol]",C="[object ArrayBuffer]",I="[object DataView]",k=t?t.prototype:void 0,B=k?k.valueOf:void 0;function L(z,D,j,V,Y,q,M){switch(j){case I:if(z.byteLength!=D.byteLength||z.byteOffset!=D.byteOffset)return!1;z=z.buffer,D=D.buffer;case C:return!(z.byteLength!=D.byteLength||!q(new e(z),new e(D)));case c:case d:case g:return n(+z,+D);case h:return z.name==D.name&&z.message==D.message;case y:case S:return z==D+"";case m:var F=i;case N:var Q=V&s;if(F||(F=a),z.size!=D.size&&!Q)return!1;var se=M.get(z);if(se)return se==D;V|=l,M.set(z,D);var W=r(F(z),F(D),V,Y,q,M);return M.delete(z),W;case A:if(B)return B.call(z)==B.call(D)}return!1}return $w=L,$w}var Hw,tP;function P9(){if(tP)return Hw;tP=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Hw=t,Hw}var Gw,nP;function OJ(){if(nP)return Gw;nP=1;var t=P9(),e=Bs();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Gw=n,Gw}var Ww,rP;function jJ(){if(rP)return Ww;rP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[a++]=l)}return s}return Ww=t,Ww}var Kw,iP;function MJ(){if(iP)return Kw;iP=1;function t(){return[]}return Kw=t,Kw}var Yw,aP;function DJ(){if(aP)return Yw;aP=1;var t=jJ(),e=MJ(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return Yw=a,Yw}var Jw,sP;function LJ(){if(sP)return Jw;sP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Jw=t,Jw}var Xw,oP;function FJ(){if(oP)return Xw;oP=1;var t=ju(),e=Mu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Xw=r,Xw}var Qw,lP;function ST(){if(lP)return Qw;lP=1;var t=FJ(),e=Mu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Qw=a,Qw}var kg={exports:{}},Zw,cP;function UJ(){if(cP)return Zw;cP=1;function t(){return!1}return Zw=t,Zw}kg.exports;var uP;function O9(){return uP||(uP=1,(function(t,e){var n=Dc(),r=UJ(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d})(kg,kg.exports)),kg.exports}var e5,dP;function ET(){if(dP)return e5;dP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return e5=n,e5}var t5,fP;function NT(){if(fP)return t5;fP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return t5=e,t5}var n5,hP;function BJ(){if(hP)return n5;hP=1;var t=ju(),e=NT(),n=Mu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",N="[object String]",S="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",I="[object Float32Array]",k="[object Float64Array]",B="[object Int8Array]",L="[object Int16Array]",z="[object Int32Array]",D="[object Uint8Array]",j="[object Uint8ClampedArray]",V="[object Uint16Array]",Y="[object Uint32Array]",q={};q[I]=q[k]=q[B]=q[L]=q[z]=q[D]=q[j]=q[V]=q[Y]=!0,q[r]=q[i]=q[A]=q[a]=q[C]=q[s]=q[l]=q[c]=q[d]=q[h]=q[m]=q[g]=q[y]=q[N]=q[S]=!1;function M(F){return n(F)&&e(F.length)&&!!q[t(F)]}return n5=M,n5}var r5,pP;function j9(){if(pP)return r5;pP=1;function t(e){return function(n){return e(n)}}return r5=t,r5}var Pg={exports:{}};Pg.exports;var mP;function qJ(){return mP||(mP=1,(function(t,e){var n=e9(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Pg,Pg.exports)),Pg.exports}var i5,gP;function M9(){if(gP)return i5;gP=1;var t=BJ(),e=j9(),n=qJ(),r=n&&n.isTypedArray,i=r?e(r):t;return i5=i,i5}var a5,vP;function VJ(){if(vP)return a5;vP=1;var t=LJ(),e=ST(),n=Bs(),r=O9(),i=ET(),a=M9(),s=Object.prototype,l=s.hasOwnProperty;function c(d,h){var m=n(d),g=!m&&e(d),y=!m&&!g&&r(d),N=!m&&!g&&!y&&a(d),S=m||g||y||N,A=S?t(d.length,String):[],C=A.length;for(var I in d)(h||l.call(d,I))&&!(S&&(I=="length"||y&&(I=="offset"||I=="parent")||N&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,C)))&&A.push(I);return A}return a5=c,a5}var s5,yP;function zJ(){if(yP)return s5;yP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return s5=e,s5}var o5,xP;function D9(){if(xP)return o5;xP=1;function t(e,n){return function(r){return e(n(r))}}return o5=t,o5}var l5,bP;function $J(){if(bP)return l5;bP=1;var t=D9(),e=t(Object.keys,Object);return l5=e,l5}var c5,_P;function HJ(){if(_P)return c5;_P=1;var t=zJ(),e=$J(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return c5=i,c5}var u5,wP;function rv(){if(wP)return u5;wP=1;var t=uT(),e=NT();function n(r){return r!=null&&e(r.length)&&!t(r)}return u5=n,u5}var d5,AP;function Jx(){if(AP)return d5;AP=1;var t=VJ(),e=HJ(),n=rv();function r(i){return n(i)?t(i):e(i)}return d5=r,d5}var f5,SP;function GJ(){if(SP)return f5;SP=1;var t=OJ(),e=DJ(),n=Jx();function r(i){return t(i,n,e)}return f5=r,f5}var h5,EP;function WJ(){if(EP)return h5;EP=1;var t=GJ(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,d,h){var m=l&e,g=t(a),y=g.length,N=t(s),S=N.length;if(y!=S&&!m)return!1;for(var A=y;A--;){var C=g[A];if(!(m?C in s:r.call(s,C)))return!1}var I=h.get(a),k=h.get(s);if(I&&k)return I==s&&k==a;var B=!0;h.set(a,s),h.set(s,a);for(var L=m;++A<y;){C=g[A];var z=a[C],D=s[C];if(c)var j=m?c(D,z,C,s,a,h):c(z,D,C,a,s,h);if(!(j===void 0?z===D||d(z,D,l,c,h):j)){B=!1;break}L||(L=C=="constructor")}if(B&&!L){var V=a.constructor,Y=s.constructor;V!=Y&&"constructor"in a&&"constructor"in s&&!(typeof V=="function"&&V instanceof V&&typeof Y=="function"&&Y instanceof Y)&&(B=!1)}return h.delete(a),h.delete(s),B}return h5=i,h5}var p5,NP;function KJ(){if(NP)return p5;NP=1;var t=fh(),e=Dc(),n=t(e,"DataView");return p5=n,p5}var m5,TP;function YJ(){if(TP)return m5;TP=1;var t=fh(),e=Dc(),n=t(e,"Promise");return m5=n,m5}var g5,CP;function L9(){if(CP)return g5;CP=1;var t=fh(),e=Dc(),n=t(e,"Set");return g5=n,g5}var v5,IP;function JJ(){if(IP)return v5;IP=1;var t=fh(),e=Dc(),n=t(e,"WeakMap");return v5=n,v5}var y5,RP;function XJ(){if(RP)return y5;RP=1;var t=KJ(),e=fT(),n=YJ(),r=L9(),i=JJ(),a=ju(),s=t9(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",y=s(t),N=s(e),S=s(n),A=s(r),C=s(i),I=a;return(t&&I(new t(new ArrayBuffer(1)))!=g||e&&I(new e)!=l||n&&I(n.resolve())!=d||r&&I(new r)!=h||i&&I(new i)!=m)&&(I=function(k){var B=a(k),L=B==c?k.constructor:void 0,z=L?s(L):"";if(z)switch(z){case y:return g;case N:return l;case S:return d;case A:return h;case C:return m}return B}),y5=I,y5}var x5,kP;function QJ(){if(kP)return x5;kP=1;var t=T9(),e=k9(),n=PJ(),r=WJ(),i=XJ(),a=Bs(),s=O9(),l=M9(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function N(S,A,C,I,k,B){var L=a(S),z=a(A),D=L?h:i(S),j=z?h:i(A);D=D==d?m:D,j=j==d?m:j;var V=D==m,Y=j==m,q=D==j;if(q&&s(S)){if(!s(A))return!1;L=!0,V=!1}if(q&&!V)return B||(B=new t),L||l(S)?e(S,A,C,I,k,B):n(S,A,D,C,I,k,B);if(!(C&c)){var M=V&&y.call(S,"__wrapped__"),F=Y&&y.call(A,"__wrapped__");if(M||F){var Q=M?S.value():S,se=F?A.value():A;return B||(B=new t),k(Q,se,C,I,B)}}return q?(B||(B=new t),r(S,A,C,I,k,B)):!1}return x5=N,x5}var b5,PP;function TT(){if(PP)return b5;PP=1;var t=QJ(),e=Mu();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,l)}return b5=n,b5}var _5,OP;function ZJ(){if(OP)return _5;OP=1;var t=T9(),e=TT(),n=1,r=2;function i(a,s,l,c){var d=l.length,h=d,m=!c;if(a==null)return!h;for(a=Object(a);d--;){var g=l[d];if(m&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<h;){g=l[d];var y=g[0],N=a[y],S=g[1];if(m&&g[2]){if(N===void 0&&!(y in a))return!1}else{var A=new t;if(c)var C=c(N,S,y,a,s,A);if(!(C===void 0?e(S,N,n|r,c,A):C))return!1}}return!0}return _5=i,_5}var w5,jP;function F9(){if(jP)return w5;jP=1;var t=af();function e(n){return n===n&&!t(n)}return w5=e,w5}var A5,MP;function eX(){if(MP)return A5;MP=1;var t=F9(),e=Jx();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,t(l)]}return i}return A5=n,A5}var S5,DP;function U9(){if(DP)return S5;DP=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return S5=t,S5}var E5,LP;function tX(){if(LP)return E5;LP=1;var t=ZJ(),e=eX(),n=U9();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return E5=r,E5}var N5,FP;function nX(){if(FP)return N5;FP=1;function t(e,n){return e!=null&&n in Object(e)}return N5=t,N5}var T5,UP;function rX(){if(UP)return T5;UP=1;var t=i9(),e=ST(),n=Bs(),r=ET(),i=NT(),a=Hx();function s(l,c,d){c=t(c,l);for(var h=-1,m=c.length,g=!1;++h<m;){var y=a(c[h]);if(!(g=l!=null&&d(l,y)))break;l=l[y]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&i(m)&&r(y,m)&&(n(l)||e(l)))}return T5=s,T5}var C5,BP;function iX(){if(BP)return C5;BP=1;var t=nX(),e=rX();function n(r,i){return r!=null&&e(r,i,t)}return C5=n,C5}var I5,qP;function aX(){if(qP)return I5;qP=1;var t=TT(),e=a9(),n=iX(),r=cT(),i=F9(),a=U9(),s=Hx(),l=1,c=2;function d(h,m){return r(h)&&i(m)?a(s(h),m):function(g){var y=e(g,h);return y===void 0&&y===m?n(g,h):t(m,y,l|c)}}return I5=d,I5}var R5,VP;function bm(){if(VP)return R5;VP=1;function t(e){return e}return R5=t,R5}var k5,zP;function sX(){if(zP)return k5;zP=1;function t(e){return function(n){return n==null?void 0:n[e]}}return k5=t,k5}var P5,$P;function oX(){if($P)return P5;$P=1;var t=mT();function e(n){return function(r){return t(r,n)}}return P5=e,P5}var O5,HP;function lX(){if(HP)return O5;HP=1;var t=sX(),e=oX(),n=cT(),r=Hx();function i(a){return n(a)?t(r(a)):e(a)}return O5=i,O5}var j5,GP;function sf(){if(GP)return j5;GP=1;var t=tX(),e=aX(),n=bm(),r=Bs(),i=lX();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return j5=a,j5}var M5,WP;function B9(){if(WP)return M5;WP=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return M5=t,M5}var D5,KP;function cX(){if(KP)return D5;KP=1;function t(e){return e!==e}return D5=t,D5}var L5,YP;function uX(){if(YP)return L5;YP=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return L5=t,L5}var F5,JP;function dX(){if(JP)return F5;JP=1;var t=B9(),e=cX(),n=uX();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return F5=r,F5}var U5,XP;function fX(){if(XP)return U5;XP=1;var t=dX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return U5=e,U5}var B5,QP;function hX(){if(QP)return B5;QP=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return B5=t,B5}var q5,ZP;function pX(){if(ZP)return q5;ZP=1;function t(){}return q5=t,q5}var V5,e6;function mX(){if(e6)return V5;e6=1;var t=L9(),e=pX(),n=AT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return V5=i,V5}var z5,t6;function gX(){if(t6)return z5;t6=1;var t=C9(),e=fX(),n=hX(),r=R9(),i=mX(),a=AT(),s=200;function l(c,d,h){var m=-1,g=e,y=c.length,N=!0,S=[],A=S;if(h)N=!1,g=n;else if(y>=s){var C=d?null:i(c);if(C)return a(C);N=!1,g=r,A=new t}else A=d?[]:S;e:for(;++m<y;){var I=c[m],k=d?d(I):I;if(I=h||I!==0?I:0,N&&k===k){for(var B=A.length;B--;)if(A[B]===k)continue e;d&&A.push(k),S.push(I)}else g(A,k,h)||(A!==S&&A.push(k),S.push(I))}return S}return z5=l,z5}var $5,n6;function vX(){if(n6)return $5;n6=1;var t=sf(),e=gX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return $5=n,$5}var yX=vX();const r6=mr(yX);function q9(t,e,n){return e===!0?r6(t,n):hn(e)?r6(t,e):t}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var xX=["ref"];function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z9(r.key),r)}}function _X(t,e,n){return e&&a6(t.prototype,e),n&&a6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wX(t,e,n){return e=S1(e),AX(t,V9()?Reflect.construct(e,n||[],S1(t).constructor):e.apply(t,n))}function AX(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(t)}function SX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(t)}function EX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function Xx(t,e,n){return e=z9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z9(t){var e=NX(t,"string");return zp(e)=="symbol"?e:e+""}function NX(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TX(t,e){if(t==null)return{};var n=CX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IX(t){return t.value}function RX(t,e){if(je.isValidElement(t))return je.cloneElement(t,e);if(typeof t=="function")return je.createElement(t,e);e.ref;var n=TX(e,xX);return je.createElement(wT,n)}var s6=1,Np=(function(t){function e(){var n;bX(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wX(this,e,[].concat(i)),Xx(n,"lastBoundingBox",{width:-1,height:-1}),n}return EX(e,t),_X(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>s6||Math.abs(i.height-this.lastBoundingBox.height)>s6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,h=i.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();m={left:((d||0)-y.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();g={top:((h||0)-N.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fu(fu({},m),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,m=fu(fu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return je.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){r.wrapperNode=y}},RX(a,fu(fu({},this.props),{},{payload:q9(h,d,IX)})))}}],[{key:"getWithHeight",value:function(r,i){var a=fu(fu({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&bt(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(be.PureComponent);Xx(Np,"displayName","Legend");Xx(Np,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var H5,o6;function kX(){if(o6)return H5;o6=1;var t=tv(),e=ST(),n=Bs(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return H5=i,H5}var G5,l6;function $9(){if(l6)return G5;l6=1;var t=P9(),e=kX();function n(r,i,a,s,l){var c=-1,d=r.length;for(a||(a=e),l||(l=[]);++c<d;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return G5=n,G5}var W5,c6;function PX(){if(c6)return W5;c6=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++a];if(r(s[d],d,s)===!1)break}return n}}return W5=t,W5}var K5,u6;function OX(){if(u6)return K5;u6=1;var t=PX(),e=t();return K5=e,K5}var Y5,d6;function H9(){if(d6)return Y5;d6=1;var t=OX(),e=Jx();function n(r,i){return r&&t(r,i,e)}return Y5=n,Y5}var J5,f6;function jX(){if(f6)return J5;f6=1;var t=rv();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return J5=e,J5}var X5,h6;function CT(){if(h6)return X5;h6=1;var t=H9(),e=jX(),n=e(t);return X5=n,X5}var Q5,p6;function G9(){if(p6)return Q5;p6=1;var t=CT(),e=rv();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,d){s[++a]=i(l,c,d)}),s}return Q5=n,Q5}var Z5,m6;function MX(){if(m6)return Z5;m6=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Z5=t,Z5}var eA,g6;function DX(){if(g6)return eA;g6=1;var t=vm();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=t(n),c=r!==void 0,d=r===null,h=r===r,m=t(r);if(!d&&!m&&!l&&n>r||l&&c&&h&&!d&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!m&&n<r||m&&i&&s&&!a&&!l||d&&i&&s||!c&&s||!h)return-1}return 0}return eA=e,eA}var tA,v6;function LX(){if(v6)return tA;v6=1;var t=DX();function e(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,d=i.length;++a<c;){var h=t(s[a],l[a]);if(h){if(a>=d)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return tA=e,tA}var nA,y6;function FX(){if(y6)return nA;y6=1;var t=pT(),e=mT(),n=sf(),r=G9(),i=MX(),a=j9(),s=LX(),l=bm(),c=Bs();function d(h,m,g){m.length?m=t(m,function(S){return c(S)?function(A){return e(A,S.length===1?S[0]:S)}:S}):m=[l];var y=-1;m=t(m,a(n));var N=r(h,function(S,A,C){var I=t(m,function(k){return k(S)});return{criteria:I,index:++y,value:S}});return i(N,function(S,A){return s(S,A,g)})}return nA=d,nA}var rA,x6;function UX(){if(x6)return rA;x6=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return rA=t,rA}var iA,b6;function BX(){if(b6)return iA;b6=1;var t=UX(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),d=Array(c);++l<c;)d[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(d),t(r,this,h)}}return iA=n,iA}var aA,_6;function qX(){if(_6)return aA;_6=1;function t(e){return function(){return e}}return aA=t,aA}var sA,w6;function W9(){if(w6)return sA;w6=1;var t=fh(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return sA=e,sA}var oA,A6;function VX(){if(A6)return oA;A6=1;var t=qX(),e=W9(),n=bm(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return oA=r,oA}var lA,S6;function zX(){if(S6)return lA;S6=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return lA=r,lA}var cA,E6;function $X(){if(E6)return cA;E6=1;var t=VX(),e=zX(),n=e(t);return cA=n,cA}var uA,N6;function HX(){if(N6)return uA;N6=1;var t=bm(),e=BX(),n=$X();function r(i,a){return n(e(i,a,t),i+"")}return uA=r,uA}var dA,T6;function Qx(){if(T6)return dA;T6=1;var t=dT(),e=rv(),n=ET(),r=af();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],a):!1}return dA=i,dA}var fA,C6;function GX(){if(C6)return fA;C6=1;var t=$9(),e=FX(),n=HX(),r=Qx(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return fA=i,fA}var WX=GX();const IT=mr(WX);function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(this,arguments)}function KX(t,e){return QX(t)||XX(t,e)||JX(t,e)||YX()}function YX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(t,e){if(t){if(typeof t=="string")return I6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I6(t,e)}}function I6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function QX(t){if(Array.isArray(t))return t}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){ZX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZX(t,e,n){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eQ(t){var e=tQ(t,"string");return l0(e)=="symbol"?e:e+""}function tQ(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nQ(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var rQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,m=e.formatter,g=e.itemSorter,y=e.wrapperClassName,N=e.labelClassName,S=e.label,A=e.labelFormatter,C=e.accessibilityLayer,I=C===void 0?!1:C,k=function(){if(h&&h.length){var M={padding:0,margin:0},F=(g?IT(h,g):h).map(function(Q,se){if(Q.type==="none")return null;var W=hA({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),ee=Q.formatter||m||nQ,le=Q.value,xe=Q.name,ve=le,ce=xe;if(ee&&ve!=null&&ce!=null){var O=ee(le,xe,Q,se,h);if(Array.isArray(O)){var K=KX(O,2);ve=K[0],ce=K[1]}else ve=O}return je.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(se),style:W},Wi(ce)?je.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Wi(ce)?je.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,je.createElement("span",{className:"recharts-tooltip-item-value"},ve),je.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return je.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},B=hA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),L=hA({margin:0},d),z=!On(S),D=z?S:"",j=$n("recharts-default-tooltip",y),V=$n("recharts-tooltip-label",N);z&&A&&h!==void 0&&h!==null&&(D=A(S,h));var Y=I?{role:"status","aria-live":"assertive"}:{};return je.createElement("div",aE({className:j,style:B},Y),je.createElement("p",{className:V,style:L},je.isValidElement(D)?D:"".concat(D)),k())};function c0(t){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(t)}function py(t,e,n){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t){var e=aQ(t,"string");return c0(e)=="symbol"?e:e+""}function aQ(t,e){if(c0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gg="recharts-tooltip-wrapper",sQ={visibility:"hidden"};function oQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return $n(gg,py(py(py(py({},"".concat(gg,"-right"),bt(n)&&e&&bt(e.x)&&n>=e.x),"".concat(gg,"-left"),bt(n)&&e&&bt(e.x)&&n<e.x),"".concat(gg,"-bottom"),bt(r)&&e&&bt(e.y)&&r>=e.y),"".concat(gg,"-top"),bt(r)&&e&&bt(e.y)&&r<e.y))}function k6(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&bt(a[r]))return a[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var g=h,y=c[r];return g<y?Math.max(m,c[r]):Math.max(h,c[r])}var N=m+l,S=c[r]+d;return N>S?Math.max(h,c[r]):Math.max(m,c[r])}function lQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,m;return s.height>0&&s.width>0&&n?(h=k6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=k6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=lQ({translateX:h,translateY:m,useTranslate3d:l})):d=sQ,{cssProperties:d,cssClasses:oQ({translateX:h,translateY:m,coordinate:n})}}function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){oE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y9(r.key),r)}}function fQ(t,e,n){return e&&dQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQ(t,e,n){return e=E1(e),pQ(t,K9()?Reflect.construct(e,n||[],E1(t).constructor):e.apply(t,n))}function pQ(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQ(t)}function mQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K9=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E1(t)}function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function oE(t,e,n){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y9(t){var e=vQ(t,"string");return $p(e)=="symbol"?e:e+""}function vQ(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var j6=1,yQ=(function(t){function e(){var n;uQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hQ(this,e,[].concat(i)),oE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oE(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return gQ(e,t),fQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>j6||Math.abs(r.height-this.state.lastBoundingBox.height)>j6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,h=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,y=i.offset,N=i.position,S=i.reverseDirection,A=i.useTranslate3d,C=i.viewBox,I=i.wrapperStyle,k=cQ({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:y,position:N,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:C}),B=k.cssClasses,L=k.cssProperties,z=O6(O6({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},I);return je.createElement("div",{tabIndex:-1,className:B,style:z,ref:function(j){r.wrapperNode=j}},d)}}])})(be.PureComponent),xQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_m={isSsr:xQ()};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){RT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X9(r.key),r)}}function wQ(t,e,n){return e&&_Q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AQ(t,e,n){return e=N1(e),SQ(t,J9()?Reflect.construct(e,n||[],N1(t).constructor):e.apply(t,n))}function SQ(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J9=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(t)}function NQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function RT(t,e,n){return e=X9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9(t){var e=TQ(t,"string");return Hp(e)=="symbol"?e:e+""}function TQ(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CQ(t){return t.dataKey}function IQ(t,e){return je.isValidElement(t)?je.cloneElement(t,e):typeof t=="function"?je.createElement(t,e):je.createElement(rQ,e)}var vc=(function(t){function e(){return bQ(this,e),AQ(this,e,arguments)}return NQ(e,t),wQ(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,h=i.coordinate,m=i.filterNull,g=i.isAnimationActive,y=i.offset,N=i.payload,S=i.payloadUniqBy,A=i.position,C=i.reverseDirection,I=i.useTranslate3d,k=i.viewBox,B=i.wrapperStyle,L=N??[];m&&L.length&&(L=q9(N.filter(function(D){return D.value!=null&&(D.hide!==!0||r.props.includeHidden)}),S,CQ));var z=L.length>0;return je.createElement(yQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:z,offset:y,position:A,reverseDirection:C,useTranslate3d:I,viewBox:k,wrapperStyle:B},IQ(d,D6(D6({},this.props),{},{payload:L})))}}])})(be.PureComponent);RT(vc,"displayName","Tooltip");RT(vc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_m.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pA,L6;function RQ(){if(L6)return pA;L6=1;var t=Dc(),e=function(){return t.Date.now()};return pA=e,pA}var mA,F6;function kQ(){if(F6)return mA;F6=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return mA=e,mA}var gA,U6;function PQ(){if(U6)return gA;U6=1;var t=kQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return gA=n,gA}var vA,B6;function Q9(){if(B6)return vA;B6=1;var t=PQ(),e=af(),n=vm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||s.test(d)?l(d.slice(2),m?2:8):i.test(d)?r:+d}return vA=c,vA}var yA,q6;function OQ(){if(q6)return yA;q6=1;var t=af(),e=RQ(),n=Q9(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,d){var h,m,g,y,N,S,A=0,C=!1,I=!1,k=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(C=!!d.leading,I="maxWait"in d,g=I?i(n(d.maxWait)||0,c):g,k="trailing"in d?!!d.trailing:k);function B(F){var Q=h,se=m;return h=m=void 0,A=F,y=l.apply(se,Q),y}function L(F){return A=F,N=setTimeout(j,c),C?B(F):y}function z(F){var Q=F-S,se=F-A,W=c-Q;return I?a(W,g-se):W}function D(F){var Q=F-S,se=F-A;return S===void 0||Q>=c||Q<0||I&&se>=g}function j(){var F=e();if(D(F))return V(F);N=setTimeout(j,z(F))}function V(F){return N=void 0,k&&h?B(F):(h=m=void 0,y)}function Y(){N!==void 0&&clearTimeout(N),A=0,h=S=m=N=void 0}function q(){return N===void 0?y:V(e())}function M(){var F=e(),Q=D(F);if(h=arguments,m=this,S=F,Q){if(N===void 0)return L(S);if(I)return clearTimeout(N),N=setTimeout(j,c),B(S)}return N===void 0&&(N=setTimeout(j,c)),y}return M.cancel=Y,M.flush=q,M}return yA=s,yA}var xA,V6;function jQ(){if(V6)return xA;V6=1;var t=OQ(),e=af(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return xA=r,xA}var MQ=jQ();const Z9=mr(MQ);function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=FQ(t,"string");return u0(e)=="symbol"?e:e+""}function FQ(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UQ(t,e){return zQ(t)||VQ(t,e)||qQ(t,e)||BQ()}function BQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qQ(t,e){if(t){if(typeof t=="string")return $6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $6(t,e)}}function $6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function zQ(t){if(Array.isArray(t))return t}var $Q=be.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,g=t.maxHeight,y=t.children,N=t.debounce,S=N===void 0?0:N,A=t.id,C=t.className,I=t.onResize,k=t.style,B=k===void 0?{}:k,L=be.useRef(null),z=be.useRef();z.current=I,be.useImperativeHandle(e,function(){return Object.defineProperty(L.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),L.current},configurable:!0})});var D=be.useState({containerWidth:i.width,containerHeight:i.height}),j=UQ(D,2),V=j[0],Y=j[1],q=be.useCallback(function(F,Q){Y(function(se){var W=Math.round(F),ee=Math.round(Q);return se.containerWidth===W&&se.containerHeight===ee?se:{containerWidth:W,containerHeight:ee}})},[]);be.useEffect(function(){var F=function(xe){var ve,ce=xe[0].contentRect,O=ce.width,K=ce.height;q(O,K),(ve=z.current)===null||ve===void 0||ve.call(z,O,K)};S>0&&(F=Z9(F,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(F),se=L.current.getBoundingClientRect(),W=se.width,ee=se.height;return q(W,ee),Q.observe(L.current),function(){Q.disconnect()}},[q,S]);var M=be.useMemo(function(){var F=V.containerWidth,Q=V.containerHeight;if(F<0||Q<0)return null;_u(Uf(s)||Uf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),_u(!n||n>0,"The aspect(%s) must be greater than zero.",n);var se=Uf(s)?F:s,W=Uf(c)?Q:c;n&&n>0&&(se?W=se/n:W&&(se=W*n),g&&W>g&&(W=g)),_u(se>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,se,W,s,c,h,m,n);var ee=!Array.isArray(y)&&bu(y.type).endsWith("Chart");return je.Children.map(y,function(le){return je.isValidElement(le)?be.cloneElement(le,my({width:se,height:W},ee?{style:my({height:"100%",width:"100%",maxHeight:W,maxWidth:se},le.props.style)}:{})):le})},[n,y,c,g,m,h,V,s]);return je.createElement("div",{id:A?"".concat(A):void 0,className:$n("recharts-responsive-container",C),style:my(my({},B),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:g}),ref:L},M)}),eF=function(e){return null};eF.displayName="Cell";function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=WQ(t,"string");return d0(e)=="symbol"?e:e+""}function WQ(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var np={widthCache:{},cacheCount:0},KQ=2e3,YQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G6="recharts_measurement_span";function JQ(t){var e=cE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $g=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_m.isSsr)return{width:0,height:0};var r=JQ(n),i=JSON.stringify({text:e,copyStyle:r});if(np.widthCache[i])return np.widthCache[i];try{var a=document.getElementById(G6);a||(a=document.createElement("span"),a.setAttribute("id",G6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=cE(cE({},YQ),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return np.widthCache[i]=c,++np.cacheCount>KQ&&(np.cacheCount=0,np.widthCache={}),c}catch{return{width:0,height:0}}},XQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function T1(t,e){return tZ(t)||eZ(t,e)||ZQ(t,e)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(t,e){if(t){if(typeof t=="string")return W6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function tZ(t){if(Array.isArray(t))return t}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iZ(r.key),r)}}function rZ(t,e,n){return e&&K6(t.prototype,e),n&&K6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t){var e=aZ(t,"string");return f0(e)=="symbol"?e:e+""}function aZ(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lZ=Object.keys(tF),vp="NaN";function cZ(t,e){return t*tF[e]}var gy=(function(){function t(e,n){nZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!sZ.test(n)&&(this.num=NaN,this.unit=""),lZ.includes(n)&&(this.num=cZ(e,n),this.unit="px")}return rZ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=oZ.exec(n))!==null&&r!==void 0?r:[],a=T1(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function nF(t){if(t.includes(vp))return vp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Y6.exec(e))!==null&&n!==void 0?n:[],i=T1(r,4),a=i[1],s=i[2],l=i[3],c=gy.parse(a??""),d=gy.parse(l??""),h=s==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return vp;e=e.replace(Y6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=J6.exec(e))!==null&&m!==void 0?m:[],y=T1(g,4),N=y[1],S=y[2],A=y[3],C=gy.parse(N??""),I=gy.parse(A??""),k=S==="+"?C.add(I):C.subtract(I);if(k.isNaN())return vp;e=e.replace(J6,k.toString())}return e}var X6=/\(([^()]*)\)/;function uZ(t){for(var e=t;e.includes("(");){var n=X6.exec(e),r=T1(n,2),i=r[1];e=e.replace(X6,nF(i))}return e}function dZ(t){var e=t.replace(/\s+/g,"");return e=uZ(e),e=nF(e),e}function fZ(t){try{return dZ(t)}catch{return vp}}function bA(t){var e=fZ(t.slice(5,-1));return e===vp?"":e}var hZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pZ=["dx","dy","angle","className","breakAll"];function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function Q6(t,e){if(t==null)return{};var n=mZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z6(t,e){return xZ(t)||yZ(t,e)||vZ(t,e)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return eO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function xZ(t){if(Array.isArray(t))return t}var rF=/[ \f\n\r\t\v\u2028\u2029]+/,iF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];On(n)||(r?a=n.toString().split(""):a=n.toString().split(rF));var s=a.map(function(c){return{word:c,width:$g(c,i).width}}),l=r?0:$g("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},bZ=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=bt(s),m=l,g=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return se.reduce(function(W,ee){var le=ee.word,xe=ee.width,ve=W[W.length-1];if(ve&&(i==null||a||ve.width+xe+r<Number(i)))ve.words.push(le),ve.width+=xe+r;else{var ce={words:[le],width:xe};W.push(ce)}return W},[])},y=g(n),N=function(se){return se.reduce(function(W,ee){return W.width>ee.width?W:ee})};if(!h)return y;for(var S="",A=function(se){var W=m.slice(0,se),ee=iF({breakAll:d,style:c,children:W+S}).wordsWithComputedWidth,le=g(ee),xe=le.length>s||N(le).width>Number(i);return[xe,le]},C=0,I=m.length-1,k=0,B;C<=I&&k<=m.length-1;){var L=Math.floor((C+I)/2),z=L-1,D=A(z),j=Z6(D,2),V=j[0],Y=j[1],q=A(L),M=Z6(q,1),F=M[0];if(!V&&!F&&(C=L+1),V&&F&&(I=L-1),!V&&F){B=Y;break}k++}return B||y},tO=function(e){var n=On(e)?[]:e.toString().split(rF);return[{words:n}]},_Z=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!_m.isSsr){var c,d,h=iF({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;c=m,d=g}else return tO(i);return bZ({breakAll:s,children:i,maxLines:l,style:a},c,d,n,r)}return tO(i)},nO="#808080",C1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,N=e.verticalAnchor,S=N===void 0?"end":N,A=e.fill,C=A===void 0?nO:A,I=Q6(e,hZ),k=be.useMemo(function(){return _Z({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:m,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,m,I.style,I.width]),B=I.dx,L=I.dy,z=I.angle,D=I.className,j=I.breakAll,V=Q6(I,pZ);if(!Wi(r)||!Wi(a))return null;var Y=r+(bt(B)?B:0),q=a+(bt(L)?L:0),M;switch(S){case"start":M=bA("calc(".concat(d,")"));break;case"middle":M=bA("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:M=bA("calc(".concat(k.length-1," * -").concat(l,")"));break}var F=[];if(m){var Q=k[0].width,se=I.width;F.push("scale(".concat((bt(se)?se/Q:1)/Q,")"))}return z&&F.push("rotate(".concat(z,", ").concat(Y,", ").concat(q,")")),F.length&&(V.transform=F.join(" ")),je.createElement("text",uE({},En(V,!0),{x:Y,y:q,className:$n("recharts-text",D),textAnchor:y,fill:C.includes("url")?nO:C}),k.map(function(W,ee){var le=W.words.join(j?"":" ");return je.createElement("tspan",{x:Y,dy:ee===0?M:l,key:"".concat(le,"-").concat(ee)},le)}))};function Ud(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kT(t){let e,n,r;t.length!==2?(e=Ud,n=(l,c)=>Ud(t(l),c),r=(l,c)=>t(l)-c):(e=t===Ud||t===wZ?t:AZ,n=t,r=t);function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(l,c,d=0,h=l.length){const m=i(l,c,d,h-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function AZ(){return 0}function aF(t){return t===null?NaN:+t}function*SZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const EZ=kT(Ud),iv=EZ.right;kT(aF).center;class rO extends Map{constructor(e,n=CZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(iO(this,e))}has(e){return super.has(iO(this,e))}set(e,n){return super.set(NZ(this,e),n)}delete(e){return super.delete(TZ(this,e))}}function iO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function NZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function TZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function CZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function IZ(t=Ud){if(t===Ud)return sF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const RZ=Math.sqrt(50),kZ=Math.sqrt(10),PZ=Math.sqrt(2);function I1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=RZ?10:a>=kZ?5:a>=PZ?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?I1(t,e,n*2):[l,c,d]}function dE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?I1(e,t,n):I1(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function fE(t,e,n){return e=+e,t=+t,n=+n,I1(t,e,n)[2]}function hE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fE(e,t,n):fE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sF:IZ(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+g)),N=Math.min(r,Math.floor(e+(c-d)*m/c+g));oF(t,e,y,N,i)}const a=t[e];let s=n,l=r;for(vg(t,n,e),i(t[r],a)>0&&vg(t,n,r);s<l;){for(vg(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?vg(t,n,l):(++l,vg(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function vg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function OZ(t,e,n){if(t=Float64Array.from(SZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sO(t);if(e>=1)return aO(t);var r,i=(r-1)*e,a=Math.floor(i),s=aO(oF(t,a).subarray(0,a+1)),l=sO(t.subarray(a+1));return s+(l-s)*(i-a)}}function jZ(t,e,n=aF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function MZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Wo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Du(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pE=Symbol("implicit");function PT(){var t=new rO,e=[],n=[],r=pE;function i(a){let s=t.get(a);if(s===void 0){if(r!==pE)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new rO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return PT(e,n).unknown(r)},Wo.apply(i,arguments),i}function h0(){var t=PT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var g=e().length,y=i<r,N=y?i:r,S=y?r:i;a=(S-N)/Math.max(1,g-c+d*2),l&&(a=Math.floor(a)),N+=(S-N-a*(g-c))*h,s=a*(1-c),l&&(N=Math.round(N),s=Math.round(s));var A=MZ(g).map(function(C){return N+a*C});return n(y?A.reverse():A)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return h0(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},Wo.apply(m(),arguments)}function lF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lF(e())},t}function Hg(){return lF(h0.apply(null,arguments).paddingInner(1))}function OT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function av(){}var p0=.7,R1=1/p0,Tp="\\s*([+-]?\\d+)\\s*",m0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DZ=/^#([0-9a-f]{3,8})$/,LZ=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),FZ=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),UZ=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${m0}\\)$`),BZ=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${m0}\\)$`),qZ=new RegExp(`^hsl\\(${m0},${Sc},${Sc}\\)$`),VZ=new RegExp(`^hsla\\(${m0},${Sc},${Sc},${m0}\\)$`),oO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OT(av,g0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lO,formatHex:lO,formatHex8:zZ,formatHsl:$Z,formatRgb:cO,toString:cO});function lO(){return this.rgb().formatHex()}function zZ(){return this.rgb().formatHex8()}function $Z(){return uF(this).formatHsl()}function cO(){return this.rgb().formatRgb()}function g0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=DZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uO(e):n===3?new Us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LZ.exec(t))?new Us(e[1],e[2],e[3],1):(e=FZ.exec(t))?new Us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UZ.exec(t))?vy(e[1],e[2],e[3],e[4]):(e=BZ.exec(t))?vy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qZ.exec(t))?hO(e[1],e[2]/100,e[3]/100,1):(e=VZ.exec(t))?hO(e[1],e[2]/100,e[3]/100,e[4]):oO.hasOwnProperty(t)?uO(oO[t]):t==="transparent"?new Us(NaN,NaN,NaN,0):null}function uO(t){return new Us(t>>16&255,t>>8&255,t&255,1)}function vy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Us(t,e,n,r)}function HZ(t){return t instanceof av||(t=g0(t)),t?(t=t.rgb(),new Us(t.r,t.g,t.b,t.opacity)):new Us}function mE(t,e,n,r){return arguments.length===1?HZ(t):new Us(t,e,n,r??1)}function Us(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}OT(Us,mE,cF(av,{brighter(t){return t=t==null?R1:Math.pow(R1,t),new Us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?p0:Math.pow(p0,t),new Us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Us(Wf(this.r),Wf(this.g),Wf(this.b),k1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dO,formatHex:dO,formatHex8:GZ,formatRgb:fO,toString:fO}));function dO(){return`#${Bf(this.r)}${Bf(this.g)}${Bf(this.b)}`}function GZ(){return`#${Bf(this.r)}${Bf(this.g)}${Bf(this.b)}${Bf((isNaN(this.opacity)?1:this.opacity)*255)}`}function fO(){const t=k1(this.opacity);return`${t===1?"rgb(":"rgba("}${Wf(this.r)}, ${Wf(this.g)}, ${Wf(this.b)}${t===1?")":`, ${t})`}`}function k1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bf(t){return t=Wf(t),(t<16?"0":"")+t.toString(16)}function hO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new El(t,e,n,r)}function uF(t){if(t instanceof El)return new El(t.h,t.s,t.l,t.opacity);if(t instanceof av||(t=g0(t)),!t)return new El;if(t instanceof El)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new El(s,l,c,t.opacity)}function WZ(t,e,n,r){return arguments.length===1?uF(t):new El(t,e,n,r??1)}function El(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}OT(El,WZ,cF(av,{brighter(t){return t=t==null?R1:Math.pow(R1,t),new El(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?p0:Math.pow(p0,t),new El(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Us(_A(t>=240?t-240:t+120,i,r),_A(t,i,r),_A(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new El(pO(this.h),yy(this.s),yy(this.l),k1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=k1(this.opacity);return`${t===1?"hsl(":"hsla("}${pO(this.h)}, ${yy(this.s)*100}%, ${yy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pO(t){return t=(t||0)%360,t<0?t+360:t}function yy(t){return Math.max(0,Math.min(1,t||0))}function _A(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jT=t=>()=>t;function KZ(t,e){return function(n){return t+n*e}}function YZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JZ(t){return(t=+t)==1?dF:function(e,n){return n-e?YZ(e,n,t):jT(isNaN(e)?n:e)}}function dF(t,e){var n=e-t;return n?KZ(t,n):jT(isNaN(t)?e:t)}const mO=(function t(e){var n=JZ(e);function r(i,a){var s=n((i=mE(i)).r,(a=mE(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=dF(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function XZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function QZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ZZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=wm(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function eee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function P1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wm(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wA=new RegExp(gE.source,"g");function nee(t){return function(){return t}}function ree(t){return function(e){return t(e)+""}}function iee(t,e){var n=gE.lastIndex=wA.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=gE.exec(t))&&(i=wA.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:P1(r,i)})),n=wA.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?ree(c[0].x):nee(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function wm(t,e){var n=typeof e,r;return e==null||n==="boolean"?jT(e):(n==="number"?P1:n==="string"?(r=g0(e))?(e=r,mO):iee:e instanceof g0?mO:e instanceof Date?eee:QZ(e)?XZ:Array.isArray(e)?ZZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tee:P1)(t,e)}function MT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aee(t,e){e===void 0&&(e=t,t=wm);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function see(t){return function(){return t}}function O1(t){return+t}var gO=[0,1];function ms(t){return t}function vE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:see(isNaN(e)?NaN:.5)}function oee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lee(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=vE(i,r),a=n(s,a)):(r=vE(r,i),a=n(a,s)),function(l){return a(r(l))}}function cee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=vE(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=iv(t,l,1,r)-1;return a[c](i[c](l))}}function sv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zx(){var t=gO,e=gO,n=wm,r,i,a,s=ms,l,c,d;function h(){var g=Math.min(t.length,e.length);return s!==ms&&(s=oee(t[0],t[g-1])),l=g>2?cee:lee,c=d=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(r),e,n)))(r(s(g)))}return m.invert=function(g){return s(i((d||(d=l(e,t.map(r),P1)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,O1),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=MT,h()},m.clamp=function(g){return arguments.length?(s=g?!0:ms,h()):s!==ms},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,y){return r=g,i=y,h()}}function DT(){return Zx()(ms,ms)}function uee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function j1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gp(t){return t=j1(Math.abs(t)),t?t[1]:NaN}function dee(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function fee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function v0(t){if(!(e=hee.exec(t)))throw new Error("invalid format: "+t);var e;return new LT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}v0.prototype=LT.prototype;function LT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var M1;function mee(t,e){var n=j1(t,e);if(!n)return M1=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(M1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+j1(t,Math.max(0,e+a-1))[0]}function vO(t,e){var n=j1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vO(t*100,e),r:vO,s:mee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xO(t){return t}var bO=Array.prototype.map,_O=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gee(t){var e=t.grouping===void 0||t.thousands===void 0?xO:dee(bO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?xO:fee(bO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,g){m=v0(m);var y=m.fill,N=m.align,S=m.sign,A=m.symbol,C=m.zero,I=m.width,k=m.comma,B=m.precision,L=m.trim,z=m.type;z==="n"?(k=!0,z="g"):yO[z]||(B===void 0&&(B=12),L=!0,z="g"),(C||y==="0"&&N==="=")&&(C=!0,y="0",N="=");var D=(g&&g.prefix!==void 0?g.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():""),j=(A==="$"?r:/[%p]/.test(z)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),V=yO[z],Y=/[defgprs%]/.test(z);B=B===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function q(M){var F=D,Q=j,se,W,ee;if(z==="c")Q=V(M)+Q,M="";else{M=+M;var le=M<0||1/M<0;if(M=isNaN(M)?c:V(Math.abs(M),B),L&&(M=pee(M)),le&&+M==0&&S!=="+"&&(le=!1),F=(le?S==="("?S:l:S==="-"||S==="("?"":S)+F,Q=(z==="s"&&!isNaN(M)&&M1!==void 0?_O[8+M1/3]:"")+Q+(le&&S==="("?")":""),Y){for(se=-1,W=M.length;++se<W;)if(ee=M.charCodeAt(se),48>ee||ee>57){Q=(ee===46?i+M.slice(se+1):M.slice(se))+Q,M=M.slice(0,se);break}}}k&&!C&&(M=e(M,1/0));var xe=F.length+M.length+Q.length,ve=xe<I?new Array(I-xe+1).join(y):"";switch(k&&C&&(M=e(ve+M,ve.length?I-Q.length:1/0),ve=""),N){case"<":M=F+M+Q+ve;break;case"=":M=F+ve+M+Q;break;case"^":M=ve.slice(0,xe=ve.length>>1)+F+M+Q+ve.slice(xe);break;default:M=ve+F+M+Q;break}return a(M)}return q.toString=function(){return m+""},q}function h(m,g){var y=Math.max(-8,Math.min(8,Math.floor(Gp(g)/3)))*3,N=Math.pow(10,-y),S=d((m=v0(m),m.type="f",m),{suffix:_O[8+y/3]});return function(A){return S(N*A)}}return{format:d,formatPrefix:h}}var xy,FT,fF;vee({thousands:",",grouping:[3],currency:["$",""]});function vee(t){return xy=gee(t),FT=xy.format,fF=xy.formatPrefix,xy}function yee(t){return Math.max(0,-Gp(Math.abs(t)))}function xee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gp(e)/3)))*3-Gp(Math.abs(t)))}function bee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gp(e)-Gp(t))+1}function hF(t,e,n,r){var i=hE(t,e,n),a;switch(r=v0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=xee(i,s))&&(r.precision=a),fF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=bee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yee(i))&&(r.precision=a-(r.type==="%")*2);break}}return FT(r)}function of(t){var e=t.domain;return t.ticks=function(n){var r=e();return dE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,d,h=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=fE(s,l,n),d===c)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function D1(){var t=DT();return t.copy=function(){return sv(t,D1())},Wo.apply(t,arguments),of(t)}function pF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,O1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pF(t).unknown(e)},t=arguments.length?Array.from(t,O1):[0,1],of(n)}function mF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wO(t){return Math.log(t)}function AO(t){return Math.exp(t)}function _ee(t){return-Math.log(-t)}function wee(t){return-Math.exp(-t)}function Aee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function See(t){return t===10?Aee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Eee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function SO(t){return(e,n)=>-t(-e,n)}function UT(t){const e=t(wO,AO),n=e.domain;let r=10,i,a;function s(){return i=Eee(r),a=See(r),n()[0]<0?(i=SO(i),a=SO(a),t(_ee,wee)):t(wO,AO),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=i(d),y=i(h),N,S;const A=l==null?10:+l;let C=[];if(!(r%1)&&y-g<A){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(N=1;N<r;++N)if(S=g<0?N/a(-g):N*a(g),!(S<d)){if(S>h)break;C.push(S)}}else for(;g<=y;++g)for(N=r-1;N>=1;--N)if(S=g>0?N/a(-g):N*a(g),!(S<d)){if(S>h)break;C.push(S)}C.length*2<A&&(C=dE(d,h,A))}else C=dE(g,y,Math.min(y-g,A)).map(a);return m?C.reverse():C},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=v0(c)).precision==null&&(c.trim=!0),c=FT(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},e.nice=()=>n(mF(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function gF(){const t=UT(Zx()).domain([1,10]);return t.copy=()=>sv(t,gF()).base(t.base()),Wo.apply(t,arguments),t}function EO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BT(t){var e=1,n=t(EO(e),NO(e));return n.constant=function(r){return arguments.length?t(EO(e=+r),NO(e)):e},of(n)}function vF(){var t=BT(Zx());return t.copy=function(){return sv(t,vF()).constant(t.constant())},Wo.apply(t,arguments)}function TO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tee(t){return t<0?-t*t:t*t}function qT(t){var e=t(ms,ms),n=1;function r(){return n===1?t(ms,ms):n===.5?t(Nee,Tee):t(TO(n),TO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},of(e)}function VT(){var t=qT(Zx());return t.copy=function(){return sv(t,VT()).exponent(t.exponent())},Wo.apply(t,arguments),t}function Cee(){return VT.apply(null,arguments).exponent(.5)}function CO(t){return Math.sign(t)*t*t}function Iee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yF(){var t=DT(),e=[0,1],n=!1,r;function i(a){var s=Iee(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(CO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,O1)).map(CO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wo.apply(i,arguments),of(i)}function xF(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=jZ(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[iv(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ud),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return xF().domain(t).range(e).unknown(r)},Wo.apply(a,arguments)}function bF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[iv(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return bF().domain([t,e]).range(i).unknown(a)},Wo.apply(of(s),arguments)}function _F(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[iv(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _F().domain(t).range(e).unknown(n)},Wo.apply(i,arguments)}const AA=new Date,SA=new Date;function Yi(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return c},i.filter=a=>Yi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(AA.setTime(+a),SA.setTime(+s),t(AA),t(SA),Math.floor(n(AA,SA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const L1=Yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);L1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):L1);L1.range;const pu=1e3,Vo=pu*60,mu=Vo*60,Au=mu*24,zT=Au*7,IO=Au*30,EA=Au*365,qf=Yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pu)},(t,e)=>(e-t)/pu,t=>t.getUTCSeconds());qf.range;const $T=Yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pu)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getMinutes());$T.range;const HT=Yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getUTCMinutes());HT.range;const GT=Yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pu-t.getMinutes()*Vo)},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getHours());GT.range;const WT=Yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getUTCHours());WT.range;const ov=Yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vo)/Au,t=>t.getDate()-1);ov.range;const eb=Yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Au,t=>t.getUTCDate()-1);eb.range;const wF=Yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Au,t=>Math.floor(t/Au));wF.range;function hh(t){return Yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Vo)/zT)}const tb=hh(0),F1=hh(1),Ree=hh(2),kee=hh(3),Wp=hh(4),Pee=hh(5),Oee=hh(6);tb.range;F1.range;Ree.range;kee.range;Wp.range;Pee.range;Oee.range;function ph(t){return Yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/zT)}const nb=ph(0),U1=ph(1),jee=ph(2),Mee=ph(3),Kp=ph(4),Dee=ph(5),Lee=ph(6);nb.range;U1.range;jee.range;Mee.range;Kp.range;Dee.range;Lee.range;const KT=Yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());KT.range;const YT=Yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YT.range;const Su=Yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Su.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Su.range;const Eu=Yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Eu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Eu.range;function AF(t,e,n,r,i,a){const s=[[qf,1,pu],[qf,5,5*pu],[qf,15,15*pu],[qf,30,30*pu],[a,1,Vo],[a,5,5*Vo],[a,15,15*Vo],[a,30,30*Vo],[i,1,mu],[i,3,3*mu],[i,6,6*mu],[i,12,12*mu],[r,1,Au],[r,2,2*Au],[n,1,zT],[e,1,IO],[e,3,3*IO],[t,1,EA]];function l(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:c(d,h,m),N=y?y.range(d,+h+1):[];return g?N.reverse():N}function c(d,h,m){const g=Math.abs(h-d)/m,y=kT(([,,A])=>A).right(s,g);if(y===s.length)return t.every(hE(d/EA,h/EA,m));if(y===0)return L1.every(Math.max(hE(d,h,m),1));const[N,S]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return N.every(S)}return[l,c]}const[Fee,Uee]=AF(Eu,YT,nb,wF,WT,HT),[Bee,qee]=AF(Su,KT,tb,ov,GT,$T);function NA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function TA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=xg(i),h=bg(i),m=xg(a),g=bg(a),y=xg(s),N=bg(s),S=xg(l),A=bg(l),C=xg(c),I=bg(c),k={a:ee,A:le,b:xe,B:ve,c:null,d:MO,e:MO,f:dte,g:_te,G:Ate,H:lte,I:cte,j:ute,L:SF,m:fte,M:hte,p:ce,q:O,Q:FO,s:UO,S:pte,u:mte,U:gte,V:vte,w:yte,W:xte,x:null,X:null,y:bte,Y:wte,Z:Ste,"%":LO},B={a:K,A:H,b:Z,B:te,c:null,d:DO,e:DO,f:Cte,g:Fte,G:Bte,H:Ete,I:Nte,j:Tte,L:NF,m:Ite,M:Rte,p:me,q:_e,Q:FO,s:UO,S:kte,u:Pte,U:Ote,V:jte,w:Mte,W:Dte,x:null,X:null,y:Lte,Y:Ute,Z:qte,"%":LO},L={a:Y,A:q,b:M,B:F,c:Q,d:OO,e:OO,f:ite,g:PO,G:kO,H:jO,I:jO,j:ete,L:rte,m:Zee,M:tte,p:V,q:Qee,Q:ste,s:ote,S:nte,u:Wee,U:Kee,V:Yee,w:Gee,W:Jee,x:se,X:W,y:PO,Y:kO,Z:Xee,"%":ate};k.x=z(n,k),k.X=z(r,k),k.c=z(e,k),B.x=z(n,B),B.X=z(r,B),B.c=z(e,B);function z(ie,Ae){return function(Re){var Se=[],We=-1,tt=0,ge=ie.length,ue,ut,Ze;for(Re instanceof Date||(Re=new Date(+Re));++We<ge;)ie.charCodeAt(We)===37&&(Se.push(ie.slice(tt,We)),(ut=RO[ue=ie.charAt(++We)])!=null?ue=ie.charAt(++We):ut=ue==="e"?" ":"0",(Ze=Ae[ue])&&(ue=Ze(Re,ut)),Se.push(ue),tt=We+1);return Se.push(ie.slice(tt,We)),Se.join("")}}function D(ie,Ae){return function(Re){var Se=yg(1900,void 0,1),We=j(Se,ie,Re+="",0),tt,ge;if(We!=Re.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(Ae&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(tt=TA(yg(Se.y,0,1)),ge=tt.getUTCDay(),tt=ge>4||ge===0?U1.ceil(tt):U1(tt),tt=eb.offset(tt,(Se.V-1)*7),Se.y=tt.getUTCFullYear(),Se.m=tt.getUTCMonth(),Se.d=tt.getUTCDate()+(Se.w+6)%7):(tt=NA(yg(Se.y,0,1)),ge=tt.getDay(),tt=ge>4||ge===0?F1.ceil(tt):F1(tt),tt=ov.offset(tt,(Se.V-1)*7),Se.y=tt.getFullYear(),Se.m=tt.getMonth(),Se.d=tt.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),ge="Z"in Se?TA(yg(Se.y,0,1)).getUTCDay():NA(yg(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(ge+5)%7:Se.w+Se.U*7-(ge+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,TA(Se)):NA(Se)}}function j(ie,Ae,Re,Se){for(var We=0,tt=Ae.length,ge=Re.length,ue,ut;We<tt;){if(Se>=ge)return-1;if(ue=Ae.charCodeAt(We++),ue===37){if(ue=Ae.charAt(We++),ut=L[ue in RO?Ae.charAt(We++):ue],!ut||(Se=ut(ie,Re,Se))<0)return-1}else if(ue!=Re.charCodeAt(Se++))return-1}return Se}function V(ie,Ae,Re){var Se=d.exec(Ae.slice(Re));return Se?(ie.p=h.get(Se[0].toLowerCase()),Re+Se[0].length):-1}function Y(ie,Ae,Re){var Se=y.exec(Ae.slice(Re));return Se?(ie.w=N.get(Se[0].toLowerCase()),Re+Se[0].length):-1}function q(ie,Ae,Re){var Se=m.exec(Ae.slice(Re));return Se?(ie.w=g.get(Se[0].toLowerCase()),Re+Se[0].length):-1}function M(ie,Ae,Re){var Se=C.exec(Ae.slice(Re));return Se?(ie.m=I.get(Se[0].toLowerCase()),Re+Se[0].length):-1}function F(ie,Ae,Re){var Se=S.exec(Ae.slice(Re));return Se?(ie.m=A.get(Se[0].toLowerCase()),Re+Se[0].length):-1}function Q(ie,Ae,Re){return j(ie,e,Ae,Re)}function se(ie,Ae,Re){return j(ie,n,Ae,Re)}function W(ie,Ae,Re){return j(ie,r,Ae,Re)}function ee(ie){return s[ie.getDay()]}function le(ie){return a[ie.getDay()]}function xe(ie){return c[ie.getMonth()]}function ve(ie){return l[ie.getMonth()]}function ce(ie){return i[+(ie.getHours()>=12)]}function O(ie){return 1+~~(ie.getMonth()/3)}function K(ie){return s[ie.getUTCDay()]}function H(ie){return a[ie.getUTCDay()]}function Z(ie){return c[ie.getUTCMonth()]}function te(ie){return l[ie.getUTCMonth()]}function me(ie){return i[+(ie.getUTCHours()>=12)]}function _e(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ae=z(ie+="",k);return Ae.toString=function(){return ie},Ae},parse:function(ie){var Ae=D(ie+="",!1);return Ae.toString=function(){return ie},Ae},utcFormat:function(ie){var Ae=z(ie+="",B);return Ae.toString=function(){return ie},Ae},utcParse:function(ie){var Ae=D(ie+="",!0);return Ae.toString=function(){return ie},Ae}}}var RO={"-":"",_:" ",0:"0"},ca=/^\s*\d+/,zee=/^%/,$ee=/[\\^$*+?|[\]().{}]/g;function Yn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Hee(t){return t.replace($ee,"\\$&")}function xg(t){return new RegExp("^(?:"+t.map(Hee).join("|")+")","i")}function bg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Gee(t,e,n){var r=ca.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wee(t,e,n){var r=ca.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kee(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Yee(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Jee(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kO(t,e,n){var r=ca.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function PO(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qee(t,e,n){var r=ca.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Zee(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OO(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ete(t,e,n){var r=ca.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jO(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tte(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nte(t,e,n){var r=ca.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rte(t,e,n){var r=ca.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ite(t,e,n){var r=ca.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ate(t,e,n){var r=zee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ste(t,e,n){var r=ca.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ote(t,e,n){var r=ca.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function MO(t,e){return Yn(t.getDate(),e,2)}function lte(t,e){return Yn(t.getHours(),e,2)}function cte(t,e){return Yn(t.getHours()%12||12,e,2)}function ute(t,e){return Yn(1+ov.count(Su(t),t),e,3)}function SF(t,e){return Yn(t.getMilliseconds(),e,3)}function dte(t,e){return SF(t,e)+"000"}function fte(t,e){return Yn(t.getMonth()+1,e,2)}function hte(t,e){return Yn(t.getMinutes(),e,2)}function pte(t,e){return Yn(t.getSeconds(),e,2)}function mte(t){var e=t.getDay();return e===0?7:e}function gte(t,e){return Yn(tb.count(Su(t)-1,t),e,2)}function EF(t){var e=t.getDay();return e>=4||e===0?Wp(t):Wp.ceil(t)}function vte(t,e){return t=EF(t),Yn(Wp.count(Su(t),t)+(Su(t).getDay()===4),e,2)}function yte(t){return t.getDay()}function xte(t,e){return Yn(F1.count(Su(t)-1,t),e,2)}function bte(t,e){return Yn(t.getFullYear()%100,e,2)}function _te(t,e){return t=EF(t),Yn(t.getFullYear()%100,e,2)}function wte(t,e){return Yn(t.getFullYear()%1e4,e,4)}function Ate(t,e){var n=t.getDay();return t=n>=4||n===0?Wp(t):Wp.ceil(t),Yn(t.getFullYear()%1e4,e,4)}function Ste(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yn(e/60|0,"0",2)+Yn(e%60,"0",2)}function DO(t,e){return Yn(t.getUTCDate(),e,2)}function Ete(t,e){return Yn(t.getUTCHours(),e,2)}function Nte(t,e){return Yn(t.getUTCHours()%12||12,e,2)}function Tte(t,e){return Yn(1+eb.count(Eu(t),t),e,3)}function NF(t,e){return Yn(t.getUTCMilliseconds(),e,3)}function Cte(t,e){return NF(t,e)+"000"}function Ite(t,e){return Yn(t.getUTCMonth()+1,e,2)}function Rte(t,e){return Yn(t.getUTCMinutes(),e,2)}function kte(t,e){return Yn(t.getUTCSeconds(),e,2)}function Pte(t){var e=t.getUTCDay();return e===0?7:e}function Ote(t,e){return Yn(nb.count(Eu(t)-1,t),e,2)}function TF(t){var e=t.getUTCDay();return e>=4||e===0?Kp(t):Kp.ceil(t)}function jte(t,e){return t=TF(t),Yn(Kp.count(Eu(t),t)+(Eu(t).getUTCDay()===4),e,2)}function Mte(t){return t.getUTCDay()}function Dte(t,e){return Yn(U1.count(Eu(t)-1,t),e,2)}function Lte(t,e){return Yn(t.getUTCFullYear()%100,e,2)}function Fte(t,e){return t=TF(t),Yn(t.getUTCFullYear()%100,e,2)}function Ute(t,e){return Yn(t.getUTCFullYear()%1e4,e,4)}function Bte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Kp(t):Kp.ceil(t),Yn(t.getUTCFullYear()%1e4,e,4)}function qte(){return"+0000"}function LO(){return"%"}function FO(t){return+t}function UO(t){return Math.floor(+t/1e3)}var rp,CF,IF;Vte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vte(t){return rp=Vee(t),CF=rp.format,rp.parse,IF=rp.utcFormat,rp.utcParse,rp}function zte(t){return new Date(t)}function $te(t){return t instanceof Date?+t:+new Date(+t)}function JT(t,e,n,r,i,a,s,l,c,d){var h=DT(),m=h.invert,g=h.domain,y=d(".%L"),N=d(":%S"),S=d("%I:%M"),A=d("%I %p"),C=d("%a %d"),I=d("%b %d"),k=d("%B"),B=d("%Y");function L(z){return(c(z)<z?y:l(z)<z?N:s(z)<z?S:a(z)<z?A:r(z)<z?i(z)<z?C:I:n(z)<z?k:B)(z)}return h.invert=function(z){return new Date(m(z))},h.domain=function(z){return arguments.length?g(Array.from(z,$te)):g().map(zte)},h.ticks=function(z){var D=g();return t(D[0],D[D.length-1],z??10)},h.tickFormat=function(z,D){return D==null?L:d(D)},h.nice=function(z){var D=g();return(!z||typeof z.range!="function")&&(z=e(D[0],D[D.length-1],z??10)),z?g(mF(D,z)):h},h.copy=function(){return sv(h,JT(t,e,n,r,i,a,s,l,c,d))},h}function Hte(){return Wo.apply(JT(Bee,qee,Su,KT,tb,ov,GT,$T,qf,CF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gte(){return Wo.apply(JT(Fee,Uee,Eu,YT,nb,eb,WT,HT,qf,IF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rb(){var t=0,e=1,n,r,i,a,s=ms,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(g){var y,N;return arguments.length?([y,N]=g,s=m(y,N),d):[s(0),s(1)]}}return d.range=h(wm),d.rangeRound=h(MT),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function lf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RF(){var t=of(rb()(ms));return t.copy=function(){return lf(t,RF())},Du.apply(t,arguments)}function kF(){var t=UT(rb()).domain([1,10]);return t.copy=function(){return lf(t,kF()).base(t.base())},Du.apply(t,arguments)}function PF(){var t=BT(rb());return t.copy=function(){return lf(t,PF()).constant(t.constant())},Du.apply(t,arguments)}function XT(){var t=qT(rb());return t.copy=function(){return lf(t,XT()).exponent(t.exponent())},Du.apply(t,arguments)}function Wte(){return XT.apply(null,arguments).exponent(.5)}function OF(){var t=[],e=ms;function n(r){if(r!=null&&!isNaN(r=+r))return e((iv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ud),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>OZ(t,a/r))},n.copy=function(){return OF(e).domain(t)},Du.apply(n,arguments)}function ib(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,d=ms,h,m=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+h(S))-a)*(r*S<r*a?l:c),d(m?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(S){return arguments.length?(m=!!S,y):m},y.interpolator=function(S){return arguments.length?(d=S,y):d};function N(S){return function(A){var C,I,k;return arguments.length?([C,I,k]=A,d=aee(S,[C,I,k]),y):[d(0),d(.5),d(1)]}}return y.range=N(wm),y.rangeRound=N(MT),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return h=S,i=S(t),a=S(e),s=S(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function jF(){var t=of(ib()(ms));return t.copy=function(){return lf(t,jF())},Du.apply(t,arguments)}function MF(){var t=UT(ib()).domain([.1,1,10]);return t.copy=function(){return lf(t,MF()).base(t.base())},Du.apply(t,arguments)}function DF(){var t=BT(ib());return t.copy=function(){return lf(t,DF()).constant(t.constant())},Du.apply(t,arguments)}function QT(){var t=qT(ib());return t.copy=function(){return lf(t,QT()).exponent(t.exponent())},Du.apply(t,arguments)}function Kte(){return QT.apply(null,arguments).exponent(.5)}const BO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h0,scaleDiverging:jF,scaleDivergingLog:MF,scaleDivergingPow:QT,scaleDivergingSqrt:Kte,scaleDivergingSymlog:DF,scaleIdentity:pF,scaleImplicit:pE,scaleLinear:D1,scaleLog:gF,scaleOrdinal:PT,scalePoint:Hg,scalePow:VT,scaleQuantile:xF,scaleQuantize:bF,scaleRadial:yF,scaleSequential:RF,scaleSequentialLog:kF,scaleSequentialPow:XT,scaleSequentialQuantile:OF,scaleSequentialSqrt:Wte,scaleSequentialSymlog:PF,scaleSqrt:Cee,scaleSymlog:vF,scaleThreshold:_F,scaleTime:Hte,scaleUtc:Gte,tickFormat:hF},Symbol.toStringTag,{value:"Module"}));var CA,qO;function LF(){if(qO)return CA;qO=1;var t=vm();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,h=l}return h}return CA=e,CA}var IA,VO;function Yte(){if(VO)return IA;VO=1;function t(e,n){return e>n}return IA=t,IA}var RA,zO;function Jte(){if(zO)return RA;zO=1;var t=LF(),e=Yte(),n=bm();function r(i){return i&&i.length?t(i,n,e):void 0}return RA=r,RA}var Xte=Jte();const Pd=mr(Xte);var kA,$O;function Qte(){if($O)return kA;$O=1;function t(e,n){return e<n}return kA=t,kA}var PA,HO;function Zte(){if(HO)return PA;HO=1;var t=LF(),e=Qte(),n=bm();function r(i){return i&&i.length?t(i,n,e):void 0}return PA=r,PA}var ene=Zte();const ab=mr(ene);var OA,GO;function tne(){if(GO)return OA;GO=1;var t=pT(),e=sf(),n=G9(),r=Bs();function i(a,s){var l=r(a)?t:n;return l(a,e(s,3))}return OA=i,OA}var jA,WO;function nne(){if(WO)return jA;WO=1;var t=$9(),e=tne();function n(r,i){return t(e(r,i),1)}return jA=n,jA}var rne=nne();const ine=mr(rne);var MA,KO;function ane(){if(KO)return MA;KO=1;var t=TT();function e(n,r){return t(n,r)}return MA=e,MA}var sne=ane();const y0=mr(sne);var Am=1e9,one={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eC,Hr=!0,Ho="[DecimalError] ",Kf=Ho+"Invalid argument: ",ZT=Ho+"Exponent out of range: ",Sm=Math.floor,jf=Math.pow,lne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fo,sa=1e7,jr=7,FF=9007199254740991,B1=Sm(FF/jr),Pt={};Pt.absoluteValue=Pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pt.comparedTo=Pt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pt.decimalPlaces=Pt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*jr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pt.dividedBy=Pt.div=function(t){return wu(this,new this.constructor(t))};Pt.dividedToIntegerBy=Pt.idiv=function(t){var e=this,n=e.constructor;return wr(wu(e,new n(t),0,1),n.precision)};Pt.equals=Pt.eq=function(t){return!this.cmp(t)};Pt.exponent=function(){return Pi(this)};Pt.greaterThan=Pt.gt=function(t){return this.cmp(t)>0};Pt.greaterThanOrEqualTo=Pt.gte=function(t){return this.cmp(t)>=0};Pt.isInteger=Pt.isint=function(){return this.e>this.d.length-2};Pt.isNegative=Pt.isneg=function(){return this.s<0};Pt.isPositive=Pt.ispos=function(){return this.s>0};Pt.isZero=function(){return this.s===0};Pt.lessThan=Pt.lt=function(t){return this.cmp(t)<0};Pt.lessThanOrEqualTo=Pt.lte=function(t){return this.cmp(t)<1};Pt.logarithm=Pt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fo))throw Error(Ho+"NaN");if(n.s<1)throw Error(Ho+(n.s?"NaN":"-Infinity"));return n.eq(fo)?new r(0):(Hr=!1,e=wu(x0(n,a),x0(t,a),a),Hr=!0,wr(e,i))};Pt.minus=Pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qF(e,t):UF(e,(t.s=-t.s,t))};Pt.modulo=Pt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ho+"NaN");return n.s?(Hr=!1,e=wu(n,t,0,1).times(t),Hr=!0,n.minus(e)):wr(new r(n),i)};Pt.naturalExponential=Pt.exp=function(){return BF(this)};Pt.naturalLogarithm=Pt.ln=function(){return x0(this)};Pt.negated=Pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pt.plus=Pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UF(e,t):qF(e,(t.s=-t.s,t))};Pt.precision=Pt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Kf+t);if(e=Pi(i)+1,r=i.d.length-1,n=r*jr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pt.squareRoot=Pt.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ho+"NaN")}for(t=Pi(l),Hr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=xc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(wu(l,a,s+2)).times(.5),xc(a.d).slice(0,s)===(e=xc(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(wr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return Hr=!0,wr(r,n)};Pt.times=Pt.mul=function(t){var e,n,r,i,a,s,l,c,d,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,d=y.length,c<d&&(a=g,g=y,y=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+y[r]*g[i-r-1]+e,a[i--]=l%sa|0,e=l/sa|0;a[i]=(a[i]+e)%sa|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Hr?wr(t,m.precision):t};Pt.toDecimalPlaces=Pt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(jc(t,0,Am),e===void 0?e=r.rounding:jc(e,0,8),wr(n,t+Pi(n)+1,e))};Pt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=nh(r,!0):(jc(t,0,Am),e===void 0?e=i.rounding:jc(e,0,8),r=wr(new i(r),t+1,e),n=nh(r,!0,t+1)),n};Pt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?nh(i):(jc(t,0,Am),e===void 0?e=a.rounding:jc(e,0,8),r=wr(new a(i),t+Pi(i)+1,e),n=nh(r.abs(),!1,t+Pi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pt.toInteger=Pt.toint=function(){var t=this,e=t.constructor;return wr(new e(t),Pi(t)+1,e.rounding)};Pt.toNumber=function(){return+this};Pt.toPower=Pt.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(fo);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ho+"Infinity");return l}if(l.eq(fo))return l;if(r=c.precision,t.eq(fo))return wr(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=FF){for(i=new c(fo),e=Math.ceil(r/jr+4),Hr=!1;n%2&&(i=i.times(l),JO(i.d,e)),n=Sm(n/2),n!==0;)l=l.times(l),JO(l.d,e);return Hr=!0,t.s<0?new c(fo).div(i):wr(i,r)}}else if(a<0)throw Error(Ho+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Hr=!1,i=t.times(x0(l,r+d)),Hr=!0,i=BF(i),i.s=a,i};Pt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Pi(i),r=nh(i,n<=a.toExpNeg||n>=a.toExpPos)):(jc(t,1,Am),e===void 0?e=a.rounding:jc(e,0,8),i=wr(new a(i),t,e),n=Pi(i),r=nh(i,t<=n||n<=a.toExpNeg,t)),r};Pt.toSignificantDigits=Pt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(jc(t,1,Am),e===void 0?e=r.rounding:jc(e,0,8)),wr(new r(n),t,e)};Pt.toString=Pt.valueOf=Pt.val=Pt.toJSON=Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pi(t),n=t.constructor;return nh(t,e<=n.toExpNeg||e>=n.toExpPos)};function UF(t,e){var n,r,i,a,s,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Hr?wr(e,m):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=s,l=c.length),s=Math.ceil(m/jr),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/sa|0,c[a]%=sa;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Hr?wr(e,m):e}function jc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Kf+t)}function xc(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=jr-r.length,n&&(a+=Ed(n)),a+=r;s=t[e],r=s+"",n=jr-r.length,n&&(a+=Ed(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var wu=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%sa|0,s=a/sa|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*sa+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,d,h,m,g,y,N,S,A,C,I,k,B,L,z,D,j,V=r.constructor,Y=r.s==i.s?1:-1,q=r.d,M=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Ho+"Division by zero");for(c=r.e-i.e,D=M.length,L=q.length,y=new V(Y),N=y.d=[],d=0;M[d]==(q[d]||0);)++d;if(M[d]>(q[d]||0)&&--c,a==null?I=a=V.precision:s?I=a+(Pi(r)-Pi(i))+1:I=a,I<0)return new V(0);if(I=I/jr+2|0,d=0,D==1)for(h=0,M=M[0],I++;(d<L||h)&&I--;d++)k=h*sa+(q[d]||0),N[d]=k/M|0,h=k%M|0;else{for(h=sa/(M[0]+1)|0,h>1&&(M=t(M,h),q=t(q,h),D=M.length,L=q.length),B=D,S=q.slice(0,D),A=S.length;A<D;)S[A++]=0;j=M.slice(),j.unshift(0),z=M[0],M[1]>=sa/2&&++z;do h=0,l=e(M,S,D,A),l<0?(C=S[0],D!=A&&(C=C*sa+(S[1]||0)),h=C/z|0,h>1?(h>=sa&&(h=sa-1),m=t(M,h),g=m.length,A=S.length,l=e(m,S,g,A),l==1&&(h--,n(m,D<g?j:M,g))):(h==0&&(l=h=1),m=M.slice()),g=m.length,g<A&&m.unshift(0),n(S,m,A),l==-1&&(A=S.length,l=e(M,S,D,A),l<1&&(h++,n(S,D<A?j:M,A))),A=S.length):l===0&&(h++,S=[0]),N[d++]=h,l&&S[0]?S[A++]=q[B]||0:(S=[q[B]],A=1);while((B++<L||S[0]!==void 0)&&I--)}return N[0]||N.shift(),y.e=c,wr(y,s?a+Pi(y)+1:a)}})();function BF(t,e){var n,r,i,a,s,l,c=0,d=0,h=t.constructor,m=h.precision;if(Pi(t)>16)throw Error(ZT+Pi(t));if(!t.s)return new h(fo);for(Hr=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(jf(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(fo),h.precision=l;;){if(i=wr(i.times(t),l),n=n.times(++c),s=a.plus(wu(i,n,l)),xc(s.d).slice(0,l)===xc(a.d).slice(0,l)){for(;d--;)a=wr(a.times(a),l);return h.precision=m,e==null?(Hr=!0,wr(a,m)):a}a=s}}function Pi(t){for(var e=t.e*jr,n=t.d[0];n>=10;n/=10)e++;return e}function DA(t,e,n){if(e>t.LN10.sd())throw Hr=!0,n&&(t.precision=n),Error(Ho+"LN10 precision limit exceeded");return wr(new t(t.LN10),e)}function Ed(t){for(var e="";t--;)e+="0";return e}function x0(t,e){var n,r,i,a,s,l,c,d,h,m=1,g=10,y=t,N=y.d,S=y.constructor,A=S.precision;if(y.s<1)throw Error(Ho+(y.s?"NaN":"-Infinity"));if(y.eq(fo))return new S(0);if(e==null?(Hr=!1,d=A):d=e,y.eq(10))return e==null&&(Hr=!0),DA(S,d);if(d+=g,S.precision=d,n=xc(N),r=n.charAt(0),a=Pi(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=xc(y.d),r=n.charAt(0),m++;a=Pi(y),r>1?(y=new S("0."+n),a++):y=new S(r+"."+n.slice(1))}else return c=DA(S,d+2,A).times(a+""),y=x0(new S(r+"."+n.slice(1)),d-g).plus(c),S.precision=A,e==null?(Hr=!0,wr(y,A)):y;for(l=s=y=wu(y.minus(fo),y.plus(fo),d),h=wr(y.times(y),d),i=3;;){if(s=wr(s.times(h),d),c=l.plus(wu(s,new S(i),d)),xc(c.d).slice(0,d)===xc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(DA(S,d+2,A).times(a+""))),l=wu(l,new S(m),d),S.precision=A,e==null?(Hr=!0,wr(l,A)):l;l=c,i+=2}}function YO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sm(n/jr),t.d=[],r=(n+1)%jr,n<0&&(r+=jr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=jr;r<i;)t.d.push(+e.slice(r,r+=jr));e=e.slice(r),r=jr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Hr&&(t.e>B1||t.e<-B1))throw Error(ZT+n)}else t.s=0,t.e=0,t.d=[0];return t}function wr(t,e,n){var r,i,a,s,l,c,d,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=jr,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/jr),a=m.length,h>=a)return t;for(d=a=m[h],s=1;a>=10;a/=10)s++;r%=jr,i=r-jr+s}if(n!==void 0&&(a=jf(10,s-i-1),l=d/a%10|0,c=e<0||m[h+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/jf(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=Pi(t),m.length=1,e=e-a-1,m[0]=jf(10,(jr-e%jr)%jr),t.e=Sm(-e/jr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=jf(10,jr-r),m[h]=i>0?(d/jf(10,s-i)%jf(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==sa&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=sa)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(Hr&&(t.e>B1||t.e<-B1))throw Error(ZT+Pi(t));return t}function qF(t,e){var n,r,i,a,s,l,c,d,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Hr?wr(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(y/jr),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=sa-1;--c[a],c[i]+=sa}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Hr?wr(e,y):e):new g(0)}function nh(t,e,n){var r,i=Pi(t),a=xc(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ed(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ed(-i-1)+a,n&&(r=n-s)>0&&(a+=Ed(r))):i>=s?(a+=Ed(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ed(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ed(r))),t.s<0?"-"+a:a}function JO(t,e){if(t.length>e)return t.length=e,!0}function VF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Kf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return YO(s,a.toString())}else if(typeof a!="string")throw Error(Kf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,lne.test(a))YO(s,a);else throw Error(Kf+a)}if(i.prototype=Pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VF,i.config=i.set=cne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cne(t){if(!t||typeof t!="object")throw Error(Ho+"Object expected");var e,n,r,i=["precision",1,Am,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Kf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kf+n+": "+r);return this}var eC=VF(one);fo=new eC(1);const pr=eC;function une(t){return pne(t)||hne(t)||fne(t)||dne()}function dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return yE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(t,e)}}function hne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pne(t){if(Array.isArray(t))return yE(t)}function yE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mne=function(e){return e},zF={},$F=function(e){return e===zF},XO=function(e){return function n(){return arguments.length===0||arguments.length===1&&$F(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},gne=function t(e,n){return e===1?n:XO(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==zF}).length;return s>=e?n.apply(void 0,i):t(e-s,XO(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=i.map(function(m){return $F(m)?c.shift():m});return n.apply(void 0,une(h).concat(c))}))})},sb=function(e){return gne(e.length,e)},xE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},vne=sb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),yne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return mne;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},bE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},HF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function xne(t){var e;return t===0?e=1:e=Math.floor(new pr(t).abs().log(10).toNumber())+1,e}function bne(t,e,n){for(var r=new pr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var _ne=sb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),wne=sb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ane=sb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ob={rangeStep:bne,getDigitCount:xne,interpolateNumber:_ne,uninterpolateNumber:wne,uninterpolateTruncation:Ane};function _E(t){return Nne(t)||Ene(t)||GF(t)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nne(t){if(Array.isArray(t))return wE(t)}function b0(t,e){return Ine(t)||Cne(t,e)||GF(t,e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Ine(t){if(Array.isArray(t))return t}function WF(t){var e=b0(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function KF(t,e,n){if(t.lte(0))return new pr(0);var r=ob.getDigitCount(t.toNumber()),i=new pr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new pr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new pr(Math.ceil(c))}function Rne(t,e,n){var r=1,i=new pr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new pr(10).pow(ob.getDigitCount(t)-1),i=new pr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new pr(Math.floor(t)))}else t===0?i=new pr(Math.floor((e-1)/2)):n||(i=new pr(Math.floor(t)));var s=Math.floor((e-1)/2),l=yne(vne(function(c){return i.add(new pr(c-s).mul(r)).toNumber()}),xE);return l(0,e)}function YF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var a=KF(new pr(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new pr(0):(s=new pr(t).add(e).div(2),s=s.sub(new pr(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new pr(e).sub(s).div(a).toNumber()),d=l+c+1;return d>n?YF(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:a,tickMin:s.sub(new pr(l).mul(a)),tickMax:s.add(new pr(c).mul(a))})}function kne(t){var e=b0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=WF([n,r]),c=b0(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(_E(xE(0,i-1).map(function(){return 1/0}))):[].concat(_E(xE(0,i-1).map(function(){return-1/0})),[h]);return n>r?bE(m):m}if(d===h)return Rne(d,i,a);var g=YF(d,h,s,a),y=g.step,N=g.tickMin,S=g.tickMax,A=ob.rangeStep(N,S.add(new pr(.1).mul(y)),y);return n>r?bE(A):A}function Pne(t,e){var n=b0(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=WF([r,i]),l=b0(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var h=Math.max(e,2),m=KF(new pr(d).sub(c).div(h-1),a,0),g=[].concat(_E(ob.rangeStep(new pr(c),new pr(d).sub(new pr(.99).mul(m)),m)),[d]);return r>i?bE(g):g}var One=HF(kne),jne=HF(Pne),Mne="Invariant failed";function rh(t,e){throw new Error(Mne)}var Dne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function Lne(t,e){return qne(t)||Bne(t,e)||Une(t,e)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function qne(t){if(Array.isArray(t))return t}function Vne(t,e){if(t==null)return{};var n=zne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QF(r.key),r)}}function Gne(t,e,n){return e&&Hne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t,e,n){return e=V1(e),Kne(t,JF()?Reflect.construct(e,n||[],V1(t).constructor):e.apply(t,n))}function Kne(t,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yne(t)}function Yne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!t})()}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V1(t)}function Jne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function XF(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=Xne(t,"string");return Yp(e)=="symbol"?e:e+""}function Xne(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lb=(function(t){function e(){return $ne(this,e),Wne(this,e,arguments)}return Jne(e,t),Gne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,g=Vne(r,Dne),y=En(g,!1);this.props.direction==="x"&&h.type!=="number"&&rh();var N=c.map(function(S){var A=d(S,l),C=A.x,I=A.y,k=A.value,B=A.errorVal;if(!B)return null;var L=[],z,D;if(Array.isArray(B)){var j=Lne(B,2);z=j[0],D=j[1]}else z=D=B;if(a==="vertical"){var V=h.scale,Y=I+i,q=Y+s,M=Y-s,F=V(k-z),Q=V(k+D);L.push({x1:Q,y1:q,x2:Q,y2:M}),L.push({x1:F,y1:Y,x2:Q,y2:Y}),L.push({x1:F,y1:q,x2:F,y2:M})}else if(a==="horizontal"){var se=m.scale,W=C+i,ee=W-s,le=W+s,xe=se(k-z),ve=se(k+D);L.push({x1:ee,y1:ve,x2:le,y2:ve}),L.push({x1:W,y1:xe,x2:W,y2:ve}),L.push({x1:ee,y1:xe,x2:le,y2:xe})}return je.createElement(Qr,q1({className:"recharts-errorBar",key:"bar-".concat(L.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},y),L.map(function(ce){return je.createElement("line",q1({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return je.createElement(Qr,{className:"recharts-errorBars"},N)}}])})(je.Component);XF(lb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XF(lb,"displayName","ErrorBar");function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return e=Zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=ere(t,"string");return _0(e)=="symbol"?e:e+""}function ere(t,e){if(_0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=uo(n,Np);if(!s)return null;var l=Np.defaultProps,c=l!==void 0?Pf(Pf({},l),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:a==="children"?d=(r||[]).reduce(function(h,m){var g=m.item,y=m.props,N=y.sectors||y.data||[];return h.concat(N.map(function(S){return{type:s.props.iconType||g.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):d=(r||[]).map(function(h){var m=h.item,g=m.type.defaultProps,y=g!==void 0?Pf(Pf({},g),m.props):{},N=y.dataKey,S=y.name,A=y.legendType,C=y.hide;return{inactive:C,dataKey:N,type:c.iconType||A||"square",color:tC(m),value:S||N,payload:y}}),Pf(Pf(Pf({},c),Np.getWithHeight(s,i)),{},{payload:d,item:s})};function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function ej(t){return ire(t)||rre(t)||nre(t)||tre()}function tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function rre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ire(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){Cp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cp(t,e,n){return e=are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return w0(e)=="symbol"?e:e+""}function sre(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(t,e,n){return On(t)||On(e)?n:Wi(e)?zo(t,e,n):hn(e)?e(t):n}function Gg(t,e,n,r){var i=ine(t,function(l){return vo(l,e)});if(n==="number"){var a=i.filter(function(l){return bt(l)||parseFloat(l)});return a.length?[ab(a),Pd(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!On(l)}):i;return s.map(function(l){return Wi(l)||l instanceof Date?l:""})}var ore=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var h=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,g=d>=l-1?i[0].coordinate:i[d+1].coordinate,y=void 0;if(Nl(m-h)!==Nl(g-m)){var N=[];if(Nl(g-m)===Nl(c[1]-c[0])){y=g;var S=m+c[1]-c[0];N[0]=Math.min(S,(S+h)/2),N[1]=Math.max(S,(S+h)/2)}else{y=h;var A=g+c[1]-c[0];N[0]=Math.min(m,(A+m)/2),N[1]=Math.max(m,(A+m)/2)}var C=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){s=i[d].index;break}}else{var I=Math.min(h,g),k=Math.max(h,g);if(e>(I+m)/2&&e<=(k+m)/2){s=i[d].index;break}}}else for(var B=0;B<l;B++)if(B===0&&e<=(r[B].coordinate+r[B+1].coordinate)/2||B>0&&B<l-1&&e>(r[B].coordinate+r[B-1].coordinate)/2&&e<=(r[B].coordinate+r[B+1].coordinate)/2||B===l-1&&e>(r[B].coordinate+r[B-1].coordinate)/2){s=r[B].index;break}return s},tC=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?si(si({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},lre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),g=0,y=m.length;g<y;g++){var N=h[m[g]],S=N.items,A=N.cateAxisId,C=S.filter(function(D){return bu(D.type).indexOf("Bar")>=0});if(C&&C.length){var I=C[0].type.defaultProps,k=I!==void 0?si(si({},I),C[0].props):C[0].props,B=k.barSize,L=k[A];s[L]||(s[L]=[]);var z=On(B)?n:B;s[L].push({item:C[0],stackList:C.slice(1),barSize:On(z)?void 0:th(z,r,0)})}}return s},cre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var d=th(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var g=!1,y=i/c,N=s.reduce(function(B,L){return B+L.barSize||0},0);N+=(c-1)*d,N>=i&&(N-=(c-1)*d,d=0),N>=i&&y>0&&(g=!0,y*=.9,N=c*y);var S=(i-N)/2>>0,A={offset:S-d,size:0};h=s.reduce(function(B,L){var z={item:L.item,position:{offset:A.offset+A.size+d,size:g?y:L.barSize}},D=[].concat(ej(B),[z]);return A=D[D.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(j){D.push({item:j,position:A})}),D},m)}else{var C=th(r,i,0,!0);i-2*C-(c-1)*d<=0&&(d=0);var I=(i-2*C-(c-1)*d)/c;I>1&&(I>>=0);var k=l===+l?Math.min(I,l):I;h=s.reduce(function(B,L,z){var D=[].concat(ej(B),[{item:L.item,position:{offset:C+(I+d)*z+(I-k)/2,size:k}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(j){D.push({item:j,position:D[D.length-1].position})}),D},m)}return h},ure=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),d=ZF({children:a,legendWidth:c});if(d){var h=i||{},m=h.width,g=h.height,y=d.align,N=d.verticalAlign,S=d.layout;if((S==="vertical"||S==="horizontal"&&N==="middle")&&y!=="center"&&bt(e[y]))return si(si({},e),{},Cp({},y,e[y]+(m||0)));if((S==="horizontal"||S==="vertical"&&y==="center")&&N!=="middle"&&bt(e[N]))return si(si({},e),{},Cp({},N,e[N]+(g||0)))}return e},dre=function(e,n,r){return On(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},eU=function(e,n,r,i,a){var s=n.props.children,l=Cl(s,lb).filter(function(d){return dre(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=vo(h,r);if(On(m))return d;var g=Array.isArray(m)?[ab(m),Pd(m)]:[m,m],y=c.reduce(function(N,S){var A=vo(h,S,0),C=g[0]-Math.abs(Array.isArray(A)?A[0]:A),I=g[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(C,N[0]),Math.max(I,N[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},fre=function(e,n,r,i,a){var s=n.map(function(l){return eU(e,l,r,a,i)}).filter(function(l){return!On(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},tU=function(e,n,r,i,a){var s=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&eU(e,c,d,i)||Gg(e,d,r,a)});if(r==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},nU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},rU=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},gu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Nl(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=a?a.indexOf(m):m;return{coordinate:i(g)+d,value:m,offset:d}});return h.filter(function(m){return!xm(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+d,value:m,index:g,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,g){return{coordinate:i(m)+d,value:a?a[m]:m,index:g,offset:d}})},LA=new WeakMap,by=function(e,n){if(typeof n!="function")return e;LA.has(e)||LA.set(e,new WeakMap);var r=LA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},hre=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:h0(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:D1(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Hg(),realScaleType:"point"}:a==="category"?{scale:h0(),realScaleType:"band"}:{scale:D1(),realScaleType:"linear"};if(eh(i)){var c="scale".concat(Gx(i));return{scale:(BO[c]||Hg)(),realScaleType:BO[c]?c:"point"}}return hn(i)?{scale:i}:{scale:Hg(),realScaleType:"point"}},nj=1e-4,pre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-nj,s=Math.max(i[0],i[1])+nj,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},mre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},gre=function(e,n){if(!n||n.length!==2||!bt(n[0])||!bt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!bt(e[0])||e[0]<r)&&(a[0]=r),(!bt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},vre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=xm(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},yre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=xm(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},xre={sign:vre,expand:tJ,none:qp,silhouette:nJ,wiggle:rJ,positive:yre},bre=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=xre[r],s=eJ().keys(i).value(function(l,c){return+vo(l,c,0)}).order(eE).offset(a);return s(e)},_re=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},d=l.reduce(function(m,g){var y,N=(y=g.type)!==null&&y!==void 0&&y.defaultProps?si(si({},g.type.defaultProps),g.props):g.props,S=N.stackId,A=N.hide;if(A)return m;var C=N[r],I=m[C]||{hasStack:!1,stackGroups:{}};if(Wi(S)){var k=I.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(g),I.hasStack=!0,I.stackGroups[S]=k}else I.stackGroups[nv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return si(si({},m),{},Cp({},C,I))},c),h={};return Object.keys(d).reduce(function(m,g){var y=d[g];if(y.hasStack){var N={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(S,A){var C=y.stackGroups[A];return si(si({},S),{},Cp({},A,{numericAxisId:r,cateAxisId:i,items:C.items,stackedData:bre(e,C.items,a)}))},N)}return si(si({},m),{},Cp({},g,y))},h)},wre=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=One(d,a,l);return e.domain([ab(h),Pd(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),g=jne(m,a,l);return{niceTicks:g}}return null};function rj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!On(i[e.dataKey])){var l=m1(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=vo(i,On(s)?e.dataKey:s);return On(c)?null:e.scale(c)}var ij=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=vo(s,n.dataKey,n.domain[l]);return On(c)?null:n.scale(c)-a/2+i},Are=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Sre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?si(si({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Wi(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Ere=function(e){return e.reduce(function(n,r){return[ab(r.concat([n[0]]).filter(bt)),Pd(r.concat([n[1]]).filter(bt))]},[1/0,-1/0])},iU=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(d,h){var m=Ere(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EE=function(e,n,r){if(hn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(bt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(aj.test(e[0])){var a=+aj.exec(e[0])[1];i[0]=n[0]-a}else hn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(bt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(sj.test(e[1])){var s=+sj.exec(e[1])[1];i[1]=n[1]+s}else hn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},z1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=IT(n,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},oj=function(e,n,r){return!e||!e.length||y0(e,zo(r,"type.defaultProps.domain"))?n:e},aU=function(e,n){var r=e.type.defaultProps?si(si({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,h=r.hide;return si(si({},En(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:tC(e),value:vo(n,i),type:c,payload:n,chartType:d,hide:h})};function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Cre(t,"string");return A0(e)=="symbol"?e:e+""}function Cre(t,e){if(A0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(A0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1=Math.PI/180,Ire=function(e){return e*180/Math.PI},Ea=function(e,n,r,i){return{x:e+Math.cos(-$1*i)*r,y:n+Math.sin(-$1*i)*r}},Rre=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},kre=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=Rre({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:l,angle:Ire(d),angleInRadian:d}},Pre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Ore=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},uj=function(e,n){var r=e.x,i=e.y,a=kre({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var h=Pre(n),m=h.startAngle,g=h.endAngle,y=l,N;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;N=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;N=y>=g&&y<=m}return N?cj(cj({},n),{},{radius:s,angle:Ore(y,n)}):null};function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}var jre=["offset"];function Mre(t){return Ure(t)||Fre(t)||Lre(t)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){if(t){if(typeof t=="string")return NE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(t,e)}}function Fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ure(t){if(Array.isArray(t))return NE(t)}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bre(t,e){if(t==null)return{};var n=qre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return e=zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=$re(t,"string");return S0(e)=="symbol"?e:e+""}function $re(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(this,arguments)}var Hre=function(e){var n=e.value,r=e.formatter,i=On(e.children)?n:e.children;return hn(r)?r(i):i},Gre=function(e,n){var r=Nl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Wre=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,d=c.cx,h=c.cy,m=c.innerRadius,g=c.outerRadius,y=c.startAngle,N=c.endAngle,S=c.clockWise,A=(m+g)/2,C=Gre(y,N),I=C>=0?1:-1,k,B;i==="insideStart"?(k=y+I*s,B=S):i==="insideEnd"?(k=N-I*s,B=!S):i==="end"&&(k=N+I*s,B=S),B=C<=0?B:!B;var L=Ea(d,h,A,k),z=Ea(d,h,A,k+(B?1:-1)*359),D="M".concat(L.x,",").concat(L.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(B?0:1,`,
    `).concat(z.x,",").concat(z.y),j=On(e.id)?nv("recharts-radial-line-"):e.id;return je.createElement("text",E0({},r,{dominantBaseline:"central",className:$n("recharts-radial-bar-label",l)}),je.createElement("defs",null,je.createElement("path",{id:j,d:D})),je.createElement("textPath",{xlinkHref:"#".concat(j)},n))},Kre=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,h=a.startAngle,m=a.endAngle,g=(h+m)/2;if(i==="outside"){var y=Ea(s,l,d+r,g),N=y.x,S=y.y;return{x:N,y:S,textAnchor:N>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var A=(c+d)/2,C=Ea(s,l,A,g),I=C.x,k=C.y;return{x:I,y:k,textAnchor:"middle",verticalAnchor:"middle"}},Yre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,d=s.width,h=s.height,m=h>=0?1:-1,g=m*i,y=m>0?"end":"start",N=m>0?"start":"end",S=d>=0?1:-1,A=S*i,C=S>0?"end":"start",I=S>0?"start":"end";if(a==="top"){var k={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:y};return Gi(Gi({},k),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var B={x:l+d/2,y:c+h+g,textAnchor:"middle",verticalAnchor:N};return Gi(Gi({},B),r?{height:Math.max(r.y+r.height-(c+h),0),width:d}:{})}if(a==="left"){var L={x:l-A,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return Gi(Gi({},L),r?{width:Math.max(L.x-r.x,0),height:h}:{})}if(a==="right"){var z={x:l+d+A,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return Gi(Gi({},z),r?{width:Math.max(r.x+r.width-z.x,0),height:h}:{})}var D=r?{width:d,height:h}:{};return a==="insideLeft"?Gi({x:l+A,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},D):a==="insideRight"?Gi({x:l+d-A,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},D):a==="insideTop"?Gi({x:l+d/2,y:c+g,textAnchor:"middle",verticalAnchor:N},D):a==="insideBottom"?Gi({x:l+d/2,y:c+h-g,textAnchor:"middle",verticalAnchor:y},D):a==="insideTopLeft"?Gi({x:l+A,y:c+g,textAnchor:I,verticalAnchor:N},D):a==="insideTopRight"?Gi({x:l+d-A,y:c+g,textAnchor:C,verticalAnchor:N},D):a==="insideBottomLeft"?Gi({x:l+A,y:c+h-g,textAnchor:I,verticalAnchor:y},D):a==="insideBottomRight"?Gi({x:l+d-A,y:c+h-g,textAnchor:C,verticalAnchor:y},D):ym(a)&&(bt(a.x)||Uf(a.x))&&(bt(a.y)||Uf(a.y))?Gi({x:l+th(a.x,d),y:c+th(a.y,h),textAnchor:"end",verticalAnchor:"end"},D):Gi({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Jre=function(e){return"cx"in e&&bt(e.cx)};function Ja(t){var e=t.offset,n=e===void 0?5:e,r=Bre(t,jre),i=Gi({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,d=i.content,h=i.className,m=h===void 0?"":h,g=i.textBreakAll;if(!a||On(l)&&On(c)&&!be.isValidElement(d)&&!hn(d))return null;if(be.isValidElement(d))return be.cloneElement(d,i);var y;if(hn(d)){if(y=be.createElement(d,i),be.isValidElement(y))return y}else y=Hre(i);var N=Jre(a),S=En(i,!0);if(N&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Wre(i,y,S);var A=N?Kre(i):Yre(i);return je.createElement(C1,E0({className:$n("recharts-label",m)},S,A,{breakAll:g}),y)}Ja.displayName="Label";var sU=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,y=e.top,N=e.left,S=e.width,A=e.height,C=e.clockWise,I=e.labelViewBox;if(I)return I;if(bt(S)&&bt(A)){if(bt(m)&&bt(g))return{x:m,y:g,width:S,height:A};if(bt(y)&&bt(N))return{x:y,y:N,width:S,height:A}}return bt(m)&&bt(g)?{x:m,y:g,width:0,height:0}:bt(n)&&bt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:C}:e.viewBox?e.viewBox:{}},Xre=function(e,n){return e?e===!0?je.createElement(Ja,{key:"label-implicit",viewBox:n}):Wi(e)?je.createElement(Ja,{key:"label-implicit",viewBox:n,value:e}):be.isValidElement(e)?e.type===Ja?be.cloneElement(e,{key:"label-implicit",viewBox:n}):je.createElement(Ja,{key:"label-implicit",content:e,viewBox:n}):hn(e)?je.createElement(Ja,{key:"label-implicit",content:e,viewBox:n}):ym(e)?je.createElement(Ja,E0({viewBox:n},e,{key:"label-implicit"})):null:null},Qre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=sU(e),s=Cl(i,Ja).map(function(c,d){return be.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return s;var l=Xre(e.label,n||a);return[l].concat(Mre(s))};Ja.parseViewBox=sU;Ja.renderCallByParent=Qre;var FA,fj;function Zre(){if(fj)return FA;fj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return FA=t,FA}var eie=Zre();const tie=mr(eie);function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}var nie=["valueAccessor"],rie=["data","dataKey","clockWise","id","textBreakAll"];function iie(t){return lie(t)||oie(t)||sie(t)||aie()}function aie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t,e){if(t){if(typeof t=="string")return TE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(t,e)}}function oie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lie(t){if(Array.isArray(t))return TE(t)}function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(this,arguments)}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return e=uie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=die(t,"string");return N0(e)=="symbol"?e:e+""}function die(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mj(t,e){if(t==null)return{};var n=fie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hie=function(e){return Array.isArray(e.value)?tie(e.value):e.value};function Bd(t){var e=t.valueAccessor,n=e===void 0?hie:e,r=mj(t,nie),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,d=mj(r,rie);return!i||!i.length?null:je.createElement(Qr,{className:"recharts-label-list"},i.map(function(h,m){var g=On(a)?n(h,m):vo(h&&h.payload,a),y=On(l)?{}:{id:"".concat(l,"-").concat(m)};return je.createElement(Ja,H1({},En(h,!0),d,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Ja.parseViewBox(On(s)?h:pj(pj({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Bd.displayName="LabelList";function pie(t,e){return t?t===!0?je.createElement(Bd,{key:"labelList-implicit",data:e}):je.isValidElement(t)||hn(t)?je.createElement(Bd,{key:"labelList-implicit",data:e,content:t}):ym(t)?je.createElement(Bd,H1({data:e},t,{key:"labelList-implicit"})):null:null}function mie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Cl(r,Bd).map(function(s,l){return be.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=pie(t.label,e);return[a].concat(iie(i))}Bd.renderCallByParent=mie;function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return e=vie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=yie(t,"string");return T0(e)=="symbol"?e:e+""}function yie(t,e){if(T0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xie=function(e,n){var r=Nl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},_y=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/$1,g=d?a:a+s*m,y=Ea(n,r,h,g),N=Ea(n,r,i,g),S=d?a-s*m:a,A=Ea(n,r,h*Math.cos(m*$1),S);return{center:y,circleTangency:N,lineTangency:A,theta:m}},oU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=xie(s,l),d=s+c,h=Ea(n,r,a,s),m=Ea(n,r,a,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var y=Ea(n,r,i,s),N=Ea(n,r,i,d);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},bie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=Nl(h-d),g=_y({cx:n,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),y=g.circleTangency,N=g.lineTangency,S=g.theta,A=_y({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=A.circleTangency,I=A.lineTangency,k=A.theta,B=c?Math.abs(d-h):Math.abs(d-h)-S-k;if(B<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):oU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var L="M ".concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var z=_y({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=z.circleTangency,j=z.lineTangency,V=z.theta,Y=_y({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),q=Y.circleTangency,M=Y.lineTangency,F=Y.theta,Q=c?Math.abs(d-h):Math.abs(d-h)-V-F;if(Q<0&&s===0)return"".concat(L,"L").concat(n,",").concat(r,"Z");L+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,"Z")}else L+="L".concat(n,",").concat(r,"Z");return L},_ie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lU=function(e){var n=vj(vj({},_ie),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,g=n.className;if(s<a||h===m)return null;var y=$n("recharts-sector",g),N=s-a,S=th(l,N,0,!0),A;return S>0&&Math.abs(h-m)<360?A=bie({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,N/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):A=oU({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),je.createElement("path",CE({},En(n,!0),{className:y,d:A,role:"img"}))};function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(this,arguments)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wie(t,e,n){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=Sie(t,"string");return C0(e)=="symbol"?e:e+""}function Sie(t,e){if(C0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bj={curveBasisClosed:zY,curveBasisOpen:$Y,curveBasis:VY,curveBumpX:CY,curveBumpY:IY,curveLinearClosed:HY,curveLinear:Kx,curveMonotoneX:GY,curveMonotoneY:WY,curveNatural:KY,curveStep:YY,curveStepAfter:XY,curveStepBefore:JY},wy=function(e){return e.x===+e.x&&e.y===+e.y},_g=function(e){return e.x},wg=function(e){return e.y},Eie=function(e,n){if(hn(e))return e;var r="curve".concat(Gx(e));return(r==="curveMonotone"||r==="curveBump")&&n?bj["".concat(r).concat(n==="vertical"?"Y":"X")]:bj[r]||Kx},Nie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=Eie(r,l),m=d?a.filter(function(S){return wy(S)}):a,g;if(Array.isArray(s)){var y=d?s.filter(function(S){return wy(S)}):s,N=m.map(function(S,A){return xj(xj({},S),{},{base:y[A]})});return l==="vertical"?g=hy().y(wg).x1(_g).x0(function(S){return S.base.x}):g=hy().x(_g).y1(wg).y0(function(S){return S.base.y}),g.defined(wy).curve(h),g(N)}return l==="vertical"&&bt(s)?g=hy().y(wg).x1(_g).x0(s):bt(s)?g=hy().x(_g).y1(wg).y0(s):g=h9().x(_g).y(wg),g.defined(wy).curve(h),g(m)},Wg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Nie(e):i;return be.createElement("path",IE({},En(e,!1),g1(e),{className:$n("recharts-curve",n),d:s,ref:a}))},UA={exports:{}},BA,_j;function Tie(){if(_j)return BA;_j=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BA=t,BA}var qA,wj;function Cie(){if(wj)return qA;wj=1;var t=Tie();function e(){}function n(){}return n.resetWarningCache=e,qA=function(){function r(s,l,c,d,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},qA}var Aj;function Iie(){return Aj||(Aj=1,UA.exports=Cie()()),UA.exports}var Rie=Iie();const nr=mr(Rie),{getOwnPropertyNames:kie,getOwnPropertySymbols:Pie}=Object,{hasOwnProperty:Oie}=Object.prototype;function VA(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ay(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function jie(t){return t!=null?t[Symbol.toStringTag]:void 0}function Sj(t){return kie(t).concat(Pie(t))}const Mie=Object.hasOwn||((t,e)=>Oie.call(t,e));function mh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Die="__v",Lie="__o",Fie="_owner",{getOwnPropertyDescriptor:Ej,keys:Nj}=Object;function Uie(t,e){return t.byteLength===e.byteLength&&G1(new Uint8Array(t),new Uint8Array(e))}function Bie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function qie(t,e){return t.byteLength===e.byteLength&&G1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Vie(t,e){return mh(t.getTime(),e.getTime())}function zie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function $ie(t,e){return t===e}function Tj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const d=e.entries();let h=!1,m=0;for(;(l=d.next())&&!l.done;){if(i[m]){m++;continue}const g=s.value,y=l.value;if(n.equals(g[0],y[0],c,m,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const Hie=mh;function Gie(t,e,n){const r=Nj(t);let i=r.length;if(Nj(e).length!==i)return!1;for(;i-- >0;)if(!cU(t,e,n,r[i]))return!1;return!0}function Ag(t,e,n){const r=Sj(t);let i=r.length;if(Sj(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!cU(t,e,n,a)||(s=Ej(t,a),l=Ej(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Wie(t,e){return mh(t.valueOf(),e.valueOf())}function Kie(t,e){return t.source===e.source&&t.flags===e.flags}function Cj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const c=e.values();let d=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function G1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Yie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cU(t,e,n,r){return(r===Fie||r===Lie||r===Die)&&(t.$$typeof||e.$$typeof)?!0:Mie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Jie="[object ArrayBuffer]",Xie="[object Arguments]",Qie="[object Boolean]",Zie="[object DataView]",eae="[object Date]",tae="[object Error]",nae="[object Map]",rae="[object Number]",iae="[object Object]",aae="[object RegExp]",sae="[object Set]",oae="[object String]",lae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},cae="[object URL]",uae=Object.prototype.toString;function dae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:N}){return function(A,C,I){if(A===C)return!0;if(A==null||C==null)return!1;const k=typeof A;if(k!==typeof C)return!1;if(k!=="object")return k==="number"?l(A,C,I):k==="function"?a(A,C,I):!1;const B=A.constructor;if(B!==C.constructor)return!1;if(B===Object)return c(A,C,I);if(Array.isArray(A))return e(A,C,I);if(B===Date)return r(A,C,I);if(B===RegExp)return h(A,C,I);if(B===Map)return s(A,C,I);if(B===Set)return m(A,C,I);const L=uae.call(A);if(L===eae)return r(A,C,I);if(L===aae)return h(A,C,I);if(L===nae)return s(A,C,I);if(L===sae)return m(A,C,I);if(L===iae)return typeof A.then!="function"&&typeof C.then!="function"&&c(A,C,I);if(L===cae)return y(A,C,I);if(L===tae)return i(A,C,I);if(L===Xie)return c(A,C,I);if(lae[L])return g(A,C,I);if(L===Jie)return t(A,C,I);if(L===Zie)return n(A,C,I);if(L===Qie||L===rae||L===oae)return d(A,C,I);if(N){let z=N[L];if(!z){const D=jie(A);D&&(z=N[D])}if(z)return z(A,C,I)}return!1}}function fae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Uie,areArraysEqual:n?Ag:Bie,areDataViewsEqual:qie,areDatesEqual:Vie,areErrorsEqual:zie,areFunctionsEqual:$ie,areMapsEqual:n?VA(Tj,Ag):Tj,areNumbersEqual:Hie,areObjectsEqual:n?Ag:Gie,arePrimitiveWrappersEqual:Wie,areRegExpsEqual:Kie,areSetsEqual:n?VA(Cj,Ag):Cj,areTypedArraysEqual:n?VA(G1,Ag):G1,areUrlsEqual:Yie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ay(r.areArraysEqual),a=Ay(r.areMapsEqual),s=Ay(r.areObjectsEqual),l=Ay(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function hae(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function pae({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:d,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const mae=cf();cf({strict:!0});cf({circular:!0});cf({circular:!0,strict:!0});cf({createInternalComparator:()=>mh});cf({strict:!0,createInternalComparator:()=>mh});cf({circular:!0,createInternalComparator:()=>mh});cf({circular:!0,createInternalComparator:()=>mh,strict:!0});function cf(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=fae(t),s=dae(a),l=n?n(s):hae(s);return pae({circular:e,comparator:s,createState:r,equals:l,strict:i})}function gae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Ij(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):gae(i)};requestAnimationFrame(r)}function RE(t){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(t)}function vae(t){return _ae(t)||bae(t)||xae(t)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(t,e){if(t){if(typeof t=="string")return Rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rj(t,e)}}function Rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ae(t){if(Array.isArray(t))return t}function wae(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=vae(s),c=l[0],d=l.slice(1);if(typeof c=="number"){Ij(i.bind(null,d),c);return}i(c),Ij(i.bind(null,d));return}RE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){uU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uU(t,e,n){return e=Aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Sae(t,"string");return I0(e)==="symbol"?e:String(e)}function Sae(t,e){if(I0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Nae=function(e){return e},Tae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Kg=function(e,n){return Object.keys(n).reduce(function(r,i){return Pj(Pj({},r),{},uU({},i,e(i,n[i])))},{})},Oj=function(e,n,r){return e.map(function(i){return"".concat(Tae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Cae(t,e){return kae(t)||Rae(t,e)||dU(t,e)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function kae(t){if(Array.isArray(t))return t}function Pae(t){return Mae(t)||jae(t)||dU(t)||Oae()}function Oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mae(t){if(Array.isArray(t))return kE(t)}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W1=1e-4,fU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},hU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},jj=function(e,n){return function(r){var i=fU(e,n);return hU(i,r)}},Dae=function(e,n){return function(r){var i=fU(e,n),a=[].concat(Pae(i.map(function(s,l){return s*l}).slice(1)),[0]);return hU(a,r)}},Mj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),h=Cae(d,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var m=jj(i,s),g=jj(a,l),y=Dae(i,s),N=function(C){return C>1?1:C<0?0:C},S=function(C){for(var I=C>1?1:C,k=I,B=0;B<8;++B){var L=m(k)-I,z=y(k);if(Math.abs(L-I)<W1||z<W1)return g(k);k=N(k-L/z)}return g(k)};return S.isStepper=!1,S},Lae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,g){var y=-(h-m)*r,N=g*a,S=g+(y-N)*l/1e3,A=g*l/1e3+h;return Math.abs(A-m)<W1&&Math.abs(S)<W1?[m,0]:[A,S]};return c.isStepper=!0,c.dt=l,c},Fae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mj(i);case"spring":return Lae();default:if(i.split("(")[0]==="cubic-bezier")return Mj(i)}return typeof i=="function"?i:null};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function Dj(t){return qae(t)||Bae(t)||pU(t)||Uae()}function Uae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qae(t){if(Array.isArray(t))return OE(t)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){PE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PE(t,e,n){return e=Vae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=zae(t,"string");return R0(e)==="symbol"?e:String(e)}function zae(t,e){if(R0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(R0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t,e){return Wae(t)||Gae(t,e)||pU(t,e)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Wae(t){if(Array.isArray(t))return t}var K1=function(e,n,r){return e+(n-e)*r},jE=function(e){var n=e.from,r=e.to;return n!==r},Kae=function t(e,n,r){var i=Kg(function(a,s){if(jE(s)){var l=e(s.from,s.to,s.velocity),c=$ae(l,2),d=c[0],h=c[1];return wa(wa({},s),{},{from:d,velocity:h})}return s},n);return r<1?Kg(function(a,s){return jE(s)?wa(wa({},s),{},{velocity:K1(s.velocity,i[a].velocity,r),from:K1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Yae=(function(t,e,n,r,i){var a=Eae(t,e),s=a.reduce(function(A,C){return wa(wa({},A),{},PE({},C,[t[C],e[C]]))},{}),l=a.reduce(function(A,C){return wa(wa({},A),{},PE({},C,{from:t[C],velocity:0,to:e[C]}))},{}),c=-1,d,h,m=function(){return null},g=function(){return Kg(function(C,I){return I.from},l)},y=function(){return!Object.values(l).filter(jE).length},N=function(C){d||(d=C);var I=C-d,k=I/n.dt;l=Kae(n,l,k),i(wa(wa(wa({},t),e),g())),d=C,y()||(c=requestAnimationFrame(m))},S=function(C){h||(h=C);var I=(C-h)/r,k=Kg(function(L,z){return K1.apply(void 0,Dj(z).concat([n(I)]))},s);if(i(wa(wa(wa({},t),e),k)),I<1)c=requestAnimationFrame(m);else{var B=Kg(function(L,z){return K1.apply(void 0,Dj(z).concat([n(1)]))},s);i(wa(wa(wa({},t),e),B))}};return m=n.isStepper?N:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var Jae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xae(t,e){if(t==null)return{};var n=Qae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zA(t){return nse(t)||tse(t)||ese(t)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function tse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nse(t){if(Array.isArray(t))return ME(t)}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){Og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Og(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ise(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function ase(t,e,n){return e&&ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mU(t){var e=sse(t,"string");return Jp(e)==="symbol"?e:String(e)}function sse(t,e){if(Jp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ose(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(t,e)}function lse(t){var e=cse();return function(){var r=Y1(t),i;if(e){var a=Y1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return LE(this,i)}}function LE(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FE(t)}function FE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}var Nu=(function(t){ose(n,t);var e=lse(n);function n(r,i){var a;rse(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,d=s.from,h=s.to,m=s.steps,g=s.children,y=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(FE(a)),a.changeStyle=a.changeStyle.bind(FE(a)),!l||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),LE(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof g=="function")return a.state={style:d},LE(a);a.state={style:c?Og({},c,d):d}}else a.state={style:{}};return a}return ase(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,h=a.to,m=a.from,g=this.state.style;if(l){if(!s){var y={style:c?Og({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(y);return}if(!(mae(i.to,h)&&i.canBegin&&i.isActive)){var N=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=N||d?m:i.to;if(this.state&&g){var A={style:c?Og({},c,S):S};(c&&g[c]!==S||!c&&g!==S)&&this.setState(A)}this.runAnimation(xl(xl({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,d=i.easing,h=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,y=Yae(s,l,Fae(d),c,this.changeStyle),N=function(){a.stopJSAnimation=y()};this.manager.start([g,h,N,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,d=s[0],h=d.style,m=d.duration,g=m===void 0?0:m,y=function(S,A,C){if(C===0)return S;var I=A.duration,k=A.easing,B=k===void 0?"ease":k,L=A.style,z=A.properties,D=A.onAnimationEnd,j=C>0?s[C-1]:A,V=z||Object.keys(L);if(typeof B=="function"||B==="spring")return[].concat(zA(S),[a.runJSAnimation.bind(a,{from:j.style,to:L,duration:I,easing:B}),I]);var Y=Oj(V,I,B),q=xl(xl(xl({},j.style),L),{},{transition:Y});return[].concat(zA(S),[q,I,D]).filter(Nae)};return this.manager.start([c].concat(zA(s.reduce(y,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wae());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,d=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,y=i.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var S=l?Og({},l,c):c,A=Oj(Object.keys(S),s,d);N.start([h,a,xl(xl({},S),{},{transition:A}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Xae(i,Jae),d=be.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||d===0||s<=0)return a;var m=function(y){var N=y.props,S=N.style,A=S===void 0?{}:S,C=N.className,I=be.cloneElement(y,xl(xl({},c),{},{style:xl(xl({},A),h),className:C}));return I};return d===1?m(be.Children.only(a)):je.createElement("div",null,be.Children.map(a,function(g){return m(g)}))}}]),n})(be.PureComponent);Nu.displayName="Animate";Nu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Nu.propTypes={from:nr.oneOfType([nr.object,nr.string]),to:nr.oneOfType([nr.object,nr.string]),attributeName:nr.string,duration:nr.number,begin:nr.number,easing:nr.oneOfType([nr.string,nr.func]),steps:nr.arrayOf(nr.shape({duration:nr.number.isRequired,style:nr.object.isRequired,easing:nr.oneOfType([nr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nr.func]),properties:nr.arrayOf("string"),onAnimationEnd:nr.func})),children:nr.oneOfType([nr.node,nr.func]),isActive:nr.bool,canBegin:nr.bool,onAnimationEnd:nr.func,shouldReAnimate:nr.bool,onAnimationStart:nr.func,onAnimationReStart:nr.func};function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(this,arguments)}function use(t,e){return pse(t)||hse(t,e)||fse(t,e)||dse()}function dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fse(t,e){if(t){if(typeof t=="string")return Uj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uj(t,e)}}function Uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function pse(t){if(Array.isArray(t))return t}function Bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return e=gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=vse(t,"string");return k0(e)=="symbol"?e:e+""}function vse(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vj=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var N=Math.min(s,a);h="M ".concat(e,",").concat(n+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+c*N,",").concat(n,`
            L `).concat(e+r-c*N,",").concat(n,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*N,`
            L `).concat(e+r,",").concat(n+i-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r-c*N,",").concat(n+i,`
            L `).concat(e+c*N,",").concat(n+i,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*N," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},yse=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(s,s+c),g=Math.max(s,s+c);return r>=d&&r<=h&&i>=m&&i<=g}return!1},xse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nC=function(e){var n=qj(qj({},xse),e),r=be.useRef(),i=be.useState(-1),a=use(i,2),s=a[0],l=a[1];be.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var B=r.current.getTotalLength();B&&l(B)}catch{}},[]);var c=n.x,d=n.y,h=n.width,m=n.height,g=n.radius,y=n.className,N=n.animationEasing,S=n.animationDuration,A=n.animationBegin,C=n.isAnimationActive,I=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var k=$n("recharts-rectangle",y);return I?je.createElement(Nu,{canBegin:s>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:S,animationEasing:N,isActive:I},function(B){var L=B.width,z=B.height,D=B.x,j=B.y;return je.createElement(Nu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:S,isActive:C,easing:N},je.createElement("path",J1({},En(n,!0),{className:k,d:Vj(D,j,L,z,g),ref:r})))}):je.createElement("path",J1({},En(n,!0),{className:k,d:Vj(c,d,h,m,g)}))};function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}var rC=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=$n("recharts-dot",a);return n===+n&&r===+r&&i===+i?be.createElement("circle",UE({},En(e,!1),g1(e),{className:s,cx:n,cy:r,r:i})):null};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}var bse=["x","y","top","left","width","height","className"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(this,arguments)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return e=Ase(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ase(t){var e=Sse(t,"string");return P0(e)=="symbol"?e:e+""}function Sse(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ese(t,e){if(t==null)return{};var n=Nse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tse=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Cse=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,d=c===void 0?0:c,h=e.width,m=h===void 0?0:h,g=e.height,y=g===void 0?0:g,N=e.className,S=Ese(e,bse),A=_se({x:r,y:a,top:l,left:d,width:m,height:y},S);return!bt(r)||!bt(a)||!bt(m)||!bt(y)||!bt(l)||!bt(d)?null:je.createElement("path",BE({},En(A,!0),{className:$n("recharts-cross",N),d:Tse(r,a,m,y,l,d)}))},$A,$j;function Ise(){if($j)return $A;$j=1;var t=D9(),e=t(Object.getPrototypeOf,Object);return $A=e,$A}var HA,Hj;function Rse(){if(Hj)return HA;Hj=1;var t=ju(),e=Ise(),n=Mu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return HA=d,HA}var kse=Rse();const Pse=mr(kse);var GA,Gj;function Ose(){if(Gj)return GA;Gj=1;var t=ju(),e=Mu(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return GA=r,GA}var jse=Ose();const Mse=mr(jse);function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function Dse(t,e){return Bse(t)||Use(t,e)||Fse(t,e)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(t,e){if(t){if(typeof t=="string")return Wj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wj(t,e)}}function Wj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Use(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Bse(t){if(Array.isArray(t))return t}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e,n){return e=Vse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=zse(t,"string");return O0(e)=="symbol"?e:e+""}function zse(t,e){if(O0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jj=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},$se={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hse=function(e){var n=Yj(Yj({},$se),e),r=be.useRef(),i=be.useState(-1),a=Dse(i,2),s=a[0],l=a[1];be.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&l(k)}catch{}},[]);var c=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,g=n.height,y=n.className,N=n.animationEasing,S=n.animationDuration,A=n.animationBegin,C=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var I=$n("recharts-trapezoid",y);return C?je.createElement(Nu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:g,x:c,y:d},duration:S,animationEasing:N,isActive:C},function(k){var B=k.upperWidth,L=k.lowerWidth,z=k.height,D=k.x,j=k.y;return je.createElement(Nu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:S,easing:N},je.createElement("path",X1({},En(n,!0),{className:I,d:Jj(D,j,B,L,z),ref:r})))}):je.createElement("g",null,je.createElement("path",X1({},En(n,!0),{className:I,d:Jj(c,d,h,m,g)})))},Gse=["option","shapeType","propTransformer","activeClassName","isActive"];function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function Wse(t,e){if(t==null)return{};var n=Kse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){Yse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yse(t,e,n){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Xse(t,"string");return j0(e)=="symbol"?e:e+""}function Xse(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qse(t,e){return Q1(Q1({},e),t)}function Zse(t,e){return t==="symbols"}function Qj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return je.createElement(nC,n);case"trapezoid":return je.createElement(Hse,n);case"sector":return je.createElement(lU,n);case"symbols":if(Zse(e))return je.createElement(_T,n);break;default:return null}}function eoe(t){return be.isValidElement(t)?t.props:t}function toe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Qse:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=Wse(t,Gse),d;if(be.isValidElement(e))d=be.cloneElement(e,Q1(Q1({},c),eoe(e)));else if(hn(e))d=e(c);else if(Pse(e)&&!Mse(e)){var h=i(e,c);d=je.createElement(Qj,{shapeType:n,elementProps:h})}else{var m=c;d=je.createElement(Qj,{shapeType:n,elementProps:m})}return l?je.createElement(Qr,{className:s},d):d}function cb(t,e){return e!=null&&"trapezoids"in t.props}function ub(t,e){return e!=null&&"sectors"in t.props}function M0(t,e){return e!=null&&"points"in t.props}function noe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function roe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ioe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function aoe(t,e){var n;return cb(t,e)?n=noe:ub(t,e)?n=roe:M0(t,e)&&(n=ioe),n}function soe(t,e){var n;return cb(t,e)?n="trapezoids":ub(t,e)?n="sectors":M0(t,e)&&(n="points"),n}function ooe(t,e){if(cb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ub(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return M0(t,e)?e.payload:{}}function loe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=soe(n,e),a=ooe(n,e),s=r.filter(function(c,d){var h=y0(a,c),m=n.props[i].filter(function(N){var S=aoe(n,e);return S(N,e)}),g=n.props[i].indexOf(m[m.length-1]),y=d===g;return h&&y}),l=r.indexOf(s[s.length-1]);return l}var WA,Zj;function coe(){if(Zj)return WA;Zj=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var l=-1,c=e(t((i-r)/(a||1)),0),d=Array(c);c--;)d[s?c:++l]=r,r+=a;return d}return WA=n,WA}var KA,eM;function gU(){if(eM)return KA;eM=1;var t=Q9(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return KA=r,KA}var YA,tM;function uoe(){if(tM)return YA;tM=1;var t=coe(),e=Qx(),n=gU();function r(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),t(a,s,l,i)}}return YA=r,YA}var JA,nM;function doe(){if(nM)return JA;nM=1;var t=uoe(),e=t();return JA=e,JA}var foe=doe();const Z1=mr(foe);function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){vU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vU(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return D0(e)=="symbol"?e:e+""}function poe(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var moe=["Webkit","Moz","O","ms"],goe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=moe.reduce(function(a,s){return iM(iM({},a),{},vU({},s+r,n))},{});return i[e]=n,i};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(this,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){co(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xU(r.key),r)}}function yoe(t,e,n){return e&&sM(t.prototype,e),n&&sM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xoe(t,e,n){return e=tx(e),boe(t,yU()?Reflect.construct(e,n||[],tx(t).constructor):e.apply(t,n))}function boe(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _oe(t)}function _oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yU=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(t)}function woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qE(t,e)}function co(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=Aoe(t,"string");return Xp(e)=="symbol"?e:e+""}function Aoe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Soe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Hg().domain(Z1(0,c)).range([a,a+s-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},oM=function(e){return e.changedTouches&&!!e.changedTouches.length},Qp=(function(t){function e(n){var r;return voe(this,e),r=xoe(this,e,[n]),co(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),co(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),co(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),co(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),co(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),co(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),co(r,"handleSlideDragStart",function(i){var a=oM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return woe(e,t),yoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(s,m),N=e.getIndexInRange(s,g);return{startIndex:y-y%c,endIndex:N===h?h:N-N%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=vo(a[r],l,r);return hn(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,g=c.startIndex,y=c.endIndex,N=c.onChange,S=r.pageX-a;S>0?S=Math.min(S,d+h-m-l,d+h-m-s):S<0&&(S=Math.max(S,d-s,d-l));var A=this.getIndex({startX:s+S,endX:l+S});(A.startIndex!==g||A.endIndex!==y)&&N&&N(A),this.setState({startX:s+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=oM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[s],h=this.props,m=h.x,g=h.width,y=h.travellerWidth,N=h.onChange,S=h.gap,A=h.data,C={startX:this.state.startX,endX:this.state.endX},I=r.pageX-a;I>0?I=Math.min(I,m+g-y-d):I<0&&(I=Math.max(I,m-d)),C[s]=d+I;var k=this.getIndex(C),B=k.startIndex,L=k.endIndex,z=function(){var j=A.length-1;return s==="startX"&&(l>c?B%S===0:L%S===0)||l<c&&L===j||s==="endX"&&(l>c?L%S===0:B%S===0)||l>c&&L===j};this.setState(co(co({},s,d+I),"brushMoveStartX",r.pageX),function(){N&&z()&&N(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,d=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var g=m+r;if(!(g===-1||g>=l.length)){var y=l[g];i==="startX"&&y>=d||i==="endX"&&y<=c||this.setState(co({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,d=r.stroke;return je.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,d=r.children,h=r.padding,m=be.Children.only(d);return m?je.cloneElement(m,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,g=c.traveller,y=c.ariaLabel,N=c.data,S=c.startIndex,A=c.endIndex,C=Math.max(r,this.props.x),I=XA(XA({},En(this.props,!1)),{},{x:C,y:d,width:h,height:m}),k=y||"Min value: ".concat((a=N[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=N[A])===null||s===void 0?void 0:s.name);return je.createElement(Qr,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),l.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,I))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,h=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return je.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,g=h.endX,y=5,N={pointerEvents:"none",fill:d};return je.createElement(Qr,{className:"recharts-brush-texts"},je.createElement(C1,ex({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:s+l/2},N),this.getTextOfTick(i)),je.createElement(C1,ex({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+y,y:s+l/2},N),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,d=r.width,h=r.height,m=r.alwaysShowText,g=this.state,y=g.startX,N=g.endX,S=g.isTextActive,A=g.isSlideMoving,C=g.isTravellerMoving,I=g.isTravellerFocused;if(!i||!i.length||!bt(l)||!bt(c)||!bt(d)||!bt(h)||d<=0||h<=0)return null;var k=$n("recharts-brush",a),B=je.Children.count(s)===1,L=goe("userSelect","none");return je.createElement(Qr,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),B&&this.renderPanorama(),this.renderSlide(y,N),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(N,"endX"),(S||A||C||I||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return je.createElement(je.Fragment,null,je.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),je.createElement("line",{x1:i+1,y1:d,x2:i+s-1,y2:d,fill:"none",stroke:"#fff"}),je.createElement("line",{x1:i+1,y1:d+2,x2:i+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return je.isValidElement(r)?a=je.cloneElement(r,i):hn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return XA({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s},a&&a.length?Soe({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(be.PureComponent);co(Qp,"displayName","Brush");co(Qp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QA,lM;function Eoe(){if(lM)return QA;lM=1;var t=CT();function e(n,r){var i;return t(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return QA=e,QA}var ZA,cM;function Noe(){if(cM)return ZA;cM=1;var t=I9(),e=sf(),n=Eoe(),r=Bs(),i=Qx();function a(s,l,c){var d=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),d(s,e(l,3))}return ZA=a,ZA}var Toe=Noe();const Coe=mr(Toe);var Ec=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},eS,uM;function Ioe(){if(uM)return eS;uM=1;var t=W9();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return eS=e,eS}var tS,dM;function Roe(){if(dM)return tS;dM=1;var t=Ioe(),e=H9(),n=sf();function r(i,a){var s={};return a=n(a,3),e(i,function(l,c,d){t(s,c,a(l,c,d))}),s}return tS=r,tS}var koe=Roe();const Poe=mr(koe);var nS,fM;function Ooe(){if(fM)return nS;fM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return nS=t,nS}var rS,hM;function joe(){if(hM)return rS;hM=1;var t=CT();function e(n,r){var i=!0;return t(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return rS=e,rS}var iS,pM;function Moe(){if(pM)return iS;pM=1;var t=Ooe(),e=joe(),n=sf(),r=Bs(),i=Qx();function a(s,l,c){var d=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),d(s,n(l,3))}return iS=a,iS}var Doe=Moe();const bU=mr(Doe);var Loe=["x","y"];function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(this,arguments)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){Foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Foe(t,e,n){return e=Uoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=Boe(t,"string");return L0(e)=="symbol"?e:e+""}function Boe(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qoe(t,e){if(t==null)return{};var n=Voe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Voe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zoe(t,e){var n=t.x,r=t.y,i=qoe(t,Loe),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),h=parseInt(d,10),m="".concat(e.width||i.width),g=parseInt(m,10);return Sg(Sg(Sg(Sg(Sg({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function gM(t){return je.createElement(toe,VE({shapeType:"rectangle",propTransformer:zoe,activeClassName:"recharts-active-bar"},t))}var $oe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=bt(r)||YK(r);return a?e(r,i):(a||rh(),n)}},Hoe=["value","background"],_U;function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function Goe(t,e){if(t==null)return{};var n=Woe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Woe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Od(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AU(r.key),r)}}function Yoe(t,e,n){return e&&yM(t.prototype,e),n&&yM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Joe(t,e,n){return e=rx(e),Xoe(t,wU()?Reflect.construct(e,n||[],rx(t).constructor):e.apply(t,n))}function Xoe(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qoe(t)}function Qoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wU=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function Od(t,e,n){return e=AU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AU(t){var e=ele(t,"string");return Zp(e)=="symbol"?e:e+""}function ele(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lv=(function(t){function e(){var n;Koe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Joe(this,e,[].concat(i)),Od(n,"state",{isAnimationFinished:!1}),Od(n,"id",nv("recharts-bar-")),Od(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Od(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Zoe(e,t),Yoe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,h=En(this.props,!1);return r&&r.map(function(m,g){var y=g===c,N=y?d:s,S=Ii(Ii(Ii({},h),m),{},{isActive:y,option:N,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return je.createElement(Qr,nx({className:"recharts-bar-rectangle"},v1(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),je.createElement(gM,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,g=this.state.prevData;return je.createElement(Nu,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var N=y.t,S=a.map(function(A,C){var I=g&&g[C];if(I){var k=Uo(I.x,A.x),B=Uo(I.y,A.y),L=Uo(I.width,A.width),z=Uo(I.height,A.height);return Ii(Ii({},A),{},{x:k(N),y:B(N),width:L(N),height:z(N)})}if(s==="horizontal"){var D=Uo(0,A.height),j=D(N);return Ii(Ii({},A),{},{y:A.y+A.height-j,height:j})}var V=Uo(0,A.width),Y=V(N);return Ii(Ii({},A),{},{width:Y})});return je.createElement(Qr,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!y0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=En(this.props.background,!1);return a.map(function(d,h){d.value;var m=d.background,g=Goe(d,Hoe);if(!m)return null;var y=Ii(Ii(Ii(Ii(Ii({},g),{},{fill:"#eee"},m),c),v1(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return je.createElement(gM,nx({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,m=Cl(h,lb);if(!m)return null;var g=d==="vertical"?s[0].height/2:s[0].width/2,y=function(A,C){var I=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:I,errorVal:vo(A,C)}},N={clipPath:r?"url(#clipPath-".concat(i,")"):null};return je.createElement(Qr,N,m.map(function(S){return je.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:l,yAxis:c,layout:d,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,d=r.left,h=r.top,m=r.width,g=r.height,y=r.isAnimationActive,N=r.background,S=r.id;if(i||!a||!a.length)return null;var A=this.state.isAnimationFinished,C=$n("recharts-bar",s),I=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,B=I||k,L=On(S)?this.id:S;return je.createElement(Qr,{className:C},I||k?je.createElement("defs",null,je.createElement("clipPath",{id:"clipPath-".concat(L)},je.createElement("rect",{x:I?d:d-m/2,y:k?h:h-g/2,width:I?m:m*2,height:k?g:g*2}))):null,je.createElement(Qr,{className:"recharts-bar-rectangles",clipPath:B?"url(#clipPath-".concat(L,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(B,L),(!y||A)&&Bd.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(be.PureComponent);_U=lv;Od(lv,"displayName","Bar");Od(lv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_m.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Od(lv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=mre(r,n);if(!y)return null;var N=e.layout,S=n.type.defaultProps,A=S!==void 0?Ii(Ii({},S),n.props):n.props,C=A.dataKey,I=A.children,k=A.minPointSize,B=N==="horizontal"?s:a,L=d?B.scale.domain():null,z=Are({numericAxis:B}),D=Cl(I,eF),j=m.map(function(V,Y){var q,M,F,Q,se,W;d?q=gre(d[h+Y],L):(q=vo(V,C),Array.isArray(q)||(q=[z,q]));var ee=$oe(k,_U.defaultProps.minPointSize)(q[1],Y);if(N==="horizontal"){var le,xe=[s.scale(q[0]),s.scale(q[1])],ve=xe[0],ce=xe[1];M=ij({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:V,index:Y}),F=(le=ce??ve)!==null&&le!==void 0?le:void 0,Q=y.size;var O=ve-ce;if(se=Number.isNaN(O)?0:O,W={x:M,y:s.y,width:Q,height:s.height},Math.abs(ee)>0&&Math.abs(se)<Math.abs(ee)){var K=Nl(se||ee)*(Math.abs(ee)-Math.abs(se));F-=K,se+=K}}else{var H=[a.scale(q[0]),a.scale(q[1])],Z=H[0],te=H[1];if(M=Z,F=ij({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:V,index:Y}),Q=te-Z,se=y.size,W={x:a.x,y:F,width:a.width,height:se},Math.abs(ee)>0&&Math.abs(Q)<Math.abs(ee)){var me=Nl(Q||ee)*(Math.abs(ee)-Math.abs(Q));Q+=me}}return Ii(Ii(Ii({},V),{},{x:M,y:F,width:Q,height:se,value:d?q:q[1],payload:V,background:W},D&&D[Y]&&D[Y].props),{},{tooltipPayload:[aU(n,V)],tooltipPosition:{x:M+Q/2,y:F+se/2}})});return Ii({data:j,layout:N},g)});function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function nle(t,e,n){return e&&xM(t.prototype,e),n&&xM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SU(t){var e=rle(t,"string");return F0(e)=="symbol"?e:e+""}function rle(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ile=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!uo(d,lv);return h.reduce(function(y,N){var S=n[N],A=S.orientation,C=S.domain,I=S.padding,k=I===void 0?{}:I,B=S.mirror,L=S.reversed,z="".concat(A).concat(B?"Mirror":""),D,j,V,Y,q;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var M=C[1]-C[0],F=1/0,Q=S.categoricalDomain.sort(QK);if(Q.forEach(function(H,Z){Z>0&&(F=Math.min((H||0)-(Q[Z-1]||0),F))}),Number.isFinite(F)){var se=F/M,W=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(D=se*W/2),S.padding==="no-gap"){var ee=th(e.barCategoryGap,se*W),le=se*W/2;D=le-ee-(le-ee)/W*ee}}}i==="xAxis"?j=[r.left+(k.left||0)+(D||0),r.left+r.width-(k.right||0)-(D||0)]:i==="yAxis"?j=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(D||0),r.top+r.height-(k.bottom||0)-(D||0)]:j=S.range,L&&(j=[j[1],j[0]]);var xe=hre(S,a,g),ve=xe.scale,ce=xe.realScaleType;ve.domain(C).range(j),pre(ve);var O=wre(ve,Sl(Sl({},S),{},{realScaleType:ce}));i==="xAxis"?(q=A==="top"&&!B||A==="bottom"&&B,V=r.left,Y=m[z]-q*S.height):i==="yAxis"&&(q=A==="left"&&!B||A==="right"&&B,V=m[z]-q*S.width,Y=r.top);var K=Sl(Sl(Sl({},S),O),{},{realScaleType:ce,x:V,y:Y,scale:ve,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return K.bandSize=z1(K,O),!S.hide&&i==="xAxis"?m[z]+=(q?-1:1)*K.height:S.hide||(m[z]+=(q?-1:1)*K.width),Sl(Sl({},y),{},db({},N,K))},{})},EU=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},ale=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return EU({x:n,y:r},{x:i,y:a})},NU=(function(){function t(e){tle(this,t),this.scale=e}return nle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();db(NU,"EPS",1e-4);var iC=function(e){var n=Object.keys(e).reduce(function(r,i){return Sl(Sl({},r),{},db({},i,NU.create(e[i])))},{});return Sl(Sl({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Poe(i,function(c,d){return n[d].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return bU(i,function(a,s){return n[s].isInRange(a)})}})};function sle(t){return(t%180+180)%180}var ole=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sle(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},aS,_M;function lle(){if(_M)return aS;_M=1;var t=sf(),e=rv(),n=Jx();function r(i){return function(a,s,l){var c=Object(a);if(!e(a)){var d=t(s,3);a=n(a),s=function(m){return d(c[m],m,c)}}var h=i(a,s,l);return h>-1?c[d?a[h]:h]:void 0}}return aS=r,aS}var sS,wM;function cle(){if(wM)return sS;wM=1;var t=gU();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return sS=e,sS}var oS,AM;function ule(){if(AM)return oS;AM=1;var t=B9(),e=sf(),n=cle(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(a,e(s,3),d)}return oS=i,oS}var lS,SM;function dle(){if(SM)return lS;SM=1;var t=lle(),e=ule(),n=t(e);return lS=n,lS}var fle=dle();const hle=mr(fle);var ple=n9();const mle=mr(ple);var gle=mle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),aC=be.createContext(void 0),sC=be.createContext(void 0),TU=be.createContext(void 0),CU=be.createContext({}),IU=be.createContext(void 0),RU=be.createContext(0),kU=be.createContext(0),EM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,d=e.height,h=gle(a);return je.createElement(aC.Provider,{value:r},je.createElement(sC.Provider,{value:i},je.createElement(CU.Provider,{value:a},je.createElement(TU.Provider,{value:h},je.createElement(IU.Provider,{value:s},je.createElement(RU.Provider,{value:d},je.createElement(kU.Provider,{value:c},l)))))))},vle=function(){return be.useContext(IU)},PU=function(e){var n=be.useContext(aC);n==null&&rh();var r=n[e];return r==null&&rh(),r},yle=function(){var e=be.useContext(aC);return Nd(e)},xle=function(){var e=be.useContext(sC),n=hle(e,function(r){return bU(r.domain,Number.isFinite)});return n||Nd(e)},OU=function(e){var n=be.useContext(sC);n==null&&rh();var r=n[e];return r==null&&rh(),r},ble=function(){var e=be.useContext(TU);return e},_le=function(){return be.useContext(CU)},oC=function(){return be.useContext(kU)},lC=function(){return be.useContext(RU)};function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ale(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MU(r.key),r)}}function Sle(t,e,n){return e&&Ale(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ele(t,e,n){return e=ix(e),Nle(t,jU()?Reflect.construct(e,n||[],ix(t).constructor):e.apply(t,n))}function Nle(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tle(t)}function Tle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}function Cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$E(t,e)}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){cC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cC(t,e,n){return e=MU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MU(t){var e=Ile(t,"string");return em(e)=="symbol"?e:e+""}function Ile(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rle(t,e){return jle(t)||Ole(t,e)||Ple(t,e)||kle()}function kle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(t,e){if(t){if(typeof t=="string")return CM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(t,e)}}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ole(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function jle(t){if(Array.isArray(t))return t}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}var Mle=function(e,n){var r;return je.isValidElement(e)?r=je.cloneElement(e,n):hn(e)?r=e(n):r=je.createElement("line",HE({},n,{className:"recharts-reference-line-line"})),r},Dle=function(e,n,r,i,a,s,l,c,d){var h=a.x,m=a.y,g=a.width,y=a.height;if(r){var N=d.y,S=e.y.apply(N,{position:s});if(Ec(d,"discard")&&!e.y.isInRange(S))return null;var A=[{x:h+g,y:S},{x:h,y:S}];return c==="left"?A.reverse():A}if(n){var C=d.x,I=e.x.apply(C,{position:s});if(Ec(d,"discard")&&!e.x.isInRange(I))return null;var k=[{x:I,y:m+y},{x:I,y:m}];return l==="top"?k.reverse():k}if(i){var B=d.segment,L=B.map(function(z){return e.apply(z,{position:s})});return Ec(d,"discard")&&Coe(L,function(z){return!e.isInRange(z)})?null:L}return null};function Lle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,d=vle(),h=PU(i),m=OU(a),g=ble();if(!d||!g)return null;_u(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=iC({x:h.scale,y:m.scale}),N=Wi(e),S=Wi(n),A=r&&r.length===2,C=Dle(y,N,S,A,g,t.position,h.orientation,m.orientation,t);if(!C)return null;var I=Rle(C,2),k=I[0],B=k.x,L=k.y,z=I[1],D=z.x,j=z.y,V=Ec(t,"hidden")?"url(#".concat(d,")"):void 0,Y=TM(TM({clipPath:V},En(t,!0)),{},{x1:B,y1:L,x2:D,y2:j});return je.createElement(Qr,{className:$n("recharts-reference-line",l)},Mle(s,Y),Ja.renderCallByParent(t,ale({x1:B,y1:L,x2:D,y2:j})))}var uC=(function(t){function e(){return wle(this,e),Ele(this,e,arguments)}return Cle(e,t),Sle(e,[{key:"render",value:function(){return je.createElement(Lle,this.props)}}])})(je.Component);cC(uC,"displayName","ReferenceLine");cC(uC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ule(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function Ble(t,e,n){return e&&Ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qle(t,e,n){return e=ax(e),Vle(t,DU()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function Vle(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(t)}function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function $le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(t,e)}function fb(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LU(t){var e=Hle(t,"string");return tm(e)=="symbol"?e:e+""}function Hle(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gle=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=iC({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Ec(e,"discard")&&!s.isInRange(l)?null:l},hb=(function(t){function e(){return Fle(this,e),qle(this,e,arguments)}return $le(e,t),Ble(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,d=Wi(i),h=Wi(a);if(_u(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=Gle(this.props);if(!m)return null;var g=m.x,y=m.y,N=this.props,S=N.shape,A=N.className,C=Ec(this.props,"hidden")?"url(#".concat(c,")"):void 0,I=RM(RM({clipPath:C},En(this.props,!0)),{},{cx:g,cy:y});return je.createElement(Qr,{className:$n("recharts-reference-dot",A)},e.renderDot(S,I),Ja.renderCallByParent(this.props,{x:g-s,y:y-s,width:2*s,height:2*s}))}}])})(je.Component);fb(hb,"displayName","ReferenceDot");fb(hb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fb(hb,"renderDot",function(t,e){var n;return je.isValidElement(t)?n=je.cloneElement(t,e):hn(t)?n=t(e):n=je.createElement(rC,GE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function Yle(t,e,n){return e&&Kle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,n){return e=sx(e),Xle(t,FU()?Reflect.construct(e,n||[],sx(t).constructor):e.apply(t,n))}function Xle(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qle(t)}function Qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YE(t,e)}function pb(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=ece(t,"string");return nm(e)=="symbol"?e:e+""}function ece(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tce=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,d=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var g=iC({x:h.scale,y:m.scale}),y={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},N={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(d,{position:"end"}):g.y.rangeMax};return Ec(a,"discard")&&(!g.isInRange(y)||!g.isInRange(N))?null:EU(y,N)},mb=(function(t){function e(){return Wle(this,e),Jle(this,e,arguments)}return Zle(e,t),Yle(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,h=r.clipPathId;_u(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Wi(i),g=Wi(a),y=Wi(s),N=Wi(l),S=this.props.shape;if(!m&&!g&&!y&&!N&&!S)return null;var A=tce(m,g,y,N,this.props);if(!A&&!S)return null;var C=Ec(this.props,"hidden")?"url(#".concat(h,")"):void 0;return je.createElement(Qr,{className:$n("recharts-reference-area",c)},e.renderRect(S,PM(PM({clipPath:C},En(this.props,!0)),A)),Ja.renderCallByParent(this.props,A))}}])})(je.Component);pb(mb,"displayName","ReferenceArea");pb(mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pb(mb,"renderRect",function(t,e){var n;return je.isValidElement(t)?n=je.cloneElement(t,e):hn(t)?n=t(e):n=je.createElement(nC,KE({},e,{className:"recharts-reference-area-rect"})),n});function BU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ole(r,n)}function rce(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function ox(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ice(t,e){return BU(t,e+1)}function ace(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,d=1,h=s,m=function(){var N=r==null?void 0:r[c];if(N===void 0)return{v:BU(r,d)};var S=c,A,C=function(){return A===void 0&&(A=n(N,S)),A},I=N.coordinate,k=c===0||ox(t,I,C,h,l);k||(c=0,h=s,d+=1),k&&(h=I+t*(C()/2+i),c+=d)},g;d<=a.length;)if(g=m(),g)return g.v;return[]}function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return e=oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return U0(e)=="symbol"?e:e+""}function lce(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cce(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,d=function(g){var y=a[g],N,S=function(){return N===void 0&&(N=n(y,g)),N};if(g===s-1){var A=t*(y.coordinate+t*S()/2-c);a[g]=y=Ka(Ka({},y),{},{tickCoord:A>0?y.coordinate-A*t:y.coordinate})}else a[g]=y=Ka(Ka({},y),{},{tickCoord:y.coordinate});var C=ox(t,y.tickCoord,S,l,c);C&&(c=y.tickCoord-t*(S()/2+i),a[g]=Ka(Ka({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return a}function uce(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,d=e.end;if(a){var h=r[l-1],m=n(h,l-1),g=t*(h.coordinate+t*m/2-d);s[l-1]=h=Ka(Ka({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var y=ox(t,h.tickCoord,function(){return m},c,d);y&&(d=h.tickCoord-t*(m/2+i),s[l-1]=Ka(Ka({},h),{},{isShow:!0}))}for(var N=a?l-1:l,S=function(I){var k=s[I],B,L=function(){return B===void 0&&(B=n(k,I)),B};if(I===0){var z=t*(k.coordinate-t*L()/2-c);s[I]=k=Ka(Ka({},k),{},{tickCoord:z<0?k.coordinate-z*t:k.coordinate})}else s[I]=k=Ka(Ka({},k),{},{tickCoord:k.coordinate});var D=ox(t,k.tickCoord,L,c,d);D&&(c=k.tickCoord+t*(L()/2+i),s[I]=Ka(Ka({},k),{},{isShow:!0}))},A=0;A<N;A++)S(A);return s}function dC(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(bt(c)||_m.isSsr)return ice(i,typeof c=="number"&&bt(c)?c:0);var g=[],y=l==="top"||l==="bottom"?"width":"height",N=h&&y==="width"?$g(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(k,B){var L=hn(d)?d(k.value,B):k.value;return y==="width"?nce($g(L,{fontSize:e,letterSpacing:n}),N,m):$g(L,{fontSize:e,letterSpacing:n})[y]},A=i.length>=2?Nl(i[1].coordinate-i[0].coordinate):1,C=rce(a,A,y);return c==="equidistantPreserveStart"?ace(A,C,S,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=uce(A,C,S,i,s,c==="preserveStartEnd"):g=cce(A,C,S,i,s),g.filter(function(I){return I.isShow}))}var dce=["viewBox"],fce=["viewBox"],hce=["ticks"];function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){fC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cS(t,e){if(t==null)return{};var n=pce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function gce(t,e,n){return e&&MM(t.prototype,e),n&&MM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vce(t,e,n){return e=lx(e),yce(t,qU()?Reflect.construct(e,n||[],lx(t).constructor):e.apply(t,n))}function yce(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(t)}function xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JE(t,e)}function fC(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=_ce(t,"string");return rm(e)=="symbol"?e:e+""}function _ce(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Em=(function(t){function e(n){var r;return mce(this,e),r=vce(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bce(e,t),gce(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=cS(r,dce),l=this.props,c=l.viewBox,d=cS(l,fce);return!Ep(a,c)||!Ep(s,d)||!Ep(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,d=i.orientation,h=i.tickSize,m=i.mirror,g=i.tickMargin,y,N,S,A,C,I,k=m?-1:1,B=r.tickSize||h,L=bt(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":y=N=r.coordinate,A=s+ +!m*c,S=A-k*B,I=S-k*g,C=L;break;case"left":S=A=r.coordinate,N=a+ +!m*l,y=N-k*B,C=y-k*g,I=L;break;case"right":S=A=r.coordinate,N=a+ +m*l,y=N+k*B,C=y+k*g,I=L;break;default:y=N=r.coordinate,A=s+ +m*c,S=A+k*B,I=S+k*g,C=L;break}return{line:{x1:y,y1:S,x2:N,y2:A},tick:{x:C,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,d=r.mirror,h=r.axisLine,m=Hi(Hi(Hi({},En(this.props,!1)),En(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!d||c==="bottom"&&d);m=Hi(Hi({},m),{},{x1:i,y1:a+g*l,x2:i+s,y2:a+g*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);m=Hi(Hi({},m),{},{x1:i+y*s,y1:a,x2:i+y*s,y2:a+l})}return je.createElement("line",yp({},m,{className:$n("recharts-cartesian-axis-line",zo(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,y=dC(Hi(Hi({},this.props),{},{ticks:r}),i,a),N=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),A=En(this.props,!1),C=En(h,!1),I=Hi(Hi({},A),{},{fill:"none"},En(c,!1)),k=y.map(function(B,L){var z=s.getTickLineCoord(B),D=z.line,j=z.tick,V=Hi(Hi(Hi(Hi({textAnchor:N,verticalAnchor:S},A),{},{stroke:"none",fill:d},C),j),{},{index:L,payload:B,visibleTicksCount:y.length,tickFormatter:m});return je.createElement(Qr,yp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},v1(s.props,B,L)),c&&je.createElement("line",yp({},I,D,{className:$n("recharts-cartesian-axis-tick-line",zo(c,"className"))})),h&&e.renderTickItem(h,V,"".concat(hn(m)?m(B.value,L):B.value).concat(g||"")))});return je.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var m=this.props,g=m.ticks,y=cS(m,hce),N=g;return hn(c)&&(N=g&&g.length>0?c(this.props):c(y)),s<=0||l<=0||!N||!N.length?null:je.createElement(Qr,{className:$n("recharts-cartesian-axis",d),ref:function(A){r.layerReference=A}},a&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),Ja.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=$n(i.className,"recharts-cartesian-axis-tick-value");return je.isValidElement(r)?s=je.cloneElement(r,Hi(Hi({},i),{},{className:l})):hn(r)?s=r(Hi(Hi({},i),{},{className:l})):s=je.createElement(C1,yp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(be.Component);fC(Em,"displayName","CartesianAxis");fC(Em,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wce=["x1","y1","x2","y2","key"],Ace=["offset"];function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Nce(t,"string");return ih(e)=="symbol"?e:e+""}function Nce(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function LM(t,e){if(t==null)return{};var n=Tce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return je.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zU(t,e){var n;if(je.isValidElement(t))n=je.cloneElement(t,e);else if(hn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=LM(e,wce),d=En(c,!1);d.offset;var h=LM(d,Ace);n=je.createElement("line",Vf({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function Ice(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=Xa(Xa({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return zU(i,d)});return je.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Rce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=Xa(Xa({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return zU(i,d)});return je.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function kce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var N=!h[y+1],S=N?i+s-g:h[y+1]-g;if(S<=0)return null;var A=y%e.length;return je.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:S,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return je.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Pce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var N=!h[y+1],S=N?a+l-g:h[y+1]-g;if(S<=0)return null;var A=y%r.length;return je.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:c,stroke:"none",fill:r[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return je.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Oce=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return rU(dC(Xa(Xa(Xa({},Em.defaultProps),r),{},{ticks:gu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},jce=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return rU(dC(Xa(Xa(Xa({},Em.defaultProps),r),{},{ticks:gu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},ip={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $U(t){var e,n,r,i,a,s,l=oC(),c=lC(),d=_le(),h=Xa(Xa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ip.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ip.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ip.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ip.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ip.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ip.verticalFill,x:bt(t.x)?t.x:d.left,y:bt(t.y)?t.y:d.top,width:bt(t.width)?t.width:d.width,height:bt(t.height)?t.height:d.height}),m=h.x,g=h.y,y=h.width,N=h.height,S=h.syncWithTicks,A=h.horizontalValues,C=h.verticalValues,I=yle(),k=xle();if(!bt(y)||y<=0||!bt(N)||N<=0||!bt(m)||m!==+m||!bt(g)||g!==+g)return null;var B=h.verticalCoordinatesGenerator||Oce,L=h.horizontalCoordinatesGenerator||jce,z=h.horizontalPoints,D=h.verticalPoints;if((!z||!z.length)&&hn(L)){var j=A&&A.length,V=L({yAxis:k?Xa(Xa({},k),{},{ticks:j?A:k.ticks}):void 0,width:l,height:c,offset:d},j?!0:S);_u(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ih(V),"]")),Array.isArray(V)&&(z=V)}if((!D||!D.length)&&hn(B)){var Y=C&&C.length,q=B({xAxis:I?Xa(Xa({},I),{},{ticks:Y?C:I.ticks}):void 0,width:l,height:c,offset:d},Y?!0:S);_u(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ih(q),"]")),Array.isArray(q)&&(D=q)}return je.createElement("g",{className:"recharts-cartesian-grid"},je.createElement(Cce,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),je.createElement(Ice,Vf({},h,{offset:d,horizontalPoints:z,xAxis:I,yAxis:k})),je.createElement(Rce,Vf({},h,{offset:d,verticalPoints:D,xAxis:I,yAxis:k})),je.createElement(kce,Vf({},h,{horizontalPoints:z})),je.createElement(Pce,Vf({},h,{verticalPoints:D})))}$U.displayName="CartesianGrid";var Mce=["layout","type","stroke","connectNulls","isRange","ref"],Dce=["key"],HU;function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function GU(t,e){if(t==null)return{};var n=Lce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KU(r.key),r)}}function Uce(t,e,n){return e&&UM(t.prototype,e),n&&UM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bce(t,e,n){return e=cx(e),qce(t,WU()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function qce(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vce(t)}function Vce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function bc(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=$ce(t,"string");return im(e)=="symbol"?e:e+""}function $ce(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uf=(function(t){function e(){var n;Fce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Bce(this,e,[].concat(i)),bc(n,"state",{isAnimationFinished:!0}),bc(n,"id",nv("recharts-area-")),bc(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),hn(s)&&s()}),bc(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),hn(s)&&s()}),n}return zce(e,t),Uce(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,d=c.dot,h=c.points,m=c.dataKey,g=En(this.props,!1),y=En(d,!0),N=h.map(function(A,C){var I=Ad(Ad(Ad({key:"dot-".concat(C),r:3},g),y),{},{index:C,cx:A.x,cy:A.y,dataKey:m,value:A.value,payload:A.payload,points:h});return e.renderDotItem(d,I)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return je.createElement(Qr,zf({className:"recharts-area-dots"},S),N)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,d=s[s.length-1].x,h=r*Math.abs(c-d),m=Pd(s.map(function(g){return g.y||0}));return bt(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Pd(a.map(function(g){return g.y||0})),m)),bt(m)?je.createElement("rect",{x:c<d?c:c-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,d=s[s.length-1].y,h=r*Math.abs(c-d),m=Pd(s.map(function(g){return g.x||0}));return bt(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Pd(a.map(function(g){return g.x||0})),m)),bt(m)?je.createElement("rect",{x:0,y:c<d?c:c-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,d=l.type,h=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var y=GU(l,Mce);return je.createElement(Qr,{clipPath:a?"url(#clipPath-".concat(s,")"):null},je.createElement(Wg,zf({},En(y,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&je.createElement(Wg,zf({},En(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r})),h!=="none"&&g&&je.createElement(Wg,zf({},En(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,d=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,g=s.animationEasing,y=s.animationId,N=this.state,S=N.prevPoints,A=N.prevBaseLine;return je.createElement(Nu,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var I=C.t;if(S){var k=S.length/l.length,B=l.map(function(j,V){var Y=Math.floor(V*k);if(S[Y]){var q=S[Y],M=Uo(q.x,j.x),F=Uo(q.y,j.y);return Ad(Ad({},j),{},{x:M(I),y:F(I)})}return j}),L;if(bt(c)&&typeof c=="number"){var z=Uo(A,c);L=z(I)}else if(On(c)||xm(c)){var D=Uo(A,0);L=D(I)}else L=c.map(function(j,V){var Y=Math.floor(V*k);if(A[Y]){var q=A[Y],M=Uo(q.x,j.x),F=Uo(q.y,j.y);return Ad(Ad({},j),{},{x:M(I),y:F(I)})}return j});return a.renderAreaStatically(B,L,r,i)}return je.createElement(Qr,null,je.createElement("defs",null,je.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(I))),je.createElement(Qr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,g=d.totalLength;return c&&s&&s.length&&(!h&&g>0||!y0(h,s)||!y0(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,d=i.top,h=i.left,m=i.xAxis,g=i.yAxis,y=i.width,N=i.height,S=i.isAnimationActive,A=i.id;if(a||!l||!l.length)return null;var C=this.state.isAnimationFinished,I=l.length===1,k=$n("recharts-area",c),B=m&&m.allowDataOverflow,L=g&&g.allowDataOverflow,z=B||L,D=On(A)?this.id:A,j=(r=En(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},V=j.r,Y=V===void 0?3:V,q=j.strokeWidth,M=q===void 0?2:q,F=oY(s)?s:{},Q=F.clipDot,se=Q===void 0?!0:Q,W=Y*2+M;return je.createElement(Qr,{className:k},B||L?je.createElement("defs",null,je.createElement("clipPath",{id:"clipPath-".concat(D)},je.createElement("rect",{x:B?h:h-y/2,y:L?d:d-N/2,width:B?y:y*2,height:L?N:N*2})),!se&&je.createElement("clipPath",{id:"clipPath-dots-".concat(D)},je.createElement("rect",{x:h-W/2,y:d-W/2,width:y+W,height:N+W}))):null,I?null:this.renderArea(z,D),(s||I)&&this.renderDots(z,se,D),(!S||C)&&Bd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(be.PureComponent);HU=uf;bc(uf,"displayName","Area");bc(uf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_m.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bc(uf,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(bt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});bc(uf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=e.layout,N=d&&d.length,S=HU.getBaseValue(e,n,r,i),A=y==="horizontal",C=!1,I=m.map(function(B,L){var z;N?z=d[h+L]:(z=vo(B,c),Array.isArray(z)?C=!0:z=[S,z]);var D=z[1]==null||N&&vo(B,c)==null;return A?{x:rj({axis:r,ticks:a,bandSize:l,entry:B,index:L}),y:D?null:i.scale(z[1]),value:z,payload:B}:{x:D?null:r.scale(z[1]),y:rj({axis:i,ticks:s,bandSize:l,entry:B,index:L}),value:z,payload:B}}),k;return N||C?k=I.map(function(B){var L=Array.isArray(B.value)?B.value[0]:null;return A?{x:B.x,y:L!=null&&B.y!=null?i.scale(L):null}:{x:L!=null?r.scale(L):null,y:B.y}}):k=A?i.scale(S):r.scale(S),Ad({points:I,baseLine:k,layout:y,isRange:C},g)});bc(uf,"renderDotItem",function(t,e){var n;if(je.isValidElement(t))n=je.cloneElement(t,e);else if(hn(t))n=t(e);else{var r=$n("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=GU(e,Dce);n=je.createElement(rC,zf({},a,{key:i,className:r}))}return n});function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function Hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XU(r.key),r)}}function Wce(t,e,n){return e&&Gce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kce(t,e,n){return e=ux(e),Yce(t,YU()?Reflect.construct(e,n||[],ux(t).constructor):e.apply(t,n))}function Yce(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jce(t)}function Jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!t})()}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(t)}function Xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function JU(t,e,n){return e=XU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XU(t){var e=Qce(t,"string");return am(e)=="symbol"?e:e+""}function Qce(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}function Zce(t){var e=t.xAxisId,n=oC(),r=lC(),i=PU(e);return i==null?null:be.createElement(Em,ZE({},i,{className:$n("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return gu(s,!0)}}))}var gb=(function(t){function e(){return Hce(this,e),Kce(this,e,arguments)}return Xce(e,t),Wce(e,[{key:"render",value:function(){return be.createElement(Zce,this.props)}}])})(be.Component);JU(gb,"displayName","XAxis");JU(gb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function eue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eB(r.key),r)}}function nue(t,e,n){return e&&tue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rue(t,e,n){return e=dx(e),iue(t,QU()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function iue(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(t)}function aue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eN(t,e)}function ZU(t,e,n){return e=eB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eB(t){var e=oue(t,"string");return sm(e)=="symbol"?e:e+""}function oue(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tN.apply(this,arguments)}var lue=function(e){var n=e.yAxisId,r=oC(),i=lC(),a=OU(n);return a==null?null:be.createElement(Em,tN({},a,{className:$n("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return gu(l,!0)}}))},vb=(function(t){function e(){return eue(this,e),rue(this,e,arguments)}return sue(e,t),nue(e,[{key:"render",value:function(){return be.createElement(lue,this.props)}}])})(be.Component);ZU(vb,"displayName","YAxis");ZU(vb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BM(t){return fue(t)||due(t)||uue(t)||cue()}function cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uue(t,e){if(t){if(typeof t=="string")return nN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(t,e)}}function due(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fue(t){if(Array.isArray(t))return nN(t)}function nN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rN=function(e,n,r,i,a){var s=Cl(e,uC),l=Cl(e,hb),c=[].concat(BM(s),BM(l)),d=Cl(e,mb),h="".concat(i,"Id"),m=i[0],g=n;if(c.length&&(g=c.reduce(function(S,A){if(A.props[h]===r&&Ec(A.props,"extendDomain")&&bt(A.props[m])){var C=A.props[m];return[Math.min(S[0],C),Math.max(S[1],C)]}return S},g)),d.length){var y="".concat(m,"1"),N="".concat(m,"2");g=d.reduce(function(S,A){if(A.props[h]===r&&Ec(A.props,"extendDomain")&&bt(A.props[y])&&bt(A.props[N])){var C=A.props[y],I=A.props[N];return[Math.min(S[0],C,I),Math.max(S[1],C,I)]}return S},g)}return a&&a.length&&(g=a.reduce(function(S,A){return bt(A)?[Math.min(S[0],A),Math.max(S[1],A)]:S},g)),g},uS={exports:{}},qM;function hue(){return qM||(qM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||c,g),N=n?n+d:d;return c._events[N]?c._events[N].fn?c._events[N]=[c._events[N],y]:c._events[N].push(y):(c._events[N]=y,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,N=new Array(y);g<y;g++)N[g]=m[g].fn;return N},l.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,g,y,N){var S=n?n+d:d;if(!this._events[S])return!1;var A=this._events[S],C=arguments.length,I,k;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,g),!0;case 5:return A.fn.call(A.context,h,m,g,y),!0;case 6:return A.fn.call(A.context,h,m,g,y,N),!0}for(k=1,I=new Array(C-1);k<C;k++)I[k-1]=arguments[k];A.fn.apply(A.context,I)}else{var B=A.length,L;for(k=0;k<B;k++)switch(A[k].once&&this.removeListener(d,A[k].fn,void 0,!0),C){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,h);break;case 3:A[k].fn.call(A[k].context,h,m);break;case 4:A[k].fn.call(A[k].context,h,m,g);break;default:if(!I)for(L=1,I=new Array(C-1);L<C;L++)I[L-1]=arguments[L];A[k].fn.apply(A[k].context,I)}}return!0},l.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,g){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return s(this,y),this;var N=this._events[y];if(N.fn)N.fn===h&&(!g||N.once)&&(!m||N.context===m)&&s(this,y);else{for(var S=0,A=[],C=N.length;S<C;S++)(N[S].fn!==h||g&&!N[S].once||m&&N[S].context!==m)&&A.push(N[S]);A.length?this._events[y]=A.length===1?A[0]:A:s(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(uS)),uS.exports}var pue=hue();const mue=mr(pue);var dS=new mue,fS="recharts.syncMouseEvents";function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tB(r.key),r)}}function yue(t,e,n){return e&&vue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hS(t,e,n){return e=tB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tB(t){var e=xue(t,"string");return B0(e)=="symbol"?e:e+""}function xue(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bue=(function(){function t(){gue(this,t),hS(this,"activeIndex",0),hS(this,"coordinateList",[]),hS(this,"layout","horizontal")}return yue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,d=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+d,g=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function _ue(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&bt(r)&&bt(i))return!0}return!1}function wue(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function nB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ea(e,n,r,i),l=Ea(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Aue(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,g=Ea(l,c,d,m),y=Ea(l,c,h,m);r=g.x,i=g.y,a=y.x,s=y.y}else return nB(e);return[{x:r,y:i},{x:a,y:s}]}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return e=Eue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Nue(t,"string");return q0(e)=="symbol"?e:e+""}function Nue(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tue(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var N,S=Wg;if(g==="ScatterChart")N=s,S=Cse;else if(g==="BarChart")N=wue(m,s,c,h),S=nC;else if(m==="radial"){var A=nB(s),C=A.cx,I=A.cy,k=A.radius,B=A.startAngle,L=A.endAngle;N={cx:C,cy:I,startAngle:B,endAngle:L,innerRadius:k,outerRadius:k},S=lU}else N={points:Aue(m,s,c)},S=Wg;var z=Sy(Sy(Sy(Sy({stroke:"#ccc",pointerEvents:"none"},c),N),En(y,!1)),{},{payload:l,payloadIndex:d,className:$n("recharts-tooltip-cursor",y.className)});return be.isValidElement(y)?be.cloneElement(y,z):be.createElement(S,z)}var Cue=["item"],Iue=["children","className","width","height","style","compact","title","desc"];function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function zM(t,e){return Pue(t)||kue(t,e)||iB(t,e)||Rue()}function Rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Pue(t){if(Array.isArray(t))return t}function $M(t,e){if(t==null)return{};var n=Oue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function Due(t,e,n){return e&&Mue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lue(t,e,n){return e=fx(e),Fue(t,rB()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function Fue(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function Bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iN(t,e)}function iN(t,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iN(t,e)}function lm(t){return zue(t)||Vue(t)||iB(t)||que()}function que(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iB(t,e){if(t){if(typeof t=="string")return aN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(t,e)}}function Vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zue(t){if(Array.isArray(t))return aN(t)}function aN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Yt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yt(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=$ue(t,"string");return om(e)=="symbol"?e:e+""}function $ue(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hue={xAxis:["bottom","top"],yAxis:["left","right"]},Gue={width:"100%",height:"100%"},sB={x:0,y:0};function Ey(t){return t}var Wue=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Kue=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return nt(nt(nt({},i),Ea(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,d=i.angle;return nt(nt(nt({},i),Ea(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return sB},yb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(lm(l),lm(d)):l},[]);return s.length>0?s:e&&e.length&&bt(i)&&bt(a)?e.slice(i,a+1):[]};function oB(t){return t==="number"?[0,"auto"]:void 0}var sN=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=yb(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var y=m===void 0?l:m;g=m1(y,s.dataKey,i)}else g=m&&m[r]||l[r];return g?[].concat(lm(c),[aU(d,g)]):c},[])},GM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Wue(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=ore(s,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,g=sN(e,n,h,m),y=Kue(r,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},Yue=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,y=nU(h,a);return r.reduce(function(N,S){var A,C=S.type.defaultProps!==void 0?nt(nt({},S.type.defaultProps),S.props):S.props,I=C.type,k=C.dataKey,B=C.allowDataOverflow,L=C.allowDuplicatedCategory,z=C.scale,D=C.ticks,j=C.includeHidden,V=C[s];if(N[V])return N;var Y=yb(e.data,{graphicalItems:i.filter(function(O){var K,H=s in O.props?O.props[s]:(K=O.type.defaultProps)===null||K===void 0?void 0:K[s];return H===V}),dataStartIndex:c,dataEndIndex:d}),q=Y.length,M,F,Q;_ue(C.domain,B,I)&&(M=EE(C.domain,null,B),y&&(I==="number"||z!=="auto")&&(Q=Gg(Y,k,"category")));var se=oB(I);if(!M||M.length===0){var W,ee=(W=C.domain)!==null&&W!==void 0?W:se;if(k){if(M=Gg(Y,k,I),I==="category"&&y){var le=XK(M);L&&le?(F=M,M=Z1(0,q)):L||(M=oj(ee,M,S).reduce(function(O,K){return O.indexOf(K)>=0?O:[].concat(lm(O),[K])},[]))}else if(I==="category")L?M=M.filter(function(O){return O!==""&&!On(O)}):M=oj(ee,M,S).reduce(function(O,K){return O.indexOf(K)>=0||K===""||On(K)?O:[].concat(lm(O),[K])},[]);else if(I==="number"){var xe=fre(Y,i.filter(function(O){var K,H,Z=s in O.props?O.props[s]:(K=O.type.defaultProps)===null||K===void 0?void 0:K[s],te="hide"in O.props?O.props.hide:(H=O.type.defaultProps)===null||H===void 0?void 0:H.hide;return Z===V&&(j||!te)}),k,a,h);xe&&(M=xe)}y&&(I==="number"||z!=="auto")&&(Q=Gg(Y,k,"category"))}else y?M=Z1(0,q):l&&l[V]&&l[V].hasStack&&I==="number"?M=g==="expand"?[0,1]:iU(l[V].stackGroups,c,d):M=tU(Y,i.filter(function(O){var K=s in O.props?O.props[s]:O.type.defaultProps[s],H="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return K===V&&(j||!H)}),I,h,!0);if(I==="number")M=rN(m,M,V,a,D),ee&&(M=EE(ee,M,B));else if(I==="category"&&ee){var ve=ee,ce=M.every(function(O){return ve.indexOf(O)>=0});ce&&(M=ve)}}return nt(nt({},N),{},Yt({},V,nt(nt({},C),{},{axisType:a,domain:M,categoricalDomain:Q,duplicateDomain:F,originalDomain:(A=C.domain)!==null&&A!==void 0?A:se,isCategorical:y,layout:h})))},{})},Jue=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,g=yb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),y=g.length,N=nU(h,a),S=-1;return r.reduce(function(A,C){var I=C.type.defaultProps!==void 0?nt(nt({},C.type.defaultProps),C.props):C.props,k=I[s],B=oB("number");if(!A[k]){S++;var L;return N?L=Z1(0,y):l&&l[k]&&l[k].hasStack?(L=iU(l[k].stackGroups,c,d),L=rN(m,L,k,a)):(L=EE(B,tU(g,r.filter(function(z){var D,j,V=s in z.props?z.props[s]:(D=z.type.defaultProps)===null||D===void 0?void 0:D[s],Y="hide"in z.props?z.props.hide:(j=z.type.defaultProps)===null||j===void 0?void 0:j.hide;return V===k&&!Y}),"number",h),i.defaultProps.allowDataOverflow),L=rN(m,L,k,a)),nt(nt({},A),{},Yt({},k,nt(nt({axisType:a},i.defaultProps),{},{hide:!0,orientation:zo(Hue,"".concat(a,".").concat(S%2),null),domain:L,originalDomain:B,isCategorical:N,layout:h})))}return A},{})},Xue=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),g=Cl(h,a),y={};return g&&g.length?y=Yue(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(y=Jue(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},Que=function(e){var n=Nd(e),r=gu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:IT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:z1(n,r)}},WM=function(e){var n=e.children,r=e.defaultShowTooltip,i=uo(n,Qp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Zue=function(e){return!e||!e.length?!1:e.some(function(n){var r=bu(n&&n.type);return r&&r.indexOf("Bar")>=0})},KM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ede=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,h=r.height,m=r.children,g=r.margin||{},y=uo(m,Qp),N=uo(m,Np),S=Object.keys(c).reduce(function(L,z){var D=c[z],j=D.orientation;return!D.mirror&&!D.hide?nt(nt({},L),{},Yt({},j,L[j]+D.width)):L},{left:g.left||0,right:g.right||0}),A=Object.keys(s).reduce(function(L,z){var D=s[z],j=D.orientation;return!D.mirror&&!D.hide?nt(nt({},L),{},Yt({},j,zo(L,"".concat(j))+D.height)):L},{top:g.top||0,bottom:g.bottom||0}),C=nt(nt({},A),S),I=C.bottom;y&&(C.bottom+=y.props.height||Qp.defaultProps.height),N&&n&&(C=ure(C,i,r,n));var k=d-C.left-C.right,B=h-C.top-C.bottom;return nt(nt({brushBottom:I},C),{},{width:Math.max(k,0),height:Math.max(B,0)})},tde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},nde=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(C,I){var k=I.graphicalItems,B=I.stackGroups,L=I.offset,z=I.updateId,D=I.dataStartIndex,j=I.dataEndIndex,V=C.barSize,Y=C.layout,q=C.barGap,M=C.barCategoryGap,F=C.maxBarSize,Q=KM(Y),se=Q.numericAxisName,W=Q.cateAxisName,ee=Zue(k),le=[];return k.forEach(function(xe,ve){var ce=yb(C.data,{graphicalItems:[xe],dataStartIndex:D,dataEndIndex:j}),O=xe.type.defaultProps!==void 0?nt(nt({},xe.type.defaultProps),xe.props):xe.props,K=O.dataKey,H=O.maxBarSize,Z=O["".concat(se,"Id")],te=O["".concat(W,"Id")],me={},_e=c.reduce(function(Ke,Ve){var Ye=I["".concat(Ve.axisType,"Map")],ht=O["".concat(Ve.axisType,"Id")];Ye&&Ye[ht]||Ve.axisType==="zAxis"||rh();var Et=Ye[ht];return nt(nt({},Ke),{},Yt(Yt({},Ve.axisType,Et),"".concat(Ve.axisType,"Ticks"),gu(Et)))},me),ie=_e[W],Ae=_e["".concat(W,"Ticks")],Re=B&&B[Z]&&B[Z].hasStack&&Sre(xe,B[Z].stackGroups),Se=bu(xe.type).indexOf("Bar")>=0,We=z1(ie,Ae),tt=[],ge=ee&&lre({barSize:V,stackGroups:B,totalSize:tde(_e,W)});if(Se){var ue,ut,Ze=On(H)?F:H,He=(ue=(ut=z1(ie,Ae,!0))!==null&&ut!==void 0?ut:Ze)!==null&&ue!==void 0?ue:0;tt=cre({barGap:q,barCategoryGap:M,bandSize:He!==We?He:We,sizeList:ge[te],maxBarSize:Ze}),He!==We&&(tt=tt.map(function(Ke){return nt(nt({},Ke),{},{position:nt(nt({},Ke.position),{},{offset:Ke.position.offset-He/2})})}))}var Ge=xe&&xe.type&&xe.type.getComposedData;Ge&&le.push({props:nt(nt({},Ge(nt(nt({},_e),{},{displayedData:ce,props:C,dataKey:K,item:xe,bandSize:We,barPosition:tt,offset:L,stackedData:Re,layout:Y,dataStartIndex:D,dataEndIndex:j}))),{},Yt(Yt(Yt({key:xe.key||"item-".concat(ve)},se,_e[se]),W,_e[W]),"animationId",z)),childIndex:uY(xe,C.children),item:xe})}),le},y=function(C,I){var k=C.props,B=C.dataStartIndex,L=C.dataEndIndex,z=C.updateId;if(!_k({props:k}))return null;var D=k.children,j=k.layout,V=k.stackOffset,Y=k.data,q=k.reverseStackOrder,M=KM(j),F=M.numericAxisName,Q=M.cateAxisName,se=Cl(D,r),W=_re(Y,se,"".concat(F,"Id"),"".concat(Q,"Id"),V,q),ee=c.reduce(function(O,K){var H="".concat(K.axisType,"Map");return nt(nt({},O),{},Yt({},H,Xue(k,nt(nt({},K),{},{graphicalItems:se,stackGroups:K.axisType===F&&W,dataStartIndex:B,dataEndIndex:L}))))},{}),le=ede(nt(nt({},ee),{},{props:k,graphicalItems:se}),I==null?void 0:I.legendBBox);Object.keys(ee).forEach(function(O){ee[O]=h(k,ee[O],le,O.replace("Map",""),n)});var xe=ee["".concat(Q,"Map")],ve=Que(xe),ce=g(k,nt(nt({},ee),{},{dataStartIndex:B,dataEndIndex:L,updateId:z,graphicalItems:se,stackGroups:W,offset:le}));return nt(nt({formattedGraphicalItems:ce,graphicalItems:se,offset:le,stackGroups:W},ve),ee)},N=(function(A){function C(I){var k,B,L;return jue(this,C),L=Lue(this,C,[I]),Yt(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Yt(L,"accessibilityManager",new bue),Yt(L,"handleLegendBBoxUpdate",function(z){if(z){var D=L.state,j=D.dataStartIndex,V=D.dataEndIndex,Y=D.updateId;L.setState(nt({legendBBox:z},y({props:L.props,dataStartIndex:j,dataEndIndex:V,updateId:Y},nt(nt({},L.state),{},{legendBBox:z}))))}}),Yt(L,"handleReceiveSyncEvent",function(z,D,j){if(L.props.syncId===z){if(j===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(D)}}),Yt(L,"handleBrushChange",function(z){var D=z.startIndex,j=z.endIndex;if(D!==L.state.dataStartIndex||j!==L.state.dataEndIndex){var V=L.state.updateId;L.setState(function(){return nt({dataStartIndex:D,dataEndIndex:j},y({props:L.props,dataStartIndex:D,dataEndIndex:j,updateId:V},L.state))}),L.triggerSyncEvent({dataStartIndex:D,dataEndIndex:j})}}),Yt(L,"handleMouseEnter",function(z){var D=L.getMouseInfo(z);if(D){var j=nt(nt({},D),{},{isTooltipActive:!0});L.setState(j),L.triggerSyncEvent(j);var V=L.props.onMouseEnter;hn(V)&&V(j,z)}}),Yt(L,"triggeredAfterMouseMove",function(z){var D=L.getMouseInfo(z),j=D?nt(nt({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(j),L.triggerSyncEvent(j);var V=L.props.onMouseMove;hn(V)&&V(j,z)}),Yt(L,"handleItemMouseEnter",function(z){L.setState(function(){return{isTooltipActive:!0,activeItem:z,activePayload:z.tooltipPayload,activeCoordinate:z.tooltipPosition||{x:z.cx,y:z.cy}}})}),Yt(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),Yt(L,"handleMouseMove",function(z){z.persist(),L.throttleTriggeredAfterMouseMove(z)}),Yt(L,"handleMouseLeave",function(z){L.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};L.setState(D),L.triggerSyncEvent(D);var j=L.props.onMouseLeave;hn(j)&&j(D,z)}),Yt(L,"handleOuterEvent",function(z){var D=cY(z),j=zo(L.props,"".concat(D));if(D&&hn(j)){var V,Y;/.*touch.*/i.test(D)?Y=L.getMouseInfo(z.changedTouches[0]):Y=L.getMouseInfo(z),j((V=Y)!==null&&V!==void 0?V:{},z)}}),Yt(L,"handleClick",function(z){var D=L.getMouseInfo(z);if(D){var j=nt(nt({},D),{},{isTooltipActive:!0});L.setState(j),L.triggerSyncEvent(j);var V=L.props.onClick;hn(V)&&V(j,z)}}),Yt(L,"handleMouseDown",function(z){var D=L.props.onMouseDown;if(hn(D)){var j=L.getMouseInfo(z);D(j,z)}}),Yt(L,"handleMouseUp",function(z){var D=L.props.onMouseUp;if(hn(D)){var j=L.getMouseInfo(z);D(j,z)}}),Yt(L,"handleTouchMove",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove(z.changedTouches[0])}),Yt(L,"handleTouchStart",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&L.handleMouseDown(z.changedTouches[0])}),Yt(L,"handleTouchEnd",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&L.handleMouseUp(z.changedTouches[0])}),Yt(L,"handleDoubleClick",function(z){var D=L.props.onDoubleClick;if(hn(D)){var j=L.getMouseInfo(z);D(j,z)}}),Yt(L,"handleContextMenu",function(z){var D=L.props.onContextMenu;if(hn(D)){var j=L.getMouseInfo(z);D(j,z)}}),Yt(L,"triggerSyncEvent",function(z){L.props.syncId!==void 0&&dS.emit(fS,L.props.syncId,z,L.eventEmitterSymbol)}),Yt(L,"applySyncEvent",function(z){var D=L.props,j=D.layout,V=D.syncMethod,Y=L.state.updateId,q=z.dataStartIndex,M=z.dataEndIndex;if(z.dataStartIndex!==void 0||z.dataEndIndex!==void 0)L.setState(nt({dataStartIndex:q,dataEndIndex:M},y({props:L.props,dataStartIndex:q,dataEndIndex:M,updateId:Y},L.state)));else if(z.activeTooltipIndex!==void 0){var F=z.chartX,Q=z.chartY,se=z.activeTooltipIndex,W=L.state,ee=W.offset,le=W.tooltipTicks;if(!ee)return;if(typeof V=="function")se=V(le,z);else if(V==="value"){se=-1;for(var xe=0;xe<le.length;xe++)if(le[xe].value===z.activeLabel){se=xe;break}}var ve=nt(nt({},ee),{},{x:ee.left,y:ee.top}),ce=Math.min(F,ve.x+ve.width),O=Math.min(Q,ve.y+ve.height),K=le[se]&&le[se].value,H=sN(L.state,L.props.data,se),Z=le[se]?{x:j==="horizontal"?le[se].coordinate:ce,y:j==="horizontal"?O:le[se].coordinate}:sB;L.setState(nt(nt({},z),{},{activeLabel:K,activeCoordinate:Z,activePayload:H,activeTooltipIndex:se}))}else L.setState(z)}),Yt(L,"renderCursor",function(z){var D,j=L.state,V=j.isTooltipActive,Y=j.activeCoordinate,q=j.activePayload,M=j.offset,F=j.activeTooltipIndex,Q=j.tooltipAxisBandSize,se=L.getTooltipEventType(),W=(D=z.props.active)!==null&&D!==void 0?D:V,ee=L.props.layout,le=z.key||"_recharts-cursor";return je.createElement(Tue,{key:le,activeCoordinate:Y,activePayload:q,activeTooltipIndex:F,chartName:n,element:z,isActive:W,layout:ee,offset:M,tooltipAxisBandSize:Q,tooltipEventType:se})}),Yt(L,"renderPolarAxis",function(z,D,j){var V=zo(z,"type.axisType"),Y=zo(L.state,"".concat(V,"Map")),q=z.type.defaultProps,M=q!==void 0?nt(nt({},q),z.props):z.props,F=Y&&Y[M["".concat(V,"Id")]];return be.cloneElement(z,nt(nt({},F),{},{className:$n(V,F.className),key:z.key||"".concat(D,"-").concat(j),ticks:gu(F,!0)}))}),Yt(L,"renderPolarGrid",function(z){var D=z.props,j=D.radialLines,V=D.polarAngles,Y=D.polarRadius,q=L.state,M=q.radiusAxisMap,F=q.angleAxisMap,Q=Nd(M),se=Nd(F),W=se.cx,ee=se.cy,le=se.innerRadius,xe=se.outerRadius;return be.cloneElement(z,{polarAngles:Array.isArray(V)?V:gu(se,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(Y)?Y:gu(Q,!0).map(function(ve){return ve.coordinate}),cx:W,cy:ee,innerRadius:le,outerRadius:xe,key:z.key||"polar-grid",radialLines:j})}),Yt(L,"renderLegend",function(){var z=L.state.formattedGraphicalItems,D=L.props,j=D.children,V=D.width,Y=D.height,q=L.props.margin||{},M=V-(q.left||0)-(q.right||0),F=ZF({children:j,formattedGraphicalItems:z,legendWidth:M,legendContent:d});if(!F)return null;var Q=F.item,se=$M(F,Cue);return be.cloneElement(Q,nt(nt({},se),{},{chartWidth:V,chartHeight:Y,margin:q,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),Yt(L,"renderTooltip",function(){var z,D=L.props,j=D.children,V=D.accessibilityLayer,Y=uo(j,vc);if(!Y)return null;var q=L.state,M=q.isTooltipActive,F=q.activeCoordinate,Q=q.activePayload,se=q.activeLabel,W=q.offset,ee=(z=Y.props.active)!==null&&z!==void 0?z:M;return be.cloneElement(Y,{viewBox:nt(nt({},W),{},{x:W.left,y:W.top}),active:ee,label:se,payload:ee?Q:[],coordinate:F,accessibilityLayer:V})}),Yt(L,"renderBrush",function(z){var D=L.props,j=D.margin,V=D.data,Y=L.state,q=Y.offset,M=Y.dataStartIndex,F=Y.dataEndIndex,Q=Y.updateId;return be.cloneElement(z,{key:z.key||"_recharts-brush",onChange:by(L.handleBrushChange,z.props.onChange),data:V,x:bt(z.props.x)?z.props.x:q.left,y:bt(z.props.y)?z.props.y:q.top+q.height+q.brushBottom-(j.bottom||0),width:bt(z.props.width)?z.props.width:q.width,startIndex:M,endIndex:F,updateId:"brush-".concat(Q)})}),Yt(L,"renderReferenceElement",function(z,D,j){if(!z)return null;var V=L,Y=V.clipPathId,q=L.state,M=q.xAxisMap,F=q.yAxisMap,Q=q.offset,se=z.type.defaultProps||{},W=z.props,ee=W.xAxisId,le=ee===void 0?se.xAxisId:ee,xe=W.yAxisId,ve=xe===void 0?se.yAxisId:xe;return be.cloneElement(z,{key:z.key||"".concat(D,"-").concat(j),xAxis:M[le],yAxis:F[ve],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:Y})}),Yt(L,"renderActivePoints",function(z){var D=z.item,j=z.activePoint,V=z.basePoint,Y=z.childIndex,q=z.isRange,M=[],F=D.props.key,Q=D.item.type.defaultProps!==void 0?nt(nt({},D.item.type.defaultProps),D.item.props):D.item.props,se=Q.activeDot,W=Q.dataKey,ee=nt(nt({index:Y,dataKey:W,cx:j.x,cy:j.y,r:4,fill:tC(D.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},En(se,!1)),g1(se));return M.push(C.renderActiveDot(se,ee,"".concat(F,"-activePoint-").concat(Y))),V?M.push(C.renderActiveDot(se,nt(nt({},ee),{},{cx:V.x,cy:V.y}),"".concat(F,"-basePoint-").concat(Y))):q&&M.push(null),M}),Yt(L,"renderGraphicChild",function(z,D,j){var V=L.filterFormatItem(z,D,j);if(!V)return null;var Y=L.getTooltipEventType(),q=L.state,M=q.isTooltipActive,F=q.tooltipAxis,Q=q.activeTooltipIndex,se=q.activeLabel,W=L.props.children,ee=uo(W,vc),le=V.props,xe=le.points,ve=le.isRange,ce=le.baseLine,O=V.item.type.defaultProps!==void 0?nt(nt({},V.item.type.defaultProps),V.item.props):V.item.props,K=O.activeDot,H=O.hide,Z=O.activeBar,te=O.activeShape,me=!!(!H&&M&&ee&&(K||Z||te)),_e={};Y!=="axis"&&ee&&ee.props.trigger==="click"?_e={onClick:by(L.handleItemMouseEnter,z.props.onClick)}:Y!=="axis"&&(_e={onMouseLeave:by(L.handleItemMouseLeave,z.props.onMouseLeave),onMouseEnter:by(L.handleItemMouseEnter,z.props.onMouseEnter)});var ie=be.cloneElement(z,nt(nt({},V.props),_e));function Ae(Ve){return typeof F.dataKey=="function"?F.dataKey(Ve.payload):null}if(me)if(Q>=0){var Re,Se;if(F.dataKey&&!F.allowDuplicatedCategory){var We=typeof F.dataKey=="function"?Ae:"payload.".concat(F.dataKey.toString());Re=m1(xe,We,se),Se=ve&&ce&&m1(ce,We,se)}else Re=xe==null?void 0:xe[Q],Se=ve&&ce&&ce[Q];if(te||Z){var tt=z.props.activeIndex!==void 0?z.props.activeIndex:Q;return[be.cloneElement(z,nt(nt(nt({},V.props),_e),{},{activeIndex:tt})),null,null]}if(!On(Re))return[ie].concat(lm(L.renderActivePoints({item:V,activePoint:Re,basePoint:Se,childIndex:Q,isRange:ve})))}else{var ge,ue=(ge=L.getItemByXY(L.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:ie},ut=ue.graphicalItem,Ze=ut.item,He=Ze===void 0?z:Ze,Ge=ut.childIndex,Ke=nt(nt(nt({},V.props),_e),{},{activeIndex:Ge});return[be.cloneElement(He,Ke),null,null]}return ve?[ie,null,null]:[ie,null]}),Yt(L,"renderCustomized",function(z,D,j){return be.cloneElement(z,nt(nt({key:"recharts-customized-".concat(j)},L.props),L.state))}),Yt(L,"renderMap",{CartesianGrid:{handler:Ey,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:Ey},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:Ey},YAxis:{handler:Ey},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((k=I.id)!==null&&k!==void 0?k:nv("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=Z9(L.triggeredAfterMouseMove,(B=I.throttleDelay)!==null&&B!==void 0?B:1e3/60),L.state={},L}return Bue(C,A),Due(C,[{key:"componentDidMount",value:function(){var k,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,B=k.children,L=k.data,z=k.height,D=k.layout,j=uo(B,vc);if(j){var V=j.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var Y=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,q=sN(this.state,L,V,Y),M=this.state.tooltipTicks[V].coordinate,F=(this.state.offset.top+z)/2,Q=D==="horizontal",se=Q?{x:M,y:F}:{y:M,x:F},W=this.state.formattedGraphicalItems.find(function(le){var xe=le.item;return xe.type.name==="Scatter"});W&&(se=nt(nt({},se),W.props.points[V].tooltipPosition),q=W.props.points[V].tooltipPayload);var ee={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:Y,activePayload:q,activeCoordinate:se};this.setState(ee),this.renderCursor(j),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var L,z;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(z=this.props.margin.top)!==null&&z!==void 0?z:0}})}return null}},{key:"componentDidUpdate",value:function(k){WS([uo(k.children,vc)],[uo(this.props.children,vc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=uo(this.props.children,vc);if(k&&typeof k.props.shared=="boolean"){var B=k.props.shared?"axis":"item";return l.indexOf(B)>=0?B:a}return a}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var B=this.container,L=B.getBoundingClientRect(),z=XQ(L),D={chartX:Math.round(k.pageX-z.left),chartY:Math.round(k.pageY-z.top)},j=L.width/B.offsetWidth||1,V=this.inRange(D.chartX,D.chartY,j);if(!V)return null;var Y=this.state,q=Y.xAxisMap,M=Y.yAxisMap,F=this.getTooltipEventType(),Q=GM(this.state,this.props.data,this.props.layout,V);if(F!=="axis"&&q&&M){var se=Nd(q).scale,W=Nd(M).scale,ee=se&&se.invert?se.invert(D.chartX):null,le=W&&W.invert?W.invert(D.chartY):null;return nt(nt({},D),{},{xValue:ee,yValue:le},Q)}return Q?nt(nt({},D),Q):null}},{key:"inRange",value:function(k,B){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=this.props.layout,D=k/L,j=B/L;if(z==="horizontal"||z==="vertical"){var V=this.state.offset,Y=D>=V.left&&D<=V.left+V.width&&j>=V.top&&j<=V.top+V.height;return Y?{x:D,y:j}:null}var q=this.state,M=q.angleAxisMap,F=q.radiusAxisMap;if(M&&F){var Q=Nd(M);return uj({x:D,y:j},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,B=this.getTooltipEventType(),L=uo(k,vc),z={};L&&B==="axis"&&(L.props.trigger==="click"?z={onClick:this.handleClick}:z={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var D=g1(this.props,this.handleOuterEvent);return nt(nt({},D),z)}},{key:"addListener",value:function(){dS.on(fS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dS.removeListener(fS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,B,L){for(var z=this.state.formattedGraphicalItems,D=0,j=z.length;D<j;D++){var V=z[D];if(V.item===k||V.props.key===k.key||B===bu(V.item.type)&&L===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,B=this.state.offset,L=B.left,z=B.top,D=B.height,j=B.width;return je.createElement("defs",null,je.createElement("clipPath",{id:k},je.createElement("rect",{x:L,y:z,height:D,width:j})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(B,L){var z=zM(L,2),D=z[0],j=z[1];return nt(nt({},B),{},Yt({},D,j.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(B,L){var z=zM(L,2),D=z[0],j=z[1];return nt(nt({},B),{},Yt({},D,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[k])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function(k){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[k])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function(k){var B=this.state,L=B.formattedGraphicalItems,z=B.activeItem;if(L&&L.length)for(var D=0,j=L.length;D<j;D++){var V=L[D],Y=V.props,q=V.item,M=q.type.defaultProps!==void 0?nt(nt({},q.type.defaultProps),q.props):q.props,F=bu(q.type);if(F==="Bar"){var Q=(Y.data||[]).find(function(le){return yse(k,le)});if(Q)return{graphicalItem:V,payload:Q}}else if(F==="RadialBar"){var se=(Y.data||[]).find(function(le){return uj(k,le)});if(se)return{graphicalItem:V,payload:se}}else if(cb(V,z)||ub(V,z)||M0(V,z)){var W=loe({graphicalItem:V,activeTooltipItem:z,itemData:M.data}),ee=M.activeIndex===void 0?W:M.activeIndex;return{graphicalItem:nt(nt({},V),{},{childIndex:ee}),payload:M0(V,z)?M.data[W]:V.props.data[W]}}}return null}},{key:"render",value:function(){var k=this;if(!_k(this))return null;var B=this.props,L=B.children,z=B.className,D=B.width,j=B.height,V=B.style,Y=B.compact,q=B.title,M=B.desc,F=$M(B,Iue),Q=En(F,!1);if(Y)return je.createElement(EM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},je.createElement(YS,xp({},Q,{width:D,height:j,title:q,desc:M}),this.renderClipPath(),Ak(L,this.renderMap)));if(this.props.accessibilityLayer){var se,W;Q.tabIndex=(se=this.props.tabIndex)!==null&&se!==void 0?se:0,Q.role=(W=this.props.role)!==null&&W!==void 0?W:"application",Q.onKeyDown=function(le){k.accessibilityManager.keyboardEvent(le)},Q.onFocus=function(){k.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return je.createElement(EM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},je.createElement("div",xp({className:$n("recharts-wrapper",z),style:nt({position:"relative",cursor:"default",width:D,height:j},V)},ee,{ref:function(xe){k.container=xe}}),je.createElement(YS,xp({},Q,{width:D,height:j,title:q,desc:M,style:Gue}),this.renderClipPath(),Ak(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(be.Component);Yt(N,"displayName",n),Yt(N,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Yt(N,"getDerivedStateFromProps",function(A,C){var I=A.dataKey,k=A.data,B=A.children,L=A.width,z=A.height,D=A.layout,j=A.stackOffset,V=A.margin,Y=C.dataStartIndex,q=C.dataEndIndex;if(C.updateId===void 0){var M=WM(A);return nt(nt(nt({},M),{},{updateId:0},y(nt(nt({props:A},M),{},{updateId:0}),C)),{},{prevDataKey:I,prevData:k,prevWidth:L,prevHeight:z,prevLayout:D,prevStackOffset:j,prevMargin:V,prevChildren:B})}if(I!==C.prevDataKey||k!==C.prevData||L!==C.prevWidth||z!==C.prevHeight||D!==C.prevLayout||j!==C.prevStackOffset||!Ep(V,C.prevMargin)){var F=WM(A),Q={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},se=nt(nt({},GM(C,k,D)),{},{updateId:C.updateId+1}),W=nt(nt(nt({},F),Q),se);return nt(nt(nt({},W),y(nt({props:A},W),C)),{},{prevDataKey:I,prevData:k,prevWidth:L,prevHeight:z,prevLayout:D,prevStackOffset:j,prevMargin:V,prevChildren:B})}if(!WS(B,C.prevChildren)){var ee,le,xe,ve,ce=uo(B,Qp),O=ce&&(ee=(le=ce.props)===null||le===void 0?void 0:le.startIndex)!==null&&ee!==void 0?ee:Y,K=ce&&(xe=(ve=ce.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&xe!==void 0?xe:q,H=O!==Y||K!==q,Z=!On(k),te=Z&&!H?C.updateId:C.updateId+1;return nt(nt({updateId:te},y(nt(nt({props:A},C),{},{updateId:te,dataStartIndex:O,dataEndIndex:K}),C)),{},{prevChildren:B,dataStartIndex:O,dataEndIndex:K})}return null}),Yt(N,"renderActiveDot",function(A,C,I){var k;return be.isValidElement(A)?k=be.cloneElement(A,C):hn(A)?k=A(C):k=je.createElement(rC,C),je.createElement(Qr,{className:"recharts-active-dot",key:I},k)});var S=be.forwardRef(function(C,I){return je.createElement(N,xp({},C,{ref:I}))});return S.displayName=N.displayName,S},rde=nde({chartName:"AreaChart",GraphicalChild:uf,axisComponents:[{axisType:"xAxis",AxisComp:gb},{axisType:"yAxis",AxisComp:vb}],formatAxisMap:ile});const ide=({sales:t,stock:e,transactions:n,batches:r,clients:i,onBack:a})=>{const[s,l]=be.useState(null),[c,d]=be.useState(!1),[h,m]=be.useState(new Set),[g,y]=be.useState("commercial"),[N,S]=be.useState(!1),A=Array.isArray(t)?t:[],C=Array.isArray(e)?e:[],I=Array.isArray(r)?r:[],k=Array.isArray(i)?i:[],B=A.reduce((F,Q)=>F+Q.peso_real_saida*Q.preco_venda_kg,0),L=A.reduce((F,Q)=>F+Q.peso_real_saida,0),z=A.reduce((F,Q)=>F+(Q.quebra_kg||0),0),D=A.filter(F=>F.status_pagamento==="PENDENTE").reduce((F,Q)=>{const se=Q.peso_real_saida*Q.preco_venda_kg,W=Q.valor_pago||0;return F+(se-W)},0),j=A.slice(-12).map((F,Q)=>({name:`V${Q+1}`,lucro:(F.lucro_liquido_unitario||0)*F.peso_real_saida,valor:F.peso_real_saida*F.preco_venda_kg})),V=be.useMemo(()=>{const F=new Map;return A.forEach(Q=>{const se=C.find(K=>K.id_completo===Q.id_completo),W=se?I.find(K=>K.id_lote===se.id_lote):null,ee=k.find(K=>K.id_ferro===Q.id_cliente),le=(W==null?void 0:W.id_lote)||"sem-lote";F.has(le)||F.set(le,[]);const xe=Q.peso_real_saida*Q.preco_venda_kg,ve=W&&Number(W.custo_real_kg)||0,ce=Q.peso_real_saida*ve+(Q.custo_extras_total||0),O=xe-ce;F.get(le).push({sale:Q,item:se,batch:W,client:ee,revenue:xe,cost:ce,profit:O})}),Array.from(F.entries()).map(([Q,se])=>{const W=se[0].batch,ee=se.reduce((ve,ce)=>ve+ce.revenue,0),le=se.reduce((ve,ce)=>ve+ce.cost,0),xe=se.reduce((ve,ce)=>ve+ce.profit,0);return{batchId:Q,batch:W,items:se,totalRevenue:ee,totalCost:le,totalProfit:xe,supplier:(W==null?void 0:W.fornecedor)||"Desconhecido"}}).sort((Q,se)=>se.totalRevenue-Q.totalRevenue)},[A,C,I,k]),Y=be.useMemo(()=>{const F=[];V.forEach(se=>{const W=se.items.reduce((xe,ve)=>{var ce;return xe+(((ce=ve.item)==null?void 0:ce.peso_entrada)||0)},0),ee=se.items.reduce((xe,ve)=>xe+ve.sale.peso_real_saida,0),le=W>0?ee/W*100:100;le<95&&F.push({type:"critical",message:`Quebra Crtica: Lote ${se.batchId.slice(0,8)}`,detail:`Rendimento de ${le.toFixed(1)}% detectado. Verifique cmara fria.`})}),i.forEach(se=>{(se.tier==="F"||se.score<300)&&F.push({type:"critical",message:`Risco de Crdito: ${se.nome_social}`,detail:"Cliente em Nvel F detectado. Operaes de venda devem ser bloqueadas."})});const Q=new Date;return e.filter(se=>se.status==="DISPONIVEL").forEach(se=>{const W=new Date(se.data_entrada),ee=Math.floor((Q.getTime()-W.getTime())/(1e3*3600*24));ee>12&&F.push({type:"warning",message:`Item Envelhecido: ${se.id_completo}`,detail:`Pea com ${ee} dias em estoque. Prioritize sada para evitar perda de peso.`})}),F},[V,i,e]),q=F=>{const Q=new Set(h);Q.has(F)?Q.delete(F):Q.add(F),m(Q)},M=async()=>{d(!0),await new Promise(F=>setTimeout(F,800)),S(!0),Y.length>0?l(`Core IA detectou ${Y.length} pontos de ateno operacional. Recomendamos auditoria imediata nos lotes com quebra acentuada.`):l("Integridade operacional verificada. Sem anomalias crticas no ciclo atual."),d(!1)};return f.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:g==="commercial"?f.jsx(U7,{size:28}):f.jsx(Na,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:[g==="commercial"?"Performance ":"Analtico de ",f.jsx("span",{className:"text-blue-600",children:g==="commercial"?"Comercial":"Rendimento"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:g==="commercial"?"Painel Analtico de Fluxo Industrial":"Monitoramento de Yield e Queba Industrial"})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[f.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[f.jsx("button",{onClick:()=>y("commercial"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="commercial"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Comercial"}),f.jsx("button",{onClick:()=>y("yield"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="yield"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Rendimento"})]}),f.jsxs("button",{onClick:M,disabled:c,className:"bg-white border border-gray-200 text-gray-700 px-6 py-3 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm flex items-center gap-3 disabled:opacity-50",children:[c?f.jsx(Na,{className:"animate-spin text-blue-600",size:16}):f.jsx(q7,{className:"text-blue-600",size:16}),"IA Insight"]})]})]}),N&&f.jsxs("div",{className:"mb-10 grid grid-cols-1 lg:grid-cols-3 gap-6 animate-reveal",children:[f.jsxs("div",{className:"lg:col-span-1 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(qH,{size:80})}),f.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400 mb-6 flex items-center gap-2",children:[f.jsx(gs,{size:14,className:"fill-blue-400"})," IA Insights Operacionais"]}),f.jsxs("p",{className:"text-sm font-medium leading-relaxed italic border-l-2 border-blue-500 pl-4",children:['"',s,'"']}),f.jsx("button",{onClick:()=>S(!1),className:"mt-8 text-[9px] font-black uppercase text-slate-500 hover:text-white transition-colors",children:"OCULTAR PAINEL IA"})]}),f.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.slice(0,4).map((F,Q)=>f.jsxs("div",{className:`p-6 rounded-[24px] border-l-4 shadow-sm flex items-start gap-4 animate-reveal ${F.type==="critical"?"bg-rose-50 border-rose-500":F.type==="warning"?"bg-orange-50 border-orange-500":"bg-blue-50 border-blue-500"}`,children:[f.jsx("div",{className:`p-2 rounded-xl ${F.type==="critical"?"bg-rose-500 text-white":F.type==="warning"?"bg-orange-500 text-white":"bg-blue-500 text-white"}`,children:F.type==="critical"?f.jsx(ev,{size:16}):f.jsx(kG,{size:16})}),f.jsxs("div",{children:[f.jsx("h5",{className:"text-[11px] font-black text-slate-900 uppercase italic mb-1",children:F.message}),f.jsx("p",{className:"text-[10px] font-medium text-slate-500 leading-tight",children:F.detail})]})]},Q)),Y.length===0&&f.jsxs("div",{className:"md:col-span-2 p-10 bg-emerald-50 rounded-[24px] border-l-4 border-emerald-500 flex flex-col items-center justify-center text-center",children:[f.jsx(kl,{size:40,className:"text-emerald-500 mb-2"}),f.jsx("h5",{className:"text-xs font-black text-emerald-900 uppercase",children:"Ambiente Seguro"}),f.jsx("p",{className:"text-[10px] font-medium text-emerald-600",children:"Nenhum risco detectado pelo monitor IA."})]})]})]}),g==="commercial"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{label:"Receita Total",val:B,icon:Hf,color:"text-blue-600",bg:"bg-blue-50"},{label:"Fluxo Pendente",val:D,icon:lG,color:"text-amber-600",bg:"bg-amber-50"},{label:"Volume Expedido",val:L,icon:dh,color:"text-emerald-600",bg:"bg-emerald-50",fmt:"w"},{label:"ndice de Quebra",val:z,icon:f1,color:"text-rose-600",bg:"bg-rose-50",fmt:"w"}].map((F,Q)=>f.jsxs("div",{className:"premium-card bg-white p-6 rounded-3xl group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:`${F.bg} ${F.color} p-3 rounded-2xl`,children:f.jsx(F.icon,{size:20})}),f.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-100 group-hover:bg-blue-500 transition-colors"})]}),f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:F.label}),f.jsx("p",{className:"text-2xl font-extrabold text-gray-900",children:F.fmt==="w"?_r(F.val):Zt(F.val)})]},Q))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[f.jsxs("div",{className:"lg:col-span-2 premium-card bg-white p-6 rounded-3xl h-[400px] flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Monitoramento de Vendas"}),f.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"Fluxo de caixa das ltimas 12 operaes"})]}),f.jsx("div",{className:"bg-blue-50 px-3 py-1 rounded-full text-blue-600 font-bold text-[9px] uppercase tracking-widest",children:"Tempo Real"})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx($Q,{width:"100%",height:"100%",children:f.jsxs(rde,{data:j,margin:{top:0,right:0,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorBrand",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.15}),f.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),f.jsx($U,{strokeDasharray:"4 4",stroke:"#f1f5f9",vertical:!1}),f.jsx(gb,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:10,fontWeight:600},axisLine:!1,tickLine:!1}),f.jsx(vb,{tick:{fontSize:10,fontWeight:600,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:F=>`R$${F/1e3}k`}),f.jsx(vc,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontSize:"11px",fontWeight:"bold"}}),f.jsx(uf,{type:"monotone",dataKey:"valor",stroke:"#2563eb",strokeWidth:3,fill:"url(#colorBrand)"})]})})})]}),f.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-8",children:"Estado do Sistema"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold",children:"L"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lotes Totais"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[I.length," Registros"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center font-bold",children:"V"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Unidades Vendidas"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[A.length," Itens"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold",children:"C"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Base de Clientes"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[k.length," Ativos"]})]})]})]}),f.jsx("div",{className:"mt-auto pt-6 border-t border-gray-50",children:f.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(gs,{size:10,className:"text-amber-500 fill-amber-500"}),f.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Otimizao de Custos"})]}),f.jsx("div",{className:"w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-emerald-500 h-full w-[85%]"})})]})})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[f.jsx(Wd,{size:16,className:"text-blue-600"}),"Detalhamento por Lote"]}),f.jsxs("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[V.length," Entradas"]})]}),f.jsxs("div",{className:"divide-y divide-gray-50",children:[V.map(({batchId:F,batch:Q,items:se,totalRevenue:W,totalCost:ee,totalProfit:le,supplier:xe})=>{const ve=h.has(F);return f.jsxs("div",{className:"group",children:[f.jsxs("div",{onClick:()=>q(F),className:`p-6 flex flex-col md:flex-row items-start md:items-center justify-between cursor-pointer transition-all gap-6 ${ve?"bg-blue-50/30":"hover:bg-gray-50/50"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-bold uppercase tracking-wider",children:F.slice(0,8)}),f.jsx("h4",{className:"text-md font-bold text-gray-800",children:Q?Q.id_lote:"Lote Avulso"})]}),f.jsxs("p",{className:"text-[11px] text-gray-400 font-medium",children:["Fornecedor: ",xe,"  Itens: ",se.length]})]}),f.jsxs("div",{className:"flex items-center gap-10",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Venda Bruta"}),f.jsx("p",{className:"text-sm font-bold text-gray-900",children:Zt(W)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Lucro Lquido"}),f.jsx("p",{className:`text-sm font-extrabold ${le>=0?"text-emerald-600":"text-rose-600"}`,children:Zt(le)})]}),f.jsx("div",{className:`p-2 rounded-xl transition-all ${ve?"bg-blue-100 text-blue-600 rotate-90":"text-gray-300"}`,children:f.jsx(Ou,{size:18})})]})]}),ve&&f.jsx("div",{className:"bg-[#fcfdff] border-t border-blue-50 px-6 py-4",children:f.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Venda"}),f.jsx("th",{children:"Cliente"}),f.jsx("th",{children:"Item"}),f.jsx("th",{className:"text-right",children:"Peso"}),f.jsx("th",{className:"text-right",children:"Valor"}),f.jsx("th",{className:"text-right",children:"Lucro"})]})}),f.jsx("tbody",{children:se.map((ce,O)=>{var K,H;return f.jsxs("tr",{children:[f.jsx("td",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(ce.sale.data_venda).toLocaleDateString()}),f.jsx("td",{className:"font-bold text-gray-800",children:((K=ce.client)==null?void 0:K.nome_social)||ce.sale.nome_cliente||"Varejo"}),f.jsx("td",{children:f.jsx("span",{className:"font-mono text-[9px] text-blue-600 font-bold",children:((H=ce.item)==null?void 0:H.id_completo)||ce.sale.id_completo})}),f.jsx("td",{className:"text-right font-medium text-gray-600",children:_r(ce.sale.peso_real_saida)}),f.jsx("td",{className:"text-right font-bold text-gray-900",children:Zt(ce.revenue)}),f.jsx("td",{className:`text-right font-bold ${ce.profit>=0?"text-emerald-600":"text-rose-600"}`,children:Zt(ce.profit)})]},O)})})]})})})]},F)}),V.length===0&&f.jsxs("div",{className:"text-center py-20 text-gray-300",children:[f.jsx(Wd,{size:48,className:"mx-auto mb-4 opacity-10"}),f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})]})]})]}):f.jsxs("div",{className:"animate-reveal space-y-10",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(()=>{const F=V.reduce((W,ee)=>{const le=ee.items.reduce((xe,ve)=>{var ce;return xe+(((ce=ve.item)==null?void 0:ce.peso_entrada)||0)},0);return W+le},0),Q=V.reduce((W,ee)=>W+ee.items.reduce((le,xe)=>le+xe.sale.peso_real_saida,0),0),se=F>0?Q/F*100:0;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"premium-card p-10 bg-slate-900 text-white relative flex flex-col justify-center",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:f.jsx(Na,{size:80})}),f.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Yield Industrial Global"}),f.jsxs("h3",{className:"text-6xl font-black tracking-tighter",children:[se.toFixed(1),"%"]}),f.jsx("p",{className:"text-xs font-bold text-slate-500 mt-4 uppercase tracking-widest",children:"Aproveitamento Mdio"})]}),f.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Total Quebra Detectada"}),f.jsx("h3",{className:"text-4xl font-black text-rose-600 tracking-tight",children:_r(z)}),f.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[f.jsx(f1,{size:14,className:"text-rose-600"}),f.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Impacto direto na margem"})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Eficincia de Resfriamento"}),f.jsx("h3",{className:"text-4xl font-black text-emerald-600 tracking-tight",children:"97.8%"}),f.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[f.jsx(h1,{size:14,className:"text-emerald-600"}),f.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Status Operacional: Estvel"})]})]})]})})()}),f.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-slate-50/50",children:[f.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Auditria de Rendimento por Lote"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),f.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:[">"," 97% Bom"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),f.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:["<"," 95% Crtico"]})]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Identificao"}),f.jsx("th",{children:"Entrada Bruta"}),f.jsx("th",{children:"Sada Lquida"}),f.jsx("th",{className:"text-right",children:"Quebra (kg)"}),f.jsx("th",{className:"text-right",children:"Rendimento %"}),f.jsx("th",{className:"w-40 text-center",children:"Status Industrial"})]})}),f.jsx("tbody",{children:V.map(F=>{const Q=F.items.reduce((le,xe)=>{var ve;return le+(((ve=xe.item)==null?void 0:ve.peso_entrada)||0)},0),se=F.items.reduce((le,xe)=>le+xe.sale.peso_real_saida,0),W=Q-se,ee=Q>0?se/Q*100:0;return f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:["Lote ",F.batchId.slice(0,8),"  ",F.supplier]}),f.jsx("td",{className:"font-bold text-slate-500",children:_r(Q)}),f.jsx("td",{className:"font-black text-slate-900",children:_r(se)}),f.jsx("td",{className:"text-right font-black text-rose-500",children:_r(W)}),f.jsxs("td",{className:`text-right font-black text-lg ${ee>97?"text-emerald-600":ee<95?"text-rose-600":"text-slate-900"}`,children:[ee.toFixed(2),"%"]}),f.jsx("td",{className:"text-center",children:f.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${ee>97?"bg-emerald-50 text-emerald-600 border border-emerald-100":ee<95?"bg-rose-50 text-rose-600 border border-rose-100":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:ee>97?"ALTA EFICINCIA":ee<95?"QUEBA ACENTUADA":"ESTVEL"})})]},F.batchId)})})]})})]}),f.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100",children:[f.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-8",children:f.jsx(XH,{size:40,className:"text-slate-200"})}),f.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.6em]",children:"Projeo de Curva de Perda Industrial"}),f.jsx("p",{className:"text-[9px] font-bold text-slate-200 mt-4 uppercase",children:"IA est processando variaes sazonais..."})]})]})]})})},ade=({clients:t,addClient:e,updateClient:n,deleteClient:r,receiveClientPayment:i,onBack:a,sales:s})=>{const[l,c]=be.useState(""),[d,h]=be.useState(!1),[m,g]=be.useState({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}),[y,N]=be.useState(null),[S,A]=be.useState(!1),[C,I]=be.useState(null),[k,B]=be.useState(!1),[L,z]=be.useState(""),[D,j]=be.useState(new Date().toISOString().split("T")[0]),[V,Y]=be.useState("PIX"),q=t.filter(W=>W.id_ferro.includes(l)||W.nome_social.toLowerCase().includes(l.toLowerCase())).sort((W,ee)=>W.nome_social.localeCompare(ee.nome_social)),M=W=>{W.preventDefault(),m.id_ferro&&m.nome_social&&(e(m),h(!1),g({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}))},F=W=>{W.preventDefault(),C&&n&&(n(C),N(C),A(!1))},Q=W=>{if(W.preventDefault(),y&&L){const ee=parseFloat(L);ee>0&&(i(y.id_ferro,ee,V,D),B(!1),z(""),Y("PIX"),N(null))}},se=W=>`https://wa.me/55${W.replace(/\D/g,"")}`;return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-emerald-600 p-3 rounded-2xl text-white shadow-xl shadow-emerald-100",children:f.jsx(aG,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",f.jsx("span",{className:"text-emerald-600",children:"Clientes"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Central de Relacionamento e Crdito / ID-CRM"})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[f.jsxs("div",{className:"relative group w-full sm:w-80",children:[f.jsx(gm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:16}),f.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou ID...",className:"modern-input pl-12 bg-white",value:l,onChange:W=>c(W.target.value)})]}),f.jsxs("button",{onClick:()=>h(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 shadow-lg shadow-blue-100",children:[f.jsx(Y7,{size:18})," Novo Cliente"]})]})]}),d&&f.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[f.jsxs("div",{className:"bg-emerald-600 p-8 text-white flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Cadastro de Entidade"}),f.jsx("p",{className:"text-[10px] text-emerald-100 font-bold uppercase tracking-widest mt-1",children:"Mdulo de Entrada Segura / CRM-01"})]}),f.jsx("button",{onClick:()=>h(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:f.jsx(Ac,{size:20})})]}),f.jsxs("form",{onSubmit:M,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"md:col-span-4",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"ID / Marca"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: 77",value:m.id_ferro,onChange:W=>g({...m,id_ferro:W.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"md:col-span-8",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Nome Social / Razo Social"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"NOME COMPLETO DO CLIENTE",value:m.nome_social,onChange:W=>g({...m,nome_social:W.target.value.toUpperCase()})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CPF / CNPJ"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:m.cpf_cnpj,onChange:W=>g({...m,cpf_cnpj:W.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"WhatsApp"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:m.whatsapp,onChange:W=>g({...m,whatsapp:W.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Telefone Fixo"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 0000-0000",value:m.telefone_residencial,onChange:W=>g({...m,telefone_residencial:W.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4 border-t border-gray-50",children:[f.jsxs("div",{className:"md:col-span-3",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CEP"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"00000-000",value:m.cep,onChange:W=>g({...m,cep:W.target.value})})]}),f.jsxs("div",{className:"md:col-span-5",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Endereo"}),f.jsx("input",{type:"text",className:"modern-input",value:m.endereco,onChange:W=>g({...m,endereco:W.target.value})})]}),f.jsxs("div",{className:"md:col-span-4",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Bairro"}),f.jsx("input",{type:"text",className:"modern-input",value:m.bairro,onChange:W=>g({...m,bairro:W.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Cidade / UF"}),f.jsx("input",{type:"text",className:"modern-input",value:m.cidade,onChange:W=>g({...m,cidade:W.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-2 block",children:"Limite de Crdito"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-bold text-emerald-600 text-sm",children:"R$"}),f.jsx("input",{type:"number",className:"modern-input pl-12 bg-emerald-50 border-emerald-100 text-emerald-700 font-bold",value:m.limite_credito,onChange:W=>g({...m,limite_credito:Number(W.target.value)})})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-emerald-600 hover:bg-emerald-700",children:"Finalizar Registro"})]})]})]})}),f.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-24 text-center",children:"ID"}),f.jsx("th",{children:"Titular / Razo Social"}),f.jsx("th",{className:"hidden md:table-cell",children:"Localizao"}),f.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),f.jsx("th",{className:"text-center",children:"Score de Crdito"}),f.jsx("th",{className:"text-right",children:"Saldo Devedor"}),f.jsx("th",{className:"w-16"})]})}),f.jsx("tbody",{children:q.map(W=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"text-center",children:f.jsx("div",{onClick:()=>{N(W),A(!1)},className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center font-mono font-bold text-gray-500 group-hover:bg-blue-600 group-hover:text-white transition-all cursor-pointer mx-auto",children:W.id_ferro})}),f.jsx("td",{children:f.jsxs("div",{onClick:()=>{N(W),A(!1)},className:"cursor-pointer",children:[f.jsx("p",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:W.nome_social}),f.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:W.cpf_cnpj||"SEM DOCUMENTO"})]})}),f.jsx("td",{className:"hidden md:table-cell",children:W.cidade?f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[f.jsx(c1,{size:12,className:"text-blue-500"})," ",W.cidade]}),f.jsx("span",{className:"text-[10px] text-gray-400",children:W.bairro})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO DEFINIDO"})}),f.jsx("td",{className:"hidden sm:table-cell",children:W.whatsapp?f.jsxs("div",{className:"flex flex-col",children:[f.jsx("p",{className:"text-xs font-bold text-gray-700",children:W.whatsapp}),f.jsx("a",{href:se(W.whatsapp),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),f.jsx("td",{className:"text-center",children:(()=>{const ee=fR(W,s,zS);return f.jsxs("div",{className:"flex flex-col items-center gap-1 group/score relative",children:[f.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((le,xe)=>f.jsx(oR,{size:10,className:xe<ee.stars?"fill-amber-400 text-amber-400":"text-slate-200"},xe))}),f.jsxs("span",{className:`text-[9px] font-black px-2 py-0.5 rounded-md border ${ee.color} ${ee.bg} ${ee.border}`,children:["NVEL ",ee.tier]})]})})()}),f.jsx("td",{className:"text-right",children:f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:`text-sm font-bold ${W.saldo_devedor>0?"text-rose-600":"text-emerald-600"}`,children:Zt(W.saldo_devedor)}),W.saldo_devedor>0&&f.jsx("span",{className:"text-[9px] font-bold text-rose-300 uppercase tracking-tighter",children:"Em Aberto"})]})}),f.jsx("td",{className:"text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:ee=>{ee.stopPropagation(),confirm(` Excluir cliente ${W.nome_social}?

Esta ao no pode ser desfeita!`)&&r(W.id_ferro)},className:"opacity-0 group-hover:opacity-100 p-2 rounded-lg bg-rose-50 text-rose-500 hover:bg-rose-500 hover:text-white transition-all",title:"Excluir cliente",children:f.jsx(Zf,{size:16})}),f.jsx(Ou,{size:18,className:"text-gray-300 group-hover:text-blue-500 transition-all transform group-hover:translate-x-1"})]})})]},W.id_ferro))})]})})}),y&&!k&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[f.jsxs("div",{className:`p-8 flex justify-between items-center ${S?"bg-amber-50":"bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 font-black text-3xl shadow-sm border border-slate-100",children:y.id_ferro}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:y.nome_social}),f.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:S?"Editor de Registro Master":`Matrcula #${y.cpf_cnpj||"---"}`})]})]}),f.jsx("button",{onClick:()=>N(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:f.jsx(Ac,{size:24})})]}),f.jsx("div",{className:"p-8 overflow-y-auto bg-white flex-1",children:S?f.jsxs("form",{id:"edit-form",onSubmit:F,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"md:col-span-2 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Razo Social"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(C==null?void 0:C.nome_social)||"",onChange:W=>I(ee=>ee?{...ee,nome_social:W.target.value.toUpperCase()}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Documento"}),f.jsx("input",{type:"text",className:"modern-input",value:(C==null?void 0:C.cpf_cnpj)||"",onChange:W=>I(ee=>ee?{...ee,cpf_cnpj:W.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"WhatsApp"}),f.jsx("input",{type:"text",className:"modern-input",value:(C==null?void 0:C.whatsapp)||"",onChange:W=>I(ee=>ee?{...ee,whatsapp:W.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Limite de Crdito"}),f.jsx("input",{type:"number",className:"modern-input bg-emerald-50 border-emerald-100 font-bold text-emerald-700",value:(C==null?void 0:C.limite_credito)||0,onChange:W=>I(ee=>ee?{...ee,limite_credito:Number(W.target.value)}:null)})]})]}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-emerald-50/50 rounded-3xl p-6 border border-emerald-50",children:[f.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-1",children:"Limite de Crdito"}),f.jsx("p",{className:"text-3xl font-extrabold text-emerald-700",children:Zt(y.limite_credito)})]}),f.jsxs("div",{className:"bg-rose-50/50 rounded-3xl p-6 border border-rose-50",children:[f.jsx("p",{className:"text-[10px] font-bold text-rose-600 uppercase tracking-widest mb-1",children:"Saldo devedor Atual"}),f.jsx("p",{className:"text-3xl font-extrabold text-rose-700",children:Zt(y.saldo_devedor)})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Canais de Contato"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:f.jsx(sR,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-bold text-slate-700",children:y.whatsapp||"No cadastrado"}),f.jsx("a",{href:se(y.whatsapp),target:"_blank",className:"text-[10px] text-blue-500 font-bold hover:underline",children:"Abrir WhatsApp"})]})]}),y.telefone_residencial&&f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:f.jsx(sR,{size:18})}),f.jsx("p",{className:"text-sm font-bold text-slate-700",children:y.telefone_residencial})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Informaes de Localidade"}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:f.jsx(c1,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight",children:y.endereco||"Endereo no disponvel"}),f.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-1",children:[y.bairro,y.cidade?`, ${y.cidade}`:""]})]})]})]}),f.jsxs("div",{className:"md:col-span-2 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform",children:f.jsx(kl,{size:80})}),(()=>{const W=fR(y,s,zS);return f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Relatrio de Anlise de Crdito"}),f.jsxs("div",{className:"flex items-center gap-3 mb-2 justify-center md:justify-start",children:[f.jsxs("h3",{className:"text-4xl font-black italic",children:["CLASSE ",W.tier]}),W.tier==="F"&&f.jsx(qS,{className:"text-rose-500 animate-pulse",size:24}),W.tier==="AAA"&&f.jsx(F7,{className:"text-amber-500 animate-bounce",size:24})]}),f.jsxs("p",{className:`text-sm font-bold uppercase ${W.tier==="F"?"text-rose-400":"text-slate-400"}`,children:["Motivo: ",W.reason]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white/5 p-6 rounded-[24px] border border-white/5",children:[f.jsx("div",{className:"flex gap-2",children:[...Array(5)].map((ee,le)=>f.jsx(oR,{size:24,className:le<W.stars?"fill-amber-400 text-amber-400":"text-white/10"},le))}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Score de Confiana Industrial"})]}),W.tier==="F"&&f.jsxs("div",{className:"bg-rose-500/20 border border-rose-500/30 p-4 rounded-2xl flex items-center gap-4 animate-bounce",children:[f.jsx(ev,{className:"text-rose-500"}),f.jsx("span",{className:"text-[10px] font-black uppercase text-rose-100 italic",children:"ALERTA DE FUMO: Crdito Bloqueado"})]})]})})()]})]})]})}),f.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:S?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),f.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-amber-600 hover:bg-amber-700 flex items-center gap-2",children:[f.jsx(d1,{size:18})," Salvar Alteraes"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>{I(y),A(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[f.jsx(z7,{size:18})," Editar Cadastro"]}),f.jsxs("button",{onClick:()=>{B(!0),z("")},disabled:((y==null?void 0:y.saldo_devedor)||0)<=0,className:"btn-modern btn-brand px-12 bg-blue-600 hover:bg-blue-700 flex items-center gap-3 disabled:opacity-30",children:[f.jsx(p1,{size:20})," Receber Pagamento"]})]})})]})}),k&&y&&f.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-xl animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-md p-8 relative border border-white",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h3",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Receber Valor"}),f.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 p-2",children:f.jsx(Ac,{size:20})})]}),f.jsxs("div",{className:"bg-blue-50/50 rounded-3xl p-6 flex justify-between items-center mb-8 border border-blue-50",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-widest mb-1",children:"Dvida Total"}),f.jsx("p",{className:"text-2xl font-extrabold text-blue-700",children:Zt(y.saldo_devedor)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-blue-300 uppercase mb-1",children:"Cliente"}),f.jsxs("p",{className:"text-sm font-bold text-slate-700",children:["#",y.id_ferro]})]})]}),f.jsxs("form",{onSubmit:Q,className:"space-y-8",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center block",children:"Valor do Recebimento"}),f.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full bg-slate-50 rounded-3xl p-8 text-slate-900 text-4xl font-extrabold text-center focus:bg-blue-50 focus:ring-4 focus:ring-blue-100 transition-all outline-none",placeholder:"0.00",value:L,onChange:W=>z(W.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"date",className:"modern-input text-xs font-bold text-slate-500",value:D,onChange:W=>j(W.target.value)}),f.jsxs("select",{className:"modern-input text-xs font-bold text-slate-500 bg-white",value:V,onChange:W=>Y(W.target.value),children:[f.jsx("option",{value:"PIX",children:"Pix"}),f.jsx("option",{value:"DINHEIRO",children:"Dinheiro"}),f.jsx("option",{value:"TRANSFERENCIA",children:"Transferncia"})]})]}),f.jsxs("button",{type:"submit",className:"w-full btn-modern btn-brand py-5 rounded-3xl bg-blue-600 hover:bg-blue-700 flex items-center justify-center gap-3 text-sm shadow-xl shadow-blue-100",children:[f.jsx(kl,{size:20})," Confirmar Recebimento"]})]})]})})]})},pS=window.SpeechRecognition||window.webkitSpeechRecognition,sde=({batches:t=[],suppliers:e=[],stock:n=[],addBatch:r,updateBatch:i,deleteBatch:a,addStockItem:s,updateStockItem:l,removeStockItem:c,registerBatchFinancial:d,onBack:h,onGoToStock:m})=>{const g=t||[],y=e||[],N=n||[],S=be.useRef(null);be.useRef(null);const[A,C]=be.useState(!1),[I,k]=be.useState(!1),[B,L]=be.useState(null),[z,D]=be.useState(!1),[j,V]=be.useState(null),[Y,q]=be.useState(null),[M,F]=be.useState(!1),Q=be.useRef(null),se=be.useRef(!1);be.useEffect(()=>{if(pS){const ge=new pS;ge.lang="pt-BR",ge.continuous=!1,ge.interimResults=!1,ge.onresult=ue=>{const Ze=ue.results[0][0].transcript.toLowerCase().match(/\d+([.,]\d+)?/g);if(Ze&&Ze.length>0){const He=Ze[0].replace(",",".");Z(Ge=>({...Ge,peso:He})),F(!1),se.current&&setTimeout(()=>{Q.current&&se.current&&(F(!0),Q.current.start())},300)}else F(!1),setTimeout(()=>{Q.current&&se.current&&(F(!0),Q.current.start())},500)},ge.onerror=ue=>{F(!1),ue.error!=="aborted"&&ue.error!=="no-speech"&&se.current&&setTimeout(()=>{Q.current&&se.current&&(F(!0),Q.current.start())},500)},ge.onend=()=>F(!1),Q.current=ge}},[]);const W=()=>{var ge,ue;M||se.current?(se.current=!1,F(!1),(ge=Q.current)==null||ge.stop()):(se.current=!0,F(!0),(ue=Q.current)==null||ue.start())},[ee,le]=be.useState({id_lote:"",fornecedor:"",data_recebimento:new Date().toISOString().split("T")[0],peso_total_romaneio:0,valor_compra_total:0,frete:0,gastos_extras:0,forma_pagamento:"PRAZO",valor_entrada:0,prazo_dias:30,status:"ABERTO",id_sequencia:1}),xe=ge=>{let ue="LOTE";if(ee&&ee.fornecedor&&typeof ee.fornecedor=="string")try{const Ye=ee.fornecedor.toUpperCase().trim();if(Ye.length>0){const ht={:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"I",:"I",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"C",:"N"},yt=Ye.replace(/[^\w\s]/g,St=>ht[St]||"").split(" ").filter(St=>St.length>0);if(yt.length>0){const St=yt[0],Kt=St.length>=3?St.substring(0,3):St.padEnd(3,"X");let It="";yt.length>1&&(It=yt[yt.length-1].charAt(0)),ue=`${Kt}${It}`.replace(/[^A-Z0-9]/g,"")}}}catch{ue="LOTE"}const ut=new Date,Ze=String(ut.getDate()).padStart(2,"0"),He=String(ut.getMonth()+1).padStart(2,"0"),Ge=`${Ze}${He}`,Ke=`${ue}-${Ge}-`;let Ve=ge;if(Ve===void 0){const Ye=g.filter(Et=>Et.id_lote&&Et.id_lote.startsWith(Ke));let ht=0;Ye.length>0&&(ht=Ye.reduce((Et,yt)=>{try{const St=yt.id_lote.split("-"),Kt=St[St.length-1],It=parseInt(Kt);return isNaN(It)?Et:Math.max(Et,It)}catch{return Et}},0)),Ve=ht+1}return`${Ke}${String(Ve).padStart(2,"0")}`};be.useEffect(()=>{!j&&ee.id_lote===""&&le(ge=>({...ge,id_lote:xe()}))},[j]);const ve=be.useMemo(()=>Y&&Y.id_lote===j?Y:g.find(ge=>ge.id_lote===j),[j,g,Y]),[ce,O]=be.useState([]),K=be.useMemo(()=>{if(!j||!ve)return null;const ue=[...N.filter(Ve=>Ve.id_lote===j),...ce.filter(Ve=>Ve.id_lote===j)],ut=ue.reduce((Ve,Ye)=>{const ht=Ye.sequencia;return Ve[ht]||(Ve[ht]={bandaA:null,bandaB:null,inteiro:null}),Ye.tipo===dn.BANDA_A?Ve[ht].bandaA=Ye:Ye.tipo===dn.BANDA_B?Ve[ht].bandaB=Ye:Ye.tipo===dn.INTEIRO&&(Ve[ht].inteiro=Ye),Ve},{}),Ze=Object.values(ut).reduce((Ve,Ye)=>{var It,zt,xt;const ht=((It=Ye.bandaA)==null?void 0:It.peso_entrada)||0,Et=((zt=Ye.bandaB)==null?void 0:zt.peso_entrada)||0,yt=((xt=Ye.inteiro)==null?void 0:xt.peso_entrada)||0,St=ht>0&&Et>0?3:0,Kt=yt>0?yt:ht+Et-St;return Ve+Kt},0),He=ve.peso_total_romaneio,Ge=Ze-He,Ke=He>0?Ze/He*100:0;return{totalWeighed:Ze,nfWeight:He,diff:Ge,percent:Ke,count:ue.length}},[j,ve,N,ce]),[H,Z]=be.useState({sequencia:"1",tipo:dn.BANDA_A.toString(),peso:"",pesoA:"",pesoB:""});be.useEffect(()=>{if(j&&ce.length===0){const ge=N.filter(ue=>ue.id_lote===j);if(ge.length>0){const ue=[...ge].sort((He,Ge)=>Ge.sequencia!==He.sequencia?Ge.sequencia-He.sequencia:Ge.tipo-He.tipo)[0];let ut=ue.sequencia,Ze=ue.tipo;ue.tipo===dn.INTEIRO?ut=ue.sequencia+1:ue.tipo===dn.BANDA_A?Ze=dn.BANDA_B:ue.tipo===dn.BANDA_B&&(ut=ue.sequencia+1,Ze=dn.BANDA_A),Z(He=>({...He,sequencia:ut.toString(),tipo:Ze.toString()}))}}},[j]);const te=(ve==null?void 0:ve.status)==="FECHADO";be.useEffect(()=>{j&&S.current&&setTimeout(()=>{var ge;return(ge=S.current)==null?void 0:ge.focus()},500)},[j]);const me=$S(ee.valor_compra_total||0,ee.frete||0,ee.gastos_extras||0,ee.peso_total_romaneio||0),_e=async ge=>{ge.preventDefault();const ue=ee.id_lote||xe();if(!ee.peso_total_romaneio)return;const ut={...ee,id_lote:ue,custo_real_kg:me,status:"ABERTO"};q(ut),V(ue)},ie=async ge=>{if(!j||te||!H.sequencia||!H.peso)return;const ue=parseInt(H.sequencia),ut=parseInt(H.tipo),Ze=ut===dn.BANDA_A?"BANDA_A":ut===dn.BANDA_B?"BANDA_B":"INTEIRO",He=parseFloat(H.peso),Ke={id_completo:`${j}-${String(ue).padStart(3,"0")}-${Ze}`,id_lote:j,sequencia:ue,tipo:ut,peso_entrada:He,status:"DISPONIVEL",data_entrada:(ve==null?void 0:ve.data_recebimento)||new Date().toISOString().split("T")[0]};O(ht=>[...ht,Ke]);let Ve=ue,Ye=ut;ut===dn.INTEIRO?(Ve=ue+1,Ye=dn.INTEIRO):ut===dn.BANDA_A?(Ve=ue,Ye=dn.BANDA_B):ut===dn.BANDA_B&&(Ve=ue+1,Ye=dn.BANDA_A),Z({sequencia:Ve.toString(),tipo:Ye.toString(),peso:"",pesoA:"",pesoB:""}),setTimeout(()=>{var ht;return(ht=S.current)==null?void 0:ht.focus()},50)},Ae=ge=>{if(te)return;ce.some(ut=>ut.id_completo===ge)?O(ut=>ut.filter(Ze=>Ze.id_completo!==ge)):c&&c(ge)},Re=async()=>{if(!j)return;const ge=ce.filter(ue=>ue.id_lote===j);if(ge.length===0){alert("  necessrio cadastrar pelo menos uma pea antes de finalizar!");return}try{if(Y&&Y.id_lote===j){const ue={...Y,status:"FECHADO"},ut=await r(ue);if(!ut||!ut.success){alert(" Erro ao salvar o lote: "+((ut==null?void 0:ut.error)||"Erro desconhecido"));return}await d(ue)}else ve&&i&&(await d(ve),await i(ve.id_lote,{status:"FECHADO"}));for(const ue of ge)await s(ue);O(ue=>ue.filter(ut=>ut.id_lote!==j)),q(null),C(!1),alert(" Lote finalizado com sucesso!"),m()}catch(ue){console.error("Erro ao finalizar:",ue),alert(" Erro ao finalizar o lote.")}},Se=ge=>{L({...ge}),k(!0)},We=async()=>{if(!(!B||!i))try{await i(B.id_lote,B),k(!1),L(null)}catch(ge){console.error("Erro ao salvar lote:",ge)}},tt=async()=>{if(!(!B||!a||!window.confirm(` ATENO - EXCLUSO PERMANENTE!

Voc est prestes a EXCLUIR o lote:
${B.id_lote} - ${B.fornecedor}

Esta ao  IRREVERSVEL e ir:
 Remover o lote do sistema
 Perder todos os dados financeiros
 Afetar relatrios e histrico

Tem CERTEZA que deseja continuar?`)))try{await a(B.id_lote),alert(" Lote excludo com sucesso!"),k(!1),L(null)}catch(ue){console.error("Erro ao excluir lote:",ue),alert(" Erro ao excluir o lote.")}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:h,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:`p-3 rounded-2xl text-white shadow-xl ${te?"bg-slate-400":"bg-orange-600 shadow-orange-100"}`,children:f.jsx(sW,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Recepo de ",f.jsx("span",{className:"text-orange-600",children:"Lotes"})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Fluxo de Entrada / ID-LOG"}),ve&&f.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${te?"bg-slate-100 text-slate-500":"bg-orange-50 text-orange-600"}`,children:[te?f.jsx(lT,{size:10}):f.jsx(zG,{size:10}),te?"Lote Travado":"Acesso Liberado"]})]})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[!te&&ve&&f.jsxs("button",{onClick:()=>C(!0),className:"btn-modern bg-slate-900 text-white hover:bg-orange-600 px-8 py-4 gap-3 shadow-xl",children:[f.jsx(xu,{size:20})," Finalizar Operao"]}),f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"btn-modern bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 gap-3 shadow-xl",children:[f.jsx(qg,{size:18})," Editar Lotes"]}),f.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 w-80 max-h-96 overflow-y-auto z-50",children:f.jsx("div",{className:"p-2",children:g.length===0?f.jsx("p",{className:"text-xs text-slate-400 text-center py-8",children:"Nenhum lote cadastrado"}):g.map(ge=>f.jsx("button",{onClick:()=>Se(ge),className:"w-full text-left p-3 hover:bg-blue-50 rounded-xl transition-colors group/item",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-black text-xs text-slate-900",children:ge.id_lote}),f.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:ge.fornecedor})]}),f.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase ${ge.status==="FECHADO"?"bg-slate-100 text-slate-500":"bg-green-50 text-green-600"}`,children:ge.status})]})},ge.id_lote))})})]})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[f.jsx("div",{className:"lg:col-span-4 space-y-6",children:f.jsxs("div",{className:"premium-card p-8",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[f.jsx(Bp,{size:14,className:"text-orange-500"})," Parmetros do Lote"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-orange-50/50 rounded-2xl p-5 border border-orange-50",children:[f.jsx("label",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Identificador do Lote"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-2xl font-black text-slate-900 tracking-tight",children:ve?ve.id_lote:ee.id_lote}),!ve&&f.jsxs("div",{className:"flex items-center bg-white rounded-xl border border-orange-100 p-1",children:[f.jsx("button",{onClick:()=>{const ge=Math.max(1,ee.id_sequencia-1);le({...ee,id_sequencia:ge,id_lote:xe(ge)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:f.jsx(u1,{size:16})}),f.jsx("span",{className:"font-bold text-xs w-10 text-center text-slate-600",children:ee.id_sequencia}),f.jsx("button",{onClick:()=>{const ge=ee.id_sequencia+1;le({...ee,id_sequencia:ge,id_lote:xe(ge)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:f.jsx(Gf,{size:16})})]})]})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Fornecedor / Fazenda"}),f.jsx("input",{disabled:!!ve,type:"text",className:"modern-input",value:ve?ve.fornecedor:ee.fornecedor,onChange:ge=>{le(ue=>({...ue,fornecedor:ge.target.value.toUpperCase()})),D(!0)},onBlur:()=>setTimeout(()=>{D(!1),le(ge=>({...ge,id_lote:xe()}))},200),onFocus:()=>D(!0),placeholder:"BUSCAR FORNECEDOR"}),!ve&&z&&ee.fornecedor&&String(ee.fornecedor).length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-2xl rounded-2xl border border-slate-100 z-50 mt-2 p-2 max-h-48 overflow-y-auto animate-reveal",children:y.filter(ge=>ge.nome_fantasia.toUpperCase().includes(ee.fornecedor.toUpperCase())).map(ge=>f.jsx("div",{className:"p-3 hover:bg-orange-50 hover:text-orange-700 rounded-xl cursor-pointer font-bold text-xs text-slate-600 transition-colors",onClick:()=>{const ue={...ee,fornecedor:ge.nome_fantasia.toUpperCase()};le(ue),D(!1),setTimeout(()=>{le(ut=>({...ut,id_lote:xe()}))},100)},children:ge.nome_fantasia},ge.id))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Recebimento"}),f.jsx("input",{disabled:!!ve,type:"date",className:"modern-input text-xs",value:ve?ve.data_recebimento:ee.data_recebimento,onChange:ge=>le({...ee,data_recebimento:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Romaneio (kg)"}),f.jsx("input",{disabled:!!ve,type:"number",step:"0.01",inputMode:"decimal",className:"modern-input font-bold",placeholder:"0,00 kg",value:ve?ve.peso_total_romaneio:ee.peso_total_romaneio,onChange:ge=>le({...ee,peso_total_romaneio:parseFloat(ge.target.value)||0})})]})]})]}),!ve&&f.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[f.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"Configurao Financeira"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Valor do Gado (R$)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"modern-input text-xl font-black bg-slate-50 border-slate-100",placeholder:"R$ 0,00",value:ee.valor_compra_total,onChange:ge=>le({...ee,valor_compra_total:parseFloat(ge.target.value)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Frete (R$)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"modern-input text-sm",placeholder:"R$ 0,00",value:ee.frete,onChange:ge=>le({...ee,frete:parseFloat(ge.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Extras (R$)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"modern-input text-sm",placeholder:"R$ 0,00",value:ee.gastos_extras,onChange:ge=>le({...ee,gastos_extras:parseFloat(ge.target.value)||0})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 p-1 bg-slate-100 rounded-2xl",children:[f.jsx("button",{onClick:()=>le({...ee,forma_pagamento:"VISTA"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ee.forma_pagamento==="VISTA"?"bg-white text-orange-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Vista"}),f.jsx("button",{onClick:()=>le({...ee,forma_pagamento:"PRAZO"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ee.forma_pagamento==="PRAZO"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Prazo"})]})]}),f.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 flex justify-between items-center text-white",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),f.jsx("span",{className:"text-2xl font-black text-orange-400",children:Zt(me)})]}),f.jsxs("button",{onClick:_e,className:"w-full btn-modern btn-brand py-5 bg-orange-600 hover:bg-orange-700 shadow-lg shadow-orange-100",children:[f.jsx(gs,{size:18})," Iniciar Recepo"]})]})]})]})}),ve&&f.jsxs("div",{className:"lg:col-span-8 space-y-8 animate-reveal",children:[K&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Peso Real",value:_r(K.totalWeighed),icon:Vg,color:"blue"},{label:"NF Esperado",value:_r(K.nfWeight),icon:Bp,color:"slate"},{label:"Variao",value:`${K.diff>0?"+":""}${_r(K.diff)}`,icon:GH,color:K.diff>=0?"emerald":"rose"},{label:"Contagem",value:`${K.count} Un`,icon:dh,color:"orange"}].map((ge,ue)=>f.jsxs("div",{className:"premium-card p-6 flex flex-col gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-xl bg-${ge.color}-50 text-${ge.color}-600 flex items-center justify-center shadow-sm`,children:f.jsx(ge.icon,{size:16})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:ge.label}),f.jsx("p",{className:"text-xl font-black text-slate-900",children:ge.value})]})]},ue))}),!te&&f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Vg,{size:14,className:"text-orange-500"})," Pesagem Rpida"]}),f.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"A  B  Prxima | 3kg/carcaa"})]}),f.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-900 to-slate-800",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 items-center",children:[f.jsxs("div",{className:"md:col-span-2 text-center",children:[f.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Seq"}),f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx("button",{type:"button",onClick:()=>Z(ge=>({...ge,sequencia:Math.max(1,parseInt(ge.sequencia)-1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:f.jsx(u1,{size:12})}),f.jsx("div",{className:"bg-white rounded-xl px-3 py-2 shadow-lg",children:f.jsx("span",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight",children:String(H.sequencia).padStart(3,"0")})}),f.jsx("button",{type:"button",onClick:()=>Z(ge=>({...ge,sequencia:(parseInt(ge.sequencia||"0")+1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:f.jsx(Gf,{size:12})})]})]}),f.jsxs("div",{className:"md:col-span-3 text-center",children:[f.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tipo"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{type:"button",onClick:()=>Z({...H,tipo:dn.BANDA_A.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${H.tipo===dn.BANDA_A.toString()?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"A"}),f.jsx("button",{type:"button",onClick:()=>Z({...H,tipo:dn.BANDA_B.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${H.tipo===dn.BANDA_B.toString()?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"B"}),f.jsx("button",{type:"button",onClick:()=>Z({...H,tipo:dn.INTEIRO.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${H.tipo===dn.INTEIRO.toString()?"bg-orange-600 text-white shadow-lg shadow-orange-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"INT"})]})]}),f.jsxs("div",{className:"md:col-span-7",children:[f.jsxs("div",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest mb-1 flex items-center justify-between",children:[f.jsx("span",{children:"Peso (KG)"}),pS&&f.jsxs("button",{type:"button",onClick:W,className:`flex items-center gap-1 px-2 py-1 rounded-lg text-[8px] transition-all ${M?"bg-rose-600 text-white animate-pulse":"bg-slate-700 text-slate-400 hover:text-white"}`,children:[M?f.jsx(Q7,{size:10}):f.jsx(Sd,{size:10}),M?"OUVINDO":"VOZ"]})]}),f.jsxs("div",{className:"w-full bg-white rounded-xl py-4 px-4 text-4xl md:text-5xl font-black text-slate-900 text-right shadow-xl mb-3 min-h-[70px] flex items-center justify-end",children:[H.peso||"0",f.jsx("span",{className:"text-xl text-slate-400 ml-1",children:"kg"})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[["7","8","9","C"].map(ge=>f.jsx("button",{type:"button",onClick:()=>{Z(ge==="C"?{...H,peso:""}:ue=>({...ue,peso:ue.peso+ge}))},className:`h-14 md:h-16 rounded-xl font-black text-2xl transition-all active:scale-95 shadow-md ${ge==="C"?"bg-rose-500 text-white hover:bg-rose-600":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:ge},ge)),["4","5","6",","].map(ge=>f.jsx("button",{type:"button",onClick:()=>{ge===","?H.peso.includes(".")||Z(ue=>({...ue,peso:ue.peso+"."})):Z(ue=>({...ue,peso:ue.peso+ge}))},className:`h-14 md:h-16 rounded-xl font-black text-2xl transition-all active:scale-95 shadow-md ${ge===","?"bg-slate-300 text-slate-700 hover:bg-slate-400":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:ge},ge)),["1","2","3",""].map(ge=>f.jsx("button",{type:"button",onClick:()=>{Z(ge===""?ue=>({...ue,peso:ue.peso.slice(0,-1)}):ue=>({...ue,peso:ue.peso+ge}))},className:`h-14 md:h-16 rounded-xl font-black text-2xl transition-all active:scale-95 shadow-md ${ge===""?"bg-slate-400 text-white hover:bg-slate-500":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:ge},ge)),f.jsx("button",{type:"button",onClick:()=>Z(ge=>({...ge,peso:ge.peso+"0"})),className:"h-14 md:h-16 col-span-2 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-md",children:"0"}),f.jsxs("button",{type:"button",onClick:()=>{ie()},className:"h-14 md:h-16 col-span-2 rounded-xl font-black text-xl bg-orange-600 text-white hover:bg-orange-500 transition-all active:scale-95 shadow-xl shadow-orange-900/30 flex items-center justify-center gap-2",children:[f.jsx(Gf,{size:24})," ADD"]})]})]})]})})]}),f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Wd,{size:16,className:"text-orange-500"})," Registros Lanados"]}),f.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1.5 rounded-full uppercase",children:[(()=>{const ge=N.filter(Ze=>Ze.id_lote===j),ue=ce.filter(Ze=>Ze.id_lote===j);return new Set([...ge,...ue].map(Ze=>Ze.sequencia)).size})()," Carcaas"]})]}),f.jsx("div",{className:"overflow-x-auto max-h-[400px]",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"sticky top-0",children:f.jsxs("tr",{className:"bg-slate-800 text-white",children:[f.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider w-16",children:"Seq"}),f.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider",children:"ID"}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-blue-800",children:"Banda A"}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-emerald-800",children:"Banda B"}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-rose-800 w-20",children:"Desc."}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-orange-700 w-24",children:"Total"}),f.jsx("th",{className:"px-3 py-2 w-24 text-center text-[10px] font-black uppercase tracking-wider",children:"Aes"})]})}),f.jsx("tbody",{children:(()=>{const ge=N.filter(Ge=>Ge.id_lote===j),ue=ce.filter(Ge=>Ge.id_lote===j),ut=[...ge,...ue],Ze={};ut.forEach(Ge=>{Ze[Ge.sequencia]||(Ze[Ge.sequencia]={}),Ge.tipo===dn.BANDA_A?Ze[Ge.sequencia].bandaA=Ge:Ge.tipo===dn.BANDA_B?Ze[Ge.sequencia].bandaB=Ge:Ge.tipo===dn.INTEIRO&&(Ze[Ge.sequencia].inteiro=Ge)});const He=Object.keys(Ze).map(Number).sort((Ge,Ke)=>Ke-Ge);return He.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"py-16 text-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[f.jsx(Vg,{size:48}),f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})]})})}):He.map(Ge=>{var zt,xt,Nn;const Ke=Ze[Ge],Ve=((zt=Ke.bandaA)==null?void 0:zt.peso_entrada)||0,Ye=((xt=Ke.bandaB)==null?void 0:xt.peso_entrada)||0,ht=((Nn=Ke.inteiro)==null?void 0:Nn.peso_entrada)||0,yt=Ve>0&&Ye>0?3:0,St=ht>0?ht:Ve+Ye-yt,Kt=ue.some(nn=>nn.sequencia===Ge),It=`${j}-${String(Ge).padStart(3,"0")}`;return f.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${Kt?"bg-orange-50/50":""}`,children:[f.jsx("td",{className:"px-3 py-2",children:f.jsx("span",{className:"bg-slate-200 px-2 py-1 rounded font-mono font-black text-slate-600",children:String(Ge).padStart(2,"0")})}),f.jsx("td",{className:"px-3 py-2",children:f.jsx("span",{className:"font-mono text-xs text-slate-500",children:It})}),f.jsx("td",{className:"px-3 py-2 text-center bg-blue-50",children:f.jsx("span",{className:"font-bold text-blue-700",children:Ve>0?Ve.toFixed(2).replace(".",","):"-"})}),f.jsx("td",{className:"px-3 py-2 text-center bg-emerald-50",children:f.jsx("span",{className:"font-bold text-emerald-700",children:Ye>0?Ye.toFixed(2).replace(".",","):ht>0?"INT":"-"})}),f.jsx("td",{className:"px-3 py-2 text-center bg-rose-50",children:f.jsx("span",{className:"font-bold text-rose-600",children:yt>0?yt.toFixed(2).replace(".",","):"-"})}),f.jsx("td",{className:"px-3 py-2 text-center bg-orange-50",children:f.jsx("span",{className:"font-black text-orange-700 text-lg",children:St.toFixed(2).replace(".",",")})}),f.jsx("td",{className:"px-3 py-2",children:!te&&f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx("button",{onClick:()=>{Z({sequencia:Ge.toString(),tipo:dn.BANDA_A.toString(),peso:"",pesoA:Ve>0?Ve.toString():"",pesoB:Ye>0?Ye.toString():""}),Ke.bandaA&&Ae(Ke.bandaA.id_completo),Ke.bandaB&&Ae(Ke.bandaB.id_completo),Ke.inteiro&&Ae(Ke.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Editar",children:f.jsx(qg,{size:14})}),f.jsx("button",{onClick:()=>{Ke.bandaA&&Ae(Ke.bandaA.id_completo),Ke.bandaB&&Ae(Ke.bandaB.id_completo),Ke.inteiro&&Ae(Ke.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir",children:f.jsx(Zf,{size:14})})]})})]},Ge)})})()})]})})]})]})]}),A&&ve&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-lg w-full overflow-hidden border border-white",children:[f.jsxs("div",{className:"bg-orange-600 p-12 text-white text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:f.jsx(xu,{size:48})}),f.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Confirmar Fechamento"}),f.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-orange-100 opacity-60",children:"Operao de Finalizao de Lote"})]}),f.jsxs("div",{className:"p-12 space-y-8",children:[f.jsxs("div",{className:"bg-slate-50 rounded-3xl p-10 text-center space-y-3",children:[f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Peso Total Acumulado"}),f.jsx("p",{className:"text-6xl font-black text-slate-900 tracking-tighter",children:_r((K==null?void 0:K.totalWeighed)||0)}),f.jsxs("div",{className:"flex justify-center gap-6 text-[10px] font-black pt-6 border-t border-slate-200 mt-6 uppercase tracking-wider",children:[f.jsxs("span",{className:"text-slate-400",children:["Alvo: ",_r(ve.peso_total_romaneio)]}),f.jsxs("span",{className:`${((K==null?void 0:K.diff)||0)>=0?"text-emerald-600":"text-rose-600"}`,children:["Desvio: ",K==null?void 0:K.diff," kg"]})]})]}),f.jsxs("p",{className:"text-xs font-medium text-slate-500 leading-relaxed text-center px-4",children:["Ao confirmar, este lote ser ",f.jsx("span",{className:"text-slate-900 font-bold",children:"travado permanentemente"}),". Os dados financeiros sero registrados e os itens entraro oficialmente no estoque."]}),f.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[f.jsx("button",{onClick:Re,className:"btn-modern bg-slate-900 text-white w-full py-5 rounded-2xl hover:bg-orange-600 shadow-xl transition-all",children:"Sincronizar e Finalizar"}),f.jsx("button",{onClick:()=>C(!1),className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar Operao"})]})]})]})}),I&&B&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[f.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:f.jsx(qg,{size:48})}),f.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),f.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:B.id_lote})]}),f.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),f.jsx("input",{type:"text",className:"modern-input w-full",value:B.fornecedor,onChange:ge=>L({...B,fornecedor:ge.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full font-bold",value:B.peso_total_romaneio,onChange:ge=>L({...B,peso_total_romaneio:parseFloat(ge.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),f.jsx("input",{type:"date",className:"modern-input w-full",value:B.data_recebimento,onChange:ge=>L({...B,data_recebimento:ge.target.value})})]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[f.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full text-xl font-black",value:B.valor_compra_total,onChange:ge=>L({...B,valor_compra_total:parseFloat(ge.target.value)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:B.frete,onChange:ge=>L({...B,frete:parseFloat(ge.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:B.gastos_extras,onChange:ge=>L({...B,gastos_extras:parseFloat(ge.target.value)||0})})]})]}),f.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),f.jsx("span",{className:"text-xl font-black text-orange-400",children:Zt($S(B.valor_compra_total,B.frete,B.gastos_extras,B.peso_total_romaneio))})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[f.jsxs("button",{onClick:We,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[f.jsx(xu,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),f.jsxs("button",{onClick:tt,className:"btn-modern bg-rose-600 text-white w-full py-4 rounded-2xl hover:bg-rose-700 shadow-xl transition-all border-2 border-rose-700",children:[f.jsx(Zf,{size:18,className:"inline mr-2"}),"Excluir Lote Permanentemente"]}),f.jsx("button",{onClick:()=>{k(!1),L(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},ode=({stock:t,batches:e,sales:n,clients:r,updateBatch:i,deleteBatch:a,onBack:s})=>{const[l,c]=be.useState("available"),[d,h]=be.useState(""),[m,g]=be.useState([]),y=t.filter(M=>M.status==="DISPONIVEL"),N=t.filter(M=>M.status==="VENDIDO"),S=be.useMemo(()=>{const M=new Map;return y.forEach(F=>{if(d&&!F.id_completo.toLowerCase().includes(d.toLowerCase())&&!F.id_lote.toLowerCase().includes(d.toLowerCase()))return;if(!M.has(F.id_lote)){const se=e.find(W=>W.id_lote===F.id_lote);if(!se||se.status!=="FECHADO")return;M.set(F.id_lote,{batch:se,items:[],sequences:new Map})}const Q=M.get(F.id_lote);Q.items.push(F),Q.sequences.has(F.sequencia)||Q.sequences.set(F.sequencia,[]),Q.sequences.get(F.sequencia).push(F)}),Array.from(M.values()).sort((F,Q)=>{const se=F.batch?new Date(F.batch.data_recebimento).getTime():0;return(Q.batch?new Date(Q.batch.data_recebimento).getTime():0)-se})},[y,e,d]),A=M=>{g(F=>F.includes(M)?F.filter(Q=>Q!==M):[...F,M])},[C,I]=be.useState(!1),[k,B]=be.useState(null),L=M=>{B({...M}),I(!0)},z=async()=>{if(!(!k||!i))try{await i(k.id_lote,k),I(!1),B(null)}catch(M){console.error("Erro ao salvar lote:",M)}},D=async()=>{if(!(!k||!a||!window.confirm(` ATENO - EXCLUSO PERMANENTE!

Voc est prestes a EXCLUIR o lote:
${k.id_lote} - ${k.fornecedor}

Esta ao  IRREVERSVEL e ir:
 Remover o lote do sistema
 Perder todos os dados financeiros
 Afetar relatrios e histrico

Tem CERTEZA que deseja continuar?`)))try{await a(k.id_lote),alert(" Lote excludo com sucesso!"),I(!1),B(null)}catch(F){console.error("Erro ao excluir lote:",F),alert(" Erro ao excluir o lote.")}},j=be.useMemo(()=>N.map(M=>{const F=n.find(se=>se.id_completo===M.id_completo),Q=F?r.find(se=>se.id_ferro===F.id_cliente):null;return{item:M,sale:F,client:Q}}).sort((M,F)=>M.sale&&F.sale?new Date(F.sale.data_venda).getTime()-new Date(M.sale.data_venda).getTime():0),[N,n,r]),V=be.useMemo(()=>{const M=new Map;return j.forEach(({item:F,sale:Q,client:se})=>{if(!(d&&!F.id_completo.toLowerCase().includes(d.toLowerCase())&&!F.id_lote.toLowerCase().includes(d.toLowerCase()))){if(!M.has(F.id_lote)){const W=e.find(ee=>ee.id_lote===F.id_lote);if(!W||W.status!=="FECHADO")return;M.set(F.id_lote,{batch:W,items:[]})}M.get(F.id_lote).items.push({item:F,sale:Q,client:se})}}),Array.from(M.values()).sort((F,Q)=>{const se=F.batch?new Date(F.batch.data_recebimento).getTime():0;return(Q.batch?new Date(Q.batch.data_recebimento).getTime():0)-se})},[j,e,d]),Y=be.useMemo(()=>{const M=new Map;n.forEach(Q=>{const se=t.find(xe=>xe.id_completo===Q.id_completo),W=se?e.find(xe=>xe.id_lote===se.id_lote):null,ee=(W==null?void 0:W.fornecedor)||"Desconhecido";M.has(ee)||M.set(ee,{totalWeight:0,totalBreakage:0,count:0});const le=M.get(ee);le.totalWeight+=Q.peso_real_saida,le.totalBreakage+=Q.quebra_kg||0,le.count+=1});const F=new Map;return M.forEach((Q,se)=>{const W=Q.totalWeight+Q.totalBreakage,ee=W>0?Q.totalBreakage/W*100:0;let le="regular";ee<1.5?le="top":ee>3&&(le="poor"),F.set(se,{avgBreakagePct:ee,quality:le})}),F},[n,e,t]),q=j.reduce((M,F)=>M+(F.sale?F.sale.peso_real_saida*F.sale.preco_venda_kg:0),0);return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:s,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:f.jsx(l1,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",f.jsx("span",{className:"text-blue-600",children:"Estoque"})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Controle de Inventrio / ID-INV"}),f.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase",children:[f.jsx(kl,{size:10})," Unidade Sincronizada"]})]})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[f.jsxs("div",{className:"relative group w-full sm:w-80",children:[f.jsx(gm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:16}),f.jsx("input",{type:"text",placeholder:"Buscar por Lote ou ID...",className:"modern-input pl-12 bg-white",value:d,onChange:M=>h(M.target.value)})]}),f.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[f.jsxs("button",{onClick:()=>c("available"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="available"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[f.jsx(jG,{size:14})," Disponvel"]}),f.jsxs("button",{onClick:()=>c("sold"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="sold"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[f.jsx(tR,{size:14})," Vendido"]})]})]})]}),l==="available"?f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[S.length===0&&f.jsxs("div",{className:"py-32 text-center premium-card",children:[f.jsx(l1,{size:64,className:"mx-auto mb-6 text-slate-100"}),f.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"O estoque est vazio no momento"})]}),S.map(({batch:M,items:F,sequences:Q})=>{var ve,ce,O;const se=M?M.id_lote:F[0].id_lote,W=m.includes(se)||d.length>0,ee=F.reduce((K,H)=>{const Z=H.sequencia;return K[Z]||(K[Z]={bandaA:null,bandaB:null,inteiro:null}),H.tipo===dn.BANDA_A?K[Z].bandaA=H:H.tipo===dn.BANDA_B?K[Z].bandaB=H:H.tipo===dn.INTEIRO&&(K[Z].inteiro=H),K},{}),le=Object.values(ee).reduce((K,H)=>{var Ae,Re,Se;const Z=((Ae=H.bandaA)==null?void 0:Ae.peso_entrada)||0,te=((Re=H.bandaB)==null?void 0:Re.peso_entrada)||0,me=((Se=H.inteiro)==null?void 0:Se.peso_entrada)||0,_e=Z>0&&te>0?3:0,ie=me>0?me:Z+te-_e;return K+ie},0),xe=M?sK(M.data_recebimento):0;return f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{onClick:()=>A(se),className:`p-6 flex flex-col lg:flex-row items-center justify-between cursor-pointer transition-all gap-6 ${W?"bg-slate-50/50":"hover:bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[f.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all shadow-sm ${W?"bg-blue-600 text-white":"bg-slate-50 text-slate-400"}`,children:W?f.jsx(AG,{size:24}):f.jsx(EG,{size:24})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("h3",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:(M==null?void 0:M.fornecedor)||"Fornecedor N/A"}),M&&f.jsxs("div",{className:"flex gap-2",children:[(()=>{const K=oK(xe);return f.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black ${K.color} ${K.bg} px-2.5 py-1 rounded-full uppercase tracking-widest border ${K.border} shadow-sm`,children:[K.status==="fresh"&&f.jsx(LW,{size:10}),K.status==="prime"&&f.jsx(F7,{size:10}),K.status==="warning"&&f.jsx(B7,{size:10}),K.status==="critical"&&f.jsx(Up,{size:10}),K.label," (",xe,"d)"]})})(),(M==null?void 0:M.fornecedor)&&Y.has(M.fornecedor)&&f.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest border shadow-sm ${((ve=Y.get(M.fornecedor))==null?void 0:ve.quality)==="top"?"bg-indigo-50 text-indigo-600 border-indigo-100":((ce=Y.get(M.fornecedor))==null?void 0:ce.quality)==="poor"?"bg-orange-50 text-orange-600 border-orange-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:[f.jsx(hG,{size:10})," ",((O=Y.get(M.fornecedor))==null?void 0:O.quality)==="top"?"Gentica Premium":"Gado Regular"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[f.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["ID-LOTE: ",f.jsx("span",{className:"text-slate-900",children:se})]}),f.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),f.jsxs("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:["Entrada: ",M!=null&&M.data_recebimento?new Date(M.data_recebimento).toLocaleDateString():"N/A"]})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between w-full lg:w-auto gap-10",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peas"}),f.jsxs("p",{className:"text-xl font-extrabold text-slate-800",children:[F.length," UN"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peso Total"}),f.jsx("div",{className:"bg-emerald-50 px-4 py-2 rounded-xl border border-emerald-100",children:f.jsx("p",{className:"text-xl font-extrabold text-emerald-700",children:_r(le)})})]}),f.jsx("div",{className:"flex items-center gap-2",children:M&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:K=>{K.stopPropagation(),L(M)},className:"w-10 h-10 rounded-xl bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Editar lote",children:f.jsx(qg,{size:16})}),f.jsx("button",{onClick:K=>{K.stopPropagation(),L(M)},className:"w-10 h-10 rounded-xl bg-rose-600 hover:bg-rose-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Excluir lote",children:f.jsx(cR,{size:16})})]})}),f.jsx("div",{className:`transition-all duration-300 ${W?"rotate-90 text-blue-600":"text-slate-300"}`,children:f.jsx(Ou,{size:24})})]})]}),W&&f.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 bg-white border-t border-slate-50 animate-reveal",children:Array.from(Q.entries()).sort((K,H)=>K[0]-H[0]).map(([K,H])=>{const Z=H.some(Ae=>Ae.tipo===dn.INTEIRO),te=H.some(Ae=>Ae.tipo===dn.BANDA_A),me=H.some(Ae=>Ae.tipo===dn.BANDA_B),_e=Z||te&&me,ie=H.reduce((Ae,Re)=>Ae+Re.peso_entrada,0);return f.jsxs("div",{className:"group p-5 rounded-2xl border border-slate-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("span",{className:"text-[10px] font-black bg-slate-100 text-slate-500 px-2 py-0.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors uppercase",children:["#",String(K).padStart(3,"0")]}),f.jsx("span",{className:"text-lg font-black text-slate-800",children:_r(ie)})]}),f.jsxs("div",{className:"space-y-2 flex-1",children:[H.map(Ae=>f.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[f.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ae.tipo===dn.BANDA_A?"bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.4)]":Ae.tipo===dn.BANDA_B?"bg-blue-500 shadow-[0_0_8px_rgba(37,99,235,0.4)]":"bg-slate-900 shadow-[0_0_8px_rgba(15,23,42,0.4)]"}`}),dR(Ae.tipo).toUpperCase()]}),f.jsx("span",{className:"text-slate-900 bg-slate-50 px-2 py-0.5 rounded-lg",children:_r(Ae.peso_entrada)})]},Ae.id_completo)),!_e&&!Z&&f.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 text-[8px] text-orange-600 font-black flex items-center gap-1.5 uppercase tracking-widest animate-pulse",children:[f.jsx(ev,{size:10})," Parcial / Incompleto"]})]})]},K)})})]},se)})]}):f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl shadow-slate-200 overflow-hidden",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:f.jsx(tR,{size:200})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-10 relative z-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full shadow-[0_0_12px_rgba(249,115,22,0.8)]"}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Acumulado em Vendas"})]}),f.jsx("h3",{className:"text-6xl md:text-7xl font-black tracking-tighter",children:Zt(q)})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 min-w-[240px] border border-white/10",children:[f.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Despachos Efetuados"}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("p",{className:"text-5xl font-black",children:N.length}),f.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Unidades"})]})]})]})]}),f.jsx("div",{className:"space-y-8",children:V.map(({batch:M,items:F})=>{const Q=F.reduce((ee,{sale:le})=>ee+(le?le.peso_real_saida*le.preco_venda_kg:0),0),se=F.reduce((ee,{sale:le,item:xe})=>!le||!M?ee:ee+le.peso_real_saida*(Number(M.custo_real_kg)||0)+(le.custo_extras_total||0),0),W=Q-se;return f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-center gap-10 bg-slate-50/50 border-b border-slate-50",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center text-slate-900",children:f.jsx(FH,{size:28})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-2xl font-black tracking-tight text-slate-900",children:M?`Lote ${M.id_lote}`:"Lote no vinculado"}),f.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:(M==null?void 0:M.fornecedor)||"Desconhecido"}),f.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),f.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest",children:["Custo Base: ",Zt((M==null?void 0:M.custo_real_kg)||0),"/kg"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-10 bg-white px-8 py-5 rounded-3xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Lucro Operacional"}),f.jsx("p",{className:`text-2xl font-black ${W>=0?"text-emerald-600":"text-rose-600"}`,children:Zt(W)})]}),f.jsx("div",{className:"w-px h-10 bg-slate-100"}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Qtd Vendida"}),f.jsxs("span",{className:"text-2xl font-black text-slate-800",children:[F.length," PC"]})]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Data"}),f.jsx("th",{children:"ID / Especificao"}),f.jsx("th",{children:"Cliente / Destino"}),f.jsx("th",{className:"text-right",children:"Peso Sada"}),f.jsx("th",{className:"text-right",children:"Total Venda"}),f.jsx("th",{className:"text-right",children:"Margem"})]})}),f.jsx("tbody",{children:F.map(({item:ee,sale:le,client:xe})=>{const ve=le?le.peso_real_saida*le.preco_venda_kg:0,ce=M&&Number(M.custo_real_kg)||0,O=le?le.peso_real_saida*ce+(le.custo_extras_total||0):0,K=ve-O;return f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"text-[10px] font-medium text-slate-400 uppercase",children:le?new Date(le.data_venda).toLocaleDateString():"N/A"}),f.jsxs("td",{children:[f.jsx("div",{className:"text-[10px] font-black text-slate-900 tracking-tighter uppercase",children:ee.id_completo}),f.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-0.5 uppercase tracking-widest",children:dR(ee.tipo)})]}),f.jsx("td",{children:xe?f.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight text-slate-700",children:xe.nome_social}):f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:(le==null?void 0:le.nome_cliente)||"Direto"})}),f.jsx("td",{className:"text-right font-black text-slate-900",children:le?_r(le.peso_real_saida):"-"}),f.jsx("td",{className:"text-right font-black text-blue-600",children:Zt(ve)}),f.jsx("td",{className:"text-right",children:f.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg font-black text-sm ${K>=0?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:Zt(K)})})]},ee.id_completo)})})]})})]},M?M.id_lote:"unknown")})})]}),C&&k&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[f.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:f.jsx(qg,{size:48})}),f.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),f.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:k.id_lote})]}),f.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),f.jsx("input",{type:"text",className:"modern-input w-full",value:k.fornecedor,onChange:M=>B({...k,fornecedor:M.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full font-bold",value:k.peso_total_romaneio,onChange:M=>B({...k,peso_total_romaneio:parseFloat(M.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),f.jsx("input",{type:"date",className:"modern-input w-full",value:k.data_recebimento,onChange:M=>B({...k,data_recebimento:M.target.value})})]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[f.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full text-xl font-black",value:k.valor_compra_total,onChange:M=>B({...k,valor_compra_total:parseFloat(M.target.value)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:k.frete,onChange:M=>B({...k,frete:parseFloat(M.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:k.gastos_extras,onChange:M=>B({...k,gastos_extras:parseFloat(M.target.value)||0})})]})]}),f.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),f.jsx("span",{className:"text-xl font-black text-orange-400",children:Zt($S(k.valor_compra_total,k.frete,k.gastos_extras,k.peso_total_romaneio))})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[f.jsxs("button",{onClick:z,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[f.jsx(o1,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),f.jsxs("button",{onClick:D,className:"btn-modern bg-rose-600 text-white w-full py-4 rounded-2xl hover:bg-rose-700 shadow-xl transition-all border-2 border-rose-700",children:[f.jsx(cR,{size:18,className:"inline mr-2"}),"Excluir Lote Permanentemente"]}),f.jsx("button",{onClick:()=>{I(!1),B(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},lde="modulepreload",cde=function(t){return"/"+t},YM={},oN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(d=>{if(d=cde(d),d in YM)return;YM[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":lde,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,N)=>{g.addEventListener("load",y),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function cr(t){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(t)}var Za=Uint8Array,ho=Uint16Array,hC=Int32Array,xb=new Za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bb=new Za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lN=new Za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lB=function(t,e){for(var n=new ho(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new hC(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},cB=lB(xb,2),uB=cB.b,cN=cB.r;uB[28]=258,cN[258]=28;var dB=lB(bb,0),ude=dB.b,JM=dB.r,uN=new ho(32768);for(var Dr=0;Dr<32768;++Dr){var xd=(Dr&43690)>>1|(Dr&21845)<<1;xd=(xd&52428)>>2|(xd&13107)<<2,xd=(xd&61680)>>4|(xd&3855)<<4,uN[Dr]=((xd&65280)>>8|(xd&255)<<8)>>1}var Nc=(function(t,e,n){for(var r=t.length,i=0,a=new ho(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new ho(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new ho(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],h=e-t[i],m=s[t[i]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)l[uN[m]>>c]=d}else for(l=new ho(r),i=0;i<r;++i)t[i]&&(l[i]=uN[s[t[i]-1]++]>>15-t[i]);return l}),Kd=new Za(288);for(var Dr=0;Dr<144;++Dr)Kd[Dr]=8;for(var Dr=144;Dr<256;++Dr)Kd[Dr]=9;for(var Dr=256;Dr<280;++Dr)Kd[Dr]=7;for(var Dr=280;Dr<288;++Dr)Kd[Dr]=8;var V0=new Za(32);for(var Dr=0;Dr<32;++Dr)V0[Dr]=5;var dde=Nc(Kd,9,0),fde=Nc(Kd,9,1),hde=Nc(V0,5,0),pde=Nc(V0,5,1),mS=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},bl=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},gS=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},pC=function(t){return(t+7)/8|0},fB=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Za(t.subarray(e,n))},mde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Al=function(t,e,n){var r=new Error(e||mde[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Al),!n)throw r;return r},gde=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new Za(0);var s=!n,l=s||e.i!=2,c=e.i;s&&(n=new Za(i*3));var d=function(Re){var Se=n.length;if(Re>Se){var We=new Za(Math.max(Se*2,Re));We.set(n),n=We}},h=e.f||0,m=e.p||0,g=e.b||0,y=e.l,N=e.d,S=e.m,A=e.n,C=i*8;do{if(!y){h=bl(t,m,1);var I=bl(t,m+1,3);if(m+=3,I)if(I==1)y=fde,N=pde,S=9,A=5;else if(I==2){var z=bl(t,m,31)+257,D=bl(t,m+10,15)+4,j=z+bl(t,m+5,31)+1;m+=14;for(var V=new Za(j),Y=new Za(19),q=0;q<D;++q)Y[lN[q]]=bl(t,m+q*3,7);m+=D*3;for(var M=mS(Y),F=(1<<M)-1,Q=Nc(Y,M,1),q=0;q<j;){var se=Q[bl(t,m,F)];m+=se&15;var k=se>>4;if(k<16)V[q++]=k;else{var W=0,ee=0;for(k==16?(ee=3+bl(t,m,3),m+=2,W=V[q-1]):k==17?(ee=3+bl(t,m,7),m+=3):k==18&&(ee=11+bl(t,m,127),m+=7);ee--;)V[q++]=W}}var le=V.subarray(0,z),xe=V.subarray(z);S=mS(le),A=mS(xe),y=Nc(le,S,1),N=Nc(xe,A,1)}else Al(1);else{var k=pC(m)+4,B=t[k-4]|t[k-3]<<8,L=k+B;if(L>i){c&&Al(0);break}l&&d(g+B),n.set(t.subarray(k,L),g),e.b=g+=B,e.p=m=L*8,e.f=h;continue}if(m>C){c&&Al(0);break}}l&&d(g+131072);for(var ve=(1<<S)-1,ce=(1<<A)-1,O=m;;O=m){var W=y[gS(t,m)&ve],K=W>>4;if(m+=W&15,m>C){c&&Al(0);break}if(W||Al(2),K<256)n[g++]=K;else if(K==256){O=m,y=null;break}else{var H=K-254;if(K>264){var q=K-257,Z=xb[q];H=bl(t,m,(1<<Z)-1)+uB[q],m+=Z}var te=N[gS(t,m)&ce],me=te>>4;te||Al(3),m+=te&15;var xe=ude[me];if(me>3){var Z=bb[me];xe+=gS(t,m)&(1<<Z)-1,m+=Z}if(m>C){c&&Al(0);break}l&&d(g+131072);var _e=g+H;if(g<xe){var ie=a-xe,Ae=Math.min(xe,_e);for(ie+g<0&&Al(3);g<Ae;++g)n[g]=r[ie+g]}for(;g<_e;++g)n[g]=n[g-xe]}}e.l=y,e.p=O,e.b=g,e.f=h,y&&(h=1,e.m=S,e.d=N,e.n=A)}while(!h);return g!=n.length&&s?fB(n,0,g):n.subarray(0,g)},hu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Eg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},vS=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:pB,l:0};if(i==1){var s=new Za(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(L,z){return L.f-z.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,h=1,m=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[d].f<n[m].f?d++:m++],c=n[d!=h&&n[d].f<n[m].f?d++:m++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var y=new ho(g+1),N=dN(n[h-1],y,0);if(N>e){var r=0,S=0,A=N-e,C=1<<A;for(a.sort(function(z,D){return y[D.s]-y[z.s]||z.f-D.f});r<i;++r){var I=a[r].s;if(y[I]>e)S+=C-(1<<N-y[I]),y[I]=e;else break}for(S>>=A;S>0;){var k=a[r].s;y[k]<e?S-=1<<e-y[k]++-1:++r}for(;r>=0&&S;--r){var B=a[r].s;y[B]==e&&(--y[B],++S)}N=e}return{t:new Za(y),l:N}},dN=function(t,e,n){return t.s==-1?Math.max(dN(t.l,e,n+1),dN(t.r,e,n+1)):e[t.s]=n},XM=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ho(++e),r=0,i=t[0],a=1,s=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},Ng=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},hB=function(t,e,n){var r=n.length,i=pC(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},QM=function(t,e,n,r,i,a,s,l,c,d,h){hu(e,h++,n),++i[256];for(var m=vS(i,15),g=m.t,y=m.l,N=vS(a,15),S=N.t,A=N.l,C=XM(g),I=C.c,k=C.n,B=XM(S),L=B.c,z=B.n,D=new ho(19),j=0;j<I.length;++j)++D[I[j]&31];for(var j=0;j<L.length;++j)++D[L[j]&31];for(var V=vS(D,7),Y=V.t,q=V.l,M=19;M>4&&!Y[lN[M-1]];--M);var F=d+5<<3,Q=Ng(i,Kd)+Ng(a,V0)+s,se=Ng(i,g)+Ng(a,S)+s+14+3*M+Ng(D,Y)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&F<=Q&&F<=se)return hB(e,h,t.subarray(c,c+d));var W,ee,le,xe;if(hu(e,h,1+(se<Q)),h+=2,se<Q){W=Nc(g,y,0),ee=g,le=Nc(S,A,0),xe=S;var ve=Nc(Y,q,0);hu(e,h,k-257),hu(e,h+5,z-1),hu(e,h+10,M-4),h+=14;for(var j=0;j<M;++j)hu(e,h+3*j,Y[lN[j]]);h+=3*M;for(var ce=[I,L],O=0;O<2;++O)for(var K=ce[O],j=0;j<K.length;++j){var H=K[j]&31;hu(e,h,ve[H]),h+=Y[H],H>15&&(hu(e,h,K[j]>>5&127),h+=K[j]>>12)}}else W=dde,ee=Kd,le=hde,xe=V0;for(var j=0;j<l;++j){var Z=r[j];if(Z>255){var H=Z>>18&31;Eg(e,h,W[H+257]),h+=ee[H+257],H>7&&(hu(e,h,Z>>23&31),h+=xb[H]);var te=Z&31;Eg(e,h,le[te]),h+=xe[te],te>3&&(Eg(e,h,Z>>5&8191),h+=bb[te])}else Eg(e,h,W[Z]),h+=ee[Z]}return Eg(e,h,W[256]),h+ee[256]},vde=new hC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pB=new Za(0),yde=function(t,e,n,r,i,a){var s=a.z||t.length,l=new Za(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),d=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var m=vde[e-1],g=m>>13,y=m&8191,N=(1<<n)-1,S=a.p||new ho(32768),A=a.h||new ho(N+1),C=Math.ceil(n/3),I=2*C,k=function(tt){return(t[tt]^t[tt+1]<<C^t[tt+2]<<I)&N},B=new hC(25e3),L=new ho(288),z=new ho(32),D=0,j=0,V=a.i||0,Y=0,q=a.w||0,M=0;V+2<s;++V){var F=k(V),Q=V&32767,se=A[F];if(S[Q]=se,A[F]=Q,q<=V){var W=s-V;if((D>7e3||Y>24576)&&(W>423||!d)){h=QM(t,c,0,B,L,z,j,Y,M,V-M,h),Y=D=j=0,M=V;for(var ee=0;ee<286;++ee)L[ee]=0;for(var ee=0;ee<30;++ee)z[ee]=0}var le=2,xe=0,ve=y,ce=Q-se&32767;if(W>2&&F==k(V-ce))for(var O=Math.min(g,W)-1,K=Math.min(32767,V),H=Math.min(258,W);ce<=K&&--ve&&Q!=se;){if(t[V+le]==t[V+le-ce]){for(var Z=0;Z<H&&t[V+Z]==t[V+Z-ce];++Z);if(Z>le){if(le=Z,xe=ce,Z>O)break;for(var te=Math.min(ce,Z-2),me=0,ee=0;ee<te;++ee){var _e=V-ce+ee&32767,ie=S[_e],Ae=_e-ie&32767;Ae>me&&(me=Ae,se=_e)}}}Q=se,se=S[Q],ce+=Q-se&32767}if(xe){B[Y++]=268435456|cN[le]<<18|JM[xe];var Re=cN[le]&31,Se=JM[xe]&31;j+=xb[Re]+bb[Se],++L[257+Re],++z[Se],q=V+le,++D}else B[Y++]=t[V],++L[t[V]]}}for(V=Math.max(V,q);V<s;++V)B[Y++]=t[V],++L[t[V]];h=QM(t,c,d,B,L,z,j,Y,M,V-M,h),d||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=A,a.p=S,a.i=V,a.w=q)}else{for(var V=a.w||0;V<s+d;V+=65535){var We=V+65535;We>=s&&(c[h/8|0]=d,We=s),h=hB(c,h+1,t.subarray(V,We))}a.i=s}return fB(l,0,r+pC(h)+i)},mB=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},xde=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Za(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return yde(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},gB=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},bde=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=mB();i.p(e.dictionary),gB(t,2,i.d())}},_de=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Al(6,"invalid zlib data"),(t[1]>>5&1)==1&&Al(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function fN(t,e){e||(e={});var n=mB();n.p(t);var r=xde(t,e,e.dictionary?6:2,4);return bde(r,e),gB(r,r.length-4,n.d()),r}function wde(t,e){return gde(t.subarray(_de(t),-4),{i:2},e,e)}var Ade=typeof TextDecoder<"u"&&new TextDecoder,Sde=0;try{Ade.decode(pB,{stream:!0}),Sde=1}catch{}var Jt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function yS(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var br={log:yS,warn:function(t){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):yS.call(null,arguments))},error:function(t){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):yS(t))}};function xS(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Mf(r.response,e,n)},r.onerror=function(){br.error("could not download file")},r.send()}function ZM(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ny(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Yg,hN,Mf=Jt.saveAs||((typeof window>"u"?"undefined":cr(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Jt.URL||Jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?ZM(i.href)?xS(t,e,n):Ny(i,i.target="_blank"):Ny(i)):(i.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Ny(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(ZM(t))xS(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Ny(r)}))}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:cr(a)!=="object"&&(br.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return xS(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(Jt.HTMLElement)||Jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":cr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(t)}else{var c=Jt.URL||Jt.webkitURL,d=c.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vB(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bS(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=za(n,r,i,a,e[0],7,-680876936),a=za(a,n,r,i,e[1],12,-389564586),i=za(i,a,n,r,e[2],17,606105819),r=za(r,i,a,n,e[3],22,-1044525330),n=za(n,r,i,a,e[4],7,-176418897),a=za(a,n,r,i,e[5],12,1200080426),i=za(i,a,n,r,e[6],17,-1473231341),r=za(r,i,a,n,e[7],22,-45705983),n=za(n,r,i,a,e[8],7,1770035416),a=za(a,n,r,i,e[9],12,-1958414417),i=za(i,a,n,r,e[10],17,-42063),r=za(r,i,a,n,e[11],22,-1990404162),n=za(n,r,i,a,e[12],7,1804603682),a=za(a,n,r,i,e[13],12,-40341101),i=za(i,a,n,r,e[14],17,-1502002290),n=$a(n,r=za(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=$a(a,n,r,i,e[6],9,-1069501632),i=$a(i,a,n,r,e[11],14,643717713),r=$a(r,i,a,n,e[0],20,-373897302),n=$a(n,r,i,a,e[5],5,-701558691),a=$a(a,n,r,i,e[10],9,38016083),i=$a(i,a,n,r,e[15],14,-660478335),r=$a(r,i,a,n,e[4],20,-405537848),n=$a(n,r,i,a,e[9],5,568446438),a=$a(a,n,r,i,e[14],9,-1019803690),i=$a(i,a,n,r,e[3],14,-187363961),r=$a(r,i,a,n,e[8],20,1163531501),n=$a(n,r,i,a,e[13],5,-1444681467),a=$a(a,n,r,i,e[2],9,-51403784),i=$a(i,a,n,r,e[7],14,1735328473),n=Ha(n,r=$a(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ha(a,n,r,i,e[8],11,-2022574463),i=Ha(i,a,n,r,e[11],16,1839030562),r=Ha(r,i,a,n,e[14],23,-35309556),n=Ha(n,r,i,a,e[1],4,-1530992060),a=Ha(a,n,r,i,e[4],11,1272893353),i=Ha(i,a,n,r,e[7],16,-155497632),r=Ha(r,i,a,n,e[10],23,-1094730640),n=Ha(n,r,i,a,e[13],4,681279174),a=Ha(a,n,r,i,e[0],11,-358537222),i=Ha(i,a,n,r,e[3],16,-722521979),r=Ha(r,i,a,n,e[6],23,76029189),n=Ha(n,r,i,a,e[9],4,-640364487),a=Ha(a,n,r,i,e[12],11,-421815835),i=Ha(i,a,n,r,e[15],16,530742520),n=Ga(n,r=Ha(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ga(a,n,r,i,e[7],10,1126891415),i=Ga(i,a,n,r,e[14],15,-1416354905),r=Ga(r,i,a,n,e[5],21,-57434055),n=Ga(n,r,i,a,e[12],6,1700485571),a=Ga(a,n,r,i,e[3],10,-1894986606),i=Ga(i,a,n,r,e[10],15,-1051523),r=Ga(r,i,a,n,e[1],21,-2054922799),n=Ga(n,r,i,a,e[8],6,1873313359),a=Ga(a,n,r,i,e[15],10,-30611744),i=Ga(i,a,n,r,e[6],15,-1560198380),r=Ga(r,i,a,n,e[13],21,1309151649),n=Ga(n,r,i,a,e[4],6,-145523070),a=Ga(a,n,r,i,e[11],10,-1120210379),i=Ga(i,a,n,r,e[2],15,718787259),r=Ga(r,i,a,n,e[9],21,-343485551),t[0]=jd(n,t[0]),t[1]=jd(r,t[1]),t[2]=jd(i,t[2]),t[3]=jd(a,t[3])}function _b(t,e,n,r,i,a){return e=jd(jd(e,t),jd(r,a)),jd(e<<i|e>>>32-i,n)}function za(t,e,n,r,i,a,s){return _b(e&n|~e&r,t,e,i,a,s)}function $a(t,e,n,r,i,a,s){return _b(e&r|n&~r,t,e,i,a,s)}function Ha(t,e,n,r,i,a,s){return _b(e^n^r,t,e,i,a,s)}function Ga(t,e,n,r,i,a,s){return _b(n^(e|~r),t,e,i,a,s)}function yB(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)bS(r,Ede(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(bS(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,bS(r,i),r}function Ede(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Yg=Jt.atob.bind(Jt),hN=Jt.btoa.bind(Jt);var eD="0123456789abcdef".split("");function Nde(t){for(var e="",n=0;n<4;n++)e+=eD[t>>8*n+4&15]+eD[t>>8*n&15];return e}function Tde(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function pN(t){return yB(t).map(Tde).join("")}var Cde=(function(t){for(var e=0;e<t.length;e++)t[e]=Nde(t[e]);return t.join("")})(yB("hello"))!="5d41402abc4b2a76b9719d911017c592";function jd(t,e){if(Cde){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function mN(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+s.charCodeAt(c))%256,l[c]=l[d],l[d]=h}n=t,r=l}else l=r;var m=e.length,g=0,y=0,N="";for(c=0;c<m;c++)y=(y+(h=l[g=(g+1)%256]))%256,l[g]=l[y],l[y]=h,s=l[(l[g]+l[y])%256],N+=String.fromCharCode(e.charCodeAt(c)^s);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tD={print:4,modify:8,copy:16,"annot-forms":32};function cp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach((function(l){if(tD.perm!==void 0)throw new Error("Invalid permission: "+l);i+=tD[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=pN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=mN(this.encryptionKey,this.padding)}function up(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function nD(t){if(cr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(l){Jt.console&&br.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function hx(t){if(!(this instanceof hx))return new hx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function xB(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ff(t,e,n,r,i){if(!(this instanceof Ff))return new Ff(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,xB.call(this,r,i)}function bp(t,e,n,r,i){if(!(this instanceof bp))return new bp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,xB.call(this,r,i)}function $t(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",h=null;cr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=nD;var N="1.3",S=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(P){N=P};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return A};var C=y.__private__.getPageFormat=function(P){return A[P]};i=i||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},k=I.COMPAT;function B(){this.saveGraphicsState(),ue(new kt(xt,0,0,-xt,0,Qi()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),d="n",k=I.ADVANCED}function L(){this.restoreGraphicsState(),d="S",k=I.COMPAT}var z=y.__private__.combineFontStyleAndFontWeight=function(P,ne){if(P=="bold"&&ne=="normal"||P=="bold"&&ne==400||P=="normal"&&ne=="italic"||P=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(P=ne==400||ne==="normal"?P==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||P!=="normal"?(ne==700?"bold":ne)+""+P:"bold"),P};y.advancedAPI=function(P){var ne=k===I.COMPAT;return ne&&B.call(this),typeof P!="function"||(P(this),ne&&L.call(this)),this},y.compatAPI=function(P){var ne=k===I.ADVANCED;return ne&&L.call(this),typeof P!="function"||(P(this),ne&&B.call(this)),this},y.isAdvancedAPI=function(){return k===I.ADVANCED};var D,j=function(P){if(k!==I.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=y.roundToPrecision=y.__private__.roundToPrecision=function(P,ne){var we=e||ne;if(isNaN(P)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(we).replace(/0+$/,"")};D=y.hpf=y.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return V(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return V(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return V(P,16)};var Y=y.f2=y.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return V(P,2)},q=y.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return V(P,3)},M=y.scale=y.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return k===I.COMPAT?P*xt:k===I.ADVANCED?P:void 0},F=function(P){return k===I.COMPAT?Qi()-P:k===I.ADVANCED?P:void 0},Q=function(P){return M(F(P))};y.__private__.setPrecision=y.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var se,W="00000000000000000000000000000000",ee=y.__private__.getFileId=function(){return W},le=y.__private__.setFileId=function(P){return W=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():W.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&(jn=new cp(h.userPermissions,h.userPassword,h.ownerPassword,W)),W};y.setFileId=function(P){return le(P),this},y.getFileId=function(){return ee()};var xe=y.__private__.convertDateToPDFDate=function(P){var ne=P.getTimezoneOffset(),we=ne<0?"+":"-",Te=Math.floor(Math.abs(ne/60)),De=Math.abs(ne%60),Qe=[we,H(Te),"'",H(De),"'"].join("");return["D:",P.getFullYear(),H(P.getMonth()+1),H(P.getDate()),H(P.getHours()),H(P.getMinutes()),H(P.getSeconds()),Qe].join("")},ve=y.__private__.convertPDFDateToDate=function(P){var ne=parseInt(P.substr(2,4),10),we=parseInt(P.substr(6,2),10)-1,Te=parseInt(P.substr(8,2),10),De=parseInt(P.substr(10,2),10),Qe=parseInt(P.substr(12,2),10),pt=parseInt(P.substr(14,2),10);return new Date(ne,we,Te,De,Qe,pt,0)},ce=y.__private__.setCreationDate=function(P){var ne;if(P===void 0&&(P=new Date),P instanceof Date)ne=xe(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=P}return se=ne},O=y.__private__.getCreationDate=function(P){var ne=se;return P==="jsDate"&&(ne=ve(se)),ne};y.setCreationDate=function(P){return ce(P),this},y.getCreationDate=function(P){return O(P)};var K,H=y.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Z=y.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},te=0,me=[],_e=[],ie=0,Ae=[],Re=[],Se=!1,We=_e,tt=function(){te=0,ie=0,_e=[],me=[],Ae=[],vi=Er(),Ln=Er()};y.__private__.setCustomOutputDestination=function(P){Se=!0,We=P};var ge=function(P){Se||(We=P)};y.__private__.resetCustomOutputDestination=function(){Se=!1,We=_e};var ue=y.__private__.out=function(P){return P=P.toString(),ie+=P.length+1,We.push(P),We},ut=y.__private__.write=function(P){return ue(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Ze=y.__private__.getArrayBuffer=function(P){for(var ne=P.length,we=new ArrayBuffer(ne),Te=new Uint8Array(we);ne--;)Te[ne]=P.charCodeAt(ne);return we},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return He};var Ge=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(P){return Ge=k===I.ADVANCED?P/xt:P,this};var Ke,Ve=y.__private__.getFontSize=y.getFontSize=function(){return k===I.COMPAT?Ge:Ge*xt},Ye=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(P){return Ye=P,this},y.__private__.getR2L=y.getR2L=function(){return Ye};var ht,Et=y.__private__.setZoomMode=function(P){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Ke=P;else if(isNaN(P)){if(ne.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Ke=P}else Ke=parseInt(P,10)};y.__private__.getZoomMode=function(){return Ke};var yt,St=y.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');ht=P};y.__private__.getPageMode=function(){return ht};var Kt=y.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');yt=P};y.__private__.getLayoutMode=function(){return yt},y.__private__.setDisplayMode=y.setDisplayMode=function(P,ne,we){return Et(P),Kt(ne),St(we),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(P){if(Object.keys(It).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[P]},y.__private__.getDocumentProperties=function(){return It},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(P){for(var ne in It)It.hasOwnProperty(ne)&&P[ne]&&(It[ne]=P[ne]);return this},y.__private__.setDocumentProperty=function(P,ne){if(Object.keys(It).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[P]=ne};var zt,xt,Nn,nn,qn,Ne={},rt={},Vt=[],Dt={},Ar={},un={},Dn={},Sr=null,pn=0,Ft=[],vn=new nD(y),xs=t.hotfixes||[],Gr={},gi={},Oi=[],kt=function P(ne,we,Te,De,Qe,pt){if(!(this instanceof P))return new P(ne,we,Te,De,Qe,pt);isNaN(ne)&&(ne=1),isNaN(we)&&(we=0),isNaN(Te)&&(Te=0),isNaN(De)&&(De=1),isNaN(Qe)&&(Qe=0),isNaN(pt)&&(pt=0),this._matrix=[ne,we,Te,De,Qe,pt]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(P)},kt.prototype.multiply=function(P){var ne=P.sx*this.sx+P.shy*this.shx,we=P.sx*this.shy+P.shy*this.sy,Te=P.shx*this.sx+P.sy*this.shx,De=P.shx*this.shy+P.sy*this.sy,Qe=P.tx*this.sx+P.ty*this.shx+this.tx,pt=P.tx*this.shy+P.ty*this.sy+this.ty;return new kt(ne,we,Te,De,Qe,pt)},kt.prototype.decompose=function(){var P=this.sx,ne=this.shy,we=this.shx,Te=this.sy,De=this.tx,Qe=this.ty,pt=Math.sqrt(P*P+ne*ne),At=(P/=pt)*we+(ne/=pt)*Te;we-=P*At,Te-=ne*At;var _=Math.sqrt(we*we+Te*Te);return At/=_,P*(Te/=_)<ne*(we/=_)&&(P=-P,ne=-ne,At=-At,pt=-pt),{scale:new kt(pt,0,0,_,0,0),translate:new kt(1,0,0,1,De,Qe),rotate:new kt(P,ne,-ne,P,0,0),skew:new kt(1,0,At,1,0,0)}},kt.prototype.toString=function(P){return this.join(" ")},kt.prototype.inversed=function(){var P=this.sx,ne=this.shy,we=this.shx,Te=this.sy,De=this.tx,Qe=this.ty,pt=1/(P*Te-ne*we),At=Te*pt,_=-ne*pt,$=-we*pt,J=P*pt;return new kt(At,_,$,J,-At*De-$*Qe,-_*De-J*Qe)},kt.prototype.applyToPoint=function(P){var ne=P.x*this.sx+P.y*this.shx+this.tx,we=P.x*this.shy+P.y*this.sy+this.ty;return new No(ne,we)},kt.prototype.applyToRectangle=function(P){var ne=this.applyToPoint(P),we=this.applyToPoint(new No(P.x+P.w,P.y+P.h));return new Wl(ne.x,ne.y,we.x-ne.x,we.y-ne.y)},kt.prototype.clone=function(){var P=this.sx,ne=this.shy,we=this.shx,Te=this.sy,De=this.tx,Qe=this.ty;return new kt(P,ne,we,Te,De,Qe)},y.Matrix=kt;var da=y.matrixMult=function(P,ne){return ne.multiply(P)},ji=new kt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=ji;var Wr=function(P,ne){if(!Ar[P]){var we=(ne instanceof Ff?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);ne.id=we,Ar[P]=we,Dt[we]=ne,vn.publish("addPattern",ne)}};y.ShadingPattern=Ff,y.TilingPattern=bp,y.addShadingPattern=function(P,ne){return j("addShadingPattern()"),Wr(P,ne),this},y.beginTilingPattern=function(P){j("beginTilingPattern()"),Kl(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},y.endTilingPattern=function(P,ne){j("endTilingPattern()"),ne.stream=Re[K].join(`
`),Wr(P,ne),vn.publish("endTilingPattern",ne),Oi.pop().restore()};var Ir=y.__private__.newObject=function(){var P=Er();return Kr(P,!0),P},Er=y.__private__.newObjectDeferred=function(){return te++,me[te]=function(){return ie},te},Kr=function(P,ne){return ne=typeof ne=="boolean"&&ne,me[P]=ie,ne&&ue(P+" 0 obj"),P},Ko=y.__private__.newAdditionalObject=function(){var P={objId:Er(),content:""};return Ae.push(P),P},vi=Er(),Ln=Er(),ir=y.__private__.decodeColorString=function(P){var ne=P.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var we=parseFloat(ne[0]);ne=[we,we,we,"r"]}for(var Te="#",De=0;De<3;De++)Te+=("0"+Math.floor(255*parseFloat(ne[De])).toString(16)).slice(-2);return Te},ei=y.__private__.encodeColorString=function(P){var ne;typeof P=="string"&&(P={ch1:P});var we=P.ch1,Te=P.ch2,De=P.ch3,Qe=P.ch4,pt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var At=new vB(we);if(At.ok)we=At.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var _=parseInt(we.substr(1),16);we=_>>16&255,Te=_>>8&255,De=255&_}if(Te===void 0||Qe===void 0&&we===Te&&Te===De)if(typeof we=="string")ne=we+" "+pt[0];else switch(P.precision){case 2:ne=Y(we/255)+" "+pt[0];break;case 3:default:ne=q(we/255)+" "+pt[0]}else if(Qe===void 0||cr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return ne=["1.","1.","1.",pt[1]].join(" ");if(typeof we=="string")ne=[we,Te,De,pt[1]].join(" ");else switch(P.precision){case 2:ne=[Y(we/255),Y(Te/255),Y(De/255),pt[1]].join(" ");break;default:case 3:ne=[q(we/255),q(Te/255),q(De/255),pt[1]].join(" ")}}else if(typeof we=="string")ne=[we,Te,De,Qe,pt[2]].join(" ");else switch(P.precision){case 2:ne=[Y(we),Y(Te),Y(De),Y(Qe),pt[2]].join(" ");break;case 3:default:ne=[q(we),q(Te),q(De),q(Qe),pt[2]].join(" ")}return ne},Mi=y.__private__.getFilters=function(){return s},Yr=y.__private__.putStream=function(P){var ne=(P=P||{}).data||"",we=P.filters||Mi(),Te=P.alreadyAppliedFilters||[],De=P.addLength1||!1,Qe=ne.length,pt=P.objectId,At=function(en){return en};if(h!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(At=jn.encryptor(pt,0));var _={};we===!0&&(we=["FlateEncode"]);var $=P.additionalKeyValues||[],J=(_=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(ne,we):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&($.push({key:"Length",value:_.data.length}),De===!0&&$.push({key:"Length1",value:Qe})),J.length!=0)if(J.split("/").length-1==1)$.push({key:"Filter",value:J});else{$.push({key:"Filter",value:"["+J+"]"});for(var fe=0;fe<$.length;fe+=1)if($[fe].key==="DecodeParms"){for(var Oe=[],Be=0;Be<_.reverseChain.split("/").length-1;Be+=1)Oe.push("null");Oe.push($[fe].value),$[fe].value="["+Oe.join(" ")+"]"}}ue("<<");for(var mt=0;mt<$.length;mt++)ue("/"+$[mt].key+" "+$[mt].value);ue(">>"),_.data.length!==0&&(ue("stream"),ue(At(_.data)),ue("endstream"))},ns=y.__private__.putPage=function(P){var ne=P.number,we=P.data,Te=P.objId,De=P.contentsObjId;Kr(Te,!0),ue("<</Type /Page"),ue("/Parent "+P.rootDictionaryObjId+" 0 R"),ue("/Resources "+P.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(D(P.mediaBox.bottomLeftX))+" "+parseFloat(D(P.mediaBox.bottomLeftY))+" "+D(P.mediaBox.topRightX)+" "+D(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ue("/CropBox ["+D(P.cropBox.bottomLeftX)+" "+D(P.cropBox.bottomLeftY)+" "+D(P.cropBox.topRightX)+" "+D(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ue("/BleedBox ["+D(P.bleedBox.bottomLeftX)+" "+D(P.bleedBox.bottomLeftY)+" "+D(P.bleedBox.topRightX)+" "+D(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ue("/TrimBox ["+D(P.trimBox.bottomLeftX)+" "+D(P.trimBox.bottomLeftY)+" "+D(P.trimBox.topRightX)+" "+D(P.trimBox.topRightY)+"]"),P.artBox!==null&&ue("/ArtBox ["+D(P.artBox.bottomLeftX)+" "+D(P.artBox.bottomLeftY)+" "+D(P.artBox.topRightX)+" "+D(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ue("/UserUnit "+P.userUnit),vn.publish("putPage",{objId:Te,pageContext:Ft[ne],pageNumber:ne,page:we}),ue("/Contents "+De+" 0 R"),ue(">>"),ue("endobj");var Qe=we.join(`
`);return k===I.ADVANCED&&(Qe+=`
Q`),Kr(De,!0),Yr({data:Qe,filters:Mi(),objectId:De}),ue("endobj"),Te},Vs=y.__private__.putPages=function(){var P,ne,we=[];for(P=1;P<=pn;P++)Ft[P].objId=Er(),Ft[P].contentsObjId=Er();for(P=1;P<=pn;P++)we.push(ns({number:P,data:Re[P],objId:Ft[P].objId,contentsObjId:Ft[P].contentsObjId,mediaBox:Ft[P].mediaBox,cropBox:Ft[P].cropBox,bleedBox:Ft[P].bleedBox,trimBox:Ft[P].trimBox,artBox:Ft[P].artBox,userUnit:Ft[P].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:Ln}));Kr(vi,!0),ue("<</Type /Pages");var Te="/Kids [";for(ne=0;ne<pn;ne++)Te+=we[ne]+" 0 R ";ue(Te+"]"),ue("/Count "+pn),ue(">>"),ue("endobj"),vn.publish("postPutPages")},Ia=function(P){vn.publish("putFont",{font:P,out:ue,newObject:Ir,putStream:Yr}),P.isAlreadyPutted!==!0&&(P.objectNumber=Ir(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+up(P.postScriptName)),ue("/Subtype /Type1"),typeof P.encoding=="string"&&ue("/Encoding /"+P.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},bs=function(){for(var P in Ne)Ne.hasOwnProperty(P)&&(m===!1||m===!0&&g.hasOwnProperty(P))&&Ia(Ne[P])},Ra=function(P){P.objectNumber=Ir();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[D(P.x),D(P.y),D(P.x+P.width),D(P.y+P.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var we=P.pages[1].join(`
`);Yr({data:we,additionalKeyValues:ne,objectId:P.objectNumber}),ue("endobj")},ka=function(){for(var P in Gr)Gr.hasOwnProperty(P)&&Ra(Gr[P])},yo=function(P,ne){var we,Te=[],De=1/(ne-1);for(we=0;we<1;we+=De)Te.push(we);if(Te.push(1),P[0].offset!=0){var Qe={offset:0,color:P[0].color};P.unshift(Qe)}if(P[P.length-1].offset!=1){var pt={offset:1,color:P[P.length-1].color};P.push(pt)}for(var At="",_=0,$=0;$<Te.length;$++){for(we=Te[$];we>P[_+1].offset;)_++;var J=P[_].offset,fe=(we-J)/(P[_+1].offset-J),Oe=P[_].color,Be=P[_+1].color;At+=Z(Math.round((1-fe)*Oe[0]+fe*Be[0]).toString(16))+Z(Math.round((1-fe)*Oe[1]+fe*Be[1]).toString(16))+Z(Math.round((1-fe)*Oe[2]+fe*Be[2]).toString(16))}return At.trim()},rs=function(P,ne){ne||(ne=21);var we=Ir(),Te=yo(P.colors,ne),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+ne+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yr({data:Te,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),ue("endobj"),P.objectNumber=Ir(),ue("<< /ShadingType "+P.type),ue("/ColorSpace /DeviceRGB");var Qe="/Coords ["+D(parseFloat(P.coords[0]))+" "+D(parseFloat(P.coords[1]))+" ";P.type===2?Qe+=D(parseFloat(P.coords[2]))+" "+D(parseFloat(P.coords[3])):Qe+=D(parseFloat(P.coords[2]))+" "+D(parseFloat(P.coords[3]))+" "+D(parseFloat(P.coords[4]))+" "+D(parseFloat(P.coords[5])),ue(Qe+="]"),P.matrix&&ue("/Matrix ["+P.matrix.toString()+"]"),ue("/Function "+we+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Rr=function(P,ne){var we=Er(),Te=Ir();ne.push({resourcesOid:we,objectOid:Te}),P.objectNumber=Te;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+P.boundingBox.map(D).join(" ")+"]"}),De.push({key:"XStep",value:D(P.xStep)}),De.push({key:"YStep",value:D(P.yStep)}),De.push({key:"Resources",value:we+" 0 R"}),P.matrix&&De.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Yr({data:P.stream,additionalKeyValues:De,objectId:P.objectNumber}),ue("endobj")},zs=function(P){var ne;for(ne in Dt)Dt.hasOwnProperty(ne)&&(Dt[ne]instanceof Ff?rs(Dt[ne]):Dt[ne]instanceof bp&&Rr(Dt[ne],P))},$s=function(P){for(var ne in P.objectNumber=Ir(),ue("<<"),P)switch(ne){case"opacity":ue("/ca "+Y(P[ne]));break;case"stroke-opacity":ue("/CA "+Y(P[ne]))}ue(">>"),ue("endobj")},Di=function(){var P;for(P in un)un.hasOwnProperty(P)&&$s(un[P])},Pa=function(){for(var P in ue("/XObject <<"),Gr)Gr.hasOwnProperty(P)&&Gr[P].objectNumber>=0&&ue("/"+P+" "+Gr[P].objectNumber+" 0 R");vn.publish("putXobjectDict"),ue(">>")},gf=function(){jn.oid=Ir(),ue("<<"),ue("/Filter /Standard"),ue("/V "+jn.v),ue("/R "+jn.r),ue("/U <"+jn.toHexString(jn.U)+">"),ue("/O <"+jn.toHexString(jn.O)+">"),ue("/P "+jn.P),ue(">>"),ue("endobj")},Fl=function(){for(var P in ue("/Font <<"),Ne)Ne.hasOwnProperty(P)&&(m===!1||m===!0&&g.hasOwnProperty(P))&&ue("/"+P+" "+Ne[P].objectNumber+" 0 R");ue(">>")},Uc=function(){if(Object.keys(Dt).length>0){for(var P in ue("/Shading <<"),Dt)Dt.hasOwnProperty(P)&&Dt[P]instanceof Ff&&Dt[P].objectNumber>=0&&ue("/"+P+" "+Dt[P].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),ue(">>")}},Yo=function(P){if(Object.keys(Dt).length>0){for(var ne in ue("/Pattern <<"),Dt)Dt.hasOwnProperty(ne)&&Dt[ne]instanceof y.TilingPattern&&Dt[ne].objectNumber>=0&&Dt[ne].objectNumber<P&&ue("/"+ne+" "+Dt[ne].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),ue(">>")}},xo=function(){if(Object.keys(un).length>0){var P;for(P in ue("/ExtGState <<"),un)un.hasOwnProperty(P)&&un[P].objectNumber>=0&&ue("/"+P+" "+un[P].objectNumber+" 0 R");vn.publish("putGStateDict"),ue(">>")}},er=function(P){Kr(P.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fl(),Uc(),Yo(P.objectOid),xo(),Pa(),ue(">>"),ue("endobj")},fa=function(){var P=[];bs(),Di(),ka(),zs(P),vn.publish("putResources"),P.forEach(er),er({resourcesOid:Ln,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources")},yi=function(){vn.publish("putAdditionalObjects");for(var P=0;P<Ae.length;P++){var ne=Ae[P];Kr(ne.objId,!0),ue(ne.content),ue("endobj")}vn.publish("postPutAdditionalObjects")},Bc=function(P){rt[P.fontName]=rt[P.fontName]||{},rt[P.fontName][P.fontStyle]=P.id},qc=function(P,ne,we,Te,De){var Qe={id:"F"+(Object.keys(Ne).length+1).toString(10),postScriptName:P,fontName:ne,fontStyle:we,encoding:Te,isStandardFont:De||!1,metadata:{}};return vn.publish("addFont",{font:Qe,instance:this}),Ne[Qe.id]=Qe,Bc(Qe),Qe.id},Ul=function(P){for(var ne=0,we=He.length;ne<we;ne++){var Te=qc.call(this,P[ne][0],P[ne][1],P[ne][2],He[ne][3],!0);m===!1&&(g[Te]=!0);var De=P[ne][0].split("-");Bc({id:Te,fontName:De[0],fontStyle:De[1]||""})}vn.publish("addFonts",{fonts:Ne,dictionary:rt})},ha=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(Te){var ne=Te.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var we="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Jt.console)throw new Error(we);Jt.console.error(we,Te),Jt.alert&&alert(we)}},P.foo.bar=P,P.foo},Hs=function(P,ne){var we,Te,De,Qe,pt,At,_,$,J;if(De=(ne=ne||{}).sourceEncoding||"Unicode",pt=ne.outputEncoding,(ne.autoencode||pt)&&Ne[zt].metadata&&Ne[zt].metadata[De]&&Ne[zt].metadata[De].encoding&&(Qe=Ne[zt].metadata[De].encoding,!pt&&Ne[zt].encoding&&(pt=Ne[zt].encoding),!pt&&Qe.codePages&&(pt=Qe.codePages[0]),typeof pt=="string"&&(pt=Qe[pt]),pt)){for(_=!1,At=[],we=0,Te=P.length;we<Te;we++)($=pt[P.charCodeAt(we)])?At.push(String.fromCharCode($)):At.push(P[we]),At[we].charCodeAt(0)>>8&&(_=!0);P=At.join("")}for(we=P.length;_===void 0&&we!==0;)P.charCodeAt(we-1)>>8&&(_=!0),we--;if(!_)return P;for(At=ne.noBOM?[]:[254,255],we=0,Te=P.length;we<Te;we++){if((J=($=P.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");At.push(J),At.push($-(J<<8))}return String.fromCharCode.apply(void 0,At)},Fr=y.__private__.pdfEscape=y.pdfEscape=function(P,ne){return Hs(P,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ur=y.__private__.beginPage=function(P){Re[++pn]=[],Ft[pn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Xo(pn),ge(Re[K])},Gs=function(P,ne){var we,Te,De;switch(n=ne||n,typeof P=="string"&&(we=C(P.toLowerCase()),Array.isArray(we)&&(Te=we[0],De=we[1])),Array.isArray(P)&&(Te=P[0]*xt,De=P[1]*xt),isNaN(Te)&&(Te=i[0],De=i[1]),(Te>14400||De>14400)&&(br.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),De=Math.min(14400,De)),i=[Te,De],n.substr(0,1)){case"l":De>Te&&(i=[De,Te]);break;case"p":Te>De&&(i=[De,Te])}ur(i),Ao(ti),ue(Fi),Hc!==0&&ue(Hc+" J"),Gl!==0&&ue(Gl+" j"),vn.publish("addPage",{pageNumber:pn})},Jo=function(P){P>0&&P<=pn&&(Re.splice(P,1),Ft.splice(P,1),pn--,K>pn&&(K=pn),this.setPage(K))},Xo=function(P){P>0&&P<=pn&&(K=P)},Tn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Re.length-1},bo=function(P,ne,we){var Te,De=void 0;return we=we||{},P=P!==void 0?P:Ne[zt].fontName,ne=ne!==void 0?ne:Ne[zt].fontStyle,Te=P.toLowerCase(),rt[Te]!==void 0&&rt[Te][ne]!==void 0?De=rt[Te][ne]:rt[P]!==void 0&&rt[P][ne]!==void 0?De=rt[P][ne]:we.disableWarning===!1&&br.warn("Unable to look up font label for font '"+P+"', '"+ne+"'. Refer to getFontList() for available fonts."),De||we.noFallback||(De=rt.times[ne])==null&&(De=rt.times.normal),De},_o=y.__private__.putInfo=function(){var P=Ir(),ne=function(Te){return Te};for(var we in h!==null&&(ne=jn.encryptor(P,0)),ue("<<"),ue("/Producer ("+Fr(ne("jsPDF "+$t.version))+")"),It)It.hasOwnProperty(we)&&It[we]&&ue("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Fr(ne(It[we]))+")");ue("/CreationDate ("+Fr(ne(se))+")"),ue(">>"),ue("endobj")},Ji=y.__private__.putCatalog=function(P){var ne=(P=P||{}).rootDictionaryObjId||vi;switch(Ir(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+ne+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+Ke;we.substr(we.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+Y(Ke)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}ht&&ue("/PageMode /"+ht),vn.publish("putCatalog"),ue(">>"),ue("endobj")},vf=y.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(te+1)),ue("/Root "+te+" 0 R"),ue("/Info "+(te-1)+" 0 R"),h!==null&&ue("/Encrypt "+jn.oid+" 0 R"),ue("/ID [ <"+W+"> <"+W+"> ]"),ue(">>")},Vc=y.__private__.putHeader=function(){ue("%PDF-"+N),ue("%")},Bu=y.__private__.putXRef=function(){var P="0000000000";ue("xref"),ue("0 "+(te+1)),ue("0000000000 65535 f ");for(var ne=1;ne<=te;ne++)typeof me[ne]=="function"?ue((P+me[ne]()).slice(-10)+" 00000 n "):me[ne]!==void 0?ue((P+me[ne]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},is=y.__private__.buildDocument=function(){tt(),ge(_e),vn.publish("buildDocument"),Vc(),Vs(),yi(),fa(),h!==null&&gf(),_o(),Ji();var P=ie;return Bu(),vf(),ue("startxref"),ue(""+P),ue("%%EOF"),ge(Re[K]),_e.join(`
`)},Bl=y.__private__.getBlob=function(P){return new Blob([Ze(P)],{type:"application/pdf"})},ql=y.output=y.__private__.output=ha((function(P,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",P){case void 0:return is();case"save":y.save(ne.filename);break;case"arraybuffer":return Ze(is());case"blob":return Bl(is());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(Bl(is()))||void 0;br.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Te=is();try{we=hN(Te)}catch{we=hN(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+ne.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(De=ne.pdfObjectUrl,Qe="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",At=Jt.open();return At!==null&&At.document.write(pt),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',$=Jt.open();if($!==null){$.document.write(_);var J=this;$.document.documentElement.querySelector("#pdfViewer").onload=function(){$.document.title=ne.filename,$.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(J.output("bloburl"))}}return $}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Oe=Jt.open();if(Oe!==null&&(Oe.document.write(fe),Oe.document.title=ne.filename),Oe||typeof safari>"u")return Oe;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",ne);default:return null}})),as=function(P){return Array.isArray(xs)===!0&&xs.indexOf(P)>-1};switch(r){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);xt=r}var jn=null;ce(),le();var Vl=function(P){return h!==null?jn.encryptor(P,0):function(ne){return ne}},Qo=y.__private__.getPageInfo=y.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[P].objId,pageNumber:P,pageContext:Ft[P]}},Ut=y.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Ft)if(Ft[ne].objId===P)break;return Qo(ne)},pa=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ft[K].objId,pageNumber:K,pageContext:Ft[K]}};y.addPage=function(){return Gs.apply(this,arguments),this},y.setPage=function(){return Xo.apply(this,arguments),ge.call(this,Re[K]),this},y.insertPage=function(P){return this.addPage(),this.movePage(K,P),this},y.movePage=function(P,ne){var we,Te;if(P>ne){we=Re[P],Te=Ft[P];for(var De=P;De>ne;De--)Re[De]=Re[De-1],Ft[De]=Ft[De-1];Re[ne]=we,Ft[ne]=Te,this.setPage(ne)}else if(P<ne){we=Re[P],Te=Ft[P];for(var Qe=P;Qe<ne;Qe++)Re[Qe]=Re[Qe+1],Ft[Qe]=Ft[Qe+1];Re[ne]=we,Ft[ne]=Te,this.setPage(ne)}return this},y.deletePage=function(){return Jo.apply(this,arguments),this},y.__private__.text=y.text=function(P,ne,we,Te,De){var Qe,pt,At,_,$,J,fe,Oe,Be,mt=(Te=Te||{}).scope||this;if(typeof P=="number"&&typeof ne=="number"&&(typeof we=="string"||Array.isArray(we))){var en=we;we=ne,ne=P,P=en}if(arguments[3]instanceof kt?(j("The transform parameter of text() with a Matrix value"),Be=De):(At=arguments[4],_=arguments[5],cr(fe=arguments[3])==="object"&&fe!==null||(typeof At=="string"&&(_=At,At=null),typeof fe=="string"&&(_=fe,fe=null),typeof fe=="number"&&(At=fe,fe=null),Te={flags:fe,angle:At,align:_})),isNaN(ne)||isNaN(we)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return mt;var yn="",Ht=!1,Hn=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Vn,ar=mt.internal.scaleFactor;function Xs(bn){return bn=bn.split("	").join(Array(Te.TabLen||9).join(" ")),Fr(bn,fe)}function xi(bn){for(var Xn,Fn=bn.concat(),Nr=[],ro=Fn.length;ro--;)typeof(Xn=Fn.shift())=="string"?Nr.push(Xn):Array.isArray(bn)&&(Xn.length===1||Xn[1]===void 0&&Xn[2]===void 0)?Nr.push(Xn[0]):Nr.push([Xn[0],Xn[1],Xn[2]]);return Nr}function Qs(bn,Xn){var Fn;if(typeof bn=="string")Fn=Xn(bn)[0];else if(Array.isArray(bn)){for(var Nr,ro,nc=bn.concat(),cl=[],Yu=nc.length;Yu--;)typeof(Nr=nc.shift())=="string"?cl.push(Xn(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(ro=Xn(Nr[0],Nr[1],Nr[2]),cl.push([ro[0],ro[1],ro[2]]));Fn=cl}return Fn}var Fa=!1,il=!0;if(typeof P=="string")Fa=!0;else if(Array.isArray(P)){var yf=P.concat();pt=[];for(var al,bi=yf.length;bi--;)(typeof(al=yf.shift())!="string"||Array.isArray(al)&&typeof al[0]!="string")&&(il=!1);Fa=il}if(Fa===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Gc=Ge/mt.internal.scaleFactor,Jl=Gc*(Hn-1);switch(Te.baseline){case"bottom":we-=Jl;break;case"top":we+=Gc-Jl;break;case"hanging":we+=Gc-2*Jl;break;case"middle":we+=Gc/2-Jl}if((J=Te.maxWidth||0)>0&&(typeof P=="string"?P=mt.splitTextToSize(P,J):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce((function(bn,Xn){return bn.concat(mt.splitTextToSize(Xn,J))}),[]))),Qe={text:P,x:ne,y:we,options:Te,mutex:{pdfEscape:Fr,activeFontKey:zt,fonts:Ne,activeFontSize:Ge}},vn.publish("preProcessText",Qe),P=Qe.text,At=(Te=Qe.options).angle,!(Be instanceof kt)&&At&&typeof At=="number"){At*=Math.PI/180,Te.rotationDirection===0&&(At=-At),k===I.ADVANCED&&(At=-At);var Xl=Math.cos(At),zu=Math.sin(At);Be=new kt(Xl,zu,-zu,Xl,0,0)}else At&&At instanceof kt&&(Be=At);k!==I.ADVANCED||Be||(Be=ji),($=Te.charSpace||tl)!==void 0&&(yn+=D(M($))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Oe=Te.horizontalScale)!==void 0&&(yn+=D(100*Oe)+` Tz
`),Te.lang;var va=-1,wh=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,xf=mt.internal.getCurrentPageInfo().pageContext;switch(wh){case 0:case!1:case"fill":va=0;break;case 1:case!0:case"stroke":va=1;break;case 2:case"fillThenStroke":va=2;break;case 3:case"invisible":va=3;break;case 4:case"fillAndAddForClipping":va=4;break;case 5:case"strokeAndAddPathForClipping":va=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":va=6;break;case 7:case"addToPathForClipping":va=7}var Ah=xf.usedRenderingMode!==void 0?xf.usedRenderingMode:-1;va!==-1?yn+=va+` Tr
`:Ah!==-1&&(yn+=`0 Tr
`),va!==-1&&(xf.usedRenderingMode=va),_=Te.align||"left";var ws,$u=Ge*Hn,Sh=mt.internal.pageSize.getWidth(),Zi=Ne[zt];$=Te.charSpace||tl,J=Te.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var As=[],Ql=function(bn){return mt.getStringUnitWidth(bn,{font:Zi,charSpace:$,fontSize:Ge,doKerning:!1})*Ge/ar};if(Object.prototype.toString.call(P)==="[object Array]"){var ya;pt=xi(P),_!=="left"&&(ws=pt.map(Ql));var ea,sl=0;if(_==="right"){ne-=ws[0],P=[],bi=pt.length;for(var Zs=0;Zs<bi;Zs++)Zs===0?(ea=ga(ne),ya=kr(we)):(ea=M(sl-ws[Zs]),ya=-$u),P.push([pt[Zs],ea,ya]),sl=ws[Zs]}else if(_==="center"){ne-=ws[0]/2,P=[],bi=pt.length;for(var ol=0;ol<bi;ol++)ol===0?(ea=ga(ne),ya=kr(we)):(ea=M((sl-ws[ol])/2),ya=-$u),P.push([pt[ol],ea,ya]),sl=ws[ol]}else if(_==="left"){P=[],bi=pt.length;for(var eo=0;eo<bi;eo++)P.push(pt[eo])}else if(_==="justify"&&Zi.encoding==="Identity-H"){P=[],bi=pt.length,J=J!==0?J:Sh;for(var to=0,gr=0;gr<bi;gr++)if(ya=gr===0?kr(we):-$u,ea=gr===0?ga(ne):to,gr<bi-1){var Wc=M((J-ws[gr])/(pt[gr].split(" ").length-1)),ta=pt[gr].split(" ");P.push([ta[0]+" ",ea,ya]),to=0;for(var _i=1;_i<ta.length;_i++){var no=(Ql(ta[_i-1]+" "+ta[_i])-Ql(ta[_i]))*ar+Wc;_i==ta.length-1?P.push([ta[_i],no,0]):P.push([ta[_i]+" ",no,0]),to-=no}}else P.push([pt[gr],ea,ya]);P.push(["",to,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],bi=pt.length,J=J!==0?J:Sh,gr=0;gr<bi;gr++)ya=gr===0?kr(we):-$u,ea=gr===0?ga(ne):0,gr<bi-1?As.push(D(M((J-ws[gr])/(pt[gr].split(" ").length-1)))):As.push(0),P.push([pt[gr],ea,ya])}}var Hu=typeof Te.R2L=="boolean"?Te.R2L:Ye;Hu===!0&&(P=Qs(P,(function(bn,Xn,Fn){return[bn.split("").reverse().join(""),Xn,Fn]}))),Qe={text:P,x:ne,y:we,options:Te,mutex:{pdfEscape:Fr,activeFontKey:zt,fonts:Ne,activeFontSize:Ge}},vn.publish("postProcessText",Qe),P=Qe.text,Ht=Qe.mutex.isHex||!1;var Gu=Ne[zt].encoding;Gu!=="WinAnsiEncoding"&&Gu!=="StandardEncoding"||(P=Qs(P,(function(bn,Xn,Fn){return[Xs(bn),Xn,Fn]}))),pt=xi(P),P=[];for(var os,Zl,ll,ec=0,Wu=1,Kc=Array.isArray(pt[0])?Wu:ec,tc="",Ku=function(bn,Xn,Fn){var Nr="";return Fn instanceof kt?(Fn=typeof Te.angle=="number"?da(Fn,new kt(1,0,0,1,bn,Xn)):da(new kt(1,0,0,1,bn,Xn),Fn),k===I.ADVANCED&&(Fn=da(new kt(1,0,0,-1,0,0),Fn)),Nr=Fn.join(" ")+` Tm
`):Nr=D(bn)+" "+D(Xn)+` Td
`,Nr},ls=0;ls<pt.length;ls++){switch(tc="",Kc){case Wu:ll=(Ht?"<":"(")+pt[ls][0]+(Ht?">":")"),os=parseFloat(pt[ls][1]),Zl=parseFloat(pt[ls][2]);break;case ec:ll=(Ht?"<":"(")+pt[ls]+(Ht?">":")"),os=ga(ne),Zl=kr(we)}As!==void 0&&As[ls]!==void 0&&(tc=As[ls]+` Tw
`),ls===0?P.push(tc+Ku(os,Zl,Be)+ll):Kc===ec?P.push(tc+ll):Kc===Wu&&P.push(tc+Ku(os,Zl,Be)+ll)}P=Kc===ec?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ua=`BT
/`;return Ua+=zt+" "+Ge+` Tf
`,Ua+=D(Ge*Hn)+` TL
`,Ua+=Js+`
`,Ua+=yn,Ua+=P,ue(Ua+="ET"),g[zt]=!0,mt};var qu=y.__private__.clip=y.clip=function(P){return ue(P==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return qu("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ue("n"),this};var Oa=y.__private__.isValidStyle=function(P){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ne=!0),ne};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(P){return Oa(P)&&(d=P),this};var zc=y.__private__.getStyle=y.getStyle=function(P){var ne=d;switch(P){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=P}return ne},Li=y.close=function(){return ue("h"),this};y.stroke=function(){return ue("S"),this},y.fill=function(P){return Xi("f",P),this},y.fillEvenOdd=function(P){return Xi("f*",P),this},y.fillStroke=function(P){return Xi("B",P),this},y.fillStrokeEvenOdd=function(P){return Xi("B*",P),this};var Xi=function(P,ne){cr(ne)==="object"?ma(ne,P):ue(P)},Zo=function(P){P===null||k===I.ADVANCED&&P===void 0||(P=zc(P),ue(P))};function _s(P,ne,we,Te,De){var Qe=new bp(ne||this.boundingBox,we||this.xStep,Te||this.yStep,this.gState,De||this.matrix);Qe.stream=this.stream;var pt=P+"$$"+this.cloneIndex+++"$$";return Wr(pt,Qe),Qe}var ma=function(P,ne){var we=Ar[P.key],Te=Dt[we];if(Te instanceof Ff)ue("q"),ue(zl(ne)),Te.gState&&y.setGState(Te.gState),ue(P.matrix.toString()+" cm"),ue("/"+we+" sh"),ue("Q");else if(Te instanceof bp){var De=new kt(1,0,0,-1,0,Qi());P.matrix&&(De=De.multiply(P.matrix||ji),we=_s.call(Te,P.key,P.boundingBox,P.xStep,P.yStep,De).id),ue("q"),ue("/Pattern cs"),ue("/"+we+" scn"),Te.gState&&y.setGState(Te.gState),ue(ne),ue("Q")}},zl=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ja=y.moveTo=function(P,ne){return ue(D(M(P))+" "+D(Q(ne))+" m"),this},Ma=y.lineTo=function(P,ne){return ue(D(M(P))+" "+D(Q(ne))+" l"),this},Da=y.curveTo=function(P,ne,we,Te,De,Qe){return ue([D(M(P)),D(Q(ne)),D(M(we)),D(Q(Te)),D(M(De)),D(Q(Qe)),"c"].join(" ")),this};y.__private__.line=y.line=function(P,ne,we,Te,De){if(isNaN(P)||isNaN(ne)||isNaN(we)||isNaN(Te)||!Oa(De))throw new Error("Invalid arguments passed to jsPDF.line");return k===I.COMPAT?this.lines([[we-P,Te-ne]],P,ne,[1,1],De||"S"):this.lines([[we-P,Te-ne]],P,ne,[1,1]).stroke()},y.__private__.lines=y.lines=function(P,ne,we,Te,De,Qe){var pt,At,_,$,J,fe,Oe,Be,mt,en,yn,Ht;if(typeof P=="number"&&(Ht=we,we=ne,ne=P,P=Ht),Te=Te||[1,1],Qe=Qe||!1,isNaN(ne)||isNaN(we)||!Array.isArray(P)||!Array.isArray(Te)||!Oa(De)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ja(ne,we),pt=Te[0],At=Te[1],$=P.length,en=ne,yn=we,_=0;_<$;_++)(J=P[_]).length===2?(en=J[0]*pt+en,yn=J[1]*At+yn,Ma(en,yn)):(fe=J[0]*pt+en,Oe=J[1]*At+yn,Be=J[2]*pt+en,mt=J[3]*At+yn,en=J[4]*pt+en,yn=J[5]*At+yn,Da(fe,Oe,Be,mt,en,yn));return Qe&&Li(),Zo(De),this},y.path=function(P){for(var ne=0;ne<P.length;ne++){var we=P[ne],Te=we.c;switch(we.op){case"m":ja(Te[0],Te[1]);break;case"l":Ma(Te[0],Te[1]);break;case"c":Da.apply(this,Te);break;case"h":Li()}}return this},y.__private__.rect=y.rect=function(P,ne,we,Te,De){if(isNaN(P)||isNaN(ne)||isNaN(we)||isNaN(Te)||!Oa(De))throw new Error("Invalid arguments passed to jsPDF.rect");return k===I.COMPAT&&(Te=-Te),ue([D(M(P)),D(Q(ne)),D(M(we)),D(M(Te)),"re"].join(" ")),Zo(De),this},y.__private__.triangle=y.triangle=function(P,ne,we,Te,De,Qe,pt){if(isNaN(P)||isNaN(ne)||isNaN(we)||isNaN(Te)||isNaN(De)||isNaN(Qe)||!Oa(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-P,Te-ne],[De-we,Qe-Te],[P-De,ne-Qe]],P,ne,[1,1],pt,!0),this},y.__private__.roundedRect=y.roundedRect=function(P,ne,we,Te,De,Qe,pt){if(isNaN(P)||isNaN(ne)||isNaN(we)||isNaN(Te)||isNaN(De)||isNaN(Qe)||!Oa(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*we),Qe=Math.min(Qe,.5*Te),this.lines([[we-2*De,0],[De*At,0,De,Qe-Qe*At,De,Qe],[0,Te-2*Qe],[0,Qe*At,-De*At,Qe,-De,Qe],[2*De-we,0],[-De*At,0,-De,-Qe*At,-De,-Qe],[0,2*Qe-Te],[0,-Qe*At,De*At,-Qe,De,-Qe]],P+De,ne,[1,1],pt,!0),this},y.__private__.ellipse=y.ellipse=function(P,ne,we,Te,De){if(isNaN(P)||isNaN(ne)||isNaN(we)||isNaN(Te)||!Oa(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*we,pt=4/3*(Math.SQRT2-1)*Te;return ja(P+we,ne),Da(P+we,ne-pt,P+Qe,ne-Te,P,ne-Te),Da(P-Qe,ne-Te,P-we,ne-pt,P-we,ne),Da(P-we,ne+pt,P-Qe,ne+Te,P,ne+Te),Da(P+Qe,ne+Te,P+we,ne+pt,P+we,ne),Zo(De),this},y.__private__.circle=y.circle=function(P,ne,we,Te){if(isNaN(P)||isNaN(ne)||isNaN(we)||!Oa(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ne,we,we,Te)},y.setFont=function(P,ne,we){return we&&(ne=z(ne,we)),zt=bo(P,ne,{disableWarning:!1}),this};var wo=y.__private__.getFont=y.getFont=function(){return Ne[bo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var P,ne,we={};for(P in rt)if(rt.hasOwnProperty(P))for(ne in we[P]=[],rt[P])rt[P].hasOwnProperty(ne)&&we[P].push(ne);return we},y.addFont=function(P,ne,we,Te,De){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(we=z(we,Te)),De=De||"Identity-H",qc.call(this,P,ne,we,De)};var Vn,ti=t.lineWidth||.200025,La=y.__private__.getLineWidth=y.getLineWidth=function(){return ti},Ao=y.__private__.setLineWidth=y.setLineWidth=function(P){return ti=P,ue(D(M(P))+" w"),this};y.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(P,ne){if(P=P||[],ne=ne||0,isNaN(ne)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map((function(we){return D(M(we))})).join(" "),ne=D(M(ne)),ue("["+P+"] "+ne+" d"),this};var Ws=y.__private__.getLineHeight=y.getLineHeight=function(){return Ge*Vn};y.__private__.getLineHeight=y.getLineHeight=function(){return Ge*Vn};var $c=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Vn=P),this},Ks=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Vn};$c(t.lineHeight);var ga=y.__private__.getHorizontalCoordinate=function(P){return M(P)},kr=y.__private__.getVerticalCoordinate=function(P){return k===I.ADVANCED?P:Ft[K].mediaBox.topRightY-Ft[K].mediaBox.bottomLeftY-M(P)},el=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(P){return D(ga(P))},Ys=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(P){return D(kr(P))},Fi=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return ir(Fi)},y.__private__.setStrokeColor=y.setDrawColor=function(P,ne,we,Te){return Fi=ei({ch1:P,ch2:ne,ch3:we,ch4:Te,pdfColorType:"draw",precision:2}),ue(Fi),this};var $l=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return ir($l)},y.__private__.setFillColor=y.setFillColor=function(P,ne,we,Te){return $l=ei({ch1:P,ch2:ne,ch3:we,ch4:Te,pdfColorType:"fill",precision:2}),ue($l),this};var Js=t.textColor||"0 g",So=y.__private__.getTextColor=y.getTextColor=function(){return ir(Js)};y.__private__.setTextColor=y.setTextColor=function(P,ne,we,Te){return Js=ei({ch1:P,ch2:ne,ch3:we,ch4:Te,pdfColorType:"text",precision:3}),this};var tl=t.charSpace,Hl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(tl||0)};y.__private__.setCharSpace=y.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tl=P,this};var Hc=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(P){var ne=y.CapJoinStyles[P];if(ne===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hc=ne,ue(ne+" J"),this};var Gl=0;y.__private__.setLineJoin=y.setLineJoin=function(P){var ne=y.CapJoinStyles[P];if(ne===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=ne,ue(ne+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(D(M(P))+" M"),this},y.GState=hx,y.setGState=function(P){(P=typeof P=="string"?un[Dn[P]]:Eo(null,P)).equals(Sr)||(ue("/"+P.id+" gs"),Sr=P)};var Eo=function(P,ne){if(!P||!Dn[P]){var we=!1;for(var Te in un)if(un.hasOwnProperty(Te)&&un[Te].equals(ne)){we=!0;break}if(we)ne=un[Te];else{var De="GS"+(Object.keys(un).length+1).toString(10);un[De]=ne,ne.id=De}return P&&(Dn[P]=ne.id),vn.publish("addGState",ne),ne}};y.addGState=function(P,ne){return Eo(P,ne),this},y.saveGraphicsState=function(){return ue("q"),Vt.push({key:zt,size:Ge,color:Js}),this},y.restoreGraphicsState=function(){ue("Q");var P=Vt.pop();return zt=P.key,Ge=P.size,Js=P.color,Sr=null,this},y.setCurrentTransformationMatrix=function(P){return ue(P.toString()+" cm"),this},y.comment=function(P){return ue("#"+P),this};var No=function(P,ne){var we=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Qe){isNaN(Qe)||(we=parseFloat(Qe))}});var Te=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Qe){isNaN(Qe)||(Te=parseFloat(Qe))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Qe){De=Qe.toString()}}),this},Wl=function(P,ne,we,Te){No.call(this,P,ne),this.type="rect";var De=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(pt){isNaN(pt)||(De=parseFloat(pt))}});var Qe=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(pt){isNaN(pt)||(Qe=parseFloat(pt))}}),this},nl=function(){this.page=pn,this.currentPage=K,this.pages=Re.slice(0),this.pagesContext=Ft.slice(0),this.x=Nn,this.y=nn,this.matrix=qn,this.width=To(K),this.height=Qi(K),this.outputDestination=We,this.id="",this.objectNumber=-1};nl.prototype.restore=function(){pn=this.page,K=this.currentPage,Ft=this.pagesContext,Re=this.pages,Nn=this.x,nn=this.y,qn=this.matrix,Yl(K,this.width),rl(K,this.height),We=this.outputDestination};var Kl=function(P,ne,we,Te,De){Oi.push(new nl),pn=K=0,Re=[],Nn=P,nn=ne,qn=De,ur([we,Te])},Vu=function(P){if(gi[P])Oi.pop().restore();else{var ne=new nl,we="Xo"+(Object.keys(Gr).length+1).toString(10);ne.id=we,gi[P]=we,Gr[we]=ne,vn.publish("addFormObject",ne),Oi.pop().restore()}};for(var ss in y.beginFormObject=function(P,ne,we,Te,De){return Kl(P,ne,we,Te,De),this},y.endFormObject=function(P){return Vu(P),this},y.doFormObject=function(P,ne){var we=Gr[gi[P]];return ue("q"),ue(ne.toString()+" cm"),ue("/"+we.id+" Do"),ue("Q"),this},y.getFormObject=function(P){var ne=Gr[gi[P]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},y.save=function(P,ne){return P=P||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Mf(Bl(is()),P),typeof Mf.unload=="function"&&Jt.setTimeout&&setTimeout(Mf.unload,911),this):new Promise((function(we,Te){try{var De=Mf(Bl(is()),P);typeof Mf.unload=="function"&&Jt.setTimeout&&setTimeout(Mf.unload,911),we(De)}catch(Qe){Te(Qe.message)}}))},$t.API)$t.API.hasOwnProperty(ss)&&(ss==="events"&&$t.API.events.length?(function(P,ne){var we,Te,De;for(De=ne.length-1;De!==-1;De--)we=ne[De][0],Te=ne[De][1],P.subscribe.apply(P,[we].concat(typeof Te=="function"?[Te]:Te))})(vn,$t.API.events):y[ss]=$t.API[ss]);var To=y.getPageWidth=function(P){return(Ft[P=P||K].mediaBox.topRightX-Ft[P].mediaBox.bottomLeftX)/xt},Yl=y.setPageWidth=function(P,ne){Ft[P].mediaBox.topRightX=ne*xt+Ft[P].mediaBox.bottomLeftX},Qi=y.getPageHeight=function(P){return(Ft[P=P||K].mediaBox.topRightY-Ft[P].mediaBox.bottomLeftY)/xt},rl=y.setPageHeight=function(P,ne){Ft[P].mediaBox.topRightY=ne*xt+Ft[P].mediaBox.bottomLeftY};return y.internal={pdfEscape:Fr,getStyle:zc,getFont:wo,getFontSize:Ve,getCharSpace:Hl,getTextColor:So,getLineHeight:Ws,getLineHeightFactor:Ks,getLineWidth:La,write:ut,getHorizontalCoordinate:ga,getVerticalCoordinate:kr,getCoordinateString:el,getVerticalCoordinateString:Ys,collections:{},newObject:Ir,newAdditionalObject:Ko,newObjectDeferred:Er,newObjectDeferredBegin:Kr,getFilters:Mi,putStream:Yr,events:vn,scaleFactor:xt,pageSize:{getWidth:function(){return To(K)},setWidth:function(P){Yl(K,P)},getHeight:function(){return Qi(K)},setHeight:function(P){rl(K,P)}},encryptionOptions:h,encryption:jn,getEncryptor:Vl,output:ql,getNumberOfPages:Tn,pages:Re,out:ue,f2:Y,f3:q,getPageInfo:Qo,getPageInfoByObjId:Ut,getCurrentPageInfo:pa,getPDFVersion:S,Point:No,Rectangle:Wl,Matrix:kt,hasHotfix:as},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return To(K)},set:function(P){Yl(K,P)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Qi(K)},set:function(P){rl(K,P)},enumerable:!0,configurable:!0}),Ul.call(y,He),zt="F1",Gs(i,n),vn.publish("initialized"),y}cp.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},cp.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},cp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},cp.prototype.processOwnerPassword=function(t,e){return mN(pN(e).substr(0,5),t)},cp.prototype.encryptor=function(t,e){var n=pN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return mN(n,r)}},hx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||cr(t)!==cr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},$t.API={events:[]},$t.version="2.5.2";var ai=$t.API,mC=1,gh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ap=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ln=function(t){return t.toFixed(2)},bd=function(t){return t.toFixed(5)};ai.__acroform__={};var qs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rD=function(t){return t*mC},gc=function(t){var e=new _B,n=jt.internal.getHeight(t)||0,r=jt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ln(r)),Number(ln(n))],e},Ide=ai.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Rde=ai.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},kde=ai.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},fi=ai.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kde(t,e-1)},hi=ai.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ide(t,e-1)},pi=ai.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rde(t,e-1)},Pde=ai.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(a)||0,[Number(ln(c.lowerLeft_X)),Number(ln(c.lowerLeft_Y)),Number(ln(c.upperRight_X)),Number(ln(c.upperRight_Y))]},Ode=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=gN(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ln(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=gc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},gN=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map((function(q){return q.split(`
`)})):i.map((function(q){return[q]}));var a=n,s=jt.internal.getHeight(t)||0;s=s<0?-s:s;var l=jt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(q,M,F){if(q+1<i.length){var Q=M+" "+i[q+1][0];return Ty(Q,t,F).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var d,h,m=Ty("3",t,a).height,g=t.multiline?s-a:(s-m)/2,y=g+=2,N=0,S=0,A=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ty(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var C="",I=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var B=!1;if(i[k].length!==1&&A!==i[k].length-1){if((m+2)*(I+2)+2>s)continue e;C+=i[k][A],B=!0,S=k,k--}else{C=(C+=i[k][A]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var L=parseInt(k),z=c(L,C,a),D=k>=i.length-1;if(z&&!D){C+=" ",A=0;continue}if(z||D){if(D)S=L;else if(t.multiline&&(m+2)*(I+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(I+2)+2>s)continue e;S=L}}for(var j="",V=N;V<=S;V++){var Y=i[V];if(t.multiline){if(V===S){j+=Y[A]+" ",A=(A+1)%Y.length;continue}if(V===N){j+=Y[Y.length-1]+" ";continue}}j+=Y[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,h=Ty(j,t,a).width,t.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}e+=ln(d)+" "+ln(y)+` Td
`,e+="("+gh(j)+`) Tj
`,e+=-ln(d)+` 0 Td
`,y=-(a+2),h=0,N=B?S:S+1,I++,C=""}break}return r.text=e,r.fontSize=a,r},Ty=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},jde={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Mde=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Dde=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),cr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Lde=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ml.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(jde)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new wB,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Mde(a,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Pde(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=jt.createDefaultAppearanceStream(l),cr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Ode(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var y=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var s in y)if(y.hasOwnProperty(s)){var N=y[s];typeof N=="function"&&(N=N.call(i,l)),m+="/"+s+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(i,l)),m+="/"+s+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&Dde(i.internal.acroformPlugin.xForms,i)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},bB=ai.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),cr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+gh(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_S=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+gh(r(t))+")"},_c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_c.prototype.toString=function(){return this.objId+" 0 R"},_c.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_c.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:bB(i,this.objId,this.scope)}):i instanceof _c?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var _B=function(){_c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};qs(_B,_c);var wB=function(){_c.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+gh(n(t))+")"}},set:function(n){t=n}})};qs(wB,_c);var Ml=function t(){_c.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(e,3)},set:function(C){C?this.F=hi(e,3):this.F=pi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof px)return;a="FieldObject"+t.FieldNum++}var C=function(I){return I};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+gh(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/mC:d},set:function(C){d=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof px||this instanceof Yf))return _S(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof la?g:_S(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof la?C:C.substr(0,1)==="("?ap(C.substr(1,C.length-2)):ap(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof la?ap(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof la?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof la?y:_S(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=this instanceof la?C:C.substr(0,1)==="("?ap(C.substr(1,C.length-2)):ap(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof la?ap(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof la?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(C){C=!!C,S=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(C){C?this.Ff=hi(this.Ff,1):this.Ff=pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(C){C?this.Ff=hi(this.Ff,2):this.Ff=pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(C){C?this.Ff=hi(this.Ff,3):this.Ff=pi(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');A=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(A){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};qs(Ml,_c);var Ip=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bB(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(n){n?this.Ff=hi(this.Ff,18):this.Ff=pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=hi(this.Ff,19):this.Ff=pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(n){n?(this.Ff=hi(this.Ff,20),e.sort()):this.Ff=pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(n){n?this.Ff=hi(this.Ff,22):this.Ff=pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(n){n?this.Ff=hi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(n){n?this.Ff=hi(this.Ff,27):this.Ff=pi(this.Ff,27)}}),this.hasAppearanceStream=!1};qs(Ip,Ml);var Rp=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};qs(Rp,Ip);var kp=function(){Rp.call(this),this.combo=!0};qs(kp,Rp);var $y=function(){kp.call(this),this.edit=!0};qs($y,kp);var la=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(n){n?this.Ff=hi(this.Ff,15):this.Ff=pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(n){n?this.Ff=hi(this.Ff,16):this.Ff=pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(n){n?this.Ff=hi(this.Ff,17):this.Ff=pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(n){n?this.Ff=hi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+gh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){cr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};qs(la,Ml);var Hy=function(){la.call(this),this.pushButton=!0};qs(Hy,la);var Pp=function(){la.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qs(Pp,la);var px=function(){var t,e;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+gh(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){cr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qs(px,Ml),Pp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Pp.prototype.createOption=function(t){var e=new px;return e.Parent=this,e.optionName=t,this.Kids.push(e),Fde.call(this.scope,e),e};var Gy=function(){la.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};qs(Gy,la);var Yf=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(e){e?this.Ff=hi(this.Ff,13):this.Ff=pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(e){e?this.Ff=hi(this.Ff,21):this.Ff=pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(e){e?this.Ff=hi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(e){e?this.Ff=hi(this.Ff,24):this.Ff=pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(e){e?this.Ff=hi(this.Ff,25):this.Ff=pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(e){e?this.Ff=hi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qs(Yf,Ml);var Wy=function(){Yf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(t){t?this.Ff=hi(this.Ff,14):this.Ff=pi(this.Ff,14)}}),this.password=!0};qs(Wy,Yf);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=gN(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+ln(jt.internal.getWidth(t))+" "+ln(jt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ln(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=gc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=jt.internal.getHeight(t),s=jt.internal.getWidth(t),l=gN(t,t.caption);return i.push("1 g"),i.push("0 0 "+ln(s)+" "+ln(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ln(s-1)+" "+ln(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ln(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ln(jt.internal.getWidth(t))+" "+ln(jt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=jt.RadioButton.Circle.YesNormal,e.D[t]=jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=jt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+bd(jt.internal.getWidth(t)/2)+" "+bd(jt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*jt.internal.Bezier_C).toFixed(5)),s=Number((r*jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+bd(jt.internal.getWidth(t)/2)+" "+bd(jt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+bd(jt.internal.getWidth(t)/2)+" "+bd(jt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+bd(jt.internal.getWidth(t)/2)+" "+bd(jt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=jt.RadioButton.Cross.YesNormal,e.D[t]=jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=jt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+ln(jt.internal.getWidth(t)-2)+" "+ln(jt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ln(r.x1.x)+" "+ln(r.x1.y)+" m"),n.push(ln(r.x2.x)+" "+ln(r.x2.y)+" l"),n.push(ln(r.x4.x)+" "+ln(r.x4.y)+" m"),n.push(ln(r.x3.x)+" "+ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=jt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+ln(jt.internal.getWidth(t))+" "+ln(jt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ln(jt.internal.getWidth(t)-2)+" "+ln(jt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ln(n.x1.x)+" "+ln(n.x1.y)+" m"),r.push(ln(n.x2.x)+" "+ln(n.x2.y)+" l"),r.push(ln(n.x4.x)+" "+ln(n.x4.y)+" m"),r.push(ln(n.x3.x)+" "+ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ln(jt.internal.getWidth(t))+" "+ln(jt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};jt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=jt.internal.getWidth(t),n=jt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},jt.internal.getWidth=function(t){var e=0;return cr(t)==="object"&&(e=rD(t.Rect[2])),e},jt.internal.getHeight=function(t){var e=0;return cr(t)==="object"&&(e=rD(t.Rect[3])),e};var Fde=ai.addField=function(t){if(Lde(this,t),!(t instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ai.AcroFormChoiceField=Ip,ai.AcroFormListBox=Rp,ai.AcroFormComboBox=kp,ai.AcroFormEditBox=$y,ai.AcroFormButton=la,ai.AcroFormPushButton=Hy,ai.AcroFormRadioButton=Pp,ai.AcroFormCheckBox=Gy,ai.AcroFormTextField=Yf,ai.AcroFormPasswordField=Wy,ai.AcroFormAppearance=jt,ai.AcroForm={ChoiceField:Ip,ListBox:Rp,ComboBox:kp,EditBox:$y,Button:la,PushButton:Hy,RadioButton:Pp,CheckBox:Gy,TextField:Yf,PasswordField:Wy,Appearance:jt},$t.AcroForm={ChoiceField:Ip,ListBox:Rp,ComboBox:kp,EditBox:$y,Button:la,PushButton:Hy,RadioButton:Pp,CheckBox:Gy,TextField:Yf,PasswordField:Wy,Appearance:jt};$t.AcroForm;function AB(t){return t.reduce((function(e,n,r){return e[n]=r,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(q,M){var F,Q,se,W,ee,le=e;if((M=M||e)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(z(q))for(ee in n)for(se=n[ee],F=0;F<se.length;F+=1){for(W=!0,Q=0;Q<se[F].length;Q+=1)if(se[F][Q]!==void 0&&se[F][Q]!==q[Q]){W=!1;break}if(W===!0){le=ee;break}}else for(ee in n)for(se=n[ee],F=0;F<se.length;F+=1){for(W=!0,Q=0;Q<se[F].length;Q+=1)if(se[F][Q]!==void 0&&se[F][Q]!==q.charCodeAt(Q)){W=!1;break}if(W===!0){le=ee;break}}return le===e&&M!==e&&(le=M),le},i=function q(M){for(var F=this.internal.write,Q=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:M.width}),W.push({key:"Height",value:M.height}),M.colorSpace===A.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===A.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var ee="",le=0,xe=M.transparency.length;le<xe;le++)ee+=M.transparency[le]+" "+M.transparency[le]+" ";W.push({key:"Mask",value:"["+ee+"]"})}M.sMask!==void 0&&W.push({key:"SMask",value:M.objectId+1+" 0 R"});var ve=M.filter!==void 0?["/"+M.filter]:void 0;if(Q({data:M.data,additionalKeyValues:W,alreadyAppliedFilters:ve,objectId:M.objectId}),F("endobj"),"sMask"in M&&M.sMask!==void 0){var ce="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,O={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ce,data:M.sMask};"filter"in M&&(O.filter=M.filter),q.call(this,O)}if(M.colorSpace===A.INDEXED){var K=this.internal.newObject();Q({data:j(new Uint8Array(M.palette)),objectId:K}),F("endobj")}},a=function(){var q=this.internal.collections.addImage_images;for(var M in q)i.call(this,q[M])},s=function(){var q,M=this.internal.collections.addImage_images,F=this.internal.write;for(var Q in M)F("/I"+(q=M[Q]).index,q.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var q=this.internal.collections.addImage_images;return l.call(this),q},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(q){return typeof t["process"+q.toUpperCase()]=="function"},m=function(q){return cr(q)==="object"&&q.nodeType===1},g=function(q,M){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var F=""+q.getAttribute("src");if(F.indexOf("data:image/")===0)return Yg(unescape(F).split("base64,").pop());var Q=t.loadFile(F,!0);if(Q!==void 0)return Q}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var se;switch(M){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return Yg(q.toDataURL(se,1).split("base64,").pop())}},y=function(q){var M=this.internal.collections.addImage_images;if(M){for(var F in M)if(q===M[F].alias)return M[F]}},N=function(q,M,F){return q||M||(q=-96,M=-96),q<0&&(q=-1*F.width*72/q/this.internal.scaleFactor),M<0&&(M=-1*F.height*72/M/this.internal.scaleFactor),q===0&&(q=M*F.width/F.height),M===0&&(M=q*F.height/F.width),[q,M]},S=function(q,M,F,Q,se,W){var ee=N.call(this,F,Q,se),le=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,ve=c.call(this);if(F=ee[0],Q=ee[1],ve[se.index]=se,W){W*=Math.PI/180;var ce=Math.cos(W),O=Math.sin(W),K=function(Z){return Z.toFixed(4)},H=[K(ce),K(O),K(-1*O),K(ce),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,le(q),xe(M+Q),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([le(F),"0","0",le(Q),"0","0","cm"].join(" "))):this.internal.write([le(F),"0","0",le(Q),le(q),xe(M+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(q){var M,F,Q=0;if(typeof q=="string")for(F=q.length,M=0;M<F;M++)Q=(Q<<5)-Q+q.charCodeAt(M),Q|=0;else if(z(q))for(F=q.byteLength/2,M=0;M<F;M++)Q=(Q<<5)-Q+q[M],Q|=0;return Q},k=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var M=!0;return q.length===0&&(M=!1),q.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(M=!1),M},B=t.__addimage__.extractImageFromDataUrl=function(q){var M=(q=q||"").split("base64,"),F=null;if(M.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(Q)&&(F={mimeType:Q[1],charset:Q[2],data:M[1]})}return F},L=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(q){return L()&&q instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(q){return L()&&typeof Uint32Array<"u"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},D=t.__addimage__.binaryStringToUint8Array=function(q){for(var M=q.length,F=new Uint8Array(M),Q=0;Q<M;Q++)F[Q]=q.charCodeAt(Q);return F},j=t.__addimage__.arrayBufferToBinaryString=function(q){for(var M="",F=z(q)?q:new Uint8Array(q),Q=0;Q<F.length;Q+=8192)M+=String.fromCharCode.apply(null,F.subarray(Q,Q+8192));return M};t.addImage=function(){var q,M,F,Q,se,W,ee,le,xe;if(typeof arguments[1]=="number"?(M=e,F=arguments[1],Q=arguments[2],se=arguments[3],W=arguments[4],ee=arguments[5],le=arguments[6],xe=arguments[7]):(M=arguments[1],F=arguments[2],Q=arguments[3],se=arguments[4],W=arguments[5],ee=arguments[6],le=arguments[7],xe=arguments[8]),cr(q=arguments[0])==="object"&&!m(q)&&"imageData"in q){var ve=q;q=ve.imageData,M=ve.format||M||e,F=ve.x||F||0,Q=ve.y||Q||0,se=ve.w||ve.width||se,W=ve.h||ve.height||W,ee=ve.alias||ee,le=ve.compression||le,xe=ve.rotation||ve.angle||xe}var ce=this.internal.getFilters();if(le===void 0&&ce.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(F)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=V.call(this,q,M,ee,le);return S.call(this,F,Q,se,W,O,xe),this};var V=function(q,M,F,Q){var se,W,ee;if(typeof q=="string"&&r(q)===e){q=unescape(q);var le=Y(q,!1);(le!==""||(le=t.loadFile(q,!0))!==void 0)&&(q=le)}if(m(q)&&(q=g(q,M)),M=r(q,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ee=F)==null||ee.length===0)&&(F=(function(xe){return typeof xe=="string"||z(xe)?I(xe):z(xe.data)?I(xe.data):null})(q)),(se=y.call(this,F))||(L()&&(q instanceof Uint8Array||M==="RGBA"||(W=q,q=D(q))),se=this["process"+M.toUpperCase()](q,d.call(this),F,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:C.NONE})(Q),W)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},Y=t.__addimage__.convertBase64ToBinaryString=function(q,M){var F;M=typeof M!="boolean"||M;var Q,se="";if(typeof q=="string"){Q=(F=B(q))!==null?F.data:q;try{se=Yg(Q)}catch(W){if(M)throw k(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};t.getImageProperties=function(q){var M,F,Q="";if(m(q)&&(q=g(q)),typeof q=="string"&&r(q)===e&&((Q=Y(q,!1))===""&&(Q=t.loadFile(q)||""),q=Q),F=r(q),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!L()||q instanceof Uint8Array||(q=D(q)),!(M=this["process"+F.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=F,M}})($t.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};$t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((r=d[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(S.objId),I=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+y(C(I))+") >>",S.content=a;var k=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(S.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(N(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var L=this.annotations._nameMap[r.options.name];r.options.pageNumber=L.page,r.options.top=L.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;s=Math.ceil(d*h)}else l=c,s=d;return this.text(n,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,l,s,a),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})($t.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(S){var A=0,C=n,I="",k=0;for(A=0;A<S.length;A+=1)C[S.charCodeAt(A)]!==void 0?(k++,typeof(C=C[S.charCodeAt(A)])=="number"&&(I+=String.fromCharCode(C),C=n,k=0),A===S.length-1&&(C=n,I+=S.charAt(A-(k-1)),A-=k-1,k=0)):(C=n,I+=S.charAt(A-k),A-=k,k=0);return I};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,A,C){return s(S)?a(S)===!1?-1:!d(S)||!s(A)&&!s(C)||!s(C)&&l(A)||l(S)&&!s(A)||l(S)&&c(A)||l(S)&&l(A)?0:h(S)&&s(A)&&!l(A)&&s(C)&&d(C)?3:l(S)||!s(C)?1:2:-1},y=function(S){var A=0,C=0,I=0,k="",B="",L="",z=(S=S||"").split("\\s+"),D=[];for(A=0;A<z.length;A+=1){for(D.push(""),C=0;C<z[A].length;C+=1)k=z[A][C],B=z[A][C-1],L=z[A][C+1],s(k)?(I=g(k,B,L),D[A]+=I!==-1?String.fromCharCode(e[k.charCodeAt(0)][I]):k):D[A]+=k;D[A]=m(D[A])}return D.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var S,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(A)){var I=0;for(C=[],I=0;I<A.length;I+=1)Array.isArray(A[I])?C.push([y(A[I][0]),A[I][1],A[I][2]]):C.push([y(A[I])]);S=C}else S=y(A);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",N])})($t.API),$t.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})($t.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(S){N=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,y=0,N=0,S=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=d.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(k,B){return k.concat(A.splitTextToSize(B,C))}),[])):c=Array.isArray(c)?c:[c];for(var I=0;I<c.length;I++)y<(S=this.getStringUnitWidth(c[I],{font:m})*h)&&(y=S);return y!==0&&(N=c.length),{w:y/=g,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,h,m,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var y,N,S,A,C=[],I=[],k=[],B={},L={},z=[],D=[],j=(g=g||{}).autoSize||!1,V=g.printHeaders!==!1,Y=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,q=g.margins||Object.assign({width:this.getPageWidth()},e),M=typeof g.padding=="number"?g.padding:3,F=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=Q,this.setFontSize(Y),m==null)I=C=Object.keys(h[0]),k=C.map((function(){return"left"}));else if(Array.isArray(m)&&cr(m[0])==="object")for(C=m.map((function(ve){return ve.name})),I=m.map((function(ve){return ve.prompt||ve.name||""})),k=m.map((function(ve){return ve.align||"left"})),y=0;y<m.length;y+=1)L[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(I=C=m,k=C.map((function(){return"left"})));if(j||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<C.length;y+=1){for(B[A=C[y]]=h.map((function(ve){return ve[A]})),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(I[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=B[A],this.setFont(void 0,"normal"),S=0;S<N.length;S+=1)z.push(this.getTextDimensions(N[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[A]=Math.max.apply(null,z)+M+M,z=[]}if(V){var se={};for(y=0;y<C.length;y+=1)se[C[y]]={},se[C[y]].text=I[y],se[C[y]].align=k[y];var W=l.call(this,se,L);D=C.map((function(ve){return new a(c,d,L[ve],W,se[ve].text,void 0,se[ve].align)})),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ee=m.reduce((function(ve,ce){return ve[ce.name]=ce.align,ve}),{});for(y=0;y<h.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:h[y]},this);var le=l.call(this,h[y],L);for(S=0;S<C.length;S+=1){var xe=h[y][C[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:S,data:xe},this),s.call(this,new a(c,d,L[C[S]],le,xe,y+2,ee[C[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map((function(y){var N=c[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[y]-h-h)}),this).map((function(y){return this.getLineHeightFactor()*y.length*m/g+h+h}),this).reduce((function(y,N){return Math.max(y,N)}),0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){h=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})($t.API);var SB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vN=AB(EB),NB=[100,200,300,400,500,600,700,800,900],Ude=AB(NB);function yN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return SB[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(t.weight),i=(function(a){return typeof vN[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function iD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Bde={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qde(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Bde,n.genericFontFamilies||{}),a=null,s=null,l=0;l<e.length;++l)if(i[(a=yN(e[l])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+sD(a)+"' and default family '"+r+"'.");if(s=(function(c,d){if(d[c])return d[c];var h=vN[c],m=h<=vN.normal?-1:1,g=iD(d,EB,h,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g})(a.stretch,s),s=(function(c,d){if(d[c])return d[c];for(var h=SB[c],m=0;m<h.length;++m)if(d[h[m]])return d[h[m]];throw new Error("Could not find a matching font-style for "+c)})(a.style,s),!(s=(function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=Ude[c],m=iD(d,NB,h,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m})(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+sD(a)+"'.");return s}function oD(t){return t.trimLeft()}function Vde(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function zde(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Cy,lD,cD,wS=["times"];(function(t){var e,n,r,i,a,s,l,c,d,h=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var m=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=O;Object.defineProperty(this,"pdf",{get:function(){return K}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(ge){H=!!ge}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ge){Z=!!ge}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(ge){isNaN(ge)||(te=ge)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(ge){isNaN(ge)||(me=ge)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ge){var ue;typeof ge=="number"?ue=[ge,ge,ge,ge]:((ue=new Array(4))[0]=ge[0],ue[1]=ge.length>=2?ge[1]:ue[0],ue[2]=ge.length>=3?ge[2]:ue[0],ue[3]=ge.length>=4?ge[3]:ue[1]),d.margin=ue}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(ge){_e=ge}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ge){ie=ge}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ge){Ae=ge}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ge){ge instanceof h&&(d=ge)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ge){d.path=ge}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(ge){Re=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var ue;ue=g(ge),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var ue=g(ge);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Se=null;function We(ge,ue){if(Se===null){var ut=(function(Ze){var He=[];return Object.keys(Ze).forEach((function(Ge){Ze[Ge].forEach((function(Ke){var Ve=null;switch(Ke){case"bold":Ve={family:Ge,weight:"bold"};break;case"italic":Ve={family:Ge,style:"italic"};break;case"bolditalic":Ve={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:Ge}}Ve!==null&&(Ve.ref={name:Ge,style:Ke},He.push(Ve))}))})),He})(ge.getFontList());Se=(function(Ze){for(var He={},Ge=0;Ge<Ze.length;++Ge){var Ke=yN(Ze[Ge]),Ve=Ke.family,Ye=Ke.stretch,ht=Ke.style,Et=Ke.weight;He[Ve]=He[Ve]||{},He[Ve][Ye]=He[Ve][Ye]||{},He[Ve][Ye][ht]=He[Ve][Ye][ht]||{},He[Ve][Ye][ht][Et]=Ke}return He})(ut.concat(ue))}return Se}var tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(ge){Se=null,tt=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var ue;if(this.ctx.font=ge,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var ut=ue[1],Ze=(ue[2],ue[3]),He=ue[4],Ge=(ue[5],ue[6]),Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Ke==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Ve=(function(It){var zt,xt,Nn=[],nn=It.trim();if(nn==="")return wS;if(nn in aD)return[aD[nn]];for(;nn!=="";){switch(xt=null,zt=(nn=oD(nn)).charAt(0)){case'"':case"'":xt=Vde(nn.substring(1),zt);break;default:xt=zde(nn)}if(xt===null||(Nn.push(xt[0]),(nn=oD(xt[1]))!==""&&nn.charAt(0)!==","))return wS;nn=nn.replace(/^,/,"")}return Nn})(Ge);if(this.fontFaces){var Ye=qde(We(this.pdf,this.fontFaces),Ve.map((function(It){return{family:It,stretch:"normal",weight:Ze,style:ut}})));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var ht="";(Ze==="bold"||parseInt(Ze,10)>=700||ut==="bold")&&(ht="bold"),ut==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var Et="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Ve.length;St++){if(this.pdf.internal.getFont(Ve[St],ht,{noFallback:!0,disableWarning:!0})!==void 0){Et=Ve[St];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(Ve[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=Ve[St],ht="bold";else if(this.pdf.internal.getFont(Ve[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=Ve[St],ht="normal";break}}if(Et===""){for(var Kt=0;Kt<Ve.length;Kt++)if(yt[Ve[Kt]]){Et=yt[Ve[Kt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};m.prototype.setLineDash=function(O){this.lineDash=O},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){B.call(this,"fill",!1)},m.prototype.stroke=function(){B.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(O,K){if(isNaN(O)||isNaN(K))throw br.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s(O,K));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(O,K)},m.prototype.closePath=function(){var O=new s(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&cr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){O=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},m.prototype.lineTo=function(O,K){if(isNaN(O)||isNaN(K))throw br.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s(O,K));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},m.prototype.quadraticCurveTo=function(O,K,H,Z){if(isNaN(H)||isNaN(Z)||isNaN(O)||isNaN(K))throw br.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s(H,Z)),me=this.ctx.transform.applyToPoint(new s(O,K));this.path.push({type:"qct",x1:me.x,y1:me.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},m.prototype.bezierCurveTo=function(O,K,H,Z,te,me){if(isNaN(te)||isNaN(me)||isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z))throw br.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new s(te,me)),ie=this.ctx.transform.applyToPoint(new s(O,K)),Ae=this.ctx.transform.applyToPoint(new s(H,Z));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:Ae.x,y2:Ae.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new s(_e.x,_e.y)},m.prototype.arc=function(O,K,H,Z,te,me){if(isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z)||isNaN(te))throw br.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new s(O,K));O=_e.x,K=_e.y;var ie=this.ctx.transform.applyToPoint(new s(0,H)),Ae=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(ie.x-Ae.x,2)+Math.pow(ie.y-Ae.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:O,y:K,radius:H,startAngle:Z,endAngle:te,counterclockwise:me})},m.prototype.arcTo=function(O,K,H,Z,te){throw new Error("arcTo not implemented.")},m.prototype.rect=function(O,K,H,Z){if(isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z))throw br.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,K),this.lineTo(O+H,K),this.lineTo(O+H,K+Z),this.lineTo(O,K+Z),this.lineTo(O,K),this.lineTo(O+H,K),this.lineTo(O,K)},m.prototype.fillRect=function(O,K,H,Z){if(isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z))throw br.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,K,H,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},m.prototype.strokeRect=function(O,K,H,Z){if(isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z))throw br.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,K,H,Z),this.stroke())},m.prototype.clearRect=function(O,K,H,Z){if(isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z))throw br.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,K,H,Z))},m.prototype.save=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},m.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(K),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(O){var K,H,Z,te;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))K=0,H=0,Z=0,te=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(me!==null)K=parseInt(me[1]),H=parseInt(me[2]),Z=parseInt(me[3]),te=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)K=parseInt(me[1]),H=parseInt(me[2]),Z=parseInt(me[3]),te=parseFloat(me[4]);else{if(te=1,typeof O=="string"&&O.charAt(0)!=="#"){var _e=new vB(O);O=_e.ok?_e.toHex():"#000000"}O.length===4?(K=O.substring(1,2),K+=K,H=O.substring(2,3),H+=H,Z=O.substring(3,4),Z+=Z):(K=O.substring(1,3),H=O.substring(3,5),Z=O.substring(5,7)),K=parseInt(K,16),H=parseInt(H,16),Z=parseInt(Z,16)}}return{r:K,g:H,b:Z,a:te,style:O}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(O,K,H,Z){if(isNaN(K)||isNaN(H)||typeof O!="string")throw br.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!y.call(this)){var te=le(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;M.call(this,{text:O,x:K,y:H,scale:me,angle:te,align:this.textAlign,maxWidth:Z})}},m.prototype.strokeText=function(O,K,H,Z){if(isNaN(K)||isNaN(H)||typeof O!="string")throw br.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Z=isNaN(Z)?void 0:Z;var te=le(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;M.call(this,{text:O,x:K,y:H,scale:me,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},m.prototype.measureText=function(O){if(typeof O!="string")throw br.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,H=this.pdf.internal.scaleFactor,Z=K.internal.getFontSize(),te=K.getStringUnitWidth(O)*Z/K.internal.scaleFactor,me=function(_e){var ie=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new me({width:te*=Math.round(96*H/72*1e4)/1e4})},m.prototype.scale=function(O,K){if(isNaN(O)||isNaN(K))throw br.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(O,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.rotate=function(O){if(isNaN(O))throw br.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.translate=function(O,K){if(isNaN(O)||isNaN(K))throw br.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,O,K);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.transform=function(O,K,H,Z,te,me){if(isNaN(O)||isNaN(K)||isNaN(H)||isNaN(Z)||isNaN(te)||isNaN(me))throw br.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new c(O,K,H,Z,te,me);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.setTransform=function(O,K,H,Z,te,me){O=isNaN(O)?1:O,K=isNaN(K)?0:K,H=isNaN(H)?0:H,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,me=isNaN(me)?0:me,this.ctx.transform=new c(O,K,H,Z,te,me)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(O,K,H,Z,te,me,_e,ie,Ae){var Re=this.pdf.getImageProperties(O),Se=1,We=1,tt=1,ge=1;Z!==void 0&&ie!==void 0&&(tt=ie/Z,ge=Ae/te,Se=Re.width/Z*ie/Z,We=Re.height/te*Ae/te),me===void 0&&(me=K,_e=H,K=0,H=0),Z!==void 0&&ie===void 0&&(ie=Z,Ae=te),Z===void 0&&ie===void 0&&(ie=Re.width,Ae=Re.height);for(var ue,ut=this.ctx.transform.decompose(),Ze=le(ut.rotate.shx),He=new c,Ge=(He=(He=(He=He.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale)).applyToRectangle(new l(me-K*tt,_e-H*ge,Z*Se,te*We)),Ke=A.call(this,Ge),Ve=[],Ye=0;Ye<Ke.length;Ye+=1)Ve.indexOf(Ke[Ye])===-1&&Ve.push(Ke[Ye]);if(k(Ve),this.autoPaging)for(var ht=Ve[0],Et=Ve[Ve.length-1],yt=ht;yt<Et+1;yt++){this.pdf.setPage(yt);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=yt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=yt===1?0:It+(yt-2)*zt;if(this.ctx.clip_path.length!==0){var Nn=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ue,this.posX+this.margin[3],-xt+Kt+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Nn}var nn=JSON.parse(JSON.stringify(Ge));nn=I([nn],this.posX+this.margin[3],-xt+Kt+this.ctx.prevPageLastElemOffset)[0];var qn=(yt>ht||yt<Et)&&S.call(this);qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,zt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,Ze),qn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,Ze)};var A=function(O,K,H){var Z=[];K=K||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":Z.push(Math.floor((O.y+te)/H)+1);break;case"arc":Z.push(Math.floor((O.y+te-O.radius)/H)+1),Z.push(Math.floor((O.y+te+O.radius)/H)+1);break;case"qct":var me=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);Z.push(Math.floor((me.y+te)/H)+1),Z.push(Math.floor((me.y+me.h+te)/H)+1);break;case"bct":var _e=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);Z.push(Math.floor((_e.y+te)/H)+1),Z.push(Math.floor((_e.y+_e.h+te)/H)+1);break;case"rect":Z.push(Math.floor((O.y+te)/H)+1),Z.push(Math.floor((O.y+O.h+te)/H)+1)}for(var ie=0;ie<Z.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ie];)C.call(this);return Z},C=function(){var O=this.fillStyle,K=this.strokeStyle,H=this.font,Z=this.lineCap,te=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=K,this.font=H,this.lineCap=Z,this.lineWidth=te,this.lineJoin=me},I=function(O,K,H){for(var Z=0;Z<O.length;Z++)switch(O[Z].type){case"bct":O[Z].x2+=K,O[Z].y2+=H;case"qct":O[Z].x1+=K,O[Z].y1+=H;case"mt":case"lt":case"arc":default:O[Z].x+=K,O[Z].y+=H}return O},k=function(O){return O.sort((function(K,H){return K-H}))},B=function(O,K){for(var H,Z,te=this.fillStyle,me=this.strokeStyle,_e=this.lineCap,ie=this.lineWidth,Ae=Math.abs(ie*this.ctx.transform.scaleX),Re=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),tt=[],ge=0;ge<We.length;ge++)if(We[ge].x!==void 0)for(var ue=A.call(this,We[ge]),ut=0;ut<ue.length;ut+=1)tt.indexOf(ue[ut])===-1&&tt.push(ue[ut]);for(var Ze=0;Ze<tt.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<tt[Ze];)C.call(this);if(k(tt),this.autoPaging)for(var He=tt[0],Ge=tt[tt.length-1],Ke=He;Ke<Ge+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=te,this.strokeStyle=me,this.lineCap=_e,this.lineWidth=Ae,this.lineJoin=Re;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Ke===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Ke===1?0:ht+(Ke-2)*Et;if(this.ctx.clip_path.length!==0){var St=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(H,this.posX+this.margin[3],-yt+Ye+this.ctx.prevPageLastElemOffset),L.call(this,O,!0),this.path=St}if(Z=JSON.parse(JSON.stringify(Se)),this.path=I(Z,this.posX+this.margin[3],-yt+Ye+this.ctx.prevPageLastElemOffset),K===!1||Ke===0){var Kt=(Ke>He||Ke<Ge)&&S.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Et,null).clip().discardPath()),L.call(this,O,K),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=Ae,L.call(this,O,K),this.lineWidth=ie;this.path=Se},L=function(O,K){if((O!=="stroke"||K||!N.call(this))&&(O==="stroke"||K||!y.call(this))){for(var H,Z,te=[],me=this.path,_e=0;_e<me.length;_e++){var ie=me[_e];switch(ie.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ie,deltas:[],abs:[]});break;case"lt":var Ae=te.length;if(me[_e-1]&&!isNaN(me[_e-1].x)&&(H=[ie.x-me[_e-1].x,ie.y-me[_e-1].y],Ae>0)){for(;Ae>=0;Ae--)if(te[Ae-1].close!==!0&&te[Ae-1].begin!==!0){te[Ae-1].deltas.push(H),te[Ae-1].abs.push(ie);break}}break;case"bct":H=[ie.x1-me[_e-1].x,ie.y1-me[_e-1].y,ie.x2-me[_e-1].x,ie.y2-me[_e-1].y,ie.x-me[_e-1].x,ie.y-me[_e-1].y],te[te.length-1].deltas.push(H);break;case"qct":var Re=me[_e-1].x+2/3*(ie.x1-me[_e-1].x),Se=me[_e-1].y+2/3*(ie.y1-me[_e-1].y),We=ie.x+2/3*(ie.x1-ie.x),tt=ie.y+2/3*(ie.y1-ie.y),ge=ie.x,ue=ie.y;H=[Re-me[_e-1].x,Se-me[_e-1].y,We-me[_e-1].x,tt-me[_e-1].y,ge-me[_e-1].x,ue-me[_e-1].y],te[te.length-1].deltas.push(H);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ie)}}Z=K?null:O==="stroke"?"stroke":"fill";for(var ut=!1,Ze=0;Ze<te.length;Ze++)if(te[Ze].arc)for(var He=te[Ze].abs,Ge=0;Ge<He.length;Ge++){var Ke=He[Ge];Ke.type==="arc"?j.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,K,!ut):F.call(this,Ke.x,Ke.y),ut=!0}else if(te[Ze].close===!0)this.pdf.internal.out("h"),ut=!1;else if(te[Ze].begin!==!0){var Ve=te[Ze].start.x,Ye=te[Ze].start.y;Q.call(this,te[Ze].deltas,Ve,Ye),ut=!0}Z&&V.call(this,Z),K&&Y.call(this)}},z=function(O){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-H;case"top":return O+K-H;case"hanging":return O+K-2*H;case"middle":return O+K/2-H;case"ideographic":return O;case"alphabetic":default:return O}},D=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(K,H){this.colorStops.push([K,H])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(O,K,H,Z,te,me,_e,ie,Ae){for(var Re=W.call(this,H,Z,te,me),Se=0;Se<Re.length;Se++){var We=Re[Se];Se===0&&(Ae?q.call(this,We.x1+O,We.y1+K):F.call(this,We.x1+O,We.y1+K)),se.call(this,O,K,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}ie?Y.call(this):V.call(this,_e)},V=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(O,K){this.pdf.internal.out(n(O)+" "+r(K)+" m")},M=function(O){var K;switch(O.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var H=this.pdf.getTextDimensions(O.text),Z=z.call(this,O.y),te=D.call(this,Z)-H.h,me=this.ctx.transform.applyToPoint(new s(O.x,Z)),_e=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ae,Re,Se,We=this.ctx.transform.applyToRectangle(new l(O.x,Z,H.w,H.h)),tt=ie.applyToRectangle(new l(O.x,te,H.w,H.h)),ge=A.call(this,tt),ue=[],ut=0;ut<ge.length;ut+=1)ue.indexOf(ge[ut])===-1&&ue.push(ge[ut]);if(k(ue),this.autoPaging)for(var Ze=ue[0],He=ue[ue.length-1],Ge=Ze;Ge<He+1;Ge++){this.pdf.setPage(Ge);var Ke=Ge===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],ht=Ye-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],yt=Et-this.margin[3],St=Ge===1?0:Ve+(Ge-2)*ht;if(this.ctx.clip_path.length!==0){var Kt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ae,this.posX+this.margin[3],-1*St+Ke),L.call(this,"fill",!0),this.path=Kt}var It=I([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-St+Ke+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*O.scale),Se=this.lineWidth,this.lineWidth=Se*O.scale);var zt=this.autoPaging!=="text";if(zt||It.y+It.h<=Ye){if(zt||It.y>=Ke&&It.x<=Et){var xt=zt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Et-It.x)[0],Nn=I([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-St+Ke+this.ctx.prevPageLastElemOffset)[0],nn=zt&&(Ge>Ze||Ge<He)&&S.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,ht,null).clip().discardPath()),this.pdf.text(xt,Nn.x,Nn.y,{angle:O.angle,align:K,renderingMode:O.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else It.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-It.y);O.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Se)}else O.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*O.scale),Se=this.lineWidth,this.lineWidth=Se*O.scale),this.pdf.text(O.text,me.x+this.posX,me.y+this.posY,{angle:O.angle,align:K,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Se)},F=function(O,K,H,Z){H=H||0,Z=Z||0,this.pdf.internal.out(n(O+H)+" "+r(K+Z)+" l")},Q=function(O,K,H){return this.pdf.lines(O,K,H,null,null)},se=function(O,K,H,Z,te,me,_e,ie){this.pdf.internal.out([e(i(H+O)),e(a(Z+K)),e(i(te+O)),e(a(me+K)),e(i(_e+O)),e(a(ie+K)),"c"].join(" "))},W=function(O,K,H,Z){for(var te=2*Math.PI,me=Math.PI/2;K>H;)K-=te;var _e=Math.abs(H-K);_e<te&&Z&&(_e=te-_e);for(var ie=[],Ae=Z?-1:1,Re=K;_e>1e-5;){var Se=Re+Ae*Math.min(_e,me);ie.push(ee.call(this,O,Re,Se)),_e-=Math.abs(Se-Re),Re=Se}return ie},ee=function(O,K,H){var Z=(H-K)/2,te=O*Math.cos(Z),me=O*Math.sin(Z),_e=te,ie=-me,Ae=_e*_e+ie*ie,Re=Ae+_e*te+ie*me,Se=4/3*(Math.sqrt(2*Ae*Re)-Re)/(_e*me-ie*te),We=_e-Se*ie,tt=ie+Se*_e,ge=We,ue=-tt,ut=Z+K,Ze=Math.cos(ut),He=Math.sin(ut);return{x1:O*Math.cos(K),y1:O*Math.sin(K),x2:We*Ze-tt*He,y2:We*He+tt*Ze,x3:ge*Ze-ue*He,y3:ge*He+ue*Ze,x4:O*Math.cos(H),y4:O*Math.sin(H)}},le=function(O){return 180*O/Math.PI},xe=function(O,K,H,Z,te,me){var _e=O+.5*(H-O),ie=K+.5*(Z-K),Ae=te+.5*(H-te),Re=me+.5*(Z-me),Se=Math.min(O,te,_e,Ae),We=Math.max(O,te,_e,Ae),tt=Math.min(K,me,ie,Re),ge=Math.max(K,me,ie,Re);return new l(Se,tt,We-Se,ge-tt)},ve=function(O,K,H,Z,te,me,_e,ie){var Ae,Re,Se,We,tt,ge,ue,ut,Ze,He,Ge,Ke,Ve,Ye,ht=H-O,Et=Z-K,yt=te-H,St=me-Z,Kt=_e-te,It=ie-me;for(Re=0;Re<41;Re++)Ze=(ue=(Se=O+(Ae=Re/40)*ht)+Ae*((tt=H+Ae*yt)-Se))+Ae*(tt+Ae*(te+Ae*Kt-tt)-ue),He=(ut=(We=K+Ae*Et)+Ae*((ge=Z+Ae*St)-We))+Ae*(ge+Ae*(me+Ae*It-ge)-ut),Re==0?(Ge=Ze,Ke=He,Ve=Ze,Ye=He):(Ge=Math.min(Ge,Ze),Ke=Math.min(Ke,He),Ve=Math.max(Ve,Ze),Ye=Math.max(Ye,He));return new l(Math.round(Ge),Math.round(Ke),Math.round(Ve-Ge),Math.round(Ye-Ke))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,K,H=(O=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:K}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})($t.API),(function(t){var e=function(a){var s,l,c,d,h,m,g,y,N,S;for(l=[],c=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(h=((h=((h=((h=(h-(S=h%85))/85)-(N=h%85))/85)-(y=h%85))/85)-(g=h%85))/85)%85,l.push(m+33,g+33,y+33,N+33,S+33)):l.push(122);return(function(A,C){for(var I=C;I>0;I--)A.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,c,d,h,m=String,g="length",y=255,N="charCodeAt",S="slice",A="replace";for(a[S](-2),a=a[S](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],d=0,h=(a+=s="uuuuu"[S](a[g]%5||5))[g];h>d;d+=5)l=52200625*(a[N](d)-33)+614125*(a[N](d+1)-33)+7225*(a[N](d+2)-33)+85*(a[N](d+3)-33)+(a[N](d+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(C,I){for(var k=I;k>0;k--)C.pop()})(c,s[g]),m.fromCharCode.apply(m,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=fN(s)).reduce((function(c,d){return c+String.fromCharCode(d)}),"")};t.processDataByFilters=function(a,s){var l=0,c=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})($t.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,d,h){var m=new XMLHttpRequest,g=0,y=function(N){var S=N.length,A=[],C=String.fromCharCode;for(g=0;g<S;g+=1)A.push(C(255&N.charCodeAt(g)));return A.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(y(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return y(m.responseText)})(i,a,s)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})($t.API),(function(t){function e(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):oN(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function n(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):oN(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var r=function(s){var l=cr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then((function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(n).then((function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(d,h){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",(function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft}),!0)),m})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var y=d[g],N=y.src.find((function(S){return S.format==="truetype"}));N&&c.addFont(N.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,l)}))},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map((function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}}),this);return this.then((function(){return this.thenList(l)}))},a.prototype.get=function(s,l){return this.then((function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c}))},a.prototype.setMargin=function(s){return this.then((function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then((function(){(s=s||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},a.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,(function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(m){return c.updateProgress(null,d),m})).then(d,h).then((function(m){return c.updateProgress(1),m}))}))},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(d,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach((function(c){l=l.thenCore(c)})),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,$t.getPageSize=function(s,l,c){if(cr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,m=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,N=0,S=0;if(g.hasOwnProperty(m))N=g[m][1]/h,S=g[m][0]/h;else try{N=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",S>N&&(y=S,S=N,N=y);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>S&&(y=S,S=N,N=y)}return{width:S,height:N,unit:l,k:h,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(yN):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}})($t.API),$t.API.addJS=function(t){return cD=t,this.internal.events.subscribe("postPutResources",(function(){Cy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cD+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Cy!==void 0&&lD!==void 0&&this.internal.out("/Names <</JavaScript "+Cy+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(a=0;a<d;a++){var m=n.internal.newObject();h.push(m);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})($t.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=(function(m){for(var g,y=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,S={width:0,height:0,numcomponents:1},A=4;A<N;A+=2){if(A+=y,e.indexOf(m.charCodeAt(A+1))!==-1){g=256*m.charCodeAt(A+5)+m.charCodeAt(A+6),S={width:256*m.charCodeAt(A+7)+m.charCodeAt(A+8),height:g,numcomponents:m.charCodeAt(A+9)};break}y=256*m.charCodeAt(A+2)+m.charCodeAt(A+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}})($t.API);var sp,Iy,uD,dD,fD,$de=(function(){var t,e,n;function r(a){var s,l,c,d,h,m,g,y,N,S,A,C,I,k;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),N=(function(){var B,L;for(L=[],B=0;B<4;++B)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*h/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,C=0;0<=s?C<s:C>s;0<=s?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(I=0;0<=S?I<S:I>S;0<=S?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(A=this.read(s)).indexOf(0),y=String.fromCharCode.apply(String,A.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,A.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(m,g,y,N){var S,A,C,I,k,B,L,z,D,j,V,Y,q,M,F,Q,se,W,ee,le,xe,ve=Math.ceil((d.width-m)/y),ce=Math.ceil((d.height-g)/N),O=d.width==ve&&d.height==ce;for(M=s*ve,Y=O?l:new Uint8Array(M*ce),B=a.length,q=0,A=0;q<ce&&c<B;){switch(a[c++]){case 0:for(I=se=0;se<M;I=se+=1)Y[A++]=a[c++];break;case 1:for(I=W=0;W<M;I=W+=1)S=a[c++],k=I<s?0:Y[A-s],Y[A++]=(S+k)%256;break;case 2:for(I=ee=0;ee<M;I=ee+=1)S=a[c++],C=(I-I%s)/s,F=q&&Y[(q-1)*M+C*s+I%s],Y[A++]=(F+S)%256;break;case 3:for(I=le=0;le<M;I=le+=1)S=a[c++],C=(I-I%s)/s,k=I<s?0:Y[A-s],F=q&&Y[(q-1)*M+C*s+I%s],Y[A++]=(S+Math.floor((k+F)/2))%256;break;case 4:for(I=xe=0;xe<M;I=xe+=1)S=a[c++],C=(I-I%s)/s,k=I<s?0:Y[A-s],q===0?F=Q=0:(F=Y[(q-1)*M+C*s+I%s],Q=C&&Y[(q-1)*M+(C-1)*s+I%s]),L=k+F-Q,z=Math.abs(L-k),j=Math.abs(L-F),V=Math.abs(L-Q),D=z<=j&&z<=V?k:j<=V?F:Q,Y[A++]=(S+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!O){var K=((g+q*N)*d.width+m)*s,H=q*M;for(I=0;I<ve;I+=1){for(var Z=0;Z<s;Z+=1)l[K++]=Y[H++];K+=(y-1)*s}}q++}}return a=wde(a),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,d,h,m,g,y;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=m=0,g=l.length;m<g;s=m+=3)d[c++]=l[s],d[c++]=l[s+1],d[c++]=l[s+2],d[c++]=(y=h[a++])!=null?y:255;return d},r.prototype.copyToImageData=function(a,s){var l,c,d,h,m,g,y,N,S,A,C;if(c=this.colors,S=null,l=this.hasAlphaChannel,this.palette.length&&(S=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),c=4,l=!0),N=(d=a.data||a).length,m=S||s,h=g=0,c===1)for(;h<N;)y=S?4*s[h/4]:g,A=m[y++],d[h++]=A,d[h++]=A,d[h++]=A,d[h++]=l?m[y++]:255,g=y;else for(;h<N;)y=S?4*s[h/4]:g,d[h++]=m[y++],d[h++]=m[y++],d[h++]=m[y++],d[h++]=l?m[y++]:255,g=y},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Jt)==="[object Window]"){try{e=Jt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,d,h,m,g,y;if(this.animation){for(y=[],l=h=0,m=(g=this.animation.frames).length;h<m;l=++h)s=g[l],c=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,y.push(s.image=t(c));return y}},r.prototype.renderFrame=function(a,s){var l,c,d;return l=(c=this.animation.frames)[s],d=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,d,h,m,g=this;return l=0,m=this.animation,d=m.numFrames,c=m.frames,h=m.numPlays,(s=function(){var y,N;if(y=l++%d,N=c[y],g.renderFrame(a,y),d>1&&l/d<h)return g.animation._timeout=setTimeout(s,N.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Hde(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var d=!0,h=[],m=0,g=null,y=0,N=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],(1&S)==0&&(g=null),y=S>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,B=t[e++],L=B>>6&1,z=1<<(7&B)+1,D=l,j=c,V=!1;B>>7&&(V=!0,D=e,j=z,e+=3*z);var Y=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}h.push({x:A,y:C,width:I,height:k,has_local_palette:V,palette_offset:D,palette_size:j,data_offset:Y,data_length:e-Y,transparent_index:g,interlaced:!!L,delay:m,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(M){if(M<0||M>=h.length)throw new Error("Frame index out of range.");return h[M]},this.decodeAndBlitFrameBGRA=function(M,F){var Q=this.frameInfo(M),se=Q.width*Q.height,W=new Uint8Array(se);hD(t,Q.data_offset,W,se);var ee=Q.palette_offset,le=Q.transparent_index;le===null&&(le=256);var xe=Q.width,ve=n-xe,ce=xe,O=4*(Q.y*n+Q.x),K=4*((Q.y+Q.height)*n+Q.x),H=O,Z=4*ve;Q.interlaced===!0&&(Z+=4*n*7);for(var te=8,me=0,_e=W.length;me<_e;++me){var ie=W[me];if(ce===0&&(ce=xe,(H+=Z)>=K&&(Z=4*ve+4*n*(te-1),H=O+(xe+ve)*(te<<1),te>>=1)),ie===le)H+=4;else{var Ae=t[ee+3*ie],Re=t[ee+3*ie+1],Se=t[ee+3*ie+2];F[H++]=Se,F[H++]=Re,F[H++]=Ae,F[H++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(M,F){var Q=this.frameInfo(M),se=Q.width*Q.height,W=new Uint8Array(se);hD(t,Q.data_offset,W,se);var ee=Q.palette_offset,le=Q.transparent_index;le===null&&(le=256);var xe=Q.width,ve=n-xe,ce=xe,O=4*(Q.y*n+Q.x),K=4*((Q.y+Q.height)*n+Q.x),H=O,Z=4*ve;Q.interlaced===!0&&(Z+=4*n*7);for(var te=8,me=0,_e=W.length;me<_e;++me){var ie=W[me];if(ce===0&&(ce=xe,(H+=Z)>=K&&(Z=4*ve+4*n*(te-1),H=O+(xe+ve)*(te<<1),te>>=1)),ie===le)H+=4;else{var Ae=t[ee+3*ie],Re=t[ee+3*ie+1],Se=t[ee+3*ie+2];F[H++]=Ae,F[H++]=Re,F[H++]=Se,F[H++]=255}--ce}}}function hD(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,h=0,m=0,g=0,y=t[e++],N=new Int32Array(4096),S=null;;){for(;h<16&&y!==0;)m|=t[e++]<<h,h+=8,y===1?y=t[e++]:--y;if(h<c)break;var A=m&d;if(m>>=c,h-=c,A!==a){if(A===s)break;for(var C=A<l?A:S,I=0,k=C;k>a;)k=N[k]>>8,++I;var B=k;if(g+I+(C!==A?1:0)>r)return void br.log("Warning, gif stream longer than expected.");n[g++]=B;var L=g+=I;for(C!==A&&(n[g++]=B),k=C;I--;)k=N[k],n[--L]=255&k,k>>=8;S!==null&&l<4096&&(N[l++]=S<<8|B,l>=d+1&&c<12&&(++c,d=d<<1|1)),S=A}else l=s+1,d=(1<<(c=i+1))-1,S=null}return g!==r&&br.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function AS(t){var e,n,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),y=new Array(64),N=new Array(64),S=[],A=0,C=7,I=new Array(64),k=new Array(64),B=new Array(64),L=new Array(256),z=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(O,K){for(var H=0,Z=0,te=new Array,me=1;me<=16;me++){for(var _e=1;_e<=O[me];_e++)te[K[Z]]=[],te[K[Z]][0]=H,te[K[Z]][1]=me,Z++,H++;H*=2}return te}function ee(O){for(var K=O[0],H=O[1]-1;H>=0;)K&1<<H&&(A|=1<<C),H--,--C<0&&(A==255?(le(255),le(0)):le(A),C=7,A=0)}function le(O){S.push(O)}function xe(O){le(O>>8&255),le(255&O)}function ve(O,K,H,Z,te){for(var me,_e=te[0],ie=te[240],Ae=(function(He,Ge){var Ke,Ve,Ye,ht,Et,yt,St,Kt,It,zt,xt=0;for(It=0;It<8;++It){Ke=He[xt],Ve=He[xt+1],Ye=He[xt+2],ht=He[xt+3],Et=He[xt+4],yt=He[xt+5],St=He[xt+6];var Nn=Ke+(Kt=He[xt+7]),nn=Ke-Kt,qn=Ve+St,Ne=Ve-St,rt=Ye+yt,Vt=Ye-yt,Dt=ht+Et,Ar=ht-Et,un=Nn+Dt,Dn=Nn-Dt,Sr=qn+rt,pn=qn-rt;He[xt]=un+Sr,He[xt+4]=un-Sr;var Ft=.707106781*(pn+Dn);He[xt+2]=Dn+Ft,He[xt+6]=Dn-Ft;var vn=.382683433*((un=Ar+Vt)-(pn=Ne+nn)),xs=.5411961*un+vn,Gr=1.306562965*pn+vn,gi=.707106781*(Sr=Vt+Ne),Oi=nn+gi,kt=nn-gi;He[xt+5]=kt+xs,He[xt+3]=kt-xs,He[xt+1]=Oi+Gr,He[xt+7]=Oi-Gr,xt+=8}for(xt=0,It=0;It<8;++It){Ke=He[xt],Ve=He[xt+8],Ye=He[xt+16],ht=He[xt+24],Et=He[xt+32],yt=He[xt+40],St=He[xt+48];var da=Ke+(Kt=He[xt+56]),ji=Ke-Kt,Wr=Ve+St,Ir=Ve-St,Er=Ye+yt,Kr=Ye-yt,Ko=ht+Et,vi=ht-Et,Ln=da+Ko,ir=da-Ko,ei=Wr+Er,Mi=Wr-Er;He[xt]=Ln+ei,He[xt+32]=Ln-ei;var Yr=.707106781*(Mi+ir);He[xt+16]=ir+Yr,He[xt+48]=ir-Yr;var ns=.382683433*((Ln=vi+Kr)-(Mi=Ir+ji)),Vs=.5411961*Ln+ns,Ia=1.306562965*Mi+ns,bs=.707106781*(ei=Kr+Ir),Ra=ji+bs,ka=ji-bs;He[xt+40]=ka+Vs,He[xt+24]=ka-Vs,He[xt+8]=Ra+Ia,He[xt+56]=Ra-Ia,xt++}for(It=0;It<64;++It)zt=He[It]*Ge[It],y[It]=zt>0?zt+.5|0:zt-.5|0;return y})(O,K),Re=0;Re<64;++Re)N[D[Re]]=Ae[Re];var Se=N[0]-H;H=N[0],Se==0?ee(Z[0]):(ee(Z[g[me=32767+Se]]),ee(m[me]));for(var We=63;We>0&&N[We]==0;)We--;if(We==0)return ee(_e),H;for(var tt,ge=1;ge<=We;){for(var ue=ge;N[ge]==0&&ge<=We;)++ge;var ut=ge-ue;if(ut>=16){tt=ut>>4;for(var Ze=1;Ze<=tt;++Ze)ee(ie);ut&=15}me=32767+N[ge],ee(te[(ut<<4)+g[me]]),ee(m[me]),ge++}return We!=63&&ee(_e),H}function ce(O){O=Math.min(Math.max(O,1),100),a!=O&&((function(K){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=s((H[Z]*K+50)/100);te=Math.min(Math.max(te,1),255),l[D[Z]]=te}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ie=s((me[_e]*K+50)/100);ie=Math.min(Math.max(ie,1),255),c[D[_e]]=ie}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Se=0;Se<8;Se++)for(var We=0;We<8;We++)d[Re]=1/(l[D[Re]]*Ae[Se]*Ae[We]*8),h[Re]=1/(c[D[Re]]*Ae[Se]*Ae[We]*8),Re++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,K){K&&ce(K),S=new Array,A=0,C=7,xe(65496),xe(65504),xe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),xe(1),xe(1),le(0),le(0),(function(){xe(65499),xe(132),le(0);for(var Ve=0;Ve<64;Ve++)le(l[Ve]);le(1);for(var Ye=0;Ye<64;Ye++)le(c[Ye])})(),(function(Ve,Ye){xe(65472),xe(17),le(8),xe(Ye),xe(Ve),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(O.width,O.height),(function(){xe(65476),xe(418),le(0);for(var Ve=0;Ve<16;Ve++)le(j[Ve+1]);for(var Ye=0;Ye<=11;Ye++)le(V[Ye]);le(16);for(var ht=0;ht<16;ht++)le(Y[ht+1]);for(var Et=0;Et<=161;Et++)le(q[Et]);le(1);for(var yt=0;yt<16;yt++)le(M[yt+1]);for(var St=0;St<=11;St++)le(F[St]);le(17);for(var Kt=0;Kt<16;Kt++)le(Q[Kt+1]);for(var It=0;It<=161;It++)le(se[It])})(),xe(65498),xe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var H=0,Z=0,te=0;A=0,C=7,this.encode.displayName="_encode_";for(var me,_e,ie,Ae,Re,Se,We,tt,ge,ue=O.data,ut=O.width,Ze=O.height,He=4*ut,Ge=0;Ge<Ze;){for(me=0;me<He;){for(Re=He*Ge+me,We=-1,tt=0,ge=0;ge<64;ge++)Se=Re+(tt=ge>>3)*He+(We=4*(7&ge)),Ge+tt>=Ze&&(Se-=He*(Ge+1+tt-Ze)),me+We>=He&&(Se-=me+We-He+4),_e=ue[Se++],ie=ue[Se++],Ae=ue[Se++],I[ge]=(z[_e]+z[ie+256>>0]+z[Ae+512>>0]>>16)-128,k[ge]=(z[_e+768>>0]+z[ie+1024>>0]+z[Ae+1280>>0]>>16)-128,B[ge]=(z[_e+1280>>0]+z[ie+1536>>0]+z[Ae+1792>>0]>>16)-128;H=ve(I,d,H,e,r),Z=ve(k,h,Z,n,i),te=ve(B,h,te,n,i),me+=32}Ge+=8}if(C>=0){var Ke=[];Ke[1]=C+1,Ke[0]=(1<<C+1)-1,ee(Ke)}return xe(65497),new Uint8Array(S)},t=t||50,(function(){for(var O=String.fromCharCode,K=0;K<256;K++)L[K]=O(K)})(),e=W(j,V),n=W(M,F),r=W(Y,q),i=W(Q,se),(function(){for(var O=1,K=2,H=1;H<=15;H++){for(var Z=O;Z<K;Z++)g[32767+Z]=H,m[32767+Z]=[],m[32767+Z][1]=H,m[32767+Z][0]=Z;for(var te=-(K-1);te<=-O;te++)g[32767+te]=H,m[32767+te]=[],m[32767+te][1]=H,m[32767+te][0]=K-1+te;O<<=1,K<<=1}})(),(function(){for(var O=0;O<256;O++)z[O]=19595*O,z[O+256>>0]=38470*O,z[O+512>>0]=7471*O+32768,z[O+768>>0]=-11059*O,z[O+1024>>0]=-21709*O,z[O+1280>>0]=32768*O+8421375,z[O+1536>>0]=-27439*O,z[O+1792>>0]=-5329*O})(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _l(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pD(t){function e(j){if(!j)throw Error("assert :P")}function n(j,V,Y){for(var q=0;4>q;q++)if(j[V+q]!=Y.charCodeAt(q))return!0;return!1}function r(j,V,Y,q,M){for(var F=0;F<M;F++)j[V+F]=Y[q+F]}function i(j,V,Y,q){for(var M=0;M<q;M++)j[V+M]=Y}function a(j){return new Int32Array(j)}function s(j,V){for(var Y=[],q=0;q<j;q++)Y.push(new V);return Y}function l(j,V){var Y=[];return(function q(M,F,Q){for(var se=Q[F],W=0;W<se&&(M.push(Q.length>F+1?[]:new V),!(Q.length<F+1));W++)q(M[W],F+1,Q)})(Y,0,j),Y}var c=function(){var j=this;function V(b,T){for(var U=1<<T-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function Y(b,T,U,G,re){e(!(G%U));do b[T+(G-=U)]=re;while(0<G)}function q(b,T,U,G,re){if(e(2328>=re),512>=re)var ae=a(512);else if((ae=a(re))==null)return 0;return(function(oe,de,pe,ye,Ce,Ue){var Fe,Me,lt=de,Xe=1<<pe,Ie=a(16),Pe=a(16);for(e(Ce!=0),e(ye!=null),e(oe!=null),e(0<pe),Me=0;Me<Ce;++Me){if(15<ye[Me])return 0;++Ie[ye[Me]]}if(Ie[0]==Ce)return 0;for(Pe[1]=0,Fe=1;15>Fe;++Fe){if(Ie[Fe]>1<<Fe)return 0;Pe[Fe+1]=Pe[Fe]+Ie[Fe]}for(Me=0;Me<Ce;++Me)Fe=ye[Me],0<ye[Me]&&(Ue[Pe[Fe]++]=Me);if(Pe[15]==1)return(ye=new M).g=0,ye.value=Ue[0],Y(oe,lt,1,Xe,ye),Xe;var at,ft=-1,it=Xe-1,Nt=0,_t=1,Lt=1,wt=1<<pe;for(Me=0,Fe=1,Ce=2;Fe<=pe;++Fe,Ce<<=1){if(_t+=Lt<<=1,0>(Lt-=Ie[Fe]))return 0;for(;0<Ie[Fe];--Ie[Fe])(ye=new M).g=Fe,ye.value=Ue[Me++],Y(oe,lt+Nt,Ce,wt,ye),Nt=V(Nt,Fe)}for(Fe=pe+1,Ce=2;15>=Fe;++Fe,Ce<<=1){if(_t+=Lt<<=1,0>(Lt-=Ie[Fe]))return 0;for(;0<Ie[Fe];--Ie[Fe]){if(ye=new M,(Nt&it)!=ft){for(lt+=wt,at=1<<(ft=Fe)-pe;15>ft&&!(0>=(at-=Ie[ft]));)++ft,at<<=1;Xe+=wt=1<<(at=ft-pe),oe[de+(ft=Nt&it)].g=at+pe,oe[de+ft].value=lt-de-ft}ye.g=Fe-pe,ye.value=Ue[Me++],Y(oe,lt+(Nt>>pe),Ce,wt,ye),Nt=V(Nt,Fe)}}return _t!=2*Pe[15]-1?0:Xe})(b,T,U,G,re,ae)}function M(){this.value=this.g=0}function F(){this.value=this.g=0}function Q(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(bi,F)}function se(b,T,U,G){e(b!=null),e(T!=null),e(2147483648>G),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=U,b.Jd=T,b.Yc=U+G,b.Zc=4<=G?U+G-4+1:U,me(b)}function W(b,T){for(var U=0;0<T--;)U|=ie(b,128)<<T;return U}function ee(b,T){var U=W(b,T);return _e(b)?-U:U}function le(b,T,U,G){var re,ae=0;for(e(b!=null),e(T!=null),e(4294967288>G),b.Sb=G,b.Ra=0,b.u=0,b.h=0,4<G&&(G=4),re=0;re<G;++re)ae+=T[U+re]<<8*re;b.Ra=ae,b.bb=G,b.oa=T,b.pa=U}function xe(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Xl-8>>>0,++b.bb,b.u-=8;H(b)&&(b.h=1,b.u=0)}function ve(b,T){if(e(0<=T),!b.h&&T<=Jl){var U=K(b)&Gc[T];return b.u+=T,xe(b),U}return b.h=1,b.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(b){return b.Ra>>>(b.u&Xl-1)>>>0}function H(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Xl}function Z(b,T){b.u=T,b.h=H(b)}function te(b){b.u>=zu&&(e(b.u>=zu),xe(b))}function me(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function _e(b){return W(b,1)}function ie(b,T){var U=b.Ca;0>b.b&&me(b);var G=b.b,re=U*T>>>8,ae=(b.I>>>G>re)+0;for(ae?(U-=re,b.I-=re+1<<G>>>0):U=re+1,G=U,re=0;256<=G;)re+=8,G>>=8;return G=7^re+va[G],b.b-=G,b.Ca=(U<<G)-1,ae}function Ae(b,T,U){b[T+0]=U>>24&255,b[T+1]=U>>16&255,b[T+2]=U>>8&255,b[T+3]=U>>0&255}function Re(b,T){return b[T+0]<<0|b[T+1]<<8}function Se(b,T){return Re(b,T)|b[T+2]<<16}function We(b,T){return Re(b,T)|Re(b,T+2)<<16}function tt(b,T){var U=1<<T;return e(b!=null),e(0<T),b.X=a(U),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function ge(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),r(T.X,0,b.X,0,1<<T.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function ut(b,T,U,G){e(U!=null),e(G!=null);var re=U[0],ae=G[0];return re==0&&(re=(b*ae+T/2)/T),ae==0&&(ae=(T*re+b/2)/b),0>=re||0>=ae?0:(U[0]=re,G[0]=ae,1)}function Ze(b,T){return b+(1<<T)-1>>>T}function He(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function Ge(b,T){j[T]=function(U,G,re,ae,oe,de,pe){var ye;for(ye=0;ye<oe;++ye){var Ce=j[b](de[pe+ye-1],re,ae+ye);de[pe+ye]=He(U[G+ye],Ce)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ve(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function Ye(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function ht(b,T){return Ye(b+(b-T+.5>>1))}function Et(b,T,U){return Math.abs(T-U)-Math.abs(b-U)}function yt(b,T,U,G,re,ae,oe){for(G=ae[oe-1],U=0;U<re;++U)ae[oe+U]=G=He(b[T+U],G)}function St(b,T,U,G,re){var ae;for(ae=0;ae<U;++ae){var oe=b[T+ae],de=oe>>8&255,pe=16711935&(pe=(pe=16711935&oe)+((de<<16)+de));G[re+ae]=(4278255360&oe)+pe>>>0}}function Kt(b,T){T.jd=b>>0&255,T.hd=b>>8&255,T.ud=b>>16&255}function It(b,T,U,G,re,ae){var oe;for(oe=0;oe<G;++oe){var de=T[U+oe],pe=de>>>8,ye=de,Ce=255&(Ce=(Ce=de>>>16)+((b.jd<<24>>24)*(pe<<24>>24)>>>5));ye=255&(ye=(ye=ye+((b.hd<<24>>24)*(pe<<24>>24)>>>5))+((b.ud<<24>>24)*(Ce<<24>>24)>>>5)),re[ae+oe]=(4278255360&de)+(Ce<<16)+ye}}function zt(b,T,U,G,re){j[T]=function(ae,oe,de,pe,ye,Ce,Ue,Fe,Me){for(pe=Ue;pe<Fe;++pe)for(Ue=0;Ue<Me;++Ue)ye[Ce++]=re(de[G(ae[oe++])])},j[b]=function(ae,oe,de,pe,ye,Ce,Ue){var Fe=8>>ae.b,Me=ae.Ea,lt=ae.K[0],Xe=ae.w;if(8>Fe)for(ae=(1<<ae.b)-1,Xe=(1<<Fe)-1;oe<de;++oe){var Ie,Pe=0;for(Ie=0;Ie<Me;++Ie)Ie&ae||(Pe=G(pe[ye++])),Ce[Ue++]=re(lt[Pe&Xe]),Pe>>=Fe}else j["VP8LMapColor"+U](pe,ye,lt,Xe,Ce,Ue,oe,de,Me)}}function xt(b,T,U,G,re){for(U=T+U;T<U;){var ae=b[T++];G[re++]=ae>>16&255,G[re++]=ae>>8&255,G[re++]=ae>>0&255}}function Nn(b,T,U,G,re){for(U=T+U;T<U;){var ae=b[T++];G[re++]=ae>>16&255,G[re++]=ae>>8&255,G[re++]=ae>>0&255,G[re++]=ae>>24&255}}function nn(b,T,U,G,re){for(U=T+U;T<U;){var ae=(oe=b[T++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;G[re++]=ae,G[re++]=oe}}function qn(b,T,U,G,re){for(U=T+U;T<U;){var ae=(oe=b[T++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;G[re++]=ae,G[re++]=oe}}function Ne(b,T,U,G,re){for(U=T+U;T<U;){var ae=b[T++];G[re++]=ae>>0&255,G[re++]=ae>>8&255,G[re++]=ae>>16&255}}function rt(b,T,U,G,re,ae){if(ae==0)for(U=T+U;T<U;)Ae(G,((ae=b[T++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),re+=32;else r(G,re,b,T,U)}function Vt(b,T){j[T][0]=j[b+"0"],j[T][1]=j[b+"1"],j[T][2]=j[b+"2"],j[T][3]=j[b+"3"],j[T][4]=j[b+"4"],j[T][5]=j[b+"5"],j[T][6]=j[b+"6"],j[T][7]=j[b+"7"],j[T][8]=j[b+"8"],j[T][9]=j[b+"9"],j[T][10]=j[b+"10"],j[T][11]=j[b+"11"],j[T][12]=j[b+"12"],j[T][13]=j[b+"13"],j[T][14]=j[b+"0"],j[T][15]=j[b+"0"]}function Dt(b){return b==wf||b==Th||b==Xu||b==Ch}function Ar(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ar,this.f.kb=new un,this.sd=null}function Sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function vn(b,T){var U=b.T,G=T.ba.f.RGBA,re=G.eb,ae=G.fb+b.ka*G.A,oe=qi[T.ba.S],de=b.y,pe=b.O,ye=b.f,Ce=b.N,Ue=b.ea,Fe=b.W,Me=T.cc,lt=T.dc,Xe=T.Mc,Ie=T.Nc,Pe=b.ka,at=b.ka+b.T,ft=b.U,it=ft+1>>1;for(Pe==0?oe(de,pe,null,null,ye,Ce,Ue,Fe,ye,Ce,Ue,Fe,re,ae,null,null,ft):(oe(T.ec,T.fc,de,pe,Me,lt,Xe,Ie,ye,Ce,Ue,Fe,re,ae-G.A,re,ae,ft),++U);Pe+2<at;Pe+=2)Me=ye,lt=Ce,Xe=Ue,Ie=Fe,Ce+=b.Rc,Fe+=b.Rc,ae+=2*G.A,oe(de,(pe+=2*b.fa)-b.fa,de,pe,Me,lt,Xe,Ie,ye,Ce,Ue,Fe,re,ae-G.A,re,ae,ft);return pe+=b.fa,b.j+at<b.o?(r(T.ec,T.fc,de,pe,ft),r(T.cc,T.dc,ye,Ce,it),r(T.Mc,T.Nc,Ue,Fe,it),U--):1&at||oe(de,pe,null,null,ye,Ce,Ue,Fe,ye,Ce,Ue,Fe,re,ae+G.A,null,null,ft),U}function xs(b,T,U){var G=b.F,re=[b.J];if(G!=null){var ae=b.U,oe=T.ba.S,de=oe==_f||oe==Xu;T=T.ba.f.RGBA;var pe=[0],ye=b.ka;pe[0]=b.T,b.Kb&&(ye==0?--pe[0]:(--ye,re[0]-=b.width),b.j+b.ka+b.T==b.o&&(pe[0]=b.o-b.j-ye));var Ce=T.eb;ye=T.fb+ye*T.A,b=Xn(G,re[0],b.width,ae,pe,Ce,ye+(de?0:3),T.A),e(U==pe),b&&Dt(oe)&&Ua(Ce,ye,de,ae,pe,T.A)}return 0}function Gr(b){var T=b.ma,U=T.ba.S,G=11>U,re=U==ra||U==Ss||U==_f||U==Ju||U==12||Dt(U);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!il(T.Oa,b,re?11:12))return 0;if(re&&Dt(U)&&pt(),b.da)alert("todo:use_scaling");else{if(G){if(T.Ib=Ft,b.Kb){if(U=b.U+1>>1,T.memory=a(b.U+2*U),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+U,T.Ib=vn,pt()}}else alert("todo:EmitYUV");re&&(T.Jb=xs,G&&De())}if(G&&!cc){for(b=0;256>b;++b)Vi[b]=89858*(b-128)+ed>>Rs,Xb[b]=-22014*(b-128)+ed,Ev[b]=-45773*(b-128),Oh[b]=113618*(b-128)+ed>>Rs;for(b=Xc;b<lc;++b)T=76283*(b-16)+ed>>Rs,Qb[b-Xc]=Hn(T,255),Zb[b-Xc]=Hn(T+8>>4,15);cc=1}return 1}function gi(b){var T=b.ma,U=b.U,G=b.T;return e(!(1&b.ka)),0>=U||0>=G?0:(U=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,U),T.Dc+=U,1)}function Oi(b){b.ma.memory=null}function kt(b,T,U,G){return ve(b,8)!=47?0:(T[0]=ve(b,14)+1,U[0]=ve(b,14)+1,G[0]=ve(b,1),ve(b,3)!=0?0:!b.h)}function da(b,T){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+ve(T,U)+1}function ji(b,T){return 120<T?T-120:1<=(U=((U=Ns[T-1])>>4)*b+(8-(15&U)))?U:1;var U}function Wr(b,T,U){var G=K(U),re=b[T+=255&G].g-8;return 0<re&&(Z(U,U.u+8),G=K(U),T+=b[T].value,T+=G&(1<<re)-1),Z(U,U.u+b[T].g),b[T].value}function Ir(b,T,U){return U.g+=b.g,U.value+=b.value<<T>>>0,e(8>=U.g),b.g}function Er(b,T,U){var G=b.xc;return e((T=G==0?0:b.vc[b.md*(U>>G)+(T>>G)])<b.Wb),b.Ya[T]}function Kr(b,T,U,G){var re=b.ab,ae=b.c*T,oe=b.C;T=oe+T;var de=U,pe=G;for(G=b.Ta,U=b.Ua;0<re--;){var ye=b.gc[re],Ce=oe,Ue=T,Fe=de,Me=pe,lt=(pe=G,de=U,ye.Ea);switch(e(Ce<Ue),e(Ue<=ye.nc),ye.hc){case 2:Ah(Fe,Me,(Ue-Ce)*lt,pe,de);break;case 0:var Xe=Ce,Ie=Ue,Pe=pe,at=de,ft=(wt=ye).Ea;Xe==0&&(wh(Fe,Me,null,null,1,Pe,at),yt(Fe,Me+1,0,0,ft-1,Pe,at+1),Me+=ft,at+=ft,++Xe);for(var it=1<<wt.b,Nt=it-1,_t=Ze(ft,wt.b),Lt=wt.K,wt=wt.w+(Xe>>wt.b)*_t;Xe<Ie;){var Un=Lt,wn=wt,Cn=1;for(xf(Fe,Me,Pe,at-ft,1,Pe,at);Cn<ft;){var rn=(Cn&~Nt)+it;rn>ft&&(rn=ft),(0,As[Un[wn++]>>8&15])(Fe,Me+ +Cn,Pe,at+Cn-ft,rn-Cn,Pe,at+Cn),Cn=rn}Me+=ft,at+=ft,++Xe&Nt||(wt+=_t)}Ue!=ye.nc&&r(pe,de-lt,pe,de+(Ue-Ce-1)*lt,lt);break;case 1:for(lt=Fe,Ie=Me,ft=(Fe=ye.Ea)-(at=Fe&~(Pe=(Me=1<<ye.b)-1)),Xe=Ze(Fe,ye.b),it=ye.K,ye=ye.w+(Ce>>ye.b)*Xe;Ce<Ue;){for(Nt=it,_t=ye,Lt=new Ke,wt=Ie+at,Un=Ie+Fe;Ie<wt;)Kt(Nt[_t++],Lt),Ql(Lt,lt,Ie,Me,pe,de),Ie+=Me,de+=Me;Ie<Un&&(Kt(Nt[_t++],Lt),Ql(Lt,lt,Ie,ft,pe,de),Ie+=ft,de+=ft),++Ce&Pe||(ye+=Xe)}break;case 3:if(Fe==pe&&Me==de&&0<ye.b){for(Ie=pe,Fe=lt=de+(Ue-Ce)*lt-(at=(Ue-Ce)*Ze(ye.Ea,ye.b)),Me=pe,Pe=de,Xe=[],at=(ft=at)-1;0<=at;--at)Xe[at]=Me[Pe+at];for(at=ft-1;0<=at;--at)Ie[Fe+at]=Xe[at];ws(ye,Ce,Ue,pe,lt,pe,de)}else ws(ye,Ce,Ue,Fe,Me,pe,de)}de=G,pe=U}pe!=U&&r(G,U,de,pe,ae)}function Ko(b,T){var U=b.V,G=b.Ba+b.c*b.C,re=T-b.C;if(e(T<=b.l.o),e(16>=re),0<re){var ae=b.l,oe=b.Ta,de=b.Ua,pe=ae.width;if(Kr(b,re,U,G),re=de=[de],e((U=b.C)<(G=T)),e(ae.v<ae.va),G>ae.o&&(G=ae.o),U<ae.j){var ye=ae.j-U;U=ae.j,re[0]+=ye*pe}if(U>=G?U=0:(re[0]+=4*ae.v,ae.ka=U-ae.j,ae.U=ae.va-ae.v,ae.T=G-U,U=1),U){if(de=de[0],11>(U=b.ca).S){var Ce=U.f.RGBA,Ue=(G=U.S,re=ae.U,ae=ae.T,ye=Ce.eb,Ce.A),Fe=ae;for(Ce=Ce.fb+b.Ma*Ce.A;0<Fe--;){var Me=oe,lt=de,Xe=re,Ie=ye,Pe=Ce;switch(G){case Eh:ya(Me,lt,Xe,Ie,Pe);break;case ra:ea(Me,lt,Xe,Ie,Pe);break;case wf:ea(Me,lt,Xe,Ie,Pe),Ua(Ie,Pe,0,Xe,1,0);break;case Nh:ol(Me,lt,Xe,Ie,Pe);break;case Ss:rt(Me,lt,Xe,Ie,Pe,1);break;case Th:rt(Me,lt,Xe,Ie,Pe,1),Ua(Ie,Pe,0,Xe,1,0);break;case _f:rt(Me,lt,Xe,Ie,Pe,0);break;case Xu:rt(Me,lt,Xe,Ie,Pe,0),Ua(Ie,Pe,1,Xe,1,0);break;case Ju:sl(Me,lt,Xe,Ie,Pe);break;case Ch:sl(Me,lt,Xe,Ie,Pe),bn(Ie,Pe,Xe,1,0);break;case rc:Zs(Me,lt,Xe,Ie,Pe);break;default:e(0)}de+=pe,Ce+=Ue}b.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=U.height)}}b.C=T,e(b.C<=b.i)}function vi(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var U=b.Ya[T].G,G=b.Ya[T].H;if(0<U[1][G[1]+0].g||0<U[2][G[2]+0].g||0<U[3][G[3]+0].g)return 0}return 1}function Ln(b,T,U,G,re,ae){if(b.Z!=0){var oe=b.qd,de=b.rd;for(e(dl[b.Z]!=null);T<U;++T)dl[b.Z](oe,de,G,re,G,re,ae),oe=G,de=re,re+=ae;b.qd=oe,b.rd=de}}function ir(b,T){var U=b.l.ma,G=U.Z==0||U.Z==1?b.l.j:b.C;if(G=b.C<G?G:b.C,e(T<=b.l.o),T>G){var re=b.l.width,ae=U.ca,oe=U.tb+re*G,de=b.V,pe=b.Ba+b.c*G,ye=b.gc;e(b.ab==1),e(ye[0].hc==3),Sh(ye[0],G,T,de,pe,ae,oe),Ln(U,G,T,ae,oe,re)}b.C=b.Ma=T}function ei(b,T,U,G,re,ae,oe){var de=b.$/G,pe=b.$%G,ye=b.m,Ce=b.s,Ue=U+b.$,Fe=Ue;re=U+G*re;var Me=U+G*ae,lt=280+Ce.ua,Xe=b.Pb?de:16777216,Ie=0<Ce.ua?Ce.Wa:null,Pe=Ce.wc,at=Ue<Me?Er(Ce,pe,de):null;e(b.C<ae),e(Me<=re);var ft=!1;e:for(;;){for(;ft||Ue<Me;){var it=0;if(de>=Xe){var Nt=Ue-U;e((Xe=b).Pb),Xe.wd=Xe.m,Xe.xd=Nt,0<Xe.s.ua&&ge(Xe.s.Wa,Xe.s.vb),Xe=de+ic}if(pe&Pe||(at=Er(Ce,pe,de)),e(at!=null),at.Qb&&(T[Ue]=at.qb,ft=!0),!ft)if(te(ye),at.jc){it=ye,Nt=T;var _t=Ue,Lt=at.pd[K(it)&bi-1];e(at.jc),256>Lt.g?(Z(it,it.u+Lt.g),Nt[_t]=Lt.value,it=0):(Z(it,it.u+Lt.g-256),e(256<=Lt.value),it=Lt.value),it==0&&(ft=!0)}else it=Wr(at.G[0],at.H[0],ye);if(ye.h)break;if(ft||256>it){if(!ft)if(at.nd)T[Ue]=(at.qb|it<<8)>>>0;else{if(te(ye),ft=Wr(at.G[1],at.H[1],ye),te(ye),Nt=Wr(at.G[2],at.H[2],ye),_t=Wr(at.G[3],at.H[3],ye),ye.h)break;T[Ue]=(_t<<24|ft<<16|it<<8|Nt)>>>0}if(ft=!1,++Ue,++pe>=G&&(pe=0,++de,oe!=null&&de<=ae&&!(de%16)&&oe(b,de),Ie!=null))for(;Fe<Ue;)it=T[Fe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else if(280>it){if(it=da(it-256,ye),Nt=Wr(at.G[4],at.H[4],ye),te(ye),Nt=ji(G,Nt=da(Nt,ye)),ye.h)break;if(Ue-U<Nt||re-Ue<it)break e;for(_t=0;_t<it;++_t)T[Ue+_t]=T[Ue+_t-Nt];for(Ue+=it,pe+=it;pe>=G;)pe-=G,++de,oe!=null&&de<=ae&&!(de%16)&&oe(b,de);if(e(Ue<=re),pe&Pe&&(at=Er(Ce,pe,de)),Ie!=null)for(;Fe<Ue;)it=T[Fe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else{if(!(it<lt))break e;for(ft=it-280,e(Ie!=null);Fe<Ue;)it=T[Fe++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it;it=Ue,e(!(ft>>>(Nt=Ie).Xa)),T[it]=Nt.X[ft],ft=!0}ft||e(ye.h==H(ye))}if(b.Pb&&ye.h&&Ue<re)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ge(b.s.vb,b.s.Wa);else{if(ye.h)break e;oe!=null&&oe(b,de>ae?ae:de),b.a=0,b.$=Ue-U}return 1}return b.a=3,0}function Mi(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function Yr(){var b=new Vu;return b==null?null:(b.a=0,b.xb=Lm,Vt("Predictor","VP8LPredictors"),Vt("Predictor","VP8LPredictors_C"),Vt("PredictorAdd","VP8LPredictorsAdd"),Vt("PredictorAdd","VP8LPredictorsAdd_C"),Ah=St,Ql=It,ya=xt,ea=Nn,sl=nn,Zs=qn,ol=Ne,j.VP8LMapColor32b=$u,j.VP8LMapColor8b=Zi,b)}function ns(b,T,U,G,re){var ae=1,oe=[b],de=[T],pe=G.m,ye=G.s,Ce=null,Ue=0;e:for(;;){if(U)for(;ae&&ve(pe,1);){var Fe=oe,Me=de,lt=G,Xe=1,Ie=lt.m,Pe=lt.gc[lt.ab],at=ve(Ie,2);if(lt.Oc&1<<at)ae=0;else{switch(lt.Oc|=1<<at,Pe.hc=at,Pe.Ea=Fe[0],Pe.nc=Me[0],Pe.K=[null],++lt.ab,e(4>=lt.ab),at){case 0:case 1:Pe.b=ve(Ie,3)+2,Xe=ns(Ze(Pe.Ea,Pe.b),Ze(Pe.nc,Pe.b),0,lt,Pe.K),Pe.K=Pe.K[0];break;case 3:var ft,it=ve(Ie,8)+1,Nt=16<it?0:4<it?1:2<it?2:3;if(Fe[0]=Ze(Pe.Ea,Nt),Pe.b=Nt,ft=Xe=ns(it,1,0,lt,Pe.K)){var _t,Lt=it,wt=Pe,Un=1<<(8>>wt.b),wn=a(Un);if(wn==null)ft=0;else{var Cn=wt.K[0],rn=wt.w;for(wn[0]=wt.K[0][0],_t=1;_t<1*Lt;++_t)wn[_t]=He(Cn[rn+_t],wn[_t-1]);for(;_t<4*Un;++_t)wn[_t]=0;wt.K[0]=null,wt.K[0]=wn,ft=1}}Xe=ft;break;case 2:break;default:e(0)}ae=Xe}}if(oe=oe[0],de=de[0],ae&&ve(pe,1)&&!(ae=1<=(Ue=ve(pe,4))&&11>=Ue)){G.a=3;break e}var Qn;if(Qn=ae)t:{var Gn,Gt,sr,wi=G,Br=oe,ia=de,Mn=Ue,zi=U,Ba=wi.m,ci=wi.s,qr=[null],Ai=1,us=0,ks=Ts[Mn];n:for(;;){if(zi&&ve(Ba,1)){var ni=ve(Ba,3)+2,Xr=Ze(Br,ni),Si=Ze(ia,ni),ds=Xr*Si;if(!ns(Xr,Si,0,wi,qr))break n;for(qr=qr[0],ci.xc=ni,Gn=0;Gn<ds;++Gn){var Io=qr[Gn]>>8&65535;qr[Gn]=Io,Io>=Ai&&(Ai=Io+1)}}if(Ba.h)break n;for(Gt=0;5>Gt;++Gt){var Pr=Yc[Gt];!Gt&&0<Mn&&(Pr+=1<<Mn),us<Pr&&(us=Pr)}var Ro=s(Ai*ks,M),qa=Ai,Vr=s(qa,Q);if(Vr==null)var Qc=null;else e(65536>=qa),Qc=Vr;var fs=a(us);if(Qc==null||fs==null||Ro==null){wi.a=1;break n}var tn=Ro;for(Gn=sr=0;Gn<Ai;++Gn){var mn=Qc[Gn],yr=mn.G,fl=mn.H,Zc=0,ko=1,Nf=0;for(Gt=0;5>Gt;++Gt){Pr=Yc[Gt],yr[Gt]=tn,fl[Gt]=sr,!Gt&&0<Mn&&(Pr+=1<<Mn);i:{var uc,dc=Pr,Mh=wi,dr=fs,Um=tn,Bm=sr,Dh=0,hl=Mh.m,e2=ve(hl,1);if(i(dr,0,0,dc),e2){var qm=ve(hl,1)+1,Vm=ve(hl,1),Lh=ve(hl,Vm==0?1:8);dr[Lh]=1,qm==2&&(dr[Lh=ve(hl,8)]=1);var Ei=1}else{var zr=a(19),Tf=ve(hl,4)+4;if(19<Tf){Mh.a=3;var fc=0;break i}for(uc=0;uc<Tf;++uc)zr[Af[uc]]=ve(hl,3);var nd=void 0,eu=void 0,Po=Mh,Fh=zr,rd=dc,Uh=dr,Bh=0,pl=Po.m,zm=8,$m=s(128,M);r:for(;q($m,0,7,Fh,19);){if(ve(pl,1)){var Nv=2+2*ve(pl,3);if((nd=2+ve(pl,Nv))>rd)break r}else nd=rd;for(eu=0;eu<rd&&nd--;){te(pl);var Hm=$m[0+(127&K(pl))];Z(pl,pl.u+Hm.g);var hc=Hm.value;if(16>hc)Uh[eu++]=hc,hc!=0&&(zm=hc);else{var Tv=hc==16,Cv=hc-16,Iv=Qu[Cv],Gm=ve(pl,Es[Cv])+Iv;if(eu+Gm>rd)break r;for(var Rv=Tv?zm:0;0<Gm--;)Uh[eu++]=Rv}}Bh=1;break r}Bh||(Po.a=3),Ei=Bh}(Ei=Ei&&!hl.h)&&(Dh=q(Um,Bm,8,dr,dc)),Ei&&Dh!=0?fc=Dh:(Mh.a=3,fc=0)}if(fc==0)break n;if(ko&&Ih[Gt]==1&&(ko=tn[sr].g==0),Zc+=tn[sr].g,sr+=fc,3>=Gt){var tu,qh=fs[0];for(tu=1;tu<Pr;++tu)fs[tu]>qh&&(qh=fs[tu]);Nf+=qh}}if(mn.nd=ko,mn.Qb=0,ko&&(mn.qb=(yr[3][fl[3]+0].value<<24|yr[1][fl[1]+0].value<<16|yr[2][fl[2]+0].value)>>>0,Zc==0&&256>yr[0][fl[0]+0].value&&(mn.Qb=1,mn.qb+=yr[0][fl[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Nf,mn.jc){var Cf,Oo=mn;for(Cf=0;Cf<bi;++Cf){var ml=Cf,gl=Oo.pd[ml],Vh=Oo.G[0][Oo.H[0]+ml];256<=Vh.value?(gl.g=Vh.g+256,gl.value=Vh.value):(gl.g=0,gl.value=0,ml>>=Ir(Vh,8,gl),ml>>=Ir(Oo.G[1][Oo.H[1]+ml],16,gl),ml>>=Ir(Oo.G[2][Oo.H[2]+ml],0,gl),Ir(Oo.G[3][Oo.H[3]+ml],24,gl))}}}ci.vc=qr,ci.Wb=Ai,ci.Ya=Qc,ci.yc=Ro,Qn=1;break t}Qn=0}if(!(ae=Qn)){G.a=3;break e}if(0<Ue){if(ye.ua=1<<Ue,!tt(ye.Wa,Ue)){G.a=1,ae=0;break e}}else ye.ua=0;var zh=G,nu=oe,kv=de,id=zh.s,ad=id.xc;if(zh.c=nu,zh.i=kv,id.md=Ze(nu,ad),id.wc=ad==0?-1:(1<<ad)-1,U){G.xb=ac;break e}if((Ce=a(oe*de))==null){G.a=1,ae=0;break e}ae=(ae=ei(G,Ce,0,oe,de,de,null))&&!pe.h;break e}return ae?(re!=null?re[0]=Ce:(e(Ce==null),e(U)),G.$=0,U||Mi(ye)):Mi(ye),ae}function Vs(b,T){var U=b.c*b.i,G=U+T+16*T;return e(b.c<=T),b.V=a(G),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+T,1)}function Ia(b,T){var U=b.C,G=T-U,re=b.V,ae=b.Ba+b.c*U;for(e(T<=b.l.o);0<G;){var oe=16<G?16:G,de=b.l.ma,pe=b.l.width,ye=pe*oe,Ce=de.ca,Ue=de.tb+pe*U,Fe=b.Ta,Me=b.Ua;Kr(b,oe,re,ae),Fn(Fe,Me,Ce,Ue,ye),Ln(de,U,U+oe,Ce,Ue,pe),G-=oe,re+=oe*b.c,U+=oe}e(U==T),b.C=b.Ma=T}function bs(){this.ub=this.yd=this.td=this.Rb=0}function Ra(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ka(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function yo(){this.Yb=(function(){var b=[];return(function T(U,G,re){for(var ae=re[G],oe=0;oe<ae&&(U.push(re.length>G+1?[]:0),!(re.length<G+1));oe++)T(U[oe],G+1,re)})(b,0,[3,11]),b})()}function rs(){this.jb=a(3),this.Wc=l([4,8],yo),this.Xc=l([4,17],yo)}function Rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function zs(){this.ld=this.La=this.dd=this.tc=0}function $s(){this.Na=this.la=0}function Di(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gf(){this.uc=this.M=this.Nb=0,this.wa=Array(new zs),this.Y=0,this.ya=Array(new Pa),this.aa=0,this.l=new Yo}function Fl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Uc(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new bs,this.Kc=new Ra,this.ed=new Rr,this.Qa=new ka,this.Ic=this.$c=this.Aa=0,this.D=new gf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ce),this.ia=0,this.pb=s(4,Di),this.Pa=new rs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fl),this.Hd=0,this.rb=Array(new $s),this.sb=0,this.wa=Array(new zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pa),this.L=this.aa=0,this.gd=l([4,2],zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xo(){var b=new Uc;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,cs||(cs=Bc)),b}function er(b,T,U){return b.a==0&&(b.a=T,b.sc=U,b.cb=0),0}function fa(b,T,U){return 3<=U&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function yi(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return er(b,2,"null VP8Io passed to VP8GetHeaders()");var U=T.data,G=T.w,re=T.ha;if(4>re)return er(b,7,"Truncated header.");var ae=U[G+0]|U[G+1]<<8|U[G+2]<<16,oe=b.Od;if(oe.Rb=!(1&ae),oe.td=ae>>1&7,oe.yd=ae>>4&1,oe.ub=ae>>5,3<oe.td)return er(b,3,"Incorrect keyframe parameters.");if(!oe.yd)return er(b,4,"Frame not displayable.");G+=3,re-=3;var de=b.Kc;if(oe.Rb){if(7>re)return er(b,7,"cannot parse picture header");if(!fa(U,G,re))return er(b,3,"Bad code word");de.c=16383&(U[G+4]<<8|U[G+3]),de.Td=U[G+4]>>6,de.i=16383&(U[G+6]<<8|U[G+5]),de.Ud=U[G+6]>>6,G+=7,re-=7,b.za=de.c+15>>4,b.Ub=de.i+15>>4,T.width=de.c,T.height=de.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ae=b.Pa).jb,0,255,ae.jb.length),e((ae=b.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,i(ae.Zb,0,0,ae.Zb.length),i(ae.Lb,0,0,ae.Lb)}if(oe.ub>re)return er(b,7,"bad partition length");se(ae=b.m,U,G,oe.ub),G+=oe.ub,re-=oe.ub,oe.Rb&&(de.Ld=_e(ae),de.Kd=_e(ae)),de=b.Qa;var pe,ye=b.Pa;if(e(ae!=null),e(de!=null),de.Cb=_e(ae),de.Cb){if(de.Bb=_e(ae),_e(ae)){for(de.Fb=_e(ae),pe=0;4>pe;++pe)de.Zb[pe]=_e(ae)?ee(ae,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=_e(ae)?ee(ae,6):0}if(de.Bb)for(pe=0;3>pe;++pe)ye.jb[pe]=_e(ae)?W(ae,8):255}else de.Bb=0;if(ae.Ka)return er(b,3,"cannot parse segment header");if((de=b.ed).zd=_e(ae),de.Tb=W(ae,6),de.wb=W(ae,3),de.Pc=_e(ae),de.Pc&&_e(ae)){for(ye=0;4>ye;++ye)_e(ae)&&(de.vd[ye]=ee(ae,6));for(ye=0;4>ye;++ye)_e(ae)&&(de.od[ye]=ee(ae,6))}if(b.L=de.Tb==0?0:de.zd?1:2,ae.Ka)return er(b,3,"cannot parse filter header");var Ce=re;if(re=pe=G,G=pe+Ce,de=Ce,b.Xb=(1<<W(b.m,2))-1,Ce<3*(ye=b.Xb))U=7;else{for(pe+=3*ye,de-=3*ye,Ce=0;Ce<ye;++Ce){var Ue=U[re+0]|U[re+1]<<8|U[re+2]<<16;Ue>de&&(Ue=de),se(b.Jc[+Ce],U,pe,Ue),pe+=Ue,de-=Ue,re+=3}se(b.Jc[+ye],U,pe,de),U=pe<G?0:5}if(U!=0)return er(b,U,"cannot parse partitions");for(U=W(pe=b.m,7),re=_e(pe)?ee(pe,4):0,G=_e(pe)?ee(pe,4):0,de=_e(pe)?ee(pe,4):0,ye=_e(pe)?ee(pe,4):0,pe=_e(pe)?ee(pe,4):0,Ce=b.Qa,Ue=0;4>Ue;++Ue){if(Ce.Cb){var Fe=Ce.Zb[Ue];Ce.Fb||(Fe+=U)}else{if(0<Ue){b.pb[Ue]=b.pb[0];continue}Fe=U}var Me=b.pb[Ue];Me.Sc[0]=Cs[Hn(Fe+re,127)],Me.Sc[1]=Is[Hn(Fe+0,127)],Me.Eb[0]=2*Cs[Hn(Fe+G,127)],Me.Eb[1]=101581*Is[Hn(Fe+de,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Cs[Hn(Fe+ye,117)],Me.Qc[1]=Is[Hn(Fe+pe,127)],Me.lc=Fe+pe}if(!oe.Rb)return er(b,4,"Not a key frame.");for(_e(ae),oe=b.Pa,U=0;4>U;++U){for(re=0;8>re;++re)for(G=0;3>G;++G)for(de=0;11>de;++de)ye=ie(ae,vr[U][re][G][de])?W(ae,8):Sv[U][re][G][de],oe.Wc[U][re].Yb[G][de]=ye;for(re=0;17>re;++re)oe.Xc[U][re]=oe.Wc[U][_n[re]]}return b.kc=_e(ae),b.kc&&(b.Bd=W(ae,8)),b.cb=1}function Bc(b,T,U,G,re,ae,oe){var de=T[re].Yb[U];for(U=0;16>re;++re){if(!ie(b,de[U+0]))return re;for(;!ie(b,de[U+1]);)if(de=T[++re].Yb[0],U=0,re==16)return 16;var pe=T[re+1].Yb;if(ie(b,de[U+2])){var ye=b,Ce=0;if(ie(ye,(Fe=de)[(Ue=U)+3]))if(ie(ye,Fe[Ue+6])){for(de=0,Ue=2*(Ce=ie(ye,Fe[Ue+8]))+(Fe=ie(ye,Fe[Ue+9+Ce])),Ce=0,Fe=Av[Ue];Fe[de];++de)Ce+=Ce+ie(ye,Fe[de]);Ce+=3+(8<<Ue)}else ie(ye,Fe[Ue+7])?(Ce=7+2*ie(ye,165),Ce+=ie(ye,145)):Ce=5+ie(ye,159);else Ce=ie(ye,Fe[Ue+4])?3+ie(ye,Fe[Ue+5]):2;de=pe[2]}else Ce=1,de=pe[1];pe=oe+Dm[re],0>(ye=b).b&&me(ye);var Ue,Fe=ye.b,Me=(Ue=ye.Ca>>1)-(ye.I>>Fe)>>31;--ye.b,ye.Ca+=Me,ye.Ca|=1,ye.I-=(Ue+1&Me)<<Fe,ae[pe]=((Ce^Me)-Me)*G[(0<re)+0]}return 16}function qc(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Ul(b,T){if(b==null)return 0;if(T==null)return er(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!yi(b,T))return 0;if(e(b.cb),T.ac==null||T.ac(T)){T.ob&&(b.L=0);var U=td[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=T.v-U>>4,b.zb=T.j-U>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=T.o+15+U>>4,b.Hb=T.va+15+U>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var G=b.ed;for(U=0;4>U;++U){var re;if(b.Qa.Cb){var ae=b.Qa.Lb[U];b.Qa.Fb||(ae+=G.Tb)}else ae=G.Tb;for(re=0;1>=re;++re){var oe=b.gd[U][re],de=ae;if(G.Pc&&(de+=G.vd[0],re&&(de+=G.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<G.wb&&(pe=4<G.wb?pe>>2:pe>>1)>9-G.wb&&(pe=9-G.wb),1>pe&&(pe=1),oe.dd=pe,oe.tc=2*de+pe,oe.ld=40<=de?2:15<=de?1:0}else oe.tc=0;oe.La=re}}}U=0}else er(b,6,"Frame setup failed"),U=b.a;if(U=U==0){if(U){b.$c=0,0<b.Aa||(b.Ic=Ef);e:{U=b.Ic,G=4*(pe=b.za);var ye=32*pe,Ce=pe+1,Ue=0<b.L?pe*(0<b.Aa?2:1):0,Fe=(b.Aa==2?2:1)*pe;if((oe=G+832+(re=3*(16*U+td[b.L])/2*ye)+(ae=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=oe)U=0;else{if(oe>b.Vb){if(b.Vb=0,b.Ec=a(oe),b.Fc=0,b.Ec==null){U=er(b,1,"no memory during frame initialization.");break e}b.Vb=oe}oe=b.Ec,de=b.Fc,b.Ac=oe,b.Bc=de,de+=G,b.Gd=s(ye,Fl),b.Hd=0,b.rb=s(Ce+1,$s),b.sb=1,b.wa=Ue?s(Ue,zs):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=pe),e(!0),b.oc=oe,b.pc=de,de+=832,b.ya=s(Fe,Pa),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=pe),b.R=16*pe,b.B=8*pe,pe=(ye=td[b.L])*b.R,ye=ye/2*b.B,b.sa=oe,b.ta=de+pe,b.qa=b.sa,b.ra=b.ta+16*U*b.R+ye,b.Ha=b.qa,b.Ia=b.ra+8*U*b.B+ye,b.$c=0,de+=re,b.mb=ae?oe:null,b.nb=ae?de:null,e(de+ae<=b.Fc+b.Vb),qc(b),i(b.Ac,b.Bc,0,G),U=1}}if(U){if(T.ka=0,T.y=b.sa,T.O=b.ta,T.f=b.qa,T.N=b.ra,T.ea=b.Ha,T.Vd=b.Ia,T.fa=b.R,T.Rc=b.B,T.F=null,T.J=0,!Yu){for(U=-255;255>=U;++U)Nr[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)ro[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)nc[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)cl[255+U]=0>U?0:255<U?255:U;Yu=1}eo=_o,to=Jo,Wc=Xo,ta=Tn,_i=bo,gr=Gs,no=$l,Hu=Js,Gu=Hl,os=Hc,Zl=So,ll=tl,ec=Gl,Wu=Eo,Kc=Ks,tc=ga,Ku=kr,ls=el,Ur[0]=Oa,Ur[1]=vf,Ur[2]=pa,Ur[3]=qu,Ur[4]=zc,Ur[5]=Xi,Ur[6]=Li,Ur[7]=Zo,Ur[8]=ma,Ur[9]=_s,xa[0]=as,xa[1]=Bu,xa[2]=is,xa[3]=Bl,xa[4]=jn,xa[5]=Vl,xa[6]=Qo,io[0]=Da,io[1]=Vc,io[2]=zl,io[3]=ja,io[4]=Vn,io[5]=wo,io[6]=ti,U=1}else U=0}U&&(U=(function(Me,lt){for(Me.M=0;Me.M<Me.Va;++Me.M){var Xe,Ie=Me.Jc[Me.M&Me.Xb],Pe=Me.m,at=Me;for(Xe=0;Xe<at.za;++Xe){var ft=Pe,it=at,Nt=it.Ac,_t=it.Bc+4*Xe,Lt=it.zc,wt=it.ya[it.aa+Xe];if(it.Qa.Bb?wt.$b=ie(ft,it.Pa.jb[0])?2+ie(ft,it.Pa.jb[2]):ie(ft,it.Pa.jb[1]):wt.$b=0,it.kc&&(wt.Ad=ie(ft,it.Bd)),wt.Za=!ie(ft,145)+0,wt.Za){var Un=wt.Ob,wn=0;for(it=0;4>it;++it){var Cn,rn=Lt[0+it];for(Cn=0;4>Cn;++Cn){rn=Bi[Nt[_t+Cn]][rn];for(var Qn=Rh[ie(ft,rn[0])];0<Qn;)Qn=Rh[2*Qn+ie(ft,rn[Qn])];rn=-Qn,Nt[_t+Cn]=rn}r(Un,wn,Nt,_t,4),wn+=4,Lt[0+it]=rn}}else rn=ie(ft,156)?ie(ft,128)?1:3:ie(ft,163)?2:0,wt.Ob[0]=rn,i(Nt,_t,rn,4),i(Lt,0,rn,4);wt.Dd=ie(ft,142)?ie(ft,114)?ie(ft,183)?1:3:2:0}if(at.m.Ka)return er(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(at=Ie,ft=(Pe=Me).rb[Pe.sb-1],Nt=Pe.rb[Pe.sb+Pe.ja],Xe=Pe.ya[Pe.aa+Pe.ja],_t=Pe.kc?Xe.Ad:0)ft.la=Nt.la=0,Xe.Za||(ft.Na=Nt.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var Gn,Gt;if(ft=Nt,Nt=at,_t=Pe.Pa.Xc,Lt=Pe.ya[Pe.aa+Pe.ja],wt=Pe.pb[Lt.$b],it=Lt.ad,Un=0,wn=Pe.rb[Pe.sb-1],rn=Cn=0,i(it,Un,0,384),Lt.Za)var sr=0,wi=_t[3];else{Qn=a(16);var Br=ft.Na+wn.Na;if(Br=cs(Nt,_t[1],Br,wt.Eb,0,Qn,0),ft.Na=wn.Na=(0<Br)+0,1<Br)eo(Qn,0,it,Un);else{var ia=Qn[0]+3>>3;for(Qn=0;256>Qn;Qn+=16)it[Un+Qn]=ia}sr=1,wi=_t[0]}var Mn=15&ft.la,zi=15&wn.la;for(Qn=0;4>Qn;++Qn){var Ba=1&zi;for(ia=Gt=0;4>ia;++ia)Mn=Mn>>1|(Ba=(Br=cs(Nt,wi,Br=Ba+(1&Mn),wt.Sc,sr,it,Un))>sr)<<7,Gt=Gt<<2|(3<Br?3:1<Br?2:it[Un+0]!=0),Un+=16;Mn>>=4,zi=zi>>1|Ba<<7,Cn=(Cn<<8|Gt)>>>0}for(wi=Mn,sr=zi>>4,Gn=0;4>Gn;Gn+=2){for(Gt=0,Mn=ft.la>>4+Gn,zi=wn.la>>4+Gn,Qn=0;2>Qn;++Qn){for(Ba=1&zi,ia=0;2>ia;++ia)Br=Ba+(1&Mn),Mn=Mn>>1|(Ba=0<(Br=cs(Nt,_t[2],Br,wt.Qc,0,it,Un)))<<3,Gt=Gt<<2|(3<Br?3:1<Br?2:it[Un+0]!=0),Un+=16;Mn>>=2,zi=zi>>1|Ba<<5}rn|=Gt<<4*Gn,wi|=Mn<<4<<Gn,sr|=(240&zi)<<Gn}ft.la=wi,wn.la=sr,Lt.Hc=Cn,Lt.Gc=rn,Lt.ia=43690&rn?0:wt.ia,_t=!(Cn|rn)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Xe.$b][Xe.Za],Pe.wa[Pe.Y+Pe.ja].La|=!_t),at.Ka)return er(Me,7,"Premature end-of-file encountered.")}if(qc(Me),Pe=lt,at=1,Xe=(Ie=Me).D,ft=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(Xe.M=Ie.M,Xe.uc=ft,Qs(Ie,Xe),at=1,Xe=(Gt=Ie.D).Nb,ft=(rn=td[Ie.L])*Ie.R,Nt=rn/2*Ie.B,Qn=16*Xe*Ie.R,ia=8*Xe*Ie.B,_t=Ie.sa,Lt=Ie.ta-ft+Qn,wt=Ie.qa,it=Ie.ra-Nt+ia,Un=Ie.Ha,wn=Ie.Ia-Nt+ia,zi=(Mn=Gt.M)==0,Cn=Mn>=Ie.Va-1,Ie.Aa==2&&Qs(Ie,Gt),Gt.uc)for(Ba=(Br=Ie).D.M,e(Br.D.uc),Gt=Br.yb;Gt<Br.Hb;++Gt){sr=Gt,wi=Ba;var ci=(qr=(Pr=Br).D).Nb;Gn=Pr.R;var qr=qr.wa[qr.Y+sr],Ai=Pr.sa,us=Pr.ta+16*ci*Gn+16*sr,ks=qr.dd,ni=qr.tc;if(ni!=0)if(e(3<=ni),Pr.L==1)0<sr&&tc(Ai,us,Gn,ni+4),qr.La&&ls(Ai,us,Gn,ni),0<wi&&Kc(Ai,us,Gn,ni+4),qr.La&&Ku(Ai,us,Gn,ni);else{var Xr=Pr.B,Si=Pr.qa,ds=Pr.ra+8*ci*Xr+8*sr,Io=Pr.Ha,Pr=Pr.Ia+8*ci*Xr+8*sr;ci=qr.ld,0<sr&&(Hu(Ai,us,Gn,ni+4,ks,ci),os(Si,ds,Io,Pr,Xr,ni+4,ks,ci)),qr.La&&(ll(Ai,us,Gn,ni,ks,ci),Wu(Si,ds,Io,Pr,Xr,ni,ks,ci)),0<wi&&(no(Ai,us,Gn,ni+4,ks,ci),Gu(Si,ds,Io,Pr,Xr,ni+4,ks,ci)),qr.La&&(Zl(Ai,us,Gn,ni,ks,ci),ec(Si,ds,Io,Pr,Xr,ni,ks,ci))}}if(Ie.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Gt=16*Mn,Mn=16*(Mn+1),zi?(Pe.y=Ie.sa,Pe.O=Ie.ta+Qn,Pe.f=Ie.qa,Pe.N=Ie.ra+ia,Pe.ea=Ie.Ha,Pe.W=Ie.Ia+ia):(Gt-=rn,Pe.y=_t,Pe.O=Lt,Pe.f=wt,Pe.N=it,Pe.ea=Un,Pe.W=wn),Cn||(Mn-=rn),Mn>Pe.o&&(Mn=Pe.o),Pe.F=null,Pe.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&Gt<Mn&&(Pe.J=rl(Ie,Pe,Gt,Mn-Gt),Pe.F=Ie.mb,Pe.F==null&&Pe.F.length==0)){at=er(Ie,3,"Could not decode alpha data.");break e}Gt<Pe.j&&(rn=Pe.j-Gt,Gt=Pe.j,e(!(1&rn)),Pe.O+=Ie.R*rn,Pe.N+=Ie.B*(rn>>1),Pe.W+=Ie.B*(rn>>1),Pe.F!=null&&(Pe.J+=Pe.width*rn)),Gt<Mn&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Gt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=Mn-Gt,at=Pe.put(Pe))}Xe+1!=Ie.Ic||Cn||(r(Ie.sa,Ie.ta-ft,_t,Lt+16*Ie.R,ft),r(Ie.qa,Ie.ra-Nt,wt,it+8*Ie.B,Nt),r(Ie.Ha,Ie.Ia-Nt,Un,wn+8*Ie.B,Nt))}if(!at)return er(Me,6,"Output aborted.")}return 1})(b,T)),T.bc!=null&&T.bc(T),U&=1}return U?(b.cb=0,U):0}function ha(b,T,U,G,re){re=b[T+U+32*G]+(re>>3),b[T+U+32*G]=-256&re?0>re?0:255:re}function Hs(b,T,U,G,re,ae){ha(b,T,0,U,G+re),ha(b,T,1,U,G+ae),ha(b,T,2,U,G-ae),ha(b,T,3,U,G-re)}function Fr(b){return(20091*b>>16)+b}function ur(b,T,U,G){var re,ae=0,oe=a(16);for(re=0;4>re;++re){var de=b[T+0]+b[T+8],pe=b[T+0]-b[T+8],ye=(35468*b[T+4]>>16)-Fr(b[T+12]),Ce=Fr(b[T+4])+(35468*b[T+12]>>16);oe[ae+0]=de+Ce,oe[ae+1]=pe+ye,oe[ae+2]=pe-ye,oe[ae+3]=de-Ce,ae+=4,T++}for(re=ae=0;4>re;++re)de=(b=oe[ae+0]+4)+oe[ae+8],pe=b-oe[ae+8],ye=(35468*oe[ae+4]>>16)-Fr(oe[ae+12]),ha(U,G,0,0,de+(Ce=Fr(oe[ae+4])+(35468*oe[ae+12]>>16))),ha(U,G,1,0,pe+ye),ha(U,G,2,0,pe-ye),ha(U,G,3,0,de-Ce),ae++,G+=32}function Gs(b,T,U,G){var re=b[T+0]+4,ae=35468*b[T+4]>>16,oe=Fr(b[T+4]),de=35468*b[T+1]>>16;Hs(U,G,0,re+oe,b=Fr(b[T+1]),de),Hs(U,G,1,re+ae,b,de),Hs(U,G,2,re-ae,b,de),Hs(U,G,3,re-oe,b,de)}function Jo(b,T,U,G,re){ur(b,T,U,G),re&&ur(b,T+16,U,G+4)}function Xo(b,T,U,G){to(b,T+0,U,G,1),to(b,T+32,U,G+128,1)}function Tn(b,T,U,G){var re;for(b=b[T+0]+4,re=0;4>re;++re)for(T=0;4>T;++T)ha(U,G,T,re,b)}function bo(b,T,U,G){b[T+0]&&ta(b,T+0,U,G),b[T+16]&&ta(b,T+16,U,G+4),b[T+32]&&ta(b,T+32,U,G+128),b[T+48]&&ta(b,T+48,U,G+128+4)}function _o(b,T,U,G){var re,ae=a(16);for(re=0;4>re;++re){var oe=b[T+0+re]+b[T+12+re],de=b[T+4+re]+b[T+8+re],pe=b[T+4+re]-b[T+8+re],ye=b[T+0+re]-b[T+12+re];ae[0+re]=oe+de,ae[8+re]=oe-de,ae[4+re]=ye+pe,ae[12+re]=ye-pe}for(re=0;4>re;++re)oe=(b=ae[0+4*re]+3)+ae[3+4*re],de=ae[1+4*re]+ae[2+4*re],pe=ae[1+4*re]-ae[2+4*re],ye=b-ae[3+4*re],U[G+0]=oe+de>>3,U[G+16]=ye+pe>>3,U[G+32]=oe-de>>3,U[G+48]=ye-pe>>3,G+=64}function Ji(b,T,U){var G,re=T-32,ae=na,oe=255-b[re-1];for(G=0;G<U;++G){var de,pe=ae,ye=oe+b[T-1];for(de=0;de<U;++de)b[T+de]=pe[ye+b[re+de]];T+=32}}function vf(b,T){Ji(b,T,4)}function Vc(b,T){Ji(b,T,8)}function Bu(b,T){Ji(b,T,16)}function is(b,T){var U;for(U=0;16>U;++U)r(b,T+32*U,b,T-32,16)}function Bl(b,T){var U;for(U=16;0<U;--U)i(b,T,b[T-1],16),T+=32}function ql(b,T,U){var G;for(G=0;16>G;++G)i(T,U+32*G,b,16)}function as(b,T){var U,G=16;for(U=0;16>U;++U)G+=b[T-1+32*U]+b[T+U-32];ql(G>>5,b,T)}function jn(b,T){var U,G=8;for(U=0;16>U;++U)G+=b[T-1+32*U];ql(G>>4,b,T)}function Vl(b,T){var U,G=8;for(U=0;16>U;++U)G+=b[T+U-32];ql(G>>4,b,T)}function Qo(b,T){ql(128,b,T)}function Ut(b,T,U){return b+2*T+U+2>>2}function pa(b,T){var U,G=T-32;for(G=new Uint8Array([Ut(b[G-1],b[G+0],b[G+1]),Ut(b[G+0],b[G+1],b[G+2]),Ut(b[G+1],b[G+2],b[G+3]),Ut(b[G+2],b[G+3],b[G+4])]),U=0;4>U;++U)r(b,T+32*U,G,0,G.length)}function qu(b,T){var U=b[T-1],G=b[T-1+32],re=b[T-1+64],ae=b[T-1+96];Ae(b,T+0,16843009*Ut(b[T-1-32],U,G)),Ae(b,T+32,16843009*Ut(U,G,re)),Ae(b,T+64,16843009*Ut(G,re,ae)),Ae(b,T+96,16843009*Ut(re,ae,ae))}function Oa(b,T){var U,G=4;for(U=0;4>U;++U)G+=b[T+U-32]+b[T-1+32*U];for(G>>=3,U=0;4>U;++U)i(b,T+32*U,G,4)}function zc(b,T){var U=b[T-1+0],G=b[T-1+32],re=b[T-1+64],ae=b[T-1-32],oe=b[T+0-32],de=b[T+1-32],pe=b[T+2-32],ye=b[T+3-32];b[T+0+96]=Ut(G,re,b[T-1+96]),b[T+1+96]=b[T+0+64]=Ut(U,G,re),b[T+2+96]=b[T+1+64]=b[T+0+32]=Ut(ae,U,G),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=Ut(oe,ae,U),b[T+3+64]=b[T+2+32]=b[T+1+0]=Ut(de,oe,ae),b[T+3+32]=b[T+2+0]=Ut(pe,de,oe),b[T+3+0]=Ut(ye,pe,de)}function Li(b,T){var U=b[T+1-32],G=b[T+2-32],re=b[T+3-32],ae=b[T+4-32],oe=b[T+5-32],de=b[T+6-32],pe=b[T+7-32];b[T+0+0]=Ut(b[T+0-32],U,G),b[T+1+0]=b[T+0+32]=Ut(U,G,re),b[T+2+0]=b[T+1+32]=b[T+0+64]=Ut(G,re,ae),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=Ut(re,ae,oe),b[T+3+32]=b[T+2+64]=b[T+1+96]=Ut(ae,oe,de),b[T+3+64]=b[T+2+96]=Ut(oe,de,pe),b[T+3+96]=Ut(de,pe,pe)}function Xi(b,T){var U=b[T-1+0],G=b[T-1+32],re=b[T-1+64],ae=b[T-1-32],oe=b[T+0-32],de=b[T+1-32],pe=b[T+2-32],ye=b[T+3-32];b[T+0+0]=b[T+1+64]=ae+oe+1>>1,b[T+1+0]=b[T+2+64]=oe+de+1>>1,b[T+2+0]=b[T+3+64]=de+pe+1>>1,b[T+3+0]=pe+ye+1>>1,b[T+0+96]=Ut(re,G,U),b[T+0+64]=Ut(G,U,ae),b[T+0+32]=b[T+1+96]=Ut(U,ae,oe),b[T+1+32]=b[T+2+96]=Ut(ae,oe,de),b[T+2+32]=b[T+3+96]=Ut(oe,de,pe),b[T+3+32]=Ut(de,pe,ye)}function Zo(b,T){var U=b[T+0-32],G=b[T+1-32],re=b[T+2-32],ae=b[T+3-32],oe=b[T+4-32],de=b[T+5-32],pe=b[T+6-32],ye=b[T+7-32];b[T+0+0]=U+G+1>>1,b[T+1+0]=b[T+0+64]=G+re+1>>1,b[T+2+0]=b[T+1+64]=re+ae+1>>1,b[T+3+0]=b[T+2+64]=ae+oe+1>>1,b[T+0+32]=Ut(U,G,re),b[T+1+32]=b[T+0+96]=Ut(G,re,ae),b[T+2+32]=b[T+1+96]=Ut(re,ae,oe),b[T+3+32]=b[T+2+96]=Ut(ae,oe,de),b[T+3+64]=Ut(oe,de,pe),b[T+3+96]=Ut(de,pe,ye)}function _s(b,T){var U=b[T-1+0],G=b[T-1+32],re=b[T-1+64],ae=b[T-1+96];b[T+0+0]=U+G+1>>1,b[T+2+0]=b[T+0+32]=G+re+1>>1,b[T+2+32]=b[T+0+64]=re+ae+1>>1,b[T+1+0]=Ut(U,G,re),b[T+3+0]=b[T+1+32]=Ut(G,re,ae),b[T+3+32]=b[T+1+64]=Ut(re,ae,ae),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=ae}function ma(b,T){var U=b[T-1+0],G=b[T-1+32],re=b[T-1+64],ae=b[T-1+96],oe=b[T-1-32],de=b[T+0-32],pe=b[T+1-32],ye=b[T+2-32];b[T+0+0]=b[T+2+32]=U+oe+1>>1,b[T+0+32]=b[T+2+64]=G+U+1>>1,b[T+0+64]=b[T+2+96]=re+G+1>>1,b[T+0+96]=ae+re+1>>1,b[T+3+0]=Ut(de,pe,ye),b[T+2+0]=Ut(oe,de,pe),b[T+1+0]=b[T+3+32]=Ut(U,oe,de),b[T+1+32]=b[T+3+64]=Ut(G,U,oe),b[T+1+64]=b[T+3+96]=Ut(re,G,U),b[T+1+96]=Ut(ae,re,G)}function zl(b,T){var U;for(U=0;8>U;++U)r(b,T+32*U,b,T-32,8)}function ja(b,T){var U;for(U=0;8>U;++U)i(b,T,b[T-1],8),T+=32}function Ma(b,T,U){var G;for(G=0;8>G;++G)i(T,U+32*G,b,8)}function Da(b,T){var U,G=8;for(U=0;8>U;++U)G+=b[T+U-32]+b[T-1+32*U];Ma(G>>4,b,T)}function wo(b,T){var U,G=4;for(U=0;8>U;++U)G+=b[T+U-32];Ma(G>>3,b,T)}function Vn(b,T){var U,G=4;for(U=0;8>U;++U)G+=b[T-1+32*U];Ma(G>>3,b,T)}function ti(b,T){Ma(128,b,T)}function La(b,T,U){var G=b[T-U],re=b[T+0],ae=3*(re-G)+ul[1020+b[T-2*U]-b[T+U]],oe=bf[112+(ae+4>>3)];b[T-U]=na[255+G+bf[112+(ae+3>>3)]],b[T+0]=na[255+re-oe]}function Ao(b,T,U,G){var re=b[T+0],ae=b[T+U];return Ui[255+b[T-2*U]-b[T-U]]>G||Ui[255+ae-re]>G}function Ws(b,T,U,G){return 4*Ui[255+b[T-U]-b[T+0]]+Ui[255+b[T-2*U]-b[T+U]]<=G}function $c(b,T,U,G,re){var ae=b[T-3*U],oe=b[T-2*U],de=b[T-U],pe=b[T+0],ye=b[T+U],Ce=b[T+2*U],Ue=b[T+3*U];return 4*Ui[255+de-pe]+Ui[255+oe-ye]>G?0:Ui[255+b[T-4*U]-ae]<=re&&Ui[255+ae-oe]<=re&&Ui[255+oe-de]<=re&&Ui[255+Ue-Ce]<=re&&Ui[255+Ce-ye]<=re&&Ui[255+ye-pe]<=re}function Ks(b,T,U,G){var re=2*G+1;for(G=0;16>G;++G)Ws(b,T+G,U,re)&&La(b,T+G,U)}function ga(b,T,U,G){var re=2*G+1;for(G=0;16>G;++G)Ws(b,T+G*U,1,re)&&La(b,T+G*U,1)}function kr(b,T,U,G){var re;for(re=3;0<re;--re)Ks(b,T+=4*U,U,G)}function el(b,T,U,G){var re;for(re=3;0<re;--re)ga(b,T+=4,U,G)}function Ys(b,T,U,G,re,ae,oe,de){for(ae=2*ae+1;0<re--;){if($c(b,T,U,ae,oe))if(Ao(b,T,U,de))La(b,T,U);else{var pe=b,ye=T,Ce=U,Ue=pe[ye-2*Ce],Fe=pe[ye-Ce],Me=pe[ye+0],lt=pe[ye+Ce],Xe=pe[ye+2*Ce],Ie=27*(at=ul[1020+3*(Me-Fe)+ul[1020+Ue-lt]])+63>>7,Pe=18*at+63>>7,at=9*at+63>>7;pe[ye-3*Ce]=na[255+pe[ye-3*Ce]+at],pe[ye-2*Ce]=na[255+Ue+Pe],pe[ye-Ce]=na[255+Fe+Ie],pe[ye+0]=na[255+Me-Ie],pe[ye+Ce]=na[255+lt-Pe],pe[ye+2*Ce]=na[255+Xe-at]}T+=G}}function Fi(b,T,U,G,re,ae,oe,de){for(ae=2*ae+1;0<re--;){if($c(b,T,U,ae,oe))if(Ao(b,T,U,de))La(b,T,U);else{var pe=b,ye=T,Ce=U,Ue=pe[ye-Ce],Fe=pe[ye+0],Me=pe[ye+Ce],lt=bf[112+((Xe=3*(Fe-Ue))+4>>3)],Xe=bf[112+(Xe+3>>3)],Ie=lt+1>>1;pe[ye-2*Ce]=na[255+pe[ye-2*Ce]+Ie],pe[ye-Ce]=na[255+Ue+Xe],pe[ye+0]=na[255+Fe-lt],pe[ye+Ce]=na[255+Me-Ie]}T+=G}}function $l(b,T,U,G,re,ae){Ys(b,T,U,1,16,G,re,ae)}function Js(b,T,U,G,re,ae){Ys(b,T,1,U,16,G,re,ae)}function So(b,T,U,G,re,ae){var oe;for(oe=3;0<oe;--oe)Fi(b,T+=4*U,U,1,16,G,re,ae)}function tl(b,T,U,G,re,ae){var oe;for(oe=3;0<oe;--oe)Fi(b,T+=4,1,U,16,G,re,ae)}function Hl(b,T,U,G,re,ae,oe,de){Ys(b,T,re,1,8,ae,oe,de),Ys(U,G,re,1,8,ae,oe,de)}function Hc(b,T,U,G,re,ae,oe,de){Ys(b,T,1,re,8,ae,oe,de),Ys(U,G,1,re,8,ae,oe,de)}function Gl(b,T,U,G,re,ae,oe,de){Fi(b,T+4*re,re,1,8,ae,oe,de),Fi(U,G+4*re,re,1,8,ae,oe,de)}function Eo(b,T,U,G,re,ae,oe,de){Fi(b,T+4,1,re,8,ae,oe,de),Fi(U,G+4,1,re,8,ae,oe,de)}function No(){this.ba=new Dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kl(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new M}function Vu(){this.xb=this.a=0,this.l=new Yo,this.ca=new Dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kl,this.ab=0,this.gc=s(4,nl),this.Oc=0}function ss(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function To(b,T,U,G,re,ae,oe){for(b=b==null?0:b[T+0],T=0;T<oe;++T)re[ae+T]=b+U[G+T]&255,b=re[ae+T]}function Yl(b,T,U,G,re,ae,oe){var de;if(b==null)To(null,null,U,G,re,ae,oe);else for(de=0;de<oe;++de)re[ae+de]=b[T+de]+U[G+de]&255}function Qi(b,T,U,G,re,ae,oe){if(b==null)To(null,null,U,G,re,ae,oe);else{var de,pe=b[T+0],ye=pe,Ce=pe;for(de=0;de<oe;++de)ye=Ce+(pe=b[T+de])-ye,Ce=U[G+de]+(-256&ye?0>ye?0:255:ye)&255,ye=pe,re[ae+de]=Ce}}function rl(b,T,U,G){var re=T.width,ae=T.o;if(e(b!=null&&T!=null),0>U||0>=G||U+G>ae)return null;if(!b.Cc){if(b.ga==null){var oe;if(b.ga=new ss,(oe=b.ga==null)||(oe=T.width*T.o,e(b.Gb.length==0),b.Gb=a(oe),b.Uc=0,b.Gb==null?oe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,oe=1),oe=!oe),!oe){oe=b.ga;var de=b.Fa,pe=b.P,ye=b.qc,Ce=b.mb,Ue=b.nb,Fe=pe+1,Me=ye-1,lt=oe.l;if(e(de!=null&&Ce!=null&&T!=null),dl[0]=null,dl[1]=To,dl[2]=Yl,dl[3]=Qi,oe.ca=Ce,oe.tb=Ue,oe.c=T.width,oe.i=T.height,e(0<oe.c&&0<oe.i),1>=ye)T=0;else if(oe.$a=de[pe+0]>>0&3,oe.Z=de[pe+0]>>2&3,oe.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||pe)T=0;else if(lt.put=gi,lt.ac=Gr,lt.bc=Oi,lt.ma=oe,lt.width=T.width,lt.height=T.height,lt.Da=T.Da,lt.v=T.v,lt.va=T.va,lt.j=T.j,lt.o=T.o,oe.$a)e:{e(oe.$a==1),T=Yr();t:for(;;){if(T==null){T=0;break e}if(e(oe!=null),oe.mc=T,T.c=oe.c,T.i=oe.i,T.l=oe.l,T.l.ma=oe,T.l.width=oe.c,T.l.height=oe.i,T.a=0,le(T.m,de,Fe,Me),!ns(oe.c,oe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&vi(T.s)?(oe.ic=1,de=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(de),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(oe.ic=0,T=Vs(T,oe.c)),!T))break t;T=1;break e}oe.mc=null,T=0}else T=Me>=oe.c*oe.i;oe=!T}if(oe)return null;b.ga.Lc!=1?b.Ga=0:G=ae-U}e(b.ga!=null),e(U+G<=ae);e:{if(T=(de=b.ga).c,ae=de.l.o,de.$a==0){if(Fe=b.rc,Me=b.Vc,lt=b.Fa,pe=b.P+1+U*T,ye=b.mb,Ce=b.nb+U*T,e(pe<=b.P+b.qc),de.Z!=0)for(e(dl[de.Z]!=null),oe=0;oe<G;++oe)dl[de.Z](Fe,Me,lt,pe,ye,Ce,T),Fe=ye,Me=Ce,Ce+=T,pe+=T;else for(oe=0;oe<G;++oe)r(ye,Ce,lt,pe,T),Fe=ye,Me=Ce,Ce+=T,pe+=T;b.rc=Fe,b.Vc=Me}else{if(e(de.mc!=null),T=U+G,e((oe=de.mc)!=null),e(T<=oe.i),oe.C>=T)T=1;else if(de.ic||De(),de.ic){de=oe.V,Fe=oe.Ba,Me=oe.c;var Xe=oe.i,Ie=(lt=1,pe=oe.$/Me,ye=oe.$%Me,Ce=oe.m,Ue=oe.s,oe.$),Pe=Me*Xe,at=Me*T,ft=Ue.wc,it=Ie<at?Er(Ue,ye,pe):null;e(Ie<=Pe),e(T<=Xe),e(vi(Ue));t:for(;;){for(;!Ce.h&&Ie<at;){if(ye&ft||(it=Er(Ue,ye,pe)),e(it!=null),te(Ce),256>(Xe=Wr(it.G[0],it.H[0],Ce)))de[Fe+Ie]=Xe,++Ie,++ye>=Me&&(ye=0,++pe<=T&&!(pe%16)&&ir(oe,pe));else{if(!(280>Xe)){lt=0;break t}Xe=da(Xe-256,Ce);var Nt,_t=Wr(it.G[4],it.H[4],Ce);if(te(Ce),!(Ie>=(_t=ji(Me,_t=da(_t,Ce)))&&Pe-Ie>=Xe)){lt=0;break t}for(Nt=0;Nt<Xe;++Nt)de[Fe+Ie+Nt]=de[Fe+Ie+Nt-_t];for(Ie+=Xe,ye+=Xe;ye>=Me;)ye-=Me,++pe<=T&&!(pe%16)&&ir(oe,pe);Ie<at&&ye&ft&&(it=Er(Ue,ye,pe))}e(Ce.h==H(Ce))}ir(oe,pe>T?T:pe);break t}!lt||Ce.h&&Ie<Pe?(lt=0,oe.a=Ce.h?5:3):oe.$=Ie,T=lt}else T=ei(oe,oe.V,oe.Ba,oe.c,oe.i,T,Ia);if(!T){G=0;break e}}U+G>=ae&&(b.Cc=1),G=1}if(!G)return null;if(b.Cc&&((G=b.ga)!=null&&(G.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*re}function P(b,T,U,G,re,ae){for(;0<re--;){var oe,de=b,pe=T+(U?1:0),ye=b,Ce=T+(U?0:3);for(oe=0;oe<G;++oe){var Ue=ye[Ce+4*oe];Ue!=255&&(Ue*=32897,de[pe+4*oe+0]=de[pe+4*oe+0]*Ue>>23,de[pe+4*oe+1]=de[pe+4*oe+1]*Ue>>23,de[pe+4*oe+2]=de[pe+4*oe+2]*Ue>>23)}T+=ae}}function ne(b,T,U,G,re){for(;0<G--;){var ae;for(ae=0;ae<U;++ae){var oe=b[T+2*ae+0],de=15&(ye=b[T+2*ae+1]),pe=4369*de,ye=(240&ye|ye>>4)*pe>>16;b[T+2*ae+0]=(240&oe|oe>>4)*pe>>16&240|(15&oe|oe<<4)*pe>>16>>4&15,b[T+2*ae+1]=240&ye|de}T+=re}}function we(b,T,U,G,re,ae,oe,de){var pe,ye,Ce=255;for(ye=0;ye<re;++ye){for(pe=0;pe<G;++pe){var Ue=b[T+pe];ae[oe+4*pe]=Ue,Ce&=Ue}T+=U,oe+=de}return Ce!=255}function Te(b,T,U,G,re){var ae;for(ae=0;ae<re;++ae)U[G+ae]=b[T+ae]>>8}function De(){Ua=P,bn=ne,Xn=we,Fn=Te}function Qe(b,T,U){j[b]=function(G,re,ae,oe,de,pe,ye,Ce,Ue,Fe,Me,lt,Xe,Ie,Pe,at,ft){var it,Nt=ft-1>>1,_t=de[pe+0]|ye[Ce+0]<<16,Lt=Ue[Fe+0]|Me[lt+0]<<16;e(G!=null);var wt=3*_t+Lt+131074>>2;for(T(G[re+0],255&wt,wt>>16,Xe,Ie),ae!=null&&(wt=3*Lt+_t+131074>>2,T(ae[oe+0],255&wt,wt>>16,Pe,at)),it=1;it<=Nt;++it){var Un=de[pe+it]|ye[Ce+it]<<16,wn=Ue[Fe+it]|Me[lt+it]<<16,Cn=_t+Un+Lt+wn+524296,rn=Cn+2*(Un+Lt)>>3;wt=rn+_t>>1,_t=(Cn=Cn+2*(_t+wn)>>3)+Un>>1,T(G[re+2*it-1],255&wt,wt>>16,Xe,Ie+(2*it-1)*U),T(G[re+2*it-0],255&_t,_t>>16,Xe,Ie+(2*it-0)*U),ae!=null&&(wt=Cn+Lt>>1,_t=rn+wn>>1,T(ae[oe+2*it-1],255&wt,wt>>16,Pe,at+(2*it-1)*U),T(ae[oe+2*it+0],255&_t,_t>>16,Pe,at+(2*it+0)*U)),_t=Un,Lt=wn}1&ft||(wt=3*_t+Lt+131074>>2,T(G[re+ft-1],255&wt,wt>>16,Xe,Ie+(ft-1)*U),ae!=null&&(wt=3*Lt+_t+131074>>2,T(ae[oe+ft-1],255&wt,wt>>16,Pe,at+(ft-1)*U)))}}function pt(){qi[Eh]=Jc,qi[ra]=Zu,qi[Nh]=Fm,qi[Ss]=kh,qi[_f]=sc,qi[Ju]=Co,qi[rc]=oc,qi[wf]=Zu,qi[Th]=kh,qi[Xu]=sc,qi[Ch]=Co}function At(b){return b&-16384?0>b?0:255:b>>Ph}function _(b,T){return At((19077*b>>8)+(26149*T>>8)-14234)}function $(b,T,U){return At((19077*b>>8)-(6419*T>>8)-(13320*U>>8)+8708)}function J(b,T){return At((19077*b>>8)+(33050*T>>8)-17685)}function fe(b,T,U,G,re){G[re+0]=_(b,U),G[re+1]=$(b,T,U),G[re+2]=J(b,T)}function Oe(b,T,U,G,re){G[re+0]=J(b,T),G[re+1]=$(b,T,U),G[re+2]=_(b,U)}function Be(b,T,U,G,re){var ae=$(b,T,U);T=ae<<3&224|J(b,T)>>3,G[re+0]=248&_(b,U)|ae>>5,G[re+1]=T}function mt(b,T,U,G,re){var ae=240&J(b,T)|15;G[re+0]=240&_(b,U)|$(b,T,U)>>4,G[re+1]=ae}function en(b,T,U,G,re){G[re+0]=255,fe(b,T,U,G,re+1)}function yn(b,T,U,G,re){Oe(b,T,U,G,re),G[re+3]=255}function Ht(b,T,U,G,re){fe(b,T,U,G,re),G[re+3]=255}function Hn(b,T){return 0>b?0:b>T?T:b}function ar(b,T,U){j[b]=function(G,re,ae,oe,de,pe,ye,Ce,Ue){for(var Fe=Ce+(-2&Ue)*U;Ce!=Fe;)T(G[re+0],ae[oe+0],de[pe+0],ye,Ce),T(G[re+1],ae[oe+0],de[pe+0],ye,Ce+U),re+=2,++oe,++pe,Ce+=2*U;1&Ue&&T(G[re+0],ae[oe+0],de[pe+0],ye,Ce)}}function Xs(b,T,U){return U==0?b==0?T==0?6:5:T==0?4:0:U}function xi(b,T,U,G,re){switch(b>>>30){case 3:to(T,U,G,re,0);break;case 2:gr(T,U,G,re);break;case 1:ta(T,U,G,re)}}function Qs(b,T){var U,G,re=T.M,ae=T.Nb,oe=b.oc,de=b.pc+40,pe=b.oc,ye=b.pc+584,Ce=b.oc,Ue=b.pc+600;for(U=0;16>U;++U)oe[de+32*U-1]=129;for(U=0;8>U;++U)pe[ye+32*U-1]=129,Ce[Ue+32*U-1]=129;for(0<re?oe[de-1-32]=pe[ye-1-32]=Ce[Ue-1-32]=129:(i(oe,de-32-1,127,21),i(pe,ye-32-1,127,9),i(Ce,Ue-32-1,127,9)),G=0;G<b.za;++G){var Fe=T.ya[T.aa+G];if(0<G){for(U=-1;16>U;++U)r(oe,de+32*U-4,oe,de+32*U+12,4);for(U=-1;8>U;++U)r(pe,ye+32*U-4,pe,ye+32*U+4,4),r(Ce,Ue+32*U-4,Ce,Ue+32*U+4,4)}var Me=b.Gd,lt=b.Hd+G,Xe=Fe.ad,Ie=Fe.Hc;if(0<re&&(r(oe,de-32,Me[lt].y,0,16),r(pe,ye-32,Me[lt].f,0,8),r(Ce,Ue-32,Me[lt].ea,0,8)),Fe.Za){var Pe=oe,at=de-32+16;for(0<re&&(G>=b.za-1?i(Pe,at,Me[lt].y[15],4):r(Pe,at,Me[lt+1].y,0,4)),U=0;4>U;U++)Pe[at+128+U]=Pe[at+256+U]=Pe[at+384+U]=Pe[at+0+U];for(U=0;16>U;++U,Ie<<=2)Pe=oe,at=de+Jr[U],Ur[Fe.Ob[U]](Pe,at),xi(Ie,Xe,16*+U,Pe,at)}else if(Pe=Xs(G,re,Fe.Ob[0]),xa[Pe](oe,de),Ie!=0)for(U=0;16>U;++U,Ie<<=2)xi(Ie,Xe,16*+U,oe,de+Jr[U]);for(U=Fe.Gc,Pe=Xs(G,re,Fe.Dd),io[Pe](pe,ye),io[Pe](Ce,Ue),Ie=Xe,Pe=pe,at=ye,255&(Fe=U>>0)&&(170&Fe?Wc(Ie,256,Pe,at):_i(Ie,256,Pe,at)),Fe=Ce,Ie=Ue,255&(U>>=8)&&(170&U?Wc(Xe,320,Fe,Ie):_i(Xe,320,Fe,Ie)),re<b.Ub-1&&(r(Me[lt].y,0,oe,de+480,16),r(Me[lt].f,0,pe,ye+224,8),r(Me[lt].ea,0,Ce,Ue+224,8)),U=8*ae*b.B,Me=b.sa,lt=b.ta+16*G+16*ae*b.R,Xe=b.qa,Fe=b.ra+8*G+U,Ie=b.Ha,Pe=b.Ia+8*G+U,U=0;16>U;++U)r(Me,lt+U*b.R,oe,de+32*U,16);for(U=0;8>U;++U)r(Xe,Fe+U*b.B,pe,ye+32*U,8),r(Ie,Pe+U*b.B,Ce,Ue+32*U,8)}}function Fa(b,T,U,G,re,ae,oe,de,pe){var ye=[0],Ce=[0],Ue=0,Fe=pe!=null?pe.kd:0,Me=pe??new Wl;if(b==null||12>U)return 7;Me.data=b,Me.w=T,Me.ha=U,T=[T],U=[U],Me.gb=[Me.gb];e:{var lt=T,Xe=U,Ie=Me.gb;if(e(b!=null),e(Xe!=null),e(Ie!=null),Ie[0]=0,12<=Xe[0]&&!n(b,lt[0],"RIFF")){if(n(b,lt[0]+8,"WEBP")){Ie=3;break e}var Pe=We(b,lt[0]+4);if(12>Pe||4294967286<Pe){Ie=3;break e}if(Fe&&Pe>Xe[0]-8){Ie=7;break e}Ie[0]=Pe,lt[0]+=12,Xe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Pe=0<Me.gb[0],U=U[0];;){e:{var at=b;Xe=T,Ie=U;var ft=ye,it=Ce,Nt=lt=[0];if((wt=Ue=[Ue])[0]=0,8>Ie[0])Ie=7;else{if(!n(at,Xe[0],"VP8X")){if(We(at,Xe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var _t=We(at,Xe[0]+8),Lt=1+Se(at,Xe[0]+12);if(2147483648<=Lt*(at=1+Se(at,Xe[0]+15))){Ie=3;break e}Nt!=null&&(Nt[0]=_t),ft!=null&&(ft[0]=Lt),it!=null&&(it[0]=at),Xe[0]+=18,Ie[0]-=18,wt[0]=1}Ie=0}}if(Ue=Ue[0],lt=lt[0],Ie!=0)return Ie;if(Xe=!!(2&lt),!Pe&&Ue)return 3;if(ae!=null&&(ae[0]=!!(16&lt)),oe!=null&&(oe[0]=Xe),de!=null&&(de[0]=0),oe=ye[0],lt=Ce[0],Ue&&Xe&&pe==null){Ie=0;break}if(4>U){Ie=7;break}if(Pe&&Ue||!Pe&&!Ue&&!n(b,T[0],"ALPH")){U=[U],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{_t=b,Ie=T,Pe=U;var wt=Me.gb;ft=Me.na,it=Me.P,Nt=Me.Sa,Lt=22,e(_t!=null),e(Pe!=null),at=Ie[0];var Un=Pe[0];for(e(ft!=null),e(Nt!=null),ft[0]=null,it[0]=null,Nt[0]=0;;){if(Ie[0]=at,Pe[0]=Un,8>Un){Ie=7;break e}var wn=We(_t,at+4);if(4294967286<wn){Ie=3;break e}var Cn=8+wn+1&-2;if(Lt+=Cn,0<wt&&Lt>wt){Ie=3;break e}if(!n(_t,at,"VP8 ")||!n(_t,at,"VP8L")){Ie=0;break e}if(Un[0]<Cn){Ie=7;break e}n(_t,at,"ALPH")||(ft[0]=_t,it[0]=at+8,Nt[0]=wn),at+=Cn,Un-=Cn}}if(U=U[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ie!=0)break}U=[U],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(wt=b,Ie=T,Pe=U,ft=Me.gb[0],it=Me.Ja,Nt=Me.xa,_t=Ie[0],at=!n(wt,_t,"VP8 "),Lt=!n(wt,_t,"VP8L"),e(wt!=null),e(Pe!=null),e(it!=null),e(Nt!=null),8>Pe[0])Ie=7;else{if(at||Lt){if(wt=We(wt,_t+4),12<=ft&&wt>ft-12){Ie=3;break e}if(Fe&&wt>Pe[0]-8){Ie=7;break e}it[0]=wt,Ie[0]+=8,Pe[0]-=8,Nt[0]=Lt}else Nt[0]=5<=Pe[0]&&wt[_t+0]==47&&!(wt[_t+4]>>5),it[0]=Pe[0];Ie=0}if(U=U[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],T=T[0],Ie!=0)break;if(4294967286<Me.Ja)return 3;if(de==null||Xe||(de[0]=Me.xa?2:1),oe=[oe],lt=[lt],Me.xa){if(5>U){Ie=7;break}de=oe,Fe=lt,Xe=ae,b==null||5>U?b=0:5<=U&&b[T+0]==47&&!(b[T+4]>>5)?(Pe=[0],wt=[0],ft=[0],le(it=new O,b,T,U),kt(it,Pe,wt,ft)?(de!=null&&(de[0]=Pe[0]),Fe!=null&&(Fe[0]=wt[0]),Xe!=null&&(Xe[0]=ft[0]),b=1):b=0):b=0}else{if(10>U){Ie=7;break}de=lt,b==null||10>U||!fa(b,T+3,U-3)?b=0:(Fe=b[T+0]|b[T+1]<<8|b[T+2]<<16,Xe=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Fe||3<(Fe>>1&7)||!(Fe>>4&1)||Fe>>5>=Me.Ja||!Xe||!b?b=0:(oe&&(oe[0]=Xe),de&&(de[0]=b),b=1))}if(!b||(oe=oe[0],lt=lt[0],Ue&&(ye[0]!=oe||Ce[0]!=lt)))return 3;pe!=null&&(pe[0]=Me,pe.offset=T-pe.w,e(4294967286>T-pe.w),e(pe.offset==pe.ha-U));break}return Ie==0||Ie==7&&Ue&&pe==null?(ae!=null&&(ae[0]|=Me.na!=null&&0<Me.na.length),G!=null&&(G[0]=oe),re!=null&&(re[0]=lt),0):Ie}function il(b,T,U){var G=T.width,re=T.height,ae=0,oe=0,de=G,pe=re;if(T.Da=b!=null&&0<b.Da,T.Da&&(de=b.cd,pe=b.bd,ae=b.v,oe=b.j,11>U||(ae&=-2,oe&=-2),0>ae||0>oe||0>=de||0>=pe||ae+de>G||oe+pe>re))return 0;if(T.v=ae,T.j=oe,T.va=ae+de,T.o=oe+pe,T.U=de,T.T=pe,T.da=b!=null&&0<b.da,T.da){if(!ut(de,pe,U=[b.ib],ae=[b.hb]))return 0;T.ib=U[0],T.hb=ae[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*G/4&&T.hb<3*re/4,T.Kb=0),1}function yf(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function al(b,T,U,G){if(G==null||0>=b||0>=T)return 2;if(U!=null){if(U.Da){var re=U.cd,ae=U.bd,oe=-2&U.v,de=-2&U.j;if(0>oe||0>de||0>=re||0>=ae||oe+re>b||de+ae>T)return 2;b=re,T=ae}if(U.da){if(!ut(b,T,re=[U.ib],ae=[U.hb]))return 2;b=re[0],T=ae[0]}}G.width=b,G.height=T;e:{var pe=G.width,ye=G.height;if(b=G.S,0>=pe||0>=ye||!(b>=Eh&&13>b))b=2;else{if(0>=G.Rd&&G.sd==null){oe=ae=re=T=0;var Ce=(de=pe*jh[b])*ye;if(11>b||(ae=(ye+1)/2*(T=(pe+1)/2),b==12&&(oe=(re=pe)*ye)),(ye=a(Ce+2*ae+oe))==null){b=1;break e}G.sd=ye,11>b?((pe=G.f.RGBA).eb=ye,pe.fb=0,pe.A=de,pe.size=Ce):((pe=G.f.kb).y=ye,pe.O=0,pe.fa=de,pe.Fd=Ce,pe.f=ye,pe.N=0+Ce,pe.Ab=T,pe.Cd=ae,pe.ea=ye,pe.W=0+Ce+ae,pe.Db=T,pe.Ed=ae,b==12&&(pe.F=ye,pe.J=0+Ce+2*ae),pe.Tc=oe,pe.lb=re)}if(T=1,re=G.S,ae=G.width,oe=G.height,re>=Eh&&13>re)if(11>re)b=G.f.RGBA,T&=(de=Math.abs(b.A))*(oe-1)+ae<=b.size,T&=de>=ae*jh[re],T&=b.eb!=null;else{b=G.f.kb,de=(ae+1)/2,Ce=(oe+1)/2,pe=Math.abs(b.fa),ye=Math.abs(b.Ab);var Ue=Math.abs(b.Db),Fe=Math.abs(b.lb),Me=Fe*(oe-1)+ae;T&=pe*(oe-1)+ae<=b.Fd,T&=ye*(Ce-1)+de<=b.Cd,T=(T&=Ue*(Ce-1)+de<=b.Ed)&pe>=ae&ye>=de&Ue>=de,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,re==12&&(T&=Fe>=ae,T&=Me<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||U!=null&&U.fd&&(b=yf(G)),b}var bi=64,Gc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Jl=24,Xl=32,zu=8,va=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(b){return b},j.Predictor2=function(b,T,U){return T[U+0]},j.Predictor3=function(b,T,U){return T[U+1]},j.Predictor4=function(b,T,U){return T[U-1]},j.Predictor5=function(b,T,U){return Ve(Ve(b,T[U+1]),T[U+0])},j.Predictor6=function(b,T,U){return Ve(b,T[U-1])},j.Predictor7=function(b,T,U){return Ve(b,T[U+0])},j.Predictor8=function(b,T,U){return Ve(T[U-1],T[U+0])},j.Predictor9=function(b,T,U){return Ve(T[U+0],T[U+1])},j.Predictor10=function(b,T,U){return Ve(Ve(b,T[U-1]),Ve(T[U+0],T[U+1]))},j.Predictor11=function(b,T,U){var G=T[U+0];return 0>=Et(G>>24&255,b>>24&255,(T=T[U-1])>>24&255)+Et(G>>16&255,b>>16&255,T>>16&255)+Et(G>>8&255,b>>8&255,T>>8&255)+Et(255&G,255&b,255&T)?G:b},j.Predictor12=function(b,T,U){var G=T[U+0];return(Ye((b>>24&255)+(G>>24&255)-((T=T[U-1])>>24&255))<<24|Ye((b>>16&255)+(G>>16&255)-(T>>16&255))<<16|Ye((b>>8&255)+(G>>8&255)-(T>>8&255))<<8|Ye((255&b)+(255&G)-(255&T)))>>>0},j.Predictor13=function(b,T,U){var G=T[U-1];return(ht((b=Ve(b,T[U+0]))>>24&255,G>>24&255)<<24|ht(b>>16&255,G>>16&255)<<16|ht(b>>8&255,G>>8&255)<<8|ht(b>>0&255,G>>0&255))>>>0};var wh=j.PredictorAdd0;j.PredictorAdd1=yt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var xf=j.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",(function(b){return b>>8&255}),(function(b){return b})),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(b){return b}),(function(b){return b>>8&255}));var Ah,ws=j.ColorIndexInverseTransform,$u=j.MapARGB,Sh=j.VP8LColorIndexInverseTransformAlpha,Zi=j.MapAlpha,As=j.VP8LPredictorsAdd=[];As.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var Ql,ya,ea,sl,Zs,ol,eo,to,gr,Wc,ta,_i,no,Hu,Gu,os,Zl,ll,ec,Wu,Kc,tc,Ku,ls,Ua,bn,Xn,Fn,Nr=a(511),ro=a(2041),nc=a(225),cl=a(767),Yu=0,ul=ro,bf=nc,na=cl,Ui=Nr,Eh=0,ra=1,Nh=2,Ss=3,_f=4,Ju=5,rc=6,wf=7,Th=8,Xu=9,Ch=10,Es=[2,3,7],Qu=[3,3,11],Yc=[280,256,256,256,40],Ih=[0,1,1,1,0],Af=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ns=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ts=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ic=8,Cs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Is=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cs=null,Av=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_n=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xa=[],Ur=[],io=[],ac=1,Lm=2,dl=[],qi=[];Qe("UpsampleRgbLinePair",fe,3),Qe("UpsampleBgrLinePair",Oe,3),Qe("UpsampleRgbaLinePair",Ht,4),Qe("UpsampleBgraLinePair",yn,4),Qe("UpsampleArgbLinePair",en,4),Qe("UpsampleRgba4444LinePair",mt,2),Qe("UpsampleRgb565LinePair",Be,2);var Jc=j.UpsampleRgbLinePair,Fm=j.UpsampleBgrLinePair,Zu=j.UpsampleRgbaLinePair,kh=j.UpsampleBgraLinePair,sc=j.UpsampleArgbLinePair,Co=j.UpsampleRgba4444LinePair,oc=j.UpsampleRgb565LinePair,Rs=16,ed=1<<Rs-1,Xc=-227,lc=482,Ph=6,cc=0,Vi=a(256),Oh=a(256),Ev=a(256),Xb=a(256),Qb=a(lc-Xc),Zb=a(lc-Xc);ar("YuvToRgbRow",fe,3),ar("YuvToBgrRow",Oe,3),ar("YuvToRgbaRow",Ht,4),ar("YuvToBgraRow",yn,4),ar("YuvToArgbRow",en,4),ar("YuvToRgba4444Row",mt,2),ar("YuvToRgb565Row",Be,2);var Jr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],td=[0,2,8],Sf=[8,7,6,4,4,2,2,2,1,1,1,1],Ef=1;this.WebPDecodeRGBA=function(b,T,U,G,re){var ae=ra,oe=new No,de=new Dn;oe.ba=de,de.S=ae,de.width=[de.width],de.height=[de.height];var pe=de.width,ye=de.height,Ce=new Sr;if(Ce==null||b==null)var Ue=2;else e(Ce!=null),Ue=Fa(b,T,U,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Ue!=0?pe=0:(pe!=null&&(pe[0]=Ce.width[0]),ye!=null&&(ye[0]=Ce.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],G!=null&&(G[0]=de.width),re!=null&&(re[0]=de.height);e:{if(G=new Yo,(re=new Wl).data=b,re.w=T,re.ha=U,re.kd=1,T=[0],e(re!=null),((b=Fa(re.data,re.w,re.ha,null,null,null,T,null,re))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(oe!=null),G.data=re.data,G.w=re.w+re.offset,G.ha=re.ha-re.offset,G.put=gi,G.ac=Gr,G.bc=Oi,G.ma=oe,re.xa){if((b=Yr())==null){oe=1;break e}if((function(Fe,Me){var lt=[0],Xe=[0],Ie=[0];t:for(;;){if(Fe==null)return 0;if(Me==null)return Fe.a=2,0;if(Fe.l=Me,Fe.a=0,le(Fe.m,Me.data,Me.w,Me.ha),!kt(Fe.m,lt,Xe,Ie)){Fe.a=3;break t}if(Fe.xb=Lm,Me.width=lt[0],Me.height=Xe[0],!ns(lt[0],Xe[0],1,Fe,null))break t;return 1}return e(Fe.a!=0),0})(b,G)){if(G=(T=al(G.width,G.height,oe.Oa,oe.ba))==0){t:{G=b;n:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((U=G.l)!=null),e((re=U.ma)!=null),G.xb!=0){if(G.ca=re.ba,G.tb=re.tb,e(G.ca!=null),!il(re.Oa,U,Ss)){G.a=2;break n}if(!Vs(G,U.width)||U.da)break n;if((U.da||Dt(G.ca.S))&&De(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&De()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!tt(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!ei(G,G.V,G.Ba,G.c,G.i,U.o,Ko))break n;re.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(T=b.a)}else T=b.a}else{if((b=new xo)==null){oe=1;break e}if(b.Fa=re.na,b.P=re.P,b.qc=re.Sa,yi(b,G)){if((T=al(G.width,G.height,oe.Oa,oe.ba))==0){if(b.Aa=0,U=oe.Oa,e((re=b)!=null),U!=null){if(0<(pe=0>(pe=U.Md)?0:100<pe?255:255*pe/100)){for(ye=Ce=0;4>ye;++ye)12>(Ue=re.pb[ye]).lc&&(Ue.ia=pe*Sf[0>Ue.lc?0:Ue.lc]>>3),Ce|=Ue.ia;Ce&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=U.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}Ul(b,G)||(T=b.a)}}else T=b.a}T==0&&oe.Oa!=null&&oe.Oa.fd&&(T=yf(oe.ba))}oe=T}ae=oe!=0?null:11>ae?de.f.RGBA.eb:de.f.kb.y}else ae=null;return ae};var jh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(j,V){for(var Y="",q=0;q<4;q++)Y+=String.fromCharCode(j[V++]);return Y}function h(j,V){return(j[V+0]<<0|j[V+1]<<8|j[V+2]<<16)>>>0}function m(j,V){return(j[V+0]<<0|j[V+1]<<8|j[V+2]<<16|j[V+3]<<24)>>>0}new c;var g=[0],y=[0],N=[],S=new c,A=t,C=(function(j,V){var Y={},q=0,M=!1,F=0,Q=0;if(Y.frames=[],!(function(K,H,Z,te){for(var me=0;me<te;me++)if(K[H+me]!=Z.charCodeAt(me))return!0;return!1})(j,V,"RIFF",4)){var se,W;for(m(j,V+=4),V+=8;V<j.length;){var ee=d(j,V),le=m(j,V+=4);V+=4;var xe=le+(1&le);switch(ee){case"VP8 ":case"VP8L":Y.frames[q]===void 0&&(Y.frames[q]={}),(O=Y.frames[q]).src_off=M?Q:V-8,O.src_size=F+le+8,q++,M&&(M=!1,F=0,Q=0);break;case"VP8X":(O=Y.header={}).feature_flags=j[V];var ve=V+4;O.canvas_width=1+h(j,ve),ve+=3,O.canvas_height=1+h(j,ve),ve+=3;break;case"ALPH":M=!0,F=xe+8,Q=V-8;break;case"ANIM":(O=Y.header).bgcolor=m(j,V),ve=V+4,O.loop_count=(se=j)[(W=ve)+0]<<0|se[W+1]<<8,ve+=2;break;case"ANMF":var ce,O;(O=Y.frames[q]={}).offset_x=2*h(j,V),V+=3,O.offset_y=2*h(j,V),V+=3,O.width=1+h(j,V),V+=3,O.height=1+h(j,V),V+=3,O.duration=h(j,V),V+=3,ce=j[V++],O.dispose=1&ce,O.blend=ce>>1&1}ee!="ANMF"&&(V+=xe)}return Y}})(A,0);C.response=A,C.rgbaoutput=!0,C.dataurl=!1;var I=C.header?C.header:null,k=C.frames?C.frames:null;if(I){I.loop_counter=I.loop_count,g=[I.canvas_height],y=[I.canvas_width];for(var B=0;B<k.length&&k[B].blend!=0;B++);}var L=k[0],z=S.WebPDecodeRGBA(A,L.src_off,L.src_size,y,g);L.rgba=z,L.imgwidth=y[0],L.imgheight=g[0];for(var D=0;D<y[0]*g[0]*4;D++)N[D]=z[D];return this.width=y,this.height=g,this.data=N,this}(function(t){var e=function(){return typeof fN=="function"},n=function(g,y,N,S){var A=4,C=s;switch(S){case t.image_compression.FAST:A=1,C=a;break;case t.image_compression.MEDIUM:A=6,C=l;break;case t.image_compression.SLOW:A=9,C=c}g=r(g,y,N,C);var I=fN(g,{level:A});return t.__addimage__.arrayBufferToBinaryString(I)},r=function(g,y,N,S){for(var A,C,I,k=g.length/y,B=new Uint8Array(g.length+k),L=h(),z=0;z<k;z+=1){if(I=z*y,A=g.subarray(I,I+y),S)B.set(S(A,N,C),I+z);else{for(var D,j=L.length,V=[];D<j;D+=1)V[D]=L[D](A,N,C);var Y=m(V.concat());B.set(V[Y],I+z)}C=A}return B},i=function(g){var y=Array.apply([],g);return y.unshift(0),y},a=function(g,y){var N,S=[],A=g.length;S[0]=1;for(var C=0;C<A;C+=1)N=g[C-y]||0,S[C+1]=g[C]-N+256&255;return S},s=function(g,y,N){var S,A=[],C=g.length;A[0]=2;for(var I=0;I<C;I+=1)S=N&&N[I]||0,A[I+1]=g[I]-S+256&255;return A},l=function(g,y,N){var S,A,C=[],I=g.length;C[0]=3;for(var k=0;k<I;k+=1)S=g[k-y]||0,A=N&&N[k]||0,C[k+1]=g[k]+256-(S+A>>>1)&255;return C},c=function(g,y,N){var S,A,C,I,k=[],B=g.length;k[0]=4;for(var L=0;L<B;L+=1)S=g[L-y]||0,A=N&&N[L]||0,C=N&&N[L-y]||0,I=d(S,A,C),k[L+1]=g[L]-I+256&255;return k},d=function(g,y,N){if(g===y&&y===N)return g;var S=Math.abs(y-N),A=Math.abs(g-N),C=Math.abs(g+y-N-N);return S<=A&&S<=C?g:A<=C?y:N},h=function(){return[i,a,s,l,c]},m=function(g){var y=g.map((function(N){return N.reduce((function(S,A){return S+Math.abs(A)}),0)}));return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(g,y,N,S){var A,C,I,k,B,L,z,D,j,V,Y,q,M,F,Q,se=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(I=new $de(g)).imgData,C=I.bits,A=I.colorSpace,B=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){j=(D=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,Y=new Uint8Array(j*I.colors),V=new Uint8Array(j);var ee,le=I.pixelBitlength-I.bits;for(F=0,Q=0;F<j;F++){for(M=D[F],ee=0;ee<le;)Y[Q++]=M>>>ee&255,ee+=I.bits;V[F]=M>>>ee&255}}if(I.bits===16){j=(D=new Uint32Array(I.decodePixels().buffer)).length,Y=new Uint8Array(j*(32/I.pixelBitlength)*I.colors),V=new Uint8Array(j*(32/I.pixelBitlength)),q=I.colors>1,F=0,Q=0;for(var xe=0;F<j;)M=D[F++],Y[Q++]=M>>>0&255,q&&(Y[Q++]=M>>>16&255,M=D[F++],Y[Q++]=M>>>0&255),V[xe++]=M>>>16&255;C=8}S!==t.image_compression.NONE&&e()?(g=n(Y,I.width*I.colors,I.colors,S),z=n(V,I.width,1,S)):(g=Y,z=V,se=void 0)}if(I.colorType===3&&(A=this.color_spaces.INDEXED,L=I.palette,I.transparency.indexed)){var ve=I.transparency.indexed,ce=0;for(F=0,j=ve.length;F<j;++F)ce+=ve[F];if((ce/=255)===j-1&&ve.indexOf(0)!==-1)k=[ve.indexOf(0)];else if(ce!==j){for(D=I.decodePixels(),V=new Uint8Array(D.length),F=0,j=D.length;F<j;F++)V[F]=ve[D[F]];z=n(V,I.width,1)}}var O=(function(K){var H;switch(K){case t.image_compression.FAST:H=11;break;case t.image_compression.MEDIUM:H=13;break;case t.image_compression.SLOW:H=14;break;default:H=12}return H})(S);return se===this.decode.FLATE_DECODE&&(W="/Predictor "+O+" "),W+="/Colors "+B+" /BitsPerComponent "+C+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:N,data:g,index:y,filter:se,decodeParameters:W,transparency:k,palette:L,sMask:z,predictor:O,width:I.width,height:I.height,bitsPerComponent:C,colorSpace:A}}}})($t.API),(function(t){t.processGIF89A=function(e,n,r,i){var a=new Hde(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},h=new AS(100).encode(d,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})($t.API),_l.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_l.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){br.log("bit decode error:"+n)}},_l.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},_l.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},_l.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},_l.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,d=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=t}},_l.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,d=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},_l.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},_l.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},_l.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new _l(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new AS(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}})($t.API),pD.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new pD(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new AS(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}})($t.API),$t.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],m=r[d+1],g=r[d+2],y=r[d+3];a[l++]=h,a[l++]=m,a[l++]=g,s[c++]=y}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},sp=$t.API,Iy=sp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=e.doKerning!==!1,g=0,y=t.length,N=0,S=l[0]||c,A=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=m&&cr(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/h:0,A.push((l[r]||S)/c+g)),N=r;return A},uD=sp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return sp.processArabic&&(t=sp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Iy.apply(this,arguments).reduce((function(a,s){return a+s}),0)},dD=function(t,e,n,r){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<n;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},fD=function(t,e,n){n||(n={});var r,i,a,s,l,c,d,h=[],m=[h],g=n.textIndent||0,y=0,N=0,S=t.split(" "),A=Iy.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var C=Array(c).join(" "),I=[];S.map((function(B){(B=B.split(/\s*\n/)).length>1?I=I.concat(B.map((function(L,z){return(z&&L.length?`
`:"")+L}))):I.push(B[0])})),S=I,c=uD.apply(this,[C,n])}for(a=0,s=S.length;a<s;a++){var k=0;if(r=S[a],c&&r[0]==`
`&&(r=r.substr(1),k=1),g+y+(N=(i=Iy.apply(this,[r,n])).reduce((function(B,L){return B+L}),0))>e||k){if(N>e){for(l=dD.apply(this,[r,i,e-(g+y),e]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);N=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(B,L){return B+L}),0)}else h=[r];m.push(h),g=N+c,y=A}else h.push(r),g+=y+N,y=A}return d=c?function(B,L){return(L?C:"")+B.join(" ")}:function(B){return B.join(" ")},m.map(d)},sp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(fD.apply(this,[r[l],s,a]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var g,y,N,S,A=["{"];for(var C in m){if(g=m[C],isNaN(parseInt(C,10))?y="'"+C+"'":(C=parseInt(C,10),y=(y=a(C).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof g=="number")g<0?(N=a(g).slice(3),S="-"):(N=a(g).slice(2),S=""),N=S+N.slice(0,-1)+r[N.slice(-1)];else{if(cr(g)!=="object")throw new Error("Don't know what to do with value type "+cr(g)+".");N=s(g)}A.push(y+N)}return A.push("}"),A.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,N,S,A={},C=1,I=A,k=[],B="",L="",z=m.length-1,D=1;D<z;D+=1)(S=m[D])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(k.push([I,N]),I={},N=void 0):S=="}"?((y=k.pop())[0][y[1]]=I,N=void 0,I=y[0]):S=="-"?C=-1:N===void 0?n.hasOwnProperty(S)?(B+=n[S],N=parseInt(B,16)*C,C=1,B=""):B+=S:n.hasOwnProperty(S)?(L+=n[S],I[N]=parseInt(L,16)*C,C=1,N=void 0,L=""):L+=S;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var g=m.font,y=h.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var N=d.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])})($t.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Yg(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})($t),(function(t){function e(){return(Jt.canvg?Promise.resolve(Jt.canvg):oN(()=>import("./index.es-DR1g__uq.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}$t.API.addSvgAsImage=function(n,r,i,a,s,l,c,d){if(isNaN(r)||isNaN(i))throw br.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw br.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then((function(N){return N.fromString(m,n,g)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(N){return N.render(g)})).then((function(){y.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,d)}))}})(),$t.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},$t.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,h=0,m=0;function g(N,S){var A,C=!1;for(A=0;A<N.length;A+=1)N[A]===S&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=l.length;for(m=0;m<y;m+=1)n[l[m]].value=n[l[m]].defaultValue,n[l[m]].explicitSet=!1}if(cr(t)==="object"){for(i in t)if(a=t[i],g(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(h=0;h<a[d].length;h+=1)typeof a[d][h]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var N,S=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?S.push("/"+N+" /"+n[N].value):S.push("/"+N+" "+n[N].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})($t.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,g=a.length;m<g;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,d,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(l=Object.keys(a).sort((function(y,N){return y-N}))).length;m<g;m++)s=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",N=0;N<g.length;N++)y+=String.fromCharCode(g[N]);var S=d();h({data:y,addLength1:!0,objectId:S}),c("endobj");var A=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var C=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+up(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var I=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+up(l.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+up(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+I+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);var N=d();h({data:g,addLength1:!0,objectId:N}),c("endobj");var S=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var A=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+up(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var C=0;C<l.metadata.hmtx.widths.length;C++)l.metadata.hmtx.widths[C]=parseInt(l.metadata.hmtx.widths[C]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+up(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,h=a.options||{},m=a.mutex||{},g=m.pdfEscape,y=m.activeFontKey,N=m.fonts,S=y,A="",C=0,I="",k=N[S].encoding;if(N[S].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:m};for(I=l,S=y,Array.isArray(l)&&(I=l[0]),C=0;C<I.length;C+=1)N[S].metadata.hasOwnProperty("cmap")&&(s=N[S].metadata.cmap.unicode.codeMap[I[C].charCodeAt(0)]),s||I[C].charCodeAt(0)<256&&N[S].metadata.hasOwnProperty("Unicode")?A+=I[C]:A+="";var B="";return parseInt(S.slice(1))<14||k==="WinAnsiEncoding"?B=g(A,S).split("").map((function(L){return L.charCodeAt(0).toString(16)})).join(""):k==="Identity-H"&&(B=n(A,N[S])),m.isHex=!0,{text:B,x:c,y:d,options:h,mutex:m}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})($t),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})($t.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,l,c,d,h,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,k=0;this.__bidiEngine__={};var B=function(q){var M=q.charCodeAt(),F=M>>8,Q=S[F];return Q!==void 0?m[256*Q+(255&M)]:F===252||F===253?"AL":C.test(F)?"L":F===8?"R":"N"},L=function(q){for(var M,F=0;F<q.length;F++){if((M=B(q.charAt(F)))==="L")return!1;if(M==="R")return!0}return!1},z=function(q,M,F,Q){var se,W,ee,le,xe=M[Q];switch(xe){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(xe="AN");break;case"AL":I=!0,xe="R";break;case"WS":xe="N";break;case"CS":Q<1||Q+1>=M.length||(se=F[Q-1])!=="EN"&&se!=="AN"||(W=M[Q+1])!=="EN"&&W!=="AN"?xe="N":I&&(W="AN"),xe=W===se?W:"N";break;case"ES":xe=(se=Q>0?F[Q-1]:"B")==="EN"&&Q+1<M.length&&M[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&F[Q-1]==="EN"){xe="EN";break}if(I){xe="N";break}for(ee=Q+1,le=M.length;ee<le&&M[ee]==="ET";)ee++;xe=ee<le&&M[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(le=M.length,ee=Q+1;ee<le&&M[ee]==="NSM";)ee++;if(ee<le){var ve=q[Q],ce=ve>=1425&&ve<=2303||ve===64286;if(se=M[ee],ce&&(se==="R"||se==="AL")){xe="R";break}}}xe=Q<1||(se=M[Q-1])==="B"?"N":F[Q-1];break;case"B":I=!1,i=!0,xe=k;break;case"S":a=!0,xe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":xe="N"}return xe},D=function(q,M,F){var Q=q.split("");return F&&j(Q,F,{hiLevel:k}),Q.reverse(),M&&M.reverse(),Q.join("")},j=function(q,M,F){var Q,se,W,ee,le,xe=-1,ve=q.length,ce=0,O=[],K=k?y:g,H=[];for(I=!1,i=!1,a=!1,se=0;se<ve;se++)H[se]=B(q[se]);for(W=0;W<ve;W++){if(le=ce,O[W]=z(q,H,O,W),Q=240&(ce=K[le][N[O[W]]]),ce&=15,M[W]=ee=K[ce][5],Q>0)if(Q===16){for(se=xe;se<W;se++)M[se]=1;xe=-1}else xe=-1;if(K[ce][6])xe===-1&&(xe=W);else if(xe>-1){for(se=xe;se<W;se++)M[se]=ee;xe=-1}H[W]==="B"&&(M[W]=0),F.hiLevel|=ee}a&&(function(Z,te,me){for(var _e=0;_e<me;_e++)if(Z[_e]==="S"){te[_e]=k;for(var ie=_e-1;ie>=0&&Z[ie]==="WS";ie--)te[ie]=k}})(H,M,ve)},V=function(q,M,F,Q,se){if(!(se.hiLevel<q)){if(q===1&&k===1&&!i)return M.reverse(),void(F&&F.reverse());for(var W,ee,le,xe,ve=M.length,ce=0;ce<ve;){if(Q[ce]>=q){for(le=ce+1;le<ve&&Q[le]>=q;)le++;for(xe=ce,ee=le-1;xe<ee;xe++,ee--)W=M[xe],M[xe]=M[ee],M[ee]=W,F&&(W=F[xe],F[xe]=F[ee],F[ee]=W);ce=le}ce++}}},Y=function(q,M,F){var Q=q.split(""),se={hiLevel:k};return F||(F=[]),j(Q,F,se),(function(W,ee,le){if(le.hiLevel!==0&&h)for(var xe,ve=0;ve<W.length;ve++)ee[ve]===1&&(xe=A.indexOf(W[ve]))>=0&&(W[ve]=A[xe+1])})(Q,F,se),V(2,Q,M,F,se),V(1,Q,M,F,se),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(q,M,F){if((function(se,W){if(W)for(var ee=0;ee<se.length;ee++)W[ee]=ee;l===void 0&&(l=L(se)),d===void 0&&(d=L(se))})(q,M),s||!c||d)if(s&&c&&l^d)k=l?1:0,q=D(q,M,F);else if(!s&&c&&d)k=l?1:0,q=Y(q,M,F),q=D(q,M);else if(!s||l||c||d){if(s&&!c&&l^d)q=D(q,M),l?(k=0,q=Y(q,M,F)):(k=1,q=Y(q,M,F),q=D(q,M));else if(s&&l&&!c&&d)k=1,q=Y(q,M,F),q=D(q,M);else if(!s&&!c&&l^d){var Q=h;l?(k=1,q=Y(q,M,F),k=0,h=!1,q=Y(q,M,F),h=Q):(k=0,q=Y(q,M,F),q=D(q,M),k=1,h=!1,q=Y(q,M,F),h=Q,q=D(q,M))}}else k=0,q=Y(q,M,F);else k=l?1:0,q=Y(q,M,F);return q},this.__bidiEngine__.setOptions=function(q){q&&(s=q.isInputVisual,c=q.isOutputVisual,l=q.isInputRtl,d=q.isOutputRtl,h=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),s=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})($t),$t.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Yd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new sfe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Gde(this.contents),this.head=new Kde(this),this.name=new Zde(this),this.cmap=new TB(this),this.toUnicode={},this.hhea=new Yde(this),this.maxp=new efe(this),this.hmtx=new tfe(this),this.post=new Xde(this),this.os2=new Jde(this),this.loca=new afe(this),this.glyf=new nfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Dl,Yd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),Gde=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,l,c,d,h,m,g,y,N,S;for(S in y=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(y)/c),s=Math.floor(m/c),h=16*y-m,(i=new Yd).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(s),i.writeShort(h),a=16*y,d=i.pos+a,l=null,N=[],n)for(g=n[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(d),i.writeInt(g.length),N=N.concat(g),S==="head"&&(l=d),d+=g.length;d%4;)N.push(0),d++;return i.write(N),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=CB.call(n);n.length%4;)n.push(0);for(a=new Yd(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),Wde={}.hasOwnProperty,Lc=function(t,e){for(var n in e)Wde.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Dl=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Kde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Yd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),mD=(function(){function t(e,n){var r,i,a,s,l,c,d,h,m,g,y,N,S,A,C,I,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,a=(function(){var B,L;for(L=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)L.push(e.readUInt16());return L})(),e.pos+=2,S=(function(){var B,L;for(L=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)L.push(e.readUInt16());return L})(),d=(function(){var B,L;for(L=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)L.push(e.readUInt16());return L})(),h=(function(){var B,L;for(L=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)L.push(e.readUInt16());return L})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var B,L;for(L=[],c=B=0;0<=i?B<i:B>i;c=0<=i?++B:--B)L.push(e.readUInt16());return L})(),c=C=0,k=a.length;C<k;c=++C)for(A=a[c],r=I=N=S[c];N<=A?I<=A:I>=A;r=N<=A?++I:--I)h[c]===0?s=r+d[c]:(s=l[h[c]/2+(r-N)-(g-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,a,s,l,c,d,h,m,g,y,N,S,A,C,I,k,B,L,z,D,j,V,Y,q,M,F,Q,se,W,ee,le,xe,ve,ce,O,K,H,Z,te,me,_e,ie,Ae,Re,Se;switch(Q=new Yd,s=Object.keys(e).sort((function(We,tt){return We-tt})),n){case"macroman":for(S=0,A=(function(){var We=[];for(N=0;N<256;++N)We.push(0);return We})(),I={0:0},a={},se=0,xe=s.length;se<xe;se++)I[ie=e[i=s[se]]]==null&&(I[ie]=++S),a[i]={old:e[i],new:I[e[i]]},A[i]=I[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(A),{charMap:a,subtable:Q.data,maxGlyphID:S+1};case"unicode":for(M=[],m=[],k=0,I={},r={},C=d=null,W=0,ve=s.length;W<ve;W++)I[L=e[i=s[W]]]==null&&(I[L]=++k),r[i]={old:L,new:I[L]},l=I[L]-i,C!=null&&l===d||(C&&m.push(C),M.push(i),d=l),C=i;for(C&&m.push(C),m.push(65535),M.push(65535),Y=2*(V=M.length),j=2*Math.pow(Math.log(V)/Math.LN2,2),g=Math.log(j/2)/Math.LN2,D=2*V-j,c=[],z=[],y=[],N=ee=0,ce=M.length;ee<ce;N=++ee){if(q=M[N],h=m[N],q===65535){c.push(0),z.push(0);break}if(q-(F=r[q].new)>=32768)for(c.push(0),z.push(2*(y.length+V-N)),i=le=q;q<=h?le<=h:le>=h;i=q<=h?++le:--le)y.push(r[i].new);else c.push(F-q),z.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*V+2*y.length),Q.writeUInt16(0),Q.writeUInt16(Y),Q.writeUInt16(j),Q.writeUInt16(g),Q.writeUInt16(D),me=0,O=m.length;me<O;me++)i=m[me],Q.writeUInt16(i);for(Q.writeUInt16(0),_e=0,K=M.length;_e<K;_e++)i=M[_e],Q.writeUInt16(i);for(Ae=0,H=c.length;Ae<H;Ae++)l=c[Ae],Q.writeUInt16(l);for(Re=0,Z=z.length;Re<Z;Re++)B=z[Re],Q.writeUInt16(B);for(Se=0,te=y.length;Se<te;Se++)S=y[Se],Q.writeUInt16(S);return{charMap:r,subtable:Q.data,maxGlyphID:k+1}}},t})(),TB=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new mD(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=mD.encode(n,r),(a=new Yd).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e})(),Yde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),Jde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),Xde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(n.readUInt32());return d}).call(this)}},e})(),Qde=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Zde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,s,l,c,d,h,m,g,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},s=m=0,g=i.length;m<g;s=++m)a=i[s],n.pos=a.offset,h=n.readString(a.length),l=new Qde(h,a),d[y=a.nameID]==null&&(d[y]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),efe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),tfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,s,l,c,d;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(n.readInt16());return m})(),this.widths=(function(){var h,m,g,y;for(y=[],h=0,m=(g=this.metrics).length;h<m;h++)s=g[h],y.push(s.advance);return y}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),CB=[].slice,nfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,s,l,c,d,h,m,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Yd(r.read(a))).readShort(),h=c.readShort(),g=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[n]=l===-1?new ife(c,h,g,d,m):new rfe(c,l,h,g,d,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,s,l,c,d;for(l=[],s=[],c=0,d=r.length;c<d;c++)a=n[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},e})(),rfe=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),ife=(function(){function t(e,n,r,i,a){var s,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Yd(CB.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),afe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lc(e,Dl),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*i.length),m=0;m<i.length;++m)h[4*m+3]=255&i[m],h[4*m+2]=(65280&i[m])>>8,h[4*m+1]=(16711680&i[m])>>16,h[4*m]=(4278190080&i[m])>>24;return h},e})(),sfe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,l,c,d,h,m,g,y,N,S,A,C;for(i in r=TB.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),y={0:0},C=r.charMap)y[(c=C[i]).old]=c.new;for(N in g=r.maxGlyphID,s)N in y||(y[N]=g++);return h=(function(I){var k,B;for(k in B={},I)B[I[k]]=k;return B})(y),m=Object.keys(h).sort((function(I,k){return I-k})),S=(function(){var I,k,B;for(B=[],I=0,k=m.length;I<k;I++)l=m[I],B.push(h[l]);return B})(),a=this.font.glyf.encode(s,S,y),d=this.font.loca.encode(a.offsets,S),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t})();$t.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)r=n[l],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();const ofe=({stock:t,clients:e,batches:n,onConfirmSale:r,onBack:i,salesHistory:a})=>{const s=O=>{if(!n)return"";const K=n.find(H=>H.id_lote===O);return K?K.fornecedor:""},[l,c]=be.useState(null),[d,h]=be.useState([]),[m,g]=be.useState(""),[y,N]=be.useState(!1),[S,A]=be.useState(!1),C=be.useMemo(()=>{if(!n||n.length===0)return[];const O=new Set(n.filter(K=>K.status==="FECHADO").map(K=>K.id_lote));return t.filter(K=>K.status==="DISPONIVEL"&&O.has(K.id_lote))},[t,n]),[I,k]=be.useState(new Set),B=O=>{k(K=>{const H=new Set(K);return H.has(O)?H.delete(O):H.add(O),H})},L=be.useMemo(()=>{const O=C.filter(H=>H.id_completo.toLowerCase().includes(m.toLowerCase())||H.id_lote.toLowerCase().includes(m.toLowerCase())),K=new Map;return O.forEach(H=>{const Z=H.id_lote;K.has(Z)||K.set(Z,[]),K.get(Z).push(H)}),Array.from(K.entries()).map(([H,Z])=>{const te=new Map;return Z.forEach(me=>{te.has(me.sequencia)||te.set(me.sequencia,[]),te.get(me.sequencia).push(me)}),{key:H,items:Z,lote:H,carcasses:Array.from(te.entries()).map(([me,_e])=>({sequencia:me,parts:_e.sort((ie,Ae)=>ie.tipo-Ae.tipo),totalCarcassWeight:_e.reduce((ie,Ae)=>ie+Ae.peso_entrada,0)})).sort((me,_e)=>_e.sequencia-me.sequencia),totalWeight:Z.reduce((me,_e)=>me+_e.peso_entrada,0),supplier:s(H)}}).sort((H,Z)=>Z.lote.localeCompare(H.lote))},[C,m,n]),[z,D]=be.useState({}),V=d.reduce((O,K)=>{const H=z[K.id_completo];return O+(H!==void 0?H:K.peso_entrada)},0),[Y,q]=be.useState(0),[M,F]=be.useState(0),Q=V*Y,se=(O,K)=>{D(H=>({...H,[O]:K}))},W=O=>{d.find(K=>K.id_completo===O.id_completo)?(h(K=>K.filter(H=>H.id_completo!==O.id_completo)),D(K=>{const H={...K};return delete H[O.id_completo],H})):(h(K=>[...K,O]),D(K=>({...K,[O.id_completo]:O.peso_entrada})))},ee=O=>{if(O.every(H=>d.some(Z=>Z.id_completo===H.id_completo)))h(H=>H.filter(Z=>!O.some(te=>te.id_completo===Z.id_completo)));else{const H=O.filter(Z=>!d.some(te=>te.id_completo===Z.id_completo));h(Z=>[...Z,...H]),H.forEach(Z=>{D(te=>({...te,[Z.id_completo]:Z.peso_entrada}))})}},le=(O,K)=>{const H=O.reduce((me,_e)=>me+_e.peso_entrada,0),Z={};let te=0;O.forEach((me,_e)=>{if(_e===O.length-1)Z[me.id_completo]=parseFloat((K-te).toFixed(2));else{const ie=H>0?me.peso_entrada/H:0,Ae=parseFloat((K*ie).toFixed(2));Z[me.id_completo]=Ae,te+=Ae}}),D(me=>({...me,...Z}))},xe=be.useMemo(()=>{const O=new Map;return d.forEach(K=>{const H=`${K.id_lote}-${K.sequencia}`;O.has(H)||O.set(H,[]),O.get(H).push(K)}),Array.from(O.values())},[d]),ve=()=>{if(!l||d.length===0){alert("Selecione um cliente e itens para gerar o recibo.");return}const O=$t?new $t:null;if(!O)return;const K=O.internal.pageSize.width;O.setFillColor(15,23,42),O.rect(20,15,45,15,"F"),O.setFont("courier","bold"),O.setFontSize(14),O.setTextColor(255,255,255),O.text("THIAGO",25,23),O.setFontSize(16),O.setTextColor(59,130,246),O.text("704",47,26),O.setTextColor(100,116,139),O.setFont("helvetica","bold"),O.setFontSize(8),O.text("EXCELNCIA EM CARNA OPERACIONAL",20,35),O.setTextColor(15,23,42),O.setFontSize(18),O.text("COMPROVANTE DE ENTREGA",K-20,25,{align:"right"}),O.setFontSize(8),O.setFont("helvetica","bold"),O.text(`FRIGOGEST PRO X // ID: ${Date.now()}`,K-20,32,{align:"right"}),O.setDrawColor(226,232,240),O.line(20,40,K-20,40),O.setFont("helvetica","bold"),O.setFontSize(10),O.text("DADOS DO DESTINATRIO",20,50),O.setFont("helvetica","normal"),O.text(`CLIENTE: ${l.nome_social}`,20,58),O.text(`DOCUMENTO: ${l.cpf_cnpj||"N/A"}`,20,64),O.text(`ENDEREO: ${l.endereco||"RETIRADA LOCAL"}`,20,70),O.line(20,80,K-20,80),O.setFont("helvetica","bold"),O.text("DETALHAMENTO DOS ITENS",20,90);let H=100;O.setFillColor(242,245,248),O.rect(20,H-6,K-40,9,"F"),O.setFontSize(8),O.setFont("helvetica","bold"),O.text("IDENTIFICAO / DESCRIO",22,H),O.text("TIPO",80,H),O.text("LOTE",110,H),O.text("PESO (KG)",155,H,{align:"right"}),O.text("VALOR (R$)",190,H,{align:"right"}),H+=10,O.setFontSize(9),O.setFont("helvetica","normal");const Z=new Map;d.forEach(te=>{const me=`${te.id_lote}-${te.sequencia}`;Z.has(me)||Z.set(me,[]),Z.get(me).push(te)}),Z.forEach((te,me)=>{const _e=te.length>1||te[0].tipo===1,ie=te.reduce((Re,Se)=>Re+(z[Se.id_completo]||Se.peso_entrada),0),Ae=ie*Y;O.setTextColor(15,23,42),_e&&te.length>1?(O.setFont("helvetica","bold"),O.setFontSize(9),O.text(`CARCASSA INTEIRA #${te[0].sequencia}`,22,H),O.setFontSize(8),O.setFont("helvetica","normal"),O.text(te[0].id_lote,110,H),O.text(ie.toFixed(2),155,H,{align:"right"}),O.text(Ae.toFixed(2),190,H,{align:"right"}),H+=7,O.setFontSize(7),O.setTextColor(100,116,139),te.forEach(Re=>{const Se=z[Re.id_completo]||Re.peso_entrada;O.text(`   ${Re.tipo===2?"BANDA A":"BANDA B"}`,22,H),O.text(Se.toFixed(2)+" kg",155,H,{align:"right"}),H+=5}),H+=3,O.setFontSize(9),O.setTextColor(15,23,42)):_e&&te[0].tipo===1?(O.setFont("helvetica","bold"),O.text(`CARCASSA INTEIRA #${te[0].sequencia}`,22,H),O.setFont("helvetica","normal"),O.text("-",80,H),O.text(te[0].id_lote,110,H),O.text(ie.toFixed(2),155,H,{align:"right"}),O.text(Ae.toFixed(2),190,H,{align:"right"}),H+=8):te.forEach(Re=>{const Se=z[Re.id_completo]||Re.peso_entrada,We=Se*Y;O.text(Re.id_completo,22,H),O.text(Re.tipo===1?"INTEIRO":Re.tipo===2?"BANDA A":"BANDA B",80,H),O.text(Re.id_lote,110,H),O.text(Se.toFixed(2),155,H,{align:"right"}),O.text(We.toFixed(2),190,H,{align:"right"}),H+=8}),H>250&&(O.addPage(),H=30)}),O.setDrawColor(226,232,240),O.line(20,H,K-20,H),H+=10,O.setFontSize(12),O.setFont("helvetica","bold"),O.setTextColor(59,130,246),O.text("TOTAL DA CARGA:",20,H),O.setTextColor(15,23,42),O.text(`${V.toFixed(2)} KG`,155,H,{align:"right"}),O.text(Zt(Q+M),190,H,{align:"right"}),H+=40,H>260&&(O.addPage(),H=50),O.setDrawColor(15,23,42),O.line(25,H,95,H),O.setFontSize(7),O.setFont("helvetica","bold"),O.text("RECEBIDO POR (CLIENTE)",60,H+5,{align:"center"}),O.setFont("helvetica","normal"),O.text(l.nome_social,60,H+9,{align:"center"}),O.line(K-95,H,K-25,H),O.setFont("helvetica","bold"),O.text("ENTREGUE POR (THIAGO 704)",K-60,H+5,{align:"center"}),O.setFont("helvetica","normal"),O.text("LOGSTICA OPERACIONAL FG",K-60,H+9,{align:"center"}),O.save(`RECIBO_THIAGO704_${l.id_ferro}.pdf`)},ce=()=>{if(!l||d.length===0||Y<=0){alert(" Preencha todos os dados da venda!");return}confirm("Deseja gerar o Manifesto de Carga (PDF)?")&&ve();const O=d.map(K=>({...K,peso_saida:z[K.id_completo]!==void 0?z[K.id_completo]:K.peso_entrada}));r({client:l,items:O,pricePerKg:Y,extrasCost:M}),c(null),h([]),q(0),F(0),N(!0)};return y?f.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-10",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>N(!1),className:"group flex items-center gap-2 px-5 py-2 bg-white border border-slate-200 rounded-full text-xs font-black text-slate-500 hover:text-blue-600 hover:border-blue-100 hover:bg-blue-50 transition-all shadow-sm",children:[f.jsx(Ta,{size:16})," Voltar  Expedio"]}),f.jsxs("button",{onClick:()=>N(!1),className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-xs font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-100 uppercase tracking-widest",children:[f.jsx(Fd,{size:18})," Realizar Outra Venda"]})]}),f.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[f.jsx("div",{className:"bg-slate-900 p-4 rounded-3xl text-white shadow-2xl shadow-slate-200",children:f.jsx(Wd,{size:32})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 italic",children:["LOG de ",f.jsx("span",{className:"text-blue-600",children:"Expedio"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mt-2",children:"Histrico Operacional Cronolgico"})]})]})]}),f.jsx("div",{className:"premium-card overflow-hidden bg-white shadow-xl shadow-slate-100",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Data Valor"}),f.jsx("th",{children:"Entidade Receptora"}),f.jsx("th",{children:"ID Unitrio"}),f.jsx("th",{className:"text-right",children:"Peso Sada"}),f.jsx("th",{className:"text-right",children:"Montante Final"})]})}),f.jsx("tbody",{children:a.slice(0,100).map((O,K)=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(O.data_venda).toLocaleDateString()}),f.jsx("td",{children:f.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',O.nome_cliente||"Mercado Interno",'"']})}),f.jsx("td",{children:f.jsx("span",{className:"text-[10px] text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded border border-slate-100",children:O.id_completo})}),f.jsx("td",{className:"text-right font-black text-slate-900 text-sm",children:_r(O.peso_real_saida)}),f.jsx("td",{className:"text-right",children:f.jsx("span",{className:"font-black text-blue-600 text-sm",children:Zt(O.peso_real_saida*O.preco_venda_kg)})})]},K))})]})})})]})}):f.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] overflow-hidden animate-reveal font-sans",children:[f.jsxs("div",{className:"h-24 bg-white border-b border-slate-100 flex items-center justify-between px-10 shrink-0 z-50 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-10",children:[f.jsxs("button",{onClick:i,className:"group flex items-center gap-2.5 px-5 py-2.5 bg-slate-50 border border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-blue-600 hover:bg-white hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ta,{size:16})," Home"]}),f.jsx("div",{className:"h-10 w-px bg-slate-100"}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:f.jsx(Fd,{size:24})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-black text-slate-900 tracking-tight italic leading-none",children:["Terminal de ",f.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mt-1.5 opacity-60",children:"Expedio Controlada / ID-X-PROC"})]})]})]}),f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-3 px-6 py-3.5 rounded-2xl bg-slate-100 text-slate-600 text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all",children:[f.jsx(Wd,{size:16})," Archive Log"]})})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white/50 backdrop-blur-sm relative",children:[f.jsxs("div",{className:"p-8 pb-4 flex flex-col xl:flex-row gap-6 shrink-0 relative z-10",children:[f.jsxs("div",{className:"flex-1 group",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Entidade Receptora"}),f.jsxs("div",{className:"relative",children:[f.jsx(a0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),f.jsxs("select",{className:"modern-input h-16 pl-12 bg-white font-extrabold text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all cursor-pointer",value:l?JSON.stringify(l):"",onChange:O=>{O.target.value?c(JSON.parse(O.target.value)):c(null)},children:[f.jsx("option",{value:"",children:"-- SELECIONE O CLIENTE --"}),e.sort((O,K)=>O.nome_social.localeCompare(K.nome_social)).map(O=>f.jsxs("option",{value:JSON.stringify(O),children:[O.id_ferro," // ",O.nome_social]},O.id_ferro))]})]})]}),f.jsxs("div",{className:"w-full xl:w-96 group",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Filtro de Logstica"}),f.jsxs("div",{className:"relative",children:[f.jsx(gm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),f.jsx("input",{type:"text",placeholder:"BUSCAR ID OU LOTE...",className:"modern-input h-16 pl-12 bg-white font-black text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all",value:m,onChange:O=>g(O.target.value)})]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-8 pt-4 space-y-6 custom-scrollbar",children:L.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 grayscale",children:[f.jsx(l1,{size:100,className:"mb-6"}),f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"Estoque Indisponvel"})]}):f.jsx("div",{className:"grid grid-cols-1 gap-6",children:L.map(O=>{const K=O.items.every(te=>d.some(me=>me.id_completo===te.id_completo)),H=O.items.some(te=>d.some(me=>me.id_completo===te.id_completo)),Z=I.has(O.lote);return f.jsxs("div",{className:"bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-md transition-shadow group/batch",children:[f.jsxs("div",{onClick:()=>B(O.lote),className:`p-4 flex items-center justify-between cursor-pointer transition-colors ${Z?"bg-slate-50/80 border-b border-slate-100":"bg-white hover:bg-slate-50/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${Z?"bg-blue-600 text-white rotate-90":"bg-slate-100 text-slate-400"}`,children:f.jsx(Ou,{size:20})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-0.5",children:["LOTE: ",O.lote]}),f.jsxs("p",{className:"text-xs font-extrabold text-slate-900 uppercase tracking-tighter italic",children:['"',O.supplier||"CARGA PADRO",'"']})]})]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"text-right hidden sm:block",children:[f.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Payload Total"}),f.jsx("p",{className:"text-[12px] font-black text-slate-900",children:_r(O.totalWeight)})]}),f.jsx("div",{className:"h-8 w-px bg-slate-100 hidden sm:block"}),f.jsx("button",{onClick:te=>{te.stopPropagation(),ee(O.items)},className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${K?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-100 text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,children:K?"LIBERAR":H?"COMPLETAR":"RESERVAR"})]})]}),Z&&f.jsx("div",{className:"overflow-x-auto bg-white animate-reveal",children:f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50/20",children:[f.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest w-12 text-center",children:"Sel"}),f.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Procedncia"}),f.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Tipo"}),f.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Peso (KG)"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-50",children:O.carcasses.map(te=>{const me=te.parts.every(_e=>d.some(ie=>ie.id_completo===_e.id_completo));return f.jsxs(je.Fragment,{children:[f.jsxs("tr",{className:"bg-slate-50/10 border-t border-slate-100/50",children:[f.jsx("td",{className:"px-6 py-1 text-center bg-slate-50/20",children:f.jsxs("div",{className:"w-4 h-4 rounded bg-slate-200 flex items-center justify-center text-[7px] font-black text-slate-500",children:["#",te.sequencia]})}),f.jsx("td",{className:"px-4 py-1",colSpan:2,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Carcassa #",te.sequencia]}),f.jsx("button",{onClick:_e=>{_e.stopPropagation(),ee(te.parts)},className:`px-2 py-0.5 rounded text-[7px] font-black uppercase transition-all ${me?"bg-blue-600 text-white shadow-sm":"bg-white border border-slate-200 text-slate-400 hover:text-blue-600 hover:border-blue-200"}`,children:me?"INTEIRA SELECIONADA":"VENDER INTEIRA"})]})}),f.jsx("td",{className:"px-6 py-1 text-right",children:f.jsx("span",{className:"text-[9px] font-black text-slate-400",children:_r(te.totalCarcassWeight)})})]}),te.parts.map(_e=>{const ie=d.some(Ae=>Ae.id_completo===_e.id_completo);return f.jsxs("tr",{onClick:()=>W(_e),className:`group/row cursor-pointer transition-all ${ie?"bg-blue-50/30":"hover:bg-slate-50/50"}`,children:[f.jsx("td",{className:"px-6 py-1.5 text-center",children:f.jsx("div",{className:`w-4 h-4 rounded-md border-2 flex items-center justify-center mx-auto transition-all ${ie?"bg-blue-600 border-blue-600 text-white":"border-slate-200 bg-white"}`,children:ie&&f.jsx(xu,{size:8,fill:"currentColor",className:"text-white"})})}),f.jsx("td",{className:"px-4 py-1.5",children:f.jsx("span",{className:`text-[10px] font-mono font-bold ${ie?"text-blue-700":"text-slate-400"}`,children:_e.id_completo})}),f.jsx("td",{className:"px-4 py-1.5 text-center",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${ie?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"}`,children:_e.tipo===1?"INT":_e.tipo===2?"B-A":"B-B"})}),f.jsx("td",{className:"px-6 py-1.5 text-right",children:f.jsx("span",{className:`text-xs font-black tracking-tight ${ie?"text-blue-900":"text-slate-900"}`,children:_r(_e.peso_entrada)})})]},_e.id_completo)})]},te.sequencia)})})]})})]},O.key)})})})]}),f.jsxs("div",{className:"w-full md:w-[420px] bg-white border-l border-slate-100 flex flex-col shadow-2xl z-40 relative",children:[f.jsxs("div",{className:"p-6 pb-2 shrink-0 border-b border-slate-50",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-slate-900 p-2.5 rounded-xl text-white shadow-lg",children:f.jsx(aR,{size:18})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-base font-black text-slate-900 tracking-tight italic",children:["Manifesto de ",f.jsx("span",{className:"text-blue-600",children:"Sada"})]}),f.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Aguardando Confirmao"})]})]}),d.length>0&&f.jsx("button",{onClick:()=>h([]),className:"text-[10px] font-black text-rose-500 hover:bg-rose-50 px-3 py-1.5 rounded-lg transition-all uppercase tracking-tighter",children:"Limpar Tudo"})]}),f.jsxs("div",{className:`px-4 py-3 rounded-2xl transition-all flex items-center gap-3 ${l?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-50 border border-slate-100 text-slate-300"}`,children:[f.jsx(a0,{size:18,className:l?"text-white":"text-slate-300"}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("p",{className:"text-[10px] font-black uppercase truncate italic",children:l?l.nome_social:"Selecionar Cliente Ativo"})}),d.length>0&&f.jsxs("div",{className:"bg-white/20 px-2 py-0.5 rounded-md text-[9px] font-black",children:[d.length," ITENS"]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar-thin bg-slate-50/30",children:d.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[f.jsx(dh,{size:40,className:"text-slate-300 mb-4"}),f.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Carrinho Vazio"})]}):xe.map((O,K)=>{const H=O.length>1,Z=O.reduce((te,me)=>te+(z[me.id_completo]||me.peso_entrada),0);return f.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"bg-slate-50/50 px-4 py-2 flex justify-between items-center border-b border-slate-100",children:[f.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Animal #",O[0].sequencia," // Lote ",O[0].id_lote]}),!H&&f.jsx("button",{onClick:()=>W(O[0]),className:"p-1 text-slate-300 hover:text-rose-500 transition-colors",children:f.jsx(Ac,{size:12})}),H&&f.jsx("button",{onClick:()=>{O.forEach(te=>W(te))},className:"text-[8px] font-black text-rose-500 hover:bg-rose-100 px-2 py-1 rounded transition-all uppercase tracking-tighter",children:"Remover Carcaa"})]}),f.jsx("div",{className:"p-3",children:H?f.jsxs("div",{className:"flex items-center justify-between bg-blue-50/30 p-3 rounded-xl border border-blue-100/50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white shadow-sm",children:f.jsx(kl,{size:14})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-blue-900 uppercase leading-none mb-1",children:"Carcassa Inteira"}),f.jsxs("p",{className:"text-[8px] font-bold text-blue-400 uppercase tracking-widest",children:[O.length," Cortes Vinculados"]})]})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-[9px] font-black text-blue-600 uppercase tracking-wide mb-1",children:"PESO SADA"}),f.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 border-2 border-blue-400 rounded-xl px-3 py-2",children:[f.jsx(Vg,{size:18,className:"text-blue-600"}),f.jsx("input",{type:"number",step:"0.01",className:"w-24 bg-transparent text-right font-black text-lg text-blue-700 outline-none",value:Number(Z.toFixed(2)),onChange:te=>le(O,parseFloat(te.target.value)||0)}),f.jsx("span",{className:"text-xs font-black text-blue-500",children:"KG"})]})]})]}):O.map((te,me)=>{const _e=z[te.id_completo]||te.peso_entrada;return f.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-50 rounded-lg transition-colors group/item",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-[8px] font-bold text-slate-500 font-mono",children:te.id_completo.split("-").pop()}),f.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:te.tipo===1?"INT":te.tipo===2?"B-A":"B-B"})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-[8px] font-black text-blue-500 uppercase mb-1",children:"PESO SADA"}),f.jsxs("div",{className:"flex items-center gap-1 bg-blue-50 border-2 border-blue-300 rounded-lg px-2 py-1",children:[f.jsx("input",{type:"number",step:"0.01",className:"w-20 bg-transparent text-right font-black text-base text-blue-700 outline-none",value:_e,onChange:ie=>se(te.id_completo,parseFloat(ie.target.value)||0)}),f.jsx("span",{className:"text-[10px] font-black text-blue-400",children:"KG"})]})]})]},me)})})]},K)})}),f.jsxs("div",{className:"shrink-0 bg-slate-900 text-white p-6 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 opacity-5 pointer-events-none",children:f.jsx(aR,{size:200,className:"rotate-12 translate-x-20 translate-y-20"})}),f.jsxs("div",{className:"relative z-10 space-y-5",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"R$ Preo / KG"}),f.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:f.jsx("input",{type:"number",step:"0.01",className:"w-full bg-transparent text-white font-black text-xl outline-none",value:Y||"",onChange:O=>q(parseFloat(O.target.value)),placeholder:"0.00"})})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"Custos Extras"}),f.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:f.jsx("input",{type:"number",step:"0.01",className:"w-full bg-transparent text-white font-black text-lg outline-none",value:M||"",onChange:O=>F(parseFloat(O.target.value)),placeholder:"0.00"})})]})]}),f.jsxs("div",{className:"pt-4 border-t border-white/10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Subtotal Acumulado"}),f.jsx("h2",{className:"text-3xl font-black text-blue-400 tracking-tighter italic leading-none",children:Zt(Q+M)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Carga ( KG)"}),f.jsx("p",{className:"text-xl font-black text-white italic tracking-tighter leading-none",children:_r(V)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("button",{onClick:ce,disabled:d.length===0||!l||Y<=0,className:"w-full py-4 bg-blue-600 rounded-xl text-white font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-white hover:text-slate-900 transition-all disabled:opacity-20 active:scale-95 shadow-xl shadow-blue-500/20",children:[f.jsx(kl,{size:20})," Confirmar Entrega [THIAGO 704]"]}),f.jsxs("button",{onClick:ve,disabled:d.length===0||!l||Y<=0,className:"w-full py-2.5 bg-white/5 border border-white/10 rounded-lg text-white font-black text-[8px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/10 transition-all disabled:opacity-10",children:[f.jsx($7,{size:14})," Imprimir Comprovante"]})]})]})]})]})]})]}),S&&f.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-xl animate-reveal p-10 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-6xl h-[85vh] flex flex-col overflow-hidden border border-white",children:[f.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:f.jsx(FG,{size:28})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Expedio ",f.jsx("span",{className:"text-blue-500",children:"Tetris"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Simulador de Carregamento Industrial"})]})]}),f.jsx("button",{onClick:()=>A(!1),className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group",children:f.jsx(Ac,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),f.jsxs("div",{className:"flex-1 p-10 flex flex-col lg:flex-row gap-10 overflow-hidden",children:[f.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[40px] border border-slate-100 p-8 flex flex-col relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:f.jsx(Fd,{size:200})}),f.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] mb-8",children:"Layout Interno do Veculo"}),f.jsxs("div",{className:"flex-1 grid grid-cols-6 grid-rows-8 gap-3 content-start",children:[d.map((O,K)=>f.jsxs("div",{className:`h-16 rounded-xl border flex flex-col items-center justify-center transition-all group hover:scale-[1.05] animate-reveal ${O.tipo===1?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-100 text-slate-900"}`,title:`${O.id_completo} - ${_r(O.peso_entrada)}`,children:[f.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:O.tipo===1?"INT":O.tipo===2?"B-A":"B-B"}),f.jsx("span",{className:"text-[8px] font-bold opacity-40",children:_r(O.peso_entrada)})]},K)),Array.from({length:Math.max(0,48-d.length)}).map((O,K)=>f.jsx("div",{className:"h-16 rounded-xl border border-dashed border-slate-200 flex items-center justify-center text-slate-100",children:f.jsx(Gf,{size:16})},K))]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 flex items-center justify-between",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-900"}),f.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Pesados / Inteiros"})]}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),f.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Mdia Estabilidade"})]})]}),f.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Up,{size:14,className:"text-blue-500"})," Distribua o peso uniformemente"]})]})]}),f.jsxs("div",{className:"w-full lg:w-96 flex flex-col gap-8 shrink-0",children:[f.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-8 text-white shadow-xl shadow-blue-100",children:[f.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-100 mb-2",children:"Resumo do Manifesto"}),f.jsx("h3",{className:"text-4xl font-black italic tracking-tighter",children:_r(V)}),f.jsxs("div",{className:"mt-8 space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[f.jsx("span",{children:"Items Totais:"}),f.jsxs("span",{children:[d.length," UN"]})]}),f.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[f.jsx("span",{children:"Volume Mdio:"}),f.jsxs("span",{children:[(V/(d.length||1)).toFixed(1)," KG/UN"]})]}),f.jsx("div",{className:"h-px bg-white/10 my-4"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-[11px] font-black uppercase italic",children:"Distribuio de Carga"}),f.jsx("span",{className:"text-sm font-black text-blue-200",children:"OK"})]})]})]}),f.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[32px] p-8 border border-slate-100 overflow-y-auto",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Fila de Carregamento"}),f.jsx("div",{className:"space-y-3",children:d.map((O,K)=>f.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-2xl border border-slate-200/50 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] font-black bg-slate-900 text-white w-5 h-5 flex items-center justify-center rounded-lg",children:K+1}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:["#",O.id_completo.split("-").pop()]}),f.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:O.id_lote})]})]}),f.jsx("span",{className:"text-xs font-black text-blue-600",children:_r(O.peso_entrada)})]},K))})]})]})]})]})})]})},lfe=({sales:t=[],batches:e=[],stock:n=[],clients:r=[],transactions:i=[],addTransaction:a,deleteTransaction:s,addPartialPayment:l,onBack:c,payables:d=[],addPayable:h,updatePayable:m,deletePayable:g,cleanAllFinancialData:y})=>{const[N,S]=be.useState("overview"),[A,C]=be.useState(!1),[I,k]=be.useState(!1),[B,L]=be.useState("PENDING"),[z,D]=be.useState("ALL"),[j,V]=be.useState({descricao:"",valor:0,valor_pago:0,categoria:"OPERACIONAL",data_vencimento:new Date().toISOString().split("T")[0],status:"PENDENTE"}),[Y,q]=be.useState(()=>{const Ne=new Date;return Ne.setDate(1),Ne.toISOString().split("T")[0]}),[M,F]=be.useState(()=>new Date().toISOString().split("T")[0]),[Q,se]=be.useState({descricao:"",valor:0,tipo:"SAIDA",categoria:"OPERACIONAL",data:new Date().toISOString().split("T")[0]}),[W,ee]=be.useState(null),[le,xe]=be.useState(new Date().toISOString().split("T")[0]),[ve,ce]=be.useState("PIX"),[O,K]=be.useState(""),[H,Z]=be.useState("0"),[te,me]=be.useState(""),[_e,ie]=be.useState(null),[Ae,Re]=be.useState(""),Se=Ne=>{const rt=(Ne.peso_real_saida||0)*(Ne.preco_venda_kg||0),Vt=Ne.valor_pago||0;return{valorTotal:rt,valorPago:Vt,saldoDevedor:Math.max(0,rt-Vt)}},We=Ne=>{const rt=n.find(pn=>pn.id_completo===Ne.id_completo),Vt=(rt==null?void 0:rt.id_lote)||Ne.id_completo.split("-").slice(0,3).join("-"),Dt=rt?e.find(pn=>pn.id_lote===rt.id_lote):e.find(pn=>pn.id_lote===Vt),Ar=(Ne.peso_real_saida||0)*(Ne.preco_venda_kg||0),un=Dt&&Number(Dt.custo_real_kg)||0,Dn=(Ne.peso_real_saida||0)*un,Sr=Ne.custo_extras_total||0;return{revenue:Ar,cgs:Dn,operationalCost:Sr,netProfit:Ar-Dn-Sr}},tt=()=>{if(!W||!O)return;const Ne=parseFloat(O.replace(",",".")),rt=parseFloat(H.replace(",","."))||0,{saldoDevedor:Vt}=Se(W);if(isNaN(Ne)||Ne<=0||Ne+rt>Vt+.01)return alert(" Valor invlido!");l(W.id_venda,Ne+rt,ve,le),Ne>0&&a({id:`TR-REC-${W.id_venda}-${Date.now()}`,data:le,descricao:`Recebimento: ${W.nome_cliente||"Cliente"} - ${W.id_completo}`,tipo:"ENTRADA",categoria:"VENDA",valor:Ne,metodo_pagamento:ve,referencia_id:W.id_venda}),rt>0&&te&&a({id:`TR-DESC-${W.id_venda}-${Date.now()}`,data:le,descricao:`DESCONTO: ${te}`,tipo:"SAIDA",categoria:"DESCONTO",valor:rt,metodo_pagamento:ve,referencia_id:W.id_venda}),ee(null),K(""),Z("0"),me("")},ge=()=>{if(!_e||!Ae)return;const Ne=parseFloat(Ae.replace(",",".")),rt=_e.valor-(_e.valor_pago||0);if(isNaN(Ne)||Ne<=0||Ne>rt+.01)return alert(" Valor invlido!");a({id:`TR-PAY-${_e.id}-${Date.now()}`,data:le,descricao:`Pagamento: ${_e.descricao}`,tipo:"SAIDA",categoria:_e.categoria,valor:Ne,metodo_pagamento:ve,referencia_id:_e.id});const Vt=(_e.valor_pago||0)+Ne;m({..._e,valor_pago:Vt,status:Vt>=_e.valor-.01?"PAGO":"PARCIAL",data_pagamento:new Date().toISOString().split("T")[0]}),ie(null),Re("")},ue=()=>{if(!Q.descricao||!Q.valor)return alert("Preencha todos os campos.");a({id:`TR-${Date.now()}`,descricao:Q.descricao,valor:Number(Q.valor),tipo:Q.tipo,categoria:Q.categoria,data:Q.data,metodo_pagamento:"DINHEIRO",referencia_id:""}),C(!1)},ut=be.useMemo(()=>e.filter(Ne=>Ne.status==="FECHADO"),[e]),Ze=be.useMemo(()=>new Set(ut.map(Ne=>Ne.id_lote)),[ut]),He=ut.length>0,Ge=be.useMemo(()=>i.filter(Ne=>{var rt,Vt,Dt;return!Ne.referencia_id||Ze.has(Ne.referencia_id)||(rt=Ne.id)!=null&&rt.startsWith("TR-REC-")||(Vt=Ne.id)!=null&&Vt.startsWith("TR-PAY-")||Ne.categoria==="VENDA"||(Dt=Ne.id)!=null&&Dt.startsWith("TR-DESC-")||Ne.categoria==="DESCONTO"||!Ne.referencia_id.includes("-")?!0:!He}),[i,Ze,He]),Ke=be.useMemo(()=>Ge.filter(Ne=>Ne.data>=Y&&Ne.data<=M).sort((Ne,rt)=>rt.data.localeCompare(Ne.data)),[Ge,Y,M]),Ve=Ge.reduce((Ne,rt)=>Ne+(rt.tipo==="ENTRADA"?rt.valor:-rt.valor),0),Ye=be.useMemo(()=>t.filter(rt=>{const Vt=rt.id_completo.split("-")[0]+"-"+rt.id_completo.split("-")[1]+"-"+rt.id_completo.split("-")[2];return Ze.has(Vt)}).filter(rt=>Se(rt).saldoDevedor>.01).sort((rt,Vt)=>rt.data_vencimento.localeCompare(Vt.data_vencimento)),[t,Ze]),ht=be.useMemo(()=>Ye.reduce((Ne,rt)=>Ne+Se(rt).saldoDevedor,0),[Ye]),Et=new Date().toISOString().split("T")[0];Ye.filter(Ne=>Ne.data_vencimento<Et);const yt=new Date(Date.now()-30*864e5).toISOString().split("T")[0],St=Ye.filter(Ne=>Ne.data_vencimento<yt),Kt=Array.from(new Set(St.map(Ne=>Ne.nome_cliente||"Desconhecido"))),It=be.useMemo(()=>n.filter(Ne=>Ne.status==="DISPONIVEL").reduce((Ne,rt)=>{const Vt=ut.find(Ar=>Ar.id_lote===rt.id_lote),Dt=Vt&&Number(Vt.custo_real_kg)||0;return Ne+rt.peso_entrada*Dt},0),[n,ut]),zt=be.useMemo(()=>He?d.filter(Ne=>{if(Ne.id_lote)return Ze.has(Ne.id_lote);if(Ne.categoria==="COMPRA_GADO"&&Ne.descricao){const rt=Ne.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);return rt?Ze.has(rt[1]):!1}return!0}).reduce((Ne,rt)=>Ne+(rt.valor-(rt.valor_pago||0)),0):0,[d,Ze,He]),xt=be.useMemo(()=>t.filter(rt=>{const Vt=rt.id_completo.split("-")[0]+"-"+rt.id_completo.split("-")[1]+"-"+rt.id_completo.split("-")[2];return Ze.has(Vt)}).reduce((rt,Vt)=>{const Dt=We(Vt);return{revenue:rt.revenue+Dt.revenue,cgs:rt.cgs+Dt.cgs,ops:rt.ops+Dt.operationalCost,profit:rt.profit+Dt.netProfit}},{revenue:0,cgs:0,ops:0,profit:0}),[t,n,ut,Ze]),Nn=be.useMemo(()=>{const rt=t.filter(un=>un.data_venda===Et).reduce((un,Dn)=>un+Dn.peso_real_saida*Dn.preco_venda_kg,0),Vt=d.filter(un=>!un.descricao.includes("COMPRA")&&un.categoria!=="COMPRA_GADO").reduce((un,Dn)=>un+Dn.valor,0),Dt=Math.max(800,Vt/30),Ar=Math.min(100,rt/Dt*100);return{revenueToday:rt,estimatedDailyCost:Dt,breakEvenProgress:Ar}},[t,d,Et]),nn=be.useMemo(()=>{const Ne=new Map;return t.forEach(rt=>{const Vt=We(rt),Dt=rt.nome_cliente||"Direto";Ne.has(Dt)||Ne.set(Dt,{revenue:0,profit:0,volume:0});const Ar=Ne.get(Dt);Ar.revenue+=Vt.revenue,Ar.profit+=Vt.netProfit,Ar.volume+=rt.peso_real_saida}),Array.from(Ne.entries()).map(([rt,Vt])=>({name:rt,...Vt})).sort((rt,Vt)=>Vt.revenue-rt.revenue)},[t,n,e]),qn=be.useMemo(()=>{const Ne=t.reduce((Dn,Sr)=>Dn+Sr.peso_real_saida*Sr.preco_venda_kg,0),rt=t.reduce((Dn,Sr)=>Dn+(Sr.valor_pago||0),0),Vt=Ne>0?rt/Ne*100:100,Dt=xt.cgs,Ar=It,un=Ar>0?Dt/Ar:0;return{efficacy:Vt,turnover:un}},[t,xt,It]);return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:c,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl shadow-slate-200",children:f.jsx(nR,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controladoria ",f.jsx("span",{className:"text-blue-600",children:"Finanas"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Fluxo de Caixa & Resultados / ID-FIN"})]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:["overview","cashflow","receivables","payables","profit"].map(Ne=>f.jsx("button",{onClick:()=>S(Ne),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${N===Ne?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:Ne==="overview"?"Viso Geral":Ne==="cashflow"?"Fluxo Caixa":Ne==="receivables"?"A Receber":Ne==="payables"?"A Pagar":"DRE"},Ne))}),f.jsxs("button",{onClick:()=>{window.confirm(` LIMPAR DADOS FINANCEIROS?

Isso vai te levar para a tela de Configuraes Avanadas onde voc pode:

 Limpar todos os dados de teste
 Manter clientes e fornecedores
 Recomear com sistema limpo

Deseja continuar?`)&&(c(),alert(' Agora clique em " Configuraes Avanadas" e depois em "Limpar Dados de Teste"'))},className:"btn-modern bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-2xl gap-2 shadow-xl text-[10px] font-black uppercase tracking-widest whitespace-nowrap",children:[f.jsx(Zf,{size:16})," Limpar Dados Antigos"]})]})]}),N==="overview"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Saldo em Caixa",value:Zt(Ve),icon:p1,color:"blue"},{label:"Contas a Receber",value:Zt(ht),icon:h1,color:"emerald"},{label:"Valor em Estoque",value:Zt(It),icon:BS,color:"amber"},{label:"Total a Pagar",value:Zt(zt),icon:f1,color:"rose"}].map((Ne,rt)=>f.jsxs("div",{className:"premium-card p-8 flex flex-col gap-5 group hover:-translate-y-1 transition-all",children:[f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all group-hover:scale-110 ${Ne.color==="blue"?"bg-blue-50 text-blue-600":Ne.color==="emerald"?"bg-emerald-50 text-emerald-600":Ne.color==="amber"?"bg-amber-50 text-amber-600":"bg-rose-50 text-rose-600"}`,children:f.jsx(Ne.icon,{size:24})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:Ne.label}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:Ne.value})]})]},rt))}),f.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative overflow-hidden shadow-2xl shadow-blue-900/10",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-5 pointer-events-none transform rotate-12",children:f.jsx(YH,{size:300})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 relative z-10",children:[f.jsxs("div",{className:"lg:col-span-7",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[f.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:f.jsx(K7,{size:18,className:"text-white"})}),f.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Ponto de Equilbrio ",f.jsx("span",{className:"text-blue-500",children:"Hoje"})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Faturamento Real (Hoje)"}),f.jsx("p",{className:"text-4xl font-black text-white",children:Zt(Nn.revenueToday)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Custo Op. Estimado (Dia)"}),f.jsx("p",{className:"text-xl font-black text-slate-300",children:Zt(Nn.estimatedDailyCost)})]})]}),f.jsx("div",{className:"relative h-4 bg-white/5 rounded-full overflow-hidden border border-white/10 p-0.5",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${Nn.breakEvenProgress>=100?"bg-emerald-500 rounded-r-lg shadow-[0_0_20px_rgba(16,185,129,0.5)]":"bg-blue-600 rounded-r-lg shadow-[0_0_20px_rgba(37,99,235,0.3)]"}`,style:{width:`${Nn.breakEvenProgress}%`}})}),f.jsxs("div",{className:"flex justify-between font-mono text-[9px] font-black uppercase tracking-[0.2em]",children:[f.jsx("span",{className:"text-slate-600",children:"0% Incio"}),Nn.breakEvenProgress>=100?f.jsxs("span",{className:"text-emerald-500 flex items-center gap-2 group cursor-help",children:["LUCRO LQUIDO ATIVADO ",f.jsx(qS,{size:12,className:"animate-bounce"})]}):f.jsxs("span",{className:"text-blue-500",children:["Faltam ",Zt(Math.max(0,Nn.estimatedDailyCost-Nn.revenueToday))," p/ Ponto de Equilbrio"]}),f.jsxs("span",{className:"text-slate-600",children:["Alvo: ",Zt(Nn.estimatedDailyCost)]})]})]}),f.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 border-t border-white/5 pt-10",children:[f.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 group hover:bg-white/10 transition-all cursor-default",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Total Ativos"}),f.jsxs("p",{className:"text-2xl font-black text-emerald-400 group-hover:scale-105 transition-transform",children:["+",Zt(Ve+ht+It)]})]}),f.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 group hover:bg-white/10 transition-all cursor-default",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Total Passivos"}),f.jsxs("p",{className:"text-2xl font-black text-rose-400 group-hover:scale-105 transition-transform",children:["-",Zt(zt)]})]})]})]}),f.jsx("div",{className:"lg:col-span-5 flex flex-col justify-between",children:f.jsxs("div",{className:"bg-blue-600/10 backdrop-blur-3xl rounded-[40px] p-8 border border-blue-400/10 text-center mb-8 h-full flex flex-col justify-center",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-600/20",children:f.jsx(kl,{size:32})}),f.jsx("h4",{className:"text-xl font-black mb-2 uppercase tracking-tighter italic",children:"Status Fiscal CORE"}),f.jsx("p",{className:"text-[10px] font-bold text-blue-300 uppercase tracking-widest mb-6",children:"Integridade de Dados Verificada"}),f.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 text-[9px] font-mono text-blue-200/50 uppercase tracking-widest",children:["SYNC_TOKEN: ",Math.random().toString(36).substring(7).toUpperCase()]})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[f.jsx(XG,{size:16,className:"text-amber-500"})," Top 5 Clientes (Curva ABC)"]}),f.jsx("div",{className:"px-3 py-1 bg-amber-50 rounded-full text-[9px] font-black text-amber-600 uppercase",children:"Faturamento"})]}),f.jsx("div",{className:"space-y-6",children:nn.slice(0,5).map((Ne,rt)=>f.jsxs("div",{className:"flex items-center justify-between group",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs ${rt===0?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-400 group-hover:bg-slate-100"}`,children:rt===0?f.jsx(uG,{size:16}):rt+1}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-[11px] font-black text-slate-800 uppercase italic",children:['"',Ne.name,'"']}),f.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[_r(Ne.volume)," movimentados"]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm font-black text-slate-900",children:Zt(Ne.revenue)}),f.jsxs("p",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:["+ ",Zt(Ne.profit)," lucro"]})]})]},rt))})]}),f.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[f.jsx(iW,{size:16,className:"text-blue-600"})," Industrial Analytics"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"})]})]}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-blue-200 transition-all",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Eficcia de Recebimento"}),f.jsxs("span",{className:"text-xs font-black text-blue-600",children:[qn.efficacy.toFixed(1),"%"]})]}),f.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${Math.min(100,qn.efficacy)}%`}})})]}),f.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-emerald-200 transition-all",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Giro de Ativo (Estoque)"}),f.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[qn.turnover.toFixed(1),"x / ciclo"]})]}),f.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000",style:{width:`${Math.min(100,qn.turnover*10)}%`}})})]})]}),f.jsxs("div",{className:"mt-10 p-6 bg-slate-900 rounded-3xl text-center relative overflow-hidden group hover:scale-[1.02] transition-transform cursor-pointer",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-125 transition-transform",children:f.jsx(qS,{size:48})}),f.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-2",children:"Ponto de Alavancagem"}),f.jsx("p",{className:"text-white text-[11px] font-bold text-center leading-relaxed",children:"Reduza o custo operacional em 5% para antecipar o Ponto de Equilbrio em 45 minutos dirios."})]})]})]})]})]}),N==="cashflow"&&f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[f.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white shadow-2xl shadow-blue-900/20",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shadow-[0_0_12px_rgba(59,130,246,0.8)]"}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em]",children:"Saldo Atualizado"})]}),f.jsx("h3",{className:`text-5xl font-black tracking-tighter mb-12 ${Ve>=0?"text-white":"text-rose-400"}`,children:Zt(Ve)}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>{C(!0),se({...Q,tipo:"ENTRADA"})},className:"w-full btn-modern bg-blue-600 hover:bg-white hover:text-blue-700 text-white py-5 rounded-2xl gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-widest",children:[f.jsx(Gf,{size:20})," Lanar Entrada"]}),f.jsxs("button",{onClick:()=>{C(!0),se({...Q,tipo:"SAIDA"})},className:"w-full btn-modern bg-white/5 border border-white/10 hover:bg-rose-600 text-white py-5 rounded-2xl gap-4 transition-all font-black text-xs uppercase tracking-widest",children:[f.jsx(u1,{size:20})," Lanar Sada"]})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx(yG,{size:16,className:"text-blue-600"})," Parmetros de Filtro"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Inicial"}),f.jsx("input",{type:"date",className:"modern-input h-14",value:Y,onChange:Ne=>q(Ne.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Final"}),f.jsx("input",{type:"date",className:"modern-input h-14",value:M,onChange:Ne=>F(Ne.target.value)})]})]})]})]}),f.jsx("div",{className:"lg:col-span-8",children:f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex justify-between items-center",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Buffer de Movimentaes"}),f.jsxs("div",{className:"px-4 py-1.5 bg-white rounded-full border border-slate-100 text-[10px] font-black text-slate-900 shadow-sm",children:[Ke.length," Registros Encontrados"]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-24",children:"Data"}),f.jsx("th",{children:"Histrico Operacional"}),f.jsx("th",{children:"Vnculo / Categoria"}),f.jsx("th",{className:"text-right",children:"Valor Lquido"})]})}),f.jsxs("tbody",{children:[Ke.map(Ne=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(Ne.data).toLocaleDateString()}),f.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs truncate max-w-sm italic",children:['"',Ne.descricao,'"']}),f.jsx("td",{children:f.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest bg-slate-50 px-3 py-1 rounded-lg border border-slate-100",children:Ne.categoria})}),f.jsxs("td",{className:`text-right font-black text-sm ${Ne.tipo==="ENTRADA"?"text-emerald-600":"text-rose-600"}`,children:[Ne.tipo==="ENTRADA"?"+":"-"," ",Zt(Ne.valor)]})]},Ne.id)),Ke.length===0&&f.jsx("tr",{children:f.jsxs("td",{colSpan:4,className:"py-32 text-center",children:[f.jsx(gs,{size:64,className:"mx-auto mb-6 text-slate-100"}),f.jsx("p",{className:"font-black text-[10px] uppercase text-slate-300 tracking-[0.4em]",children:"Nenhum registro no perodo"})]})})]})]})})]})})]}),N==="receivables"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[Kt.length>0&&f.jsxs("div",{className:"bg-rose-600 rounded-[40px] text-white p-10 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-rose-900/20 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(kl,{size:160})}),f.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[f.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center backdrop-blur-lg",children:f.jsx(Up,{size:40})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-3xl font-black tracking-tight uppercase leading-none italic mb-2",children:"Protocolo de Inadimplncia"}),f.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest max-w-sm",children:"Detectamos pendncias crticas com mais de 30 dias de atraso nas transaes."})]})]}),f.jsx("button",{onClick:()=>D("CRITICAL"),className:"btn-modern bg-white text-rose-600 px-10 py-5 rounded-2xl hover:bg-slate-900 hover:text-white transition-all shadow-xl font-black text-xs uppercase tracking-widest mt-6 md:mt-0 relative z-10",children:"Auditar Inadimplentes"})]}),f.jsxs("div",{className:"premium-card overflow-hidden bg-white shadow-xl",children:[f.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap gap-6 items-center",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-auto flex items-center gap-2",children:[f.jsx(Wd,{size:16,className:"text-blue-600"})," Fila de Compensao"]}),f.jsxs("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-inner",children:[f.jsx("button",{onClick:()=>D("ALL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${z==="ALL"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Todos"}),f.jsx("button",{onClick:()=>D("OVERDUE"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${z==="OVERDUE"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Vencidos"}),f.jsx("button",{onClick:()=>D("CRITICAL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${z==="CRITICAL"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Crticos"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Status de Risco"}),f.jsx("th",{children:"Entidade / Destino"}),f.jsx("th",{className:"text-right",children:"Saldo Devedor"}),f.jsx("th",{className:"w-56 text-center",children:"Operaes"})]})}),f.jsxs("tbody",{children:[Ye.filter(Ne=>{const rt=Ne.data_vencimento<Et;return z==="OVERDUE"?rt:z==="CRITICAL"?Ne.data_vencimento<yt:!0}).map(Ne=>{const{saldoDevedor:rt}=Se(Ne),Vt=Ne.data_vencimento<Et,Dt=Math.ceil(Math.abs(new Date(Et).getTime()-new Date(Ne.data_vencimento).getTime())/864e5);return f.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${Vt?"bg-rose-50/10":""}`,children:[f.jsx("td",{children:f.jsx("span",{className:`text-[11px] font-extrabold ${Vt?"text-rose-600":"text-slate-400"}`,children:new Date(Ne.data_vencimento).toLocaleDateString()})}),f.jsx("td",{children:f.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest inline-flex border ${Vt?"bg-rose-50 text-rose-600 border-rose-100 shadow-sm":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:Vt?`${Dt} DIAS DE ATRASO`:"DENTRO DO PRAZO"})}),f.jsxs("td",{children:[f.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',Ne.nome_cliente||"Mercado Geral",'"']}),f.jsxs("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:["Comp: ",Ne.id_completo]})]}),f.jsx("td",{className:"text-right",children:f.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Zt(rt)})}),f.jsx("td",{className:"text-center",children:f.jsxs("button",{onClick:()=>ee(Ne),className:"btn-modern bg-slate-900 text-white py-2.5 px-6 rounded-xl text-[9px] uppercase font-black tracking-widest hover:bg-emerald-600 gap-2 shadow-lg group-hover:scale-105 transition-all",children:[f.jsx(p1,{size:14})," Efetuar Baixa"]})})]},Ne.id_venda)}),Ye.length===0&&f.jsx("tr",{children:f.jsxs("td",{colSpan:5,className:"py-32 text-center opacity-20",children:[f.jsx(xu,{size:80,className:"mx-auto mb-6"}),f.jsx("p",{className:"font-black text-xs uppercase tracking-[0.6em]",children:"Nenhuma pendncia ativa"})]})})]})]})})]})]}),N==="payables"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[f.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ALL","PENDING","LATE","PAID"].map(Ne=>f.jsx("button",{onClick:()=>L(Ne),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${B===Ne?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:Ne==="ALL"?"Tudo":Ne==="PENDING"?"Em Aberto":Ne==="LATE"?"Crticas":"Liquidadas"},Ne))}),f.jsxs("button",{onClick:()=>k(!0),className:"btn-modern bg-blue-600 text-white hover:bg-slate-900 px-8 py-4 rounded-2xl gap-3 shadow-xl shadow-blue-900/10 font-black text-xs uppercase tracking-widest",children:[f.jsx(Gf,{size:20})," Nova Obrigao"]})]}),f.jsx("div",{className:"premium-card overflow-hidden shadow-xl",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-20 text-center",children:"STS"}),f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Entidade / Descrio do Passivo"}),f.jsx("th",{className:"text-right",children:"Saldo Remanescente"}),f.jsx("th",{className:"w-40 text-center",children:"Buffer Ao"})]})}),f.jsx("tbody",{children:d.filter(Ne=>B==="ALL"?!0:B==="LATE"?Ne.status!=="PAGO"&&Ne.data_vencimento<Et:B==="PENDING"?Ne.status!=="PAGO":Ne.status==="PAGO").sort((Ne,rt)=>Ne.data_vencimento.localeCompare(rt.data_vencimento)).map(Ne=>{const rt=Ne.status!=="PAGO"&&Ne.data_vencimento<Et;return f.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${rt?"bg-rose-50/10":""}`,children:[f.jsx("td",{className:"text-center",children:f.jsx("div",{className:`w-3.5 h-3.5 rounded-full mx-auto transition-all ${Ne.status==="PAGO"?"bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.5)]":rt?"animate-pulse bg-rose-600 shadow-[0_0_12px_rgba(225,29,72,0.5)]":"bg-slate-200 shadow-inner"}`})}),f.jsx("td",{className:"text-[11px] font-extrabold text-slate-400 group-hover:text-slate-900",children:new Date(Ne.data_vencimento).toLocaleDateString()}),f.jsxs("td",{children:[f.jsxs("p",{className:"font-extrabold text-slate-800 uppercase text-xs italic transition-all group-hover:translate-x-1",children:['"',Ne.descricao,'"']}),f.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded-md mt-1 inline-block border border-slate-100",children:Ne.categoria})]}),f.jsx("td",{className:"text-right",children:f.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Zt(Ne.valor-(Ne.valor_pago||0))})}),f.jsx("td",{className:"text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-3",children:[Ne.status!=="PAGO"&&f.jsx("button",{onClick:()=>{ie(Ne),Re((Ne.valor-(Ne.valor_pago||0)).toFixed(2).replace(".",","))},className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm",children:f.jsx(Hf,{size:18})}),f.jsx("button",{onClick:()=>g(Ne.id),className:"w-10 h-10 bg-slate-50 text-slate-300 hover:bg-rose-50 hover:text-rose-600 rounded-xl transition-all flex items-center justify-center",children:f.jsx(Zf,{size:18})})]})})]},Ne.id)})})]})})})]}),N==="profit"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Receita Bruta Acumulada",value:xt.revenue,color:"blue",icon:h1},{label:"Custo Logstico (CGS)",value:xt.cgs,color:"rose",icon:Fd},{label:"Fator Extras / Operacional",value:xt.ops,color:"orange",icon:TW},{label:"Lucro Lquido Sincronizado",value:xt.profit,color:"emerald",large:!0,icon:gs}].map((Ne,rt)=>f.jsxs("div",{className:`premium-card p-10 flex flex-col justify-center gap-6 relative overflow-hidden group transition-all hover:-translate-y-2 ${Ne.large?"bg-slate-900 text-white shadow-2xl shadow-blue-900/30":"bg-white"}`,children:[Ne.large&&f.jsx("div",{className:"absolute top-[-10%] right-[-10%] opacity-10 pointer-events-none transform rotate-12",children:f.jsx(Ne.icon,{size:160})}),f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 ${Ne.large?"bg-blue-600 text-white":"bg-slate-50 text-slate-400 group-hover:bg-slate-900 group-hover:text-white transition-colors"}`,children:f.jsx(Ne.icon,{size:22})}),f.jsxs("div",{children:[f.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${Ne.large?"text-blue-400":"text-slate-400"} mb-2`,children:Ne.label}),f.jsx("h3",{className:`text-4xl font-black tracking-tight ${Ne.large?"text-blue-100":"text-slate-900"}`,children:Zt(Ne.value)})]})]},rt))}),f.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-slate-50/10 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-inner animate-pulse",children:f.jsx(U7,{size:48,className:"text-slate-200"})}),f.jsx("h4",{className:"font-black text-xs uppercase tracking-[0.8em] text-slate-300",children:"Visualizao de Grficos Analticos"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-200 uppercase tracking-widest mt-4",children:"Processando Motor de Inteligncia BI..."})]})]})]}),(W||_e||A||I)&&f.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-xl animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-lg overflow-hidden flex flex-col border border-white relative",children:[f.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white relative",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:f.jsx(nR,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:"Terminal Financeiro"}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizador de Dados Ativo"})]}),f.jsx("button",{onClick:()=>{ee(null),ie(null),C(!1),k(!1)},className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group relative z-10",children:f.jsx(Ac,{size:24,className:"text-white group-hover:rotate-90 transition-transform"})})]}),f.jsxs("div",{className:"p-12 space-y-10 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[W&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"p-8 bg-slate-50 rounded-[32px] border border-slate-100 shadow-inner relative",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Compensao de Cliente"}),f.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',W.nome_cliente,'"']}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[f.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-2 tracking-widest",children:"Saldo Pendente em Buffer"}),f.jsx("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:Zt(Se(W).saldoDevedor)})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor Recebido (R$)"}),f.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-20 text-4xl font-black text-center bg-blue-50/30 border-blue-100",value:O,onChange:Ne=>K(Ne.target.value)})]}),f.jsxs("div",{className:"p-6 bg-orange-50/50 border-2 border-orange-100 rounded-3xl space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center",children:f.jsx(u1,{size:20,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Desconto por Avaria"}),f.jsx("p",{className:"text-[9px] font-bold text-orange-400 uppercase tracking-wider",children:"Carne machucada / Transporte"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Valor do Desconto (R$)"}),f.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-16 text-2xl font-black text-center bg-white border-orange-200",value:H,onChange:Ne=>Z(Ne.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Motivo do Desconto"}),f.jsx("input",{type:"text",placeholder:"Ex: CARNE MACHUCADA NO TRANSPORTE",className:"modern-input h-14 text-xs bg-white border-orange-200 uppercase",value:te,onChange:Ne=>me(Ne.target.value.toUpperCase())})]})]}),f.jsxs("div",{className:"p-6 bg-slate-900 rounded-3xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Recebido:"}),f.jsx("span",{className:"text-lg font-black text-white",children:Zt(parseFloat(O.replace(",","."))||0)})]}),f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Desconto:"}),f.jsxs("span",{className:"text-lg font-black text-orange-400",children:["- ",Zt(parseFloat(H.replace(",","."))||0)]})]}),f.jsx("div",{className:"h-px bg-white/10 my-4"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Total Baixado:"}),f.jsx("span",{className:"text-3xl font-black text-white",children:Zt((parseFloat(O.replace(",","."))||0)+(parseFloat(H.replace(",","."))||0))})]})]}),f.jsx("button",{onClick:tt,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Recebimento"})]}),A&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Histrico do Registro"}),f.jsx("input",{type:"text",placeholder:"Ex: Manuteno da Frota",className:"modern-input h-16 bg-slate-50/30",value:Q.descricao,onChange:Ne=>se({...Q,descricao:Ne.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante (R$)"}),f.jsx("input",{type:"number",placeholder:"0.00",className:"modern-input h-16 font-black text-xl",value:Q.valor||"",onChange:Ne=>se({...Q,valor:parseFloat(Ne.target.value)})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Valor"}),f.jsx("input",{type:"date",className:"modern-input h-16",value:Q.data,onChange:Ne=>se({...Q,data:Ne.target.value})})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Classificao Contbil"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{className:"modern-input h-16 bg-slate-50/30 appearance-none font-bold text-xs uppercase cursor-pointer",value:Q.categoria,onChange:Ne=>se({...Q,categoria:Ne.target.value}),children:[f.jsx("option",{value:"OPERACIONAL",children:"OPERACIONAL"}),f.jsx("option",{value:"ESTRUTURA",children:"SEDENTARES / SEDE"}),f.jsx("option",{value:"FUNCIONARIOS",children:"SARGENTOS / FUNCIONRIOS"}),f.jsx("option",{value:"COMPRA_GADO",children:"MATRIA PRIMA / GADO"})]}),f.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:f.jsx(Ou,{size:20,className:"rotate-90"})})]})]}),f.jsx("button",{onClick:ue,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-2xl shadow-blue-900/10 transition-all font-black uppercase tracking-widest text-xs",children:"Efetuar Registro"})]}),I&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Identificao do Passivo"}),f.jsx("input",{type:"text",placeholder:"Ex: Tributos Estaduais",className:"modern-input h-16 bg-slate-50/30",value:j.descricao,onChange:Ne=>V({...j,descricao:Ne.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor da Dvida"}),f.jsx("input",{type:"number",placeholder:"0.00",className:"modern-input h-16 font-black text-xl",value:j.valor||"",onChange:Ne=>V({...j,valor:parseFloat(Ne.target.value)})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Vencimento Fixo"}),f.jsx("input",{type:"date",className:"modern-input h-16",value:j.data_vencimento,onChange:Ne=>V({...j,data_vencimento:Ne.target.value})})]})]}),f.jsx("button",{onClick:()=>{h({...j,id:`PAY-${Date.now()}`,status:"PENDENTE"}),k(!1)},className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-orange-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Agendar para Ciclo"})]}),_e&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"p-8 bg-rose-50 border border-rose-100 rounded-[32px] shadow-inner",children:[f.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-3",children:"Baixa de Passivo / Sada"}),f.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',_e.descricao,'"']}),f.jsx("p",{className:"text-4xl font-black text-rose-600 mt-8 tracking-tight",children:Zt(_e.valor-(_e.valor_pago||0))})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante da Liquidao"}),f.jsx("input",{type:"text",className:"modern-input h-20 text-4xl font-black text-center bg-rose-50/30 border-rose-100",value:Ae,onChange:Ne=>Re(Ne.target.value)})]}),f.jsx("button",{onClick:ge,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Pagamento"})]})]}),f.jsx("div",{className:"p-8 bg-slate-50/50 text-center border-t border-slate-50 relative z-10",children:f.jsx("p",{className:"text-[8px] font-black text-slate-200 uppercase tracking-[0.5em]",children:"FG-FIN-TERMINAL v2.5.5"})})]})})]})},cfe=({stock:t,batches:e,sales:n,clients:r,initialSearchTerm:i,onBack:a})=>{const[s,l]=be.useState(i||""),[c,d]=be.useState(i?"client":"date"),[h,m]=be.useState(new Set),g=I=>{const k=new Set(h);k.has(I)?k.delete(I):k.add(I),m(k)},y=be.useMemo(()=>n.map(I=>{const k=t.find(Y=>Y.id_completo===I.id_completo),B=(k==null?void 0:k.id_lote)||I.id_completo.split("-").slice(0,3).join("-"),L=e.find(Y=>Y.id_lote===B),z=r.find(Y=>Y.id_ferro===I.id_cliente),D=I.peso_real_saida*I.preco_venda_kg,j=L&&Number(L.custo_real_kg)||0,V=I.peso_real_saida*j+(I.custo_extras_total||0);return{sale:I,item:k,batch:L,client:z,revenue:D,cost:V,profit:D-V}}).filter(I=>{var B,L,z,D;if(!s)return!0;const k=s.toLowerCase();return((B=I.sale.nome_cliente)==null?void 0:B.toLowerCase().includes(k))||((L=I.item)==null?void 0:L.id_completo.toLowerCase().includes(k))||((z=I.batch)==null?void 0:z.id_lote.toLowerCase().includes(k))||((D=I.batch)==null?void 0:D.fornecedor.toLowerCase().includes(k))}).sort((I,k)=>k.sale.data_venda.localeCompare(I.sale.data_venda)),[n,t,e,r,s]),N=be.useMemo(()=>y.reduce((I,k)=>({revenue:I.revenue+k.revenue,cost:I.cost+k.cost,profit:I.profit+k.profit,count:I.count+1}),{revenue:0,cost:0,profit:0,count:0}),[y]),S=be.useMemo(()=>{const I=new Map;return y.forEach(k=>{var L,z;let B="";if(c==="date"){const D=new Date(k.sale.data_venda);B=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`}else c==="client"?B=((L=k.client)==null?void 0:L.id_ferro)||"unknown":c==="batch"&&(B=((z=k.batch)==null?void 0:z.id_lote)||"unknown");I.has(B)||I.set(B,[]),I.get(B).push(k)}),Array.from(I.entries()).map(([k,B])=>{const L=B.reduce((V,Y)=>V+Y.revenue,0),z=B.reduce((V,Y)=>V+Y.cost,0),D=B.reduce((V,Y)=>V+Y.profit,0);let j=k;return c==="date"?j=new Date(B[0].sale.data_venda).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).toUpperCase():c==="client"?j=B[0].client?B[0].client.nome_social:B[0].sale.nome_cliente||"CLIENTE_DESCONHECIDO":c==="batch"&&(j=B[0].batch?`LOTE_${B[0].batch.id_lote}`:"SEM_LOTE"),{id:k,label:j,items:B,totalRevenue:L,totalCost:z,totalProfit:D,mostRecentDate:B[0].sale.data_venda}}).sort((k,B)=>B.mostRecentDate.localeCompare(k.mostRecentDate))},[y,c]),A=()=>{const I=y.map(({sale:k,item:B,batch:L,revenue:z,cost:D,profit:j})=>({DATA:k.data_venda,CLIENTE:k.nome_cliente,ITEM_ID:(B==null?void 0:B.id_completo)||"N/A",LOTE:(L==null?void 0:L.id_lote)||"N/A",PESO_SAIDA:k.peso_real_saida,PRECO_KG:k.preco_venda_kg,RECEITA:z,LUCRO:j}));lK(I,`FRIGOGEST_HIST_${new Date().toISOString().split("T")[0]}.csv`)},C=I=>{var z;const k=new $t,B=k.internal.pageSize.width;k.setFont("helvetica","bold"),k.setFontSize(18),k.text("RECIBO DE EXPEDIO",B/2,25,{align:"center"}),k.setFontSize(10),k.setFont("helvetica","normal"),k.text(`FRIGOGEST INDUSTRIAL  ${new Date().toLocaleDateString()}`,B/2,32,{align:"center"}),k.line(20,40,B-20,40),k.setFont("helvetica","bold"),k.text("DADOS DA VENDA",20,50),k.setFont("helvetica","normal"),k.text(`CLIENTE: ${((z=I.nome_cliente)==null?void 0:z.toUpperCase())||"Venda Direta"}`,20,58),k.text(`DATA: ${I.data_venda}`,20,64),k.text(`ID VENDA: ${I.id_venda}`,20,70),k.line(20,80,B-20,80),k.text("ITEM",20,90),k.text("PESO (KG)",100,90,{align:"right"}),k.text("VALOR (R$)",140,90,{align:"right"}),k.text("SUBTOTAL (R$)",180,90,{align:"right"});const L=I.peso_real_saida*I.preco_venda_kg;k.text(I.id_completo,20,100),k.text(I.peso_real_saida.toFixed(2),100,100,{align:"right"}),k.text(I.preco_venda_kg.toFixed(2),140,100,{align:"right"}),k.text(L.toFixed(2),180,100,{align:"right"}),k.line(20,110,B-20,110),k.setFont("helvetica","bold"),k.text("TOTAL GERAL:",140,120,{align:"right"}),k.text(Zt(L),180,120,{align:"right"}),k.save(`RECIBO_${I.id_venda.substring(0,8)}.pdf`)};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:f.jsx(Wd,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Histrico de ",f.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Registro de Expedio / ID-LOG"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto items-center",children:[f.jsxs("div",{className:"relative group flex-1 md:flex-none md:min-w-[300px]",children:[f.jsx(gm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),f.jsx("input",{type:"text",placeholder:"Pesquisar registros...",className:"modern-input pl-12 h-12 text-sm",value:s,onChange:I=>l(I.target.value)})]}),f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm shrink-0",children:[{id:"date",label:"Data"},{id:"client",label:"Cliente"},{id:"batch",label:"Lote"}].map(I=>f.jsx("button",{onClick:()=>d(I.id),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${c===I.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:I.label},I.id))}),f.jsx("button",{onClick:A,className:"w-12 h-12 rounded-2xl bg-white border border-slate-100 flex items-center justify-center text-slate-500 hover:bg-blue-600 hover:text-white transition-all shadow-sm",children:f.jsx(V7,{size:20})})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Faturamento Total",val:N.revenue,icon:Hf,color:"blue"},{label:"Custo de Mercadoria",val:N.cost,icon:f1,color:"slate"},{label:"Margem Lquida",val:N.profit,icon:h1,color:"emerald"}].map((I,k)=>f.jsxs("div",{className:"premium-card p-8 flex flex-col gap-4 group hover:translate-x-1 transition-all",children:[f.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${I.color==="blue"?"blue":I.color==="emerald"?"emerald":"slate"}-50 text-${I.color==="blue"?"blue":I.color==="emerald"?"emerald":"slate"}-600 flex items-center justify-center`,children:f.jsx(I.icon,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:I.label}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:Zt(I.val)})]})]},k))}),f.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:S.map(I=>{const k=h.has(I.id);return f.jsxs("div",{className:`premium-card p-0 overflow-hidden transition-all ${k?"ring-2 ring-blue-500/10":""}`,children:[f.jsxs("div",{onClick:()=>g(I.id),className:`p-6 flex flex-col md:flex-row items-center justify-between cursor-pointer transition-all gap-8 ${k?"bg-slate-900 text-white":"bg-white hover:bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[f.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border font-bold ${k?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40":"bg-slate-50 text-slate-400 border-slate-100"}`,children:[c==="date"&&f.jsx(Z0,{size:20}),c==="client"&&f.jsx(a0,{size:20}),c==="batch"&&f.jsx(dh,{size:20})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-lg font-black uppercase tracking-tight ${k?"text-white":"text-slate-900"}`,children:I.label}),f.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest mt-1 text-slate-400",children:[I.items.length," Operaes registradas"]})]})]}),f.jsxs("div",{className:"flex items-center gap-10 w-full md:w-auto justify-between md:justify-end",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Receita"}),f.jsx("p",{className:"font-black text-sm",children:Zt(I.totalRevenue)})]}),f.jsxs("div",{className:"text-right border-l border-white/10 pl-10",children:[f.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Resultado"}),f.jsx("p",{className:`font-black text-sm ${I.totalProfit>=0?k?"text-blue-400":"text-blue-600":"text-rose-500"}`,children:Zt(I.totalProfit)})]}),f.jsx("div",{className:`transition-all duration-300 ${k?"rotate-90 text-blue-400":"text-slate-300"}`,children:f.jsx(Ou,{size:24})})]})]}),k&&f.jsx("div",{className:"p-0 animate-reveal overflow-x-auto bg-white",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Data"}),f.jsx("th",{children:"Destinatrio"}),f.jsx("th",{children:"ID Item"}),f.jsx("th",{className:"text-right",children:"Peso Sada"}),f.jsx("th",{className:"text-right",children:"Quebra (KG)"}),f.jsx("th",{className:"text-right",children:"Valor Venda"}),f.jsx("th",{className:"text-right",children:"Margem"}),f.jsx("th",{className:"text-center",children:"Aes"})]})}),f.jsx("tbody",{children:I.items.map((B,L)=>{var D,j;const z=(((D=B.item)==null?void 0:D.peso_entrada)||0)-B.sale.peso_real_saida;return f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"text-[10px] font-bold text-slate-400",children:new Date(B.sale.data_venda).toLocaleDateString()}),f.jsx("td",{className:"font-extrabold uppercase text-xs text-slate-900 truncate max-w-[150px]",children:B.sale.nome_cliente||"Loja Fsica"}),f.jsx("td",{className:"font-mono text-[9px] text-slate-400",children:((j=B.item)==null?void 0:j.id_completo)||"N/A"}),f.jsx("td",{className:"text-right font-black text-slate-900",children:_r(B.sale.peso_real_saida)}),f.jsx("td",{className:`text-right font-black ${z>0?"text-orange-600":"text-emerald-600"}`,children:_r(z)}),f.jsx("td",{className:"text-right font-black text-slate-900",children:Zt(B.revenue)}),f.jsx("td",{className:`text-right font-black ${B.profit>=0?"text-blue-600":"text-rose-600"}`,children:Zt(B.profit)}),f.jsx("td",{className:"text-center",children:f.jsx("button",{onClick:()=>C(B.sale),className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 hover:bg-slate-900 hover:text-white transition-all flex items-center justify-center",children:f.jsx($7,{size:16})})})]},L)})})]})})]},I.id)})})]})};var ufe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dfe,ffe;function hfe(){return{geminiUrl:dfe,vertexUrl:ffe}}function pfe(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=hfe();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lu{}function Ct(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];w(h,e.slice(a+1),n[d])}else for(const d of c)w(d,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];w(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(l=>x(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function mfe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&a.length>l)for(let c=l;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}xN(t,i,a,0,s)}}function xN(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])xN(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of l)c[d]=s[d];for(const[d,h]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(d):m.push(g);w(s,m,h)}for(const d of l)delete s[d]}}else{const s=t;a in s&&xN(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gfe(t){const e={},n=x(t,["operationName"]);n!=null&&w(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function vfe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],xfe(s)),e}function yfe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],bfe(s)),e}function xfe(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>_fe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function bfe(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>wfe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function _fe(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],Cfe(n)),e}function wfe(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],Ife(n)),e}function Afe(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function Sfe(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function Efe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],Nfe(s)),e}function Nfe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function IB(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],Tfe(s)),e}function Tfe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Cfe(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],gC(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function Ife(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],gC(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gD||(gD={}));var vD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vD||(vD={}));var yD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(yD||(yD={}));var Md;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Md||(Md={}));var xD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xD||(xD={}));var bD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(bD||(bD={}));var _D;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_D||(_D={}));var wD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(wD||(wD={}));var AD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(AD||(AD={}));var SD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SD||(SD={}));var ED;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ED||(ED={}));var ND;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(ND||(ND={}));var TD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(TD||(TD={}));var CD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(CD||(CD={}));var ID;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ID||(ID={}));var RD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(RD||(RD={}));var kD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kD||(kD={}));var PD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(PD||(PD={}));var OD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(OD||(OD={}));var jD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(jD||(jD={}));var MD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(MD||(MD={}));var mx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(mx||(mx={}));var DD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DD||(DD={}));var LD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(LD||(LD={}));var FD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(FD||(FD={}));var bN;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bN||(bN={}));var UD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(UD||(UD={}));var BD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(BD||(BD={}));var qD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qD||(qD={}));var VD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(VD||(VD={}));var zD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zD||(zD={}));var $D;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($D||($D={}));var HD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(HD||(HD={}));var GD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(GD||(GD={}));var WD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(WD||(WD={}));var KD;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(KD||(KD={}));var YD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(YD||(YD={}));var JD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(JD||(JD={}));var XD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(XD||(XD={}));var QD;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(QD||(QD={}));var ZD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ZD||(ZD={}));var eL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(eL||(eL={}));var tL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(tL||(tL={}));var nL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nL||(nL={}));var rL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(rL||(rL={}));var iL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(iL||(iL={}));var aL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(aL||(aL={}));var sL;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(sL||(sL={}));var oL;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(oL||(oL={}));var lL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lL||(lL={}));var cL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cL||(cL={}));var uL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(uL||(uL={}));var dL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dL||(dL={}));var fL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fL||(fL={}));var hL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(hL||(hL={}));var _p;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_p||(_p={}));class _N{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Tg{get text(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const g of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,N]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(N!==null||N!==void 0)&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&(y!==null||y!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class pL{}class mL{}class Rfe{}class kfe{}class Pfe{}class Ofe{}class gL{}class vL{}class yL{}class jfe{}class gx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gx;let i;const a=e;return n?i=yfe(a):i=vfe(a),Object.assign(r,i),r}}class xL{}class bL{}class _L{}class wL{}class Mfe{}class Dfe{}class Lfe{}class vC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vC,a=Efe(e);return Object.assign(r,a),r}}class Ffe{}class Ufe{}class Bfe{}class AL{}class qfe{get text(){var e,n,r;let i="",a=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&a.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Vfe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new yC,a=IB(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function RB(t,e){const n=Jn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function kB(t){return Array.isArray(t)?t.map(e=>vx(e)):[vx(t)]}function vx(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function PB(t){const e=vx(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function OB(t){const e=vx(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function SL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>SL(e)):[SL(t)]}function wN(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function EL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function NL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function es(t){if(t==null)throw new Error("ContentUnion is required");return wN(t)?t:{role:"user",parts:jB(t)}}function xC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=es(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=es(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>es(n)):[es(e)]}function $o(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(EL(t)||NL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[es(t)]}const e=[],n=[],r=wN(t[0]);for(const i of t){const a=wN(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(EL(i)||NL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:jB(n)}),e}function zfe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Md).includes(n[0].toUpperCase())?n[0].toUpperCase():Md.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Md).includes(r.toUpperCase())?r.toUpperCase():Md.TYPE_UNSPECIFIED})}}function Op(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&zfe(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Md).includes(l.toUpperCase())?l.toUpperCase():Md.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Op(l);else if(r.includes(s)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(Op(d))}e[s]=c}else if(i.includes(s)){const c={};for(const[d,h]of Object.entries(l))c[d]=Op(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function bC(t){return Op(t)}function _C(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wC(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Nm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Op(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Op(e.response));return t}function Tm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $fe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Fu(t,e){if(typeof e!="string")throw new Error("name must be a string");return $fe(t,e,"cachedContents")}function MB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function df(t){return gC(t)}function Hfe(t){return t!=null&&typeof t=="object"&&"name"in t}function Gfe(t){return t!=null&&typeof t=="object"&&"video"in t}function Wfe(t){return t!=null&&typeof t=="object"&&"uri"in t}function DB(t){var e;let n;if(Hfe(t)&&(n=t.name),!(Wfe(t)&&(n=t.uri,n===void 0))&&!(Gfe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function LB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function FB(t){for(const e of["models","tunedModels","publisherModels"])if(Kfe(t,e))return t[e];return[]}function Kfe(t,e){return t!==null&&typeof t=="object"&&e in t}function Yfe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Jfe(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Yfe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function UB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Xfe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function BB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Cm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function qB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qfe(t){const e={},n=x(t,["responsesFile"]);n!=null&&w(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Phe(s))),w(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["inlinedEmbedContentResponses"],a)}return e}function Zfe(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function ehe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ky(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&w(e,["state"],qB(i));const a=x(t,["metadata","createTime"]);a!=null&&w(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&w(e,["endTime"],s);const l=x(t,["metadata","updateTime"]);l!=null&&w(e,["updateTime"],l);const c=x(t,["metadata","model"]);c!=null&&w(e,["model"],c);const d=x(t,["metadata","output"]);return d!=null&&w(e,["dest"],Qfe(BB(d))),e}function AN(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["state"]);i!=null&&w(e,["state"],qB(i));const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["createTime"]);s!=null&&w(e,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(e,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(e,["endTime"],c);const d=x(t,["updateTime"]);d!=null&&w(e,["updateTime"],d);const h=x(t,["model"]);h!=null&&w(e,["model"],h);const m=x(t,["inputConfig"]);m!=null&&w(e,["src"],the(m));const g=x(t,["outputConfig"]);g!=null&&w(e,["dest"],Zfe(BB(g)));const y=x(t,["completionStats"]);return y!=null&&w(e,["completionStats"],y),e}function the(t){const e={},n=x(t,["instancesFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function nhe(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&w(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>khe(t,s))),w(n,["requests","requests"],a)}return n}function rhe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ihe(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ahe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Cm(t,r)),n}function she(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Cm(t,r)),n}function ohe(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],lhe(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const d=x(t,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function lhe(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function VB(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Uhe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function che(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function uhe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],ehe(Xfe(i))),n}function TL(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],nhe(t,UB(t,i)));const a=x(e,["config"]);return a!=null&&che(a,n),n}function dhe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],Jn(t,r));const i=x(e,["src"]);i!=null&&w(n,["inputConfig"],rhe(UB(t,i)));const a=x(e,["config"]);return a!=null&&uhe(a,n),n}function fhe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),n}function hhe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],bhe(t,i));const a=x(e,["config"]);return a!=null&&fhe(a,n),n}function phe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Cm(t,r)),n}function mhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Cm(t,r)),n}function ghe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function vhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function yhe(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=xC(t,r);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(w(n,["_self"],xhe(i,n)),mfe(n,{"requests[].*":"requests[].request.*"})),n}function xhe(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bhe(t,e){const n={},r=x(e,["fileName"]);r!=null&&w(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&w(n,["requests"],yhe(t,i)),n}function _he(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function whe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ahe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function She(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],VB(es(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const S=x(e,["seed"]);S!=null&&w(r,["seed"],S);const A=x(e,["responseMimeType"]);A!=null&&w(r,["responseMimeType"],A);const C=x(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],bC(C));const I=x(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(Q=>Bhe(Q))),w(n,["safetySettings"],F)}const B=x(e,["tools"]);if(n!==void 0&&B!=null){let F=Tm(B);Array.isArray(F)&&(F=F.map(Q=>Vhe(Nm(Q)))),w(n,["tools"],F)}const L=x(e,["toolConfig"]);if(n!==void 0&&L!=null&&w(n,["toolConfig"],qhe(L)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],Fu(t,z));const D=x(e,["responseModalities"]);D!=null&&w(r,["responseModalities"],D);const j=x(e,["mediaResolution"]);j!=null&&w(r,["mediaResolution"],j);const V=x(e,["speechConfig"]);if(V!=null&&w(r,["speechConfig"],_C(V)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=x(e,["thinkingConfig"]);Y!=null&&w(r,["thinkingConfig"],Y);const q=x(e,["imageConfig"]);q!=null&&w(r,["imageConfig"],Rhe(q));const M=x(e,["enableEnhancedCivicAnswers"]);return M!=null&&w(r,["enableEnhancedCivicAnswers"],M),r}function Ehe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>ohe(d))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function Nhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Cm(t,r)),n}function The(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Cm(t,r)),n}function Che(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function Ihe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function Rhe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function khe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["request","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let l=$o(i);Array.isArray(l)&&(l=l.map(c=>VB(c))),w(n,["request","contents"],l)}const a=x(e,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&w(n,["request","generationConfig"],She(t,s,x(n,["request"],{}))),n}function Phe(t){const e={},n=x(t,["response"]);n!=null&&w(e,["response"],Ehe(n));const r=x(t,["error"]);return r!=null&&w(e,["error"],r),e}function Ohe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function jhe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),n}function Mhe(t){const e={},n=x(t,["config"]);return n!=null&&Ohe(n,e),e}function Dhe(t){const e={},n=x(t,["config"]);return n!=null&&jhe(n,e),e}function Lhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ky(s))),w(e,["batchJobs"],a)}return e}function Fhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>AN(s))),w(e,["batchJobs"],a)}return e}function Uhe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],_he(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],whe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],ihe(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Bhe(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function qhe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],Ahe(r)),e}function Vhe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],Che(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],Ihe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Tu||(Tu={}));class vh{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zhe extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Tu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=TL(this.apiClient,e),r=n._url,i=Ct("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=g,m.request=y}d.push(m)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=dhe(this.apiClient,e);return l=Ct("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>AN(h))}else{const d=TL(this.apiClient,e);return l=Ct("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ky(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hhe(this.apiClient,e);return a=Ct("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Ky(c))}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=The(this.apiClient,e);return l=Ct("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>AN(h))}else{const d=Nhe(this.apiClient,e);return l=Ct("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Ky(h))}}async cancel(e){var n,r,i,a;let s="",l={};if(this.apiClient.isVertexAI()){const c=she(this.apiClient,e);s=Ct("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=ahe(this.apiClient,e);s=Ct("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Dhe(e);return l=Ct("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Fhe(h),g=new AL;return Object.assign(g,m),g})}else{const d=Mhe(e);return l=Ct("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Lhe(h),g=new AL;return Object.assign(g,m),g})}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=mhe(this.apiClient,e);return l=Ct("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>vhe(h))}else{const d=phe(this.apiClient,e);return l=Ct("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>ghe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $he(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function CL(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>hpe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function Hhe(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=$o(s);Array.isArray(h)&&(h=h.map(m=>CL(m))),w(e,["contents"],h)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],CL(es(l)));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>mpe(m))),w(e,["tools"],h)}const d=x(t,["toolConfig"]);if(e!==void 0&&d!=null&&w(e,["toolConfig"],ppe(d)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ghe(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let m=$o(s);Array.isArray(m)&&(m=m.map(g=>g)),w(e,["contents"],m)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],es(l));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>gpe(g))),w(e,["tools"],m)}const d=x(t,["toolConfig"]);e!==void 0&&d!=null&&w(e,["toolConfig"],d);const h=x(t,["kmsKeyName"]);return e!==void 0&&h!=null&&w(e,["encryption_spec","kmsKeyName"],h),n}function Whe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],RB(t,r));const i=x(e,["config"]);return i!=null&&Hhe(i,n),n}function Khe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],RB(t,r));const i=x(e,["config"]);return i!=null&&Ghe(i,n),n}function Yhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Fu(t,r)),n}function Jhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Fu(t,r)),n}function Xhe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function Qhe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function Zhe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function epe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tpe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function npe(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function rpe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Fu(t,r)),n}function ipe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Fu(t,r)),n}function ape(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function spe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function ope(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function lpe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function cpe(t){const e={},n=x(t,["config"]);return n!=null&&ope(n,e),e}function upe(t){const e={},n=x(t,["config"]);return n!=null&&lpe(n,e),e}function dpe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function fpe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function hpe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Zhe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],epe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],$he(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function ppe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],tpe(r)),e}function mpe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],ape(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],spe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function gpe(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>npe(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const d=x(t,["googleSearchRetrieval"]);d!=null&&w(e,["googleSearchRetrieval"],d);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function vpe(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function ype(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function xpe(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],Fu(t,r));const i=x(e,["config"]);return i!=null&&vpe(i,n),n}function bpe(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],Fu(t,r));const i=x(e,["config"]);return i!=null&&ype(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _pe extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Tu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Khe(this.apiClient,e);return l=Ct("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Whe(this.apiClient,e);return l=Ct("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=ipe(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=rpe(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Jhe(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Qhe(h),g=new _L;return Object.assign(g,m),g})}else{const d=Yhe(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Xhe(h),g=new _L;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=bpe(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=xpe(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=upe(e);return l=Ct("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=fpe(h),g=new wL;return Object.assign(g,m),g})}else{const d=cpe(e);return l=Ct("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=dpe(h),g=new wL;return Object.assign(g,m),g})}}}function yx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function IL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function an(t){return this instanceof an?(this.v=t,this):new an(t)}function Il(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(N){return Promise.resolve(N).then(y,m)}}function l(y,N){r[y]&&(i[y]=function(S){return new Promise(function(A,C){a.push([y,S,A,C])>1||c(y,S)})},N&&(i[y]=N(i[y])))}function c(y,N){try{d(r[y](N))}catch(S){g(a[0][3],S)}}function d(y){y.value instanceof an?Promise.resolve(y.value.v).then(h,m):g(a[0][2],y)}function h(y){c("next",y)}function m(y){c("throw",y)}function g(y,N){y(N),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Rl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof IL=="function"?IL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(l,c){s=t[a](s),i(l,c,s.done,s.value)})}}function i(a,s,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wpe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:zB(n)}function zB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ape(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function RL(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!zB(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Spe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Epe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Epe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Ape(a)}async sendMessage(e){var n;await this.sendPromise;const r=es(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,l;const c=await i,d=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(m))!==null&&l!==void 0?l:[]);const y=d?[d]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=es(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?RL(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Il(this,arguments,function*(){var i,a,s,l,c,d;const h=[];try{for(var m=!0,g=Rl(e),y;y=yield an(g.next()),i=y.done,!i;m=!0){l=y.value,m=!1;const N=l;if(wpe(N)){const S=(d=(c=N.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;S!==void 0&&h.push(S)}yield yield an(N)}}catch(N){a={error:N}}finally{try{!m&&!i&&(s=g.return)&&(yield an(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...RL(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,wb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Npe(t){const e={},n=x(t,["file"]);return n!=null&&w(e,["file"],n),e}function Tpe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function Cpe(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],DB(n)),e}function Ipe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function Rpe(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],DB(n)),e}function kpe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function Ppe(t){const e={},n=x(t,["config"]);return n!=null&&kpe(n,e),e}function Ope(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jpe extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Tu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ppe(e);return a=Ct("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Ope(c),h=new Ffe;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Npe(e);return a=Ct("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Tpe(c),h=new Ufe;return Object.assign(h,d),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Rpe(e);return a=Ct("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Cpe(e);return a=Ct("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Ipe(c),h=new Bfe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yy(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Mpe(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Xpe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function Dpe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Lpe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fpe(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Upe(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const d=x(t,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const S=x(t,["responseSchema"]);S!=null&&w(e,["responseSchema"],S);const A=x(t,["routingConfig"]);A!=null&&w(e,["routingConfig"],A);const C=x(t,["seed"]);C!=null&&w(e,["seed"],C);const I=x(t,["speechConfig"]);I!=null&&w(e,["speechConfig"],I);const k=x(t,["stopSequences"]);k!=null&&w(e,["stopSequences"],k);const B=x(t,["temperature"]);B!=null&&w(e,["temperature"],B);const L=x(t,["thinkingConfig"]);L!=null&&w(e,["thinkingConfig"],L);const z=x(t,["topK"]);z!=null&&w(e,["topK"],z);const D=x(t,["topP"]);if(D!=null&&w(e,["topP"],D),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Bpe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function qpe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function Vpe(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],wC(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],Mpe(es(N)));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let z=Tm(S);Array.isArray(z)&&(z=z.map(D=>Zpe(Nm(D)))),w(e,["setup","tools"],z)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&w(e,["setup","sessionResumption"],Qpe(A));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const I=x(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const k=x(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&w(e,["setup","realtimeInputConfig"],k);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&w(e,["setup","contextWindowCompression"],B);const L=x(t,["proactivity"]);if(e!==void 0&&L!=null&&w(e,["setup","proactivity"],L),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function zpe(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],Upe(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],wC(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],es(N));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let D=Tm(S);Array.isArray(D)&&(D=D.map(j=>eme(Nm(j)))),w(e,["setup","tools"],D)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&w(e,["setup","sessionResumption"],A);const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const I=x(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const k=x(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&w(e,["setup","realtimeInputConfig"],k);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&w(e,["setup","contextWindowCompression"],B);const L=x(t,["proactivity"]);e!==void 0&&L!=null&&w(e,["setup","proactivity"],L);const z=x(t,["explicitVadSignal"]);return e!==void 0&&z!=null&&w(e,["setup","explicitVadSignal"],z),n}function $pe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],Jn(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],Vpe(i,n)),n}function Hpe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],Jn(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],zpe(i,n)),n}function Gpe(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&w(e,["musicGenerationConfig"],n),e}function Wpe(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function Kpe(t){const e={},n=x(t,["media"]);if(n!=null){let d=kB(n);Array.isArray(d)&&(d=d.map(h=>Yy(h))),w(e,["mediaChunks"],d)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],Yy(OB(r)));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],Yy(PB(a)));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function Ype(t){const e={},n=x(t,["media"]);if(n!=null){let d=kB(n);Array.isArray(d)&&(d=d.map(h=>h)),w(e,["mediaChunks"],d)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],OB(r));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],PB(a));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function Jpe(t){const e={},n=x(t,["setupComplete"]);n!=null&&w(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&w(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&w(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&w(e,["usageMetadata"],tme(s));const l=x(t,["goAway"]);l!=null&&w(e,["goAway"],l);const c=x(t,["sessionResumptionUpdate"]);c!=null&&w(e,["sessionResumptionUpdate"],c);const d=x(t,["voiceActivityDetectionSignal"]);d!=null&&w(e,["voiceActivityDetectionSignal"],d);const h=x(t,["voiceActivity"]);return h!=null&&w(e,["voiceActivity"],nme(h)),e}function Xpe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Dpe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Lpe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],Yy(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Qpe(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zpe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],Bpe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],qpe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function eme(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>Fpe(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const d=x(t,["googleSearchRetrieval"]);d!=null&&w(e,["googleSearchRetrieval"],d);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function tme(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&w(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&w(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&w(e,["thoughtsTokenCount"],s);const l=x(t,["totalTokenCount"]);l!=null&&w(e,["totalTokenCount"],l);const c=x(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["promptTokensDetails"],y)}const d=x(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["cacheTokensDetails"],y)}const h=x(t,["candidatesTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["responseTokensDetails"],y)}const m=x(t,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["toolUsePromptTokensDetails"],y)}const g=x(t,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}function nme(t){const e={},n=x(t,["type"]);return n!=null&&w(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rme(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ime(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],ame(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const d=x(t,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function ame(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function sme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let a=$o(i);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["contents"],a)}return n}function ome(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["tokensInfo"],i)}return e}function lme(t){const e={},n=x(t,["values"]);n!=null&&w(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&w(e,["statistics"],cme(r)),e}function cme(t){const e={},n=x(t,["truncated"]);n!=null&&w(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function Ab(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>yge(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function ume(t){const e={},n=x(t,["controlType"]);n!=null&&w(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function dme(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function fme(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],es(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>WB(l))),w(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&w(e,["generationConfig"],rge(a)),n}function hme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let s=$o(i);Array.isArray(s)&&(s=s.map(l=>Ab(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&dme(a),n}function pme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let s=$o(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&fme(a,n),n}function mme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function gme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function vme(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],Jn(t,r)),n}function yme(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],Jn(t,r)),n}function xme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function bme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function _me(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const d=x(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const N=x(t,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const S=x(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&w(e,["parameters","outputOptions","compressionQuality"],S);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&w(e,["parameters","addWatermark"],A);const C=x(t,["labels"]);e!==void 0&&C!=null&&w(e,["labels"],C);const I=x(t,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const k=x(t,["baseSteps"]);return e!==void 0&&k!=null&&w(e,["parameters","editConfig","baseSteps"],k),n}function wme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Sge(c))),w(n,["instances[0]","referenceImages"],l)}const s=x(e,["config"]);return s!=null&&_me(s,n),n}function Ame(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Sb(a))),w(e,["generatedImages"],i)}return e}function Sme(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Eme(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&w(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&w(e,["instances[]","mimeType"],s);const l=x(t,["autoTruncate"]);return e!==void 0&&l!=null&&w(e,["parameters","autoTruncate"],l),n}function Nme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let l=xC(t,i);Array.isArray(l)&&(l=l.map(c=>c)),w(n,["requests[]","content"],l)}const a=x(e,["config"]);a!=null&&Sme(a,n);const s=x(e,["model"]);return s!==void 0&&w(n,["requests[]","model"],Jn(t,s)),n}function Tme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let s=xC(t,i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&Eme(a,n),n}function Cme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function Ime(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>lme(s))),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function Rme(t){const e={},n=x(t,["endpoint"]);n!=null&&w(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function kme(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Pme(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ome(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jme(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Mme(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Ab(es(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const S=x(e,["seed"]);S!=null&&w(r,["seed"],S);const A=x(e,["responseMimeType"]);A!=null&&w(r,["responseMimeType"],A);const C=x(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],bC(C));const I=x(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(Q=>Ege(Q))),w(n,["safetySettings"],F)}const B=x(e,["tools"]);if(n!==void 0&&B!=null){let F=Tm(B);Array.isArray(F)&&(F=F.map(Q=>Pge(Nm(Q)))),w(n,["tools"],F)}const L=x(e,["toolConfig"]);if(n!==void 0&&L!=null&&w(n,["toolConfig"],kge(L)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],Fu(t,z));const D=x(e,["responseModalities"]);D!=null&&w(r,["responseModalities"],D);const j=x(e,["mediaResolution"]);j!=null&&w(r,["mediaResolution"],j);const V=x(e,["speechConfig"]);if(V!=null&&w(r,["speechConfig"],_C(V)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=x(e,["thinkingConfig"]);Y!=null&&w(r,["thinkingConfig"],Y);const q=x(e,["imageConfig"]);q!=null&&w(r,["imageConfig"],lge(q));const M=x(e,["enableEnhancedCivicAnswers"]);return M!=null&&w(r,["enableEnhancedCivicAnswers"],M),r}function Dme(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],es(i));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const S=x(e,["seed"]);S!=null&&w(r,["seed"],S);const A=x(e,["responseMimeType"]);A!=null&&w(r,["responseMimeType"],A);const C=x(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],bC(C));const I=x(e,["responseJsonSchema"]);I!=null&&w(r,["responseJsonSchema"],I);const k=x(e,["routingConfig"]);k!=null&&w(r,["routingConfig"],k);const B=x(e,["modelSelectionConfig"]);B!=null&&w(r,["modelConfig"],B);const L=x(e,["safetySettings"]);if(n!==void 0&&L!=null){let W=L;Array.isArray(W)&&(W=W.map(ee=>ee)),w(n,["safetySettings"],W)}const z=x(e,["tools"]);if(n!==void 0&&z!=null){let W=Tm(z);Array.isArray(W)&&(W=W.map(ee=>WB(Nm(ee)))),w(n,["tools"],W)}const D=x(e,["toolConfig"]);n!==void 0&&D!=null&&w(n,["toolConfig"],D);const j=x(e,["labels"]);n!==void 0&&j!=null&&w(n,["labels"],j);const V=x(e,["cachedContent"]);n!==void 0&&V!=null&&w(n,["cachedContent"],Fu(t,V));const Y=x(e,["responseModalities"]);Y!=null&&w(r,["responseModalities"],Y);const q=x(e,["mediaResolution"]);q!=null&&w(r,["mediaResolution"],q);const M=x(e,["speechConfig"]);M!=null&&w(r,["speechConfig"],_C(M));const F=x(e,["audioTimestamp"]);F!=null&&w(r,["audioTimestamp"],F);const Q=x(e,["thinkingConfig"]);Q!=null&&w(r,["thinkingConfig"],Q);const se=x(e,["imageConfig"]);if(se!=null&&w(r,["imageConfig"],cge(se)),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function kL(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let s=$o(i);Array.isArray(s)&&(s=s.map(l=>Ab(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],Mme(t,a,n)),n}function PL(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["contents"]);if(i!=null){let s=$o(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],Dme(t,a,n)),n}function OL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>ime(d))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function jL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["candidates"],d)}const i=x(t,["createTime"]);i!=null&&w(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&w(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const l=x(t,["responseId"]);l!=null&&w(e,["responseId"],l);const c=x(t,["usageMetadata"]);return c!=null&&w(e,["usageMetadata"],c),e}function Lme(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&w(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&w(e,["parameters","safetySetting"],s);const l=x(t,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const c=x(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&w(e,["parameters","includeSafetyAttributes"],c);const d=x(t,["includeRaiReason"]);e!==void 0&&d!=null&&w(e,["parameters","includeRaiReason"],d);const h=x(t,["language"]);e!==void 0&&h!=null&&w(e,["parameters","language"],h);const m=x(t,["outputMimeType"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","mimeType"],m);const g=x(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=x(t,["imageSize"]);if(e!==void 0&&y!=null&&w(e,["parameters","sampleImageSize"],y),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Fme(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const d=x(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const N=x(t,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const S=x(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&w(e,["parameters","outputOptions","compressionQuality"],S);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&w(e,["parameters","addWatermark"],A);const C=x(t,["labels"]);e!==void 0&&C!=null&&w(e,["labels"],C);const I=x(t,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const k=x(t,["enhancePrompt"]);return e!==void 0&&k!=null&&w(e,["parameters","enhancePrompt"],k),n}function Ume(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Lme(a,n),n}function Bme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Fme(a,n),n}function qme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Zme(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],HB(i)),e}function Vme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Sb(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],GB(i)),e}function zme(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&w(e,["parameters","resolution"],s);const l=x(t,["personGeneration"]);if(e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=x(t,["negativePrompt"]);e!==void 0&&c!=null&&w(e,["parameters","negativePrompt"],c);const d=x(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&w(e,["parameters","enhancePrompt"],d),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=x(t,["lastFrame"]);e!==void 0&&h!=null&&w(e,["instances[0]","lastFrame"],Eb(h));const m=x(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>Hge(y))),w(e,["instances[0]","referenceImages"],g)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $me(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&w(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&w(e,["parameters","durationSeconds"],s);const l=x(t,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&w(e,["parameters","aspectRatio"],c);const d=x(t,["resolution"]);e!==void 0&&d!=null&&w(e,["parameters","resolution"],d);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["pubsubTopic"]);e!==void 0&&m!=null&&w(e,["parameters","pubsubTopic"],m);const g=x(t,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const y=x(t,["enhancePrompt"]);e!==void 0&&y!=null&&w(e,["parameters","enhancePrompt"],y);const N=x(t,["generateAudio"]);e!==void 0&&N!=null&&w(e,["parameters","generateAudio"],N);const S=x(t,["lastFrame"]);e!==void 0&&S!=null&&w(e,["instances[0]","lastFrame"],Ll(S));const A=x(t,["referenceImages"]);if(e!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(B=>Gge(B))),w(e,["instances[0]","referenceImages"],k)}const C=x(t,["mask"]);e!==void 0&&C!=null&&w(e,["instances[0]","mask"],$ge(C));const I=x(t,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),n}function Hme(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],Yme(s)),e}function Gme(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],Jme(s)),e}function Wme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Eb(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],KB(s));const l=x(e,["source"]);l!=null&&Xme(l,n);const c=x(e,["config"]);return c!=null&&zme(c,n),n}function Kme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Ll(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],YB(s));const l=x(e,["source"]);l!=null&&Qme(l,n);const c=x(e,["config"]);return c!=null&&$me(c,n),n}function Yme(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>tge(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Jme(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>nge(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Xme(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Eb(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],KB(a)),n}function Qme(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ll(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],YB(a)),n}function Zme(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],uge(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&w(e,["safetyAttributes"],HB(i)),e}function Sb(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],$B(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&w(e,["safetyAttributes"],GB(i));const a=x(t,["prompt"]);return a!=null&&w(e,["enhancedPrompt"],a),e}function ege(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["mask"],$B(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["labels"],i)}return e}function tge(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],Vge(n)),e}function nge(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],zge(n)),e}function rge(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const d=x(t,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const S=x(t,["responseSchema"]);S!=null&&w(e,["responseSchema"],S);const A=x(t,["routingConfig"]);A!=null&&w(e,["routingConfig"],A);const C=x(t,["seed"]);C!=null&&w(e,["seed"],C);const I=x(t,["speechConfig"]);I!=null&&w(e,["speechConfig"],I);const k=x(t,["stopSequences"]);k!=null&&w(e,["stopSequences"],k);const B=x(t,["temperature"]);B!=null&&w(e,["temperature"],B);const L=x(t,["thinkingConfig"]);L!=null&&w(e,["thinkingConfig"],L);const z=x(t,["topK"]);z!=null&&w(e,["topK"],z);const D=x(t,["topP"]);if(D!=null&&w(e,["topP"],D),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ige(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],Jn(t,r)),n}function age(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],Jn(t,r)),n}function sge(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function oge(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function lge(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cge(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=x(t,["personGeneration"]);i!=null&&w(e,["personGeneration"],i);const a=x(t,["outputMimeType"]);a!=null&&w(e,["imageOutputOptions","mimeType"],a);const s=x(t,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function uge(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&w(e,["imageBytes"],df(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function $B(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Eb(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&w(e,["bytesBase64Encoded"],df(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ll(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function dge(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],LB(t,l)),r}function fge(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],LB(t,l)),r}function hge(t,e){const n={},r=x(e,["config"]);return r!=null&&dge(t,r,n),n}function pge(t,e){const n={},r=x(e,["config"]);return r!=null&&fge(t,r,n),n}function mge(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=FB(i);Array.isArray(a)&&(a=a.map(s=>SN(s))),w(e,["models"],a)}return e}function gge(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=FB(i);Array.isArray(a)&&(a=a.map(s=>EN(s))),w(e,["models"],a)}return e}function vge(t){const e={},n=x(t,["maskMode"]);n!=null&&w(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function SN(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["version"]);a!=null&&w(e,["version"],a);const s=x(t,["_self"]);s!=null&&w(e,["tunedModelInfo"],Oge(s));const l=x(t,["inputTokenLimit"]);l!=null&&w(e,["inputTokenLimit"],l);const c=x(t,["outputTokenLimit"]);c!=null&&w(e,["outputTokenLimit"],c);const d=x(t,["supportedGenerationMethods"]);d!=null&&w(e,["supportedActions"],d);const h=x(t,["temperature"]);h!=null&&w(e,["temperature"],h);const m=x(t,["maxTemperature"]);m!=null&&w(e,["maxTemperature"],m);const g=x(t,["topP"]);g!=null&&w(e,["topP"],g);const y=x(t,["topK"]);y!=null&&w(e,["topK"],y);const N=x(t,["thinking"]);return N!=null&&w(e,["thinking"],N),e}function EN(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["versionId"]);a!=null&&w(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>Rme(g))),w(e,["endpoints"],m)}const l=x(t,["labels"]);l!=null&&w(e,["labels"],l);const c=x(t,["_self"]);c!=null&&w(e,["tunedModelInfo"],jge(c));const d=x(t,["defaultCheckpointId"]);d!=null&&w(e,["defaultCheckpointId"],d);const h=x(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),w(e,["checkpoints"],m)}return e}function yge(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],kme(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Pme(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],rme(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function xge(t){const e={},n=x(t,["productImage"]);return n!=null&&w(e,["image"],Ll(n)),e}function bge(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&w(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&w(e,["parameters","seed"],s);const l=x(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&w(e,["parameters","safetySetting"],l);const c=x(t,["personGeneration"]);e!==void 0&&c!=null&&w(e,["parameters","personGeneration"],c);const d=x(t,["addWatermark"]);e!==void 0&&d!=null&&w(e,["parameters","addWatermark"],d);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const m=x(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","compressionQuality"],m);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const y=x(t,["labels"]);return e!==void 0&&y!=null&&w(e,["labels"],y),n}function _ge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["source"]);i!=null&&Age(i,n);const a=x(e,["config"]);return a!=null&&bge(a,n),n}function wge(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Sb(i))),w(e,["generatedImages"],r)}return e}function Age(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Ll(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>xge(l))),w(e,["instances[0]","productImages"],s)}return n}function Sge(t){const e={},n=x(t,["referenceImage"]);n!=null&&w(e,["referenceImage"],Ll(n));const r=x(t,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&w(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&w(e,["maskImageConfig"],vge(a));const s=x(t,["controlImageConfig"]);s!=null&&w(e,["controlImageConfig"],ume(s));const l=x(t,["styleImageConfig"]);l!=null&&w(e,["styleImageConfig"],l);const c=x(t,["subjectImageConfig"]);return c!=null&&w(e,["subjectImageConfig"],c),e}function HB(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function GB(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Ege(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Nge(t){const e={},n=x(t,["image"]);return n!=null&&w(e,["image"],Ll(n)),e}function Tge(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&w(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&w(e,["parameters","maskDilation"],s);const l=x(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&w(e,["parameters","binaryColorThreshold"],l);const c=x(t,["labels"]);return e!==void 0&&c!=null&&w(e,["labels"],c),n}function Cge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["source"]);i!=null&&Rge(i,n);const a=x(e,["config"]);return a!=null&&Tge(a,n),n}function Ige(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ege(i))),w(e,["generatedMasks"],r)}return e}function Rge(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ll(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&w(e,["instances[0]","scribble"],Nge(a)),n}function kge(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],Ome(r)),e}function Pge(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],sge(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],oge(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function WB(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>jme(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const d=x(t,["googleSearchRetrieval"]);d!=null&&w(e,["googleSearchRetrieval"],d);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function Oge(t){const e={},n=x(t,["baseModel"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function jge(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function Mge(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Dge(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Lge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","name"],Jn(t,r));const i=x(e,["config"]);return i!=null&&Mge(i,n),n}function Fge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["config"]);return i!=null&&Dge(i,n),n}function Uge(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&w(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&w(e,["parameters","includeRaiReason"],s);const l=x(t,["outputMimeType"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","mimeType"],l);const c=x(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&w(e,["parameters","outputOptions","compressionQuality"],c);const d=x(t,["enhanceInputImage"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=x(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const y=x(t,["mode"]);return e!==void 0&&y!=null&&w(e,["parameters","mode"],y),n}function Bge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],Jn(t,r));const i=x(e,["image"]);i!=null&&w(n,["instances[0]","image"],Ll(i));const a=x(e,["upscaleFactor"]);a!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Uge(s,n),n}function qge(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Sb(a))),w(e,["generatedImages"],i)}return e}function Vge(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],df(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function zge(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function $ge(t){const e={},n=x(t,["image"]);n!=null&&w(e,["_self"],Ll(n));const r=x(t,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function Hge(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Eb(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function Gge(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Ll(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function KB(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["encodedVideo"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function YB(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wge(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),n}function Kge(t){const e={},n=x(t,["config"]);return n!=null&&Wge(n,e),e}function Yge(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function Jge(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&Yge(r,e),e}function Xge(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function Qge(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),n}function Zge(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],t0e(s)),e}function e0e(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&w(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&Qge(i,e),e}function t0e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function n0e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function r0e(t){const e={},n=x(t,["config"]);return n!=null&&n0e(n,e),e}function i0e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["fileSearchStores"],a)}return e}function JB(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),w(e,["customMetadata"],l)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&w(e,["chunkingConfig"],s),n}function a0e(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&JB(r,e),e}function s0e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o0e="Content-Type",l0e="X-Server-Timeout",c0e="User-Agent",NN="x-goog-api-client",u0e="1.37.0",d0e=`google-genai-sdk/${u0e}`,f0e="v1beta1",h0e="v1beta";class p0e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:f0e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:h0e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&m0e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ML(i),new _N(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ML(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Il(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield an(i.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const N=JSON.parse(m);if("error"in N){const S=JSON.parse(JSON.stringify(N.error)),A=S.status,C=S.code,I=`got status: ${A}. ${JSON.stringify(N)}`;if(C>=400&&C<600)throw new wb({message:I,status:C})}}catch(N){if(N.name==="ApiError")throw N}s+=m;let g=-1,y=0;for(;;){g=-1,y=0;for(const A of c){const C=s.indexOf(A);C!==-1&&(g===-1||C<g)&&(g=C,y=A.length)}if(g===-1)break;const N=s.substring(0,g);s=s.substring(g+y);const S=N.trim();if(S.startsWith(l)){const A=S.substring(l.length).trim();try{const C=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield an(new _N(C))}catch(C){throw new Error(`exception parsing stream chunk ${A}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=d0e+" "+this.clientOptions.userAgentExtra;return e[c0e]=n,e[NN]=n,e[o0e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(l0e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},d=this.getFileName(e),h=Ct("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&JB(r,m);const g=await this.fetchUploadUrl(d,l,c,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function ML(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new wb({message:i,status:n}):new Error(i)}}function m0e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const l=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],h=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g0e="mcp_used/unknown";let v0e=!1;function XB(t){for(const e of t)if(y0e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return v0e}function QB(t){var e;const n=(e=t[NN])!==null&&e!==void 0?e:"";t[NN]=(n+` ${g0e}`).trimStart()}function y0e(t){return t!==null&&typeof t=="object"&&t instanceof AC}function x0e(t){return Il(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield an(n.listTools({cursor:i}));for(const l of s.tools)yield yield an(l),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class AC{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new AC(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,Rl(x0e(h))),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const m=i;s.push(m);const g=m.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(m){n={error:m}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Jfe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function b0e(t,e,n){const r=new Vfe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class _0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=S0e(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const h=new Promise(k=>{d=k}),m=e.callbacks,g=function(){d({})},y=this.apiClient,N={onopen:g,onmessage:k=>{b0e(y,m.onmessage,k)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(k){}},S=this.webSocketFactory.create(c,A0e(s),N);S.connect(),await h;const I={setup:{model:Jn(this.apiClient,e.model)}};return S.send(JSON.stringify(I)),new w0e(S,this.apiClient)}}class w0e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Wpe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Gpe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_p.PLAY)}pause(){this.sendPlaybackControl(_p.PAUSE)}stop(){this.sendPlaybackControl(_p.STOP)}resetContext(){this.sendPlaybackControl(_p.RESET_CONTEXT)}close(){this.conn.close()}}function A0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function S0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E0e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function N0e(t,e,n){const r=new qfe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Jpe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class T0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new _0e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&XB(e.config.tools)&&QB(m);const g=k0e(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const V=this.apiClient.getApiKey();let Y="BidiGenerateContent",q="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Y="BidiGenerateContentConstrained",q="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${Y}?${q}=${V}`}let y=()=>{};const N=new Promise(V=>{y=V}),S=e.callbacks,A=function(){var V;(V=S==null?void 0:S.onopen)===null||V===void 0||V.call(S),y({})},C=this.apiClient,I={onopen:A,onmessage:V=>{N0e(C,S.onmessage,V)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(V){}},k=this.webSocketFactory.create(h,R0e(g),I);k.connect(),await N;let B=Jn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const V=this.apiClient.getProject(),Y=this.apiClient.getLocation();B=`projects/${V}/locations/${Y}/`+B}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[mx.AUDIO]}:e.config.responseModalities=[mx.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],D=[];for(const V of z)if(this.isCallableTool(V)){const Y=V;D.push(await Y.tool())}else D.push(V);D.length>0&&(e.config.tools=D);const j={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=Hpe(this.apiClient,j):L=$pe(this.apiClient,j),delete L.config,k.send(JSON.stringify(L)),new I0e(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const C0e={turnComplete:!0};class I0e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=$o(n.turns),e.isVertexAI()||(r=r.map(i=>Ab(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(E0e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},C0e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ype(e)}:n={realtimeInput:Kpe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function R0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function k0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DL=10;function LL(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(jp(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function jp(t){return"callTool"in t&&typeof t.callTool=="function"}function P0e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>jp(i)))!==null&&r!==void 0?r:!1}function FL(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(jp(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function UL(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O0e extends Lu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!P0e(n)||LL(n.config))return await this.generateContentInternal(c);const d=FL(n);if(d.length>0){const S=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,m;const g=$o(c.contents),y=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:DL;let N=0;for(;N<y&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,A=[];for(const C of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(jp(C)){const k=await C.callTool(h.functionCalls);A.push(...k)}N++,m={role:"user",parts:A},c.contents=$o(c.contents),c.contents.push(S),c.contents.push(m),UL(c.config)&&(g.push(S),g.push(m))}return UL(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,l;if(this.maybeMoveToResponseJsonSchem(n),LL(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=FL(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let l;return a?l={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new vh(Tu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>jp(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&XB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),QB(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(jp(s)){const l=s,c=await l.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:DL;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(d,h,m){return Il(this,arguments,function*(){for(var g,y,N,S,A,C;l<a;){s&&(l++,s=!1);const L=yield an(d.processParamsMaybeAddMcpUsage(m)),z=yield an(d.generateContentStreamInternal(L)),D=[],j=[];try{for(var I=!0,k=(y=void 0,Rl(z)),B;B=yield an(k.next()),g=B.done,!g;I=!0){S=B.value,I=!1;const V=S;if(yield yield an(V),V.candidates&&(!((A=V.candidates[0])===null||A===void 0)&&A.content)){j.push(V.candidates[0].content);for(const Y of(C=V.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(l<a&&Y.functionCall){if(!Y.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(Y.functionCall.name)){const q=yield an(h.get(Y.functionCall.name).callTool([Y.functionCall]));D.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${Y.functionCall.name}`)}}}}catch(V){y={error:V}}finally{try{!I&&!g&&(N=k.return)&&(yield an(N.call(k)))}finally{if(y)throw y.error}}if(D.length>0){s=!0;const V=new Tg;V.candidates=[{content:{role:"user",parts:D}}],yield yield an(V);const Y=[];Y.push(...j),Y.push({role:"user",parts:D});const q=$o(m.contents).concat(Y);m.contents=q}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=PL(this.apiClient,e);return l=Ct("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=jL(h),g=new Tg;return Object.assign(g,m),g})}else{const d=kL(this.apiClient,e);return l=Ct("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=OL(h),g=new Tg;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=PL(this.apiClient,e);return l=Ct("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return Il(this,arguments,function*(){var g,y,N,S;try{for(var A=!0,C=Rl(m),I;I=yield an(C.next()),g=I.done,!g;A=!0){S=I.value,A=!1;const k=S,B=jL(yield an(k.json()));B.sdkHttpResponse={headers:k.headers};const L=new Tg;Object.assign(L,B),yield yield an(L)}}catch(k){y={error:k}}finally{try{!A&&!g&&(N=C.return)&&(yield an(N.call(C)))}finally{if(y)throw y.error}}})})}else{const d=kL(this.apiClient,e);return l=Ct("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return Il(this,arguments,function*(){var g,y,N,S;try{for(var A=!0,C=Rl(m),I;I=yield an(C.next()),g=I.done,!g;A=!0){S=I.value,A=!1;const k=S,B=OL(yield an(k.json()));B.sdkHttpResponse={headers:k.headers};const L=new Tg;Object.assign(L,B),yield yield an(L)}}catch(k){y={error:k}}finally{try{!A&&!g&&(N=C.return)&&(yield an(N.call(C)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Tme(this.apiClient,e);return l=Ct("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Ime(h),g=new pL;return Object.assign(g,m),g})}else{const d=Nme(this.apiClient,e);return l=Ct("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Cme(h),g=new pL;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Bme(this.apiClient,e);return l=Ct("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Vme(h),g=new mL;return Object.assign(g,m),g})}else{const d=Ume(this.apiClient,e);return l=Ct("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=qme(h),g=new mL;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=wme(this.apiClient,e);return a=Ct("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Ame(c),h=new Rfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Bge(this.apiClient,e);return a=Ct("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=qge(c),h=new kfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=_ge(this.apiClient,e);return a=Ct("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=wge(c),h=new Pfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Cge(this.apiClient,e);return a=Ct("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Ige(c),h=new Ofe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=age(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>EN(h))}else{const d=ige(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>SN(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=pge(this.apiClient,e);return l=Ct("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=gge(h),g=new gL;return Object.assign(g,m),g})}else{const d=hge(this.apiClient,e);return l=Ct("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=mge(h),g=new gL;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Fge(this.apiClient,e);return l=Ct("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>EN(h))}else{const d=Lge(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>SN(h))}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=yme(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=bme(h),g=new vL;return Object.assign(g,m),g})}else{const d=vme(this.apiClient,e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=xme(h),g=new vL;return Object.assign(g,m),g})}}async countTokens(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=pme(this.apiClient,e);return l=Ct("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=gme(h),g=new yL;return Object.assign(g,m),g})}else{const d=hme(this.apiClient,e);return l=Ct("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=mme(h),g=new yL;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=sme(this.apiClient,e);return a=Ct("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=ome(c),h=new jfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Kme(this.apiClient,e);return l=Ct("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Gme(h),g=new gx;return Object.assign(g,m),g})}else{const d=Wme(this.apiClient,e);return l=Ct("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Hme(h),g=new gx;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j0e extends Lu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Sfe(e);return l=Ct("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=Afe(e);return l=Ct("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=gfe(e);return a=Ct("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function D0e(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>H0e(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function L0e(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&w(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&w(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&w(n,["uses"],s);const l=x(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&w(n,["bidiGenerateContentSetup"],$0e(t,l));const c=x(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&w(n,["fieldMask"],c),r}function F0e(t,e){const n={},r=x(e,["config"]);return r!=null&&w(n,["config"],L0e(t,r,n)),n}function U0e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function B0e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function q0e(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function V0e(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function z0e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],wC(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],D0e(es(N)));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let z=Tm(S);Array.isArray(z)&&(z=z.map(D=>W0e(Nm(D)))),w(e,["setup","tools"],z)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&w(e,["setup","sessionResumption"],G0e(A));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const I=x(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const k=x(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&w(e,["setup","realtimeInputConfig"],k);const B=x(t,["contextWindowCompression"]);e!==void 0&&B!=null&&w(e,["setup","contextWindowCompression"],B);const L=x(t,["proactivity"]);if(e!==void 0&&L!=null&&w(e,["setup","proactivity"],L),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $0e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],Jn(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],z0e(i,n)),n}function H0e(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],U0e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],B0e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],M0e(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function G0e(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W0e(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],q0e(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],V0e(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K0e(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Y0e(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=K0e(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class J0e extends Lu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=F0e(this.apiClient,e);a=Ct("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=Y0e(l,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0e(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function Q0e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&X0e(r,e),e}function Z0e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function eve(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function tve(t){const e={},n=x(t,["parent"]);n!=null&&w(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&eve(r,e),e}function nve(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rve extends Lu{constructor(e){super(),this.apiClient=e,this.list=async n=>new vh(Tu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Z0e(e);return a=Ct("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Q0e(e);i=Ct("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tve(e);return a=Ct("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=nve(c),h=new Mfe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ive extends Lu{constructor(e,n=new rve(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new vh(Tu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Kge(e);return a=Ct("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Xge(e);return a=Ct("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jge(e);i=Ct("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=r0e(e);return a=Ct("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=i0e(c),h=new Dfe;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=a0e(e);return a=Ct("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=s0e(c),h=new Lfe;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=e0e(e);return a=Ct("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Zge(c),h=new vC;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return ZB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const ave=()=>ZB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const CN=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Go extends Error{}class ys extends Go{constructor(e,n,r,i){super(`${ys.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Nb({message:r,cause:CN(n)});const a=n;return e===400?new tq(e,a,r,i):e===401?new nq(e,a,r,i):e===403?new rq(e,a,r,i):e===404?new iq(e,a,r,i):e===409?new aq(e,a,r,i):e===422?new sq(e,a,r,i):e===429?new oq(e,a,r,i):e>=500?new lq(e,a,r,i):new ys(e,a,r,i)}}class IN extends ys{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nb extends ys{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class eq extends Nb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class tq extends ys{}class nq extends ys{}class rq extends ys{}class iq extends ys{}class aq extends ys{}class sq extends ys{}class oq extends ys{}class lq extends ys{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sve=/^[a-z][a-z0-9+.-]*:/i,ove=t=>sve.test(t);let RN=t=>(RN=Array.isArray,RN(t));const lve=RN;let cve=lve;const BL=cve;function uve(t){if(!t)return!0;for(const e in t)return!1;return!0}function dve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const fve=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Go(`${t} must be an integer`);if(e<0)throw new Go(`${t} must be a positive integer`);return e},hve=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pve=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dp="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mve(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const gve=()=>{var t,e,n,r,i;const a=mve();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":VL(Deno.build.os),"X-Stainless-Arch":qL(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":VL((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":qL((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=vve();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vve(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const qL=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",VL=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ry;const yve=()=>Ry??(Ry=gve());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xve(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cq(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function bve(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return cq({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function uq(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function _ve(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wve=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dq=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function SS(t,e,n){return dq(),new File(t,e??"unknown_file",n)}function Ave(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Sve=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fq=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Eve=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&fq(t),Nve=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Tve(t,e,n){if(dq(),t=await t,Eve(t))return t instanceof File?t:SS([await t.arrayBuffer()],t.name);if(Nve(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),SS(await kN(i),e,n)}const r=await kN(t);if(e||(e=Ave(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return SS(r,e,n)}async function kN(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(fq(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(Sve(t))try{for(var l=!0,c=Rl(t),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const h=i;s.push(...await kN(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Cve(t)}`)}return s}function Cve(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hq{constructor(e){this._client=e}}hq._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pq(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zL=Object.freeze(Object.create(null)),Ive=(t=pq)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,m,g)=>{var y,N,S;/[?#]/.test(m)&&(i=!0);const A=r[g];let C=(i?encodeURIComponent:t)(""+A);return g!==r.length&&(A==null||typeof A=="object"&&A.toString===((S=Object.getPrototypeOf((N=Object.getPrototypeOf((y=A.hasOwnProperty)!==null&&y!==void 0?y:zL))!==null&&N!==void 0?N:zL))===null||S===void 0?void 0:S.toString))&&(C=A+"",a.push({start:h.length+m.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":C)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(l))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((g,y)=>{const N=" ".repeat(y.start-h),S="^".repeat(y.length);return h=y.start+y.length,g+N+S},"");throw new Go(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${m}`)}return s}),ky=Ive(pq);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mq extends hq{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=yx(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Go("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Go("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ky`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ky`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ky`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,l=yx(a,["api_version"]);return this._client.get(ky`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}mq._key=Object.freeze(["interactions"]);class gq extends mq{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rve(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Py;function SC(t){let e;return(Py??(e=new globalThis.TextEncoder,Py=e.encode.bind(e)))(t)}let Oy;function $L(t){let e;return(Oy??(e=new globalThis.TextDecoder,Oy=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tb{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?SC(e):e;this.buffer=Rve([this.buffer,n]);const r=[];let i;for(;(i=kve(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push($L(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=$L(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Tb.NEWLINE_CHARS=new Set([`
`,"\r"]);Tb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function kve(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Pve(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xx={off:0,error:200,warn:300,info:400,debug:500},HL=(t,e,n)=>{if(t){if(dve(xx,t))return t;ps(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(xx))}`)}};function jg(){}function jy(t,e,n){return!e||xx[t]>xx[n]?jg:e[t].bind(e)}const Ove={error:jg,warn:jg,info:jg,debug:jg};let GL=new WeakMap;function ps(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Ove;const i=GL.get(n);if(i&&i[0]===r)return i[1];const a={error:jy("error",n,r),warn:jy("warn",n,r),info:jy("info",n,r),debug:jy("debug",n,r)};return GL.set(n,[r,a]),a}const Df=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wp{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?ps(r):console;function s(){return Il(this,arguments,function*(){var c,d,h,m;if(i)throw new Go("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=Rl(jve(e,n)),S;S=yield an(N.next()),c=S.done,!c;y=!0){m=S.value,y=!1;const A=m;if(!g)if(A.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield an(JSON.parse(A.data))}catch(C){throw a.error("Could not parse message into JSON:",A.data),a.error("From chunk:",A.raw),C}}}catch(A){d={error:A}}finally{try{!y&&!c&&(h=N.return)&&(yield an(h.call(N)))}finally{if(d)throw d.error}}g=!0}catch(A){if(TN(A))return yield an(void 0);throw A}finally{g||n.abort()}})}return new wp(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return Il(this,arguments,function*(){var c,d,h,m;const g=new Tb,y=uq(e);try{for(var N=!0,S=Rl(y),A;A=yield an(S.next()),c=A.done,!c;N=!0){m=A.value,N=!1;const C=m;for(const I of g.decode(C))yield yield an(I)}}catch(C){d={error:C}}finally{try{!N&&!c&&(h=S.return)&&(yield an(h.call(S)))}finally{if(d)throw d.error}}for(const C of g.flush())yield yield an(C)})}function s(){return Il(this,arguments,function*(){var c,d,h,m;if(i)throw new Go("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=Rl(a()),S;S=yield an(N.next()),c=S.done,!c;y=!0){m=S.value,y=!1;const A=m;g||A&&(yield yield an(JSON.parse(A)))}}catch(A){d={error:A}}finally{try{!y&&!c&&(h=N.return)&&(yield an(h.call(N)))}finally{if(d)throw d.error}}g=!0}catch(A){if(TN(A))return yield an(void 0);throw A}finally{g||n.abort()}})}return new wp(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new wp(()=>i(e),this.controller,this.client),new wp(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return cq({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=SC(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function jve(t,e){return Il(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Go("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Go("Attempted to iterate over a response with no body");const l=new Dve,c=new Tb,d=uq(t.body);try{for(var h=!0,m=Rl(Mve(d)),g;g=yield an(m.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const y=s;for(const N of c.decode(y)){const S=l.decode(N);S&&(yield yield an(S))}}}catch(y){i={error:y}}finally{try{!h&&!r&&(a=m.return)&&(yield an(a.call(m)))}finally{if(i)throw i.error}}for(const y of c.flush()){const N=l.decode(y);N&&(yield yield an(N))}})}function Mve(t){return Il(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var l=!0,c=Rl(t),d;d=yield an(c.next()),n=d.done,!n;l=!0){a=d.value,l=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?SC(h):h;let g=new Uint8Array(s.length+m.length);g.set(s),g.set(m,s.length),s=g;let y;for(;(y=Pve(s))!==-1;)yield yield an(s.slice(0,y)),s=s.slice(y)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield an(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield an(s))})}class Dve{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Lve(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Lve(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fve(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var l;if(e.options.stream)return ps(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wp.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return ps(t).debug(`[${r}] response parsed`,Df({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends Promise{constructor(e,n,r=Fve){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new EC(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vq=Symbol("brand.privateNullableHeaders");function*Uve(t){if(!t)return;if(vq in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():BL(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=BL(r[1])?r[1]:[r[1]];let s=!1;for(const l of a)l!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const Cg=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of Uve(r)){const l=a.toLowerCase();i.has(l)||(e.delete(a),i.add(l)),s===null?(e.delete(a),n.add(l)):(e.append(a,s),n.delete(l))}}return{[vq]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=ufe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yq;class Cb{constructor(e){var n,r,i,a,s,l,c,{baseURL:d=ES("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=ES("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,g=yx(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:Cb.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(s=(a=HL(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:HL(ES("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:N,this.fetchOptions=y.fetchOptions,this.maxRetries=(l=y.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:xve(),this.encoder=wve,this._options=y,this.apiKey=h,this.apiVersion=m,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Cg([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Cg([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Cg([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Go(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${dp}`}defaultIdempotencyKey(){return`stainless-node-retry-${ave()}`}makeStatusError(e,n,r,i){return ys.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=ove(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return uve(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new EC(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:d,url:h,timeout:m}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(d,{url:h,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(ps(this).debug(`[${g}] sending request`,Df({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:d.headers})),!((a=l.signal)===null||a===void 0)&&a.aborted)throw new IN;const S=new AbortController,A=await this.fetchWithTimeout(h,d,m,S).catch(CN),C=Date.now();if(A instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((s=l.signal)===null||s===void 0)&&s.aborted)throw new IN;const B=TN(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return ps(this).info(`[${g}] connection ${B?"timed out":"failed"} - ${k}`),ps(this).debug(`[${g}] connection ${B?"timed out":"failed"} (${k})`,Df({retryOfRequestLogID:r,url:h,durationMs:C-N,message:A.message})),this.retryRequest(l,n,r??g);throw ps(this).info(`[${g}] connection ${B?"timed out":"failed"} - error; no more retries left`),ps(this).debug(`[${g}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Df({retryOfRequestLogID:r,url:h,durationMs:C-N,message:A.message})),B?new eq:new Nb({cause:A})}const I=`[${g}${y}] ${d.method} ${h} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${C-N}ms`;if(!A.ok){const k=await this.shouldRetry(A);if(n&&k){const V=`retrying, ${n} attempts remaining`;return await _ve(A.body),ps(this).info(`${I} - ${V}`),ps(this).debug(`[${g}] response error (${V})`,Df({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:C-N})),this.retryRequest(l,n,r??g,A.headers)}const B=k?"error; no more retries left":"error; not retryable";ps(this).info(`${I} - ${B}`);const L=await A.text().catch(V=>CN(V).message),z=hve(L),D=z?void 0:L;throw ps(this).debug(`[${g}] response error (${B})`,Df({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:D,durationMs:Date.now()-N})),this.makeStatusError(A.status,z,D,A.headers)}return ps(this).info(I),ps(this).debug(`[${g}] response start`,Df({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:C-N})),{response:A,options:l,controller:S,requestLogID:g,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:l}=a,c=yx(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const l=i==null?void 0:i.get("retry-after-ms");if(l){const d=parseFloat(l);Number.isNaN(d)||(s=d)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await pve(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:l,path:c,query:d,defaultBaseURL:h}=s,m=this.buildURL(c,d,h);"timeout"in s&&fve("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),N=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:N},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let l=Cg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),yve()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Cg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:bve(e)}:this.encoder({body:e,headers:r})}}Cb.DEFAULT_TIMEOUT=6e4;class ua extends Cb{constructor(){super(...arguments),this.interactions=new gq(this)}}yq=ua;ua.GeminiNextGenAPIClient=yq;ua.GeminiNextGenAPIClientError=Go;ua.APIError=ys;ua.APIConnectionError=Nb;ua.APIConnectionTimeoutError=eq;ua.APIUserAbortError=IN;ua.NotFoundError=iq;ua.ConflictError=aq;ua.RateLimitError=oq;ua.BadRequestError=tq;ua.AuthenticationError=nq;ua.InternalServerError=lq;ua.PermissionDeniedError=rq;ua.UnprocessableEntityError=sq;ua.toFile=Tve;ua.Interactions=gq;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bve(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function qve(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Vve(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function zve(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function $ve(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&w(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=x(t,["batchSize"]);e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","batchSize"],l);const c=x(t,["learningRate"]);if(e!==void 0&&c!=null&&w(e,["tuningTask","hyperparameters","learningRate"],c),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Hve(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec"],WL(y))}else if(i==="PREFERENCE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec"],WL(y))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&w(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&w(e,["description"],s);let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=x(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(h==="PREFERENCE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Gve(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&rye(a);const s=x(t,["config"]);return s!=null&&$ve(s,n),n}function Wve(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&iye(a,n,e);const s=x(t,["config"]);return s!=null&&Hve(s,n,e),n}function Kve(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Yve(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Jve(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function Xve(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function Qve(t,e){const n={},r=x(t,["config"]);return r!=null&&Jve(r,n),n}function Zve(t,e){const n={},r=x(t,["config"]);return r!=null&&Xve(r,n),n}function eye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>xq(l))),w(n,["tuningJobs"],s)}return n}function tye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>PN(l))),w(n,["tuningJobs"],s)}return n}function nye(t,e){const n={},r=x(t,["name"]);r!=null&&w(n,["model"],r);const i=x(t,["name"]);return i!=null&&w(n,["endpoint"],i),n}function rye(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(n,["examples","examples"],i)}return n}function iye(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xq(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],MB(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["tuningTask","startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["tuningTask","completeTime"]);c!=null&&w(n,["endTime"],c);const d=x(t,["updateTime"]);d!=null&&w(n,["updateTime"],d);const h=x(t,["description"]);h!=null&&w(n,["description"],h);const m=x(t,["baseModel"]);m!=null&&w(n,["baseModel"],m);const g=x(t,["_self"]);return g!=null&&w(n,["tunedModel"],nye(g)),n}function PN(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],MB(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(n,["endTime"],c);const d=x(t,["updateTime"]);d!=null&&w(n,["updateTime"],d);const h=x(t,["error"]);h!=null&&w(n,["error"],h);const m=x(t,["description"]);m!=null&&w(n,["description"],m);const g=x(t,["baseModel"]);g!=null&&w(n,["baseModel"],g);const y=x(t,["tunedModel"]);y!=null&&w(n,["tunedModel"],y);const N=x(t,["preTunedModel"]);N!=null&&w(n,["preTunedModel"],N);const S=x(t,["supervisedTuningSpec"]);S!=null&&w(n,["supervisedTuningSpec"],S);const A=x(t,["preferenceOptimizationSpec"]);A!=null&&w(n,["preferenceOptimizationSpec"],A);const C=x(t,["tuningDataStats"]);C!=null&&w(n,["tuningDataStats"],C);const I=x(t,["encryptionSpec"]);I!=null&&w(n,["encryptionSpec"],I);const k=x(t,["partnerModelTuningSpec"]);k!=null&&w(n,["partnerModelTuningSpec"],k);const B=x(t,["customBaseModel"]);B!=null&&w(n,["customBaseModel"],B);const L=x(t,["experiment"]);L!=null&&w(n,["experiment"],L);const z=x(t,["labels"]);z!=null&&w(n,["labels"],z);const D=x(t,["outputUri"]);D!=null&&w(n,["outputUri"],D);const j=x(t,["pipelineJob"]);j!=null&&w(n,["pipelineJob"],j);const V=x(t,["serviceAccount"]);V!=null&&w(n,["serviceAccount"],V);const Y=x(t,["tunedModelDisplayName"]);Y!=null&&w(n,["tunedModelDisplayName"],Y);const q=x(t,["veoTuningSpec"]);return q!=null&&w(n,["veoTuningSpec"],q),n}function aye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(t,["done"]);s!=null&&w(n,["done"],s);const l=x(t,["error"]);return l!=null&&w(n,["error"],l),n}function WL(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&w(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sye extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Tu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:bN.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Yve(e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>PN(h))}else{const d=Kve(e);return l=Ct("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>xq(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Zve(e);return l=Ct("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=tye(h),g=new xL;return Object.assign(g,m),g})}else{const d=Qve(e);return l=Ct("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=eye(h),g=new xL;return Object.assign(g,m),g})}}async cancel(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=qve(e);return l=Ct("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=zve(h),g=new bL;return Object.assign(g,m),g})}else{const d=Bve(e);return l=Ct("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Vve(h),g=new bL;return Object.assign(g,m),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Wve(e,e);return a=Ct("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>PN(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Gve(e);return a=Ct("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>aye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lye=1024*1024*8,cye=3,uye=1e3,dye=2,bx="x-goog-upload-status";async function fye(t,e,n){var r;const i=await bq(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[bx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function hye(t,e,n){var r;const i=await bq(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[bx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=IB(a),l=new yC;return Object.assign(l,s),l}async function bq(t,e,n){var r,i;let a=0,s=0,l=new _N(new Response),c="upload";for(a=t.size;s<a;){const d=Math.min(lye,a-s),h=t.slice(s,s+d);s+d>=a&&(c+=", finalize");let m=0,g=uye;for(;m<cye&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[bx]));)m++,await mye(g),g=g*dye;if(s+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[bx])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function pye(t){return{size:t.size,type:t.type}}function mye(t){return new Promise(e=>setTimeout(e,t))}class gye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vye{create(e,n,r){return new yye(e,n,r)}}class yye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KL="x-goog-api-key";class xye{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(KL)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(KL,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bye="gl-node/";class _ye{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ua({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=pfe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new xye(this.apiKey);this.apiClient=new p0e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:bye+"web",uploader:new gye,downloader:new oye}),this.models=new O0e(this.apiClient),this.live=new T0e(this.apiClient,i,new vye),this.batches=new zhe(this.apiClient),this.chats=new Spe(this.models,this.apiClient),this.caches=new _pe(this.apiClient),this.files=new jpe(this.apiClient),this.operations=new j0e(this.apiClient),this.authTokens=new J0e(this.apiClient),this.tunings=new sye(this.apiClient),this.fileSearchStores=new ive(this.apiClient)}}const wye=({onBack:t})=>{const[e,n]=be.useState(null),[r,i]=be.useState(null),[a,s]=be.useState(""),[l,c]=be.useState(!1),[d,h]=be.useState(null),[m,g]=be.useState("edit"),y=be.useRef(null),N=m==="edit"?["Remover fundo","Melhorar iluminao","Etiqueta 'OFERTA'","Mesa rstica"]:["Logo touro preto/ouro","Logo moderno vermelho","Logo rstico fazenda","Escudo premium boi"],S=C=>{var k;const I=(k=C.target.files)==null?void 0:k[0];if(I){const B=new FileReader;B.onload=L=>{var z;n((z=L.target)==null?void 0:z.result),i(null),h(null)},B.readAsDataURL(I)}},A=async()=>{var C,I;if(m==="edit"&&!e)return h("Selecione uma imagem de base");if(!a.trim())return h("Descreva o que deseja criar");c(!0),h(null);try{const k="AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",B=new _ye({apiKey:k});let L=m==="edit"?{parts:[{inlineData:{data:e.split(",")[1],mimeType:e.split(";")[0].split(":")[1]}},{text:`Edit: ${a}`}]}:{parts:[{text:`Create professional agro logo: ${a}. High quality, isolated background.`}]};const z=await B.models.generateContent({model:"gemini-2.5-flash-image",contents:L,config:{imageConfig:{aspectRatio:"1:1"}}});let D=!1;if((I=(C=z.candidates)==null?void 0:C[0].content)!=null&&I.parts){for(const j of z.candidates[0].content.parts)if(j.inlineData){i(`data:${j.inlineData.mimeType||"image/png"};base64,${j.inlineData.data}`),D=!0;break}}D||h("A IA no retornou uma imagem. Tente novamente.")}catch{h("Erro na conexo com o motor neural.")}finally{c(!1)}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40",children:f.jsx(X7,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Creative ",f.jsx("span",{className:"text-blue-600",children:"Studio"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Motor Grfico Neural / ID-IMG"})]})]})]}),f.jsxs("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[f.jsx("button",{onClick:()=>{g("edit"),i(null)},className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${m==="edit"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Edio de Fonte"}),f.jsx("button",{onClick:()=>{g("logo"),i(null)},className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${m==="logo"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Gerador de Logos"})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-10",children:[f.jsxs("div",{className:"space-y-8 h-full",children:[m==="edit"&&f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx(VS,{size:16,className:"text-blue-600"})," 1. Buffer de Imagem Base"]}),f.jsxs("div",{onClick:()=>{var C;return(C=y.current)==null?void 0:C.click()},className:"relative w-full aspect-video rounded-[32px] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center cursor-pointer hover:border-blue-600 transition-all overflow-hidden group bg-slate-50/30",children:[f.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:S}),e?f.jsx("img",{src:e,alt:"src",className:"w-full h-full object-contain"}):f.jsxs("div",{className:"text-center group-hover:scale-110 transition-all",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-4 text-slate-300 group-hover:text-blue-600",children:f.jsx(zg,{size:24})}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Carregar arquivo local"})]})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white space-y-8",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(W7,{size:16,className:"text-blue-600"})," 2. Descritor da Transformao"]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:f.jsx(HW,{size:18})}),f.jsx("textarea",{className:"w-full h-32 modern-input p-10 text-sm font-medium text-slate-700 bg-slate-50/30",placeholder:"Descreva as modificaes ou o design desejado...",value:a,onChange:C=>s(C.target.value)})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(C=>f.jsx("button",{onClick:()=>s(C),className:"px-4 py-2 bg-slate-50 border border-slate-100 rounded-full text-[10px] font-black text-slate-400 uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all shadow-sm",children:C},C))}),d&&f.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 border border-rose-100 text-rose-600 text-[10px] font-black uppercase tracking-widest flex items-center gap-3",children:[f.jsx(Up,{size:16})," ",d]}),f.jsxs("button",{onClick:A,disabled:l||m==="edit"&&!e||!a,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-xl shadow-slate-900/40 gap-4 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.4em]",children:[l?f.jsx(Na,{size:20,className:"animate-spin"}):f.jsx(gs,{size:20}),l?"Processando Redes...":"Gerar Criao"]})]})]}),f.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white border border-slate-100 flex flex-col min-h-[600px] shadow-2xl",children:[f.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Na,{size:16,className:"text-emerald-600"})," 3. Resultado de Sada"]}),r&&f.jsxs("button",{onClick:()=>{const C=document.createElement("a");C.href=r,C.download="FG_CREATION.png",C.click()},className:"btn-modern bg-slate-900 text-white px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-600 gap-2 shadow-lg",children:[f.jsx(V7,{size:14})," Salvar Vnculo"]})]}),f.jsxs("div",{className:"flex-1 bg-[#fafafa] flex items-center justify-center p-12 overflow-hidden relative",children:[l?f.jsxs("div",{className:"text-center relative z-10",children:[f.jsxs("div",{className:"w-20 h-20 bg-white rounded-[32px] shadow-xl flex items-center justify-center mx-auto mb-6 relative overflow-hidden",children:[f.jsx(Na,{size:40,className:"animate-spin text-blue-600"}),f.jsx("div",{className:"absolute inset-0 bg-blue-600/5 animate-pulse"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.5em] animate-pulse",children:"Renderizando Viso..."})]}):r?f.jsxs("div",{className:"relative group/view w-full h-full flex items-center justify-center",children:[f.jsx("img",{src:r,alt:"gen",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl relative z-10"}),f.jsx("div",{className:"absolute inset-0 bg-blue-600/20 blur-[100px] opacity-20"})]}):f.jsxs("div",{className:"text-center opacity-10 grayscale group",children:[f.jsx(cW,{size:100,className:"mx-auto mb-6 group-hover:scale-110 transition-transform"}),f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.8em]",children:"Aguardando Dados"})]}),f.jsx("div",{className:"absolute bottom-6 left-6 text-[8px] font-black text-slate-200 uppercase tracking-[0.4em]",children:"FG-RENDER-CORE v2.5"})]})]})]})]})},Aye=({scheduledOrders:t,clients:e,addScheduledOrder:n,updateScheduledOrder:r,onViewClientHistory:i,onBack:a})=>{const[s,l]=be.useState(!1),[c,d]=be.useState(null),[h,m]=be.useState({id_cliente:"",nome_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"}),[g,y]=be.useState("ABERTO"),N=be.useMemo(()=>{let I=[...t];return g!=="TODOS"&&(I=I.filter(k=>k.status===g)),I.sort((k,B)=>k.data_entrega.localeCompare(B.data_entrega))},[t,g]),S=async I=>{if(I.preventDefault(),!h.id_cliente||!h.data_entrega||!h.itens)return;const k=e.find(L=>L.id_ferro===h.id_cliente),B={id:`ORD-${Date.now()}`,id_cliente:h.id_cliente,nome_cliente:(k==null?void 0:k.nome_social)||"Desconhecido",data_entrega:h.data_entrega,hora_entrega:h.hora_entrega,itens:h.itens,status:"ABERTO",data_criacao:new Date().toISOString(),alerta_madrugada:!!h.alerta_madrugada};await n(B),l(!1),m({id_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"})},A=I=>{const k=new Date;k.setHours(0,0,0,0);const B=new Date(I+"T12:00:00");B.setHours(0,0,0,0);const L=(B.getTime()-k.getTime())/864e5;return L>=0&&L<=1},C=I=>{const k=e.find(z=>z.id_ferro===I.id_cliente);if(!k||!k.whatsapp)return;const B=new Date(I.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"),L=`*CONFIRMACAO DE PEDIDO - FRIGOGEST*%0A%0AALERTA_LOGISTICA PARA *${I.nome_cliente.toUpperCase()}*%0ADATA: *${B}*%0A%0A* ITENS:*%0A${I.itens.replace(/\n/g,"%0A")}%0A%0A* PREVISAO:* ${I.hora_entrega||"--:--"}%0A%0AFG_CORE_TERMINAL_2026`;window.open(`https://wa.me/55${k.whatsapp.replace(/\D/g,"")}?text=${L}`,"_blank")};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-purple-700 hover:border-purple-100 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-purple-600 p-3 rounded-2xl text-white shadow-xl shadow-purple-100",children:f.jsx(Z0,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agenda ",f.jsx("span",{className:"text-purple-600",children:"Logstica"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento de Entregas / ID-SCH"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ABERTO","CONFIRMADO","TODOS"].map(I=>f.jsx("button",{onClick:()=>y(I),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g===I?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:I.replace("ABERTO","Pendentes").replace("CONFIRMADO","Concludos").replace("TODOS","Todos")},I))}),f.jsxs("button",{onClick:()=>l(!0),className:"btn-modern bg-blue-600 text-white hover:bg-blue-500 px-8 py-3.5 rounded-2xl gap-3 shadow-xl shadow-blue-900/40",children:[f.jsx(Gf,{size:18})," Novo Agendamento"]})]})]}),t.some(I=>I.status==="ABERTO"&&A(I.data_entrega))&&f.jsxs("div",{className:"max-w-7xl mx-auto mb-10 bg-orange-600 rounded-[32px] text-white p-8 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-orange-900/20 animate-pulse-slow",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-0",children:[f.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:f.jsx(ev,{size:32})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-2xl font-black tracking-tight uppercase",children:"Expedio Urgente"}),f.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:"Pedidos pendentes para as prximas 24 horas"})]})]}),f.jsx("div",{className:"px-6 py-2 rounded-full bg-white/10 text-[10px] font-black tracking-widest border border-white/10 uppercase",children:"Prioridade Mxima"})]}),f.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:N.length===0?f.jsxs("div",{className:"py-32 flex flex-col items-center justify-center bg-white rounded-[40px] border border-dashed border-slate-200",children:[f.jsx(dh,{size:80,className:"mb-6 opacity-05"}),f.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-[0.4em]",children:"Nenhum agendamento encontrado"})]}):f.jsx("div",{className:"grid grid-cols-1 gap-4",children:N.map(I=>{const k=A(I.data_entrega);return f.jsx("div",{onClick:()=>d(I),className:`premium-card p-0 overflow-hidden group cursor-pointer transition-all hover:-translate-y-1 hover:shadow-xl ${I.status==="CONFIRMADO"?"opacity-60 grayscale-[0.5]":""}`,children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:`w-28 h-28 flex flex-col items-center justify-center shrink-0 ${k?"bg-orange-600 text-white":"bg-slate-50 text-slate-400"} group-hover:scale-105 transition-transform`,children:[f.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:new Date(I.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short"})}),f.jsx("span",{className:"text-4xl font-black tracking-tighter",children:new Date(I.data_entrega+"T12:00:00").getDate()}),f.jsx("span",{className:"text-[9px] font-bold opacity-60 uppercase",children:new Date(I.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{month:"short"})})]}),f.jsxs("div",{className:"flex-1 p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight truncate max-w-sm",children:I.nome_cliente}),k&&f.jsx("div",{className:"w-2 h-2 bg-rose-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(225,29,72,0.5)]"})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-slate-500 text-[10px] font-black",children:[f.jsx(B7,{size:12}),I.hora_entrega||"--:--"]}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate max-w-lg",children:I.itens})]})]}),f.jsxs("div",{className:"flex items-center gap-5",children:[I.status==="ABERTO"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:B=>{B.stopPropagation(),r(I.id,{status:"CONFIRMADO"})},className:"btn-modern bg-slate-900 text-white px-6 py-2.5 rounded-2xl text-[10px] hover:bg-emerald-600 shadow-lg",children:"Validar"}),f.jsx("button",{onClick:B=>{B.stopPropagation(),C(I)},className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",children:f.jsx(i0,{size:20})})]}):f.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-[10px] uppercase tracking-widest",children:[f.jsx(xu,{size:18})," Concludo"]}),f.jsx(Ou,{size:20,className:"text-slate-200 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})},I.id)})})}),(s||c)&&f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-lg overflow-hidden flex flex-col border border-white",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:s?"Agendamento de Fluxo":"Detalhes do Evento"}),f.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizao Logstica Pro"})]}),f.jsx("button",{onClick:()=>{l(!1),d(null)},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:f.jsx(Ac,{size:20})})]}),f.jsxs("form",{onSubmit:s?S:I=>{I.preventDefault(),r(c.id,c),d(null)},className:"p-10 space-y-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Entidade Cliente"}),s?f.jsxs("select",{required:!0,className:"modern-input h-14",value:h.id_cliente,onChange:I=>m({...h,id_cliente:I.target.value}),children:[f.jsx("option",{value:"",children:"Selecione um Cliente..."}),e.map(I=>f.jsxs("option",{value:I.id_ferro,children:[I.id_ferro,"  ",I.nome_social]},I.id_ferro))]}):f.jsx("div",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:c==null?void 0:c.nome_cliente})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Data Prevista"}),f.jsx("input",{required:!0,type:"date",className:"modern-input",value:s?h.data_entrega:c==null?void 0:c.data_entrega,onChange:I=>s?m({...h,data_entrega:I.target.value}):d({...c,data_entrega:I.target.value})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Janela de Horrio"}),f.jsx("input",{type:"time",className:"modern-input",value:s?h.hora_entrega:c==null?void 0:c.hora_entrega,onChange:I=>s?m({...h,hora_entrega:I.target.value}):d({...c,hora_entrega:I.target.value})})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Manifesto de Carga / Observaes"}),f.jsx("textarea",{required:!0,rows:3,placeholder:"Descreva os itens do agendamento...",className:"modern-input min-h-[100px] p-4",value:s?h.itens:c==null?void 0:c.itens,onChange:I=>s?m({...h,itens:I.target.value}):d({...c,itens:I.target.value})})]}),!s&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Estado Operacional"}),f.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100",children:[f.jsx("button",{type:"button",onClick:()=>d({...c,status:"ABERTO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="ABERTO"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Pendente"}),f.jsx("button",{type:"button",onClick:()=>d({...c,status:"CONFIRMADO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="CONFIRMADO"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Concludo"})]})]}),f.jsxs("button",{type:"submit",className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all",children:[f.jsx(o1,{size:20})," ",s?"Efetivar Agendamento":"Confirmar Alteraes"]})]})]})})]})},Sye=()=>{};var YL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Eye=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},wq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|d>>6,y=d&63;c||(y=64,s||(g=64)),r.push(n[h],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_q(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Eye(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new Nye;const g=a<<2|l>>4;if(r.push(g),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const N=d<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tye=function(t){const e=_q(t);return wq.encodeByteArray(e,!0)},_x=function(t){return Tye(t).replace(/\./g,"")},Aq=function(t){try{return wq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye=()=>Cye().__FIREBASE_DEFAULTS__,Rye=()=>{if(typeof process>"u"||typeof YL>"u")return;const t=YL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Aq(t[1]);return e&&JSON.parse(e)},Ib=()=>{try{return Sye()||Iye()||Rye()||kye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sq=t=>{var e,n;return(n=(e=Ib())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Eq=t=>{const e=Sq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nq=()=>{var t;return(t=Ib())===null||t===void 0?void 0:t.config},Tq=t=>{var e;return(e=Ib())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_x(JSON.stringify(n)),_x(JSON.stringify(s)),""].join(".")}const Jg={};function Oye(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jg))Jg[e]?t.emulator.push(e):t.prod.push(e);return t}function jye(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JL=!1;function TC(t,e){if(typeof window>"u"||typeof document>"u"||!ff(window.location.host)||Jg[t]===e||Jg[t]||JL)return;Jg[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Oye().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{JL=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=jye(r),y=n("text"),N=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),I=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;l(k),h(A,S);const B=d();c(I,C),k.append(I,N,A,B),document.body.appendChild(k)}a?(N.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())}function Dye(){var t;const e=(t=Ib())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Uye(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bye(){const t=ts();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qye(){return!Dye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vye(){try{return typeof indexedDB=="object"}catch{return!1}}function zye(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ye="FirebaseError";class Fc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$ye,Object.setPrototypeOf(this,Fc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cv.prototype.create)}}class cv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Hye(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Fc(i,l,r)}}function Hye(t,e){return t.replace(Gye,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gye=/\{\$([^}]+)}/g;function Wye(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(XL(a)&&XL(s)){if(!ah(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Dg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Kye(t,e){const n=new Yye(t,e);return n.subscribe.bind(n)}class Yye{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jye(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=NS),i.error===void 0&&(i.error=NS),i.complete===void 0&&(i.complete=NS);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jye(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function NS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class Jd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xye{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pye;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zye(e))try{this.getOrInitializeService({instanceIdentifier:Lf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Lf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lf){return this.instances.has(e)}getOptions(e=Lf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qye(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lf){return this.component?this.component.multipleInstances?e:Lf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qye(t){return t===Lf?void 0:t}function Zye(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xye(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kn||(kn={}));const t1e={debug:kn.DEBUG,verbose:kn.VERBOSE,info:kn.INFO,warn:kn.WARN,error:kn.ERROR,silent:kn.SILENT},n1e=kn.INFO,r1e={[kn.DEBUG]:"log",[kn.VERBOSE]:"log",[kn.INFO]:"info",[kn.WARN]:"warn",[kn.ERROR]:"error"},i1e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=r1e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CC{constructor(e){this.name=e,this._logLevel=n1e,this._logHandler=i1e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t1e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kn.DEBUG,...e),this._logHandler(this,kn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kn.VERBOSE,...e),this._logHandler(this,kn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kn.INFO,...e),this._logHandler(this,kn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kn.WARN,...e),this._logHandler(this,kn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kn.ERROR,...e),this._logHandler(this,kn.ERROR,...e)}}const a1e=(t,e)=>e.some(n=>t instanceof n);let QL,ZL;function s1e(){return QL||(QL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1e(){return ZL||(ZL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iq=new WeakMap,ON=new WeakMap,Rq=new WeakMap,TS=new WeakMap,IC=new WeakMap;function l1e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(qd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Iq.set(n,t)}).catch(()=>{}),IC.set(e,t),e}function c1e(t){if(ON.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});ON.set(t,e)}let jN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ON.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u1e(t){jN=t(jN)}function d1e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(CS(this),e,...n);return Rq.set(r,e.sort?e.sort():[e]),qd(r)}:o1e().includes(t)?function(...e){return t.apply(CS(this),e),qd(Iq.get(this))}:function(...e){return qd(t.apply(CS(this),e))}}function f1e(t){return typeof t=="function"?d1e(t):(t instanceof IDBTransaction&&c1e(t),a1e(t,s1e())?new Proxy(t,jN):t)}function qd(t){if(t instanceof IDBRequest)return l1e(t);if(TS.has(t))return TS.get(t);const e=f1e(t);return e!==t&&(TS.set(t,e),IC.set(e,t)),e}const CS=t=>IC.get(t);function h1e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=qd(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qd(s.result),c.oldVersion,c.newVersion,qd(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const p1e=["get","getKey","getAll","getAllKeys","count"],m1e=["put","add","delete","clear"],IS=new Map;function e8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(IS.get(e))return IS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=m1e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p1e.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return IS.set(e,a),a}u1e(t=>({...t,get:(e,n,r)=>e8(e,n)||t.get(e,n,r),has:(e,n)=>!!e8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v1e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v1e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const MN="@firebase/app",t8="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new CC("@firebase/app"),y1e="@firebase/app-compat",x1e="@firebase/analytics-compat",b1e="@firebase/analytics",_1e="@firebase/app-check-compat",w1e="@firebase/app-check",A1e="@firebase/auth",S1e="@firebase/auth-compat",E1e="@firebase/database",N1e="@firebase/data-connect",T1e="@firebase/database-compat",C1e="@firebase/functions",I1e="@firebase/functions-compat",R1e="@firebase/installations",k1e="@firebase/installations-compat",P1e="@firebase/messaging",O1e="@firebase/messaging-compat",j1e="@firebase/performance",M1e="@firebase/performance-compat",D1e="@firebase/remote-config",L1e="@firebase/remote-config-compat",F1e="@firebase/storage",U1e="@firebase/storage-compat",B1e="@firebase/firestore",q1e="@firebase/ai",V1e="@firebase/firestore-compat",z1e="firebase",$1e="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="[DEFAULT]",H1e={[MN]:"fire-core",[y1e]:"fire-core-compat",[b1e]:"fire-analytics",[x1e]:"fire-analytics-compat",[w1e]:"fire-app-check",[_1e]:"fire-app-check-compat",[A1e]:"fire-auth",[S1e]:"fire-auth-compat",[E1e]:"fire-rtdb",[N1e]:"fire-data-connect",[T1e]:"fire-rtdb-compat",[C1e]:"fire-fn",[I1e]:"fire-fn-compat",[R1e]:"fire-iid",[k1e]:"fire-iid-compat",[P1e]:"fire-fcm",[O1e]:"fire-fcm-compat",[j1e]:"fire-perf",[M1e]:"fire-perf-compat",[D1e]:"fire-rc",[L1e]:"fire-rc-compat",[F1e]:"fire-gcs",[U1e]:"fire-gcs-compat",[B1e]:"fire-fst",[V1e]:"fire-fst-compat",[q1e]:"fire-vertex","fire-js":"fire-js",[z1e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Map,G1e=new Map,LN=new Map;function n8(t,e){try{t.container.addComponent(e)}catch(n){Cu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sh(t){const e=t.name;if(LN.has(e))return Cu.debug(`There were multiple attempts to register component ${e}.`),!1;LN.set(e,t);for(const n of wx.values())n8(n,t);for(const n of G1e.values())n8(n,t);return!0}function Rb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vd=new cv("app","Firebase",W1e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1e{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=$1e;function kq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:DN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vd.create("bad-app-name",{appName:String(i)});if(n||(n=Nq()),!n)throw Vd.create("no-options");const a=wx.get(i);if(a){if(ah(n,a.options)&&ah(r,a.config))return a;throw Vd.create("duplicate-app",{appName:i})}const s=new e1e(i);for(const c of LN.values())s.addComponent(c);const l=new K1e(n,r,s);return wx.set(i,l),l}function RC(t=DN){const e=wx.get(t);if(!e&&t===DN&&Nq())return kq();if(!e)throw Vd.create("no-app",{appName:t});return e}function Tc(t,e,n){var r;let i=(r=H1e[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cu.warn(l.join(" "));return}sh(new Jd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1e="firebase-heartbeat-database",J1e=1,z0="firebase-heartbeat-store";let RS=null;function Pq(){return RS||(RS=h1e(Y1e,J1e,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(z0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vd.create("idb-open",{originalErrorMessage:t.message})})),RS}async function X1e(t){try{const n=(await Pq()).transaction(z0),r=await n.objectStore(z0).get(Oq(t));return await n.done,r}catch(e){if(e instanceof Fc)Cu.warn(e.message);else{const n=Vd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cu.warn(n.message)}}}async function r8(t,e){try{const r=(await Pq()).transaction(z0,"readwrite");await r.objectStore(z0).put(e,Oq(t)),await r.done}catch(n){if(n instanceof Fc)Cu.warn(n.message);else{const r=Vd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cu.warn(r.message)}}}function Oq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1e=1024,Z1e=30;class exe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nxe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i8();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Z1e){const s=rxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i8(),{heartbeatsToSend:r,unsentEntries:i}=txe(this._heartbeatsCache.heartbeats),a=_x(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Cu.warn(n),""}}}function i8(){return new Date().toISOString().substring(0,10)}function txe(t,e=Q1e){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),a8(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nxe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vye()?zye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X1e(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a8(t){return _x(JSON.stringify({version:2,heartbeats:t})).length}function rxe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ixe(t){sh(new Jd("platform-logger",e=>new g1e(e),"PRIVATE")),sh(new Jd("heartbeat",e=>new exe(e),"PRIVATE")),Tc(MN,t8,t),Tc(MN,t8,"esm2017"),Tc("fire-js","")}ixe("");var axe="firebase",sxe="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tc(axe,sxe,"app");function kC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oxe=jq,Mq=new cv("auth","Firebase",jq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new CC("@firebase/auth");function lxe(t,...e){Ax.logLevel<=kn.WARN&&Ax.warn(`Auth (${yh}): ${t}`,...e)}function Jy(t,...e){Ax.logLevel<=kn.ERROR&&Ax.error(`Auth (${yh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,...e){throw PC(t,...e)}function Cc(t,...e){return PC(t,...e)}function Dq(t,e,n){const r=Object.assign(Object.assign({},oxe()),{[e]:n});return new cv("auth","Firebase",r).create(e,{appName:t.name})}function zd(t){return Dq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mq.create(t,...e)}function Xt(t,e,...n){if(!t)throw PC(e,...n)}function vu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jy(e),new Error(e)}function Iu(t,e){t||vu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cxe(){return s8()==="http:"||s8()==="https:"}function s8(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uxe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cxe()||Fye()||"connection"in navigator)?navigator.onLine:!0}function dxe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Iu(n>e,"Short delay should be less than long delay!"),this.isMobile=Mye()||Uye()}get(){return uxe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){Iu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fxe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hxe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pxe=new dv(3e4,6e4);function xh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hf(t,e,n,r,i={}){return Fq(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=uv(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return Lye()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ff(t.emulatorConfig.host)&&(d.credentials="include"),Lq.fetch()(await Uq(t,t.config.apiHost,n,l),d)})}async function Fq(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fxe),e);try{const i=new gxe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw My(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw My(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw My(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw My(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Dq(t,h,d);Pl(t,h)}}catch(i){if(i instanceof Fc)throw i;Pl(t,"network-request-failed",{message:String(i)})}}async function kb(t,e,n,r,i={}){const a=await hf(t,e,n,r,i);return"mfaPendingCredential"in a&&Pl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Uq(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?OC(t.config,i):`${t.config.apiScheme}://${i}`;return hxe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function mxe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gxe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cc(this.auth,"network-request-failed")),pxe.get())})}}function My(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cc(t,e,r);return i.customData._tokenResponse=n,i}function o8(t){return t!==void 0&&t.enterprise!==void 0}class vxe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mxe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yxe(t,e){return hf(t,"GET","/v2/recaptchaConfig",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xxe(t,e){return hf(t,"POST","/v1/accounts:delete",e)}async function Sx(t,e){return hf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bxe(t,e=!1){const n=Lr(t),r=await n.getIdToken(e),i=jC(r);Xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xg(kS(i.auth_time)),issuedAtTime:Xg(kS(i.iat)),expirationTime:Xg(kS(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kS(t){return Number(t)*1e3}function jC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Aq(n);return i?JSON.parse(i):(Jy("Failed to decode base64 JWT payload"),null)}catch(i){return Jy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l8(t){const e=jC(t);return Xt(e,"internal-error"),Xt(typeof e.exp<"u","internal-error"),Xt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fc&&_xe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _xe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wxe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xg(this.lastLoginAt),this.creationTime=Xg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $0(t,Sx(n,{idToken:r}));Xt(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Bq(a.providerUserInfo):[],l=Sxe(t.providerData,s),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new UN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Axe(t){const e=Lr(t);await Ex(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sxe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Bq(t){return t.map(e=>{var{providerId:n}=e,r=kC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Exe(t,e){const n=await Fq(t,{},async()=>{const r=uv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Uq(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ff(t.emulatorConfig.host)&&(c.credentials="include"),Lq.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nxe(t,e){return hf(t,"POST","/v2/accounts:revokeToken",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xt(e.idToken,"internal-error"),Xt(typeof e.idToken<"u","internal-error"),Xt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xt(e.length!==0,"internal-error");const n=l8(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Exe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Mp;return r&&(Xt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Xt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Xt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mp,this.toJSON())}_performRefresh(){return vu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e){Xt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=kC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new UN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await $0(this,this.stsTokenManager.getToken(this.auth,e));return Xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bxe(this,e)}reload(){return Axe(this)}_assign(e){this!==e&&(Xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ex(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bo(this.auth.app))return Promise.reject(zd(this.auth));const e=await this.getIdToken();return await $0(this,xxe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,d,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(d=n.createdAt)!==null&&d!==void 0?d:void 0,I=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:B,isAnonymous:L,providerData:z,stsTokenManager:D}=n;Xt(k&&D,e,"internal-error");const j=Mp.fromJSON(this.name,D);Xt(typeof k=="string",e,"internal-error"),_d(m,e.name),_d(g,e.name),Xt(typeof B=="boolean",e,"internal-error"),Xt(typeof L=="boolean",e,"internal-error"),_d(y,e.name),_d(N,e.name),_d(S,e.name),_d(A,e.name),_d(C,e.name),_d(I,e.name);const V=new Tl({uid:k,auth:e,email:g,emailVerified:B,displayName:m,isAnonymous:L,photoURL:N,phoneNumber:y,tenantId:S,stsTokenManager:j,createdAt:C,lastLoginAt:I});return z&&Array.isArray(z)&&(V.providerData=z.map(Y=>Object.assign({},Y))),A&&(V._redirectEventId=A),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mp;i.updateFromServerResponse(n);const a=new Tl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ex(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Xt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Bq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Mp;l.updateFromIdToken(r);const c=new Tl({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new UN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new Map;function yu(t){Iu(t instanceof Function,"Expected a class definition");let e=c8.get(t);return e?(Iu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c8.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qq.type="NONE";const u8=qq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e,n){return`firebase:${t}:${e}:${n}`}class Dp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sx(this.auth,{idToken:e}).catch(()=>{});return n?Tl._fromGetAccountInfoResponse(this.auth,n,e):null}return Tl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dp(yu(u8),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||yu(u8);const s=Xy(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(s);if(h){let m;if(typeof h=="string"){const g=await Sx(e,{idToken:h}).catch(()=>{});if(!g)break;m=await Tl._fromGetAccountInfoResponse(e,g,h)}else m=Tl._fromJSON(e,h);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Dp(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Dp(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wq(e))return"Blackberry";if(Kq(e))return"Webos";if(zq(e))return"Safari";if((e.includes("chrome/")||$q(e))&&!e.includes("edge/"))return"Chrome";if(Gq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vq(t=ts()){return/firefox\//i.test(t)}function zq(t=ts()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $q(t=ts()){return/crios\//i.test(t)}function Hq(t=ts()){return/iemobile/i.test(t)}function Gq(t=ts()){return/android/i.test(t)}function Wq(t=ts()){return/blackberry/i.test(t)}function Kq(t=ts()){return/webos/i.test(t)}function MC(t=ts()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Txe(t=ts()){var e;return MC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cxe(){return Bye()&&document.documentMode===10}function Yq(t=ts()){return MC(t)||Gq(t)||Kq(t)||Wq(t)||/windows phone/i.test(t)||Hq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e=[]){let n;switch(t){case"Browser":n=d8(ts());break;case"Worker":n=`${d8(ts())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ixe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rxe(t,e={}){return hf(t,"GET","/v2/passwordPolicy",xh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kxe=6;class Pxe{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:kxe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f8(this),this.idTokenSubscription=new f8(this),this.beforeStateQueue=new Ixe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yu(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Dp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sx(this,{idToken:e}),r=await Tl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ex(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dxe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bo(this.app))return Promise.reject(zd(this));const n=e?Lr(e):null;return n&&Xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bo(this.app)?Promise.reject(zd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bo(this.app)?Promise.reject(zd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rxe(this),n=new Pxe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nxe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yu(e)||this._popupRedirectResolver;Xt(n,this,"argument-error"),this.redirectPersistenceManager=await Dp.create(this,[yu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xt(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lxe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Im(t){return Lr(t)}class f8{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kye(n=>this.observer=n)}get next(){return Xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jxe(t){Pb=t}function Xq(t){return Pb.loadJS(t)}function Mxe(){return Pb.recaptchaEnterpriseScript}function Dxe(){return Pb.gapiScript}function Lxe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Fxe{constructor(){this.enterprise=new Uxe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Uxe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Bxe="recaptcha-enterprise",Qq="NO_RECAPTCHA";class qxe{constructor(e){this.type=Bxe,this.auth=Im(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{yxe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new vxe(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,s,l){const c=window.grecaptcha;o8(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(Qq)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fxe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&o8(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Mxe();c.length!==0&&(c+=l),Xq(c).then(()=>{i(l,a,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function h8(t,e,n,r=!1,i=!1){const a=new qxe(t);let s;if(i)s=Qq;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function p8(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await h8(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await h8(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vxe(t,e){const n=Rb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ah(a,e??{}))return i;Pl(i,"already-initialized")}return n.initialize({options:e})}function zxe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $xe(t,e,n){const r=Im(t);Xt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Zq(e),{host:s,port:l}=Hxe(e),c=l===null?"":`:${l}`,d={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Xt(ah(d,r.config.emulator)&&ah(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ff(s)?(NC(`${a}//${s}${c}`),TC("Auth",!0)):Gxe()}function Zq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hxe(t){const e=Zq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:m8(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:m8(s)}}}function m8(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gxe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vu("not implemented")}_getIdTokenResponse(e){return vu("not implemented")}_linkToIdToken(e,n){return vu("not implemented")}_getReauthenticationResolver(e){return vu("not implemented")}}async function Wxe(t,e){return hf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kxe(t,e){return kb(t,"POST","/v1/accounts:signInWithPassword",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yxe(t,e){return kb(t,"POST","/v1/accounts:signInWithEmailLink",xh(t,e))}async function Jxe(t,e){return kb(t,"POST","/v1/accounts:signInWithEmailLink",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends DC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new H0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new H0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p8(e,n,"signInWithPassword",Kxe);case"emailLink":return Yxe(e,{email:this._email,oobCode:this._password});default:Pl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p8(e,r,"signUpPassword",Wxe);case"emailLink":return Jxe(e,{idToken:n,email:this._email,oobCode:this._password});default:Pl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(t,e){return kb(t,"POST","/v1/accounts:signInWithIdp",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xxe="http://localhost";class oh extends DC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=kC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new oh(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Lp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lp(e,n)}buildRequest(){const e={requestUri:Xxe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qxe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zxe(t){const e=Mg(Dg(t)).link,n=e?Mg(Dg(e)).deep_link_id:null,r=Mg(Dg(t)).deep_link_id;return(r?Mg(Dg(r)).link:null)||r||n||e||t}class LC{constructor(e){var n,r,i,a,s,l;const c=Mg(Dg(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Qxe((i=c.mode)!==null&&i!==void 0?i:null);Xt(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Zxe(e);try{return new LC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.providerId=Rm.PROVIDER_ID}static credential(e,n){return H0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=LC.parseLink(n);return Xt(r,"argument-error"),H0._fromEmailAndCode(e,r.code,r.tenantId)}}Rm.PROVIDER_ID="password";Rm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends eV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends fv{constructor(){super("facebook.com")}static credential(e){return oh._fromParams({providerId:Td.PROVIDER_ID,signInMethod:Td.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Td.credentialFromTaggedObject(e)}static credentialFromError(e){return Td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Td.credential(e.oauthAccessToken)}catch{return null}}}Td.FACEBOOK_SIGN_IN_METHOD="facebook.com";Td.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends fv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cd.credential(n,r)}catch{return null}}}Cd.GOOGLE_SIGN_IN_METHOD="google.com";Cd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends fv{constructor(){super("github.com")}static credential(e){return oh._fromParams({providerId:Id.PROVIDER_ID,signInMethod:Id.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Id.credentialFromTaggedObject(e)}static credentialFromError(e){return Id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Id.credential(e.oauthAccessToken)}catch{return null}}}Id.GITHUB_SIGN_IN_METHOD="github.com";Id.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends fv{constructor(){super("twitter.com")}static credential(e,n){return oh._fromParams({providerId:Rd.PROVIDER_ID,signInMethod:Rd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rd.credentialFromTaggedObject(e)}static credentialFromError(e){return Rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rd.credential(n,r)}catch{return null}}}Rd.TWITTER_SIGN_IN_METHOD="twitter.com";Rd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Tl._fromIdTokenResponse(e,r,i),s=g8(r);return new cm({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=g8(r);return new cm({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function g8(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends Fc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nx(e,n,r,i)}}function tV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nx._fromErrorAndOperation(t,a,e,r):a})}async function ebe(t,e,n=!1){const r=await $0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cm._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tbe(t,e,n=!1){const{auth:r}=t;if(Bo(r.app))return Promise.reject(zd(r));const i="reauthenticate";try{const a=await $0(t,tV(r,i,e,t),n);Xt(a.idToken,r,"internal-error");const s=jC(a.idToken);Xt(s,r,"internal-error");const{sub:l}=s;return Xt(t.uid===l,r,"user-mismatch"),cm._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e,n=!1){if(Bo(t.app))return Promise.reject(zd(t));const r="signIn",i=await tV(t,r,e),a=await cm._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function nbe(t,e){return nV(Im(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rbe(t){const e=Im(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function v8(t,e,n){return Bo(t.app)?Promise.reject(zd(t)):nbe(Lr(t),Rm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rbe(t),r})}function ibe(t,e,n,r){return Lr(t).onIdTokenChanged(e,n,r)}function abe(t,e,n){return Lr(t).beforeAuthStateChanged(e,n)}function sbe(t,e,n,r){return Lr(t).onAuthStateChanged(e,n,r)}function obe(t){return Lr(t).signOut()}const Tx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tx,"1"),this.storage.removeItem(Tx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lbe=1e3,cbe=10;class iV extends rV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Cxe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cbe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iV.type="LOCAL";const ube=iV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV extends rV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aV.type="SESSION";const sV=aV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dbe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ob(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async d=>d(n.origin,a)),c=await dbe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ob.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const d=FC("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(){return window}function hbe(t){Ic().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return typeof Ic().WorkerGlobalScope<"u"&&typeof Ic().importScripts=="function"}async function pbe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mbe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gbe(){return oV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="firebaseLocalStorageDb",vbe=1,Cx="firebaseLocalStorage",cV="fbase_key";class hv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jb(t,e){return t.transaction([Cx],e?"readwrite":"readonly").objectStore(Cx)}function ybe(){const t=indexedDB.deleteDatabase(lV);return new hv(t).toPromise()}function BN(){const t=indexedDB.open(lV,vbe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cx,{keyPath:cV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cx)?e(r):(r.close(),await ybe(),e(await BN()))})})}async function y8(t,e,n){const r=jb(t,!0).put({[cV]:e,value:n});return new hv(r).toPromise()}async function xbe(t,e){const n=jb(t,!1).get(e),r=await new hv(n).toPromise();return r===void 0?null:r.value}function x8(t,e){const n=jb(t,!0).delete(e);return new hv(n).toPromise()}const bbe=800,_be=3;class uV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_be)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ob._getInstance(gbe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pbe(),!this.activeServiceWorker)return;this.sender=new fbe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mbe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BN();return await y8(e,Tx,"1"),await x8(e,Tx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y8(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xbe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x8(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=jb(i,!1).getAll();return new hv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uV.type="LOCAL";const wbe=uV;new dv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Abe(t,e){return e?yu(e):(Xt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC extends DC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Sbe(t){return nV(t.auth,new UC(t),t.bypassAuthState)}function Ebe(t){const{auth:e,user:n}=t;return Xt(n,e,"internal-error"),tbe(n,new UC(t),t.bypassAuthState)}async function Nbe(t){const{auth:e,user:n}=t;return Xt(n,e,"internal-error"),ebe(n,new UC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sbe;case"linkViaPopup":case"linkViaRedirect":return Nbe;case"reauthViaPopup":case"reauthViaRedirect":return Ebe;default:Pl(this.auth,"internal-error")}}resolve(e){Iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tbe=new dv(2e3,1e4);class Ap extends dV{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ap.currentPopupAction&&Ap.currentPopupAction.cancel(),Ap.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xt(e,this.auth,"internal-error"),e}async onExecution(){Iu(this.filter.length===1,"Popup operations only handle one event");const e=FC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ap.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tbe.get())};e()}}Ap.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cbe="pendingRedirect",Qy=new Map;class Ibe extends dV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qy.get(this.auth._key());if(!e){try{const r=await Rbe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qy.set(this.auth._key(),e)}return this.bypassAuthState||Qy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rbe(t,e){const n=Obe(e),r=Pbe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kbe(t,e){Qy.set(t._key(),e)}function Pbe(t){return yu(t._redirectPersistence)}function Obe(t){return Xy(Cbe,t.config.apiKey,t.name)}async function jbe(t,e,n=!1){if(Bo(t.app))return Promise.reject(zd(t));const r=Im(t),i=Abe(r,e),s=await new Ibe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mbe=600*1e3;class Dbe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lbe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mbe&&this.cachedEventUids.clear(),this.cachedEventUids.has(b8(e))}saveEventToCache(e){this.cachedEventUids.add(b8(e)),this.lastProcessedEventTime=Date.now()}}function b8(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Lbe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fbe(t,e={}){return hf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ube=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bbe=/^https?/;async function qbe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Fbe(t);for(const n of e)try{if(Vbe(n))return}catch{}Pl(t,"unauthorized-domain")}function Vbe(t){const e=FN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Bbe.test(n))return!1;if(Ube.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zbe=new dv(3e4,6e4);function _8(){const t=Ic().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $be(t){return new Promise((e,n)=>{var r,i,a;function s(){_8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_8(),n(Cc(t,"network-request-failed"))},timeout:zbe.get()})}if(!((i=(r=Ic().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ic().gapi)===null||a===void 0)&&a.load)s();else{const l=Lxe("iframefcb");return Ic()[l]=()=>{gapi.load?s():n(Cc(t,"network-request-failed"))},Xq(`${Dxe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zy=null,e})}let Zy=null;function Hbe(t){return Zy=Zy||$be(t),Zy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gbe=new dv(5e3,15e3),Wbe="__/auth/iframe",Kbe="emulator/auth/iframe",Ybe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jbe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xbe(t){const e=t.config;Xt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OC(e,Kbe):`https://${t.config.authDomain}/${Wbe}`,r={apiKey:e.apiKey,appName:t.name,v:yh},i=Jbe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${uv(r).slice(1)}`}async function Qbe(t){const e=await Hbe(t),n=Ic().gapi;return Xt(n,t,"internal-error"),e.open({where:document.body,url:Xbe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ybe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Cc(t,"network-request-failed"),l=Ic().setTimeout(()=>{a(s)},Gbe.get());function c(){Ic().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2e=500,t2e=600,n2e="_blank",r2e="http://localhost";class w8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2e(t,e,n,r=e2e,i=t2e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Zbe),{width:r.toString(),height:i.toString(),top:a,left:s}),d=ts().toLowerCase();n&&(l=$q(d)?n2e:n),Vq(d)&&(e=e||r2e,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[y,N])=>`${g}${y}=${N},`,"");if(Txe(d)&&l!=="_self")return a2e(e||"",l),new w8(null);const m=window.open(e||"",l,h);Xt(m,t,"popup-blocked");try{m.focus()}catch{}return new w8(m)}function a2e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2e="__/auth/handler",o2e="emulator/auth/handler",l2e=encodeURIComponent("fac");async function A8(t,e,n,r,i,a){Xt(t.config.authDomain,t,"auth-domain-config-required"),Xt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yh,eventId:i};if(e instanceof eV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Wye(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof fv){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${l2e}=${encodeURIComponent(c)}`:"";return`${c2e(t)}?${uv(l).slice(1)}${d}`}function c2e({config:t}){return t.emulator?OC(t,o2e):`https://${t.authDomain}/${s2e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="webStorageSupport";class u2e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sV,this._completeRedirectFn=jbe,this._overrideRedirectResult=kbe}async _openPopup(e,n,r,i){var a;Iu((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await A8(e,n,r,FN(),i);return i2e(e,s,FC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await A8(e,n,r,FN(),i);return hbe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Iu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Qbe(e),r=new Dbe(e);return n.register("authEvent",i=>(Xt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(PS,{type:PS},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[PS];s!==void 0&&n(!!s),Pl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qbe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yq()||zq()||MC()}}const d2e=u2e;var S8="@firebase/auth",E8="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2e(t){sh(new Jd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Xt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jq(t)},d=new Oxe(r,i,a,c);return zxe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sh(new Jd("auth-internal",e=>{const n=Im(e.getProvider("auth").getImmediate());return(r=>new f2e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tc(S8,E8,h2e(t)),Tc(S8,E8,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2e=300,g2e=Tq("authIdTokenMaxAge")||m2e;let N8=null;const v2e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g2e)return;const i=n==null?void 0:n.token;N8!==i&&(N8=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y2e(t=RC()){const e=Rb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vxe(t,{popupRedirectResolver:d2e,persistence:[wbe,ube,sV]}),r=Tq("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=v2e(a.toString());abe(n,s,()=>s(n.currentUser)),ibe(n,l=>s(l))}}const i=Sq("auth");return i&&$xe(n,`http://${i}`),n}function x2e(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jxe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Cc("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",x2e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2e("Browser");var T8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $d,hV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,j){function V(){}V.prototype=j.prototype,D.D=j.prototype,D.prototype=new V,D.prototype.constructor=D,D.C=function(Y,q,M){for(var F=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)F[Q-2]=arguments[Q];return j.prototype[q].apply(Y,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,j,V){V||(V=0);var Y=Array(16);if(typeof j=="string")for(var q=0;16>q;++q)Y[q]=j.charCodeAt(V++)|j.charCodeAt(V++)<<8|j.charCodeAt(V++)<<16|j.charCodeAt(V++)<<24;else for(q=0;16>q;++q)Y[q]=j[V++]|j[V++]<<8|j[V++]<<16|j[V++]<<24;j=D.g[0],V=D.g[1],q=D.g[2];var M=D.g[3],F=j+(M^V&(q^M))+Y[0]+3614090360&4294967295;j=V+(F<<7&4294967295|F>>>25),F=M+(q^j&(V^q))+Y[1]+3905402710&4294967295,M=j+(F<<12&4294967295|F>>>20),F=q+(V^M&(j^V))+Y[2]+606105819&4294967295,q=M+(F<<17&4294967295|F>>>15),F=V+(j^q&(M^j))+Y[3]+3250441966&4294967295,V=q+(F<<22&4294967295|F>>>10),F=j+(M^V&(q^M))+Y[4]+4118548399&4294967295,j=V+(F<<7&4294967295|F>>>25),F=M+(q^j&(V^q))+Y[5]+1200080426&4294967295,M=j+(F<<12&4294967295|F>>>20),F=q+(V^M&(j^V))+Y[6]+2821735955&4294967295,q=M+(F<<17&4294967295|F>>>15),F=V+(j^q&(M^j))+Y[7]+4249261313&4294967295,V=q+(F<<22&4294967295|F>>>10),F=j+(M^V&(q^M))+Y[8]+1770035416&4294967295,j=V+(F<<7&4294967295|F>>>25),F=M+(q^j&(V^q))+Y[9]+2336552879&4294967295,M=j+(F<<12&4294967295|F>>>20),F=q+(V^M&(j^V))+Y[10]+4294925233&4294967295,q=M+(F<<17&4294967295|F>>>15),F=V+(j^q&(M^j))+Y[11]+2304563134&4294967295,V=q+(F<<22&4294967295|F>>>10),F=j+(M^V&(q^M))+Y[12]+1804603682&4294967295,j=V+(F<<7&4294967295|F>>>25),F=M+(q^j&(V^q))+Y[13]+4254626195&4294967295,M=j+(F<<12&4294967295|F>>>20),F=q+(V^M&(j^V))+Y[14]+2792965006&4294967295,q=M+(F<<17&4294967295|F>>>15),F=V+(j^q&(M^j))+Y[15]+1236535329&4294967295,V=q+(F<<22&4294967295|F>>>10),F=j+(q^M&(V^q))+Y[1]+4129170786&4294967295,j=V+(F<<5&4294967295|F>>>27),F=M+(V^q&(j^V))+Y[6]+3225465664&4294967295,M=j+(F<<9&4294967295|F>>>23),F=q+(j^V&(M^j))+Y[11]+643717713&4294967295,q=M+(F<<14&4294967295|F>>>18),F=V+(M^j&(q^M))+Y[0]+3921069994&4294967295,V=q+(F<<20&4294967295|F>>>12),F=j+(q^M&(V^q))+Y[5]+3593408605&4294967295,j=V+(F<<5&4294967295|F>>>27),F=M+(V^q&(j^V))+Y[10]+38016083&4294967295,M=j+(F<<9&4294967295|F>>>23),F=q+(j^V&(M^j))+Y[15]+3634488961&4294967295,q=M+(F<<14&4294967295|F>>>18),F=V+(M^j&(q^M))+Y[4]+3889429448&4294967295,V=q+(F<<20&4294967295|F>>>12),F=j+(q^M&(V^q))+Y[9]+568446438&4294967295,j=V+(F<<5&4294967295|F>>>27),F=M+(V^q&(j^V))+Y[14]+3275163606&4294967295,M=j+(F<<9&4294967295|F>>>23),F=q+(j^V&(M^j))+Y[3]+4107603335&4294967295,q=M+(F<<14&4294967295|F>>>18),F=V+(M^j&(q^M))+Y[8]+1163531501&4294967295,V=q+(F<<20&4294967295|F>>>12),F=j+(q^M&(V^q))+Y[13]+2850285829&4294967295,j=V+(F<<5&4294967295|F>>>27),F=M+(V^q&(j^V))+Y[2]+4243563512&4294967295,M=j+(F<<9&4294967295|F>>>23),F=q+(j^V&(M^j))+Y[7]+1735328473&4294967295,q=M+(F<<14&4294967295|F>>>18),F=V+(M^j&(q^M))+Y[12]+2368359562&4294967295,V=q+(F<<20&4294967295|F>>>12),F=j+(V^q^M)+Y[5]+4294588738&4294967295,j=V+(F<<4&4294967295|F>>>28),F=M+(j^V^q)+Y[8]+2272392833&4294967295,M=j+(F<<11&4294967295|F>>>21),F=q+(M^j^V)+Y[11]+1839030562&4294967295,q=M+(F<<16&4294967295|F>>>16),F=V+(q^M^j)+Y[14]+4259657740&4294967295,V=q+(F<<23&4294967295|F>>>9),F=j+(V^q^M)+Y[1]+2763975236&4294967295,j=V+(F<<4&4294967295|F>>>28),F=M+(j^V^q)+Y[4]+1272893353&4294967295,M=j+(F<<11&4294967295|F>>>21),F=q+(M^j^V)+Y[7]+4139469664&4294967295,q=M+(F<<16&4294967295|F>>>16),F=V+(q^M^j)+Y[10]+3200236656&4294967295,V=q+(F<<23&4294967295|F>>>9),F=j+(V^q^M)+Y[13]+681279174&4294967295,j=V+(F<<4&4294967295|F>>>28),F=M+(j^V^q)+Y[0]+3936430074&4294967295,M=j+(F<<11&4294967295|F>>>21),F=q+(M^j^V)+Y[3]+3572445317&4294967295,q=M+(F<<16&4294967295|F>>>16),F=V+(q^M^j)+Y[6]+76029189&4294967295,V=q+(F<<23&4294967295|F>>>9),F=j+(V^q^M)+Y[9]+3654602809&4294967295,j=V+(F<<4&4294967295|F>>>28),F=M+(j^V^q)+Y[12]+3873151461&4294967295,M=j+(F<<11&4294967295|F>>>21),F=q+(M^j^V)+Y[15]+530742520&4294967295,q=M+(F<<16&4294967295|F>>>16),F=V+(q^M^j)+Y[2]+3299628645&4294967295,V=q+(F<<23&4294967295|F>>>9),F=j+(q^(V|~M))+Y[0]+4096336452&4294967295,j=V+(F<<6&4294967295|F>>>26),F=M+(V^(j|~q))+Y[7]+1126891415&4294967295,M=j+(F<<10&4294967295|F>>>22),F=q+(j^(M|~V))+Y[14]+2878612391&4294967295,q=M+(F<<15&4294967295|F>>>17),F=V+(M^(q|~j))+Y[5]+4237533241&4294967295,V=q+(F<<21&4294967295|F>>>11),F=j+(q^(V|~M))+Y[12]+1700485571&4294967295,j=V+(F<<6&4294967295|F>>>26),F=M+(V^(j|~q))+Y[3]+2399980690&4294967295,M=j+(F<<10&4294967295|F>>>22),F=q+(j^(M|~V))+Y[10]+4293915773&4294967295,q=M+(F<<15&4294967295|F>>>17),F=V+(M^(q|~j))+Y[1]+2240044497&4294967295,V=q+(F<<21&4294967295|F>>>11),F=j+(q^(V|~M))+Y[8]+1873313359&4294967295,j=V+(F<<6&4294967295|F>>>26),F=M+(V^(j|~q))+Y[15]+4264355552&4294967295,M=j+(F<<10&4294967295|F>>>22),F=q+(j^(M|~V))+Y[6]+2734768916&4294967295,q=M+(F<<15&4294967295|F>>>17),F=V+(M^(q|~j))+Y[13]+1309151649&4294967295,V=q+(F<<21&4294967295|F>>>11),F=j+(q^(V|~M))+Y[4]+4149444226&4294967295,j=V+(F<<6&4294967295|F>>>26),F=M+(V^(j|~q))+Y[11]+3174756917&4294967295,M=j+(F<<10&4294967295|F>>>22),F=q+(j^(M|~V))+Y[2]+718787259&4294967295,q=M+(F<<15&4294967295|F>>>17),F=V+(M^(q|~j))+Y[9]+3951481745&4294967295,D.g[0]=D.g[0]+j&4294967295,D.g[1]=D.g[1]+(q+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+q&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,j){j===void 0&&(j=D.length);for(var V=j-this.blockSize,Y=this.B,q=this.h,M=0;M<j;){if(q==0)for(;M<=V;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<j;)if(Y[q++]=D.charCodeAt(M++),q==this.blockSize){i(this,Y),q=0;break}}else for(;M<j;)if(Y[q++]=D[M++],q==this.blockSize){i(this,Y),q=0;break}}this.h=q,this.o+=j},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var j=1;j<D.length-8;++j)D[j]=0;var V=8*this.o;for(j=D.length-8;j<D.length;++j)D[j]=V&255,V/=256;for(this.u(D),D=Array(16),j=V=0;4>j;++j)for(var Y=0;32>Y;Y+=8)D[V++]=this.g[j]>>>Y&255;return D};function a(D,j){var V=l;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=j(D)}function s(D,j){this.h=j;for(var V=[],Y=!0,q=D.length-1;0<=q;q--){var M=D[q]|0;Y&&M==j||(V[q]=M,Y=!1)}this.g=V}var l={};function c(D){return-128<=D&&128>D?a(D,function(j){return new s([j|0],0>j?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return A(d(-D));for(var j=[],V=1,Y=0;D>=V;Y++)j[Y]=D/V|0,V*=4294967296;return new s(j,0)}function h(D,j){if(D.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(D.charAt(0)=="-")return A(h(D.substring(1),j));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=d(Math.pow(j,8)),Y=m,q=0;q<D.length;q+=8){var M=Math.min(8,D.length-q),F=parseInt(D.substring(q,q+M),j);8>M?(M=d(Math.pow(j,M)),Y=Y.j(M).add(d(F))):(Y=Y.j(V),Y=Y.add(d(F)))}return Y}var m=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-A(this).m();for(var D=0,j=1,V=0;V<this.g.length;V++){var Y=this.i(V);D+=(0<=Y?Y:4294967296+Y)*j,j*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(S(this))return"-"+A(this).toString(D);for(var j=d(Math.pow(D,6)),V=this,Y="";;){var q=B(V,j).g;V=C(V,q.j(j));var M=((0<V.g.length?V.g[0]:V.h)>>>0).toString(D);if(V=q,N(V))return M+Y;for(;6>M.length;)M="0"+M;Y=M+Y}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var j=0;j<D.g.length;j++)if(D.g[j]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=C(this,D),S(D)?-1:N(D)?0:1};function A(D){for(var j=D.g.length,V=[],Y=0;Y<j;Y++)V[Y]=~D.g[Y];return new s(V,~D.h).add(g)}t.abs=function(){return S(this)?A(this):this},t.add=function(D){for(var j=Math.max(this.g.length,D.g.length),V=[],Y=0,q=0;q<=j;q++){var M=Y+(this.i(q)&65535)+(D.i(q)&65535),F=(M>>>16)+(this.i(q)>>>16)+(D.i(q)>>>16);Y=F>>>16,M&=65535,F&=65535,V[q]=F<<16|M}return new s(V,V[V.length-1]&-2147483648?-1:0)};function C(D,j){return D.add(A(j))}t.j=function(D){if(N(this)||N(D))return m;if(S(this))return S(D)?A(this).j(A(D)):A(A(this).j(D));if(S(D))return A(this.j(A(D)));if(0>this.l(y)&&0>D.l(y))return d(this.m()*D.m());for(var j=this.g.length+D.g.length,V=[],Y=0;Y<2*j;Y++)V[Y]=0;for(Y=0;Y<this.g.length;Y++)for(var q=0;q<D.g.length;q++){var M=this.i(Y)>>>16,F=this.i(Y)&65535,Q=D.i(q)>>>16,se=D.i(q)&65535;V[2*Y+2*q]+=F*se,I(V,2*Y+2*q),V[2*Y+2*q+1]+=M*se,I(V,2*Y+2*q+1),V[2*Y+2*q+1]+=F*Q,I(V,2*Y+2*q+1),V[2*Y+2*q+2]+=M*Q,I(V,2*Y+2*q+2)}for(Y=0;Y<j;Y++)V[Y]=V[2*Y+1]<<16|V[2*Y];for(Y=j;Y<2*j;Y++)V[Y]=0;return new s(V,0)};function I(D,j){for(;(D[j]&65535)!=D[j];)D[j+1]+=D[j]>>>16,D[j]&=65535,j++}function k(D,j){this.g=D,this.h=j}function B(D,j){if(N(j))throw Error("division by zero");if(N(D))return new k(m,m);if(S(D))return j=B(A(D),j),new k(A(j.g),A(j.h));if(S(j))return j=B(D,A(j)),new k(A(j.g),j.h);if(30<D.g.length){if(S(D)||S(j))throw Error("slowDivide_ only works with positive integers.");for(var V=g,Y=j;0>=Y.l(D);)V=L(V),Y=L(Y);var q=z(V,1),M=z(Y,1);for(Y=z(Y,2),V=z(V,2);!N(Y);){var F=M.add(Y);0>=F.l(D)&&(q=q.add(V),M=F),Y=z(Y,1),V=z(V,1)}return j=C(D,q.j(j)),new k(q,j)}for(q=m;0<=D.l(j);){for(V=Math.max(1,Math.floor(D.m()/j.m())),Y=Math.ceil(Math.log(V)/Math.LN2),Y=48>=Y?1:Math.pow(2,Y-48),M=d(V),F=M.j(j);S(F)||0<F.l(D);)V-=Y,M=d(V),F=M.j(j);N(M)&&(M=g),q=q.add(M),D=C(D,F)}return new k(q,D)}t.A=function(D){return B(this,D).h},t.and=function(D){for(var j=Math.max(this.g.length,D.g.length),V=[],Y=0;Y<j;Y++)V[Y]=this.i(Y)&D.i(Y);return new s(V,this.h&D.h)},t.or=function(D){for(var j=Math.max(this.g.length,D.g.length),V=[],Y=0;Y<j;Y++)V[Y]=this.i(Y)|D.i(Y);return new s(V,this.h|D.h)},t.xor=function(D){for(var j=Math.max(this.g.length,D.g.length),V=[],Y=0;Y<j;Y++)V[Y]=this.i(Y)^D.i(Y);return new s(V,this.h^D.h)};function L(D){for(var j=D.g.length+1,V=[],Y=0;Y<j;Y++)V[Y]=D.i(Y)<<1|D.i(Y-1)>>>31;return new s(V,D.h)}function z(D,j){var V=j>>5;j%=32;for(var Y=D.g.length-V,q=[],M=0;M<Y;M++)q[M]=0<j?D.i(M+V)>>>j|D.i(M+V+1)<<32-j:D.i(M+V);return new s(q,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hV=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,$d=s}).apply(typeof T8<"u"?T8:typeof self<"u"?self:typeof window<"u"?window:{});var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pV,Lg,mV,e1,qN,gV,vV,yV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,$,J){return _==Array.prototype||_==Object.prototype||(_[$]=J.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dy=="object"&&Dy];for(var $=0;$<_.length;++$){var J=_[$];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var r=n(this);function i(_,$){if($)e:{var J=r;_=_.split(".");for(var fe=0;fe<_.length-1;fe++){var Oe=_[fe];if(!(Oe in J))break e;J=J[Oe]}_=_[_.length-1],fe=J[_],$=$(fe),$!=fe&&$!=null&&e(J,_,{configurable:!0,writable:!0,value:$})}}function a(_,$){_ instanceof String&&(_+="");var J=0,fe=!1,Oe={next:function(){if(!fe&&J<_.length){var Be=J++;return{value:$(Be,_[Be]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}i("Array.prototype.values",function(_){return _||function(){return a(this,function($,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(_){var $=typeof _;return $=$!="object"?$:_?Array.isArray(_)?"array":$:"null",$=="array"||$=="object"&&typeof _.length=="number"}function d(_){var $=typeof _;return $=="object"&&_!=null||$=="function"}function h(_,$,J){return _.call.apply(_.bind,arguments)}function m(_,$,J){if(!_)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,fe),_.apply($,Oe)}}return function(){return _.apply($,arguments)}}function g(_,$,J){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function y(_,$){var J=Array.prototype.slice.call(arguments,1);return function(){var fe=J.slice();return fe.push.apply(fe,arguments),_.apply(this,fe)}}function N(_,$){function J(){}J.prototype=$.prototype,_.aa=$.prototype,_.prototype=new J,_.prototype.constructor=_,_.Qb=function(fe,Oe,Be){for(var mt=Array(arguments.length-2),en=2;en<arguments.length;en++)mt[en-2]=arguments[en];return $.prototype[Oe].apply(fe,mt)}}function S(_){const $=_.length;if(0<$){const J=Array($);for(let fe=0;fe<$;fe++)J[fe]=_[fe];return J}return[]}function A(_,$){for(let J=1;J<arguments.length;J++){const fe=arguments[J];if(c(fe)){const Oe=_.length||0,Be=fe.length||0;_.length=Oe+Be;for(let mt=0;mt<Be;mt++)_[Oe+mt]=fe[mt]}else _.push(fe)}}class C{constructor($,J){this.i=$,this.j=J,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function I(_){return/^[\s\xa0]*$/.test(_)}function k(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function B(_){return B[" "](_),_}B[" "]=function(){};var L=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function z(_,$,J){for(const fe in _)$.call(J,_[fe],fe,_)}function D(_,$){for(const J in _)$.call(void 0,_[J],J,_)}function j(_){const $={};for(const J in _)$[J]=_[J];return $}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(_,$){let J,fe;for(let Oe=1;Oe<arguments.length;Oe++){fe=arguments[Oe];for(J in fe)_[J]=fe[J];for(let Be=0;Be<V.length;Be++)J=V[Be],Object.prototype.hasOwnProperty.call(fe,J)&&(_[J]=fe[J])}}function q(_){var $=1;_=_.split(":");const J=[];for(;0<$&&_.length;)J.push(_.shift()),$--;return _.length&&J.push(_.join(":")),J}function M(_){l.setTimeout(()=>{throw _},0)}function F(){var _=xe;let $=null;return _.g&&($=_.g,_.g=_.g.next,_.g||(_.h=null),$.next=null),$}class Q{constructor(){this.h=this.g=null}add($,J){const fe=se.get();fe.set($,J),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var se=new C(()=>new W,_=>_.reset());class W{constructor(){this.next=this.g=this.h=null}set($,J){this.h=$,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,le=!1,xe=new Q,ve=()=>{const _=l.Promise.resolve(void 0);ee=()=>{_.then(ce)}};var ce=()=>{for(var _;_=F();){try{_.h.call(_.g)}catch(J){M(J)}var $=se;$.j(_),100>$.h&&($.h++,_.next=$.g,$.g=_)}le=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(_,$){this.type=_,this.g=this.target=$,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,$=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const J=()=>{};l.addEventListener("test",J,$),l.removeEventListener("test",J,$)}catch{}return _})();function Z(_,$){if(K.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var J=this.type=_.type,fe=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=$,$=_.relatedTarget){if(L){e:{try{B($.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||($=null)}}else J=="mouseover"?$=_.fromElement:J=="mouseout"&&($=_.toElement);this.relatedTarget=$,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:te[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Z.aa.h.call(this)}}N(Z,K);var te={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),_e=0;function ie(_,$,J,fe,Oe){this.listener=_,this.proxy=null,this.src=$,this.type=J,this.capture=!!fe,this.ha=Oe,this.key=++_e,this.da=this.fa=!1}function Ae(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Re(_){this.src=_,this.g={},this.h=0}Re.prototype.add=function(_,$,J,fe,Oe){var Be=_.toString();_=this.g[Be],_||(_=this.g[Be]=[],this.h++);var mt=We(_,$,fe,Oe);return-1<mt?($=_[mt],J||($.fa=!1)):($=new ie($,this.src,Be,!!fe,Oe),$.fa=J,_.push($)),$};function Se(_,$){var J=$.type;if(J in _.g){var fe=_.g[J],Oe=Array.prototype.indexOf.call(fe,$,void 0),Be;(Be=0<=Oe)&&Array.prototype.splice.call(fe,Oe,1),Be&&(Ae($),_.g[J].length==0&&(delete _.g[J],_.h--))}}function We(_,$,J,fe){for(var Oe=0;Oe<_.length;++Oe){var Be=_[Oe];if(!Be.da&&Be.listener==$&&Be.capture==!!J&&Be.ha==fe)return Oe}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),ge={};function ue(_,$,J,fe,Oe){if(Array.isArray($)){for(var Be=0;Be<$.length;Be++)ue(_,$[Be],J,fe,Oe);return null}return J=Et(J),_&&_[me]?_.K($,J,d(fe)?!!fe.capture:!1,Oe):ut(_,$,J,!1,fe,Oe)}function ut(_,$,J,fe,Oe,Be){if(!$)throw Error("Invalid event type");var mt=d(Oe)?!!Oe.capture:!!Oe,en=Ye(_);if(en||(_[tt]=en=new Re(_)),J=en.add($,J,fe,mt,Be),J.proxy)return J;if(fe=Ze(),J.proxy=fe,fe.src=_,fe.listener=J,_.addEventListener)H||(Oe=mt),Oe===void 0&&(Oe=!1),_.addEventListener($.toString(),fe,Oe);else if(_.attachEvent)_.attachEvent(Ke($.toString()),fe);else if(_.addListener&&_.removeListener)_.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return J}function Ze(){function _(J){return $.call(_.src,_.listener,J)}const $=Ve;return _}function He(_,$,J,fe,Oe){if(Array.isArray($))for(var Be=0;Be<$.length;Be++)He(_,$[Be],J,fe,Oe);else fe=d(fe)?!!fe.capture:!!fe,J=Et(J),_&&_[me]?(_=_.i,$=String($).toString(),$ in _.g&&(Be=_.g[$],J=We(Be,J,fe,Oe),-1<J&&(Ae(Be[J]),Array.prototype.splice.call(Be,J,1),Be.length==0&&(delete _.g[$],_.h--)))):_&&(_=Ye(_))&&($=_.g[$.toString()],_=-1,$&&(_=We($,J,fe,Oe)),(J=-1<_?$[_]:null)&&Ge(J))}function Ge(_){if(typeof _!="number"&&_&&!_.da){var $=_.src;if($&&$[me])Se($.i,_);else{var J=_.type,fe=_.proxy;$.removeEventListener?$.removeEventListener(J,fe,_.capture):$.detachEvent?$.detachEvent(Ke(J),fe):$.addListener&&$.removeListener&&$.removeListener(fe),(J=Ye($))?(Se(J,_),J.h==0&&(J.src=null,$[tt]=null)):Ae(_)}}}function Ke(_){return _ in ge?ge[_]:ge[_]="on"+_}function Ve(_,$){if(_.da)_=!0;else{$=new Z($,this);var J=_.listener,fe=_.ha||_.src;_.fa&&Ge(_),_=J.call(fe,$)}return _}function Ye(_){return _=_[tt],_ instanceof Re?_:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(_){return typeof _=="function"?_:(_[ht]||(_[ht]=function($){return _.handleEvent($)}),_[ht])}function yt(){O.call(this),this.i=new Re(this),this.M=this,this.F=null}N(yt,O),yt.prototype[me]=!0,yt.prototype.removeEventListener=function(_,$,J,fe){He(this,_,$,J,fe)};function St(_,$){var J,fe=_.F;if(fe)for(J=[];fe;fe=fe.F)J.push(fe);if(_=_.M,fe=$.type||$,typeof $=="string")$=new K($,_);else if($ instanceof K)$.target=$.target||_;else{var Oe=$;$=new K(fe,_),Y($,Oe)}if(Oe=!0,J)for(var Be=J.length-1;0<=Be;Be--){var mt=$.g=J[Be];Oe=Kt(mt,fe,!0,$)&&Oe}if(mt=$.g=_,Oe=Kt(mt,fe,!0,$)&&Oe,Oe=Kt(mt,fe,!1,$)&&Oe,J)for(Be=0;Be<J.length;Be++)mt=$.g=J[Be],Oe=Kt(mt,fe,!1,$)&&Oe}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var _=this.i,$;for($ in _.g){for(var J=_.g[$],fe=0;fe<J.length;fe++)Ae(J[fe]);delete _.g[$],_.h--}}this.F=null},yt.prototype.K=function(_,$,J,fe){return this.i.add(String(_),$,!1,J,fe)},yt.prototype.L=function(_,$,J,fe){return this.i.add(String(_),$,!0,J,fe)};function Kt(_,$,J,fe){if($=_.i.g[String($)],!$)return!0;$=$.concat();for(var Oe=!0,Be=0;Be<$.length;++Be){var mt=$[Be];if(mt&&!mt.da&&mt.capture==J){var en=mt.listener,yn=mt.ha||mt.src;mt.fa&&Se(_.i,mt),Oe=en.call(yn,fe)!==!1&&Oe}}return Oe&&!fe.defaultPrevented}function It(_,$,J){if(typeof _=="function")J&&(_=g(_,J));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:l.setTimeout(_,$||0)}function zt(_){_.g=It(()=>{_.g=null,_.i&&(_.i=!1,zt(_))},_.l);const $=_.h;_.h=null,_.m.apply(null,$)}class xt extends O{constructor($,J){super(),this.m=$,this.l=J,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(_){O.call(this),this.h=_,this.g={}}N(Nn,O);var nn=[];function qn(_){z(_.g,function($,J){this.g.hasOwnProperty(J)&&Ge($)},_),_.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),qn(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=l.JSON.stringify,rt=l.JSON.parse,Vt=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function Dt(){}Dt.prototype.h=null;function Ar(_){return _.h||(_.h=_.i())}function un(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){K.call(this,"d")}N(Sr,K);function pn(){K.call(this,"c")}N(pn,K);var Ft={},vn=null;function xs(){return vn=vn||new yt}Ft.La="serverreachability";function Gr(_){K.call(this,Ft.La,_)}N(Gr,K);function gi(_){const $=xs();St($,new Gr($))}Ft.STAT_EVENT="statevent";function Oi(_,$){K.call(this,Ft.STAT_EVENT,_),this.stat=$}N(Oi,K);function kt(_){const $=xs();St($,new Oi($,_))}Ft.Ma="timingevent";function da(_,$){K.call(this,Ft.Ma,_),this.size=$}N(da,K);function ji(_,$){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},$)}function Wr(){this.g=!0}Wr.prototype.xa=function(){this.g=!1};function Ir(_,$,J,fe,Oe,Be){_.info(function(){if(_.g)if(Be)for(var mt="",en=Be.split("&"),yn=0;yn<en.length;yn++){var Ht=en[yn].split("=");if(1<Ht.length){var Hn=Ht[0];Ht=Ht[1];var ar=Hn.split("_");mt=2<=ar.length&&ar[1]=="type"?mt+(Hn+"="+Ht+"&"):mt+(Hn+"=redacted&")}}else mt=null;else mt=Be;return"XMLHTTP REQ ("+fe+") [attempt "+Oe+"]: "+$+`
`+J+`
`+mt})}function Er(_,$,J,fe,Oe,Be,mt){_.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Oe+"]: "+$+`
`+J+`
`+Be+" "+mt})}function Kr(_,$,J,fe){_.info(function(){return"XMLHTTP TEXT ("+$+"): "+vi(_,J)+(fe?" "+fe:"")})}function Ko(_,$){_.info(function(){return"TIMEOUT: "+$})}Wr.prototype.info=function(){};function vi(_,$){if(!_.g)return $;if(!$)return null;try{var J=JSON.parse($);if(J){for(_=0;_<J.length;_++)if(Array.isArray(J[_])){var fe=J[_];if(!(2>fe.length)){var Oe=fe[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var Be=Oe[0];if(Be!="noop"&&Be!="stop"&&Be!="close")for(var mt=1;mt<Oe.length;mt++)Oe[mt]=""}}}}return Ne(J)}catch{return $}}var Ln={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function Mi(){}N(Mi,Dt),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},ei=new Mi;function Yr(_,$,J,fe){this.j=_,this.i=$,this.l=J,this.R=fe||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var Vs={},Ia={};function bs(_,$,J){_.L=1,_.v=bo(ur($)),_.m=J,_.P=!0,Ra(_,null)}function Ra(_,$){_.F=Date.now(),rs(_),_.A=ur(_.v);var J=_.A,fe=_.R;Array.isArray(fe)||(fe=[String(fe)]),Ut(J.i,"t",fe),_.C=0,J=_.j.J,_.h=new ns,_.g=ne(_.j,J?$:null,!_.m),0<_.O&&(_.M=new xt(g(_.Y,_,_.g),_.O)),$=_.U,J=_.g,fe=_.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(nn[0]=Oe.toString()),Oe=nn);for(var Be=0;Be<Oe.length;Be++){var mt=ue(J,Oe[Be],fe||$.handleEvent,!1,$.h||$);if(!mt)break;$.g[mt.key]=mt}$=_.H?j(_.H):{},_.m?(_.u||(_.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,$)):(_.u="GET",_.g.ea(_.A,_.u,null,$)),gi(),Ir(_.i,_.u,_.A,_.l,_.R,_.m)}Yr.prototype.ca=function(_){_=_.target;const $=this.M;$&&kr(_)==3?$.j():this.Y(_)},Yr.prototype.Y=function(_){try{if(_==this.g)e:{const ar=kr(this.g);var $=this.g.Ba();const Xs=this.g.Z();if(!(3>ar)&&(ar!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||ar!=4||$==7||($==8||0>=Xs?gi(3):gi(2)),zs(this);var J=this.g.Z();this.X=J;t:if(ka(this)){var fe=el(this.g);_="";var Oe=fe.length,Be=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),$s(this);var mt="";break t}this.h.i=new l.TextDecoder}for($=0;$<Oe;$++)this.h.h=!0,_+=this.h.i.decode(fe[$],{stream:!(Be&&$==Oe-1)});fe.length=0,this.h.g+=_,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=J==200,Er(this.i,this.u,this.A,this.l,this.R,ar,J),this.o){if(this.T&&!this.K){t:{if(this.g){var en,yn=this.g;if((en=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(en)){var Ht=en;break t}}Ht=null}if(J=Ht)Kr(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,J);else{this.o=!1,this.s=3,kt(12),Di(this),$s(this);break e}}if(this.P){J=!0;let xi;for(;!this.J&&this.C<mt.length;)if(xi=yo(this,mt),xi==Ia){ar==4&&(this.s=4,kt(14),J=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(xi==Vs){this.s=4,kt(15),Kr(this.i,this.l,mt,"[Invalid Chunk]"),J=!1;break}else Kr(this.i,this.l,xi,null),Pa(this,xi);if(ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ar!=4||mt.length!=0||this.h.h||(this.s=1,kt(16),J=!1),this.o=this.o&&J,!J)Kr(this.i,this.l,mt,"[Invalid Chunked Response]"),Di(this),$s(this);else if(0<mt.length&&!this.W){this.W=!0;var Hn=this.j;Hn.g==this&&Hn.ba&&!Hn.M&&(Hn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Kl(Hn),Hn.M=!0,kt(11))}}else Kr(this.i,this.l,mt,null),Pa(this,mt);ar==4&&Di(this),this.o&&!this.J&&(ar==4?To(this.j,this):(this.o=!1,rs(this)))}else Ys(this.g),J==400&&0<mt.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Di(this),$s(this)}}}catch{}finally{}};function ka(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function yo(_,$){var J=_.C,fe=$.indexOf(`
`,J);return fe==-1?Ia:(J=Number($.substring(J,fe)),isNaN(J)?Vs:(fe+=1,fe+J>$.length?Ia:($=$.slice(fe,fe+J),_.C=fe+J,$)))}Yr.prototype.cancel=function(){this.J=!0,Di(this)};function rs(_){_.S=Date.now()+_.I,Rr(_,_.I)}function Rr(_,$){if(_.B!=null)throw Error("WatchDog timer not null");_.B=ji(g(_.ba,_),$)}function zs(_){_.B&&(l.clearTimeout(_.B),_.B=null)}Yr.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Ko(this.i,this.A),this.L!=2&&(gi(),kt(17)),Di(this),this.s=2,$s(this)):Rr(this,this.S-_)};function $s(_){_.j.G==0||_.J||To(_.j,_)}function Di(_){zs(_);var $=_.M;$&&typeof $.ma=="function"&&$.ma(),_.M=null,qn(_.U),_.g&&($=_.g,_.g=null,$.abort(),$.ma())}function Pa(_,$){try{var J=_.j;if(J.G!=0&&(J.g==_||xo(J.h,_))){if(!_.K&&xo(J.h,_)&&J.G==3){try{var fe=J.Da.g.parse($)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Oe=fe;if(Oe[0]==0){e:if(!J.u){if(J.g)if(J.g.F+3e3<_.F)ss(J),So(J);else break e;nl(J),kt(18)}}else J.za=Oe[1],0<J.za-J.T&&37500>Oe[2]&&J.F&&J.v==0&&!J.C&&(J.C=ji(g(J.Za,J),6e3));if(1>=Yo(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else Qi(J,11)}else if((_.K||J.g==_)&&ss(J),!I($))for(Oe=J.Da.g.parse($),$=0;$<Oe.length;$++){let Ht=Oe[$];if(J.T=Ht[0],Ht=Ht[1],J.G==2)if(Ht[0]=="c"){J.K=Ht[1],J.ia=Ht[2];const Hn=Ht[3];Hn!=null&&(J.la=Hn,J.j.info("VER="+J.la));const ar=Ht[4];ar!=null&&(J.Aa=ar,J.j.info("SVER="+J.Aa));const Xs=Ht[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(fe=1.5*Xs,J.L=fe,J.j.info("backChannelRequestTimeoutMs_="+fe)),fe=J;const xi=_.g;if(xi){const Qs=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var Be=fe.h;Be.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(er(Be,Be.h),Be.h=null))}if(fe.D){const Fa=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(fe.ya=Fa,Tn(fe.I,fe.D,Fa))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-_.F,J.j.info("Handshake RTT: "+J.R+"ms")),fe=J;var mt=_;if(fe.qa=P(fe,fe.J?fe.ia:null,fe.W),mt.K){fa(fe.h,mt);var en=mt,yn=fe.L;yn&&(en.I=yn),en.B&&(zs(en),rs(en)),fe.g=mt}else Wl(fe);0<J.i.length&&Hl(J)}else Ht[0]!="stop"&&Ht[0]!="close"||Qi(J,7);else J.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Qi(J,7):Js(J):Ht[0]!="noop"&&J.l&&J.l.ta(Ht),J.v=0)}}gi(4)}catch{}}var gf=class{constructor(_,$){this.g=_,this.map=$}};function Fl(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uc(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Yo(_){return _.h?1:_.g?_.g.size:0}function xo(_,$){return _.h?_.h==$:_.g?_.g.has($):!1}function er(_,$){_.g?_.g.add($):_.h=$}function fa(_,$){_.h&&_.h==$?_.h=null:_.g&&_.g.has($)&&_.g.delete($)}Fl.prototype.cancel=function(){if(this.i=yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function yi(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let $=_.i;for(const J of _.g.values())$=$.concat(J.D);return $}return S(_.i)}function Bc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var $=[],J=_.length,fe=0;fe<J;fe++)$.push(_[fe]);return $}$=[],J=0;for(fe in _)$[J++]=_[fe];return $}function qc(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var $=[];_=_.length;for(var J=0;J<_;J++)$.push(J);return $}$=[],J=0;for(const fe in _)$[J++]=fe;return $}}}function Ul(_,$){if(_.forEach&&typeof _.forEach=="function")_.forEach($,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,$,void 0);else for(var J=qc(_),fe=Bc(_),Oe=fe.length,Be=0;Be<Oe;Be++)$.call(void 0,fe[Be],J&&J[Be],_)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(_,$){if(_){_=_.split("&");for(var J=0;J<_.length;J++){var fe=_[J].indexOf("="),Oe=null;if(0<=fe){var Be=_[J].substring(0,fe);Oe=_[J].substring(fe+1)}else Be=_[J];$(Be,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function Fr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Fr){this.h=_.h,Gs(this,_.j),this.o=_.o,this.g=_.g,Jo(this,_.s),this.l=_.l;var $=_.i,J=new as;J.i=$.i,$.g&&(J.g=new Map($.g),J.h=$.h),Xo(this,J),this.m=_.m}else _&&($=String(_).match(ha))?(this.h=!1,Gs(this,$[1]||"",!0),this.o=_o($[2]||""),this.g=_o($[3]||"",!0),Jo(this,$[4]),this.l=_o($[5]||"",!0),Xo(this,$[6]||"",!0),this.m=_o($[7]||"")):(this.h=!1,this.i=new as(null,this.h))}Fr.prototype.toString=function(){var _=[],$=this.j;$&&_.push(Ji($,Vc,!0),":");var J=this.g;return(J||$=="file")&&(_.push("//"),($=this.o)&&_.push(Ji($,Vc,!0),"@"),_.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&_.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&_.push("/"),_.push(Ji(J,J.charAt(0)=="/"?is:Bu,!0))),(J=this.i.toString())&&_.push("?",J),(J=this.m)&&_.push("#",Ji(J,ql)),_.join("")};function ur(_){return new Fr(_)}function Gs(_,$,J){_.j=J?_o($,!0):$,_.j&&(_.j=_.j.replace(/:$/,""))}function Jo(_,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);_.s=$}else _.s=null}function Xo(_,$,J){$ instanceof as?(_.i=$,qu(_.i,_.h)):(J||($=Ji($,Bl)),_.i=new as($,_.h))}function Tn(_,$,J){_.i.set($,J)}function bo(_){return Tn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function _o(_,$){return _?$?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ji(_,$,J){return typeof _=="string"?(_=encodeURI(_).replace($,vf),J&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function vf(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Vc=/[#\/\?@]/g,Bu=/[#\?:]/g,is=/[#\?]/g,Bl=/[#\?@]/g,ql=/#/g;function as(_,$){this.h=this.g=null,this.i=_||null,this.j=!!$}function jn(_){_.g||(_.g=new Map,_.h=0,_.i&&Hs(_.i,function($,J){_.add(decodeURIComponent($.replace(/\+/g," ")),J)}))}t=as.prototype,t.add=function(_,$){jn(this),this.i=null,_=pa(this,_);var J=this.g.get(_);return J||this.g.set(_,J=[]),J.push($),this.h+=1,this};function Vl(_,$){jn(_),$=pa(_,$),_.g.has($)&&(_.i=null,_.h-=_.g.get($).length,_.g.delete($))}function Qo(_,$){return jn(_),$=pa(_,$),_.g.has($)}t.forEach=function(_,$){jn(this),this.g.forEach(function(J,fe){J.forEach(function(Oe){_.call($,Oe,fe,this)},this)},this)},t.na=function(){jn(this);const _=Array.from(this.g.values()),$=Array.from(this.g.keys()),J=[];for(let fe=0;fe<$.length;fe++){const Oe=_[fe];for(let Be=0;Be<Oe.length;Be++)J.push($[fe])}return J},t.V=function(_){jn(this);let $=[];if(typeof _=="string")Qo(this,_)&&($=$.concat(this.g.get(pa(this,_))));else{_=Array.from(this.g.values());for(let J=0;J<_.length;J++)$=$.concat(_[J])}return $},t.set=function(_,$){return jn(this),this.i=null,_=pa(this,_),Qo(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[$]),this.h+=1,this},t.get=function(_,$){return _?(_=this.V(_),0<_.length?String(_[0]):$):$};function Ut(_,$,J){Vl(_,$),0<J.length&&(_.i=null,_.g.set(pa(_,$),S(J)),_.h+=J.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],$=Array.from(this.g.keys());for(var J=0;J<$.length;J++){var fe=$[J];const Be=encodeURIComponent(String(fe)),mt=this.V(fe);for(fe=0;fe<mt.length;fe++){var Oe=Be;mt[fe]!==""&&(Oe+="="+encodeURIComponent(String(mt[fe]))),_.push(Oe)}}return this.i=_.join("&")};function pa(_,$){return $=String($),_.j&&($=$.toLowerCase()),$}function qu(_,$){$&&!_.j&&(jn(_),_.i=null,_.g.forEach(function(J,fe){var Oe=fe.toLowerCase();fe!=Oe&&(Vl(this,fe),Ut(this,Oe,J))},_)),_.j=$}function Oa(_,$){const J=new Wr;if(l.Image){const fe=new Image;fe.onload=y(Li,J,"TestLoadImage: loaded",!0,$,fe),fe.onerror=y(Li,J,"TestLoadImage: error",!1,$,fe),fe.onabort=y(Li,J,"TestLoadImage: abort",!1,$,fe),fe.ontimeout=y(Li,J,"TestLoadImage: timeout",!1,$,fe),l.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=_}else $(!1)}function zc(_,$){const J=new Wr,fe=new AbortController,Oe=setTimeout(()=>{fe.abort(),Li(J,"TestPingServer: timeout",!1,$)},1e4);fetch(_,{signal:fe.signal}).then(Be=>{clearTimeout(Oe),Be.ok?Li(J,"TestPingServer: ok",!0,$):Li(J,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(Oe),Li(J,"TestPingServer: error",!1,$)})}function Li(_,$,J,fe,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),fe(J)}catch{}}function Xi(){this.g=new Vt}function Zo(_,$,J){const fe=J||"";try{Ul(_,function(Oe,Be){let mt=Oe;d(Oe)&&(mt=Ne(Oe)),$.push(fe+Be+"="+encodeURIComponent(mt))})}catch(Oe){throw $.push(fe+"type="+encodeURIComponent("_badmap")),Oe}}function _s(_){this.l=_.Ub||null,this.j=_.eb||!1}N(_s,Dt),_s.prototype.g=function(){return new ma(this.l,this.j)},_s.prototype.i=(function(_){return function(){return _}})({});function ma(_,$){yt.call(this),this.D=_,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ma,yt),t=ma.prototype,t.open=function(_,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=$,this.readyState=1,Ma(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&($.body=_),(this.D||l).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var $=_.value?_.value:new Uint8Array(0);($=this.v.decode($,{stream:!_.done}))&&(this.response=this.responseText+=$)}_.done?ja(this):Ma(this),this.readyState==3&&zl(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,ja(this))},t.Qa=function(_){this.g&&(this.response=_,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ma(_)}t.setRequestHeader=function(_,$){this.u.append(_,$)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],$=this.h.entries();for(var J=$.next();!J.done;)J=J.value,_.push(J[0]+": "+J[1]),J=$.next();return _.join(`\r
`)};function Ma(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Da(_){let $="";return z(_,function(J,fe){$+=fe,$+=":",$+=J,$+=`\r
`}),$}function wo(_,$,J){e:{for(fe in J){var fe=!1;break e}fe=!0}fe||(J=Da(J),typeof _=="string"?J!=null&&encodeURIComponent(String(J)):Tn(_,$,J))}function Vn(_){yt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Vn,yt);var ti=/^https?$/i,La=["POST","PUT"];t=Vn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,$,J,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);$=$?$.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Ar(this.o):Ar(ei),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open($,String(_),!0),this.B=!1}catch(Be){Ao(this,Be);return}if(_=J||"",J=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Oe in fe)J.set(Oe,fe[Oe]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const Be of fe.keys())J.set(Be,fe.get(Be));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(J.keys()).find(Be=>Be.toLowerCase()=="content-type"),Oe=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(La,$,void 0))||fe||Oe||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,mt]of J)this.g.setRequestHeader(Be,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(_),this.u=!1}catch(Be){Ao(this,Be)}};function Ao(_,$){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=$,_.m=5,Ws(_),Ks(_)}function Ws(_){_.A||(_.A=!0,St(_,"complete"),St(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,St(this,"complete"),St(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),Vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$c(this):this.bb())},t.bb=function(){$c(this)};function $c(_){if(_.h&&typeof s<"u"&&(!_.v[1]||kr(_)!=4||_.Z()!=2)){if(_.u&&kr(_)==4)It(_.Ea,0,_);else if(St(_,"readystatechange"),kr(_)==4){_.h=!1;try{const mt=_.Z();e:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var J;if(!(J=$)){var fe;if(fe=mt===0){var Oe=String(_.D).match(ha)[1]||null;!Oe&&l.self&&l.self.location&&(Oe=l.self.location.protocol.slice(0,-1)),fe=!ti.test(Oe?Oe.toLowerCase():"")}J=fe}if(J)St(_,"complete"),St(_,"success");else{_.m=6;try{var Be=2<kr(_)?_.g.statusText:""}catch{Be=""}_.l=Be+" ["+_.Z()+"]",Ws(_)}}finally{Ks(_)}}}}function Ks(_,$){if(_.g){ga(_);const J=_.g,fe=_.v[0]?()=>{}:null;_.g=null,_.v=null,$||St(_,"ready");try{J.onreadystatechange=fe}catch{}}}function ga(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function kr(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var $=this.g.responseText;return _&&$.indexOf(_)==0&&($=$.substring(_.length)),rt($)}};function el(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(_){const $={};_=(_.g&&2<=kr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<_.length;fe++){if(I(_[fe]))continue;var J=q(_[fe]);const Oe=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const Be=$[Oe]||[];$[Oe]=Be,Be.push(J)}D($,function(fe){return fe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(_,$,J){return J&&J.internalChannelParams&&J.internalChannelParams[_]||$}function $l(_){this.Aa=0,this.i=[],this.j=new Wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fi("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fi("baseRetryDelayMs",5e3,_),this.cb=Fi("retryDelaySeedMs",1e4,_),this.Wa=Fi("forwardChannelMaxRetries",2,_),this.wa=Fi("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Fl(_&&_.concurrentRequestLimit),this.Da=new Xi,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$l.prototype,t.la=8,t.G=1,t.connect=function(_,$,J,fe){kt(0),this.W=_,this.H=$||{},J&&fe!==void 0&&(this.H.OSID=J,this.H.OAID=fe),this.F=this.X,this.I=P(this,null,this.W),Hl(this)};function Js(_){if(tl(_),_.G==3){var $=_.U++,J=ur(_.I);if(Tn(J,"SID",_.K),Tn(J,"RID",$),Tn(J,"TYPE","terminate"),Eo(_,J),$=new Yr(_,_.j,$),$.L=2,$.v=bo(ur(J)),J=!1,l.navigator&&l.navigator.sendBeacon)try{J=l.navigator.sendBeacon($.v.toString(),"")}catch{}!J&&l.Image&&(new Image().src=$.v,J=!0),J||($.g=ne($.j,null),$.g.ea($.v)),$.F=Date.now(),rs($)}rl(_)}function So(_){_.g&&(Kl(_),_.g.cancel(),_.g=null)}function tl(_){So(_),_.u&&(l.clearTimeout(_.u),_.u=null),ss(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Hl(_){if(!Uc(_.h)&&!_.s){_.s=!0;var $=_.Ga;ee||ve(),le||(ee(),le=!0),xe.add($,_),_.B=0}}function Hc(_,$){return Yo(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=$.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=ji(g(_.Ga,_,$),Yl(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Oe=new Yr(this,this.j,_);let Be=this.o;if(this.S&&(Be?(Be=j(Be),Y(Be,this.S)):Be=this.S),this.m!==null||this.O||(Oe.H=Be,Be=null),this.P)e:{for(var $=0,J=0;J<this.i.length;J++){t:{var fe=this.i[J];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if($+=fe,4096<$){$=J;break e}if($===4096||J===this.i.length-1){$=J+1;break e}}$=1e3}else $=1e3;$=No(this,Oe,$),J=ur(this.I),Tn(J,"RID",_),Tn(J,"CVER",22),this.D&&Tn(J,"X-HTTP-Session-Id",this.D),Eo(this,J),Be&&(this.O?$="headers="+encodeURIComponent(String(Da(Be)))+"&"+$:this.m&&wo(J,this.m,Be)),er(this.h,Oe),this.Ua&&Tn(J,"TYPE","init"),this.P?(Tn(J,"$req",$),Tn(J,"SID","null"),Oe.T=!0,bs(Oe,J,null)):bs(Oe,J,$),this.G=2}}else this.G==3&&(_?Gl(this,_):this.i.length==0||Uc(this.h)||Gl(this))};function Gl(_,$){var J;$?J=$.l:J=_.U++;const fe=ur(_.I);Tn(fe,"SID",_.K),Tn(fe,"RID",J),Tn(fe,"AID",_.T),Eo(_,fe),_.m&&_.o&&wo(fe,_.m,_.o),J=new Yr(_,_.j,J,_.B+1),_.m===null&&(J.H=_.o),$&&(_.i=$.D.concat(_.i)),$=No(_,J,1e3),J.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),er(_.h,J),bs(J,fe,$)}function Eo(_,$){_.H&&z(_.H,function(J,fe){Tn($,fe,J)}),_.l&&Ul({},function(J,fe){Tn($,fe,J)})}function No(_,$,J){J=Math.min(_.i.length,J);var fe=_.l?g(_.l.Na,_.l,_):null;e:{var Oe=_.i;let Be=-1;for(;;){const mt=["count="+J];Be==-1?0<J?(Be=Oe[0].g,mt.push("ofs="+Be)):Be=0:mt.push("ofs="+Be);let en=!0;for(let yn=0;yn<J;yn++){let Ht=Oe[yn].g;const Hn=Oe[yn].map;if(Ht-=Be,0>Ht)Be=Math.max(0,Oe[yn].g-100),en=!1;else try{Zo(Hn,mt,"req"+Ht+"_")}catch{fe&&fe(Hn)}}if(en){fe=mt.join("&");break e}}}return _=_.i.splice(0,J),$.D=_,fe}function Wl(_){if(!_.g&&!_.u){_.Y=1;var $=_.Fa;ee||ve(),le||(ee(),le=!0),xe.add($,_),_.v=0}}function nl(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=ji(g(_.Fa,_),Yl(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ji(g(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),So(this),Vu(this))};function Kl(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function Vu(_){_.g=new Yr(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var $=ur(_.qa);Tn($,"RID","rpc"),Tn($,"SID",_.K),Tn($,"AID",_.T),Tn($,"CI",_.F?"0":"1"),!_.F&&_.ja&&Tn($,"TO",_.ja),Tn($,"TYPE","xmlhttp"),Eo(_,$),_.m&&_.o&&wo($,_.m,_.o),_.L&&(_.g.I=_.L);var J=_.g;_=_.ia,J.L=1,J.v=bo(ur($)),J.m=null,J.P=!0,Ra(J,_)}t.Za=function(){this.C!=null&&(this.C=null,So(this),nl(this),kt(19))};function ss(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function To(_,$){var J=null;if(_.g==$){ss(_),Kl(_),_.g=null;var fe=2}else if(xo(_.h,$))J=$.D,fa(_.h,$),fe=1;else return;if(_.G!=0){if($.o)if(fe==1){J=$.m?$.m.length:0,$=Date.now()-$.F;var Oe=_.B;fe=xs(),St(fe,new da(fe,J)),Hl(_)}else Wl(_);else if(Oe=$.s,Oe==3||Oe==0&&0<$.X||!(fe==1&&Hc(_,$)||fe==2&&nl(_)))switch(J&&0<J.length&&($=_.h,$.i=$.i.concat(J)),Oe){case 1:Qi(_,5);break;case 4:Qi(_,10);break;case 3:Qi(_,6);break;default:Qi(_,2)}}}function Yl(_,$){let J=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(J*=2),J*$}function Qi(_,$){if(_.j.info("Error code "+$),$==2){var J=g(_.fb,_),fe=_.Xa;const Oe=!fe;fe=new Fr(fe||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gs(fe,"https"),bo(fe),Oe?Oa(fe.toString(),J):zc(fe.toString(),J)}else kt(2);_.G=0,_.l&&_.l.sa($),rl(_),tl(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function rl(_){if(_.G=0,_.ka=[],_.l){const $=yi(_.h);($.length!=0||_.i.length!=0)&&(A(_.ka,$),A(_.ka,_.i),_.h.i.length=0,S(_.i),_.i.length=0),_.l.ra()}}function P(_,$,J){var fe=J instanceof Fr?ur(J):new Fr(J);if(fe.g!="")$&&(fe.g=$+"."+fe.g),Jo(fe,fe.s);else{var Oe=l.location;fe=Oe.protocol,$=$?$+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var Be=new Fr(null);fe&&Gs(Be,fe),$&&(Be.g=$),Oe&&Jo(Be,Oe),J&&(Be.l=J),fe=Be}return J=_.D,$=_.ya,J&&$&&Tn(fe,J,$),Tn(fe,"VER",_.la),Eo(_,fe),fe}function ne(_,$,J){if($&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=_.Ca&&!_.pa?new Vn(new _s({eb:J})):new Vn(_.pa),$.Ha(_.J),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function we(){}t=we.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(_,$){return new De(_,$)};function De(_,$){yt.call(this),this.g=new $l($),this.l=_,this.h=$&&$.messageUrlParams||null,_=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(_?_["X-WebChannel-Content-Type"]=$.messageContentType:_={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(_?_["X-WebChannel-Client-Profile"]=$.va:_={"X-WebChannel-Client-Profile":$.va}),this.g.S=_,(_=$&&$.Sb)&&!I(_)&&(this.g.m=_),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!I($)&&(this.g.D=$,_=this.h,_!==null&&$ in _&&(_=this.h,$ in _&&delete _[$])),this.j=new At(this)}N(De,yt),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){Js(this.g)},De.prototype.o=function(_){var $=this.g;if(typeof _=="string"){var J={};J.__data__=_,_=J}else this.u&&(J={},J.__data__=Ne(_),_=J);$.i.push(new gf($.Ya++,_)),$.G==3&&Hl($)},De.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,De.aa.N.call(this)};function Qe(_){Sr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var $=_.__sm__;if($){e:{for(const J in $){_=J;break e}_=void 0}(this.i=_)&&(_=this.i,$=$!==null&&_ in $?$[_]:void 0),this.data=$}else this.data=_}N(Qe,Sr);function pt(){pn.call(this),this.status=1}N(pt,pn);function At(_){this.g=_}N(At,we),At.prototype.ua=function(){St(this.g,"a")},At.prototype.ta=function(_){St(this.g,new Qe(_))},At.prototype.sa=function(_){St(this.g,new pt)},At.prototype.ra=function(){St(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,yV=function(){return new Te},vV=function(){return xs()},gV=Ft,qN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ln.NO_ERROR=0,Ln.TIMEOUT=8,Ln.HTTP_ERROR=6,e1=Ln,ir.COMPLETE="complete",mV=ir,un.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Lg=un,Vn.prototype.listenOnce=Vn.prototype.L,Vn.prototype.getLastError=Vn.prototype.Ka,Vn.prototype.getLastErrorCode=Vn.prototype.Ba,Vn.prototype.getStatus=Vn.prototype.Z,Vn.prototype.getResponseJson=Vn.prototype.Oa,Vn.prototype.getResponseText=Vn.prototype.oa,Vn.prototype.send=Vn.prototype.ea,Vn.prototype.setWithCredentials=Vn.prototype.Ha,pV=Vn}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});const C8="@firebase/firestore",I8="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ya.UNAUTHENTICATED=new Ya(null),Ya.GOOGLE_CREDENTIALS=new Ya("google-credentials-uid"),Ya.FIRST_PARTY=new Ya("first-party-uid"),Ya.MOCK_USER=new Ya("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new CC("@firebase/firestore");function fp(){return lh.logLevel}function Rt(t,...e){if(lh.logLevel<=kn.DEBUG){const n=e.map(BC);lh.debug(`Firestore (${km}): ${t}`,...n)}}function Ru(t,...e){if(lh.logLevel<=kn.ERROR){const n=e.map(BC);lh.error(`Firestore (${km}): ${t}`,...n)}}function Xd(t,...e){if(lh.logLevel<=kn.WARN){const n=e.map(BC);lh.warn(`Firestore (${km}): ${t}`,...n)}}function BC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xV(t,r,n)}function xV(t,e,n){let r=`FIRESTORE (${km}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ru(r),new Error(r)}function rr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xV(e,i,r)}function cn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Fc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b2e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ya.UNAUTHENTICATED)))}shutdown(){}}class _2e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class w2e{constructor(e){this.t=e,this.currentUser=Ya.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rr(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Hd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hd,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hd)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rr(typeof r.accessToken=="string",31837,{l:r}),new bV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rr(e===null||typeof e=="string",2055,{h:e}),new Ya(e)}}class A2e{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ya.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S2e{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A2e(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ya.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2e{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rr(this.o===void 0,3512);const r=a=>{a.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Rt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=N2e(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function xn(t,e){return t<e?-1:t>e?1:0}function VN(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return xn(r,i);{const a=_V(),s=T2e(a.encode(k8(t,n)),a.encode(k8(e,n)));return s!==0?s:xn(r,i)}}n+=r>65535?2:1}return xn(t.length,e.length)}function k8(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function T2e(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xn(t[n],e[n]);return xn(t.length,e.length)}function um(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="__name__";class yc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=yc.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return xn(e.length,n.length)}static compareSegments(e,n){const r=yc.isNumericId(e),i=yc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?yc.extractNumericId(e).compare(yc.extractNumericId(n)):VN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $d.fromString(e.substring(4,e.length-2))}}class Cr extends yc{construct(e,n,r){return new Cr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Tt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Cr(n)}static emptyPath(){return new Cr([])}}const C2e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sa extends yc{construct(e,n,r){return new Sa(e,n,r)}static isValidIdentifier(e){return C2e.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P8}static keyField(){return new Sa([P8])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Tt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Tt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Tt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new Tt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sa(n)}static emptyPath(){return new Sa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.path=e}static fromPath(e){return new qt(Cr.fromString(e))}static fromName(e){return new qt(Cr.fromString(e).popFirst(5))}static empty(){return new qt(Cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Cr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new Cr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e,n){if(!n)throw new Tt(ot.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I2e(t,e,n,r){if(e===!0&&r===!0)throw new Tt(ot.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O8(t){if(!qt.isDocumentKey(t))throw new Tt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j8(t){if(qt.isDocumentKey(t))throw new Tt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qt(12329,{type:typeof t})}function go(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mb(t);throw new Tt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function R2e(t,e){if(e<=0)throw new Tt(ot.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){const n={typeString:t};return e&&(n.value=e),n}function pv(t,e){if(!AV(t))throw new Tt(ot.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Tt(ot.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=-62135596800,D8=1e6;class Mr{static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D8);return new Mr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M8)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D8}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pv(e,Mr._jsonSchema))return new Mr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mr._jsonSchemaVersion="firestore/timestamp/1.0",Mr._jsonSchema={type:ki("string",Mr._jsonSchemaVersion),seconds:ki("number"),nanoseconds:ki("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{static fromTimestamp(e){return new sn(e)}static min(){return new sn(new Mr(0,0))}static max(){return new sn(new Mr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-1;function k2e(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=sn.fromTimestamp(r===1e9?new Mr(n+1,0):new Mr(n,r));return new Qd(i,qt.empty(),e)}function P2e(t){return new Qd(t.readTime,t.key,G0)}class Qd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qd(sn.min(),qt.empty(),G0)}static max(){return new Qd(sn.max(),qt.empty(),G0)}}function O2e(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qt.comparator(t.documentKey,e.documentKey),n!==0?n:xn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(t){if(t.code!==ot.FAILED_PRECONDITION||t.message!==j2e)throw t;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new dt(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):dt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):dt.reject(n)}static resolve(e){return new dt(((n,r)=>{n(e)}))}static reject(e){return new dt(((n,r)=>{r(e)}))}static waitFor(e){return new dt(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=dt.resolve(!1);for(const r of e)n=n.next((i=>i?dt.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new dt(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next((h=>{s[d]=h,++l,l===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new dt(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function D2e(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Om(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Db.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=-1;function Lb(t){return t==null}function Ix(t){return t===0&&1/t==-1/0}function L2e(t){return typeof t=="number"&&Number.isInteger(t)&&!Ix(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="";function F2e(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L8(e)),e=U2e(t.get(n),e);return L8(e)}function U2e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case SV:n+="";break;default:n+=a}}return n}function L8(t){return t+SV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.comparator=e,this.root=n||Aa.EMPTY}insert(e,n){return new Zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Aa.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Aa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ly(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ly(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ly(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ly(this.root,e,this.comparator,!0)}}class Ly{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Aa{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Aa.RED,this.left=i??Aa.EMPTY,this.right=a??Aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Aa(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Aa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Aa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qt(27949);return e+(this.isRed()?0:1)}}Aa.EMPTY=null,Aa.RED=!0,Aa.BLACK=!1;Aa.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt(57766)}get value(){throw Qt(16141)}get color(){throw Qt(16727)}get left(){throw Qt(29726)}get right(){throw Qt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Aa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U8(this.data.getIterator())}getIteratorFrom(e){return new U8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ki(this.comparator);return n.data=e,n}}class U8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.fields=e,e.sort(Sa.comparator)}static empty(){return new po([])}unionWith(e){let n=new Ki(Sa.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new po(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return um(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NV("Invalid base64 string: "+a):a}})(e);return new Ca(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Ca(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ca.EMPTY_BYTE_STRING=new Ca("");const B2e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(t){if(rr(!!t,39018),typeof t=="string"){let e=0;const n=B2e.exec(t);if(rr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:di(t.seconds),nanos:di(t.nanos)}}function di(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ef(t){return typeof t=="string"?Ca.fromBase64String(t):Ca.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="server_timestamp",CV="__type__",IV="__previous_value__",RV="__local_write_time__";function zC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CV])===null||n===void 0?void 0:n.stringValue)===TV}function Fb(t){const e=t.mapValue.fields[IV];return zC(e)?Fb(e):e}function W0(t){const e=Zd(t.mapValue.fields[RV].timestampValue);return new Mr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2e{constructor(e,n,r,i,a,s,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Rx="(default)";class K0{constructor(e,n){this.projectId=e,this.database=n||Rx}static empty(){return new K0("","")}get isDefaultDatabase(){return this.database===Rx}isEqual(e){return e instanceof K0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="__type__",V2e="__max__",Fy={mapValue:{}},PV="__vector__",kx="value";function tf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zC(t)?4:$2e(t)?9007199254740991:z2e(t)?10:11:Qt(28295,{value:t})}function Mc(t,e){if(t===e)return!0;const n=tf(t);if(n!==tf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return W0(t).isEqual(W0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Zd(i.timestampValue),l=Zd(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ef(i.bytesValue).isEqual(ef(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return di(i.geoPointValue.latitude)===di(a.geoPointValue.latitude)&&di(i.geoPointValue.longitude)===di(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return di(i.integerValue)===di(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=di(i.doubleValue),l=di(a.doubleValue);return s===l?Ix(s)===Ix(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return um(t.arrayValue.values||[],e.arrayValue.values||[],Mc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(F8(s)!==F8(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Mc(s[c],l[c])))return!1;return!0})(t,e);default:return Qt(52216,{left:t})}}function Y0(t,e){return(t.values||[]).find((n=>Mc(n,e)))!==void 0}function dm(t,e){if(t===e)return 0;const n=tf(t),r=tf(e);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=di(a.integerValue||a.doubleValue),c=di(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return B8(t.timestampValue,e.timestampValue);case 4:return B8(W0(t),W0(e));case 5:return VN(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=ef(a),c=ef(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=xn(l[d],c[d]);if(h!==0)return h}return xn(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=xn(di(a.latitude),di(s.latitude));return l!==0?l:xn(di(a.longitude),di(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return q8(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var l,c,d,h;const m=a.fields||{},g=s.fields||{},y=(l=m[kx])===null||l===void 0?void 0:l.arrayValue,N=(c=g[kx])===null||c===void 0?void 0:c.arrayValue,S=xn(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=N==null?void 0:N.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:q8(y,N)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Fy.mapValue&&s===Fy.mapValue)return 0;if(a===Fy.mapValue)return 1;if(s===Fy.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=VN(c[m],h[m]);if(g!==0)return g;const y=dm(l[c[m]],d[h[m]]);if(y!==0)return y}return xn(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Qt(23264,{le:n})}}function B8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xn(t,e);const n=Zd(t),r=Zd(e),i=xn(n.seconds,r.seconds);return i!==0?i:xn(n.nanos,r.nanos)}function q8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=dm(n[i],r[i]);if(a)return a}return xn(n.length,r.length)}function fm(t){return zN(t)}function zN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zd(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ef(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=zN(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${zN(n.fields[s])}`;return i+"}"})(t.mapValue):Qt(61005,{value:t})}function t1(t){switch(tf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fb(t);return e?16+t1(e):16;case 5:return 2*t.stringValue.length;case 6:return ef(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+t1(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pf(r.fields,((a,s)=>{i+=a.length+t1(s)})),i})(t.mapValue);default:throw Qt(13486,{value:t})}}function V8(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $N(t){return!!t&&"integerValue"in t}function $C(t){return!!t&&"arrayValue"in t}function z8(t){return!!t&&"nullValue"in t}function $8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function n1(t){return!!t&&"mapValue"in t}function z2e(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kV])===null||n===void 0?void 0:n.stringValue)===PV}function Qg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qg(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $2e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V2e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!n1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qg(n)}setAll(e){let n=Sa.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Qg(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());n1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];n1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Fs(Qg(this.value))}}function OV(t){const e=[];return pf(t.fields,((n,r)=>{const i=new Sa([n]);if(n1(r)){const a=OV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new po(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Qa(e,0,sn.min(),sn.min(),sn.min(),Fs.empty(),0)}static newFoundDocument(e,n,r,i){return new Qa(e,1,n,sn.min(),r,i,0)}static newNoDocument(e,n){return new Qa(e,2,n,sn.min(),sn.min(),Fs.empty(),0)}static newUnknownDocument(e,n){return new Qa(e,3,n,sn.min(),sn.min(),Fs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.position=e,this.inclusive=n}}function H8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=qt.comparator(qt.fromName(s.referenceValue),n.key):r=dm(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function G8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n="asc"){this.field=e,this.dir=n}}function H2e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{}class Ri extends jV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W2e(e,n,r):n==="array-contains"?new J2e(e,r):n==="in"?new X2e(e,r):n==="not-in"?new Q2e(e,r):n==="array-contains-any"?new Z2e(e,r):new Ri(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K2e(e,r):new Y2e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dm(n,this.value)):n!==null&&tf(this.value)===tf(n)&&this.matchesComparison(dm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ol extends jV{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ol(e,n)}matches(e){return MV(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function MV(t){return t.op==="and"}function DV(t){return G2e(t)&&MV(t)}function G2e(t){for(const e of t.filters)if(e instanceof Ol)return!1;return!0}function HN(t){if(t instanceof Ri)return t.field.canonicalString()+t.op.toString()+fm(t.value);if(DV(t))return t.filters.map((e=>HN(e))).join(",");{const e=t.filters.map((n=>HN(n))).join(",");return`${t.op}(${e})`}}function LV(t,e){return t instanceof Ri?(function(r,i){return i instanceof Ri&&r.op===i.op&&r.field.isEqual(i.field)&&Mc(r.value,i.value)})(t,e):t instanceof Ol?(function(r,i){return i instanceof Ol&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&LV(s,i.filters[l])),!0):!1})(t,e):void Qt(19439)}function FV(t){return t instanceof Ri?(function(n){return`${n.field.canonicalString()} ${n.op} ${fm(n.value)}`})(t):t instanceof Ol?(function(n){return n.op.toString()+" {"+n.getFilters().map(FV).join(" ,")+"}"})(t):"Filter"}class W2e extends Ri{constructor(e,n,r){super(e,n,r),this.key=qt.fromName(r.referenceValue)}matches(e){const n=qt.comparator(e.key,this.key);return this.matchesComparison(n)}}class K2e extends Ri{constructor(e,n){super(e,"in",n),this.keys=UV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Y2e extends Ri{constructor(e,n){super(e,"not-in",n),this.keys=UV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>qt.fromName(r.referenceValue)))}class J2e extends Ri{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $C(n)&&Y0(n.arrayValue,this.value)}}class X2e extends Ri{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Y0(this.value.arrayValue,n)}}class Q2e extends Ri{constructor(e,n){super(e,"not-in",n)}matches(e){if(Y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Y0(this.value.arrayValue,n)}}class Z2e extends Ri{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$C(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Y0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Pe=null}}function W8(t,e=null,n=[],r=[],i=null,a=null,s=null){return new e_e(t,e,n,r,i,a,s)}function HC(t){const e=cn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>HN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Lb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fm(r))).join(",")),e.Pe=n}return e.Pe}function GC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H2e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G8(t.startAt,e.startAt)&&G8(t.endAt,e.endAt)}function GN(t){return qt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function t_e(t,e,n,r,i,a,s,l){return new jm(t,e,n,r,i,a,s,l)}function WC(t){return new jm(t)}function K8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BV(t){return t.collectionGroup!==null}function Zg(t){const e=cn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ki(Sa.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new J0(a,r))})),n.has(Sa.keyField().canonicalString())||e.Te.push(new J0(Sa.keyField(),r))}return e.Te}function Rc(t){const e=cn(t);return e.Ie||(e.Ie=n_e(e,Zg(t))),e.Ie}function n_e(t,e){if(t.limitType==="F")return W8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new J0(i.field,a)}));const n=t.endAt?new Px(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Px(t.startAt.position,t.startAt.inclusive):null;return W8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function WN(t,e){const n=t.filters.concat([e]);return new jm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ox(t,e,n){return new jm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ub(t,e){return GC(Rc(t),Rc(e))&&t.limitType===e.limitType}function qV(t){return`${HC(Rc(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>FV(i))).join(", ")}]`),Lb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>fm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>fm(i))).join(",")),`Target(${r})`})(Rc(t))}; limitType=${t.limitType})`}function Bb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):qt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Zg(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const d=H8(s,l,c);return s.inclusive?d<=0:d<0})(r.startAt,Zg(r),i)||r.endAt&&!(function(s,l,c){const d=H8(s,l,c);return s.inclusive?d>=0:d>0})(r.endAt,Zg(r),i))})(t,e)}function r_e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VV(t){return(e,n)=>{let r=!1;for(const i of Zg(t)){const a=i_e(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function i_e(t,e,n){const r=t.field.isKeyField()?qt.comparator(e.key,n.key):(function(a,s,l){const c=s.data.field(a),d=l.data.field(a);return c!==null&&d!==null?dm(c,d):Qt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return EV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_e=new Zr(qt.comparator);function ku(){return a_e}const zV=new Zr(qt.comparator);function Fg(...t){let e=zV;for(const n of t)e=e.insert(n.key,n);return e}function $V(t){let e=zV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $f(){return e0()}function HV(){return e0()}function e0(){return new bh((t=>t.toString()),((t,e)=>t.isEqual(e)))}const s_e=new Zr(qt.comparator),o_e=new Ki(qt.comparator);function Pn(...t){let e=o_e;for(const n of t)e=e.add(n);return e}const l_e=new Ki(xn);function c_e(){return l_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ix(e)?"-0":e}}function GV(t){return{integerValue:""+t}}function u_e(t,e){return L2e(e)?GV(e):KC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this._=void 0}}function d_e(t,e,n){return t instanceof jx?(function(i,a){const s={fields:{[CV]:{stringValue:TV},[RV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&zC(a)&&(a=Fb(a)),a&&(s.fields[IV]=a),{mapValue:s}})(n,e):t instanceof X0?KV(t,e):t instanceof Q0?YV(t,e):(function(i,a){const s=WV(i,a),l=Y8(s)+Y8(i.Ee);return $N(s)&&$N(i.Ee)?GV(l):KC(i.serializer,l)})(t,e)}function f_e(t,e,n){return t instanceof X0?KV(t,e):t instanceof Q0?YV(t,e):n}function WV(t,e){return t instanceof Mx?(function(r){return $N(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class jx extends qb{}class X0 extends qb{constructor(e){super(),this.elements=e}}function KV(t,e){const n=JV(e);for(const r of t.elements)n.some((i=>Mc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Q0 extends qb{constructor(e){super(),this.elements=e}}function YV(t,e){let n=JV(e);for(const r of t.elements)n=n.filter((i=>!Mc(i,r)));return{arrayValue:{values:n}}}class Mx extends qb{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Y8(t){return di(t.integerValue||t.doubleValue)}function JV(t){return $C(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h_e(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof X0&&i instanceof X0||r instanceof Q0&&i instanceof Q0?um(r.elements,i.elements,Mc):r instanceof Mx&&i instanceof Mx?Mc(r.Ee,i.Ee):r instanceof jx&&i instanceof jx})(t.transform,e.transform)}class p_e{constructor(e,n){this.version=e,this.transformResults=n}}class vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function r1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vb{}function XV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zb(t.key,vs.none()):new mv(t.key,t.data,vs.none());{const n=t.data,r=Fs.empty();let i=new Ki(Sa.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new mf(t.key,r,new po(i.toArray()),vs.none())}}function m_e(t,e,n){t instanceof mv?(function(i,a,s){const l=i.value.clone(),c=X8(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof mf?(function(i,a,s){if(!r1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=X8(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(QV(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function t0(t,e,n,r){return t instanceof mv?(function(a,s,l,c){if(!r1(a.precondition,s))return l;const d=a.value.clone(),h=Q8(a.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof mf?(function(a,s,l,c){if(!r1(a.precondition,s))return l;const d=Q8(a.fieldTransforms,c,s),h=s.data;return h.setAll(QV(a)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,s,l){return r1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function g_e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=WV(r.transform,i||null);a!=null&&(n===null&&(n=Fs.empty()),n.set(r.field,a))}return n||null}function J8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&um(r,i,((a,s)=>h_e(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mv extends Vb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mf extends Vb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function X8(t,e,n){const r=new Map;rr(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,f_e(s,l,n[i]))}return r}function Q8(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,d_e(a,s,e))}return r}class zb extends Vb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v_e extends Vb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&m_e(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=t0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=t0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HV();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=XV(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(sn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pn())}isEqual(e){return this.batchId===e.batchId&&um(this.mutations,e.mutations,((n,r)=>J8(n,r)))&&um(this.baseMutations,e.baseMutations,((n,r)=>J8(n,r)))}}class YC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rr(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return s_e})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new YC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,Bn;function __e(t){switch(t){case ot.OK:return Qt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Qt(15467,{code:t})}}function ZV(t){if(t===void 0)return Ru("GRPC error has no .code"),ot.UNKNOWN;switch(t){case Ci.OK:return ot.OK;case Ci.CANCELLED:return ot.CANCELLED;case Ci.UNKNOWN:return ot.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return ot.INTERNAL;case Ci.UNAVAILABLE:return ot.UNAVAILABLE;case Ci.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Ci.NOT_FOUND:return ot.NOT_FOUND;case Ci.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Ci.ABORTED:return ot.ABORTED;case Ci.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Ci.DATA_LOSS:return ot.DATA_LOSS;default:return Qt(39323,{code:t})}}(Bn=Ci||(Ci={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_e=new $d([4294967295,4294967295],0);function Z8(t){const e=_V().encode(t),n=new hV;return n.update(e),new Uint8Array(n.digest())}function e7(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $d([n,r],0),new $d([i,a],0)]}class JC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ug(`Invalid padding: ${n}`);if(r<0)throw new Ug(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ug(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ug(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=$d.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply($d.fromNumber(r)));return i.compare(w_e)===1&&(i=new $d([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Z8(e),[r,i]=e7(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new JC(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.fe===0)return;const n=Z8(e),[r,i]=e7(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);this.we(s)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ug extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $b(sn.min(),i,new Zr(xn),ku(),Pn())}}class gv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gv(r,n,Pn(),Pn(),Pn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class ez{constructor(e,n){this.targetId=e,this.De=n}}class tz{constructor(e,n,r=Ca.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t7{constructor(){this.ve=0,this.Ce=n7(),this.Fe=Ca.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pn(),n=Pn(),r=Pn();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qt(38017,{changeType:a})}})),new gv(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=n7()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,rr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class A_e{constructor(e){this.We=e,this.Ge=new Map,this.ze=ku(),this.je=Uy(),this.Je=Uy(),this.He=new Zr(xn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Qt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,i)=>{this.nt(i)&&n(i)}))}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(GN(a))if(r===0){const s=new qt(a.path);this.Xe(n,s,Qa.newNoDocument(s,sn.min()))}else rr(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const l=this._t(e),c=l?this.ut(l,e,s):1;if(c!==0){this.rt(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=ef(r).toUint8Array()}catch(c){if(c instanceof NV)return Xd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new JC(s,i,a)}catch(c){return Xd(c instanceof Ug?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.We.lt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),i++)})),i}Pt(e){const n=new Map;this.Ge.forEach(((a,s)=>{const l=this.st(s);if(l){if(a.current&&GN(l.target)){const c=new qt(l.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Qa.newNoDocument(c,e))}a.Ne&&(n.set(s,a.Le()),a.ke())}}));let r=Pn();this.Je.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.ze.forEach(((a,s)=>s.setReadTime(e)));const i=new $b(e,n,this.He,this.ze,r);return this.ze=ku(),this.je=Uy(),this.Je=Uy(),this.He=new Zr(xn),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new t7,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ki(xn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ki(xn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new t7),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Uy(){return new Zr(qt.comparator)}function n7(){return new Zr(qt.comparator)}const S_e={asc:"ASCENDING",desc:"DESCENDING"},E_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N_e={and:"AND",or:"OR"};class T_e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KN(t,e){return t.useProto3Json||Lb(e)?e:{value:e}}function Dx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C_e(t,e){return Dx(t,e.toTimestamp())}function kc(t){return rr(!!t,49232),sn.fromTimestamp((function(n){const r=Zd(n);return new Mr(r.seconds,r.nanos)})(t))}function XC(t,e){return YN(t,e).canonicalString()}function YN(t,e){const n=(function(i){return new Cr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function rz(t){const e=Cr.fromString(t);return rr(lz(e),10190,{key:e.toString()}),e}function JN(t,e){return XC(t.databaseId,e.path)}function OS(t,e){const n=rz(e);if(n.get(1)!==t.databaseId.projectId)throw new Tt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Tt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qt(az(n))}function iz(t,e){return XC(t.databaseId,e)}function I_e(t){const e=rz(t);return e.length===4?Cr.emptyPath():az(e)}function XN(t){return new Cr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function az(t){return rr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r7(t,e,n){return{name:JN(t,e),fields:n.value.mapValue.fields}}function R_e(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Qt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(rr(h===void 0||typeof h=="string",58123),Ca.fromBase64String(h||"")):(rr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ca.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(d){const h=d.code===void 0?ot.UNKNOWN:ZV(d.code);return new Tt(h,d.message||"")})(s);n=new tz(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=OS(t,r.document.name),a=kc(r.document.updateTime),s=r.document.createTime?kc(r.document.createTime):sn.min(),l=new Fs({mapValue:{fields:r.document.fields}}),c=Qa.newFoundDocument(i,a,s,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new i1(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=OS(t,r.document),a=r.readTime?kc(r.readTime):sn.min(),s=Qa.newNoDocument(i,a),l=r.removedTargetIds||[];n=new i1([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=OS(t,r.document),a=r.removedTargetIds||[];n=new i1([],a,i,null)}else{if(!("filter"in e))return Qt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new b_e(i,a),l=r.targetId;n=new ez(l,s)}}return n}function k_e(t,e){let n;if(e instanceof mv)n={update:r7(t,e.key,e.value)};else if(e instanceof zb)n={delete:JN(t,e.key)};else if(e instanceof mf)n={update:r7(t,e.key,e.data),updateMask:B_e(e.fieldMask)};else{if(!(e instanceof v_e))return Qt(16599,{Rt:e.type});n={verify:JN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof jx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof X0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Q0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mx)return{fieldPath:s.field.canonicalString(),increment:l.Ee};throw Qt(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:C_e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Qt(27497)})(t,e.precondition)),n}function P_e(t,e){return t&&t.length>0?(rr(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?kc(i.updateTime):kc(a);return s.isEqual(sn.min())&&(s=kc(a)),new p_e(s,i.transformResults||[])})(n,e)))):[]}function O_e(t,e){return{documents:[iz(t,e.path)]}}function j_e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iz(t,i);const a=(function(d){if(d.length!==0)return oz(Ol.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((h=>(function(g){return{field:pp(g.field),direction:L_e(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=KN(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:n,parent:i}}function M_e(t){let e=I_e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rr(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const g=sz(m);return g instanceof Ol&&DV(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((g=>(function(N){return new J0(mp(N.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,Lb(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,y=m.values||[];return new Px(y,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const g=!m.before,y=m.values||[];return new Px(y,g)})(n.endAt)),t_e(e,i,s,a,l,"F",c,d)}function D_e(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mp(n.unaryFilter.field);return Ri.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mp(n.unaryFilter.field);return Ri.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mp(n.unaryFilter.field);return Ri.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mp(n.unaryFilter.field);return Ri.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qt(61313);default:return Qt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ri.create(mp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qt(58110);default:return Qt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ol.create(n.compositeFilter.filters.map((r=>sz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qt(1026)}})(n.compositeFilter.op))})(t):Qt(30097,{filter:t})}function L_e(t){return S_e[t]}function F_e(t){return E_e[t]}function U_e(t){return N_e[t]}function pp(t){return{fieldPath:t.canonicalString()}}function mp(t){return Sa.fromServerFormat(t.fieldPath)}function oz(t){return t instanceof Ri?(function(n){if(n.op==="=="){if($8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NAN"}};if(z8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NAN"}};if(z8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(n.field),op:F_e(n.op),value:n.value}}})(t):t instanceof Ol?(function(n){const r=n.getFilters().map((i=>oz(i)));return r.length===1?r[0]:{compositeFilter:{op:U_e(n.op),filters:r}}})(t):Qt(54877,{filter:t})}function B_e(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r,i,a=sn.min(),s=sn.min(),l=Ca.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Dd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_e{constructor(e){this.gt=e}}function V_e(t){const e=M_e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ox(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_e{constructor(){this.Dn=new $_e}addToCollectionParentIndex(e,n){return this.Dn.add(n),dt.resolve()}getCollectionParents(e,n){return dt.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return dt.resolve()}deleteFieldIndex(e,n){return dt.resolve()}deleteAllFieldIndexes(e){return dt.resolve()}createTargetIndexes(e,n){return dt.resolve()}getDocumentsMatchingTarget(e,n){return dt.resolve(null)}getIndexType(e,n){return dt.resolve(0)}getFieldIndexes(e,n){return dt.resolve([])}getNextCollectionGroupToUpdate(e){return dt.resolve(null)}getMinOffset(e,n){return dt.resolve(Qd.min())}getMinOffsetFromCollectionGroup(e,n){return dt.resolve(Qd.min())}updateCollectionGroup(e,n,r){return dt.resolve()}updateIndexEntries(e,n){return dt.resolve()}}class $_e{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ki(Cr.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ki(Cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cz=41943040;class Ls{static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(cz,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new hm(0)}static ur(){return new hm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="LruGarbageCollector",H_e=1048576;function s7([t,e],[n,r]){const i=xn(t,n);return i===0?xn(e,r):i}class G_e{constructor(e){this.Tr=e,this.buffer=new Ki(s7),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s7(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W_e{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Rt(a7,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Om(n)?Rt(a7,"Ignoring IndexedDB error during garbage collection: ",n):await Pm(n)}await this.Rr(3e5)}))}}class K_e{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return dt.resolve(Db.ue);const r=new G_e(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(i7)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i7):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,s,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),fp()<=kn.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function Y_e(t,e){return new K_e(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_e{constructor(){this.changes=new bh((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qa.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?dt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_e{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&t0(r.mutation,i,po.empty(),Mr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pn()){const i=$f();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Fg();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=$f();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=ku();const s=e0(),l=(function(){return e0()})();return n.forEach(((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof mf)?a=a.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),t0(h.mutation,d,h.mutation.getFieldMask(),Mr.now())):s.set(d.key,po.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,h)=>s.set(d,h))),n.forEach(((d,h)=>{var m;return l.set(d,new X_e(h,(m=s.get(d))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=e0();let i=new Zr(((s,l)=>s-l)),a=Pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||po.empty();h=l.applyToLocalView(d,h),r.set(c,h);const m=(i.get(l.batchId)||Pn()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=HV();h.forEach((g=>{if(!a.has(g)){const y=XV(n.get(g),r.get(g));y!==null&&m.set(g,y),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return dt.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return qt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):dt.resolve($f());let l=G0,c=a;return s.next((d=>dt.forEach(d,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?dt.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,Pn()))).next((h=>({batchId:l,changes:$V(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qt(n)).next((r=>{let i=Fg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Fg();return this.indexManager.getCollectionParents(e,a).next((l=>dt.forEach(l,(c=>{const d=(function(m,g){return new jm(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,g)=>{s=s.insert(m,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,Qa.newInvalidDocument(h)))}));let l=Fg();return s.forEach(((c,d)=>{const h=a.get(c);h!==void 0&&t0(h.mutation,d,po.empty(),Mr.now()),Bb(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_e{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return dt.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:kc(i.createTime)}})(n)),dt.resolve()}getNamedQuery(e,n){return dt.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:V_e(i.bundledQuery),readTime:kc(i.readTime)}})(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(){this.overlays=new Zr(qt.comparator),this.kr=new Map}getOverlay(e,n){return dt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$f();return dt.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.wt(e,n,a)})),dt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),dt.resolve()}getOverlaysForCollection(e,n,r){const i=$f(),a=n.length+1,s=new qt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return dt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Zr(((d,h)=>d-h));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=$f(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=$f(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>l.set(d,h))),!(l.size()>=i)););return dt.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new x_e(n,r));let a=this.kr.get(n);a===void 0&&(a=Pn(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class twe{constructor(){this.sessionToken=Ca.EMPTY_BYTE_STRING}getSessionToken(e){return dt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.qr=new Ki(oa.Qr),this.$r=new Ki(oa.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new oa(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new oa(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new qt(new Cr([])),r=new oa(n,e),i=new oa(n,e+1),a=[];return this.$r.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new qt(new Cr([])),r=new oa(n,e),i=new oa(n,e+1);let a=Pn();return this.$r.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new oa(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class oa{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return qt.comparator(e.key,n.key)||xn(e.Hr,n.Hr)}static Ur(e,n){return xn(e.Hr,n.Hr)||qt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nwe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ki(oa.Qr)}checkEmpty(e){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new y_e(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Yr=this.Yr.add(new oa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return dt.resolve(s)}lookupMutationBatch(e,n){return dt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return dt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?VC:this.er-1)}getAllMutationBatches(e){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new oa(n,0),i=new oa(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);a.push(l)})),dt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ki(xn);return n.forEach((i=>{const a=new oa(i,0),s=new oa(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],(l=>{r=r.add(l.Hr)}))})),dt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;qt.isDocumentKey(a)||(a=a.child(""));const s=new oa(new qt(a),0);let l=new Ki(xn);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),s),dt.resolve(this.ei(l))}ei(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){rr(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return dt.forEach(n.mutations,(i=>{const a=new oa(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new oa(n,0),i=this.Yr.firstAfterOrEqual(r);return dt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,dt.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{constructor(e){this.ni=e,this.docs=(function(){return new Zr(qt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return dt.resolve(r?r.document.mutableCopy():Qa.newInvalidDocument(n))}getEntries(e,n){let r=ku();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Qa.newInvalidDocument(i))})),dt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ku();const s=n.path,l=new qt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||O2e(P2e(h),r)<=0||(i.has(h.key)||Bb(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return dt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Qt(9500)}ri(e,n){return dt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new iwe(this)}getSize(e){return dt.resolve(this.size)}}class iwe extends J_e{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),dt.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class awe{constructor(e){this.persistence=e,this.ii=new bh((n=>HC(n)),GC),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.si=0,this.oi=new QC,this.targetCount=0,this._i=hm.ar()}forEachTarget(e,n){return this.ii.forEach(((r,i)=>n(i))),dt.resolve()}getLastRemoteSnapshotVersion(e){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),dt.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new hm(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,dt.resolve()}updateTargetData(e,n){return this.hr(n),dt.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),dt.waitFor(a).next((()=>i))}getTargetCount(e){return dt.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return dt.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),dt.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),dt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),dt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return dt.resolve(r)}containsKey(e,n){return dt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n){this.ai={},this.overlays={},this.ui=new Db(0),this.ci=!1,this.ci=!0,this.li=new twe,this.referenceDelegate=e(this),this.hi=new awe(this),this.indexManager=new z_e,this.remoteDocumentCache=(function(i){return new rwe(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new q_e(n),this.Ti=new Z_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ewe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new nwe(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Rt("MemoryPersistence","Starting transaction:",e);const i=new swe(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return dt.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class swe extends M2e{constructor(e){super(),this.currentSequenceNumber=e}}class ZC{constructor(e){this.persistence=e,this.Ai=new QC,this.Ri=null}static Vi(e){return new ZC(e)}get mi(){if(this.Ri)return this.Ri;throw Qt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),dt.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),dt.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,(r=>{const i=qt.fromPath(r);return this.fi(e,i).next((a=>{a||n.removeEntry(i,sn.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return dt.or([()=>dt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lx{constructor(e,n){this.persistence=e,this.gi=new bh((r=>F2e(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Y_e(this,n)}static Vi(e,n){return new Lx(e,n)}Ii(){}di(e){return dt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return dt.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((a=>a?dt.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(s=>this.Sr(e,s,n).next((l=>{l||(r++,a.removeEntry(s,sn.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),dt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),dt.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),dt.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),dt.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=t1(e.data.value)),n}Sr(e,n,r){return dt.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return dt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Pn(),i=Pn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new eI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class owe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lwe{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qye()?8:D2e(ts())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ys(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new owe;return this.ws(e,n,s).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,n,s,l.size)}))})).next((()=>a.result))}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(fp()<=kn.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(fp()<=kn.DEBUG&&Rt("QueryEngine","Query:",hp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(fp()<=kn.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rc(n))):dt.resolve())}ps(e,n){if(K8(n))return dt.resolve(null);let r=Rc(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ox(n,null,"F"),r=Rc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Pn(...a);return this.gs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.bs(n,l);return this.Ds(n,d,s,c.readTime)?this.ps(e,Ox(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ys(e,n,r,i){return K8(n)||i.isEqual(sn.min())?dt.resolve(null):this.gs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ds(n,s,r,i)?dt.resolve(null):(fp()<=kn.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.vs(e,s,n,k2e(i,G0)).next((l=>l)))}))}bs(e,n){let r=new Ki(VV(e));return n.forEach(((i,a)=>{Bb(e,a)&&(r=r.add(a))})),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return fp()<=kn.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",hp(n)),this.gs.getDocumentsMatchingQuery(e,n,Qd.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="LocalStore",cwe=3e8;class uwe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Zr(xn),this.Ms=new bh((a=>HC(a)),GC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q_e(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function dwe(t,e,n,r){return new uwe(t,e,n,r)}async function dz(t,e){const n=cn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=Pn();for(const d of i){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Bs:d,removedBatchIds:s,addedBatchIds:l})))}))}))}function fwe(t,e){const n=cn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,h){const m=d.batch,g=m.keys();let y=dt.resolve();return g.forEach((N=>{y=y.next((()=>h.getEntry(c,N))).next((S=>{const A=d.docVersions.get(N);rr(A!==null,48541),S.version.compareTo(A)<0&&(m.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Pn();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function fz(t){const e=cn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function hwe(t,e){const n=cn(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach(((h,m)=>{const g=i.get(m);if(!g)return;l.push(n.hi.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.hi.addMatchingKeys(a,h.addedDocuments,m))));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Ca.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),(function(S,A,C){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=cwe?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,y,h)&&l.push(n.hi.updateTargetData(a,y))}));let c=ku(),d=Pn();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(pwe(a,s,e.documentUpdates).next((h=>{c=h.Ls,d=h.ks}))),!r.isEqual(sn.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next((m=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return dt.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(n.Fs=i,a)))}function pwe(t,e,n){let r=Pn(),i=Pn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=ku();return n.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(sn.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Rt(tI,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:s,ks:i}}))}function mwe(t,e){const n=cn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=VC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gwe(t,e){const n=cn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.hi.getTargetData(r,e).next((a=>a?(i=a,dt.resolve(i)):n.hi.allocateTargetId(r).next((s=>(i=new Dd(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function QN(t,e,n){const r=cn(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Om(s))throw s;Rt(tI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function o7(t,e,n){const r=cn(t);let i=sn.min(),a=Pn();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,h){const m=cn(c),g=m.Ms.get(h);return g!==void 0?dt.resolve(m.Fs.get(g)):m.hi.getTargetData(d,h)})(r,s,Rc(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:sn.min(),n?a:Pn()))).next((l=>(vwe(r,r_e(e),l),{documents:l,qs:a})))))}function vwe(t,e,n){let r=t.xs.get(e)||sn.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.xs.set(e,r)}class l7{constructor(){this.activeTargetIds=c_e()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ywe{constructor(){this.Fo=new l7,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new l7,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xwe{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="ConnectivityMonitor";class u7{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Rt(c7,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Rt(c7,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By=null;function ZN(){return By===null?By=(function(){return 268435456+Math.round(2147483648*Math.random())})():By++,"0x"+By.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="RestConnection",bwe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _we{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Rx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=ZN(),l=this.Go(e,n.toUriEncodedString());Rt(jS,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:d}=new URL(l),h=ff(d);return this.jo(e,l,c,r,h).then((m=>(Rt(jS,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw Xd(jS,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}Jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+km})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Go(e,n){const r=bwe[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wwe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="WebChannelConnection";class Awe extends _we{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const s=ZN();return new Promise(((l,c)=>{const d=new pV;d.setWithCredentials(!0),d.listenOnce(mV.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case e1.NO_ERROR:const m=d.getResponseJson();Rt(Wa,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case e1.TIMEOUT:Rt(Wa,`RPC '${e}' ${s} timed out`),c(new Tt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case e1.HTTP_ERROR:const g=d.getStatus();if(Rt(Wa,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const S=(function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(I)>=0?I:ot.UNKNOWN})(N.status);c(new Tt(S,N.message))}else c(new Tt(ot.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Tt(ot.UNAVAILABLE,"Connection failed."));break;default:Qt(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Rt(Wa,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Rt(Wa,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)}))}P_(e,n,r){const i=ZN(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yV(),l=vV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");Rt(Wa,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);this.T_(m);let g=!1,y=!1;const N=new wwe({Ho:A=>{y?Rt(Wa,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(Rt(Wa,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Rt(Wa,`RPC '${e}' stream ${i} sending:`,A),m.send(A))},Yo:()=>m.close()}),S=(A,C,I)=>{A.listen(C,(k=>{try{I(k)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(m,Lg.EventType.OPEN,(()=>{y||(Rt(Wa,`RPC '${e}' stream ${i} transport opened.`),N.s_())})),S(m,Lg.EventType.CLOSE,(()=>{y||(y=!0,Rt(Wa,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(m))})),S(m,Lg.EventType.ERROR,(A=>{y||(y=!0,Xd(Wa,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),N.__(new Tt(ot.UNAVAILABLE,"The operation could not be completed")))})),S(m,Lg.EventType.MESSAGE,(A=>{var C;if(!y){const I=A.data[0];rr(!!I,16349);const k=I,B=(k==null?void 0:k.error)||((C=k[0])===null||C===void 0?void 0:C.error);if(B){Rt(Wa,`RPC '${e}' stream ${i} received error:`,B);const L=B.status;let z=(function(V){const Y=Ci[V];if(Y!==void 0)return ZV(Y)})(L),D=B.message;z===void 0&&(z=ot.INTERNAL,D="Unknown error status: "+L+" with message "+B.message),y=!0,N.__(new Tt(z,D)),m.close()}else Rt(Wa,`RPC '${e}' stream ${i} received:`,I),N.a_(I)}})),S(l,gV.STAT_EVENT,(A=>{A.stat===qN.PROXY?Rt(Wa,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===qN.NOPROXY&&Rt(Wa,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function MS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){return new T_e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="PersistentStream";class pz{constructor(e,n,r,i,a,s,l,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hz(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(Ru(n.toString()),Ru("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===n&&this.W_(r,i)}),(r=>{e((()=>{const i=new Tt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Rt(d7,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(Rt(d7,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Swe extends pz{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=R_e(this.serializer,e),r=(function(a){if(!("targetChange"in a))return sn.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?sn.min():s.readTime?kc(s.readTime):sn.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=XN(this.serializer),n.addTarget=(function(a,s){let l;const c=s.target;if(l=GN(c)?{documents:O_e(a,c)}:{query:j_e(a,c).Vt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=nz(a,s.resumeToken);const d=KN(a,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(sn.min())>0){l.readTime=Dx(a,s.snapshotVersion.toTimestamp());const d=KN(a,s.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=D_e(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=XN(this.serializer),n.removeTarget=e,this.k_(n)}}class Ewe extends pz{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return rr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){rr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=P_e(e.writeResults,e.commitTime),r=kc(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=XN(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>k_e(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nwe{}class Twe extends Nwe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Tt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,YN(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Tt(ot.UNKNOWN,a.toString())}))}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Jo(e,YN(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Tt(ot.UNKNOWN,s.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Cwe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ru(n),this._a=!1):Rt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="RemoteStore";class Iwe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((s=>{r.enqueueAndForget((async()=>{_h(this)&&(Rt(ch,"Restarting streams for network reachability change."),await(async function(c){const d=cn(c);d.Ia.add(4),await vv(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Gb(d)})(this))}))})),this.Aa=new Cwe(r,i)}}async function Gb(t){if(_h(t))for(const e of t.da)await e(!0)}async function vv(t){for(const e of t.da)await e(!1)}function mz(t,e){const n=cn(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),aI(n)?iI(n):Mm(n).x_()&&rI(n,e))}function nI(t,e){const n=cn(t),r=Mm(n);n.Ta.delete(e),r.x_()&&gz(n,e),n.Ta.size===0&&(r.x_()?r.B_():_h(n)&&n.Aa.set("Unknown"))}function rI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(sn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mm(t).H_(e)}function gz(t,e){t.Ra.$e(e),Mm(t).Y_(e)}function iI(t){t.Ra=new A_e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Mm(t).start(),t.Aa.aa()}function aI(t){return _h(t)&&!Mm(t).M_()&&t.Ta.size>0}function _h(t){return cn(t).Ia.size===0}function vz(t){t.Ra=void 0}async function Rwe(t){t.Aa.set("Online")}async function kwe(t){t.Ta.forEach(((e,n)=>{rI(t,e)}))}async function Pwe(t,e){vz(t),aI(t)?(t.Aa.la(e),iI(t)):t.Aa.set("Unknown")}async function Owe(t,e,n){if(t.Aa.set("Online"),e instanceof tz&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(r){Rt(ch,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fx(t,r)}else if(e instanceof i1?t.Ra.Ye(e):e instanceof ez?t.Ra.it(e):t.Ra.et(e),!n.isEqual(sn.min()))try{const r=await fz(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Ra.Pt(s);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(d);h&&a.Ta.set(d,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,d)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Ca.EMPTY_BYTE_STRING,h.snapshotVersion)),gz(a,c);const m=new Dd(h.target,c,d,h.sequenceNumber);rI(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Rt(ch,"Failed to raise snapshot:",r),await Fx(t,r)}}async function Fx(t,e,n){if(!Om(e))throw e;t.Ia.add(1),await vv(t),t.Aa.set("Offline"),n||(n=()=>fz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Rt(ch,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Gb(t)}))}function yz(t,e){return e().catch((n=>Fx(t,n,e)))}async function Wb(t){const e=cn(t),n=nf(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:VC;for(;jwe(e);)try{const i=await mwe(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Mwe(e,i)}catch(i){await Fx(e,i)}xz(e)&&bz(e)}function jwe(t){return _h(t)&&t.Pa.length<10}function Mwe(t,e){t.Pa.push(e);const n=nf(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function xz(t){return _h(t)&&!nf(t).M_()&&t.Pa.length>0}function bz(t){nf(t).start()}async function Dwe(t){nf(t).na()}async function Lwe(t){const e=nf(t);for(const n of t.Pa)e.X_(n.mutations)}async function Fwe(t,e,n){const r=t.Pa.shift(),i=YC.from(r,e,n);await yz(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Wb(t)}async function Uwe(t,e){e&&nf(t).Z_&&await(async function(r,i){if((function(s){return __e(s)&&s!==ot.ABORTED})(i.code)){const a=r.Pa.shift();nf(r).N_(),await yz(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Wb(r)}})(t,e),xz(t)&&bz(t)}async function f7(t,e){const n=cn(t);n.asyncQueue.verifyOperationInProgress(),Rt(ch,"RemoteStore received new credentials");const r=_h(n);n.Ia.add(3),await vv(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Gb(n)}async function Bwe(t,e){const n=cn(t);e?(n.Ia.delete(2),await Gb(n)):e||(n.Ia.add(2),await vv(n),n.Aa.set("Unknown"))}function Mm(t){return t.Va||(t.Va=(function(n,r,i){const a=cn(n);return a.ia(),new Swe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:Rwe.bind(null,t),e_:kwe.bind(null,t),n_:Pwe.bind(null,t),J_:Owe.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),aI(t)?iI(t):t.Aa.set("Unknown")):(await t.Va.stop(),vz(t))}))),t.Va}function nf(t){return t.ma||(t.ma=(function(n,r,i){const a=cn(n);return a.ia(),new Ewe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Dwe.bind(null,t),n_:Uwe.bind(null,t),ea:Lwe.bind(null,t),ta:Fwe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Wb(t)):(await t.ma.stop(),t.Pa.length>0&&(Rt(ch,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new sI(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oI(t,e){if(Ru("AsyncQueue",`${e}: ${t}`),Om(t))return new Tt(ot.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static emptySet(e){return new Fp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qt.comparator(n.key,r.key):(n,r)=>qt.comparator(n.key,r.key),this.keyedMap=Fg(),this.sortedSet=new Zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.fa=new Zr(qt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Qt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class pm{constructor(e,n,r,i,a,s,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new pm(e,n,Fp.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ub(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qwe{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Vwe{constructor(){this.queries=p7(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=cn(n),a=i.queries;i.queries=p7(),a.forEach(((s,l)=>{for(const c of l.wa)c.onError(r)}))})(this,new Tt(ot.ABORTED,"Firestore shutting down"))}}function p7(){return new bh((t=>qV(t)),Ub)}async function _z(t,e){const n=cn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new qwe,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=oI(s,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&lI(n)}async function wz(t,e){const n=cn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zwe(t,e){const n=cn(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.wa)l.Ca(i)&&(r=!0);s.ya=i}}r&&lI(n)}function $we(t,e,n){const r=cn(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function lI(t){t.Da.forEach((e=>{e.next()}))}var eT,m7;(m7=eT||(eT={})).Fa="default",m7.Cache="cache";class Az{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=pm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==eT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.key=e}}class Ez{constructor(e){this.key=e}}class Hwe{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pn(),this.mutatedKeys=Pn(),this.Xa=VV(e),this.eu=new Fp(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new h7,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const g=i.get(h),y=Bb(this.query,m)?m:null,N=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;g&&y?g.data.isEqual(y.data)?N!==S&&(r.track({type:3,doc:y}),A=!0):this.iu(g,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.Xa(y,c)>0||d&&this.Xa(y,d)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(c||d)&&(l=!0)),A&&(y?(s=s.add(y),a=S?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort(((h,m)=>(function(y,N){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt(20277,{At:A})}};return S(y)-S(N)})(h.type,m.type)||this.Xa(h.doc,m.doc))),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,d=c!==this.Ya;return this.Ya=c,s.length!==0||d?{snapshot:new pm(this.query,e.eu,a,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new h7,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Pn(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new Ez(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new Sz(r))})),n}uu(e){this.Ha=e.qs,this.Za=Pn();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return pm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const cI="SyncEngine";class Gwe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Wwe{constructor(e){this.key=e,this.lu=!1}}class Kwe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new bh((l=>qV(l)),Ub),this.Tu=new Map,this.Iu=new Set,this.du=new Zr(qt.comparator),this.Eu=new Map,this.Au=new QC,this.Ru={},this.Vu=new Map,this.mu=hm.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Ywe(t,e,n=!0){const r=kz(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await Nz(r,e,n,!0),i}async function Jwe(t,e){const n=kz(t);await Nz(n,e,!0,!1)}async function Nz(t,e,n,r){const i=await gwe(t.localStore,Rc(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await Xwe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&mz(t.remoteStore,i),l}async function Xwe(t,e,n,r,i){t.gu=(m,g,y)=>(async function(S,A,C,I){let k=A.view.nu(C);k.Ds&&(k=await o7(S.localStore,A.query,!1).then((({documents:D})=>A.view.nu(D,k))));const B=I&&I.targetChanges.get(A.targetId),L=I&&I.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(k,S.isPrimaryClient,B,L);return v7(S,A.targetId,z._u),z.snapshot})(t,m,g,y);const a=await o7(t.localStore,e,!0),s=new Hwe(e,a.qs),l=s.nu(a.documents),c=gv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,c);v7(t,n,d._u);const h=new Gwe(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function Qwe(t,e,n){const r=cn(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter((s=>!Ub(s,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await QN(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nI(r.remoteStore,i.targetId),tT(r,i.targetId)})).catch(Pm)):(tT(r,i.targetId),await QN(r.localStore,i.targetId,!0))}async function Zwe(t,e){const n=cn(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nI(n.remoteStore,r.targetId))}async function e5e(t,e,n){const r=o5e(t);try{const i=await(function(s,l){const c=cn(s),d=Mr.now(),h=l.reduce(((y,N)=>y.add(N.key)),Pn());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let N=ku(),S=Pn();return c.Os.getEntries(y,h).next((A=>{N=A,N.forEach(((C,I)=>{I.isValidDocument()||(S=S.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,N))).next((A=>{m=A;const C=[];for(const I of l){const k=g_e(I,m.get(I.key).overlayedDocument);k!=null&&C.push(new mf(I.key,k,OV(k.value.mapValue),vs.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,C,l)})).next((A=>{g=A;const C=A.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(y,A.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:$V(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let d=s.Ru[s.currentUser.toKey()];d||(d=new Zr(xn)),d=d.insert(l,c),s.Ru[s.currentUser.toKey()]=d})(r,i.batchId,n),await yv(r,i.changes),await Wb(r.remoteStore)}catch(i){const a=oI(i,"Failed to persist write");n.reject(a)}}async function Tz(t,e){const n=cn(t);try{const r=await hwe(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Eu.get(a);s&&(rr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?rr(s.lu,14607):i.removedDocuments.size>0&&(rr(s.lu,42227),s.lu=!1))})),await yv(n,r,e)}catch(r){await Pm(r)}}function g7(t,e,n){const r=cn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=cn(s);c.onlineState=l;let d=!1;c.queries.forEach(((h,m)=>{for(const g of m.wa)g.va(l)&&(d=!0)})),d&&lI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t5e(t,e,n){const r=cn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new Zr(qt.comparator);s=s.insert(a,Qa.newNoDocument(a,sn.min()));const l=Pn().add(a),c=new $b(sn.min(),new Map,new Zr(xn),s,l);await Tz(r,c),r.du=r.du.remove(a),r.Eu.delete(e),uI(r)}else await QN(r.localStore,e,!1).then((()=>tT(r,e,n))).catch(Pm)}async function n5e(t,e){const n=cn(t),r=e.batch.batchId;try{const i=await fwe(n.localStore,e);Iz(n,r,null),Cz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yv(n,i)}catch(i){await Pm(i)}}async function r5e(t,e,n){const r=cn(t);try{const i=await(function(s,l){const c=cn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(rr(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);Iz(r,e,n),Cz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yv(r,i)}catch(i){await Pm(i)}}function Cz(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function Iz(t,e,n){const r=cn(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function tT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||Rz(t,r)}))}function Rz(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(nI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),uI(t))}function v7(t,e,n){for(const r of n)r instanceof Sz?(t.Au.addReference(r.key,e),i5e(t,r)):r instanceof Ez?(Rt(cI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Rz(t,r.key)):Qt(19791,{yu:r})}function i5e(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Rt(cI,"New document in limbo: "+n),t.Iu.add(r),uI(t))}function uI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new qt(Cr.fromString(e)),r=t.mu.next();t.Eu.set(r,new Wwe(n)),t.du=t.du.insert(n,r),mz(t.remoteStore,new Dd(Rc(WC(n.path)),r,"TargetPurposeLimboResolution",Db.ue))}}async function yv(t,e,n){const r=cn(t),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach(((l,c)=>{s.push(r.gu(c,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=eI.Es(c.targetId,d);a.push(m)}})))})),await Promise.all(s),r.hu.J_(i),await(async function(c,d){const h=cn(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>dt.forEach(d,(g=>dt.forEach(g.Is,(y=>h.persistence.referenceDelegate.addReference(m,g.targetId,y))).next((()=>dt.forEach(g.ds,(y=>h.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))))))}catch(m){if(!Om(m))throw m;Rt(tI,"Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const y=h.Fs.get(g),N=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(N);h.Fs=h.Fs.insert(g,S)}}})(r.localStore,a))}async function a5e(t,e){const n=cn(t);if(!n.currentUser.isEqual(e)){Rt(cI,"User change. New user:",e.toKey());const r=await dz(n.localStore,e);n.currentUser=e,(function(a,s){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Tt(ot.CANCELLED,s))}))})),a.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yv(n,r.Bs)}}function s5e(t,e){const n=cn(t),r=n.Eu.get(e);if(r&&r.lu)return Pn().add(r.key);{let i=Pn();const a=n.Tu.get(e);if(!a)return i;for(const s of a){const l=n.Pu.get(s);i=i.unionWith(l.view.tu)}return i}}function kz(t){const e=cn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s5e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t5e.bind(null,e),e.hu.J_=zwe.bind(null,e.eventManager),e.hu.pu=$we.bind(null,e.eventManager),e}function o5e(t){const e=cn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n5e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r5e.bind(null,e),e}class Ux{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return dwe(this.persistence,new lwe,e.initialUser,this.serializer)}Du(e){return new uz(ZC.Vi,this.serializer)}bu(e){return new ywe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ux.provider={build:()=>new Ux};class l5e extends Ux{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){rr(this.persistence.referenceDelegate instanceof Lx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new W_e(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new uz((r=>Lx.Vi(r,n)),this.serializer)}}class nT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g7(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a5e.bind(null,this.syncEngine),await Bwe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Vwe})()}createDatastore(e){const n=Hb(e.databaseInfo.databaseId),r=(function(a){return new Awe(a)})(e.databaseInfo);return(function(a,s,l,c){return new Twe(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new Iwe(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>g7(this.syncEngine,n,0)),(function(){return u7.C()?new u7:new xwe})())}createSyncEngine(e,n){return(function(i,a,s,l,c,d,h){const m=new Kwe(i,a,s,l,c,d);return h&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=cn(i);Rt(ch,"RemoteStore shutting down."),a.Ia.add(5),await vv(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nT.provider={build:()=>new nT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ru("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="FirestoreClient";class c5e{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ya.UNAUTHENTICATED,this.clientId=qC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{Rt(rf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Rt(rf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function DS(t,e){t.asyncQueue.verifyOperationInProgress(),Rt(rf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await dz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{Xd("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{Rt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Xd("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function y7(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u5e(t);Rt(rf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>f7(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>f7(e.remoteStore,i))),t._onlineComponents=e}async function u5e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Rt(rf,"Using user provided OfflineComponentProvider");try{await DS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ot.FAILED_PRECONDITION||i.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Xd("Error using user provided cache. Falling back to memory cache: "+n),await DS(t,new Ux)}}else Rt(rf,"Using default OfflineComponentProvider"),await DS(t,new l5e(void 0));return t._offlineComponents}async function Oz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Rt(rf,"Using user provided OnlineComponentProvider"),await y7(t,t._uninitializedComponentsProvider._online)):(Rt(rf,"Using default OnlineComponentProvider"),await y7(t,new nT))),t._onlineComponents}function d5e(t){return Oz(t).then((e=>e.syncEngine))}async function rT(t){const e=await Oz(t),n=e.eventManager;return n.onListen=Ywe.bind(null,e.syncEngine),n.onUnlisten=Qwe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jwe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zwe.bind(null,e.syncEngine),n}function f5e(t,e,n={}){const r=new Hd;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,d){const h=new Pz({next:g=>{h.Ou(),s.enqueueAndForget((()=>wz(a,m))),g.fromCache&&c.source==="server"?d.reject(new Tt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new Az(l,h,{includeMetadataChanges:!0,ka:!0});return _z(a,m)})(await rT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="firestore.googleapis.com",b7=!0;class _7{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Tt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mz,this.ssl=b7}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:b7;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H_e)throw new Tt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I2e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jz((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Tt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Tt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Tt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _7({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Tt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _7(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new b2e;switch(r.type){case"firstParty":return new S2e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Tt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=x7.get(n);r&&(Rt("ComponentProvider","Removing Datastore"),x7.delete(n),r.terminate())})(this),Promise.resolve()}}function h5e(t,e,n,r={}){var i;t=go(t,Kb);const a=ff(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(NC(`https://${c}`),TC("Firestore",!0)),s.host!==Mz&&s.host!==c&&Xd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!ah(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Ya.MOCK_USER;else{h=Cq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Tt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ya(g)}t._authCredentials=new _2e(new bV(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class mi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mi(this.firestore,e,this._key)}toJSON(){return{type:mi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pv(n,mi._jsonSchema))return new mi(e,r||null,new qt(Cr.fromString(n.referencePath)))}}mi._jsonSchemaVersion="firestore/documentReference/1.0",mi._jsonSchema={type:ki("string",mi._jsonSchemaVersion),referencePath:ki("string")};class Gd extends Uu{constructor(e,n,r){super(e,n,WC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mi(this.firestore,null,new qt(e))}withConverter(e){return new Gd(this.firestore,e,this._path)}}function zn(t,e,...n){if(t=Lr(t),wV("collection","path",e),t instanceof Kb){const r=Cr.fromString(e,...n);return j8(r),new Gd(t,null,r)}{if(!(t instanceof mi||t instanceof Gd))throw new Tt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cr.fromString(e,...n));return j8(r),new Gd(t.firestore,null,r)}}function gn(t,e,...n){if(t=Lr(t),arguments.length===1&&(e=qC.newId()),wV("doc","path",e),t instanceof Kb){const r=Cr.fromString(e,...n);return O8(r),new mi(t,null,new qt(r))}{if(!(t instanceof mi||t instanceof Gd))throw new Tt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cr.fromString(e,...n));return O8(r),new mi(t.firestore,t instanceof Gd?t.converter:null,new qt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="AsyncQueue";class A7{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hz(this,"async_queue_retry"),this.oc=()=>{const r=MS();r&&Rt(w7,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=MS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=MS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Hd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Om(e))throw e;Rt(w7,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Ru("INTERNAL UNHANDLED ERROR: ",S7(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=sI.createAndSchedule(this,e,n,r,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&Qt(47125,{hc:S7(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function S7(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Pu extends Kb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A7,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A7(e),this._firestoreClient=void 0,await e}}}function p5e(t,e){const n=typeof t=="object"?t:RC(),r=typeof t=="string"?t:Rx,i=Rb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Eq("firestore");a&&h5e(i,...a)}return i}function Yb(t){if(t._terminated)throw new Tt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m5e(t),t._firestoreClient}function m5e(t){var e,n,r;const i=t._freezeSettings(),a=(function(l,c,d,h){return new q2e(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jz(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new c5e(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Ca.fromBase64String(e))}catch(n){throw new Tt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(Ca.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pv(e,qo._jsonSchema))return qo.fromBase64String(e.bytes)}}qo._jsonSchemaVersion="firestore/bytes/1.0",qo._jsonSchema={type:ki("string",qo._jsonSchemaVersion),bytes:ki("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Tt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Tt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Tt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pc._jsonSchemaVersion}}static fromJSON(e){if(pv(e,Pc._jsonSchema))return new Pc(e.latitude,e.longitude)}}Pc._jsonSchemaVersion="firestore/geoPoint/1.0",Pc._jsonSchema={type:ki("string",Pc._jsonSchemaVersion),latitude:ki("number"),longitude:ki("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pv(e,Oc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oc(e.vectorValues);throw new Tt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oc._jsonSchemaVersion="firestore/vectorValue/1.0",Oc._jsonSchema={type:ki("string",Oc._jsonSchemaVersion),vectorValues:ki("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5e=/^__.*__$/;class v5e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mf(e,this.data,this.fieldMask,n,this.fieldTransforms):new mv(e,this.data,n,this.fieldTransforms)}}class Dz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt(40011,{Ec:t})}}class fI{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new fI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bx(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Lz(this.Ec)&&g5e.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class y5e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hb(e)}Dc(e,n,r,i=!1){return new fI({Ec:e,methodName:n,bc:r,path:Sa.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bv(t){const e=t._freezeSettings(),n=Hb(t._databaseId);return new y5e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hI(t,e,n,r,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);pI("Data must be an object, but it was:",s,r);const l=Bz(r,s);let c,d;if(a.merge)c=new po(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const g=iT(e,m,n);if(!s.contains(g))throw new Tt(ot.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Vz(h,g)||h.push(g)}c=new po(h),d=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=s.fieldTransforms;return new v5e(new Fs(l),c,d)}class Jb extends dI{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jb}}function Fz(t,e,n,r){const i=t.Dc(1,e,n);pI("Data must be an object, but it was:",i,r);const a=[],s=Fs.empty();pf(r,((c,d)=>{const h=mI(e,c,n);d=Lr(d);const m=i.gc(h);if(d instanceof Jb)a.push(h);else{const g=_v(d,m);g!=null&&(a.push(h),s.set(h,g))}}));const l=new po(a);return new Dz(s,l,i.fieldTransforms)}function Uz(t,e,n,r,i,a){const s=t.Dc(1,e,n),l=[iT(e,r,n)],c=[i];if(a.length%2!=0)throw new Tt(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(iT(e,a[g])),c.push(a[g+1]);const d=[],h=Fs.empty();for(let g=l.length-1;g>=0;--g)if(!Vz(d,l[g])){const y=l[g];let N=c[g];N=Lr(N);const S=s.gc(y);if(N instanceof Jb)d.push(y);else{const A=_v(N,S);A!=null&&(d.push(y),h.set(y,A))}}const m=new po(d);return new Dz(h,m,s.fieldTransforms)}function x5e(t,e,n,r=!1){return _v(n,t.Dc(r?4:3,e))}function _v(t,e){if(qz(t=Lr(t)))return pI("Unsupported field value:",e,t),Bz(t,e);if(t instanceof dI)return(function(r,i){if(!Lz(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=_v(l,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u_e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Mr.fromDate(r);return{timestampValue:Dx(i.serializer,a)}}if(r instanceof Mr){const a=new Mr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dx(i.serializer,a)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:nz(i.serializer,r._byteString)};if(r instanceof mi){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:XC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oc)return(function(s,l){return{mapValue:{fields:{[kV]:{stringValue:PV},[kx]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return KC(l.serializer,d)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Mb(r)}`)})(t,e)}function Bz(t,e){const n={};return EV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pf(t,((r,i)=>{const a=_v(i,e.Vc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function qz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mr||t instanceof Pc||t instanceof qo||t instanceof mi||t instanceof dI||t instanceof Oc)}function pI(t,e,n){if(!qz(n)||!AV(n)){const r=Mb(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function iT(t,e,n){if((e=Lr(e))instanceof xv)return e._internalPath;if(typeof e=="string")return mI(t,e);throw Bx("Field path arguments must be of type string or ",t,!1,void 0,n)}const b5e=new RegExp("[~\\*/\\[\\]]");function mI(t,e,n){if(e.search(b5e)>=0)throw Bx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xv(...e.split("."))._internalPath}catch{throw Bx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bx(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Tt(ot.INVALID_ARGUMENT,l+t+c)}function Vz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _5e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _5e extends zz{data(){return super.data()}}function gI(t,e){return typeof e=="string"?mI(t,e):e instanceof xv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Tt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vI{}class yI extends vI{}function gp(t,e,...n){let r=[];e instanceof vI&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof bI)).length,l=a.filter((c=>c instanceof xI)).length;if(s>1||s>0&&l>0)throw new Tt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class xI extends yI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xI(e,n,r)}_apply(e){const n=this._parse(e);return Gz(e._query,n),new Uu(e.firestore,e.converter,WN(e._query,n))}_parse(e){const n=bv(e.firestore);return(function(a,s,l,c,d,h,m){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Tt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){T7(m,h);const N=[];for(const S of m)N.push(N7(c,a,S));g={arrayValue:{values:N}}}else g=N7(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||T7(m,h),g=x5e(l,s,m,h==="in"||h==="not-in");return Ri.create(d,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bI extends vI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ol.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)Gz(s,c),s=WN(s,c)})(e._query,n),new Uu(e.firestore,e.converter,WN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _I extends yI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _I(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new Tt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Tt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new J0(a,s)})(e._query,this._field,this._direction);return new Uu(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new jm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function w5e(t,e="asc"){const n=e,r=gI("orderBy",t);return _I._create(r,n)}class wI extends yI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new wI(e,n,r)}_apply(e){return new Uu(e.firestore,e.converter,Ox(e._query,this._limit,this._limitType))}}function Hz(t){return R2e("limit",t),wI._create("limit",t,"F")}function N7(t,e,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new Tt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BV(e)&&n.indexOf("/")!==-1)throw new Tt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Cr.fromString(n));if(!qt.isDocumentKey(r))throw new Tt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return V8(t,new qt(r))}if(n instanceof mi)return V8(t,n._key);throw new Tt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mb(n)}.`)}function T7(t,e){if(!Array.isArray(t)||t.length===0)throw new Tt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gz(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Tt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Tt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class A5e{convertValue(e,n="none"){switch(tf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ef(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[kx].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((s=>di(s.doubleValue)));return new Oc(a)}convertGeoPoint(e){return new Pc(di(e.latitude),di(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(W0(e));default:return null}}convertTimestamp(e){const n=Zd(e);return new Mr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Cr.fromString(e);rr(lz(r),9688,{name:e});const i=new K0(r.get(1),r.get(3)),a=new qt(r.popFirst(5));return i.isEqual(n)||Ru(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jf extends zz{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new a1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jf._jsonSchema={type:ki("string",Jf._jsonSchemaVersion),bundleSource:ki("string","DocumentSnapshot"),bundleName:ki("string"),bundle:ki("string")};class a1 extends Jf{data(e={}){return super.data(e)}}class Xf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new a1(this._firestore,this._userDataWriter,r.key,r,new Bg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new a1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new a1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:S5e(l.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S5e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt(61501,{type:t})}}Xf._jsonSchemaVersion="firestore/querySnapshot/1.0",Xf._jsonSchema={type:ki("string",Xf._jsonSchemaVersion),bundleSource:ki("string","QuerySnapshot"),bundleName:ki("string"),bundle:ki("string")};class SI extends A5e{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,n)}}function ui(t){t=go(t,Uu);const e=go(t.firestore,Pu),n=Yb(e),r=new SI(e);return $z(t._query),f5e(n,t._query).then((i=>new Xf(e,r,t,i)))}function lo(t,e,n){t=go(t,mi);const r=go(t.firestore,Pu),i=AI(t.converter,e,n);return wv(r,[hI(bv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vs.none())])}function op(t,e,n,...r){t=go(t,mi);const i=go(t.firestore,Pu),a=bv(i);let s;return s=typeof(e=Lr(e))=="string"||e instanceof xv?Uz(a,"updateDoc",t._key,e,n,r):Fz(a,"updateDoc",t._key,e),wv(i,[s.toMutation(t._key,vs.exists(!0))])}function wl(t){return wv(go(t.firestore,Pu),[new zb(t._key,vs.none())])}function s1(t,e){const n=go(t.firestore,Pu),r=gn(t),i=AI(t.converter,e);return wv(n,[hI(bv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vs.exists(!1))]).then((()=>r))}function wd(t,...e){var n,r,i;t=Lr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||E7(e[s])||(a=e[s++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(E7(e[s])){const m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,h;if(t instanceof mi)d=go(t.firestore,Pu),h=WC(t._key.path),c={next:m=>{e[s]&&e[s](E5e(d,t,m))},error:e[s+1],complete:e[s+2]};else{const m=go(t,Uu);d=go(m.firestore,Pu),h=m._query;const g=new SI(d);c={next:y=>{e[s]&&e[s](new Xf(d,g,m,y))},error:e[s+1],complete:e[s+2]},$z(t._query)}return(function(g,y,N,S){const A=new Pz(S),C=new Az(y,A,N);return g.asyncQueue.enqueueAndForget((async()=>_z(await rT(g),C))),()=>{A.Ou(),g.asyncQueue.enqueueAndForget((async()=>wz(await rT(g),C)))}})(Yb(d),h,l,c)}function wv(t,e){return(function(r,i){const a=new Hd;return r.asyncQueue.enqueueAndForget((async()=>e5e(await d5e(r),i,a))),a.promise})(Yb(t),e)}function E5e(t,e,n){const r=n.docs.get(e._key),i=new SI(t);return new Jf(t,i,e._key,r,new Bg(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5e{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bv(e)}set(e,n,r){this._verifyNotCommitted();const i=LS(e,this._firestore),a=AI(i.converter,n,r),s=hI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,vs.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=LS(e,this._firestore);let s;return s=typeof(n=Lr(n))=="string"||n instanceof xv?Uz(this._dataReader,"WriteBatch.update",a._key,n,r,i):Fz(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,vs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=LS(e,this._firestore);return this._mutations=this._mutations.concat(new zb(n._key,vs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function LS(t,e){if((t=Lr(t)).firestore!==e)throw new Tt(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){return Yb(t=go(t,Pu)),new N5e(t,(e=>wv(t,e)))}(function(e,n=!0){(function(i){km=i})(yh),sh(new Jd("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Pu(new w2e(r.getProvider("auth-internal")),new E2e(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Tt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new K0(d.options.projectId,h)})(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Tc(C8,I8,e),Tc(C8,I8,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="firebasestorage.googleapis.com",Kz="storageBucket",T5e=120*1e3,C5e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Fc{constructor(e,n,r=0){super(FS(e),`Firebase Storage: ${n} (${FS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return FS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function FS(t){return"storage/"+t}function EI(){const t="An unknown error occurred, please check the error payload for server response.";return new li(oi.UNKNOWN,t)}function I5e(t){return new li(oi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function R5e(t){return new li(oi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k5e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new li(oi.UNAUTHENTICATED,t)}function P5e(){return new li(oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function O5e(t){return new li(oi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function j5e(){return new li(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M5e(){return new li(oi.CANCELED,"User canceled the upload/download.")}function D5e(t){return new li(oi.INVALID_URL,"Invalid URL '"+t+"'.")}function L5e(t){return new li(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F5e(){return new li(oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kz+"' property when initializing the app?")}function U5e(){return new li(oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B5e(){return new li(oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q5e(t){return new li(oi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function aT(t){return new li(oi.INVALID_ARGUMENT,t)}function Yz(){return new li(oi.APP_DELETED,"The Firebase app was deleted.")}function V5e(t){return new li(oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function r0(t,e){return new li(oi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ig(t){throw new li(oi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mo.makeFromUrl(e,n)}catch{return new mo(e,"")}if(r.path==="")return r;throw L5e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${g}`,"i"),N={bucket:1,path:3},S=n===Wz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",C=new RegExp(`^https?://${S}/${i}/${A}`,"i"),k=[{regex:l,indices:c,postModify:a},{regex:y,indices:N,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<k.length;B++){const L=k[B],z=L.regex.exec(e);if(z){const D=z[L.indices.bucket];let j=z[L.indices.path];j||(j=""),r=new mo(D,j),L.postModify(r);break}}if(r==null)throw D5e(e);return r}}class z5e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5e(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function m(A){i=setTimeout(()=>{i=null,t(y,c())},A)}function g(){a&&clearTimeout(a)}function y(A,...C){if(d){g();return}if(A){g(),h.call(null,A,...C);return}if(c()||s){g(),h.call(null,A,...C);return}r<64&&(r*=2);let k;l===1?(l=2,k=0):k=(r+Math.random())*1e3,m(k)}let N=!1;function S(A){N||(N=!0,g(),!d&&(i!==null?(A||(l=2),clearTimeout(i),m(0)):A||(l=1)))}return m(0),a=setTimeout(()=>{s=!0,S(!0)},n),S}function H5e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5e(t){return t!==void 0}function W5e(t){return typeof t=="object"&&!Array.isArray(t)}function NI(t){return typeof t=="string"||t instanceof String}function C7(t){return TI()&&t instanceof Blob}function TI(){return typeof Blob<"u"}function I7(t,e,n,r){if(r<e)throw aT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Jz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Qf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qf||(Qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5e{constructor(e,n,r,i,a,s,l,c,d,h,m,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,S)=>{this.resolve_=N,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===Qf.NO_ERROR,c=a.getStatus();if(!l||K5e(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Qf.ABORT;r(!1,new qy(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new qy(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());G5e(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=EI();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Yz():M5e();s(c)}else{const c=j5e();s(c)}};this.canceled_?n(!1,new qy(!1,null,!0)):this.backoffId_=$5e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H5e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function J5e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function X5e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q5e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z5e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eAe(t,e,n,r,i,a,s=!0,l=!1){const c=Jz(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return Q5e(h,e),J5e(h,n),X5e(h,a),Z5e(h,r),new Y5e(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tAe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nAe(...t){const e=tAe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(TI())return new Blob(t);throw new li(oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rAe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iAe(t){if(typeof atob>"u")throw q5e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class US{constructor(e,n){this.data=e,this.contentType=n||null}}function aAe(t,e){switch(t){case wc.RAW:return new US(Xz(e));case wc.BASE64:case wc.BASE64URL:return new US(Qz(t,e));case wc.DATA_URL:return new US(oAe(e),lAe(e))}throw EI()}function Xz(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sAe(t){let e;try{e=decodeURIComponent(t)}catch{throw r0(wc.DATA_URL,"Malformed data URL.")}return Xz(e)}function Qz(t,e){switch(t){case wc.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw r0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case wc.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw r0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iAe(e)}catch(i){throw i.message.includes("polyfill")?i:r0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Zz{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw r0(wc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cAe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oAe(t){const e=new Zz(t);return e.base64?Qz(wc.BASE64,e.rest):sAe(e.rest)}function lAe(t){return new Zz(t).contentType}function cAe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){let r=0,i="";C7(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(C7(this.data_)){const r=this.data_,i=rAe(r,e,n);return i===null?null:new kd(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new kd(r,!0)}}static getBlob(...e){if(TI()){const n=e.map(r=>r instanceof kd?r.data_:r);return new kd(nAe.apply(null,n))}else{const n=e.map(s=>NI(s)?aAe(wc.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new kd(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){let e;try{e=JSON.parse(t)}catch{return null}return W5e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uAe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dAe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function t$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fAe(t,e){return e}class hs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||fAe}}let Vy=null;function hAe(t){return!NI(t)||t.length<2?t:t$(t)}function n$(){if(Vy)return Vy;const t=[];t.push(new hs("bucket")),t.push(new hs("generation")),t.push(new hs("metageneration")),t.push(new hs("name","fullPath",!0));function e(a,s){return hAe(s)}const n=new hs("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new hs("size");return i.xform=r,t.push(i),t.push(new hs("timeCreated")),t.push(new hs("updated")),t.push(new hs("md5Hash",null,!0)),t.push(new hs("cacheControl",null,!0)),t.push(new hs("contentDisposition",null,!0)),t.push(new hs("contentEncoding",null,!0)),t.push(new hs("contentLanguage",null,!0)),t.push(new hs("contentType",null,!0)),t.push(new hs("metadata","customMetadata",!0)),Vy=t,Vy}function pAe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new mo(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function mAe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return pAe(r,t),r}function r$(t,e,n){const r=e$(e);return r===null?null:mAe(t,r,n)}function gAe(t,e,n,r){const i=e$(e);if(i===null||!NI(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const h=t.bucket,m=t.fullPath,g="/b/"+s(h)+"/o/"+s(m),y=CI(g,n,r),N=Jz({alt:"media",token:d});return y+N})[0]}function vAe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class i${constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){if(!t)throw EI()}function yAe(t,e){function n(r,i){const a=r$(t,i,e);return a$(a!==null),a}return n}function xAe(t,e){function n(r,i){const a=r$(t,i,e);return a$(a!==null),gAe(a,i,t.host,t._protocol)}return n}function s$(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=P5e():i=k5e():n.getStatus()===402?i=R5e(t.bucket):n.getStatus()===403?i=O5e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bAe(t){const e=s$(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=I5e(t.path)),a.serverResponse=i.serverResponse,a}return n}function _Ae(t,e,n){const r=e.fullServerUrl(),i=CI(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new i$(i,a,xAe(t,n),s);return l.errorHandler=bAe(e),l}function wAe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AAe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wAe(null,e)),r}function SAe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let k="";for(let B=0;B<2;B++)k=k+Math.random().toString().slice(2);return k}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const d=AAe(e,r,i),h=vAe(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=kd.getBlob(m,r,g);if(y===null)throw U5e();const N={name:d.fullPath},S=CI(a,t.host,t._protocol),A="POST",C=t.maxUploadRetryTime,I=new i$(S,A,yAe(t,n),C);return I.urlParams=N,I.headers=s,I.body=y.uploadData(),I.errorHandler=s$(e),I}class EAe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Ig("cannot .send() more than once");if(ff(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ig("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ig("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ig("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NAe extends EAe{initXhr(){this.xhr_.responseType="text"}}function o$(){return new NAe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this._service=e,n instanceof mo?this._location=n:this._location=mo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uh(e,n)}get root(){const e=new mo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t$(this._location.path)}get storage(){return this._service}get parent(){const e=uAe(this._location.path);if(e===null)return null;const n=new mo(this._location.bucket,e);return new uh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw V5e(e)}}function TAe(t,e,n){t._throwIfRoot("uploadBytes");const r=SAe(t.storage,t._location,n$(),new kd(e,!0),n);return t.storage.makeRequestWithTokens(r,o$).then(i=>({metadata:i,ref:t}))}function CAe(t){t._throwIfRoot("getDownloadURL");const e=_Ae(t.storage,t._location,n$());return t.storage.makeRequestWithTokens(e,o$).then(n=>{if(n===null)throw B5e();return n})}function IAe(t,e){const n=dAe(t._location.path,e),r=new mo(t._location.bucket,n);return new uh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RAe(t){return/^[A-Za-z]+:\/\//.test(t)}function kAe(t,e){return new uh(t,e)}function l$(t,e){if(t instanceof II){const n=t;if(n._bucket==null)throw F5e();const r=new uh(n,n._bucket);return e!=null?l$(r,e):r}else return e!==void 0?IAe(t,e):t}function PAe(t,e){if(e&&RAe(e)){if(t instanceof II)return kAe(t,e);throw aT("To use ref(service, url), the first argument must be a Storage instance.")}else return l$(t,e)}function R7(t,e){const n=e==null?void 0:e[Kz];return n==null?null:mo.makeFromBucketSpec(n,t)}function OAe(t,e,n,r={}){t.host=`${e}:${n}`;const i=ff(e);i&&(NC(`https://${t.host}/b`),TC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Cq(a,t.app.options.projectId))}class II{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Wz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T5e,this._maxUploadRetryTime=C5e,this._requests=new Set,i!=null?this._bucket=mo.makeFromBucketSpec(i,this._host):this._bucket=R7(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mo.makeFromBucketSpec(this._url,e):this._bucket=R7(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I7("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I7("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new z5e(Yz());{const s=eAe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const k7="@firebase/storage",P7="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$="storage";function jAe(t,e,n){return t=Lr(t),TAe(t,e,n)}function MAe(t){return t=Lr(t),CAe(t)}function DAe(t,e){return t=Lr(t),PAe(t,e)}function LAe(t=RC(),e){t=Lr(t);const r=Rb(t,c$).getImmediate({identifier:e}),i=Eq("storage");return i&&FAe(r,...i),r}function FAe(t,e,n,r={}){OAe(t,e,n,r)}function UAe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new II(n,r,i,e,yh)}function BAe(){sh(new Jd(c$,UAe,"PUBLIC").setMultipleInstances(!0)),Tc(k7,P7,""),Tc(k7,P7,"esm2017")}BAe();const zy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AI_API_KEY:"AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",VITE_FIREBASE_API_KEY:"AIzaSyD5cALBG9ZCoptVK2A8_mCYsVSOE6y6vV4",VITE_FIREBASE_APP_ID:"1:389741054647:web:9f2873c8392c01c9135b32",VITE_FIREBASE_AUTH_DOMAIN:"gestfri.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"389741054647",VITE_FIREBASE_PROJECT_ID:"gestfri",VITE_FIREBASE_STORAGE_BUCKET:"gestfri.firebasestorage.app",VITE_OFFLINE_MODE:"false"};var O7={};const lp=t=>{if(typeof process<"u"&&O7[t])return O7[t];if(typeof import.meta<"u"&&(zy!=null&&zy[t]))return zy[t]},sT={apiKey:lp("VITE_FIREBASE_API_KEY"),authDomain:lp("VITE_FIREBASE_AUTH_DOMAIN"),projectId:lp("VITE_FIREBASE_PROJECT_ID"),storageBucket:lp("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:lp("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:lp("VITE_FIREBASE_APP_ID")},u$=sT.apiKey&&sT.projectId;u$||console.warn(" Firebase configuration not found. Please set environment variables.");const mm=u$?kq(sT):null,Ld=mm?y2e(mm):null,gt=mm?p5e(mm):null,j7=mm?LAe(mm):null,qAe=({onLoginSuccess:t})=>{const[e,n]=be.useState(""),[r,i]=be.useState(""),[a,s]=be.useState(!1),[l,c]=be.useState(!1),[d,h]=be.useState(null),[m,g]=be.useState(!1);be.useEffect(()=>{const S=localStorage.getItem("fg_saved_email"),A=localStorage.getItem("fg_saved_password");S&&(n(S),s(!0),A&&i(A)),window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(C=>g(C))},[]),be.useEffect(()=>{d&&h(null)},[e,r]);const y=async S=>{var A;S.preventDefault(),c(!0),h(null);try{if(!Ld)throw new Error("FIREBASE_CORE_OFFLINE");await v8(Ld,e.trim(),r),a?(localStorage.setItem("fg_saved_email",e),localStorage.setItem("fg_saved_password",r)):(localStorage.removeItem("fg_saved_email"),localStorage.removeItem("fg_saved_password")),t()}catch(C){console.error(C),h((A=C.code)!=null&&A.includes("auth/")?"CREDENCIAIS INVLIDAS":"ERRO DE PROTOCOLO DE REDE")}finally{c(!1)}},N=async()=>{c(!0),h(null);try{const S=localStorage.getItem("fg_saved_email"),A=localStorage.getItem("fg_saved_password");if(!S||!A){h("Faa login normal primeiro para habilitar biometria"),c(!1);return}const C={challenge:new Uint8Array(32),rpId:window.location.hostname,timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:C}),!Ld)throw new Error("FIREBASE_CORE_OFFLINE");await v8(Ld,S,A),t()}catch(S){console.error(S),h("Autenticao biomtrica falhou. Use login normal.")}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#fcfdff] technical-grid flex items-center justify-center p-6 relative overflow-hidden font-sans",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-100 rounded-full blur-[120px] opacity-40 animate-pulse"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-100 rounded-full blur-[120px] opacity-40 animate-pulse",style:{animationDelay:"1s"}}),f.jsx("div",{className:"bg-white/80 backdrop-blur-xl border border-white rounded-[48px] w-full max-w-lg shadow-[0_32px_64px_-16px_rgba(37,99,235,0.1)] relative overflow-hidden animate-reveal p-1",children:f.jsxs("div",{className:"p-10 md:p-14",children:[f.jsxs("div",{className:"mb-12 text-center md:text-left",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-600 rounded-full mb-6",children:[f.jsx(kl,{size:14}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Acesso Restrito"})]}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight text-slate-900 leading-none",children:["Frigo",f.jsx("span",{className:"text-blue-600",children:"Gest"}),f.jsx("span",{className:"text-emerald-500",children:"."})]}),f.jsx("p",{className:"text-sm font-medium text-slate-400 mt-4 leading-relaxed max-w-sm",children:"Entre com suas credenciais para gerenciar a inteligncia operacional do seu frigorfico."})]}),d&&f.jsxs("div",{className:"mb-8 border border-red-100 bg-red-50 p-4 rounded-2xl flex items-center gap-4 animate-reveal",children:[f.jsx(G7,{size:20,className:"text-red-600"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase tracking-widest",children:"Falha na Autenticao"}),f.jsx("p",{className:"text-xs font-bold text-red-800",children:d})]})]}),f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"E-mail Corporativo"}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"email",required:!0,value:e,onChange:S=>n(S.target.value),placeholder:"ex: admin@sistema.com",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),f.jsx(KG,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Senha de Acesso"}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"password",required:!0,value:r,onChange:S=>i(S.target.value),placeholder:"",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),f.jsx(lT,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),f.jsxs("div",{className:"flex items-center gap-3 px-1",children:[f.jsx("input",{type:"checkbox",id:"rememberMe",checked:a,onChange:S=>s(S.target.checked),className:"w-5 h-5 rounded-lg accent-blue-600 cursor-pointer"}),f.jsx("label",{htmlFor:"rememberMe",className:"text-xs font-bold text-slate-600 cursor-pointer select-none",children:"Lembrar minhas credenciais neste dispositivo"})]}),f.jsxs("div",{className:"pt-6 space-y-4",children:[f.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-blue-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?f.jsx(Sp,{className:"animate-spin",size:20}):f.jsxs(f.Fragment,{children:[f.jsx(Na,{size:18}),f.jsx("span",{children:"Acessar Painel"})]})}),m&&f.jsx("button",{type:"button",onClick:N,disabled:l,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-emerald-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?f.jsx(Sp,{className:"animate-spin",size:20}):f.jsxs(f.Fragment,{children:[f.jsx(bG,{size:20}),f.jsx(xW,{size:18}),f.jsx("span",{children:"Login Biomtrico"})]})}),f.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3 opacity-30",children:[f.jsx("div",{className:"h-px w-8 bg-slate-300"}),f.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"v2.5 Enterprise"}),f.jsx("div",{className:"h-px w-8 bg-slate-300"})]})]})]})]})})]})},M7=({onBack:t,refreshData:e})=>{const[n,r]=be.useState(""),[i,a]=be.useState(!1),[s,l]=be.useState(1),[c,d]=be.useState(""),[h,m]=be.useState(!0),g=async()=>{if(c!=="ZERAR SISTEMA")return alert("Confirmao incorreta");if(window.confirm("AO CRTICA: Deseja realmente apagar todos os dados de operao?")){a(!0),r("Inicializando sequncia de limpeza...");try{const S=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const A of S){r(`Limpando base: ${A.toUpperCase()}...`);const C=await ui(zn(gt,A));if(C.empty)continue;const I=n0(gt);C.docs.forEach(k=>I.delete(k.ref)),await I.commit()}alert("Sistema reiniciado com sucesso. Cadastros preservados."),e(),l(1),d(""),t()}catch{r("Erro durante a operao de limpeza")}finally{a(!1)}}},y=async()=>{if(window.confirm(` Limpar dados de teste?

Isto remover:
 Todos os lotes
 Todo o estoque
 Todas as vendas
 Todas as transaes

Mas MANTER:
 Clientes
 Fornecedores

Deseja continuar?`)){a(!0),r("Limpando dados de teste...");try{const S=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const A of S){r(`Limpando: ${A.toUpperCase()}...`);const C=await ui(zn(gt,A));if(C.empty)continue;const I=n0(gt);C.docs.forEach(k=>I.delete(k.ref)),await I.commit()}r(" Sistema limpo! Clientes e fornecedores preservados."),alert(` Dados de teste removidos!

Sistema pronto para produo.
Clientes e fornecedores foram preservados.`),e(),t()}catch(S){console.error(S),r(" Erro durante limpeza")}finally{a(!1)}}},N=async()=>{if(window.confirm("Protocolo de Simulao: Deseja carregar o cenrio de teste estratgico (Guerra)?")){a(!0),r("Injetando dados de guerra no FG-CORE...");try{const S=n0(gt),A=new Date,C=new Date(A.getTime()-600*60*60*1e3).toISOString().split("T")[0],I=new Date(A.getTime()-360*60*60*1e3).toISOString().split("T")[0],k=new Date(A.getTime()-7200*60*1e3).toISOString().split("T")[0],B=new Date(A.getTime()+1440*60*1e3).toISOString().split("T")[0],L={id_lote:"L-TOP-01",fornecedor:"FAZENDA ELITE",data_recebimento:I,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},z={id_lote:"L-LOSS-02",fornecedor:"FORNECEDOR C",data_recebimento:k,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},D={id_lote:"L-OLD-99",fornecedor:"ESTOQUE ESQUECIDO",data_recebimento:C,peso_total_romaneio:1e3,valor_compra_total:2e4,frete:500,gastos_extras:0,custo_real_kg:20.5,status:"FECHADO"};S.set(gn(gt,"batches",L.id_lote),L),S.set(gn(gt,"batches",z.id_lote),z),S.set(gn(gt,"batches",D.id_lote),D);const j={id_completo:"L-TOP-01-01-INTEIRO",id_lote:"L-TOP-01",sequencia:1,tipo:dn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:I},V={id_completo:"L-LOSS-02-01-INTEIRO",id_lote:"L-LOSS-02",sequencia:1,tipo:dn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:k},Y={id_completo:"L-OLD-99-01-INTEIRO",id_lote:"L-OLD-99",sequencia:1,tipo:dn.INTEIRO,peso_entrada:245,status:"DISPONIVEL",data_entrada:C},q={id_completo:"L-OLD-99-02-BANDA_A",id_lote:"L-OLD-99",sequencia:2,tipo:dn.BANDA_A,peso_entrada:122,status:"DISPONIVEL",data_entrada:C};S.set(gn(gt,"stock_items",j.id_completo),j),S.set(gn(gt,"stock_items",V.id_completo),V),S.set(gn(gt,"stock_items",Y.id_completo),Y),S.set(gn(gt,"stock_items",q.id_completo),q);const M={id_venda:"V-FUMO-01",id_cliente:"77",id_completo:V.id_completo,peso_real_saida:230,preco_venda_kg:35,data_venda:I,data_vencimento:k,status_pagamento:"PENDENTE",quebra_kg:20,lucro_liquido_unitario:10,forma_pagamento:"OUTROS",valor_pago:0},F={id_venda:"V-ELITE-01",id_cliente:"15",id_completo:j.id_completo,peso_real_saida:248,preco_venda_kg:38,data_venda:k,data_vencimento:B,status_pagamento:"PAGO",quebra_kg:2,lucro_liquido_unitario:15,forma_pagamento:"PIX",valor_pago:9424};S.set(gn(gt,"sales",M.id_venda),M),S.set(gn(gt,"sales",F.id_venda),F),S.set(gn(gt,"transactions","TR-SIM-01"),{id:"TR-SIM-01",data:I,descricao:"Saldo Inicial Simulao",tipo:"ENTRADA",categoria:"OUTROS",valor:5e4}),await S.commit(),e(),alert("Cenrio de Guerra atualizado: IA detectar Risco de Crdito, Quebra Industrial e Estoque Antigo!"),t()}catch(S){console.error(S),r("Falha na injeo de dados")}finally{a(!1)}}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid flex items-center justify-center animate-reveal",children:[h&&f.jsx("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-[32px] max-w-lg w-full overflow-hidden shadow-2xl border-4 border-rose-500",children:[f.jsxs("div",{className:"bg-gradient-to-r from-rose-600 to-red-700 p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:f.jsx(ev,{size:48,className:"text-white"})}),f.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight",children:" ALTO RISCO "}),f.jsx("p",{className:"text-rose-100 text-sm font-bold mt-2",children:"REA RESTRITA - ACESSO ADMINISTRATIVO"})]}),f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-2xl p-6",children:[f.jsx("h3",{className:"text-rose-700 font-black text-sm uppercase mb-3",children:" ATENO - LEIA COM CUIDADO:"}),f.jsxs("ul",{className:"space-y-3 text-sm text-slate-700",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-rose-500 font-bold",children:""}),f.jsxs("span",{children:["Esta rea ",f.jsx("strong",{className:"text-rose-600",children:"APAGA DADOS PERMANENTEMENTE"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-rose-500 font-bold",children:""}),f.jsxs("span",{children:["Pode ",f.jsx("strong",{className:"text-rose-600",children:"BAGUNAR TODO O FLUXO DE CAIXA"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-rose-500 font-bold",children:""}),f.jsxs("span",{children:["Dados apagados ",f.jsx("strong",{className:"text-rose-600",children:"NO PODEM SER RECUPERADOS"})]})]})]})]}),f.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:[f.jsx("h3",{className:"text-blue-700 font-black text-sm uppercase mb-3",children:" RECOMENDAO:"}),f.jsxs("p",{className:"text-sm text-slate-700",children:["Para limpezas de dados, use o ",f.jsx("strong",{className:"text-blue-600",children:"Firebase Console"})," diretamente:"]}),f.jsx("p",{className:"text-xs text-blue-600 font-mono mt-2 bg-blue-100 p-2 rounded-lg",children:"console.firebase.google.com"})]}),f.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-6",children:[f.jsx("h3",{className:"text-green-700 font-black text-sm uppercase mb-3",children:" SOLICITAR LIMPEZA:"}),f.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Envie uma solicitao para o administrador limpar os dados pelo Firebase:"}),f.jsx("button",{onClick:()=>{const S=encodeURIComponent(` *SOLICITAO DE LIMPEZA - FRIGOGEST*

 Um usurio est solicitando limpeza de dados do sistema.

 Data: ${new Date().toLocaleString("pt-BR")}

 Por favor, acesse o Firebase Console e verifique se  necessrio limpar alguma collection.

 console.firebase.google.com`);window.open(`https://wa.me/5577999226268?text=${S}`,"_blank"),alert(` Solicitao enviada!

O administrador ir verificar e limpar os dados pelo Firebase se necessrio.`),t()},className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg flex items-center justify-center gap-2",children:" Solicitar Limpeza via WhatsApp"})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:t,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg",children:" SAIR (RECOMENDADO)"}),f.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 bg-slate-200 hover:bg-rose-600 hover:text-white text-slate-600 font-black text-sm uppercase rounded-2xl transition-all",children:"Continuar mesmo assim"})]})]})]})}),f.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-100 w-full max-w-xl shadow-2xl overflow-hidden relative",children:[f.jsxs("div",{className:"bg-slate-900 p-6 text-white flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-rose-600 flex items-center justify-center text-white shadow-lg shadow-rose-900/40",children:f.jsx(G7,{size:16})}),f.jsx("span",{className:"text-[10px] font-black tracking-widest uppercase",children:"Autorizao de Nvel 05"})]}),f.jsxs("div",{className:"flex gap-1.5 translate-x-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"})]})]}),f.jsx("div",{className:"p-10 md:p-16",children:s===1?f.jsxs("div",{className:"space-y-10",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 mb-2",children:["Zona de ",f.jsx("span",{className:"text-rose-600",children:"Perigo"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Protocolo de Expurgo FG-CORE"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"rounded-[32px] border border-rose-100 p-8 bg-rose-50/20",children:[f.jsx("label",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-4 block px-1",children:"Dados a Apagar"}),f.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Lotes Ativos"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Estoque Frio"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Histrico de Vendas"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Fluxo Financeiro"]})]})]}),f.jsxs("div",{className:"rounded-[32px] border border-emerald-100 p-8 bg-emerald-50/20",children:[f.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-4 block px-1",children:"Dados Preservados"}),f.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Clientes"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Fornecedores"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Contas e Bancos"]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>l(2),className:"w-full btn-modern bg-white border border-rose-100 text-rose-600 py-4 rounded-2xl hover:bg-rose-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[f.jsx(Zf,{size:16})," Protocolo de Expurgo"]}),f.jsxs("button",{onClick:y,className:"w-full btn-modern bg-white border border-blue-100 text-blue-600 py-4 rounded-2xl hover:bg-blue-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[f.jsx(l1,{size:16})," Limpar Dados de Teste"]}),f.jsxs("div",{className:"relative py-4",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-slate-100"})}),f.jsx("div",{className:"relative flex justify-center text-[8px] font-black uppercase text-slate-300 bg-white px-4 tracking-[0.4em]",children:"Ou"})]}),f.jsxs("button",{onClick:N,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-[0.2em]",children:[f.jsx(OW,{size:20,className:"text-blue-400"})," Simular Cenrio de Guerra"]}),f.jsxs("button",{onClick:t,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Ta,{size:12})," Abortar e Voltar"]})]})]}):f.jsxs("div",{className:"space-y-10 animate-reveal",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:f.jsx(lT,{size:32})}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4",children:"Confirmao de Segurana Requerida"}),f.jsx("div",{className:"bg-slate-50 border border-slate-100 p-4 rounded-2xl font-black text-slate-900 uppercase tracking-widest mb-8 text-sm",children:'"ZERAR SISTEMA"'}),f.jsx("input",{value:c,onChange:S=>d(S.target.value),className:"modern-input h-16 text-center font-black text-2xl uppercase",placeholder:"DIGITAR CADEIA"})]}),i?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Na,{className:"animate-spin text-rose-600 mx-auto mb-6",size:48}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:g,disabled:c!=="ZERAR SISTEMA",className:"w-full btn-modern bg-rose-600 text-white py-6 rounded-2xl hover:bg-slate-900 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-rose-900/30",children:[f.jsx(gs,{size:20})," Confirmar Expurgo"]}),f.jsx("button",{onClick:()=>l(1),disabled:i,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors",children:" Voltar ao Incio"})]})]})})]})]})},VAe=({suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r,onBack:i})=>{const[a,s]=be.useState(""),[l,c]=be.useState(!1),[d,h]=be.useState({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}),[m,g]=be.useState(null),[y,N]=be.useState(!1),[S,A]=be.useState(null),C=t.filter(L=>L.nome_fantasia.toLowerCase().includes(a.toLowerCase())||L.cpf_cnpj.includes(a)).sort((L,z)=>L.nome_fantasia.localeCompare(z.nome_fantasia)),I=L=>{L.preventDefault(),d.nome_fantasia&&(e({...d,id:Date.now().toString()}),c(!1),h({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}))},k=L=>{L.preventDefault(),S&&n&&(n(S),g(S),N(!1))},B=L=>`https://wa.me/55${L.replace(/\D/g,"")}`;return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:f.jsx(Fd,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",f.jsx("span",{className:"text-indigo-600",children:"Fornecedores"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Unidade de Cadeia de Suprimentos / ID-SUP"})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[f.jsxs("div",{className:"relative group w-full sm:w-80",children:[f.jsx(gm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),f.jsx("input",{type:"text",placeholder:"Buscar parceiro ou documento...",className:"modern-input pl-12 bg-white",value:a,onChange:L=>s(L.target.value)})]}),f.jsxs("button",{onClick:()=>c(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[f.jsx(Y7,{size:18})," Novo Fornecedor"]})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Origem / Parceiro"}),f.jsx("th",{className:"hidden md:table-cell",children:"Documentao"}),f.jsx("th",{className:"hidden sm:table-cell",children:"Geolocalizao"}),f.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),f.jsx("th",{className:"w-32 text-center",children:"Operaes"})]})}),f.jsx("tbody",{children:C.map(L=>f.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group",children:[f.jsx("td",{children:f.jsxs("div",{onClick:()=>{g(L),N(!1)},className:"cursor-pointer",children:[f.jsx("p",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:L.nome_fantasia}),L.cpf_cnpj&&f.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:L.cpf_cnpj})]})}),f.jsx("td",{className:"hidden md:table-cell",children:f.jsx("div",{className:"flex flex-col text-[10px] font-bold text-slate-500 uppercase",children:f.jsxs("span",{children:["IE: ",L.inscricao_estadual||"ISENTO"]})})}),f.jsx("td",{className:"hidden sm:table-cell",children:L.cidade?f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[f.jsx(c1,{size:12,className:"text-indigo-500"})," ",L.cidade," - ",L.estado]}),f.jsx("span",{className:"text-[10px] text-gray-400",children:L.endereco})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO MAPEADO"})}),f.jsx("td",{className:"hidden sm:table-cell",children:L.telefone?f.jsxs("div",{className:"flex flex-col",children:[f.jsx("p",{className:"text-xs font-bold text-gray-700",children:L.telefone}),f.jsx("a",{href:B(L.telefone),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),f.jsx("td",{className:"text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx("button",{onClick:()=>{g(L),N(!1)},className:"p-2 text-gray-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Ver Detalhes",children:f.jsx(Ou,{size:20})}),f.jsx("button",{onClick:z=>{z.stopPropagation(),confirm("Confirmar excluso de registro?")&&r(L.id)},className:"p-2 text-gray-200 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",title:"Excluir",children:f.jsx(Zf,{size:18})})]})})]},L.id))})]})})}),l&&f.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[f.jsxs("div",{className:"bg-indigo-600 p-8 text-white flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Registro de Parceiro"}),f.jsx("p",{className:"text-[10px] text-indigo-100 font-bold uppercase tracking-widest mt-1",children:"Buffer de Entrada / SUP-01"})]}),f.jsx("button",{onClick:()=>c(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:f.jsx(Ac,{size:20})})]}),f.jsxs("form",{onSubmit:I,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:f.jsxs("div",{className:"md:col-span-12 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Nome Social da Entidade / Fazenda"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: FAZENDA BOI GORDO",value:d.nome_fantasia,onChange:L=>h({...d,nome_fantasia:L.target.value.toUpperCase()})})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"CPF / CNPJ"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:d.cpf_cnpj,onChange:L=>h({...d,cpf_cnpj:L.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Ins. Estadual"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"IE Number",value:d.inscricao_estadual,onChange:L=>h({...d,inscricao_estadual:L.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Contato Principal"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:d.telefone,onChange:L=>h({...d,telefone:L.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4",children:[f.jsxs("div",{className:"md:col-span-8 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Endereo Fiscal / Operacional"}),f.jsx("input",{type:"text",className:"modern-input",value:d.endereco,onChange:L=>h({...d,endereco:L.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"md:col-span-4 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Cidade / UF"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"CIDADE - UF",value:d.cidade,onChange:L=>h({...d,cidade:L.target.value.toUpperCase()})})]})]}),f.jsxs("div",{className:"pt-4 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / PIX"}),f.jsx("textarea",{className:"modern-input bg-emerald-50 border-emerald-100 font-mono text-xs h-32 resize-none",placeholder:"BANCO / AGNCIA / CONTA / CHAVE PIX",value:d.dados_bancarios,onChange:L=>h({...d,dados_bancarios:L.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[f.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-indigo-600 hover:bg-indigo-700",children:"Confirmar Registro"})]})]})]})}),m&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[f.jsxs("div",{className:`p-8 flex justify-between items-center ${y?"bg-amber-50":"bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 shadow-sm border border-slate-100",children:f.jsx(Fd,{size:32})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:y?"Editor de Fornecedor":m.nome_fantasia}),f.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:y?"Protocolo de Alterao Master":`Registro Industrial #${m.cpf_cnpj||"---"}`})]})]}),f.jsx("button",{onClick:()=>g(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:f.jsx(Ac,{size:24})})]}),f.jsx("div",{className:"p-10 overflow-y-auto bg-white flex-1",children:y?f.jsxs("form",{id:"edit-form",onSubmit:k,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Identificao / Razo Social"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(S==null?void 0:S.nome_fantasia)||"",onChange:L=>A(z=>z?{...z,nome_fantasia:L.target.value.toUpperCase()}:null)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Documento"}),f.jsx("input",{type:"text",className:"modern-input",value:(S==null?void 0:S.cpf_cnpj)||"",onChange:L=>A(z=>z?{...z,cpf_cnpj:L.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Insc. Estadual"}),f.jsx("input",{type:"text",className:"modern-input",value:(S==null?void 0:S.inscricao_estadual)||"",onChange:L=>A(z=>z?{...z,inscricao_estadual:L.target.value}:null)})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Telefone"}),f.jsx("input",{type:"text",className:"modern-input",value:(S==null?void 0:S.telefone)||"",onChange:L=>A(z=>z?{...z,telefone:L.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Cidade - UF"}),f.jsx("input",{type:"text",className:"modern-input",value:(S==null?void 0:S.cidade)||"",onChange:L=>A(z=>z?{...z,cidade:L.target.value.toUpperCase()}:null)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Logradouro"}),f.jsx("input",{type:"text",className:"modern-input",value:(S==null?void 0:S.endereco)||"",onChange:L=>A(z=>z?{...z,endereco:L.target.value.toUpperCase()}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / Fluxo Financeiro"}),f.jsx("textarea",{className:"modern-input h-32 resize-none bg-emerald-50 border-emerald-100 font-mono text-xs font-bold text-emerald-900",value:(S==null?void 0:S.dados_bancarios)||"",onChange:L=>A(z=>z?{...z,dados_bancarios:L.target.value.toUpperCase()}:null)})]})]}):f.jsx("div",{className:"space-y-10",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Comunicao e Suporte"}),f.jsxs("div",{children:[f.jsx("a",{href:B(m.telefone),target:"_blank",className:"text-2xl font-extrabold text-slate-900 hover:text-indigo-600 transition-colors block tracking-tight",children:m.telefone||"SEM TELEFONE"}),f.jsx("p",{className:"text-[11px] text-slate-400 font-bold mt-1 uppercase tracking-wider",children:"Canal Primrio WhatsApp"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Dados de Localidade"}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:f.jsx(c1,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight uppercase",children:m.endereco||"Endereo no informado"}),f.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1 tracking-widest",children:[m.cidade," - ",m.estado]})]})]})]})]}),f.jsxs("div",{className:"bg-indigo-50/50 rounded-3xl p-8 border border-indigo-100 flex flex-col h-full",children:[f.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[f.jsx(p1,{size:16})," Liquidao Financeira"]}),f.jsx("div",{className:"font-mono text-xs text-indigo-900 font-bold whitespace-pre-wrap uppercase leading-relaxed h-full overflow-y-auto pr-2",children:m.dados_bancarios||"NENHUM DADO BANCRIO REGISTRADO NO SISTEMA"})]})]})})}),f.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center z-20",children:y?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),f.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-indigo-600 hover:bg-indigo-700 flex items-center gap-2",children:[f.jsx(d1,{size:18})," Salvar Alteraes"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>{A(m),N(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[f.jsx(z7,{size:18})," Substituir Dados"]}),f.jsx("div",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-[0.2em]",children:"ltima Sincronizao: Hoje"})]})})]})})]})},ii=async(t,e,n,r,i)=>{var a;if(!(!gt||!t))try{const s={timestamp:new Date().toISOString(),userId:t.uid||"unknown",userEmail:t.email||"unknown",userName:t.displayName||((a=t.email)==null?void 0:a.split("@")[0])||"Unknown User",action:e,entity:n,details:r,metadata:i||{}};await s1(zn(gt,"audit_logs"),s),console.log(`[AUDIT] ${e} ${n}: ${r}`)}catch(s){console.error("Failed to log action:",s)}},zAe=async(t=100)=>{if(!gt)return[];try{const e=gp(zn(gt,"audit_logs"),w5e("timestamp","desc"),Hz(t));return(await ui(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Failed to fetch audit logs:",e),[]}},D7=({isRecording:t,color:e,stream:n})=>{const r=be.useRef(null),i=be.useRef();return be.useEffect(()=>{if(!t||!n||!r.current)return;const a=new(window.AudioContext||window.webkitAudioContext),s=a.createMediaStreamSource(n),l=a.createAnalyser();l.fftSize=64,s.connect(l);const c=l.frequencyBinCount,d=new Uint8Array(c),h=()=>{const m=r.current;if(!m)return;const g=m.getContext("2d");if(!g)return;const y=m.width,N=m.height;l.getByteFrequencyData(d),g.clearRect(0,0,y,N);const S=y/c*1.5;let A=0;for(let C=0;C<c;C++){const I=d[C]/255*N*.8;g.fillStyle=e,g.fillRect(A,(N-I)/2,S-2,I),A+=S}i.current=requestAnimationFrame(h)};return h(),()=>{i.current&&cancelAnimationFrame(i.current),a.close()}},[t,n,e]),t?f.jsx("canvas",{ref:r,width:300,height:60,className:"w-full h-12 animate-reveal"}):null},$Ae=({onBack:t,onSubmit:e,reports:n=[]})=>{const[r,i]=be.useState("normal"),[a,s]=be.useState(""),[l,c]=be.useState(!1),[d,h]=be.useState(!1),[m,g]=be.useState(null),[y,N]=be.useState(!1),[S,A]=be.useState(!1),[C,I]=be.useState(!1),[k,B]=be.useState(null),[L,z]=be.useState(null),[D,j]=be.useState(null),[V,Y]=be.useState({}),[q,M]=be.useState(0),[F,Q]=be.useState(null),se=be.useRef(null),W=be.useRef([]),ee=be.useRef(null),le=be.useRef(null),xe=async(te,me)=>{if(!j7)throw new Error("Firebase Storage no configurado");const _e=`reports/${Date.now()}_${me}.${te.type.split("/")[1]}`,ie=DAe(j7,_e);Y(Ae=>({...Ae,[me]:!0}));try{const Ae=await jAe(ie,te);return await MAe(Ae.ref)}finally{Y(Ae=>({...Ae,[me]:!1}))}},ve=async te=>{try{const me={audio:!0,video:te==="video"?{facingMode:"user"}:!1},_e=await navigator.mediaDevices.getUserMedia(me);Q(_e),te==="video"&&ee.current&&(ee.current.srcObject=_e);const ie=new MediaRecorder(_e);se.current=ie,W.current=[],ie.ondataavailable=Ae=>{Ae.data.size>0&&W.current.push(Ae.data)},ie.onstop=async()=>{const Ae=te==="video"?"video/webm":"audio/webm",Re=new Blob(W.current,{type:Ae});try{const Se=await xe(Re,te);te==="journey"?B(Se):te==="client"?z(Se):j(Se)}catch(Se){alert("Erro ao salvar no servidor. Tente novamente."),console.error(Se)}_e.getTracks().forEach(Se=>Se.stop()),Q(null),ee.current&&(ee.current.srcObject=null)},ie.start(),M(0),le.current=setInterval(()=>{M(Ae=>Ae+1)},1e3),te==="journey"?N(!0):te==="client"?A(!0):I(!0)}catch{alert("Erro ao acessar cmera/microfone. Verifique as permisses.")}},ce=te=>{se.current&&se.current.state==="recording"&&(se.current.stop(),le.current&&clearInterval(le.current),te==="journey"?N(!1):te==="client"?A(!1):I(!1))},O=te=>{const me=Math.floor(te/60),_e=te%60;return`${me.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`},K=async(te,me)=>{var ie;const _e=(ie=te.target.files)==null?void 0:ie[0];if(_e)try{const Ae=await xe(_e,me);me==="journey"?B(Ae):me==="client"?z(Ae):j(Ae)}catch{alert("Erro ao fazer upload do arquivo.")}},H=async te=>{if(e){h(!0);try{await e({intensity:r,notes:a,type:te,extra_movement:!1,technical_issues:l,audio_url:k||void 0,client_complaint_audio_url:L||void 0,video_url:D||void 0}),g("Sucesso"),s(""),c(!1),i("normal"),B(null),z(null),j(null),setTimeout(()=>g(null),2500)}finally{h(!1)}}},Z=[...n].sort((te,me)=>me.timestamp.localeCompare(te.timestamp));return m?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-emerald-50 flex items-center justify-center p-8 animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[48px] p-16 text-center shadow-[0_32px_64px_-16px_rgba(251,191,36,0.2)] max-w-sm w-full border border-yellow-100",children:[f.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-emerald-400 to-teal-500 text-white rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-emerald-200",children:f.jsx(xu,{size:56})}),f.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2 italic",children:"Tudo Certo!"}),f.jsx("p",{className:"text-[11px] font-bold text-emerald-600 uppercase tracking-widest mt-4",children:"Sua jornada multimdia foi registrada "})]})}):f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-gradient-to-b from-slate-50 to-orange-50/30 technical-grid animate-reveal pb-40 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-8",children:[f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-3 px-6 py-2 bg-white/80 backdrop-blur-md border border-amber-100 rounded-full text-[10px] font-black text-amber-600 uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Incio"]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"bg-gradient-to-tr from-amber-400 to-orange-500 p-4 rounded-[28px] text-white shadow-2xl shadow-orange-200 hover:rotate-6 transition-transform",children:f.jsx($H,{size:32})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-800 leading-none",children:["Meu Dirio de ",f.jsx("span",{className:"text-orange-500 italic",children:"Jornada"})]}),f.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em] mt-2",children:"Registro Multimdia & Energia"})]})]})]}),f.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-[10px] font-black uppercase tracking-widest shadow-xl shadow-blue-200 border-none",children:"Operador Oficial"})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[f.jsx("div",{className:"lg:col-span-12 xl:col-span-5 space-y-10",children:f.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-2xl shadow-orange-100/50 space-y-12 border border-white",children:[f.jsxs("div",{className:"space-y-5",children:[f.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(Na,{size:14,className:"text-emerald-500"})," Como est a operao?"]}),f.jsxs("div",{className:"flex p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:[f.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"text-slate-400 hover:text-emerald-600":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg"}`,children:"Tudo Perfeito"}),f.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"bg-gradient-to-r from-rose-500 to-orange-600 text-white shadow-lg":"text-slate-400 hover:text-rose-600"}`,children:"Houve Falhas"})]})]}),f.jsxs("div",{className:"space-y-5 p-8 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50",children:[f.jsxs("label",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(uR,{size:14})," Registro em Vdeo (Opcional)"]}),C&&f.jsx("div",{className:"rounded-2xl overflow-hidden bg-black aspect-video mb-4 shadow-inner",children:f.jsx("video",{ref:ee,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex flex-col gap-4",children:[C&&f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-indigo-900 rounded-2xl animate-pulse",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-2.5 h-2.5 bg-rose-500 rounded-full animate-ping"}),f.jsx("span",{className:"font-mono text-xs font-bold text-indigo-100 uppercase tracking-widest",children:"Gravando"})]}),f.jsx("span",{className:"font-mono text-sm font-black text-white",children:O(q)})]}),D?f.jsxs("div",{className:"flex-1 space-y-4",children:[f.jsx("video",{src:D,controls:!0,className:"w-full rounded-2xl shadow-lg"}),f.jsxs("button",{onClick:()=>j(null),className:"w-full py-3 rounded-xl bg-orange-50 text-orange-600 text-[10px] font-black uppercase tracking-widest hover:bg-orange-100 flex items-center justify-center gap-2",children:[f.jsx(gs,{size:14})," Trocar Vdeo"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{disabled:V.video,onClick:()=>C?ce("video"):ve("video"),className:`flex-1 min-w-[150px] py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${C?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white shadow-xl shadow-indigo-100"} ${V.video?"opacity-50 cursor-not-allowed":""}`,children:[V.video?f.jsx(Sp,{className:"animate-spin",size:18}):C?f.jsx(XW,{size:18}):f.jsx(uR,{size:18}),V.video?"Salvando...":C?"Parar Vdeo":"Gravar Vdeo"]}),!C&&f.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-indigo-100 text-indigo-600 hover:bg-indigo-50 transition-all ${V.video?"opacity-50":""}`,children:[f.jsx(zg,{size:18}),f.jsx("input",{disabled:V.video,type:"file",accept:"video/*",className:"hidden",onChange:te=>K(te,"video")}),f.jsx("span",{className:"ml-2 text-[10px] font-black uppercase tracking-widest",children:"Upload"})]})]})]})]}),f.jsxs("div",{className:"space-y-5 p-8 bg-blue-50/50 rounded-[32px] border border-blue-100/50",children:[f.jsxs("label",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(Sd,{size:14})," Relato da Jornada (udio)"]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[y&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-blue-600 uppercase tracking-widest",children:[f.jsx("span",{children:"Captao Ativa"}),f.jsx("span",{children:O(q)})]}),f.jsx("div",{className:"bg-blue-100/30 rounded-2xl p-4 border border-blue-200/50",children:f.jsx(D7,{isRecording:y,color:"#2563eb",stream:F})})]}),k?f.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[f.jsx("audio",{src:k,controls:!0,className:"flex-1 h-12"}),f.jsx("button",{onClick:()=>B(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:f.jsx(Sd,{size:18})})]}):f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{disabled:V.journey,onClick:()=>y?ce("journey"):ve("journey"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${y?"bg-rose-500 text-white animate-pulse":"bg-blue-600 text-white shadow-xl shadow-blue-100"} ${V.journey?"opacity-50 cursor-not-allowed":""}`,children:[V.journey?f.jsx(Sp,{className:"animate-spin",size:18}):y?f.jsx(eW,{size:18}):f.jsx(Sd,{size:18}),V.journey?"Salvando...":y?"Parar Gravao":"Gravar udio"]}),!y&&f.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-blue-100 text-blue-600 hover:bg-blue-50 transition-all ${V.journey?"opacity-50":""}`,children:[f.jsx(zg,{size:18}),f.jsx("input",{disabled:V.journey,type:"file",accept:"audio/*",className:"hidden",onChange:te=>K(te,"journey")})]})]})]})]}),f.jsxs("div",{className:"space-y-5 p-8 bg-rose-50/50 rounded-[32px] border border-rose-100/50",children:[f.jsxs("label",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(Up,{size:14})," Reclamao de Cliente (udio)"]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[S&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-rose-600 uppercase tracking-widest",children:[f.jsx("span",{children:"Relato Crtico"}),f.jsx("span",{children:O(q)})]}),f.jsx("div",{className:"bg-rose-100/30 rounded-2xl p-4 border border-rose-200/50",children:f.jsx(D7,{isRecording:S,color:"#e11d48",stream:F})})]}),L?f.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[f.jsx("audio",{src:L,controls:!0,className:"flex-1 h-12"}),f.jsx("button",{onClick:()=>z(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:f.jsx(Sd,{size:18})})]}):f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{disabled:V.client,onClick:()=>S?ce("client"):ve("client"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${S?"bg-rose-600 text-white animate-pulse shadow-xl shadow-rose-200":"bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50"} ${V.client?"opacity-50 cursor-not-allowed":""}`,children:[V.client?f.jsx(Sp,{className:"animate-spin",size:18}):S?f.jsx(d1,{size:18}):f.jsx(Sd,{size:18}),V.client?"Salvando...":S?"Parar Cliente":"Gravar Cliente"]}),!S&&f.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50 transition-all ${V.client?"opacity-50":""}`,children:[f.jsx(zg,{size:18}),f.jsx("input",{disabled:V.client,type:"file",accept:"audio/*",className:"hidden",onChange:te=>K(te,"client")})]})]})]})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(gs,{size:14,className:"text-amber-500"})," Ritmo de Trabalho"]}),f.jsx("div",{className:"grid grid-cols-3 p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:["tranquilo","normal","intenso"].map(te=>f.jsx("button",{onClick:()=>i(te),className:`py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${r===te?te==="tranquilo"?"bg-emerald-500 text-white shadow-lg shadow-emerald-100":te==="normal"?"bg-amber-500 text-white shadow-lg shadow-amber-100":"bg-orange-600 text-white shadow-lg shadow-orange-100":"text-slate-400 hover:bg-white/50"}`,children:te==="tranquilo"?"Leve":te==="normal"?"Normal":"Intenso"},te))})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsx("div",{className:"flex justify-between items-center px-2",children:f.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Observaes (Texto Opcional)"})}),f.jsx("div",{className:"relative",children:f.jsx("textarea",{value:a,onChange:te=>s(te.target.value),className:"w-full h-40 p-8 rounded-[32px] font-bold text-slate-700 bg-slate-50/50 border-2 border-slate-100 outline-none transition-all placeholder:text-slate-300 focus:border-amber-400 focus:bg-white focus:shadow-xl focus:shadow-amber-100/50",placeholder:"Caso queira escrever algo mais..."})})]}),f.jsx("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:f.jsxs("button",{onClick:()=>H("RELATORIO"),disabled:d,className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500 text-white py-5 rounded-[24px] hover:shadow-2xl hover:shadow-orange-200 transition-all font-black text-[11px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95",children:[d?f.jsx(Na,{size:18,className:"animate-spin"}):f.jsx(d1,{size:18})," Enviar Jornada Completa "]})})]})}),f.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-8",children:[f.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] px-2 flex items-center gap-3",children:[f.jsx(Wd,{size:18,className:"text-orange-500"})," Histrico Operacional"]}),f.jsx("div",{className:"grid grid-cols-1 gap-6",children:Z.length===0?f.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[48px] border-2 border-dashed border-slate-100 shadow-sm",children:[f.jsx(gs,{size:80,className:"mb-6 text-amber-100"}),f.jsx("p",{className:"text-[11px] font-black uppercase text-slate-300 tracking-[0.4em]",children:"Aguardando primeiro registro multimdia"})]}):Z.map(te=>f.jsxs("div",{className:"bg-white rounded-[32px] p-8 flex flex-col gap-6 shadow-xl shadow-slate-100 border-l-[8px] border-amber-400 hover:border-orange-500 transition-all hover:-translate-x-1 group",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 text-slate-400 flex items-center justify-center group-hover:from-orange-500 group-hover:to-orange-600 group-hover:text-white transition-all shadow-sm",children:f.jsx(Bp,{size:20})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-black text-slate-800 uppercase text-[11px] tracking-tight",children:te.userName||"Operador Feliz"}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx("span",{className:`text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${te.type==="RECLAMACAO"?"bg-orange-100 text-orange-600":"bg-emerald-100 text-emerald-600"}`,children:te.type==="RECLAMACAO"?"Ocorrncia":"Tudo Ok"}),f.jsx("span",{className:"text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest bg-blue-50 text-blue-500",children:te.intensity.toUpperCase()})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[11px] font-black text-slate-700",children:new Date(te.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),f.jsx("p",{className:"text-[9px] font-bold text-slate-300 uppercase",children:new Date(te.timestamp).toLocaleDateString()})]})]}),f.jsxs("div",{className:"space-y-4",children:[te.video_url&&f.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-indigo-100",children:f.jsx("video",{src:te.video_url,controls:!0,className:"w-full"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[te.audio_url&&f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100/50",children:[f.jsx(Sd,{size:14,className:"text-blue-500"}),f.jsx("audio",{src:te.audio_url,controls:!0,className:"flex-1 h-8"})]}),te.client_complaint_audio_url&&f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-rose-50 rounded-2xl border border-rose-100/50",children:[f.jsx(Up,{size:14,className:"text-rose-500"}),f.jsx("audio",{src:te.client_complaint_audio_url,controls:!0,className:"flex-1 h-8"})]})]})]}),te.notes&&f.jsx("div",{className:"p-6 bg-slate-50/50 rounded-2xl border border-slate-100",children:f.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',te.notes,'"']})})]},te.id))})]})]})]})},HAe=({onBack:t,onAddOrder:e,existingOrders:n})=>{const[r,i]=be.useState(new Date(Date.now()+864e5).toISOString().split("T")[0]),[a,s]=be.useState(""),[l,c]=be.useState(""),[d,h]=be.useState(""),[m,g]=be.useState(""),[y,N]=be.useState(!1),S=25,A=n.filter(z=>z.data_entrega===r&&z.status!=="CANCELADO"),C=A.reduce((z,D)=>{const j=D.itens.match(/(\d+)/);return z+(j?parseInt(j[0]):1)},0),I=Math.max(0,S-C),k=Math.min(100,C/S*100),B=()=>{if(!a||!d)return;const z=`Quero confirmar o agendamento de ${d} novilhas para o abate dia ${new Date(r).toLocaleDateString()}`;g(`https://wa.me/55${a.replace(/\D/g,"")}?text=${encodeURIComponent(z)}`)},L=async()=>{if(!(!e||!l||!d)){N(!0);try{await e({id:`ORD-${Date.now()}`,id_cliente:"TEMP-"+Date.now(),nome_cliente:l,data_entrega:r,hora_entrega:"08:00",itens:`${d} Novilhas (Agendamento Rpido)`,status:"CONFIRMADO",data_criacao:new Date().toISOString(),alerta_madrugada:!1}),c(""),h(""),g("")}finally{N(!1)}}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-red-700 hover:border-red-100 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-rose-600 p-3 rounded-2xl text-white shadow-xl shadow-rose-100",children:f.jsx(Na,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controle de ",f.jsx("span",{className:"text-rose-600",children:"Abate"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento e Escala / ID-ABT"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center",children:f.jsx(Z0,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Escala para o dia"}),f.jsx("input",{type:"date",value:r,onChange:z=>i(z.target.value),className:"text-sm font-bold text-slate-900 outline-none bg-transparent cursor-pointer"})]})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[f.jsxs("div",{className:"lg:col-span-12 xl:col-span-5 space-y-8",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative shadow-2xl overflow-hidden min-h-[300px] flex flex-col justify-center",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:f.jsx(gs,{size:200})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] mb-4",children:"Vagas Disponveis no Lote"}),f.jsx("h2",{className:"text-8xl font-black tracking-tighter text-blue-400",children:I}),f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mt-2",children:"Novilhas por alocar"})]}),f.jsx("div",{className:"mt-12 bg-white/5 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 shadow-[0_0_15px_rgba(59,130,246,0.5)]",style:{width:`${k}%`}})}),f.jsxs("div",{className:"flex justify-between mt-4 text-[10px] font-black uppercase tracking-widest",children:[f.jsxs("span",{className:"text-blue-400",children:[C," Alocadas"]}),f.jsxs("span",{className:"text-slate-500",children:[S," Limite Dirio"]})]})]}),f.jsxs("div",{className:"premium-card p-8",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[f.jsx(J7,{size:16,className:"text-rose-600"})," Parceiros Confirmados"]}),f.jsx("div",{className:"grid grid-cols-1 gap-3",children:A.length===0?f.jsx("div",{className:"py-12 flex flex-col items-center justify-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-100",children:f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})}):A.map(z=>f.jsxs("div",{className:"p-4 rounded-2xl bg-white border border-slate-50 flex justify-between items-center group hover:border-rose-100 transition-all shadow-sm",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-extrabold text-slate-900 uppercase text-sm",children:z.nome_cliente}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5",children:z.itens})]}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:f.jsx(o1,{size:14})})]},z.id))})]}),f.jsxs("div",{className:"premium-card p-8 bg-blue-600 text-white border-none shadow-xl shadow-blue-200",children:[f.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(gs,{size:16})," Manual do Colaborador"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"1"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Selecione a **DATA DO ABATE** no topo da tela."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"2"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Verifique o painel **VAGAS DISPONVEIS**. Limite: 25 cabeas/dia."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"3"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Insira o nome do produtor e a quantidade. Clique em **CRIAR LINK**."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"4"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Envie o link via WhatsApp para o produtor confirmar a entrega."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"5"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Aps a resposta dele, clique em **VALIDAR NO SISTEMA** para reservar a vaga."})]})]})]})]}),f.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 premium-card overflow-hidden h-full",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex items-center gap-4 text-white",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center",children:f.jsx(i0,{size:20})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-black uppercase tracking-tight text-lg",children:"Agendamento Remoto"}),f.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:"Terminal via Web/Whatsapp"})]})]}),f.jsxs("div",{className:"p-10 space-y-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block px-1",children:"Seu nmero de Whatsapp"}),f.jsx("input",{type:"text",placeholder:"DDD + Nmero",value:a,onChange:z=>s(z.target.value),className:"modern-input h-14 font-bold text-lg"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Identificador do Parceiro"}),f.jsx("input",{type:"text",placeholder:"Nome ou ID",value:l,onChange:z=>c(z.target.value),className:"modern-input h-14"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Quantidade de Cabeas"}),f.jsx("input",{type:"number",placeholder:"0",value:d,onChange:z=>h(z.target.value===""?"":parseInt(z.target.value)),className:"modern-input h-14 font-black text-lg"})]})]}),f.jsxs("button",{onClick:B,disabled:!a||!d,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all disabled:opacity-20 active:scale-95",children:[f.jsx(BG,{size:18})," Criar Link de Confirmao"]}),m&&f.jsxs("div",{className:"animate-reveal space-y-6 pt-10 border-t border-slate-50",children:[f.jsx("div",{className:"bg-blue-50/50 rounded-2xl border border-blue-100 p-5 font-mono text-[10px] text-blue-600 break-all leading-relaxed shadow-inner",children:m}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center flex items-center justify-center gap-3 shadow-xl shadow-[rgba(37,211,102,0.2)] hover:bg-[#128C7E] transition-all",children:[f.jsx(i0,{size:18})," Enviar Mensagem"]}),f.jsxs("button",{onClick:L,disabled:y,className:"bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl shadow-[rgba(225,29,72,0.2)] hover:bg-slate-900 transition-all",children:[y?f.jsx(Na,{size:18,className:"animate-spin"}):f.jsx(o1,{size:18})," Validar no Sistema"]})]})]})]})]})]})]})},GAe=({onBack:t,clients:e})=>{const[n,r]=be.useState("config"),[i,a]=be.useState([]),[s,l]=be.useState(!1),[c,d]=be.useState(0),[h,m]=be.useState([]),[g,y]=be.useState("selection"),[N]=be.useState([{id:"vendas",name:"BOIADEIRO_DIGITAL",prompt:'Voc  o "Boiadeiro Digital", focado em vendas de gado. Seu tom  rstico e negociador. Use grias do campo.'},{id:"cobranca",name:"AGENTE_COBRANA",prompt:"Voc  um assistente financeiro educado, mas firme. Seu objetivo  lembrar o cliente sobre pagamentos pendentes, oferecendo opes de PIX."},{id:"sac",name:"SUPORTE_FG_CORE",prompt:"Voc  o suporte ao cliente. Tire dvidas sobre entregas e notas fiscais com muita pacincia e educao."}]),[S,A]=be.useState("vendas"),[C,I]=be.useState({price:"R$ 210,00",stock:"500 cabeas",delivery:"3 DIAS TEIS",payment:" VISTA / 30 DIAS"}),[k,B]=be.useState("manual"),[L,z]=be.useState(N[0].prompt);be.useEffect(()=>{var ie;z(((ie=N.find(Ae=>Ae.id===S))==null?void 0:ie.prompt)||"")},[S,N]);const[D,j]=be.useState(""),[V,Y]=be.useState(!1),[q,M]=be.useState({}),[F,Q]=be.useState(null),se=be.useRef(null),W=be.useRef([]),[ee,le]=be.useState([]),[xe,ve]=be.useState(""),[ce,O]=be.useState(!1),[K]=be.useState("6728"),[H]=be.useState("TOKEN_B838"),Z=ie=>{if(S==="vendas"){const Ae=["Fala {nome}, O mercado t subindo, mas eu segurei um lote a {price}.  margem pura. Vamos aproveitar?","{nome}, tenho um gado extra que vai dar um rendimento absurdo. Se eu soltar no grupo acaba em 5 minutos. Posso reservar?","Selecionei um lote hoje padro exportao. Acabamento perfeito. T fazendo preo especial pra parceiros VIPS como voc."];return Ae[Math.floor(Math.random()*Ae.length)].replace("{nome}",ie.toUpperCase()).replace("{price}",C.price)+`

 _OPERACAO_PRIORITARIA_`}return`CONTATO_AUTOMATICO: ${ie.toUpperCase()} - AGUARDANDO_RETORNO`},te=(ie,Ae)=>(window.open(`https://wa.me/${ie.replace(/\D/g,"")}?text=${encodeURIComponent(Ae)}`,"_blank"),!0),me=async ie=>{const Ae=await navigator.mediaDevices.getUserMedia({audio:!0}),Re=new MediaRecorder(Ae);se.current=Re,W.current=[],Re.ondataavailable=Se=>{Se.data.size>0&&W.current.push(Se.data)},Re.onstop=()=>M(Se=>({...Se,[ie]:URL.createObjectURL(new Blob(W.current,{type:"audio/mp3"}))})),Re.start(),Q(ie)},_e=()=>{se.current&&(se.current.stop(),se.current.stream.getTracks().forEach(ie=>ie.stop()),Q(null))};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40 relative group",children:[f.jsx(Rg,{size:28}),f.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agente ",f.jsx("span",{className:"text-blue-600",children:"Cognitivo"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Automao e Inteligncia de Vendas / ID-AI"})]})]})]}),f.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:f.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[{id:"config",icon:AW,label:"Parmetros"},{id:"campaign",icon:K7,label:"Campanha"},{id:"voice",icon:Q7,label:"Voz/Media"},{id:"test",icon:i0,label:"Simular"}].map(ie=>f.jsxs("button",{onClick:()=>r(ie.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${n===ie.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[f.jsx(ie.icon,{size:14})," ",ie.label]},ie.id))})})]}),f.jsxs("div",{className:"max-w-7xl mx-auto",children:[n==="config"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[f.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-50",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(q7,{size:16,className:"text-blue-600"})," Ncleo de Personalidade"]}),f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-10",children:N.map(ie=>f.jsxs("button",{onClick:()=>A(ie.id),className:`p-5 rounded-[24px] border-2 transition-all flex flex-col gap-3 text-left ${S===ie.id?"border-blue-600 bg-blue-50/30":"border-slate-50 bg-slate-50/20 hover:border-slate-200"}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${S===ie.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-slate-200 text-slate-400"}`,children:ie.id==="vendas"?f.jsx(gs,{size:16}):ie.id==="cobranca"?f.jsx(Hf,{size:16}):f.jsx(Na,{size:16})}),f.jsxs("div",{children:[f.jsx("h4",{className:`font-black text-[10px] uppercase tracking-tighter ${S===ie.id?"text-blue-600":"text-slate-400"}`,children:ie.id}),f.jsx("p",{className:`font-bold text-xs ${S===ie.id?"text-slate-900":"text-slate-400"}`,children:ie.name})]})]},ie.id))}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Instrues de Sistema (Prompt)"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-4 left-4 text-blue-500 opacity-20",children:f.jsx(lR,{size:20})}),f.jsx("textarea",{value:L,onChange:ie=>z(ie.target.value),className:"w-full h-40 modern-input p-10 font-medium text-slate-700 bg-slate-50/50"})]})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx(TG,{size:16,className:"text-blue-600"})," Protocolo de Conexo"]}),f.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100 mb-8",children:[f.jsx("button",{onClick:()=>B("manual"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${k==="manual"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Disparo Individual (WA)"}),f.jsx("button",{onClick:()=>B("auto"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${k==="auto"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Z-API Automtico"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Instncia ID"}),f.jsx("input",{type:"text",placeholder:"i.e. 6728",className:"modern-input h-12 text-sm bg-slate-50/30"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Token de Acesso"}),f.jsx("input",{type:"password",placeholder:"",className:"modern-input h-12 text-sm bg-slate-50/30"})]})]})]})]}),f.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:f.jsx(W7,{size:120})}),f.jsx("h3",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-10",children:"Base de Conhecimento Dinmica"}),f.jsx("div",{className:"space-y-8 relative z-10",children:[{l:"Preo de Referncia (Arroba)",v:C.price,k:"price",icon:Hf},{l:"Capacidade em Estoque",v:C.stock,k:"stock",icon:dh},{l:"Prazo Logstico Mdio",v:C.delivery,k:"delivery",icon:Z0},{l:"Flexibilidade de Pagamento",v:C.payment,k:"payment",icon:Na}].map(ie=>f.jsxs("div",{className:"group/item",children:[f.jsxs("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest block mb-2 px-1 flex items-center gap-2",children:[f.jsx(ie.icon,{size:10,className:"text-blue-500"})," ",ie.l]}),f.jsx("input",{type:"text",value:ie.v,onChange:Ae=>I({...C,[ie.k]:Ae.target.value}),className:"bg-white/5 border-none w-full px-4 py-3 rounded-xl font-black text-blue-400 uppercase italic tracking-tighter outline-none focus:bg-white/10 transition-all border border-white/5"})]},ie.k))})]}),f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx(VS,{size:16,className:"text-blue-600"})," Ativos Visuais (Mdia)"]}),f.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[32px] p-12 text-center relative group hover:border-blue-600 transition-all bg-slate-50/30",children:[f.jsx("input",{type:"file",onChange:ie=>{ie.target.files&&(Y(!0),setTimeout(()=>{j("https://fg-media.cloud/temp_001.mp4"),Y(!1)},1500))},className:"absolute inset-0 opacity-0 cursor-pointer"}),f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-6 text-slate-400 group-hover:scale-110 group-hover:text-blue-600 transition-all",children:f.jsx(zg,{size:28})}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:V?"Processando arquivo...":"Arraste uma foto ou vdeo para a campanha"})]}),D&&f.jsxs("div",{className:"mt-6 bg-blue-50 rounded-2xl p-4 flex justify-between items-center border border-blue-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white",children:f.jsx(VS,{size:14})}),f.jsx("span",{className:"text-[10px] font-black text-blue-700 truncate max-w-[200px]",children:D})]}),f.jsx("button",{onClick:()=>j(""),className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:f.jsx(Ac,{size:14})})]})]})]})]}),n==="campaign"&&f.jsx("div",{className:"animate-reveal max-w-7xl mx-auto",children:g==="selection"?f.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Seleo de Alvos Ativos"}),f.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:["Sincronizando com Base CRM (",e.length," entidades detectadas)"]})]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Entidades Selecionadas"}),f.jsx("p",{className:"text-2xl font-black text-blue-400 leading-none",children:i.length})]}),f.jsxs("button",{disabled:i.length===0,onClick:()=>{m(i.map(ie=>{var Ae;return{clientId:ie,client:e.find(Re=>Re.id_ferro===ie),status:"pending",message:Z(((Ae=e.find(Re=>Re.id_ferro===ie))==null?void 0:Ae.nome_social)||"NONE")}})),y("review")},className:"btn-modern bg-blue-600 text-white px-8 py-4 rounded-2xl hover:bg-blue-500 gap-3 shadow-xl shadow-blue-900/40 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-widest",children:["Iniciar Campanha ",f.jsx(Ou,{size:18})]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-16 text-center",children:f.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg accent-blue-600",onChange:ie=>a(ie.target.checked?e.map(Ae=>Ae.id_ferro):[]),checked:i.length===e.length&&e.length>0})}),f.jsx("th",{children:"Parceiro de Negcios"}),f.jsx("th",{children:"Protocolo ID"}),f.jsx("th",{children:"Contato Digital"}),f.jsx("th",{className:"text-center",children:"Vnculo"})]})}),f.jsx("tbody",{children:e.map(ie=>f.jsxs("tr",{onClick:()=>{const Ae=new Set(i);Ae.has(ie.id_ferro)?Ae.delete(ie.id_ferro):Ae.add(ie.id_ferro),a(Array.from(Ae))},className:`cursor-pointer transition-colors ${i.includes(ie.id_ferro)?"bg-blue-50/30":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:"text-center",children:f.jsx("div",{className:`w-6 h-6 mx-auto rounded-lg border-2 flex items-center justify-center transition-all ${i.includes(ie.id_ferro)?"bg-blue-600 border-blue-600 text-white shadow-lg":"bg-white border-slate-200"}`,children:i.includes(ie.id_ferro)&&f.jsx(xu,{size:14})})}),f.jsx("td",{className:"font-extrabold text-slate-900 uppercase text-xs",children:ie.nome_social}),f.jsxs("td",{className:"font-mono text-[10px] text-slate-400",children:["# ",ie.id_ferro]}),f.jsx("td",{className:"font-black text-slate-900 text-[11px]",children:ie.whatsapp||"SEM_DADO"}),f.jsx("td",{className:"text-center",children:f.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${ie.whatsapp?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-300 border-slate-100"}`,children:ie.whatsapp?"Online":"Offline"})})]},ie.id_ferro))})]})})]}):f.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-8 text-white flex flex-col md:flex-row justify-between items-center shadow-2xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-emerald-500 to-rose-500 animate-gradient-x"}),f.jsxs("button",{onClick:()=>y("selection"),className:"flex items-center gap-2 text-[10px] font-black uppercase text-slate-500 hover:text-white transition-colors mb-4 md:mb-0",children:[f.jsx(Ta,{size:14})," Voltar  Seleo"]}),f.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Reviso do Manifesto IA"}),f.jsx("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10",children:f.jsxs("span",{className:"text-[10px] font-black text-blue-400",children:[h.filter(ie=>ie.status==="sent").length," / ",h.length," ENTREGUES"]})})]}),f.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.map((ie,Ae)=>{var Re,Se,We;return f.jsxs("div",{className:`premium-card p-8 group transition-all ${ie.status==="sent"?"opacity-50 grayscale bg-slate-50/50 cursor-default":"bg-white hover:border-blue-200"}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg ${ie.status==="sent"?"bg-emerald-600 text-white":"bg-blue-600 text-white shadow-lg shadow-blue-900/30"}`,children:ie.status==="sent"?f.jsx(xu,{size:24}):(Re=ie.client)==null?void 0:Re.nome_social.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:(Se=ie.client)==null?void 0:Se.nome_social}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:((We=ie.client)==null?void 0:We.whatsapp)||"PEND_CONNECTION"})]})]}),f.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[f.jsx("button",{onClick:()=>{var ge;const tt=[...h];tt[Ae].message=Z(((ge=ie.client)==null?void 0:ge.nome_social)||""),m(tt)},className:"w-12 h-12 rounded-2xl bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shrink-0 shadow-sm",children:f.jsx(H7,{size:18})}),f.jsx("button",{disabled:ie.status==="sent",onClick:()=>{var ge;te(((ge=ie.client)==null?void 0:ge.whatsapp)||"",ie.message);const tt=[...h];tt[Ae].status="sent",m(tt)},className:"flex-1 md:flex-none btn-modern bg-slate-900 text-white px-8 py-3.5 rounded-2xl hover:bg-emerald-600 shadow-xl gap-3 text-xs",children:ie.status==="sent"?"Mensagem Entregue":f.jsxs(f.Fragment,{children:[f.jsx(iR,{size:16})," Enviar agora"]})})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:f.jsx(i0,{size:18})}),f.jsx("textarea",{disabled:ie.status==="sent",value:ie.message,onChange:tt=>{const ge=[...h];ge[Ae].message=tt.target.value,m(ge)},className:"w-full h-32 modern-input p-10 font-medium text-slate-700 bg-slate-50/30"})]})]},Ae)})})]})}),n==="voice"&&f.jsx("div",{className:"animate-reveal max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[{id:"saudacao",l:"Abertura / Saudao",d:"Primeiro contato cognitivo",icon:Sd},{id:"preco",l:"Fluxo de Negociao",d:"Defesa de margens e preos",icon:Hf},{id:"qualidade",l:"Engajamento Tcnico",d:"Rendimento e qualidade de carcaa",icon:Na},{id:"fechamento",l:"Commit de Reserva",d:"Confirmao de abate/compra",icon:kl}].map(ie=>f.jsxs("div",{className:"premium-card p-10 group bg-white",children:[f.jsxs("div",{className:"flex justify-between items-start mb-10",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 text-slate-400 flex items-center justify-center transition-all group-hover:bg-blue-600 group-hover:text-white group-hover:scale-110 shadow-sm",children:f.jsx(ie.icon,{size:28})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight uppercase",children:ie.l}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase mt-0.5",children:ie.d})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[F===ie.id?f.jsx("button",{onClick:_e,className:"flex-1 bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 animate-pulse shadow-xl shadow-rose-900/20",children:"Parar Gravao"}):f.jsx("button",{onClick:()=>me(ie.id),className:"flex-1 bg-white border-2 border-slate-100 text-slate-600 py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all flex items-center justify-center gap-3 shadow-sm",children:"Iniciar Captura"}),q[ie.id]&&f.jsx("button",{onClick:()=>new Audio(q[ie.id]).play(),className:"w-20 h-[68px] rounded-2xl bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 transition-all shadow-xl shadow-slate-900/20",children:f.jsx(rR,{size:24,fill:"currentColor"})})]}),q[ie.id]&&f.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),f.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Ativo Digitalizado"})]})]},ie.id))}),n==="test"&&f.jsxs("div",{className:"animate-reveal max-w-4xl mx-auto h-[800px] flex flex-col bg-white rounded-[48px] shadow-2xl border border-slate-100 overflow-hidden relative",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white relative",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-600/30"}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-900/40",children:f.jsx(Rg,{size:20})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Debug de Simulao"}),f.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Interface Terminal v2.5 / Session Active"})]})]}),f.jsxs("div",{className:"flex gap-1.5 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),f.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Sinc"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 flex flex-col bg-slate-50/30 no-scrollbar",children:[ee.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-05 py-32",children:[f.jsx(Rg,{size:160,className:"text-slate-900"}),f.jsx("p",{className:"mt-8 text-xs font-black uppercase tracking-[0.8em] text-slate-900",children:"Aguardando Input"})]}):ee.map((ie,Ae)=>f.jsx("div",{className:`flex ${ie.role==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`p-6 rounded-[32px] max-w-[85%] shadow-sm ${ie.role==="user"?"bg-white text-slate-900 border border-slate-100 font-medium":"bg-slate-900 text-blue-50 font-medium shadow-xl shadow-slate-900/20"}`,children:[f.jsx("div",{className:`flex items-center gap-2 mb-3 text-[8px] font-black uppercase tracking-widest ${ie.role==="user"?"text-slate-400":"text-blue-400"}`,children:ie.role==="user"?f.jsxs(f.Fragment,{children:[f.jsx(a0,{size:10})," Humano"]}):f.jsxs(f.Fragment,{children:[f.jsx(Rg,{size:10})," Agente Cognitivo"]})}),ie.audio?f.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/10",children:[f.jsx("button",{onClick:()=>new Audio(ie.audio).play(),className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center hover:scale-110 transition-all",children:f.jsx(rR,{size:16,fill:"currentColor"})}),f.jsx("div",{className:"flex-1 h-0.5 bg-white/10 rounded-full"}),f.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-50",children:"Stream Voz"})]}):f.jsx("p",{className:"leading-relaxed text-sm",children:ie.content})]})},Ae)),ce&&f.jsxs("div",{className:"flex gap-2 items-center text-blue-600 font-black text-[10px] uppercase tracking-widest animate-pulse ml-2",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.3s]"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.15s]"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce"})]}),"IA Processando..."]})]}),f.jsxs("div",{className:"p-10 bg-white border-t border-slate-100 flex gap-4",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",children:f.jsx(lR,{size:18})}),f.jsx("input",{value:xe,onChange:ie=>ve(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&xe&&(le([...ee,{role:"user",content:xe}]),ve(""),O(!0),setTimeout(()=>{le(Ae=>[...Ae,{role:"assistant",content:Z("Simulador")}]),O(!1)},1500)),placeholder:"Simule uma objeo ou pergunta do cliente...",className:"w-full h-16 modern-input pl-14 text-sm"})]}),f.jsx("button",{onClick:()=>xe&&(le([...ee,{role:"user",content:xe}]),ve(""),O(!0),setTimeout(()=>{le(ie=>[...ie,{role:"assistant",content:Z("Simulador")}]),O(!1)},1500)),className:"w-16 h-16 rounded-[24px] bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 hover:scale-105 transition-all shadow-xl shadow-slate-900/20 shrink-0",children:f.jsx(iR,{size:24})})]})]})]})]})},WAe=({onBack:t})=>{const[e,n]=be.useState([]),[r,i]=be.useState(!0),[a,s]=be.useState(""),[l,c]=be.useState("ALL");be.useEffect(()=>{d()},[]);const d=async()=>{i(!0);const g=await zAe(200);n(g),i(!1)},h=e.filter(g=>{const y=g.details.toLowerCase().includes(a.toLowerCase())||g.userName&&g.userName.toLowerCase().includes(a.toLowerCase())||g.userEmail.toLowerCase().includes(a.toLowerCase()),N=l==="ALL"||g.entity===l;return y&&N}),m=g=>{switch(g){case"CREATE":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"UPDATE":return"bg-blue-50 text-blue-600 border-blue-100";case"DELETE":return"bg-rose-50 text-rose-600 border-rose-100";case"LOGIN":return"bg-slate-50 text-slate-800 border-slate-200";default:return"bg-slate-50 text-slate-400 border-slate-100"}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[f.jsx(Ta,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:f.jsx(kl,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Log de ",f.jsx("span",{className:"text-blue-600",children:"Auditoria"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Rastreamento de Atividades / ID-AUD"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto items-center",children:[f.jsxs("div",{className:"relative group flex-1 md:flex-none md:min-w-[300px]",children:[f.jsx(gm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),f.jsx("input",{type:"text",placeholder:"Pesquisar atividades...",className:"modern-input pl-12 h-12 text-sm",value:a,onChange:g=>s(g.target.value)})]}),f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm shrink-0 overflow-x-auto no-scrollbar max-w-full",children:["Todos","Venda","Cliente","Lote","Estoque","Sistema"].map((g,y)=>{const N=["ALL","SALE","CLIENT","BATCH","STOCK","SYSTEM"][y];return f.jsx("button",{onClick:()=>c(N),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${l===N?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:g},N)})})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto premium-card overflow-hidden",children:r?f.jsxs("div",{className:"py-32 flex flex-col items-center justify-center gap-6",children:[f.jsx(Na,{className:"animate-spin text-blue-600",size:48}),f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em] text-slate-400",children:"Sincronizando registros de segurana..."})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-48",children:"Timestamp"}),f.jsx("th",{children:"Operador"}),f.jsx("th",{className:"text-center",children:"Tipo Ao"}),f.jsx("th",{className:"text-center",children:"Mdulo"}),f.jsx("th",{children:"Detalhamento da Operao"})]})}),f.jsx("tbody",{children:h.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:5,className:"py-24 text-center border-0",children:[f.jsx(Bp,{size:64,className:"mx-auto mb-4 opacity-05"}),f.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-[0.3em]",children:"Nenhum registro encontrado"})]})}):h.map(g=>f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[f.jsxs("td",{className:"text-[10px] font-bold text-slate-400",children:[new Date(g.timestamp).toLocaleDateString(),f.jsx("span",{className:"block opacity-40 text-[9px] mt-1",children:new Date(g.timestamp).toLocaleTimeString()})]}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-9 h-9 bg-slate-100 rounded-xl text-slate-600 flex items-center justify-center transition-all group-hover:bg-blue-600 group-hover:text-white",children:f.jsx(a0,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-extrabold text-slate-900 uppercase text-xs",children:g.userName||"Sistema Automtico"}),f.jsx("p",{className:"text-[9px] text-slate-400 font-bold tracking-widest uppercase",children:g.userEmail})]})]})}),f.jsx("td",{className:"text-center",children:f.jsx("span",{className:`inline-flex px-3 py-1.5 rounded-xl border text-[9px] font-black uppercase tracking-widest ${m(g.action)}`,children:g.action})}),f.jsx("td",{className:"text-center",children:f.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-[9px] font-black text-slate-400 border border-slate-100 uppercase tracking-widest",children:g.entity})}),f.jsx("td",{className:"p-6",children:f.jsx("p",{className:"text-slate-700 font-medium text-xs leading-relaxed max-w-2xl",children:g.details})})]},g.id))})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto mt-8 flex flex-col md:flex-row justify-between items-center gap-4 border-t border-slate-100 pt-8 opacity-40",children:[f.jsxs("div",{className:"flex gap-4 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," Buffer Operacional: 200 Logs"]}),f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"})," Conexo Segura Ativa"]})]}),f.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"Protocolo FG-Shield 2.5"})]})]})},KAe=()=>{const[e,n]=be.useState(null),[r,i]=be.useState("menu"),[a,s]=be.useState(null),[l,c]=be.useState("checking"),[d,h]=be.useState({...aK,scheduledOrders:[],suppliers:[],payables:[]}),[m,g]=be.useState(!0);be.useEffect(()=>{if(!Ld){n({user:{email:"offline@local"}}),g(!1),c("offline");return}const H=setTimeout(()=>{g(!1)},5e3),Z=sbe(Ld,te=>{n(te?{user:te}:null),g(!1),clearTimeout(H)});return()=>{clearTimeout(H),Z()}},[]);const y=be.useCallback(async()=>{if(!(!e||!gt)){c("checking");try{const[H,Z,te,me,_e,ie,Ae,Re,Se]=await Promise.all([ui(zn(gt,"clients")),ui(zn(gt,"batches")),ui(zn(gt,"stock_items")),ui(zn(gt,"sales")),ui(zn(gt,"transactions")),ui(zn(gt,"scheduled_orders")),ui(gp(zn(gt,"daily_reports"),Hz(50))),ui(zn(gt,"suppliers")),ui(zn(gt,"payables"))]),We=H.docs.map(Ye=>({...Ye.data()})),tt=Z.docs.map(Ye=>({...Ye.data()})),ge=te.docs.map(Ye=>({...Ye.data()})),ue=me.docs.map(Ye=>({...Ye.data()})),ut=_e.docs.map(Ye=>({...Ye.data()})),Ze=ie.docs.map(Ye=>({...Ye.data()})),He=Ae.docs.map(Ye=>({...Ye.data()})),Ge=Re.docs.map(Ye=>({...Ye.data(),id:Ye.id})),Ke=((Se==null?void 0:Se.docs)||[]).map(Ye=>{const ht=Ye.data();return{...ht,id:Ye.id,valor:ht.valor!==void 0?Number(ht.valor):Number(ht.valor_total||0)}}),Ve=We.map(Ye=>{const Et=ue.filter(yt=>yt.id_cliente===Ye.id_ferro&&yt.status_pagamento==="PENDENTE").reduce((yt,St)=>{const Kt=St.peso_real_saida*St.preco_venda_kg,It=St.valor_pago||0;return yt+(Kt-It)},0);return{...Ye,saldo_devedor:Et}});h({clients:Ve,batches:tt,stock:ge,sales:ue,transactions:ut,scheduledOrders:Ze,reports:He,suppliers:Ge,payables:Ke}),c("online")}catch(H){console.error(H),c("offline")}}},[e]);be.useEffect(()=>{if(y(),(async()=>{gt&&setTimeout(async()=>{try{const[We,tt,ge,ue,ut]=await Promise.all([ui(zn(gt,"batches")),ui(zn(gt,"payables")),ui(zn(gt,"stock_items")),ui(zn(gt,"sales")),ui(zn(gt,"transactions"))]),Ze=new Set(We.docs.map(Ke=>Ke.data().id_lote)),He=n0(gt);let Ge=0;tt.forEach(Ke=>{const Ve=Ke.data();if(Ve.categoria==="COMPRA_GADO"){let Ye=Ve.id_lote;if(!Ye&&Ve.descricao){const ht=Ve.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);ht&&(Ye=ht[1])}Ye&&!Ze.has(Ye)&&(He.delete(Ke.ref),Ge++,console.log(` Payable rfo: ${Ve.descricao}`))}}),ge.forEach(Ke=>{const Ve=Ke.data();Ve.id_lote&&!Ze.has(Ve.id_lote)&&(He.delete(Ke.ref),Ge++,console.log(` Estoque rfo: ${Ve.id_completo}`))}),ue.forEach(Ke=>{const Ve=Ke.data();if(Ve.id_completo){const Ye=Ve.id_completo.split("-");if(Ye.length>=3){const ht=`${Ye[0]}-${Ye[1]}-${Ye[2]}`;Ze.has(ht)||(He.delete(Ke.ref),Ge++,console.log(` Venda rf: ${Ve.id_venda}`))}}}),ut.forEach(Ke=>{const Ve=Ke.data();Ve.referencia_id&&Ve.categoria==="COMPRA_GADO"&&(Ze.has(Ve.referencia_id)||(He.delete(Ke.ref),Ge++,console.log(` Transao rf: ${Ve.descricao}`)))}),Ge>0&&(await He.commit(),console.log(` ${Ge} registros rfos removidos automaticamente`),y())}catch(We){console.error("Erro limpando rfos:",We)}},2e3)})(),!gt)return;const Z=wd(zn(gt,"clients"),()=>y()),te=wd(zn(gt,"batches"),()=>y()),me=wd(zn(gt,"stock_items"),()=>y()),_e=wd(zn(gt,"sales"),()=>y()),ie=wd(zn(gt,"transactions"),()=>y()),Ae=wd(zn(gt,"scheduled_orders"),()=>y()),Re=wd(zn(gt,"daily_reports"),()=>y()),Se=wd(zn(gt,"payables"),()=>y());return()=>{Z(),te(),me(),_e(),ie(),Ae(),Re(),Se()}},[y]);const N=async H=>{try{const Z=await s1(zn(gt,"suppliers"),H),te={...H,id:Z.id};await lo(Z,te),h(me=>({...me,suppliers:[...me.suppliers,te]})),ii(e.user,"CREATE","OTHER",`Novo fornecedor: ${H.nome_fantasia}`,H),alert("Fornecedor cadastrado com sucesso!")}catch(Z){console.error(Z),alert("Erro ao salvar fornecedor.")}},S=async H=>{try{await lo(gn(gt,"suppliers",H.id),H),h(Z=>({...Z,suppliers:Z.suppliers.map(te=>te.id===H.id?H:te)})),ii(e.user,"UPDATE","OTHER",`Fornecedor atualizado: ${H.nome_fantasia}`,H),alert("Fornecedor atualizado!")}catch(Z){console.error(Z),alert("Erro ao atualizar fornecedor.")}},A=async H=>{try{await wl(gn(gt,"suppliers",H)),h(Z=>({...Z,suppliers:Z.suppliers.filter(te=>te.id!==H)})),ii(e.user,"DELETE","OTHER",`Fornecedor removido ID: ${H}`,{id:H}),alert("Fornecedor removido.")}catch(Z){console.error(Z),alert("Erro ao remover fornecedor.")}},C=async H=>{try{const Z=await s1(zn(gt,"payables"),H),te={...H,id:Z.id};await lo(Z,te),h(me=>({...me,payables:[...me.payables,te]})),ii(e.user,"CREATE","OTHER",`Nova conta a pagar: ${H.descricao}`,H)}catch(Z){console.error(Z),alert("Erro ao salvar conta a pagar.")}},I=async H=>{try{await lo(gn(gt,"payables",H.id),H),h(Z=>({...Z,payables:Z.payables.map(te=>te.id===H.id?H:te)})),ii(e.user,"UPDATE","OTHER",`Conta atualizada: ${H.descricao}`,H)}catch(Z){console.error(Z),alert("Erro ao atualizar conta.")}},k=async H=>{try{await wl(gn(gt,"payables",H)),h(Z=>({...Z,payables:Z.payables.filter(te=>te.id!==H)})),ii(e.user,"DELETE","OTHER",`Conta excluda ID: ${H}`,{id:H})}catch(Z){console.error(Z),alert("Erro ao remover conta.")}},B=H=>JSON.parse(JSON.stringify(H)),L=be.useMemo(()=>d.batches.filter(H=>H.status==="FECHADO"),[d.batches]),z=be.useMemo(()=>new Set(L.map(H=>H.id_lote)),[L]),D=be.useMemo(()=>d.stock.filter(H=>z.has(H.id_lote)),[d.stock,z]),j=async H=>{const Z={...H};e!=null&&e.user&&ii(e.user,"CREATE","BATCH",`Novo lote criado: ${Z.id_lote} - ${Z.fornecedor}`);const te=Z.forma_pagamento||"OUTROS";if(Z.pagamento_a_vista,delete Z.pagamento_a_vista,delete Z.forma_pagamento,Z.peso_total_romaneio=parseFloat(Z.peso_total_romaneio)||0,Z.valor_compra_total=parseFloat(Z.valor_compra_total)||0,Z.frete=parseFloat(Z.frete)||0,Z.gastos_extras=parseFloat(Z.gastos_extras)||0,Z.custo_real_kg=parseFloat(Z.custo_real_kg)||0,!gt)return{success:!1,error:"Firebase no configurado"};try{await lo(gn(gt,"batches",Z.id_lote),Z);const me=(Z.valor_compra_total||0)+(Z.frete||0)+(Z.gastos_extras||0);if(me>0&&te==="VISTA"){const _e={id:`TR-LOTE-${Z.id_lote}`,data:Z.data_recebimento,descricao:`Compra Lote ${Z.id_lote} - ${Z.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:me,metodo_pagamento:te,referencia_id:Z.id_lote};await M(_e)}else if(me>0&&te==="PRAZO"){const _e={id:`PAY-LOTE-${Z.id_lote}`,id_lote:Z.id_lote,descricao:`Compra Lote ${Z.id_lote} - ${Z.fornecedor}`,valor:me,data_vencimento:new Date(Date.now()+(Z.prazo_dias||30)*24*60*60*1e3).toISOString().split("T")[0],status:"PENDENTE",categoria:"COMPRA_GADO",observacoes:"Compra de Lote a Prazo"},ie=await s1(zn(gt,"payables"),_e);await lo(ie,{..._e,id:ie.id})}return await y(),{success:!0}}catch(me){return{success:!1,error:me.message}}},V=async H=>{if(gt)try{console.log(` INICIANDO EXCLUSO COMPLETA DO LOTE: ${H}`),await wl(gn(gt,"batches",H)),console.log(` Lote ${H} deletado`);const Z=gp(zn(gt,"stock_items")),te=await ui(Z),me=[];let _e=0;te.forEach(Ke=>{Ke.data().id_lote===H&&(me.push(wl(gn(gt,"stock_items",Ke.id))),_e++)}),await Promise.all(me),console.log(` ${_e} itens de estoque deletados`);const ie=gp(zn(gt,"payables")),Ae=await ui(ie),Re=[];let Se=0;Ae.forEach(Ke=>{const Ve=Ke.data(),Ye=Ve.id_lote===H,ht=Ve.id&&Ve.id.includes(H),Et=Ve.descricao&&Ve.descricao.includes(H);(Ye||ht||Et)&&(Re.push(wl(gn(gt,"payables",Ke.id))),Se++)}),await Promise.all(Re),console.log(` ${Se} contas a pagar deletadas`);const We=gp(zn(gt,"sales")),tt=await ui(We),ge=[];let ue=0;tt.forEach(Ke=>{const Ve=Ke.data();Ve.id_completo&&Ve.id_completo.startsWith(H)&&(ge.push(wl(gn(gt,"sales",Ke.id))),ue++)}),await Promise.all(ge),console.log(` ${ue} vendas deletadas`);const ut=gp(zn(gt,"transactions")),Ze=await ui(ut),He=[];let Ge=0;Ze.forEach(Ke=>{const Ve=Ke.data();(Ve.referencia_id===H||Ve.descricao&&Ve.descricao.includes(H))&&(He.push(wl(gn(gt,"transactions",Ke.id))),Ge++)}),await Promise.all(He),console.log(` ${Ge} transaes deletadas`),console.log(` LOTE ${H} COMPLETAMENTE ELIMINADO!`),console.log(` RESUMO: Lote + ${_e} estoque + ${Se} payables + ${ue} vendas + ${Ge} transaes`),e!=null&&e.user&&ii(e.user,"DELETE","BATCH",`Lote COMPLETAMENTE excludo: ${H} (${_e} estoque, ${Se} payables, ${ue} vendas, ${Ge} transaes)`),y()}catch(Z){console.error(" Erro ao excluir lote:",Z),alert("Erro ao excluir o lote. Verifique o console.")}},Y=async H=>{const Z=B(H);if(!gt)return{success:!1,error:"Firebase no configurado"};try{return await lo(gn(gt,"stock_items",Z.id_completo),Z),e!=null&&e.user&&ii(e.user,"CREATE","STOCK",`Item de estoque adicionado: ${Z.id_completo}`),y(),{success:!0}}catch(te){return{success:!1,error:te.message}}},q=async(H,Z)=>{gt&&(await op(gn(gt,"stock_items",H),B(Z)),y())},M=async H=>{gt&&(await lo(gn(gt,"transactions",H.id),B(H)),e!=null&&e.user&&ii(e.user,"CREATE","TRANSACTION",`Transao adicionada: ${H.tipo} ${H.valor} (${H.descricao})`),y())},F=async H=>{const Z=(H.valor_compra_total||0)+(H.frete||0)+(H.gastos_extras||0);if(Z===0)return;const te={id:`TR-LOTE-${H.id_lote}`,data:H.data_recebimento,descricao:`Compra Lote ${H.id_lote} - ${H.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:Z,metodo_pagamento:H.forma_pagamento||"OUTROS",referencia_id:H.id_lote},me=H.valor_entrada||0,_e=H.forma_pagamento==="VISTA",ie=H.forma_pagamento==="PRAZO";if(_e)await M(te);else if(ie){if(me>0){const Re={...te,id:`TR-LOTE-ENTRADA-${H.id_lote}`,descricao:`Entrada/Adiantamento Lote ${H.id_lote} - ${H.fornecedor}`,valor:me};await M(Re)}const Ae=Z-me;if(Ae>0){if(d.payables.filter(tt=>tt.id_lote===H.id_lote||tt.id===`PAY-LOTE-${H.id_lote}`).length>0){console.log(` Payable j existe para lote ${H.id_lote}, ignorando duplicata.`);return}const Se={id:`PAY-LOTE-${H.id_lote}`,descricao:`Restante Lote ${H.id_lote} - ${H.fornecedor}`,valor:Ae,data_vencimento:new Date(Date.now()+(H.prazo_dias||30)*24*60*60*1e3).toISOString().split("T")[0],status:"PENDENTE",categoria:"COMPRA_GADO",observacoes:`Compra a Prazo (Entrada: ${me>0?me:"No"})`,fornecedor_id:H.fornecedor,id_lote:H.id_lote},We=gn(gt,"payables",`PAY-LOTE-${H.id_lote}`);await lo(We,Se)}}},Q=async H=>{const Z=B(H);if(!gt)return{success:!1,error:"Firebase no configurado"};try{const te=n0(gt);return Z.forEach(me=>{const _e=gn(gt,"sales",me.id_venda);te.set(_e,me)}),Z.forEach(me=>{(me.stock_ids_originais&&Array.isArray(me.stock_ids_originais)?me.stock_ids_originais:[me.id_completo]).forEach(ie=>{const Ae=gn(gt,"stock_items",ie);te.update(Ae,{status:"VENDIDO"})})}),await te.commit(),e!=null&&e.user&&ii(e.user,"CREATE","SALE",`Venda realizada: ${Z.length} itens para ${Z[0].nome_cliente||"Cliente"}`),y(),{success:!0}}catch(te){return{success:!1,error:te.message}}},se=async H=>{gt&&(await wl(gn(gt,"stock_items",H)),e!=null&&e.user&&ii(e.user,"DELETE","STOCK",`Item removido do estoque: ${H}`),y())},W=async(H,Z)=>{gt&&(await op(gn(gt,"sales",H),{custo_extras_total:Z}),y())},ee=async H=>{gt&&(await wl(gn(gt,"transactions",H)),y())},le=async(H,Z,te,me)=>{const _e=d.sales.find(We=>We.id_venda===H);if(!_e||!gt)return;const ie=_e.peso_real_saida*_e.preco_venda_kg,Re=(_e.valor_pago||0)+Z,Se=Re>=ie?"PAGO":"PENDENTE";try{await op(gn(gt,"sales",H),{valor_pago:Re,status_pagamento:Se,forma_pagamento:te}),y()}catch(We){console.error("Error adding partial payment:",We)}},xe=async(H,Z,te,me)=>{const _e=d.sales.filter(Re=>Re.id_cliente===H&&Re.status_pagamento==="PENDENTE").sort((Re,Se)=>new Date(Re.data_venda).getTime()-new Date(Se.data_venda).getTime());let ie=Z,Ae=0;for(const Re of _e){if(ie<=.01)break;const Se=Re.peso_real_saida*Re.preco_venda_kg,We=Re.valor_pago||0,tt=Se-We,ge=Math.min(tt,ie);ge>0&&(await le(Re.id_venda,ge,te),ie-=ge,Ae++)}Ae>0&&(e!=null&&e.user&&ii(e.user,"CREATE","TRANSACTION",`Pagamento recebido de cliente: ${Z} (${te})`),y())},ve=async H=>{if(!gt)return;const Z=B(H);await lo(gn(gt,"scheduled_orders",Z.id),Z),e!=null&&e.user&&ii(e.user,"CREATE","ORDER",`Pedido agendado criado para ${Z.nome_cliente}`),y()},ce=async(H,Z)=>{gt&&(await op(gn(gt,"scheduled_orders",H),B(Z)),y())},O=async H=>{gt&&(await wl(gn(gt,"scheduled_orders",H)),e!=null&&e.user&&ii(e.user,"DELETE","ORDER",`Pedido excludo: ${H}`),y())},K=async()=>{Ld&&(await obe(Ld),e!=null&&e.user&&ii(e.user,"LOGOUT","SYSTEM","Usurio saiu do sistema")),n(null),i("menu")};return m?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx(Sp,{className:"text-blue-600 animate-spin",size:48})}):e?f.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden selection:bg-blue-200",children:[r==="menu"&&f.jsx(iK,{setView:i,onLogout:K}),r==="system_reset"&&f.jsx(M7,{onBack:()=>i("menu"),refreshData:y}),r==="dashboard"&&f.jsx(ide,{sales:d.sales,stock:D,transactions:d.transactions,batches:L,clients:d.clients,onBack:()=>i("menu")}),r==="clients"&&f.jsx(ade,{clients:d.clients,sales:d.sales,addClient:async H=>{gt&&(await lo(gn(gt,"clients",H.id_ferro),B(H)),e!=null&&e.user&&ii(e.user,"CREATE","CLIENT",`Novo cliente: ${H.nome_social}`),y())},updateClient:async H=>{gt&&(await lo(gn(gt,"clients",H.id_ferro),B(H),{merge:!0}),e!=null&&e.user&&ii(e.user,"UPDATE","CLIENT",`Cliente atualizado: ${H.nome_social}`),y())},deleteClient:async H=>{gt&&(await wl(gn(gt,"clients",H)),e!=null&&e.user&&ii(e.user,"DELETE","CLIENT",`Cliente excludo: ${H}`),y())},receiveClientPayment:xe,onBack:()=>i("menu")}),r==="suppliers"&&f.jsx(VAe,{suppliers:d.suppliers,addSupplier:N,updateSupplier:S,deleteSupplier:A,onBack:()=>i("menu")}),r==="batches"&&f.jsx(sde,{batches:d.batches,suppliers:d.suppliers,stock:d.stock,addBatch:j,updateBatch:async(H,Z)=>{gt&&(await op(gn(gt,"batches",H),B(Z)),e!=null&&e.user&&ii(e.user,"UPDATE","BATCH",`Lote atualizado: ${H}`),y())},deleteBatch:V,addStockItem:Y,updateStockItem:q,removeStockItem:se,registerBatchFinancial:F,onGoToStock:()=>i("stock"),onBack:()=>i("menu")}),r==="stock"&&f.jsx(ode,{stock:D,batches:L,sales:d.sales,clients:d.clients,updateBatch:async(H,Z)=>{gt&&(await op(gn(gt,"batches",H),B(Z)),e!=null&&e.user&&ii(e.user,"UPDATE","BATCH",`Lote atualizado: ${H}`),y())},deleteBatch:V,onBack:()=>i("menu")}),r==="expedition"&&f.jsx(ofe,{clients:d.clients,stock:D,batches:L,salesHistory:d.sales,onConfirmSale:H=>{const{client:Z,items:te,pricePerKg:me,extrasCost:_e}=H,ie=new Map;te.forEach(We=>{const tt=`${We.id_lote}-${We.sequencia}`;ie.has(tt)||ie.set(tt,[]),ie.get(tt).push(We)});const Ae=[];let Re=0;const Se=[...ie.values()].reduce((We,tt)=>We+tt.reduce((ge,ue)=>ge+(ue.peso_saida||ue.peso_entrada),0),0);ie.forEach((We,tt)=>{const ge=We.length>1,ue=d.batches.find(yt=>yt.id_lote===We[0].id_lote),ut=ue?ue.custo_real_kg:0,Ze=We.reduce((yt,St)=>yt+St.peso_entrada,0),He=We.reduce((yt,St)=>yt+(St.peso_saida||St.peso_entrada),0),Ge=Ze-He,Ke=He*me,Ve=He*ut,Ye=Se>0?_e*(He/Se):0,ht=Ke-Ve-Ye,Et=ge?`${We[0].id_lote}-${We[0].sequencia}-INTEIRO`:We[0].id_completo;Ae.push({id_venda:`V-${Date.now()}-${Re++}`,id_cliente:Z.id_ferro,nome_cliente:Z.nome_social,id_completo:Et,peso_real_saida:He,preco_venda_kg:me,data_venda:new Date().toISOString().split("T")[0],quebra_kg:Ge,lucro_liquido_unitario:ht,custo_extras_total:Ye,prazo_dias:30,data_vencimento:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],forma_pagamento:"OUTROS",status_pagamento:"PENDENTE",tipo_venda:ge?"CARCACA_INTEIRA":"BANDA_AVULSA",stock_ids_originais:We.map(yt=>yt.id_completo)})}),Q(Ae),i("sales_history")},onBack:()=>i("menu")}),r==="sales_history"&&f.jsx(cfe,{stock:D,batches:L,sales:d.sales,clients:d.clients,initialSearchTerm:a==null?void 0:a.searchTerm,onBack:()=>i("menu")}),r==="financial"&&f.jsx(lfe,{sales:d.sales,batches:L,stock:D,clients:d.clients,transactions:d.transactions,updateSaleCost:W,addTransaction:M,deleteTransaction:ee,addPartialPayment:le,onBack:()=>i("menu"),payables:d.payables,addPayable:C,updatePayable:I,deletePayable:k}),r==="scheduled_orders"&&f.jsx(Aye,{scheduledOrders:d.scheduledOrders,clients:d.clients,addScheduledOrder:ve,updateScheduledOrder:ce,deleteScheduledOrder:O,onViewClientHistory:H=>{s({searchTerm:H}),i("sales_history")},onBack:()=>i("menu")}),r==="report"&&f.jsx($Ae,{reports:d.reports,onBack:()=>i("menu"),onSubmit:async H=>{var te,me,_e;if(!gt)return;const Z={id:`REPORT-${Date.now()}`,timestamp:new Date().toISOString(),date:new Date().toISOString().split("T")[0],userId:((te=e==null?void 0:e.user)==null?void 0:te.uid)||"anonymous",userName:((_e=(me=e==null?void 0:e.user)==null?void 0:me.email)==null?void 0:_e.split("@")[0])||"Colaborador",...H};await lo(gn(gt,"daily_reports",Z.id),Z),ii(e==null?void 0:e.user,"CREATE","OTHER",`Relatrio enviado: ${H.type}`),y()}}),r==="heifers"&&f.jsx(HAe,{onBack:()=>i("menu"),existingOrders:d.scheduledOrders,onAddOrder:ve}),r==="sales_agent"&&f.jsx(GAe,{onBack:()=>i("menu"),clients:d.clients}),r==="aistudio"&&f.jsx(wye,{onBack:()=>i("menu")}),r==="audit"&&f.jsx(WAe,{onBack:()=>i("menu")}),r==="system_reset"&&f.jsx(M7,{onBack:()=>i("menu"),refreshData:y}),f.jsxs("div",{className:"fixed bottom-3 left-3 right-3 md:bottom-8 md:left-8 md:right-auto z-[200] flex flex-col md:flex-row gap-2 md:gap-3 pointer-events-none items-stretch md:items-center",children:[l==="online"&&f.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-emerald-50 text-emerald-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-emerald-900/5 animate-reveal",children:[f.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),f.jsx("span",{className:"hidden md:inline",children:"CORE: SINAL_CRIPTOGRAFADO"}),f.jsx("span",{className:"md:hidden",children:"ONLINE"})]}),l==="offline"&&f.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-rose-50 text-rose-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-rose-900/5 animate-reveal",children:[f.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(244,63,94,0.5)]"}),f.jsx("span",{className:"hidden md:inline",children:"CORE: LINK_AUSENTE"}),f.jsx("span",{className:"md:hidden",children:"OFFLINE"})]}),f.jsxs("button",{onClick:()=>{window.confirm(` Atualizar aplicativo?

Isso ir buscar a verso mais recente do app.

 IMPORTANTE: Seus dados (lotes, financeiro, estoque) NO sero afetados!

Deseja continuar?`)&&window.location.reload()},className:"pointer-events-auto bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-2.5 rounded-xl md:rounded-2xl font-black text-[9px] md:text-[10px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl transition-all hover:scale-105 active:scale-95 animate-reveal cursor-pointer",title:"Clique para atualizar o app e carregar a verso mais recente",children:[f.jsx(H7,{size:14,className:"animate-spin-slow"}),f.jsx("span",{children:"Atualizar App"})]}),f.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-[0_20px_40px_rgba(15,23,42,0.3)] animate-reveal",children:[f.jsx(Na,{size:12,className:"text-blue-400"}),f.jsx("span",{className:"hidden md:inline",children:"FG-PRO_v2.5.5"}),f.jsx("span",{className:"md:hidden",children:"v2.5.5"})]})]})]}):f.jsx(qAe,{onLoginSuccess:()=>{}})},d$=document.getElementById("root");if(!d$)throw new Error("Could not find root element to mount to");const YAe=IH.createRoot(d$);YAe.render(f.jsx(je.StrictMode,{children:f.jsx(KAe,{})}));export{cr as _,fy as c,mr as g};
