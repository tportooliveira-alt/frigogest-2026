(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c_={exports:{}},gg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function NH(){if(J3)return gg;J3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return gg.Fragment=e,gg.jsx=n,gg.jsxs=n,gg}var Q3;function TH(){return Q3||(Q3=1,c_.exports=NH()),c_.exports}var f=TH(),u_={exports:{}},mn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function CH(){if(Z3)return mn;Z3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(ce){return ce===null||typeof ce!="object"?null:(ce=g&&ce[g]||ce["@@iterator"],typeof ce=="function"?ce:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function C(ce,M,G){this.props=ce,this.context=M,this.refs=S,this.updater=G||N}C.prototype.isReactComponent={},C.prototype.setState=function(ce,M){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,M,"setState")},C.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function R(){}R.prototype=C.prototype;function P(ce,M,G){this.props=ce,this.context=M,this.refs=S,this.updater=G||N}var U=P.prototype=new R;U.constructor=P,A(U,C.prototype),U.isPureReactComponent=!0;var L=Array.isArray;function z(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(ce,M,G){var Z=G.ref;return{$$typeof:t,type:ce,key:M,ref:Z!==void 0?Z:null,props:G}}function W(ce,M){return V(ce.type,M,ce.props)}function B(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===t}function D(ce){var M={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(G){return M[G]})}var F=/\/+/g;function Q(ce,M){return typeof ce=="object"&&ce!==null&&ce.key!=null?D(""+ce.key):M.toString(36)}function oe(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(z,z):(ce.status="pending",ce.then(function(M){ce.status==="pending"&&(ce.status="fulfilled",ce.value=M)},function(M){ce.status==="pending"&&(ce.status="rejected",ce.reason=M)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function K(ce,M,G,Z,de){var X=typeof ce;(X==="undefined"||X==="boolean")&&(ce=null);var ue=!1;if(ce===null)ue=!0;else switch(X){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(ce.$$typeof){case t:case e:ue=!0;break;case h:return ue=ce._init,K(ue(ce._payload),M,G,Z,de)}}if(ue)return de=de(ce),ue=Z===""?"."+Q(ce,0):Z,L(de)?(G="",ue!=null&&(G=ue.replace(F,"$&/")+"/"),K(de,M,G,"",function(Se){return Se})):de!=null&&(B(de)&&(de=W(de,G+(de.key==null||ce&&ce.key===de.key?"":(""+de.key).replace(F,"$&/")+"/")+ue)),M.push(de)),1;ue=0;var we=Z===""?".":Z+":";if(L(ce))for(var re=0;re<ce.length;re++)Z=ce[re],X=we+Q(Z,re),ue+=K(Z,M,G,X,de);else if(re=y(ce),typeof re=="function")for(ce=re.call(ce),re=0;!(Z=ce.next()).done;)Z=Z.value,X=we+Q(Z,re++),ue+=K(Z,M,G,X,de);else if(X==="object"){if(typeof ce.then=="function")return K(oe(ce),M,G,Z,de);throw M=String(ce),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ee(ce,M,G){if(ce==null)return ce;var Z=[],de=0;return K(ce,Z,"","",function(X){return M.call(G,X,de++)}),Z}function se(ce){if(ce._status===-1){var M=ce._result;M=M(),M.then(function(G){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=G)},function(G){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=G)}),ce._status===-1&&(ce._status=0,ce._result=M)}if(ce._status===1)return ce._result.default;throw ce._result}var _e=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},xe={map:ee,forEach:function(ce,M,G){ee(ce,function(){M.apply(this,arguments)},G)},count:function(ce){var M=0;return ee(ce,function(){M++}),M},toArray:function(ce){return ee(ce,function(M){return M})||[]},only:function(ce){if(!B(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return mn.Activity=m,mn.Children=xe,mn.Component=C,mn.Fragment=n,mn.Profiler=i,mn.PureComponent=P,mn.StrictMode=r,mn.Suspense=c,mn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,mn.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return k.H.useMemoCache(ce)}},mn.cache=function(ce){return function(){return ce.apply(null,arguments)}},mn.cacheSignal=function(){return null},mn.cloneElement=function(ce,M,G){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var Z=A({},ce.props),de=ce.key;if(M!=null)for(X in M.key!==void 0&&(de=""+M.key),M)!O.call(M,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&M.ref===void 0||(Z[X]=M[X]);var X=arguments.length-2;if(X===1)Z.children=G;else if(1<X){for(var ue=Array(X),we=0;we<X;we++)ue[we]=arguments[we+2];Z.children=ue}return V(ce.type,de,Z)},mn.createContext=function(ce){return ce={$$typeof:s,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:a,_context:ce},ce},mn.createElement=function(ce,M,G){var Z,de={},X=null;if(M!=null)for(Z in M.key!==void 0&&(X=""+M.key),M)O.call(M,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=M[Z]);var ue=arguments.length-2;if(ue===1)de.children=G;else if(1<ue){for(var we=Array(ue),re=0;re<ue;re++)we[re]=arguments[re+2];de.children=we}if(ce&&ce.defaultProps)for(Z in ue=ce.defaultProps,ue)de[Z]===void 0&&(de[Z]=ue[Z]);return V(ce,X,de)},mn.createRef=function(){return{current:null}},mn.forwardRef=function(ce){return{$$typeof:l,render:ce}},mn.isValidElement=B,mn.lazy=function(ce){return{$$typeof:h,_payload:{_status:-1,_result:ce},_init:se}},mn.memo=function(ce,M){return{$$typeof:d,type:ce,compare:M===void 0?null:M}},mn.startTransition=function(ce){var M=k.T,G={};k.T=G;try{var Z=ce(),de=k.S;de!==null&&de(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(z,_e)}catch(X){_e(X)}finally{M!==null&&G.types!==null&&(M.types=G.types),k.T=M}},mn.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},mn.use=function(ce){return k.H.use(ce)},mn.useActionState=function(ce,M,G){return k.H.useActionState(ce,M,G)},mn.useCallback=function(ce,M){return k.H.useCallback(ce,M)},mn.useContext=function(ce){return k.H.useContext(ce)},mn.useDebugValue=function(){},mn.useDeferredValue=function(ce,M){return k.H.useDeferredValue(ce,M)},mn.useEffect=function(ce,M){return k.H.useEffect(ce,M)},mn.useEffectEvent=function(ce){return k.H.useEffectEvent(ce)},mn.useId=function(){return k.H.useId()},mn.useImperativeHandle=function(ce,M,G){return k.H.useImperativeHandle(ce,M,G)},mn.useInsertionEffect=function(ce,M){return k.H.useInsertionEffect(ce,M)},mn.useLayoutEffect=function(ce,M){return k.H.useLayoutEffect(ce,M)},mn.useMemo=function(ce,M){return k.H.useMemo(ce,M)},mn.useOptimistic=function(ce,M){return k.H.useOptimistic(ce,M)},mn.useReducer=function(ce,M,G){return k.H.useReducer(ce,M,G)},mn.useRef=function(ce){return k.H.useRef(ce)},mn.useState=function(ce){return k.H.useState(ce)},mn.useSyncExternalStore=function(ce,M,G){return k.H.useSyncExternalStore(ce,M,G)},mn.useTransition=function(){return k.H.useTransition()},mn.version="19.2.3",mn}var eR;function uT(){return eR||(eR=1,u_.exports=CH()),u_.exports}var ye=uT();const Oe=Nr(ye);var d_={exports:{}},vg={},f_={exports:{}},h_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function IH(){return tR||(tR=1,(function(t){function e(K,ee){var se=K.length;K.push(ee);e:for(;0<se;){var _e=se-1>>>1,xe=K[_e];if(0<i(xe,ee))K[_e]=ee,K[se]=xe,se=_e;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],se=K.pop();if(se!==ee){K[0]=se;e:for(var _e=0,xe=K.length,ce=xe>>>1;_e<ce;){var M=2*(_e+1)-1,G=K[M],Z=M+1,de=K[Z];if(0>i(G,se))Z<xe&&0>i(de,G)?(K[_e]=de,K[Z]=se,_e=Z):(K[_e]=G,K[M]=se,_e=M);else if(Z<xe&&0>i(de,se))K[_e]=de,K[Z]=se,_e=Z;else break e}}return ee}function i(K,ee){var se=K.sortIndex-ee.sortIndex;return se!==0?se:K.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,m=null,g=3,y=!1,N=!1,A=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function U(K){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=K)r(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(d)}}function L(K){if(A=!1,U(K),!N)if(n(c)!==null)N=!0,z||(z=!0,D());else{var ee=n(d);ee!==null&&oe(L,ee.startTime-K)}}var z=!1,k=-1,O=5,V=-1;function W(){return S?!0:!(t.unstable_now()-V<O)}function B(){if(S=!1,z){var K=t.unstable_now();V=K;var ee=!0;try{e:{N=!1,A&&(A=!1,R(k),k=-1),y=!0;var se=g;try{t:{for(U(K),m=n(c);m!==null&&!(m.expirationTime>K&&W());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,g=m.priorityLevel;var xe=_e(m.expirationTime<=K);if(K=t.unstable_now(),typeof xe=="function"){m.callback=xe,U(K),ee=!0;break t}m===n(c)&&r(c),U(K)}else r(c);m=n(c)}if(m!==null)ee=!0;else{var ce=n(d);ce!==null&&oe(L,ce.startTime-K),ee=!1}}break e}finally{m=null,g=se,y=!1}ee=void 0}}finally{ee?D():z=!1}}}var D;if(typeof P=="function")D=function(){P(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Q=F.port2;F.port1.onmessage=B,D=function(){Q.postMessage(null)}}else D=function(){C(B,0)};function oe(K,ee){k=C(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var se=g;g=ee;try{return K()}finally{g=se}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=g;g=K;try{return ee()}finally{g=se}},t.unstable_scheduleCallback=function(K,ee,se){var _e=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?_e+se:_e):se=_e,K){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=se+xe,K={id:h++,callback:ee,priorityLevel:K,startTime:se,expirationTime:xe,sortIndex:-1},se>_e?(K.sortIndex=se,e(d,K),n(c)===null&&K===n(d)&&(A?(R(k),k=-1):A=!0,oe(L,se-_e))):(K.sortIndex=xe,e(c,K),N||y||(N=!0,z||(z=!0,D()))),K},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(K){var ee=g;return function(){var se=g;g=ee;try{return K.apply(this,arguments)}finally{g=se}}}})(h_)),h_}var nR;function RH(){return nR||(nR=1,f_.exports=IH()),f_.exports}var p_={exports:{}},Ka={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function kH(){if(rR)return Ka;rR=1;var t=uT();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ka.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,h)},Ka.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},Ka.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Ka.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ka.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ka.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Ka.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ka.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Ka.requestFormReset=function(c){r.d.r(c)},Ka.unstable_batchedUpdates=function(c,d){return c(d)},Ka.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},Ka.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ka.version="19.2.3",Ka}var iR;function PH(){if(iR)return p_.exports;iR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p_.exports=kH(),p_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function OH(){if(aR)return vg;aR=1;var t=RH(),e=uT(),n=PH();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return c(E),o;if(I===v)return c(E),u;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var J=!1,pe=E.child;pe;){if(pe===p){J=!0,p=E,v=I;break}if(pe===v){J=!0,v=E,p=I;break}pe=pe.sibling}if(!J){for(pe=I.child;pe;){if(pe===p){J=!0,p=I,v=E;break}if(pe===v){J=!0,v=I,p=E;break}pe=pe.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function D(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function Q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case N:return"Portal";case P:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case U:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return u=o.displayName||null,u!==null?u:Q(o.type)||"Memo";case O:u=o._payload,o=o._init;try{return Q(o(u))}catch{}}return null}var oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},_e=[],xe=-1;function ce(o){return{current:o}}function M(o){0>xe||(o.current=_e[xe],_e[xe]=null,xe--)}function G(o,u){xe++,_e[xe]=o.current,o.current=u}var Z=ce(null),de=ce(null),X=ce(null),ue=ce(null);function we(o,u){switch(G(X,u),G(de,o),G(Z,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?b3(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=b3(u),o=_3(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}M(Z),G(Z,o)}function re(){M(Z),M(de),M(X)}function Se(o){o.memoizedState!==null&&G(ue,o);var u=Z.current,p=_3(u,o.type);u!==p&&(G(de,o),G(Z,p))}function Re(o){de.current===o&&(M(Z),M(de)),ue.current===o&&(M(ue),fg._currentValue=se)}var Ee,We;function Ge(o){if(Ee===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);Ee=u&&u[1]||"",We=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+o+We}var ve=!1;function le(o,u){if(!o||ve)return"";ve=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(Ye){var $e=Ye}Reflect.construct(o,[],ht)}else{try{ht.call()}catch(Ye){$e=Ye}o.call(ht.prototype)}}else{try{throw Error()}catch(Ye){$e=Ye}(ht=o())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(Ye){if(Ye&&$e&&typeof Ye.stack=="string")return[Ye.stack,$e.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),J=I[0],pe=I[1];if(J&&pe){var Ne=J.split(`
`),ze=pe.split(`
`);for(E=v=0;v<Ne.length&&!Ne[v].includes("DetermineComponentFrameRoot");)v++;for(;E<ze.length&&!ze[E].includes("DetermineComponentFrameRoot");)E++;if(v===Ne.length||E===ze.length)for(v=Ne.length-1,E=ze.length-1;1<=v&&0<=E&&Ne[v]!==ze[E];)E--;for(;1<=v&&0<=E;v--,E--)if(Ne[v]!==ze[E]){if(v!==1||E!==1)do if(v--,E--,0>E||Ne[v]!==ze[E]){var rt=`
`+Ne[v].replace(" at new "," at ");return o.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",o.displayName)),rt}while(1<=v&&0<=E);break}}}finally{ve=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Ge(p):""}function lt(o,u){switch(o.tag){case 26:case 27:case 5:return Ge(o.type);case 16:return Ge("Lazy");case 13:return o.child!==u&&u!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return le(o.type,!1);case 11:return le(o.type.render,!1);case 1:return le(o.type,!0);case 31:return Ge("Activity");default:return""}}function nt(o){try{var u="",p=null;do u+=lt(o,p),p=o,o=o.return;while(o);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Xe=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,at=t.unstable_requestPaint,Qe=t.unstable_now,st=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,It=t.unstable_NormalPriority,Tt=t.unstable_LowPriority,Wt=t.unstable_IdlePriority,wt=t.log,Yn=t.unstable_setDisableYieldValue,un=null,lr=null;function bn(o){if(typeof wt=="function"&&Yn(o),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(un,o)}catch{}}var _n=Math.clz32?Math.clz32:ya,bi=Math.log,dn=Math.LN2;function ya(o){return o>>>=0,o===0?32:31-(bi(o)/dn|0)|0}var $n=256,pr=262144,si=4194304;function yn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Bt(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~I,v!==0?E=yn(v):(J&=pe,J!==0?E=yn(J):p||(p=pe&~o,p!==0&&(E=yn(p))))):(pe=v&~I,pe!==0?E=yn(pe):J!==0?E=yn(J):p||(p=v&~o,p!==0&&(E=yn(p)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,p=u&-u,I>=p||I===32&&(p&4194048)!==0)?u:E}function on(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function xa(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(){var o=si;return si<<=1,(si&62914560)===0&&(si=4194304),o}function di(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Xr(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ot(o,u,p,v,E,I){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,Ne=o.expirationTimes,ze=o.hiddenUpdates;for(p=J&~p;0<p;){var rt=31-_n(p),ht=1<<rt;pe[rt]=0,Ne[rt]=-1;var $e=ze[rt];if($e!==null)for(ze[rt]=null,rt=0;rt<$e.length;rt++){var Ye=$e[rt];Ye!==null&&(Ye.lane&=-536870913)}p&=~ht}v!==0&&Jr(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(J&~u))}function Jr(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-_n(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function br(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-_n(p),E=1<<v;E&u|o[v]&u&&(o[v]|=u),p&=~E}}function qr(o,u){var p=u&-u;return p=(p&42)!==0?1:cr(p),(p&(o.suspendedLanes|u))!==0?0:p}function cr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function me(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function tt(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:$3(o.type))}function $t(o,u){var p=ee.p;try{return ee.p=o,u()}finally{ee.p=p}}var nn=Math.random().toString(36).slice(2),zt="__reactFiber$"+nn,Mt="__reactProps$"+nn,Ht="__reactContainer$"+nn,Fe="__reactEvents$"+nn,Pt="__reactListeners$"+nn,qt="__reactHandles$"+nn,jr="__reactResources$"+nn,Mr="__reactMarker$"+nn;function jn(o){delete o[zt],delete o[Mt],delete o[Fe],delete o[Pt],delete o[qt]}function Dr(o){var u=o[zt];if(u)return u;for(var p=o.parentNode;p;){if(u=p[Ht]||p[zt]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=C3(o);o!==null;){if(p=o[zt])return p;o=C3(o)}return u}o=p,p=o.parentNode}return null}function Hn(o){if(o=o[zt]||o[Ht]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function La(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function ls(o){var u=o[jr];return u||(u=o[jr]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Vr(o){o[Mr]=!0}var Hs=new Set,Gs={};function zi(o,u){Fa(o,u),Fa(o+"Capture",u)}function Fa(o,u){for(Gs[o]=u,o=0;o<u.length;o++)Hs.add(u[o])}var gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},qc={};function Xo(o){return Xe.call(qc,o)?!0:Xe.call(Fl,o)?!1:gf.test(o)?qc[o]=!0:(Fl[o]=!0,!1)}function xo(o,u,p){if(Xo(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function ur(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function ba(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}function Ci(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Vc(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function zc(o,u,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,I=v.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(J){p=""+J,I.call(this,J)}}),Object.defineProperty(o,u,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(J){p=""+J},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ul(o){if(!o._valueTracker){var u=Vc(o)?"checked":"value";o._valueTracker=zc(o,u,""+o[u])}}function _a(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=Vc(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function Ws(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Qr=/[\n"\\]/g;function _r(o){return o.replace(Qr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ks(o,u,p,v,E,I,J,pe){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),u!=null?J==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Ci(u)):o.value!==""+Ci(u)&&(o.value=""+Ci(u)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),u!=null?Qo(o,J,Ci(u)):p!=null?Qo(o,J,Ci(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+Ci(pe):o.removeAttribute("name")}function Jo(o,u,p,v,E,I,J,pe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||u!=null)){Ul(o);return}p=p!=null?""+Ci(p):"",u=u!=null?""+Ci(u):p,pe||u===o.value||(o.value=u),o.defaultValue=u}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J),Ul(o)}function Qo(o,u,p){u==="number"&&Ws(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Mn(o,u,p,v){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Ci(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function bo(o,u,p){if(u!=null&&(u=""+Ci(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+Ci(p):""}function _o(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(oe(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=Ci(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),Ul(o)}function ra(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||vf.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function qu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in u)v=u[E],u.hasOwnProperty(E)&&p[E]!==v&&$c(o,E,v)}else for(var I in u)u.hasOwnProperty(I)&&$c(o,I,u[I])}function cs(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(o){return ql.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Vn(){}var Vl=null;function Zo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Kt=null,wa=null;function Vu(o){var u=Hn(o);if(u&&(o=u.stateNode)){var p=o[Mt]||null;e:switch(o=u.stateNode,u.type){case"input":if(Ks(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+_r(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var E=v[Mt]||null;if(!E)throw Error(r(90));Ks(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&_a(v)}break e;case"textarea":bo(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Mn(o,!!p.multiple,u,!1)}}}var Ua=!1;function Hc(o,u,p){if(Ua)return o(u,p);Ua=!0;try{var v=o(u);return v}finally{if(Ua=!1,(Kt!==null||wa!==null)&&(zv(),Kt&&(u=Kt,o=wa,wa=Kt=null,Vu(u),o)))for(u=0;u<o.length;u++)Vu(o[u])}}function $i(o,u){var p=o.stateNode;if(p===null)return null;var v=p[Mt]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(ia)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){el=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{el=!1}var Aa=null,zl=null,Ba=null;function qa(){if(Ba)return Ba;var o,u=zl,p=u.length,v,E="value"in Aa?Aa.value:Aa.textContent,I=E.length;for(o=0;o<p&&u[o]===E[o];o++);var J=p-o;for(v=1;v<=J&&u[p-v]===E[I-v];v++);return Ba=E.slice(o,1<v?1-v:void 0)}function Va(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function wo(){return!0}function Xn(){return!1}function fi(o){function u(p,v,E,I,J){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(I):I[pe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?wo:Xn,this.isPropagationStopped=Xn,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),u}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=fi(za),Ys=m({},za,{view:0,detail:0}),Gc=fi(Ys),Xs,Sa,zr,tl=m({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==zr&&(zr&&o.type==="mousemove"?(Xs=o.screenX-zr.screenX,Sa=o.screenY-zr.screenY):Sa=Xs=0,zr=o),Xs)},movementY:function(o){return"movementY"in o?o.movementY:Sa}}),Js=fi(tl),Hi=m({},tl,{dataTransfer:0}),$l=fi(Hi),Qs=m({},Ys,{relatedTarget:0}),So=fi(Qs),nl=m({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=fi(nl),Wc=m({},za,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Gl=fi(Wc),Eo=m({},za,{data:0}),No=fi(Eo),Wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Kl[o])?!!u[o]:!1}function ds(){return zu}var To=m({},Ys,{key:function(o){if(o.key){var u=Wl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Va(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(o){return o.type==="keypress"?Va(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Va(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Yl=fi(To),aa=m({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=fi(aa),j=m({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),te=fi(j),Ae=m({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Te=fi(Ae),De=m({},tl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=fi(De),gt=m({},za,{newState:0,oldState:0}),Nt=fi(gt),_=[9,13,27,32],$=ia&&"CompositionEvent"in window,Y=null;ia&&"documentMode"in document&&(Y=document.documentMode);var he=ia&&"TextEvent"in window&&!Y,je=ia&&(!$||Y&&8<Y&&11>=Y),qe=" ",yt=!1;function ln(o,u){switch(o){case"keyup":return _.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qt=!1;function Qn(o,u){switch(o){case"compositionend":return Nn(u);case"keypress":return u.which!==32?null:(yt=!0,qe);case"textInput":return o=u.data,o===qe&&yt?null:o;default:return null}}function mr(o,u){if(Qt)return o==="compositionend"||!$&&ln(o,u)?(o=qa(),Ba=zl=Aa=null,Qt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return je&&u.locale!=="ko"?null:u.data;default:return null}}var Zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Zs[o.type]:u==="textarea"}function eo(o,u,p,v){Kt?wa?wa.push(v):wa=[v]:Kt=v,u=Xv(u,"onChange"),0<u.length&&(p=new Ao("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var $a=null,al=null;function yf(o){p3(o,0)}function sl(o){var u=La(o);if(_a(u))return o}function Ri(o,u){if(o==="change")return u}var Kc=!1;if(ia){var Xl;if(ia){var Jl="oninput"in document;if(!Jl){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Jl=typeof $u.oninput=="function"}Xl=Jl}else Xl=!1;Kc=Xl&&(!document.documentMode||9<document.documentMode)}function Ea(){$a&&($a.detachEvent("onpropertychange",wh),al=$a=null)}function wh(o){if(o.propertyName==="value"&&sl(al)){var u=[];eo(u,al,o,Zo(o)),Hc(yf,u)}}function xf(o,u,p){o==="focusin"?(Ea(),$a=u,al=p,$a.attachEvent("onpropertychange",wh)):o==="focusout"&&Ea()}function Ah(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sl(al)}function Es(o,u){if(o==="click")return sl(u)}function Hu(o,u){if(o==="input"||o==="change")return sl(u)}function Sh(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var sa=typeof Object.is=="function"?Object.is:Sh;function Ns(o,u){if(sa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!Xe.call(u,E)||!sa(o[E],u[E]))return!1}return!0}function Ql(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Na(o,u){var p=Ql(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ql(p)}}function oa(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?oa(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function ol(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ws(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Ws(o.document)}return u}function to(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var ll=ia&&"documentMode"in document&&11>=document.documentMode,no=null,ro=null,Tr=null,Yc=!1;function la(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Yc||no==null||no!==Ws(v)||(v=no,"selectionStart"in v&&to(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Tr&&Ns(Tr,v)||(Tr=v,v=Xv(ro,"onSelect"),0<v.length&&(u=new Ao("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=no)))}function ki(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var io={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Gu={},Wu={};ia&&(Wu=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function fs(o){if(Gu[o])return Gu[o];if(!io[o])return o;var u=io[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in Wu)return Gu[o]=u[p];return o}var Zl=fs("animationend"),cl=fs("animationiteration"),ec=fs("animationstart"),Ku=fs("transitionrun"),Xc=fs("transitionstart"),tc=fs("transitioncancel"),Yu=fs("transitionend"),hs=new Map,Ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ha.push("scrollEnd");function Cn(o,u){hs.set(o,u),zi(u,[o])}var ar=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Gn=[],Lr=0,ao=0;function nc(){for(var o=Lr,u=ao=Lr=0;u<o;){var p=Gn[u];Gn[u++]=null;var v=Gn[u];Gn[u++]=null;var E=Gn[u];Gn[u++]=null;var I=Gn[u];if(Gn[u++]=null,v!==null&&E!==null){var J=v.pending;J===null?E.next=E:(E.next=J.next,J.next=E),v.pending=E}I!==0&&bf(p,E,I)}}function ul(o,u,p,v){Gn[Lr++]=o,Gn[Lr++]=u,Gn[Lr++]=p,Gn[Lr++]=v,ao|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Xu(o,u,p,v){return ul(o,u,p,v),ca(o)}function dl(o,u){return ul(o,null,null,u),ca(o)}function bf(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&u!==null&&(E=31-_n(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[u]:v.push(u),u.lane=p|536870912),I):null}function ca(o){if(50<ag)throw ag=0,O2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Gi={};function Eh(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(o,u,p,v){return new Eh(o,u,p,v)}function Nh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ts(o,u){var p=o.alternate;return p===null?(p=ua(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function _f(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Ju(o,u,p,v,E,I){var J=0;if(v=o,typeof o=="function")Nh(o)&&(J=1);else if(typeof o=="string")J=pH(o,p,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=ua(31,p,u,E),o.elementType=V,o.lanes=I,o;case A:return rc(p.children,E,I,u);case S:J=8,E|=24;break;case C:return o=ua(12,p,u,E|2),o.elementType=C,o.lanes=I,o;case L:return o=ua(13,p,u,E),o.elementType=L,o.lanes=I,o;case z:return o=ua(19,p,u,E),o.elementType=z,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:J=10;break e;case R:J=9;break e;case U:J=11;break e;case k:J=14;break e;case O:J=16,v=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=ua(J,p,u,E),u.elementType=o,u.type=v,u.lanes=I,u}function rc(o,u,p,v){return o=ua(7,o,v,u),o.lanes=p,o}function wf(o,u,p){return o=ua(6,o,null,u),o.lanes=p,o}function Th(o){var u=ua(18,null,null,0);return u.stateNode=o,u}function Qu(o,u,p){return u=ua(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ch=new WeakMap;function Cs(o,u){if(typeof o=="object"&&o!==null){var p=Ch.get(o);return p!==void 0?p:(u={value:o,source:u,stack:nt(u)},Ch.set(o,u),u)}return{value:o,source:u,stack:nt(u)}}var Zu=[],Jc=0,Ih=null,Af=0,Is=[],Rs=0,ic=null,ks=1,Ps="";function ps(o,u){Zu[Jc++]=Af,Zu[Jc++]=Ih,Ih=o,Af=u}function wv(o,u,p){Is[Rs++]=ks,Is[Rs++]=Ps,Is[Rs++]=ic,ic=o;var v=ks;o=Ps;var E=32-_n(v)-1;v&=~(1<<E),p+=1;var I=32-_n(u)+E;if(30<I){var J=E-E%5;I=(v&(1<<J)-1).toString(32),v>>=J,E-=J,ks=1<<32-_n(u)+E|p<<E|v,Ps=I+o}else ks=1<<I|p<<E|v,Ps=o}function Fm(o){o.return!==null&&(ps(o,1),wv(o,1,0))}function Rh(o){for(;o===Ih;)Ih=Zu[--Jc],Zu[Jc]=null,Af=Zu[--Jc],Zu[Jc]=null;for(;o===ic;)ic=Is[--Rs],Is[Rs]=null,Ps=Is[--Rs],Is[Rs]=null,ks=Is[--Rs],Is[Rs]=null}function Av(o,u){Is[Rs++]=ks,Is[Rs++]=Ps,Is[Rs++]=ic,ks=u.id,Ps=u.overflow,ic=o}var Wi=null,Cr=null,In=!1,Ta=null,Zr=!1,so=Error(r(519));function ac(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ed(Cs(u,o)),so}function Um(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[zt]=o,u[Mt]=v,p){case"dialog":Pn("cancel",u),Pn("close",u);break;case"iframe":case"object":case"embed":Pn("load",u);break;case"video":case"audio":for(p=0;p<og.length;p++)Pn(og[p],u);break;case"source":Pn("error",u);break;case"img":case"image":case"link":Pn("error",u),Pn("load",u);break;case"details":Pn("toggle",u);break;case"input":Pn("invalid",u),Jo(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Pn("invalid",u);break;case"textarea":Pn("invalid",u),_o(u,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||y3(u.textContent,p)?(v.popover!=null&&(Pn("beforetoggle",u),Pn("toggle",u)),v.onScroll!=null&&Pn("scroll",u),v.onScrollEnd!=null&&Pn("scrollend",u),v.onClick!=null&&(u.onclick=Vn),u=!0):u=!1,u||ac(o,!0)}function fl(o){for(Wi=o.return;Wi;)switch(Wi.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Wi=Wi.return}}function Ki(o){if(o!==Wi)return!1;if(!In)return fl(o),In=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||K2(o.type,o.memoizedProps)),p=!p),p&&Cr&&ac(o),fl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Cr=T3(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Cr=T3(o)}else u===27?(u=Cr,pd(o.type)?(o=Z2,Z2=null,Cr=o):Cr=u):Cr=Wi?jo(o.stateNode.nextSibling):null;return!0}function Qc(){Cr=Wi=null,In=!1}function Bm(){var o=Ta;return o!==null&&(Fs===null?Fs=o:Fs.push.apply(Fs,o),Ta=null),o}function ed(o){Ta===null?Ta=[o]:Ta.push(o)}var kh=ce(null),sc=null,Co=null;function oc(o,u,p){G(kh,u._currentValue),u._currentValue=p}function Os(o){o._currentValue=kh.current,M(kh)}function td(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function Zc(o,u,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var J=E.child;I=I.firstContext;e:for(;I!==null;){var pe=I;I=E;for(var Ne=0;Ne<u.length;Ne++)if(pe.context===u[Ne]){I.lanes|=p,pe=I.alternate,pe!==null&&(pe.lanes|=p),td(I.return,p,o),v||(J=null);break e}I=pe.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=p,I=J.alternate,I!==null&&(I.lanes|=p),td(J,p,o),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===o){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function lc(o,u,p,v){o=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var pe=E.type;sa(E.pendingProps.value,J.value)||(o!==null?o.push(pe):o=[pe])}}else if(E===ue.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(fg):o=[fg])}E=E.return}o!==null&&Zc(u,o,p,v),u.flags|=262144}function Ph(o){for(o=o.firstContext;o!==null;){if(!sa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function cc(o){sc=o,Co=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Yi(o){return Sv(sc,o)}function Oh(o,u){return sc===null&&cc(o),Sv(o,u)}function Sv(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Co===null){if(o===null)throw Error(r(308));Co=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Co=Co.next=u;return p}var Qb=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},Zb=t.unstable_scheduleCallback,e2=t.unstable_NormalPriority,oi={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new Qb,data:new Map,refCount:0}}function Sf(o){o.refCount--,o.refCount===0&&Zb(e2,function(){o.controller.abort()})}var Ef=null,jh=0,b=0,T=null;function q(o,u){if(Ef===null){var p=Ef=[];jh=0,b=U2(),T={status:"pending",value:void 0,then:function(v){p.push(v)}}}return jh++,u.then(H,H),u}function H(){if(--jh===0&&Ef!==null){T!==null&&(T.status="fulfilled");var o=Ef;Ef=null,b=0,T=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function ne(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var ie=K.S;K.S=function(o,u){V4=Qe(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&q(o,u),ie!==null&&ie(o,u)};var ae=ce(null);function fe(){var o=ae.current;return o!==null?o:Rr.pooledCache}function ge(o,u){u===null?G(ae,ae.current):G(ae,u.pool)}function be(){var o=fe();return o===null?null:{parent:oi._currentValue,pool:o}}var Ce=Error(r(460)),Be=Error(r(474)),Ue=Error(r(542)),Me={then:function(){}};function ft(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Je(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(Vn,Vn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,mt(o),o;default:if(typeof u.status=="string")u.then(Vn,Vn);else{if(o=Rr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=v}},function(v){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,mt(o),o}throw Pe=u,Ce}}function Ie(o){try{var u=o._init;return u(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Pe=p,Ce):p}}var Pe=null;function ct(){if(Pe===null)throw Error(r(459));var o=Pe;return Pe=null,o}function mt(o){if(o===Ce||o===Ue)throw Error(r(483))}var ot=null,Ct=0;function St(o){var u=Ct;return Ct+=1,ot===null&&(ot=[]),Je(ot,o,u)}function Vt(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Et(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Wn(o){function u(Le,ke){if(o){var Ve=Le.deletions;Ve===null?(Le.deletions=[ke],Le.flags|=16):Ve.push(ke)}}function p(Le,ke){if(!o)return null;for(;ke!==null;)u(Le,ke),ke=ke.sibling;return null}function v(Le){for(var ke=new Map;Le!==null;)Le.key!==null?ke.set(Le.key,Le):ke.set(Le.index,Le),Le=Le.sibling;return ke}function E(Le,ke){return Le=Ts(Le,ke),Le.index=0,Le.sibling=null,Le}function I(Le,ke,Ve){return Le.index=Ve,o?(Ve=Le.alternate,Ve!==null?(Ve=Ve.index,Ve<ke?(Le.flags|=67108866,ke):Ve):(Le.flags|=67108866,ke)):(Le.flags|=1048576,ke)}function J(Le){return o&&Le.alternate===null&&(Le.flags|=67108866),Le}function pe(Le,ke,Ve,ut){return ke===null||ke.tag!==6?(ke=wf(Ve,Le.mode,ut),ke.return=Le,ke):(ke=E(ke,Ve),ke.return=Le,ke)}function Ne(Le,ke,Ve,ut){var Yt=Ve.type;return Yt===A?rt(Le,ke,Ve.props.children,ut,Ve.key):ke!==null&&(ke.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===O&&Ie(Yt)===ke.type)?(ke=E(ke,Ve.props),Vt(ke,Ve),ke.return=Le,ke):(ke=Ju(Ve.type,Ve.key,Ve.props,null,Le.mode,ut),Vt(ke,Ve),ke.return=Le,ke)}function ze(Le,ke,Ve,ut){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ve.containerInfo||ke.stateNode.implementation!==Ve.implementation?(ke=Qu(Ve,Le.mode,ut),ke.return=Le,ke):(ke=E(ke,Ve.children||[]),ke.return=Le,ke)}function rt(Le,ke,Ve,ut,Yt){return ke===null||ke.tag!==7?(ke=rc(Ve,Le.mode,ut,Yt),ke.return=Le,ke):(ke=E(ke,Ve),ke.return=Le,ke)}function ht(Le,ke,Ve){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=wf(""+ke,Le.mode,Ve),ke.return=Le,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return Ve=Ju(ke.type,ke.key,ke.props,null,Le.mode,Ve),Vt(Ve,ke),Ve.return=Le,Ve;case N:return ke=Qu(ke,Le.mode,Ve),ke.return=Le,ke;case O:return ke=Ie(ke),ht(Le,ke,Ve)}if(oe(ke)||D(ke))return ke=rc(ke,Le.mode,Ve,null),ke.return=Le,ke;if(typeof ke.then=="function")return ht(Le,St(ke),Ve);if(ke.$$typeof===P)return ht(Le,Oh(Le,ke),Ve);Et(Le,ke)}return null}function $e(Le,ke,Ve,ut){var Yt=ke!==null?ke.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Yt!==null?null:pe(Le,ke,""+Ve,ut);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return Ve.key===Yt?Ne(Le,ke,Ve,ut):null;case N:return Ve.key===Yt?ze(Le,ke,Ve,ut):null;case O:return Ve=Ie(Ve),$e(Le,ke,Ve,ut)}if(oe(Ve)||D(Ve))return Yt!==null?null:rt(Le,ke,Ve,ut,null);if(typeof Ve.then=="function")return $e(Le,ke,St(Ve),ut);if(Ve.$$typeof===P)return $e(Le,ke,Oh(Le,Ve),ut);Et(Le,Ve)}return null}function Ye(Le,ke,Ve,ut,Yt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Le=Le.get(Ve)||null,pe(ke,Le,""+ut,Yt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case y:return Le=Le.get(ut.key===null?Ve:ut.key)||null,Ne(ke,Le,ut,Yt);case N:return Le=Le.get(ut.key===null?Ve:ut.key)||null,ze(ke,Le,ut,Yt);case O:return ut=Ie(ut),Ye(Le,ke,Ve,ut,Yt)}if(oe(ut)||D(ut))return Le=Le.get(Ve)||null,rt(ke,Le,ut,Yt,null);if(typeof ut.then=="function")return Ye(Le,ke,Ve,St(ut),Yt);if(ut.$$typeof===P)return Ye(Le,ke,Ve,Oh(ke,ut),Yt);Et(ke,ut)}return null}function Lt(Le,ke,Ve,ut){for(var Yt=null,er=null,Ut=ke,wn=ke=0,Fn=null;Ut!==null&&wn<Ve.length;wn++){Ut.index>wn?(Fn=Ut,Ut=null):Fn=Ut.sibling;var tr=$e(Le,Ut,Ve[wn],ut);if(tr===null){Ut===null&&(Ut=Fn);break}o&&Ut&&tr.alternate===null&&u(Le,Ut),ke=I(tr,ke,wn),er===null?Yt=tr:er.sibling=tr,er=tr,Ut=Fn}if(wn===Ve.length)return p(Le,Ut),In&&ps(Le,wn),Yt;if(Ut===null){for(;wn<Ve.length;wn++)Ut=ht(Le,Ve[wn],ut),Ut!==null&&(ke=I(Ut,ke,wn),er===null?Yt=Ut:er.sibling=Ut,er=Ut);return In&&ps(Le,wn),Yt}for(Ut=v(Ut);wn<Ve.length;wn++)Fn=Ye(Ut,Le,wn,Ve[wn],ut),Fn!==null&&(o&&Fn.alternate!==null&&Ut.delete(Fn.key===null?wn:Fn.key),ke=I(Fn,ke,wn),er===null?Yt=Fn:er.sibling=Fn,er=Fn);return o&&Ut.forEach(function(xd){return u(Le,xd)}),In&&ps(Le,wn),Yt}function en(Le,ke,Ve,ut){if(Ve==null)throw Error(r(151));for(var Yt=null,er=null,Ut=ke,wn=ke=0,Fn=null,tr=Ve.next();Ut!==null&&!tr.done;wn++,tr=Ve.next()){Ut.index>wn?(Fn=Ut,Ut=null):Fn=Ut.sibling;var xd=$e(Le,Ut,tr.value,ut);if(xd===null){Ut===null&&(Ut=Fn);break}o&&Ut&&xd.alternate===null&&u(Le,Ut),ke=I(xd,ke,wn),er===null?Yt=xd:er.sibling=xd,er=xd,Ut=Fn}if(tr.done)return p(Le,Ut),In&&ps(Le,wn),Yt;if(Ut===null){for(;!tr.done;wn++,tr=Ve.next())tr=ht(Le,tr.value,ut),tr!==null&&(ke=I(tr,ke,wn),er===null?Yt=tr:er.sibling=tr,er=tr);return In&&ps(Le,wn),Yt}for(Ut=v(Ut);!tr.done;wn++,tr=Ve.next())tr=Ye(Ut,Le,wn,tr.value,ut),tr!==null&&(o&&tr.alternate!==null&&Ut.delete(tr.key===null?wn:tr.key),ke=I(tr,ke,wn),er===null?Yt=tr:er.sibling=tr,er=tr);return o&&Ut.forEach(function(EH){return u(Le,EH)}),In&&ps(Le,wn),Yt}function Sr(Le,ke,Ve,ut){if(typeof Ve=="object"&&Ve!==null&&Ve.type===A&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:e:{for(var Yt=Ve.key;ke!==null;){if(ke.key===Yt){if(Yt=Ve.type,Yt===A){if(ke.tag===7){p(Le,ke.sibling),ut=E(ke,Ve.props.children),ut.return=Le,Le=ut;break e}}else if(ke.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===O&&Ie(Yt)===ke.type){p(Le,ke.sibling),ut=E(ke,Ve.props),Vt(ut,Ve),ut.return=Le,Le=ut;break e}p(Le,ke);break}else u(Le,ke);ke=ke.sibling}Ve.type===A?(ut=rc(Ve.props.children,Le.mode,ut,Ve.key),ut.return=Le,Le=ut):(ut=Ju(Ve.type,Ve.key,Ve.props,null,Le.mode,ut),Vt(ut,Ve),ut.return=Le,Le=ut)}return J(Le);case N:e:{for(Yt=Ve.key;ke!==null;){if(ke.key===Yt)if(ke.tag===4&&ke.stateNode.containerInfo===Ve.containerInfo&&ke.stateNode.implementation===Ve.implementation){p(Le,ke.sibling),ut=E(ke,Ve.children||[]),ut.return=Le,Le=ut;break e}else{p(Le,ke);break}else u(Le,ke);ke=ke.sibling}ut=Qu(Ve,Le.mode,ut),ut.return=Le,Le=ut}return J(Le);case O:return Ve=Ie(Ve),Sr(Le,ke,Ve,ut)}if(oe(Ve))return Lt(Le,ke,Ve,ut);if(D(Ve)){if(Yt=D(Ve),typeof Yt!="function")throw Error(r(150));return Ve=Yt.call(Ve),en(Le,ke,Ve,ut)}if(typeof Ve.then=="function")return Sr(Le,ke,St(Ve),ut);if(Ve.$$typeof===P)return Sr(Le,ke,Oh(Le,Ve),ut);Et(Le,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,ke!==null&&ke.tag===6?(p(Le,ke.sibling),ut=E(ke,Ve),ut.return=Le,Le=ut):(p(Le,ke),ut=wf(Ve,Le.mode,ut),ut.return=Le,Le=ut),J(Le)):p(Le,ke)}return function(Le,ke,Ve,ut){try{Ct=0;var Yt=Sr(Le,ke,Ve,ut);return ot=null,Yt}catch(Ut){if(Ut===Ce||Ut===Ue)throw Ut;var er=ua(29,Ut,null,Le.mode);return er.lanes=ut,er.return=Le,er}finally{}}}var Rn=Wn(!0),Dn=Wn(!1),fn=!1;function sr(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zn(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Zt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function gr(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(or&2)!==0){var E=v.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),v.pending=u,u=ca(o),bf(o,null,p),u}return ul(o,v,u,p),ca(o)}function Pi(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,br(o,p)}}function ei(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=J:I=I.next=J,p=p.next}while(p!==null);I===null?E=I=u:I=I.next=u}else E=I=u;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var da=!1;function zn(){if(da){var o=T;if(o!==null)throw o}}function Xi(o,u,p,v){da=!1;var E=o.updateQueue;fn=!1;var I=E.firstBaseUpdate,J=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var Ne=pe,ze=Ne.next;Ne.next=null,J===null?I=ze:J.next=ze,J=Ne;var rt=o.alternate;rt!==null&&(rt=rt.updateQueue,pe=rt.lastBaseUpdate,pe!==J&&(pe===null?rt.firstBaseUpdate=ze:pe.next=ze,rt.lastBaseUpdate=Ne))}if(I!==null){var ht=E.baseState;J=0,rt=ze=Ne=null,pe=I;do{var $e=pe.lane&-536870913,Ye=$e!==pe.lane;if(Ye?(Ln&$e)===$e:(v&$e)===$e){$e!==0&&$e===b&&(da=!0),rt!==null&&(rt=rt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Lt=o,en=pe;$e=u;var Sr=p;switch(en.tag){case 1:if(Lt=en.payload,typeof Lt=="function"){ht=Lt.call(Sr,ht,$e);break e}ht=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=en.payload,$e=typeof Lt=="function"?Lt.call(Sr,ht,$e):Lt,$e==null)break e;ht=m({},ht,$e);break e;case 2:fn=!0}}$e=pe.callback,$e!==null&&(o.flags|=64,Ye&&(o.flags|=8192),Ye=E.callbacks,Ye===null?E.callbacks=[$e]:Ye.push($e))}else Ye={lane:$e,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},rt===null?(ze=rt=Ye,Ne=ht):rt=rt.next=Ye,J|=$e;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;Ye=pe,pe=Ye.next,Ye.next=null,E.lastBaseUpdate=Ye,E.shared.pending=null}}while(!0);rt===null&&(Ne=ht),E.baseState=Ne,E.firstBaseUpdate=ze,E.lastBaseUpdate=rt,I===null&&(E.shared.lanes=0),cd|=J,o.lanes=J,o.memoizedState=ht}}function Ga(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function _i(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Ga(p[o],u)}var ti=ce(null),Oi=ce(0);function ms(o,u){o=du,G(Oi,o),G(ti,u),du=o|u.baseLanes}function js(){G(Oi,du),G(ti,ti.current)}function hi(){du=Oi.current,M(ti),M(Oi)}var li=ce(null),ji=null;function gs(o){var u=o.alternate;G(ni,ni.current&1),G(li,o),ji===null&&(u===null||ti.current!==null||u.memoizedState!==null)&&(ji=o)}function Io(o){G(ni,ni.current),G(li,o),ji===null&&(ji=o)}function $r(o){o.tag===22?(G(ni,ni.current),G(li,o),ji===null&&(ji=o)):Ro()}function Ro(){G(ni,ni.current),G(li,li.current)}function Wa(o){M(li),ji===o&&(ji=null),M(ni)}var ni=ce(0);function eu(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||J2(p)||Q2(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vs=0,cn=null,Sn=null,Ir=null,hl=!1,tu=!1,ko=!1,Nf=0,uc=0,dc=null,Mh=0;function wr(){throw Error(r(321))}function qm(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!sa(o[p],u[p]))return!1;return!0}function Vm(o,u,p,v,E,I){return vs=I,cn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,K.H=o===null||o.memoizedState===null?ZI:l2,ko=!1,I=p(v,E),ko=!1,tu&&(I=pl(u,p,v,E)),Dh(o),I}function Dh(o){K.H=Xm;var u=Sn!==null&&Sn.next!==null;if(vs=0,Ir=Sn=cn=null,hl=!1,uc=0,dc=null,u)throw Error(r(300));o===null||Di||(o=o.dependencies,o!==null&&Ph(o)&&(Di=!0))}function pl(o,u,p,v){cn=o;var E=0;do{if(tu&&(dc=null),uc=0,tu=!1,25<=E)throw Error(r(301));if(E+=1,Ir=Sn=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}K.H=e4,I=u(p,v)}while(tu);return I}function t2(){var o=K.H,u=o.useState()[0];return u=typeof u.then=="function"?fc(u):u,o=o.useState()[0],(Sn!==null?Sn.memoizedState:null)!==o&&(cn.flags|=1024),u}function zm(){var o=Nf!==0;return Nf=0,o}function $m(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function Lh(o){if(hl){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}hl=!1}vs=0,Ir=Sn=cn=null,tu=!1,uc=Nf=0,dc=null}function Mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?cn.memoizedState=Ir=o:Ir=Ir.next=o,Ir}function ri(){if(Sn===null){var o=cn.alternate;o=o!==null?o.memoizedState:null}else o=Sn.next;var u=Ir===null?cn.memoizedState:Ir.next;if(u!==null)Ir=u,Sn=o;else{if(o===null)throw cn.alternate===null?Error(r(467)):Error(r(310));Sn=o,o={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Ir===null?cn.memoizedState=Ir=o:Ir=Ir.next=o}return Ir}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(o){var u=uc;return uc+=1,dc===null&&(dc=[]),o=Je(dc,o,u),u=cn,(Ir===null?u.memoizedState:Ir.next)===null&&(u=u.alternate,K.H=u===null||u.memoizedState===null?ZI:l2),o}function rd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return fc(o);if(o.$$typeof===P)return Yi(o)}throw Error(r(438,String(o)))}function nu(o){var u=null,p=cn.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=cn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Tf(),cn.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=W;return u.index++,p}function Po(o,u){return typeof u=="function"?u(o):u}function Fh(o){var u=ri();return id(u,Sn,o)}function id(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var J=E.next;E.next=I.next,I.next=J}u.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{u=E.next;var pe=J=null,Ne=null,ze=u,rt=!1;do{var ht=ze.lane&-536870913;if(ht!==ze.lane?(Ln&ht)===ht:(vs&ht)===ht){var $e=ze.revertLane;if($e===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),ht===b&&(rt=!0);else if((vs&$e)===$e){ze=ze.next,$e===b&&(rt=!0);continue}else ht={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ne===null?(pe=Ne=ht,J=I):Ne=Ne.next=ht,cn.lanes|=$e,cd|=$e;ht=ze.action,ko&&p(I,ht),I=ze.hasEagerState?ze.eagerState:p(I,ht)}else $e={lane:ht,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ne===null?(pe=Ne=$e,J=I):Ne=Ne.next=$e,cn.lanes|=ht,cd|=ht;ze=ze.next}while(ze!==null&&ze!==u);if(Ne===null?J=I:Ne.next=pe,!sa(I,o.memoizedState)&&(Di=!0,rt&&(p=T,p!==null)))throw p;o.memoizedState=I,o.baseState=J,o.baseQueue=Ne,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Uh(o){var u=ri(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=u.memoizedState;if(E!==null){p.pending=null;var J=E=E.next;do I=o(I,J.action),J=J.next;while(J!==E);sa(I,u.memoizedState)||(Di=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),p.lastRenderedState=I}return[I,v]}function Bh(o,u,p){var v=cn,E=ri(),I=In;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=u();var J=!sa((Sn||E).memoizedState,p);if(J&&(E.memoizedState=p,Di=!0),E=E.queue,n2(Gm.bind(null,v,E,o),[o]),E.getSnapshot!==u||J||Ir!==null&&Ir.memoizedState.tag&1){if(v.flags|=2048,iu(9,{destroy:void 0},Hm.bind(null,v,E,p,u),null),Rr===null)throw Error(r(349));I||(vs&127)!==0||ml(v,u,p)}return p}function ml(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=cn.updateQueue,u===null?(u=Tf(),cn.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Hm(o,u,p,v){u.value=p,u.getSnapshot=v,Ev(u)&&Wm(o)}function Gm(o,u,p){return p(function(){Ev(u)&&Wm(o)})}function Ev(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!sa(o,p)}catch{return!0}}function Wm(o){var u=dl(o,2);u!==null&&Us(u,o,2)}function hc(o){var u=Mi();if(typeof o=="function"){var p=o;if(o=p(),ko){bn(!0);try{p()}finally{bn(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:o},u}function Nv(o,u,p,v){return o.baseState=p,id(o,Sn,typeof v=="function"?v:Po)}function Tv(o,u,p,v,E){if(kv(o))throw Error(r(485));if(o=u.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};K.T!==null?p(!0):I.isTransition=!1,v(I),p=u.pending,p===null?(I.next=u.pending=I,Cv(u,I)):(I.next=p.next,u.pending=p.next=I)}}function Cv(o,u){var p=u.action,v=u.payload,E=o.state;if(u.isTransition){var I=K.T,J={};K.T=J;try{var pe=p(E,v),Ne=K.S;Ne!==null&&Ne(J,pe),Km(o,u,pe)}catch(ze){ru(o,u,ze)}finally{I!==null&&J.types!==null&&(I.types=J.types),K.T=I}}else try{I=p(E,v),Km(o,u,I)}catch(ze){ru(o,u,ze)}}function Km(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Iv(o,u,v)},function(v){return ru(o,u,v)}):Iv(o,u,p)}function Iv(o,u,p){u.status="fulfilled",u.value=p,qh(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Cv(o,p)))}function ru(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,qh(u),u=u.next;while(u!==v)}o.action=null}function qh(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Cf(o,u){return u}function Oo(o,u){if(In){var p=Rr.formState;if(p!==null){e:{var v=cn;if(In){if(Cr){t:{for(var E=Cr,I=Zr;E.nodeType!==8;){if(!I){E=null;break t}if(E=jo(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){Cr=jo(E.nextSibling),v=E.data==="F!";break e}}ac(v)}v=!1}v&&(u=p[0])}}return p=Mi(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:u},p.queue=v,p=XI.bind(null,cn,v),v.dispatch=p,v=hc(!1),I=o2.bind(null,cn,!1,v.queue),v=Mi(),E={state:u,dispatch:null,action:o,pending:null},v.queue=E,p=Tv.bind(null,cn,E,I,p),E.dispatch=p,v.memoizedState=o,[u,p,!1]}function gl(o){var u=ri();return vl(u,Sn,o)}function vl(o,u,p){if(u=id(o,u,Cf)[0],o=Fh(Po)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=fc(u)}catch(J){throw J===Ce?Ue:J}else v=u;u=ri();var E=u.queue,I=E.dispatch;return p!==u.memoizedState&&(cn.flags|=2048,iu(9,{destroy:void 0},Vh.bind(null,E,p),null)),[v,I,o]}function Vh(o,u){o.action=u}function zh(o){var u=ri(),p=Sn;if(p!==null)return vl(u,p,o);ri(),u=u.memoizedState,p=ri();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function iu(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=cn.updateQueue,u===null&&(u=Tf(),cn.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function Rv(){return ri().memoizedState}function ad(o,u,p,v){var E=Mi();cn.flags|=o,E.memoizedState=iu(1|u,{destroy:void 0},p,v===void 0?null:v)}function sd(o,u,p,v){var E=ri();v=v===void 0?null:v;var I=E.memoizedState.inst;Sn!==null&&v!==null&&qm(v,Sn.memoizedState.deps)?E.memoizedState=iu(u,I,p,v):(cn.flags|=o,E.memoizedState=iu(1|u,I,p,v))}function DI(o,u){ad(8390656,8,o,u)}function n2(o,u){sd(2048,8,o,u)}function x$(o){cn.flags|=4;var u=cn.updateQueue;if(u===null)u=Tf(),cn.updateQueue=u,u.events=[o];else{var p=u.events;p===null?u.events=[o]:p.push(o)}}function LI(o){var u=ri().memoizedState;return x$({ref:u,nextImpl:o}),function(){if((or&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function FI(o,u){return sd(4,2,o,u)}function UI(o,u){return sd(4,4,o,u)}function BI(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function qI(o,u,p){p=p!=null?p.concat([o]):null,sd(4,4,BI.bind(null,u,o),p)}function r2(){}function VI(o,u){var p=ri();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&qm(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function zI(o,u){var p=ri();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&qm(u,v[1]))return v[0];if(v=o(),ko){bn(!0);try{o()}finally{bn(!1)}}return p.memoizedState=[v,u],v}function i2(o,u,p){return p===void 0||(vs&1073741824)!==0&&(Ln&261930)===0?o.memoizedState=u:(o.memoizedState=p,o=$4(),cn.lanes|=o,cd|=o,p)}function $I(o,u,p,v){return sa(p,u)?p:ti.current!==null?(o=i2(o,p,v),sa(o,u)||(Di=!0),o):(vs&42)===0||(vs&1073741824)!==0&&(Ln&261930)===0?(Di=!0,o.memoizedState=p):(o=$4(),cn.lanes|=o,cd|=o,u)}function HI(o,u,p,v,E){var I=ee.p;ee.p=I!==0&&8>I?I:8;var J=K.T,pe={};K.T=pe,o2(o,!1,u,p);try{var Ne=E(),ze=K.S;if(ze!==null&&ze(pe,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var rt=ne(Ne,v);Ym(o,u,rt,co(o))}else Ym(o,u,v,co(o))}catch(ht){Ym(o,u,{then:function(){},status:"rejected",reason:ht},co())}finally{ee.p=I,J!==null&&pe.types!==null&&(J.types=pe.types),K.T=J}}function b$(){}function a2(o,u,p,v){if(o.tag!==5)throw Error(r(476));var E=GI(o).queue;HI(o,E,u,se,p===null?b$:function(){return WI(o),p(v)})}function GI(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:se},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function WI(o){var u=GI(o);u.next===null&&(u=o.alternate.memoizedState),Ym(o,u.next.queue,{},co())}function s2(){return Yi(fg)}function KI(){return ri().memoizedState}function YI(){return ri().memoizedState}function _$(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=co();o=Zt(p);var v=gr(u,o,p);v!==null&&(Us(v,u,p),Pi(v,u,p)),u={cache:nd()},o.payload=u;return}u=u.return}}function w$(o,u,p){var v=co();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},kv(o)?JI(u,p):(p=Xu(o,u,p,v),p!==null&&(Us(p,o,v),QI(p,u,v)))}function XI(o,u,p){var v=co();Ym(o,u,p,v)}function Ym(o,u,p,v){var E={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(kv(o))JI(u,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var J=u.lastRenderedState,pe=I(J,p);if(E.hasEagerState=!0,E.eagerState=pe,sa(pe,J))return ul(o,u,E,0),Rr===null&&nc(),!1}catch{}finally{}if(p=Xu(o,u,E,v),p!==null)return Us(p,o,v),QI(p,u,v),!0}return!1}function o2(o,u,p,v){if(v={lane:2,revertLane:U2(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},kv(o)){if(u)throw Error(r(479))}else u=Xu(o,p,v,2),u!==null&&Us(u,o,2)}function kv(o){var u=o.alternate;return o===cn||u!==null&&u===cn}function JI(o,u){tu=hl=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function QI(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,br(o,p)}}var Xm={readContext:Yi,use:rd,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr,useHostTransitionStatus:wr,useFormState:wr,useActionState:wr,useOptimistic:wr,useMemoCache:wr,useCacheRefresh:wr};Xm.useEffectEvent=wr;var ZI={readContext:Yi,use:rd,useCallback:function(o,u){return Mi().memoizedState=[o,u===void 0?null:u],o},useContext:Yi,useEffect:DI,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,ad(4194308,4,BI.bind(null,u,o),p)},useLayoutEffect:function(o,u){return ad(4194308,4,o,u)},useInsertionEffect:function(o,u){ad(4,2,o,u)},useMemo:function(o,u){var p=Mi();u=u===void 0?null:u;var v=o();if(ko){bn(!0);try{o()}finally{bn(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=Mi();if(p!==void 0){var E=p(u);if(ko){bn(!0);try{p(u)}finally{bn(!1)}}}else E=u;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=w$.bind(null,cn,o),[v.memoizedState,o]},useRef:function(o){var u=Mi();return o={current:o},u.memoizedState=o},useState:function(o){o=hc(o);var u=o.queue,p=XI.bind(null,cn,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:r2,useDeferredValue:function(o,u){var p=Mi();return i2(p,o,u)},useTransition:function(){var o=hc(!1);return o=HI.bind(null,cn,o.queue,!0,!1),Mi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=cn,E=Mi();if(In){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Rr===null)throw Error(r(349));(Ln&127)!==0||ml(v,u,p)}E.memoizedState=p;var I={value:p,getSnapshot:u};return E.queue=I,DI(Gm.bind(null,v,I,o),[o]),v.flags|=2048,iu(9,{destroy:void 0},Hm.bind(null,v,I,p,u),null),p},useId:function(){var o=Mi(),u=Rr.identifierPrefix;if(In){var p=Ps,v=ks;p=(v&~(1<<32-_n(v)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Nf++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=Mh++,u="_"+u+"r_"+p.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:s2,useFormState:Oo,useActionState:Oo,useOptimistic:function(o){var u=Mi();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=o2.bind(null,cn,!0,p),p.dispatch=u,[o,u]},useMemoCache:nu,useCacheRefresh:function(){return Mi().memoizedState=_$.bind(null,cn)},useEffectEvent:function(o){var u=Mi(),p={impl:o};return u.memoizedState=p,function(){if((or&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},l2={readContext:Yi,use:rd,useCallback:VI,useContext:Yi,useEffect:n2,useImperativeHandle:qI,useInsertionEffect:FI,useLayoutEffect:UI,useMemo:zI,useReducer:Fh,useRef:Rv,useState:function(){return Fh(Po)},useDebugValue:r2,useDeferredValue:function(o,u){var p=ri();return $I(p,Sn.memoizedState,o,u)},useTransition:function(){var o=Fh(Po)[0],u=ri().memoizedState;return[typeof o=="boolean"?o:fc(o),u]},useSyncExternalStore:Bh,useId:KI,useHostTransitionStatus:s2,useFormState:gl,useActionState:gl,useOptimistic:function(o,u){var p=ri();return Nv(p,Sn,o,u)},useMemoCache:nu,useCacheRefresh:YI};l2.useEffectEvent=LI;var e4={readContext:Yi,use:rd,useCallback:VI,useContext:Yi,useEffect:n2,useImperativeHandle:qI,useInsertionEffect:FI,useLayoutEffect:UI,useMemo:zI,useReducer:Uh,useRef:Rv,useState:function(){return Uh(Po)},useDebugValue:r2,useDeferredValue:function(o,u){var p=ri();return Sn===null?i2(p,o,u):$I(p,Sn.memoizedState,o,u)},useTransition:function(){var o=Uh(Po)[0],u=ri().memoizedState;return[typeof o=="boolean"?o:fc(o),u]},useSyncExternalStore:Bh,useId:KI,useHostTransitionStatus:s2,useFormState:zh,useActionState:zh,useOptimistic:function(o,u){var p=ri();return Sn!==null?Nv(p,Sn,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:nu,useCacheRefresh:YI};e4.useEffectEvent=LI;function c2(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:m({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var u2={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=co(),E=Zt(v);E.payload=u,p!=null&&(E.callback=p),u=gr(o,E,v),u!==null&&(Us(u,o,v),Pi(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=co(),E=Zt(v);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=gr(o,E,v),u!==null&&(Us(u,o,v),Pi(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=co(),v=Zt(p);v.tag=2,u!=null&&(v.callback=u),u=gr(o,v,p),u!==null&&(Us(u,o,p),Pi(u,o,p))}};function t4(o,u,p,v,E,I,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,J):u.prototype&&u.prototype.isPureReactComponent?!Ns(p,v)||!Ns(E,I):!0}function n4(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&u2.enqueueReplaceState(u,u.state,null)}function If(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=m({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}function r4(o){ar(o)}function i4(o){console.error(o)}function a4(o){ar(o)}function Pv(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function s4(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function d2(o,u,p){return p=Zt(p),p.tag=3,p.payload={element:null},p.callback=function(){Pv(o,u)},p}function o4(o){return o=Zt(o),o.tag=3,o}function l4(o,u,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){s4(u,p,v)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){s4(u,p,v),typeof E!="function"&&(ud===null?ud=new Set([this]):ud.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function A$(o,u,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&lc(u,p,E,!0),p=li.current,p!==null){switch(p.tag){case 31:case 13:return ji===null?$v():p.alternate===null&&pi===0&&(pi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===Me?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),D2(o,v,E)),!1;case 22:return p.flags|=65536,v===Me?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),D2(o,v,E)),!1}throw Error(r(435,p.tag))}return D2(o,v,E),$v(),!1}if(In)return u=li.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,v!==so&&(o=Error(r(422),{cause:v}),ed(Cs(o,p)))):(v!==so&&(u=Error(r(423),{cause:v}),ed(Cs(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Cs(v,p),E=d2(o.stateNode,v,E),ei(o,E),pi!==4&&(pi=2)),!1;var I=Error(r(520),{cause:v});if(I=Cs(I,p),ig===null?ig=[I]:ig.push(I),pi!==4&&(pi=2),u===null)return!0;v=Cs(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=d2(p.stateNode,v,o),ei(p,o),!1;case 1:if(u=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ud===null||!ud.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=o4(E),l4(E,o,p,v),ei(p,E),!1}p=p.return}while(p!==null);return!1}var f2=Error(r(461)),Di=!1;function Ca(o,u,p,v){u.child=o===null?Dn(u,null,p,v):Rn(u,o.child,p,v)}function c4(o,u,p,v,E){p=p.render;var I=u.ref;if("ref"in v){var J={};for(var pe in v)pe!=="ref"&&(J[pe]=v[pe])}else J=v;return cc(u),v=Vm(o,u,p,J,I,E),pe=zm(),o!==null&&!Di?($m(o,u,E),au(o,u,E)):(In&&pe&&Fm(u),u.flags|=1,Ca(o,u,v,E),u.child)}function u4(o,u,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!Nh(I)&&I.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=I,d4(o,u,I,v,E)):(o=Ju(p.type,null,v,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!b2(o,E)){var J=I.memoizedProps;if(p=p.compare,p=p!==null?p:Ns,p(J,v)&&o.ref===u.ref)return au(o,u,E)}return u.flags|=1,o=Ts(I,v),o.ref=u.ref,o.return=u,u.child=o}function d4(o,u,p,v,E){if(o!==null){var I=o.memoizedProps;if(Ns(I,v)&&o.ref===u.ref)if(Di=!1,u.pendingProps=v=I,b2(o,E))(o.flags&131072)!==0&&(Di=!0);else return u.lanes=o.lanes,au(o,u,E)}return h2(o,u,p,v,E)}function f4(o,u,p,v){var E=v.children,I=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(I=I!==null?I.baseLanes|p:p,o!==null){for(v=u.child=o.child,E=0;v!==null;)E=E|v.lanes|v.childLanes,v=v.sibling;v=E&~I}else v=0,u.child=null;return h4(o,u,I,p,v)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ge(u,I!==null?I.cachePool:null),I!==null?ms(u,I):js(),$r(u);else return v=u.lanes=536870912,h4(o,u,I!==null?I.baseLanes|p:p,p,v)}else I!==null?(ge(u,I.cachePool),ms(u,I),Ro(),u.memoizedState=null):(o!==null&&ge(u,null),js(),Ro());return Ca(o,u,E,p),u.child}function Jm(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function h4(o,u,p,v,E){var I=fe();return I=I===null?null:{parent:oi._currentValue,pool:I},u.memoizedState={baseLanes:p,cachePool:I},o!==null&&ge(u,null),js(),$r(u),o!==null&&lc(o,u,v,!0),u.childLanes=E,null}function Ov(o,u){return u=Mv({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function p4(o,u,p){return Rn(u,o.child,null,p),o=Ov(u,u.pendingProps),o.flags|=2,Wa(u),u.memoizedState=null,o}function S$(o,u,p){var v=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(In){if(v.mode==="hidden")return o=Ov(u,v),u.lanes=536870912,Jm(null,o);if(Io(u),(o=Cr)?(o=N3(o,Zr),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ic!==null?{id:ks,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},p=Th(o),p.return=u,u.child=p,Wi=u,Cr=null)):o=null,o===null)throw ac(u);return u.lanes=536870912,null}return Ov(u,v)}var I=o.memoizedState;if(I!==null){var J=I.dehydrated;if(Io(u),E)if(u.flags&256)u.flags&=-257,u=p4(o,u,p);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Di||lc(o,u,p,!1),E=(p&o.childLanes)!==0,Di||E){if(v=Rr,v!==null&&(J=qr(v,p),J!==0&&J!==I.retryLane))throw I.retryLane=J,dl(o,J),Us(v,o,J),f2;$v(),u=p4(o,u,p)}else o=I.treeContext,Cr=jo(J.nextSibling),Wi=u,In=!0,Ta=null,Zr=!1,o!==null&&Av(u,o),u=Ov(u,v),u.flags|=4096;return u}return o=Ts(o.child,{mode:v.mode,children:v.children}),o.ref=u.ref,u.child=o,o.return=u,o}function jv(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function h2(o,u,p,v,E){return cc(u),p=Vm(o,u,p,v,void 0,E),v=zm(),o!==null&&!Di?($m(o,u,E),au(o,u,E)):(In&&v&&Fm(u),u.flags|=1,Ca(o,u,p,E),u.child)}function m4(o,u,p,v,E,I){return cc(u),u.updateQueue=null,p=pl(u,v,p,E),Dh(o),v=zm(),o!==null&&!Di?($m(o,u,I),au(o,u,I)):(In&&v&&Fm(u),u.flags|=1,Ca(o,u,p,I),u.child)}function g4(o,u,p,v,E){if(cc(u),u.stateNode===null){var I=Gi,J=p.contextType;typeof J=="object"&&J!==null&&(I=Yi(J)),I=new p(v,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=u2,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=v,I.state=u.memoizedState,I.refs={},sr(u),J=p.contextType,I.context=typeof J=="object"&&J!==null?Yi(J):Gi,I.state=u.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(c2(u,p,J,v),I.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&u2.enqueueReplaceState(I,I.state,null),Xi(u,v,I,E),zn(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){I=u.stateNode;var pe=u.memoizedProps,Ne=If(p,pe);I.props=Ne;var ze=I.context,rt=p.contextType;J=Gi,typeof rt=="object"&&rt!==null&&(J=Yi(rt));var ht=p.getDerivedStateFromProps;rt=typeof ht=="function"||typeof I.getSnapshotBeforeUpdate=="function",pe=u.pendingProps!==pe,rt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(pe||ze!==J)&&n4(u,I,v,J),fn=!1;var $e=u.memoizedState;I.state=$e,Xi(u,v,I,E),zn(),ze=u.memoizedState,pe||$e!==ze||fn?(typeof ht=="function"&&(c2(u,p,ht,v),ze=u.memoizedState),(Ne=fn||t4(u,p,Ne,v,$e,ze,J))?(rt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ze),I.props=v,I.state=ze,I.context=J,v=Ne):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,Zn(o,u),J=u.memoizedProps,rt=If(p,J),I.props=rt,ht=u.pendingProps,$e=I.context,ze=p.contextType,Ne=Gi,typeof ze=="object"&&ze!==null&&(Ne=Yi(ze)),pe=p.getDerivedStateFromProps,(ze=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==ht||$e!==Ne)&&n4(u,I,v,Ne),fn=!1,$e=u.memoizedState,I.state=$e,Xi(u,v,I,E),zn();var Ye=u.memoizedState;J!==ht||$e!==Ye||fn||o!==null&&o.dependencies!==null&&Ph(o.dependencies)?(typeof pe=="function"&&(c2(u,p,pe,v),Ye=u.memoizedState),(rt=fn||t4(u,p,rt,v,$e,Ye,Ne)||o!==null&&o.dependencies!==null&&Ph(o.dependencies))?(ze||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,Ye,Ne),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,Ye,Ne)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&$e===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&$e===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ye),I.props=v,I.state=Ye,I.context=Ne,v=rt):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&$e===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&$e===o.memoizedState||(u.flags|=1024),v=!1)}return I=v,jv(o,u),v=(u.flags&128)!==0,I||v?(I=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&v?(u.child=Rn(u,o.child,null,E),u.child=Rn(u,null,p,E)):Ca(o,u,p,E),u.memoizedState=I.state,o=u.child):o=au(o,u,E),o}function v4(o,u,p,v){return Qc(),u.flags|=256,Ca(o,u,p,v),u.child}var p2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m2(o){return{baseLanes:o,cachePool:be()}}function g2(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=lo),o}function y4(o,u,p){var v=u.pendingProps,E=!1,I=(u.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(ni.current&2)!==0),J&&(E=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,o===null){if(In){if(E?gs(u):Ro(),(o=Cr)?(o=N3(o,Zr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ic!==null?{id:ks,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},p=Th(o),p.return=u,u.child=p,Wi=u,Cr=null)):o=null,o===null)throw ac(u);return Q2(o)?u.lanes=32:u.lanes=536870912,null}var pe=v.children;return v=v.fallback,E?(Ro(),E=u.mode,pe=Mv({mode:"hidden",children:pe},E),v=rc(v,E,p,null),pe.return=u,v.return=u,pe.sibling=v,u.child=pe,v=u.child,v.memoizedState=m2(p),v.childLanes=g2(o,J,p),u.memoizedState=p2,Jm(null,v)):(gs(u),v2(u,pe))}var Ne=o.memoizedState;if(Ne!==null&&(pe=Ne.dehydrated,pe!==null)){if(I)u.flags&256?(gs(u),u.flags&=-257,u=y2(o,u,p)):u.memoizedState!==null?(Ro(),u.child=o.child,u.flags|=128,u=null):(Ro(),pe=v.fallback,E=u.mode,v=Mv({mode:"visible",children:v.children},E),pe=rc(pe,E,p,null),pe.flags|=2,v.return=u,pe.return=u,v.sibling=pe,u.child=v,Rn(u,o.child,null,p),v=u.child,v.memoizedState=m2(p),v.childLanes=g2(o,J,p),u.memoizedState=p2,u=Jm(null,v));else if(gs(u),Q2(pe)){if(J=pe.nextSibling&&pe.nextSibling.dataset,J)var ze=J.dgst;J=ze,v=Error(r(419)),v.stack="",v.digest=J,ed({value:v,source:null,stack:null}),u=y2(o,u,p)}else if(Di||lc(o,u,p,!1),J=(p&o.childLanes)!==0,Di||J){if(J=Rr,J!==null&&(v=qr(J,p),v!==0&&v!==Ne.retryLane))throw Ne.retryLane=v,dl(o,v),Us(J,o,v),f2;J2(pe)||$v(),u=y2(o,u,p)}else J2(pe)?(u.flags|=192,u.child=o.child,u=null):(o=Ne.treeContext,Cr=jo(pe.nextSibling),Wi=u,In=!0,Ta=null,Zr=!1,o!==null&&Av(u,o),u=v2(u,v.children),u.flags|=4096);return u}return E?(Ro(),pe=v.fallback,E=u.mode,Ne=o.child,ze=Ne.sibling,v=Ts(Ne,{mode:"hidden",children:v.children}),v.subtreeFlags=Ne.subtreeFlags&65011712,ze!==null?pe=Ts(ze,pe):(pe=rc(pe,E,p,null),pe.flags|=2),pe.return=u,v.return=u,v.sibling=pe,u.child=v,Jm(null,v),v=u.child,pe=o.child.memoizedState,pe===null?pe=m2(p):(E=pe.cachePool,E!==null?(Ne=oi._currentValue,E=E.parent!==Ne?{parent:Ne,pool:Ne}:E):E=be(),pe={baseLanes:pe.baseLanes|p,cachePool:E}),v.memoizedState=pe,v.childLanes=g2(o,J,p),u.memoizedState=p2,Jm(o.child,v)):(gs(u),p=o.child,o=p.sibling,p=Ts(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(J=u.deletions,J===null?(u.deletions=[o],u.flags|=16):J.push(o)),u.child=p,u.memoizedState=null,p)}function v2(o,u){return u=Mv({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Mv(o,u){return o=ua(22,o,null,u),o.lanes=0,o}function y2(o,u,p){return Rn(u,o.child,null,p),o=v2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function x4(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),td(o.return,u,p)}function x2(o,u,p,v,E,I){var J=o.memoizedState;J===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E,treeForkCount:I}:(J.isBackwards=u,J.rendering=null,J.renderingStartTime=0,J.last=v,J.tail=p,J.tailMode=E,J.treeForkCount=I)}function b4(o,u,p){var v=u.pendingProps,E=v.revealOrder,I=v.tail;v=v.children;var J=ni.current,pe=(J&2)!==0;if(pe?(J=J&1|2,u.flags|=128):J&=1,G(ni,J),Ca(o,u,v,p),v=In?Af:0,!pe&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&x4(o,p,u);else if(o.tag===19)x4(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&eu(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),x2(u,!1,E,p,I,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&eu(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}x2(u,!0,p,null,I,v);break;case"together":x2(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function au(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),cd|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(lc(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Ts(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Ts(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function b2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Ph(o)))}function E$(o,u,p){switch(u.tag){case 3:we(u,u.stateNode.containerInfo),oc(u,oi,o.memoizedState.cache),Qc();break;case 27:case 5:Se(u);break;case 4:we(u,u.stateNode.containerInfo);break;case 10:oc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Io(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(gs(u),u.flags|=128,null):(p&u.child.childLanes)!==0?y4(o,u,p):(gs(u),o=au(o,u,p),o!==null?o.sibling:null);gs(u);break;case 19:var E=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(lc(o,u,p,!1),v=(p&u.childLanes)!==0),E){if(v)return b4(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),G(ni,ni.current),v)break;return null;case 22:return u.lanes=0,f4(o,u,p,u.pendingProps);case 24:oc(u,oi,o.memoizedState.cache)}return au(o,u,p)}function _4(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Di=!0;else{if(!b2(o,p)&&(u.flags&128)===0)return Di=!1,E$(o,u,p);Di=(o.flags&131072)!==0}else Di=!1,In&&(u.flags&1048576)!==0&&wv(u,Af,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(o=Ie(u.elementType),u.type=o,typeof o=="function")Nh(o)?(v=If(o,v),u.tag=1,u=g4(null,u,o,v,p)):(u.tag=0,u=h2(null,u,o,v,p));else{if(o!=null){var E=o.$$typeof;if(E===U){u.tag=11,u=c4(null,u,o,v,p);break e}else if(E===k){u.tag=14,u=u4(null,u,o,v,p);break e}}throw u=Q(o)||o,Error(r(306,u,""))}}return u;case 0:return h2(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,E=If(v,u.pendingProps),g4(o,u,v,E,p);case 3:e:{if(we(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var I=u.memoizedState;E=I.element,Zn(o,u),Xi(u,v,null,p);var J=u.memoizedState;if(v=J.cache,oc(u,oi,v),v!==I.cache&&Zc(u,[oi],p,!0),zn(),v=J.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=v4(o,u,v,p);break e}else if(v!==E){E=Cs(Error(r(424)),u),ed(E),u=v4(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Cr=jo(o.firstChild),Wi=u,In=!0,Ta=null,Zr=!0,p=Dn(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Qc(),v===E){u=au(o,u,p);break e}Ca(o,u,v,p)}u=u.child}return u;case 26:return jv(o,u),o===null?(p=P3(u.type,null,u.pendingProps,null))?u.memoizedState=p:In||(p=u.type,o=u.pendingProps,v=Jv(X.current).createElement(p),v[zt]=u,v[Mt]=o,Ia(v,p,o),Vr(v),u.stateNode=v):u.memoizedState=P3(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Se(u),o===null&&In&&(v=u.stateNode=I3(u.type,u.pendingProps,X.current),Wi=u,Zr=!0,E=Cr,pd(u.type)?(Z2=E,Cr=jo(v.firstChild)):Cr=E),Ca(o,u,u.pendingProps.children,p),jv(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&In&&((E=v=Cr)&&(v=tH(v,u.type,u.pendingProps,Zr),v!==null?(u.stateNode=v,Wi=u,Cr=jo(v.firstChild),Zr=!1,E=!0):E=!1),E||ac(u)),Se(u),E=u.type,I=u.pendingProps,J=o!==null?o.memoizedProps:null,v=I.children,K2(E,I)?v=null:J!==null&&K2(E,J)&&(u.flags|=32),u.memoizedState!==null&&(E=Vm(o,u,t2,null,null,p),fg._currentValue=E),jv(o,u),Ca(o,u,v,p),u.child;case 6:return o===null&&In&&((o=p=Cr)&&(p=nH(p,u.pendingProps,Zr),p!==null?(u.stateNode=p,Wi=u,Cr=null,o=!0):o=!1),o||ac(u)),null;case 13:return y4(o,u,p);case 4:return we(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Rn(u,null,v,p):Ca(o,u,v,p),u.child;case 11:return c4(o,u,u.type,u.pendingProps,p);case 7:return Ca(o,u,u.pendingProps,p),u.child;case 8:return Ca(o,u,u.pendingProps.children,p),u.child;case 12:return Ca(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,oc(u,u.type,v.value),Ca(o,u,v.children,p),u.child;case 9:return E=u.type._context,v=u.pendingProps.children,cc(u),E=Yi(E),v=v(E),u.flags|=1,Ca(o,u,v,p),u.child;case 14:return u4(o,u,u.type,u.pendingProps,p);case 15:return d4(o,u,u.type,u.pendingProps,p);case 19:return b4(o,u,p);case 31:return S$(o,u,p);case 22:return f4(o,u,p,u.pendingProps);case 24:return cc(u),v=Yi(oi),o===null?(E=fe(),E===null&&(E=Rr,I=nd(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),u.memoizedState={parent:v,cache:E},sr(u),oc(u,oi,E)):((o.lanes&p)!==0&&(Zn(o,u),Xi(u,null,null,p),zn()),E=o.memoizedState,I=u.memoizedState,E.parent!==v?(E={parent:v,cache:v},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),oc(u,oi,v)):(v=I.cache,oc(u,oi,v),v!==E.cache&&Zc(u,[oi],p,!0))),Ca(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function su(o){o.flags|=4}function _2(o,u,p,v,E){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(K4())o.flags|=8192;else throw Pe=Me,Be}else o.flags&=-16777217}function w4(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!L3(u))if(K4())o.flags|=8192;else throw Pe=Me,Be}function Dv(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Br():536870912,o.lanes|=u,Wh|=u)}function Qm(o,u){if(!In)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Hr(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function N$(o,u,p){var v=u.pendingProps;switch(Rh(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(u),null;case 1:return Hr(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Os(oi),re(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Ki(u)?su(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Bm())),Hr(u),null;case 26:var E=u.type,I=u.memoizedState;return o===null?(su(u),I!==null?(Hr(u),w4(u,I)):(Hr(u),_2(u,E,null,v,p))):I?I!==o.memoizedState?(su(u),Hr(u),w4(u,I)):(Hr(u),u.flags&=-16777217):(o=o.memoizedProps,o!==v&&su(u),Hr(u),_2(u,E,o,v,p)),null;case 27:if(Re(u),p=X.current,E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&su(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Hr(u),null}o=Z.current,Ki(u)?Um(u):(o=I3(E,v,p),u.stateNode=o,su(u))}return Hr(u),null;case 5:if(Re(u),E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&su(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Hr(u),null}if(I=Z.current,Ki(u))Um(u);else{var J=Jv(X.current);switch(I){case 1:I=J.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:I=J.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":I=J.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":I=J.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":I=J.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof v.is=="string"?J.createElement("select",{is:v.is}):J.createElement("select"),v.multiple?I.multiple=!0:v.size&&(I.size=v.size);break;default:I=typeof v.is=="string"?J.createElement(E,{is:v.is}):J.createElement(E)}}I[zt]=u,I[Mt]=v;e:for(J=u.child;J!==null;){if(J.tag===5||J.tag===6)I.appendChild(J.stateNode);else if(J.tag!==4&&J.tag!==27&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===u)break e;for(;J.sibling===null;){if(J.return===null||J.return===u)break e;J=J.return}J.sibling.return=J.return,J=J.sibling}u.stateNode=I;e:switch(Ia(I,E,v),E){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&su(u)}}return Hr(u),_2(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,p),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&su(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=X.current,Ki(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,E=Wi,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[zt]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||y3(o.nodeValue,p)),o||ac(u,!0)}else o=Jv(o).createTextNode(v),o[zt]=u,u.stateNode=o}return Hr(u),null;case 31:if(p=u.memoizedState,o===null||o.memoizedState!==null){if(v=Ki(u),p!==null){if(o===null){if(!v)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[zt]=u}else Qc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Hr(u),o=!1}else p=Bm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return u.flags&256?(Wa(u),u):(Wa(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Hr(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Ki(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[zt]=u}else Qc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Hr(u),E=!1}else E=Bm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Wa(u),u):(Wa(u),null)}return Wa(u),(u.flags&128)!==0?(u.lanes=p,u):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=u.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool),I=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)),p!==o&&p&&(u.child.flags|=8192),Dv(u,u.updateQueue),Hr(u),null);case 4:return re(),o===null&&z2(u.stateNode.containerInfo),Hr(u),null;case 10:return Os(u.type),Hr(u),null;case 19:if(M(ni),v=u.memoizedState,v===null)return Hr(u),null;if(E=(u.flags&128)!==0,I=v.rendering,I===null)if(E)Qm(v,!1);else{if(pi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=eu(o),I!==null){for(u.flags|=128,Qm(v,!1),o=I.updateQueue,u.updateQueue=o,Dv(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)_f(p,o),p=p.sibling;return G(ni,ni.current&1|2),In&&ps(u,v.treeForkCount),u.child}o=o.sibling}v.tail!==null&&Qe()>qv&&(u.flags|=128,E=!0,Qm(v,!1),u.lanes=4194304)}else{if(!E)if(o=eu(I),o!==null){if(u.flags|=128,E=!0,o=o.updateQueue,u.updateQueue=o,Dv(u,o),Qm(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!In)return Hr(u),null}else 2*Qe()-v.renderingStartTime>qv&&p!==536870912&&(u.flags|=128,E=!0,Qm(v,!1),u.lanes=4194304);v.isBackwards?(I.sibling=u.child,u.child=I):(o=v.last,o!==null?o.sibling=I:u.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Qe(),o.sibling=null,p=ni.current,G(ni,E?p&1|2:p&1),In&&ps(u,v.treeForkCount),o):(Hr(u),null);case 22:case 23:return Wa(u),hi(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Hr(u),u.subtreeFlags&6&&(u.flags|=8192)):Hr(u),p=u.updateQueue,p!==null&&Dv(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&M(ae),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Os(oi),Hr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function T$(o,u){switch(Rh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Os(oi),re(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Re(u),null;case 31:if(u.memoizedState!==null){if(Wa(u),u.alternate===null)throw Error(r(340));Qc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Wa(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Qc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return M(ni),null;case 4:return re(),null;case 10:return Os(u.type),null;case 22:case 23:return Wa(u),hi(),o!==null&&M(ae),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Os(oi),null;case 25:return null;default:return null}}function A4(o,u){switch(Rh(u),u.tag){case 3:Os(oi),re();break;case 26:case 27:case 5:Re(u);break;case 4:re();break;case 31:u.memoizedState!==null&&Wa(u);break;case 13:Wa(u);break;case 19:M(ni);break;case 10:Os(u.type);break;case 22:case 23:Wa(u),hi(),o!==null&&M(ae);break;case 24:Os(oi)}}function Zm(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,J=p.inst;v=I(),J.destroy=v}p=p.next}while(p!==E)}}catch(pe){yr(u,u.return,pe)}}function od(o,u,p){try{var v=u.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var J=v.inst,pe=J.destroy;if(pe!==void 0){J.destroy=void 0,E=u;var Ne=p,ze=pe;try{ze()}catch(rt){yr(E,Ne,rt)}}}v=v.next}while(v!==I)}}catch(rt){yr(u,u.return,rt)}}function S4(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{_i(u,p)}catch(v){yr(o,o.return,v)}}}function E4(o,u,p){p.props=If(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){yr(o,u,v)}}function eg(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){yr(o,u,E)}}function pc(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){yr(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){yr(o,u,E)}else p.current=null}function N4(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){yr(o,o.return,E)}}function w2(o,u,p){try{var v=o.stateNode;Y$(v,o.type,p,u),v[Mt]=u}catch(E){yr(o,o.return,E)}}function T4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pd(o.type)||o.tag===4}function A2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||T4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function S2(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Vn));else if(v!==4&&(v===27&&pd(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(S2(o,u,p),o=o.sibling;o!==null;)S2(o,u,p),o=o.sibling}function Lv(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&pd(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Lv(o,u,p),o=o.sibling;o!==null;)Lv(o,u,p),o=o.sibling}function C4(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);Ia(u,v,p),u[zt]=o,u[Mt]=p}catch(I){yr(o,o.return,I)}}var ou=!1,Li=!1,E2=!1,I4=typeof WeakSet=="function"?WeakSet:Set,fa=null;function C$(o,u){if(o=o.containerInfo,G2=iy,o=ol(o),to(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var J=0,pe=-1,Ne=-1,ze=0,rt=0,ht=o,$e=null;t:for(;;){for(var Ye;ht!==p||E!==0&&ht.nodeType!==3||(pe=J+E),ht!==I||v!==0&&ht.nodeType!==3||(Ne=J+v),ht.nodeType===3&&(J+=ht.nodeValue.length),(Ye=ht.firstChild)!==null;)$e=ht,ht=Ye;for(;;){if(ht===o)break t;if($e===p&&++ze===E&&(pe=J),$e===I&&++rt===v&&(Ne=J),(Ye=ht.nextSibling)!==null)break;ht=$e,$e=ht.parentNode}ht=Ye}p=pe===-1||Ne===-1?null:{start:pe,end:Ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(W2={focusedElem:o,selectionRange:p},iy=!1,fa=u;fa!==null;)if(u=fa,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,fa=o;else for(;fa!==null;){switch(u=fa,I=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)E=o[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=u,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var Lt=If(p.type,E);o=v.getSnapshotBeforeUpdate(Lt,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(en){yr(p,p.return,en)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)X2(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":X2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,fa=o;break}fa=u.return}}function R4(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:cu(o,p),v&4&&Zm(5,p);break;case 1:if(cu(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(J){yr(p,p.return,J)}else{var E=If(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(J){yr(p,p.return,J)}}v&64&&S4(p),v&512&&eg(p,p.return);break;case 3:if(cu(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{_i(o,u)}catch(J){yr(p,p.return,J)}}break;case 27:u===null&&v&4&&C4(p);case 26:case 5:cu(o,p),u===null&&v&4&&N4(p),v&512&&eg(p,p.return);break;case 12:cu(o,p);break;case 31:cu(o,p),v&4&&O4(o,p);break;case 13:cu(o,p),v&4&&j4(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=L$.bind(null,p),rH(o,p))));break;case 22:if(v=p.memoizedState!==null||ou,!v){u=u!==null&&u.memoizedState!==null||Li,E=ou;var I=Li;ou=v,(Li=u)&&!I?uu(o,p,(p.subtreeFlags&8772)!==0):cu(o,p),ou=E,Li=I}break;case 30:break;default:cu(o,p)}}function k4(o){var u=o.alternate;u!==null&&(o.alternate=null,k4(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&jn(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ii=null,Ms=!1;function lu(o,u,p){for(p=p.child;p!==null;)P4(o,u,p),p=p.sibling}function P4(o,u,p){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(un,p)}catch{}switch(p.tag){case 26:Li||pc(p,u),lu(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Li||pc(p,u);var v=ii,E=Ms;pd(p.type)&&(ii=p.stateNode,Ms=!1),lu(o,u,p),cg(p.stateNode),ii=v,Ms=E;break;case 5:Li||pc(p,u);case 6:if(v=ii,E=Ms,ii=null,lu(o,u,p),ii=v,Ms=E,ii!==null)if(Ms)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(p.stateNode)}catch(I){yr(p,u,I)}else try{ii.removeChild(p.stateNode)}catch(I){yr(p,u,I)}break;case 18:ii!==null&&(Ms?(o=ii,S3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),tp(o)):S3(ii,p.stateNode));break;case 4:v=ii,E=Ms,ii=p.stateNode.containerInfo,Ms=!0,lu(o,u,p),ii=v,Ms=E;break;case 0:case 11:case 14:case 15:od(2,p,u),Li||od(4,p,u),lu(o,u,p);break;case 1:Li||(pc(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&E4(p,u,v)),lu(o,u,p);break;case 21:lu(o,u,p);break;case 22:Li=(v=Li)||p.memoizedState!==null,lu(o,u,p),Li=v;break;default:lu(o,u,p)}}function O4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{tp(o)}catch(p){yr(u,u.return,p)}}}function j4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{tp(o)}catch(p){yr(u,u.return,p)}}function I$(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new I4),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new I4),u;default:throw Error(r(435,o.tag))}}function Fv(o,u){var p=I$(o);u.forEach(function(v){if(!p.has(v)){p.add(v);var E=F$.bind(null,o,v);v.then(E,E)}})}function Ds(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,J=u,pe=J;e:for(;pe!==null;){switch(pe.tag){case 27:if(pd(pe.type)){ii=pe.stateNode,Ms=!1;break e}break;case 5:ii=pe.stateNode,Ms=!1;break e;case 3:case 4:ii=pe.stateNode.containerInfo,Ms=!0;break e}pe=pe.return}if(ii===null)throw Error(r(160));P4(I,J,E),ii=null,Ms=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)M4(u,o),u=u.sibling}var yl=null;function M4(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ds(u,o),Ls(o),v&4&&(od(3,o,o.return),Zm(3,o),od(5,o,o.return));break;case 1:Ds(u,o),Ls(o),v&512&&(Li||p===null||pc(p,p.return)),v&64&&ou&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=yl;if(Ds(u,o),Ls(o),v&512&&(Li||p===null||pc(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[Mr]||I[zt]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),Ia(I,v,p),I[zt]=o,Vr(I),v=I;break e;case"link":var J=M3("link","href",E).get(v+(p.href||""));if(J){for(var pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(pe,1);break t}}I=E.createElement(v),Ia(I,v,p),E.head.appendChild(I);break;case"meta":if(J=M3("meta","content",E).get(v+(p.content||""))){for(pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(pe,1);break t}}I=E.createElement(v),Ia(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[zt]=o,Vr(I),v=I}o.stateNode=v}else D3(E,o.type,o.stateNode);else o.stateNode=j3(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?D3(E,o.type,o.stateNode):j3(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&w2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Ds(u,o),Ls(o),v&512&&(Li||p===null||pc(p,p.return)),p!==null&&v&4&&w2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Ds(u,o),Ls(o),v&512&&(Li||p===null||pc(p,p.return)),o.flags&32){E=o.stateNode;try{ra(E,"")}catch(Lt){yr(o,o.return,Lt)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,w2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(E2=!0);break;case 6:if(Ds(u,o),Ls(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(Lt){yr(o,o.return,Lt)}}break;case 3:if(ey=null,E=yl,yl=Qv(u.containerInfo),Ds(u,o),yl=E,Ls(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{tp(u.containerInfo)}catch(Lt){yr(o,o.return,Lt)}E2&&(E2=!1,D4(o));break;case 4:v=yl,yl=Qv(o.stateNode.containerInfo),Ds(u,o),Ls(o),yl=v;break;case 12:Ds(u,o),Ls(o);break;case 31:Ds(u,o),Ls(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Fv(o,v)));break;case 13:Ds(u,o),Ls(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Bv=Qe()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Fv(o,v)));break;case 22:E=o.memoizedState!==null;var Ne=p!==null&&p.memoizedState!==null,ze=ou,rt=Li;if(ou=ze||E,Li=rt||Ne,Ds(u,o),Li=rt,ou=ze,Ls(o),v&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||Ne||ou||Li||Rf(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){Ne=p=u;try{if(I=Ne.stateNode,E)J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{pe=Ne.stateNode;var ht=Ne.memoizedProps.style,$e=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;pe.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(Lt){yr(Ne,Ne.return,Lt)}}}else if(u.tag===6){if(p===null){Ne=u;try{Ne.stateNode.nodeValue=E?"":Ne.memoizedProps}catch(Lt){yr(Ne,Ne.return,Lt)}}}else if(u.tag===18){if(p===null){Ne=u;try{var Ye=Ne.stateNode;E?E3(Ye,!0):E3(Ne.stateNode,!1)}catch(Lt){yr(Ne,Ne.return,Lt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Fv(o,p))));break;case 19:Ds(u,o),Ls(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Fv(o,v)));break;case 30:break;case 21:break;default:Ds(u,o),Ls(o)}}function Ls(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(T4(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=A2(o);Lv(o,I,E);break;case 5:var J=p.stateNode;p.flags&32&&(ra(J,""),p.flags&=-33);var pe=A2(o);Lv(o,pe,J);break;case 3:case 4:var Ne=p.stateNode.containerInfo,ze=A2(o);S2(o,ze,Ne);break;default:throw Error(r(161))}}catch(rt){yr(o,o.return,rt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function D4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;D4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function cu(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)R4(o,u.alternate,u),u=u.sibling}function Rf(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:od(4,u,u.return),Rf(u);break;case 1:pc(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&E4(u,u.return,p),Rf(u);break;case 27:cg(u.stateNode);case 26:case 5:pc(u,u.return),Rf(u);break;case 22:u.memoizedState===null&&Rf(u);break;case 30:Rf(u);break;default:Rf(u)}o=o.sibling}}function uu(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,E=o,I=u,J=I.flags;switch(I.tag){case 0:case 11:case 15:uu(E,I,p),Zm(4,I);break;case 1:if(uu(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ze){yr(v,v.return,ze)}if(v=I,E=v.updateQueue,E!==null){var pe=v.stateNode;try{var Ne=E.shared.hiddenCallbacks;if(Ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ne.length;E++)Ga(Ne[E],pe)}catch(ze){yr(v,v.return,ze)}}p&&J&64&&S4(I),eg(I,I.return);break;case 27:C4(I);case 26:case 5:uu(E,I,p),p&&v===null&&J&4&&N4(I),eg(I,I.return);break;case 12:uu(E,I,p);break;case 31:uu(E,I,p),p&&J&4&&O4(E,I);break;case 13:uu(E,I,p),p&&J&4&&j4(E,I);break;case 22:I.memoizedState===null&&uu(E,I,p),eg(I,I.return);break;case 30:break;default:uu(E,I,p)}u=u.sibling}}function N2(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Sf(p))}function T2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Sf(o))}function xl(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)L4(o,u,p,v),u=u.sibling}function L4(o,u,p,v){var E=u.flags;switch(u.tag){case 0:case 11:case 15:xl(o,u,p,v),E&2048&&Zm(9,u);break;case 1:xl(o,u,p,v);break;case 3:xl(o,u,p,v),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Sf(o)));break;case 12:if(E&2048){xl(o,u,p,v),o=u.stateNode;try{var I=u.memoizedProps,J=I.id,pe=I.onPostCommit;typeof pe=="function"&&pe(J,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ne){yr(u,u.return,Ne)}}else xl(o,u,p,v);break;case 31:xl(o,u,p,v);break;case 13:xl(o,u,p,v);break;case 23:break;case 22:I=u.stateNode,J=u.alternate,u.memoizedState!==null?I._visibility&2?xl(o,u,p,v):tg(o,u):I._visibility&2?xl(o,u,p,v):(I._visibility|=2,$h(o,u,p,v,(u.subtreeFlags&10256)!==0||!1)),E&2048&&N2(J,u);break;case 24:xl(o,u,p,v),E&2048&&T2(u.alternate,u);break;default:xl(o,u,p,v)}}function $h(o,u,p,v,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var I=o,J=u,pe=p,Ne=v,ze=J.flags;switch(J.tag){case 0:case 11:case 15:$h(I,J,pe,Ne,E),Zm(8,J);break;case 23:break;case 22:var rt=J.stateNode;J.memoizedState!==null?rt._visibility&2?$h(I,J,pe,Ne,E):tg(I,J):(rt._visibility|=2,$h(I,J,pe,Ne,E)),E&&ze&2048&&N2(J.alternate,J);break;case 24:$h(I,J,pe,Ne,E),E&&ze&2048&&T2(J.alternate,J);break;default:$h(I,J,pe,Ne,E)}u=u.sibling}}function tg(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,E=v.flags;switch(v.tag){case 22:tg(p,v),E&2048&&N2(v.alternate,v);break;case 24:tg(p,v),E&2048&&T2(v.alternate,v);break;default:tg(p,v)}u=u.sibling}}var ng=8192;function Hh(o,u,p){if(o.subtreeFlags&ng)for(o=o.child;o!==null;)F4(o,u,p),o=o.sibling}function F4(o,u,p){switch(o.tag){case 26:Hh(o,u,p),o.flags&ng&&o.memoizedState!==null&&mH(p,yl,o.memoizedState,o.memoizedProps);break;case 5:Hh(o,u,p);break;case 3:case 4:var v=yl;yl=Qv(o.stateNode.containerInfo),Hh(o,u,p),yl=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=ng,ng=16777216,Hh(o,u,p),ng=v):Hh(o,u,p));break;default:Hh(o,u,p)}}function U4(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function rg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];fa=v,q4(v,o)}U4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)B4(o),o=o.sibling}function B4(o){switch(o.tag){case 0:case 11:case 15:rg(o),o.flags&2048&&od(9,o,o.return);break;case 3:rg(o);break;case 12:rg(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Uv(o)):rg(o);break;default:rg(o)}}function Uv(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];fa=v,q4(v,o)}U4(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:od(8,u,u.return),Uv(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Uv(u));break;default:Uv(u)}o=o.sibling}}function q4(o,u){for(;fa!==null;){var p=fa;switch(p.tag){case 0:case 11:case 15:od(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Sf(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,fa=v;else e:for(p=o;fa!==null;){v=fa;var E=v.sibling,I=v.return;if(k4(v),v===p){fa=null;break e}if(E!==null){E.return=I,fa=E;break e}fa=I}}}var R$={getCacheForType:function(o){var u=Yi(oi),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p},cacheSignal:function(){return Yi(oi).controller.signal}},k$=typeof WeakMap=="function"?WeakMap:Map,or=0,Rr=null,kn=null,Ln=0,vr=0,oo=null,ld=!1,Gh=!1,C2=!1,du=0,pi=0,cd=0,kf=0,I2=0,lo=0,Wh=0,ig=null,Fs=null,R2=!1,Bv=0,V4=0,qv=1/0,Vv=null,ud=null,Ji=0,dd=null,Kh=null,fu=0,k2=0,P2=null,z4=null,ag=0,O2=null;function co(){return(or&2)!==0&&Ln!==0?Ln&-Ln:K.T!==null?U2():tt()}function $4(){if(lo===0)if((Ln&536870912)===0||In){var o=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),lo=o}else lo=536870912;return o=li.current,o!==null&&(o.flags|=32),lo}function Us(o,u,p){(o===Rr&&(vr===2||vr===9)||o.cancelPendingCommit!==null)&&(Yh(o,0),fd(o,Ln,lo,!1)),Xr(o,p),((or&2)===0||o!==Rr)&&(o===Rr&&((or&2)===0&&(kf|=p),pi===4&&fd(o,Ln,lo,!1)),mc(o))}function H4(o,u,p){if((or&6)!==0)throw Error(r(327));var v=!p&&(u&127)===0&&(u&o.expiredLanes)===0||on(o,u),E=v?j$(o,u):M2(o,u,!0),I=v;do{if(E===0){Gh&&!v&&fd(o,u,0,!1);break}else{if(p=o.current.alternate,I&&!P$(p)){E=M2(o,u,!1),I=!1;continue}if(E===2){if(I=u,o.errorRecoveryDisabledLanes&I)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var pe=o;E=ig;var Ne=pe.current.memoizedState.isDehydrated;if(Ne&&(Yh(pe,J).flags|=256),J=M2(pe,J,!1),J!==2){if(C2&&!Ne){pe.errorRecoveryDisabledLanes|=I,kf|=I,E=4;break e}I=Fs,Fs=E,I!==null&&(Fs===null?Fs=I:Fs.push.apply(Fs,I))}E=J}if(I=!1,E!==2)continue}}if(E===1){Yh(o,0),fd(o,u,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:fd(v,u,lo,!ld);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=Bv+300-Qe(),10<E)){if(fd(v,u,lo,!ld),Bt(v,0,!0)!==0)break e;fu=u,v.timeoutHandle=w3(G4.bind(null,v,p,Fs,Vv,R2,u,lo,kf,Wh,ld,I,"Throttled",-0,0),E);break e}G4(v,p,Fs,Vv,R2,u,lo,kf,Wh,ld,I,null,-0,0)}}break}while(!0);mc(o)}function G4(o,u,p,v,E,I,J,pe,Ne,ze,rt,ht,$e,Ye){if(o.timeoutHandle=-1,ht=u.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},F4(u,I,ht);var Lt=(I&62914560)===I?Bv-Qe():(I&4194048)===I?V4-Qe():0;if(Lt=gH(ht,Lt),Lt!==null){fu=I,o.cancelPendingCommit=Lt(e3.bind(null,o,u,I,p,v,E,J,pe,Ne,rt,ht,null,$e,Ye)),fd(o,I,J,!ze);return}}e3(o,u,I,p,v,E,J,pe,Ne)}function P$(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!sa(I(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function fd(o,u,p,v){u&=~I2,u&=~kf,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var E=u;0<E;){var I=31-_n(E),J=1<<I;v[I]=-1,E&=~J}p!==0&&Jr(o,p,u)}function zv(){return(or&6)===0?(sg(0),!1):!0}function j2(){if(kn!==null){if(vr===0)var o=kn.return;else o=kn,Co=sc=null,Lh(o),ot=null,Ct=0,o=kn;for(;o!==null;)A4(o.alternate,o),o=o.return;kn=null}}function Yh(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,Q$(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),fu=0,j2(),Rr=o,kn=p=Ts(o.current,null),Ln=u,vr=0,oo=null,ld=!1,Gh=on(o,u),C2=!1,Wh=lo=I2=kf=cd=pi=0,Fs=ig=null,R2=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var E=31-_n(v),I=1<<E;u|=o[E],v&=~I}return du=u,nc(),p}function W4(o,u){cn=null,K.H=Xm,u===Ce||u===Ue?(u=ct(),vr=3):u===Be?(u=ct(),vr=4):vr=u===f2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,oo=u,kn===null&&(pi=1,Pv(o,Cs(u,o.current)))}function K4(){var o=li.current;return o===null?!0:(Ln&4194048)===Ln?ji===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?o===ji:!1}function Y4(){var o=K.H;return K.H=Xm,o===null?Xm:o}function X4(){var o=K.A;return K.A=R$,o}function $v(){pi=4,ld||(Ln&4194048)!==Ln&&li.current!==null||(Gh=!0),(cd&134217727)===0&&(kf&134217727)===0||Rr===null||fd(Rr,Ln,lo,!1)}function M2(o,u,p){var v=or;or|=2;var E=Y4(),I=X4();(Rr!==o||Ln!==u)&&(Vv=null,Yh(o,u)),u=!1;var J=pi;e:do try{if(vr!==0&&kn!==null){var pe=kn,Ne=oo;switch(vr){case 8:j2(),J=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(u=!0);var ze=vr;if(vr=0,oo=null,Xh(o,pe,Ne,ze),p&&Gh){J=0;break e}break;default:ze=vr,vr=0,oo=null,Xh(o,pe,Ne,ze)}}O$(),J=pi;break}catch(rt){W4(o,rt)}while(!0);return u&&o.shellSuspendCounter++,Co=sc=null,or=v,K.H=E,K.A=I,kn===null&&(Rr=null,Ln=0,nc()),J}function O$(){for(;kn!==null;)J4(kn)}function j$(o,u){var p=or;or|=2;var v=Y4(),E=X4();Rr!==o||Ln!==u?(Vv=null,qv=Qe()+500,Yh(o,u)):Gh=on(o,u);e:do try{if(vr!==0&&kn!==null){u=kn;var I=oo;t:switch(vr){case 1:vr=0,oo=null,Xh(o,u,I,1);break;case 2:case 9:if(ft(I)){vr=0,oo=null,Q4(u);break}u=function(){vr!==2&&vr!==9||Rr!==o||(vr=7),mc(o)},I.then(u,u);break e;case 3:vr=7;break e;case 4:vr=5;break e;case 7:ft(I)?(vr=0,oo=null,Q4(u)):(vr=0,oo=null,Xh(o,u,I,7));break;case 5:var J=null;switch(kn.tag){case 26:J=kn.memoizedState;case 5:case 27:var pe=kn;if(J?L3(J):pe.stateNode.complete){vr=0,oo=null;var Ne=pe.sibling;if(Ne!==null)kn=Ne;else{var ze=pe.return;ze!==null?(kn=ze,Hv(ze)):kn=null}break t}}vr=0,oo=null,Xh(o,u,I,5);break;case 6:vr=0,oo=null,Xh(o,u,I,6);break;case 8:j2(),pi=6;break e;default:throw Error(r(462))}}M$();break}catch(rt){W4(o,rt)}while(!0);return Co=sc=null,K.H=v,K.A=E,or=p,kn!==null?0:(Rr=null,Ln=0,nc(),pi)}function M$(){for(;kn!==null&&!Ke();)J4(kn)}function J4(o){var u=_4(o.alternate,o,du);o.memoizedProps=o.pendingProps,u===null?Hv(o):kn=u}function Q4(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=m4(p,u,u.pendingProps,u.type,void 0,Ln);break;case 11:u=m4(p,u,u.pendingProps,u.type.render,u.ref,Ln);break;case 5:Lh(u);default:A4(p,u),u=kn=_f(u,du),u=_4(p,u,du)}o.memoizedProps=o.pendingProps,u===null?Hv(o):kn=u}function Xh(o,u,p,v){Co=sc=null,Lh(u),ot=null,Ct=0;var E=u.return;try{if(A$(o,E,u,p,Ln)){pi=1,Pv(o,Cs(p,o.current)),kn=null;return}}catch(I){if(E!==null)throw kn=E,I;pi=1,Pv(o,Cs(p,o.current)),kn=null;return}u.flags&32768?(In||v===1?o=!0:Gh||(Ln&536870912)!==0?o=!1:(ld=o=!0,(v===2||v===9||v===3||v===6)&&(v=li.current,v!==null&&v.tag===13&&(v.flags|=16384))),Z4(u,o)):Hv(u)}function Hv(o){var u=o;do{if((u.flags&32768)!==0){Z4(u,ld);return}o=u.return;var p=N$(u.alternate,u,du);if(p!==null){kn=p;return}if(u=u.sibling,u!==null){kn=u;return}kn=u=o}while(u!==null);pi===0&&(pi=5)}function Z4(o,u){do{var p=T$(o.alternate,o);if(p!==null){p.flags&=32767,kn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){kn=o;return}kn=o=p}while(o!==null);pi=6,kn=null}function e3(o,u,p,v,E,I,J,pe,Ne){o.cancelPendingCommit=null;do Gv();while(Ji!==0);if((or&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=ao,Ot(o,p,I,J,pe,Ne),o===Rr&&(kn=Rr=null,Ln=0),Kh=u,dd=o,fu=p,k2=I,P2=E,z4=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,U$(It,function(){return a3(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=K.T,K.T=null,E=ee.p,ee.p=2,J=or,or|=4;try{C$(o,u,p)}finally{or=J,ee.p=E,K.T=v}}Ji=1,t3(),n3(),r3()}}function t3(){if(Ji===1){Ji=0;var o=dd,u=Kh,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=K.T,K.T=null;var v=ee.p;ee.p=2;var E=or;or|=4;try{M4(u,o);var I=W2,J=ol(o.containerInfo),pe=I.focusedElem,Ne=I.selectionRange;if(J!==pe&&pe&&pe.ownerDocument&&oa(pe.ownerDocument.documentElement,pe)){if(Ne!==null&&to(pe)){var ze=Ne.start,rt=Ne.end;if(rt===void 0&&(rt=ze),"selectionStart"in pe)pe.selectionStart=ze,pe.selectionEnd=Math.min(rt,pe.value.length);else{var ht=pe.ownerDocument||document,$e=ht&&ht.defaultView||window;if($e.getSelection){var Ye=$e.getSelection(),Lt=pe.textContent.length,en=Math.min(Ne.start,Lt),Sr=Ne.end===void 0?en:Math.min(Ne.end,Lt);!Ye.extend&&en>Sr&&(J=Sr,Sr=en,en=J);var Le=Na(pe,en),ke=Na(pe,Sr);if(Le&&ke&&(Ye.rangeCount!==1||Ye.anchorNode!==Le.node||Ye.anchorOffset!==Le.offset||Ye.focusNode!==ke.node||Ye.focusOffset!==ke.offset)){var Ve=ht.createRange();Ve.setStart(Le.node,Le.offset),Ye.removeAllRanges(),en>Sr?(Ye.addRange(Ve),Ye.extend(ke.node,ke.offset)):(Ve.setEnd(ke.node,ke.offset),Ye.addRange(Ve))}}}}for(ht=[],Ye=pe;Ye=Ye.parentNode;)Ye.nodeType===1&&ht.push({element:Ye,left:Ye.scrollLeft,top:Ye.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<ht.length;pe++){var ut=ht[pe];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}iy=!!G2,W2=G2=null}finally{or=E,ee.p=v,K.T=p}}o.current=u,Ji=2}}function n3(){if(Ji===2){Ji=0;var o=dd,u=Kh,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=K.T,K.T=null;var v=ee.p;ee.p=2;var E=or;or|=4;try{R4(o,u.alternate,u)}finally{or=E,ee.p=v,K.T=p}}Ji=3}}function r3(){if(Ji===4||Ji===3){Ji=0,at();var o=dd,u=Kh,p=fu,v=z4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ji=5:(Ji=0,Kh=dd=null,i3(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(ud=null),me(p),u=u.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(un,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=K.T,E=ee.p,ee.p=2,K.T=null;try{for(var I=o.onRecoverableError,J=0;J<v.length;J++){var pe=v[J];I(pe.value,{componentStack:pe.stack})}}finally{K.T=u,ee.p=E}}(fu&3)!==0&&Gv(),mc(o),E=o.pendingLanes,(p&261930)!==0&&(E&42)!==0?o===O2?ag++:(ag=0,O2=o):ag=0,sg(0)}}function i3(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Sf(u)))}function Gv(){return t3(),n3(),r3(),a3()}function a3(){if(Ji!==5)return!1;var o=dd,u=k2;k2=0;var p=me(fu),v=K.T,E=ee.p;try{ee.p=32>p?32:p,K.T=null,p=P2,P2=null;var I=dd,J=fu;if(Ji=0,Kh=dd=null,fu=0,(or&6)!==0)throw Error(r(331));var pe=or;if(or|=4,B4(I.current),L4(I,I.current,J,p),or=pe,sg(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(un,I)}catch{}return!0}finally{ee.p=E,K.T=v,i3(o,u)}}function s3(o,u,p){u=Cs(p,u),u=d2(o.stateNode,u,2),o=gr(o,u,2),o!==null&&(Xr(o,2),mc(o))}function yr(o,u,p){if(o.tag===3)s3(o,o,p);else for(;u!==null;){if(u.tag===3){s3(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ud===null||!ud.has(v))){o=Cs(p,o),p=o4(2),v=gr(u,p,2),v!==null&&(l4(p,v,u,o),Xr(v,2),mc(v));break}}u=u.return}}function D2(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new k$;var E=new Set;v.set(u,E)}else E=v.get(u),E===void 0&&(E=new Set,v.set(u,E));E.has(p)||(C2=!0,E.add(p),o=D$.bind(null,o,u,p),u.then(o,o))}function D$(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Rr===o&&(Ln&p)===p&&(pi===4||pi===3&&(Ln&62914560)===Ln&&300>Qe()-Bv?(or&2)===0&&Yh(o,0):I2|=p,Wh===Ln&&(Wh=0)),mc(o)}function o3(o,u){u===0&&(u=Br()),o=dl(o,u),o!==null&&(Xr(o,u),mc(o))}function L$(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),o3(o,p)}function F$(o,u){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),o3(o,p)}function U$(o,u){return He(o,u)}var Wv=null,Jh=null,L2=!1,Kv=!1,F2=!1,hd=0;function mc(o){o!==Jh&&o.next===null&&(Jh===null?Wv=Jh=o:Jh=Jh.next=o),Kv=!0,L2||(L2=!0,q$())}function sg(o,u){if(!F2&&Kv){F2=!0;do for(var p=!1,v=Wv;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var J=v.suspendedLanes,pe=v.pingedLanes;I=(1<<31-_n(42|o)+1)-1,I&=E&~(J&~pe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,d3(v,I))}else I=Ln,I=Bt(v,v===Rr?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||on(v,I)||(p=!0,d3(v,I));v=v.next}while(p);F2=!1}}function B$(){l3()}function l3(){Kv=L2=!1;var o=0;hd!==0&&J$()&&(o=hd);for(var u=Qe(),p=null,v=Wv;v!==null;){var E=v.next,I=c3(v,u);I===0?(v.next=null,p===null?Wv=E:p.next=E,E===null&&(Jh=p)):(p=v,(o!==0||(I&3)!==0)&&(Kv=!0)),v=E}Ji!==0&&Ji!==5||sg(o),hd!==0&&(hd=0)}function c3(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var J=31-_n(I),pe=1<<J,Ne=E[J];Ne===-1?((pe&p)===0||(pe&v)!==0)&&(E[J]=xa(pe,u)):Ne<=u&&(o.expiredLanes|=pe),I&=~pe}if(u=Rr,p=Ln,p=Bt(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(vr===2||vr===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&et(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||on(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&et(v),me(p)){case 2:case 8:p=_t;break;case 32:p=It;break;case 268435456:p=Wt;break;default:p=It}return v=u3.bind(null,o),p=He(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&et(v),o.callbackPriority=2,o.callbackNode=null,2}function u3(o,u){if(Ji!==0&&Ji!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Gv()&&o.callbackNode!==p)return null;var v=Ln;return v=Bt(o,o===Rr?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(H4(o,v,u),c3(o,Qe()),o.callbackNode!=null&&o.callbackNode===p?u3.bind(null,o):null)}function d3(o,u){if(Gv())return null;H4(o,u,!0)}function q$(){Z$(function(){(or&6)!==0?He(vt,B$):l3()})}function U2(){if(hd===0){var o=b;o===0&&(o=$n,$n<<=1,($n&261888)===0&&($n=256)),hd=o}return hd}function f3(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:us(""+o)}function h3(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function V$(o,u,p,v,E){if(u==="submit"&&p&&p.stateNode===E){var I=f3((E[Mt]||null).action),J=v.submitter;J&&(u=(u=J[Mt]||null)?f3(u.formAction):J.getAttribute("formAction"),u!==null&&(I=u,J=null));var pe=new Ao("action","action",null,v,E);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(hd!==0){var Ne=J?h3(E,J):new FormData(E);a2(p,{pending:!0,data:Ne,method:E.method,action:I},null,Ne)}}else typeof I=="function"&&(pe.preventDefault(),Ne=J?h3(E,J):new FormData(E),a2(p,{pending:!0,data:Ne,method:E.method,action:I},I,Ne))},currentTarget:E}]})}}for(var B2=0;B2<Ha.length;B2++){var q2=Ha[B2],z$=q2.toLowerCase(),$$=q2[0].toUpperCase()+q2.slice(1);Cn(z$,"on"+$$)}Cn(Zl,"onAnimationEnd"),Cn(cl,"onAnimationIteration"),Cn(ec,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Ku,"onTransitionRun"),Cn(Xc,"onTransitionStart"),Cn(tc,"onTransitionCancel"),Cn(Yu,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(og));function p3(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(u)for(var J=v.length-1;0<=J;J--){var pe=v[J],Ne=pe.instance,ze=pe.currentTarget;if(pe=pe.listener,Ne!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=ze;try{I(E)}catch(rt){ar(rt)}E.currentTarget=null,I=Ne}else for(J=0;J<v.length;J++){if(pe=v[J],Ne=pe.instance,ze=pe.currentTarget,pe=pe.listener,Ne!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=ze;try{I(E)}catch(rt){ar(rt)}E.currentTarget=null,I=Ne}}}}function Pn(o,u){var p=u[Fe];p===void 0&&(p=u[Fe]=new Set);var v=o+"__bubble";p.has(v)||(m3(u,o,2,!1),p.add(v))}function V2(o,u,p){var v=0;u&&(v|=4),m3(p,o,v,u)}var Yv="_reactListening"+Math.random().toString(36).slice(2);function z2(o){if(!o[Yv]){o[Yv]=!0,Hs.forEach(function(p){p!=="selectionchange"&&(H$.has(p)||V2(p,!1,o),V2(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Yv]||(u[Yv]=!0,V2("selectionchange",!1,u))}}function m3(o,u,p,v){switch($3(u)){case 2:var E=xH;break;case 8:E=bH;break;default:E=i_}p=E.bind(null,u,p,o),E=void 0,!el||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function $2(o,u,p,v,E){var I=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var pe=v.stateNode.containerInfo;if(pe===E)break;if(J===4)for(J=v.return;J!==null;){var Ne=J.tag;if((Ne===3||Ne===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;pe!==null;){if(J=Dr(pe),J===null)return;if(Ne=J.tag,Ne===5||Ne===6||Ne===26||Ne===27){v=I=J;continue e}pe=pe.parentNode}}v=v.return}Hc(function(){var ze=I,rt=Zo(p),ht=[];e:{var $e=hs.get(o);if($e!==void 0){var Ye=Ao,Lt=o;switch(o){case"keypress":if(Va(p)===0)break e;case"keydown":case"keyup":Ye=Yl;break;case"focusin":Lt="focus",Ye=So;break;case"focusout":Lt="blur",Ye=So;break;case"beforeblur":case"afterblur":Ye=So;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=te;break;case Zl:case cl:case ec:Ye=Hl;break;case Yu:Ye=Te;break;case"scroll":case"scrollend":Ye=Gc;break;case"wheel":Ye=Ze;break;case"copy":case"cut":case"paste":Ye=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=il;break;case"toggle":case"beforetoggle":Ye=Nt}var en=(u&4)!==0,Sr=!en&&(o==="scroll"||o==="scrollend"),Le=en?$e!==null?$e+"Capture":null:$e;en=[];for(var ke=ze,Ve;ke!==null;){var ut=ke;if(Ve=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||Ve===null||Le===null||(ut=$i(ke,Le),ut!=null&&en.push(lg(ke,ut,Ve))),Sr)break;ke=ke.return}0<en.length&&($e=new Ye($e,Lt,null,p,rt),ht.push({event:$e,listeners:en}))}}if((u&7)===0){e:{if($e=o==="mouseover"||o==="pointerover",Ye=o==="mouseout"||o==="pointerout",$e&&p!==Vl&&(Lt=p.relatedTarget||p.fromElement)&&(Dr(Lt)||Lt[Ht]))break e;if((Ye||$e)&&($e=rt.window===rt?rt:($e=rt.ownerDocument)?$e.defaultView||$e.parentWindow:window,Ye?(Lt=p.relatedTarget||p.toElement,Ye=ze,Lt=Lt?Dr(Lt):null,Lt!==null&&(Sr=a(Lt),en=Lt.tag,Lt!==Sr||en!==5&&en!==27&&en!==6)&&(Lt=null)):(Ye=null,Lt=ze),Ye!==Lt)){if(en=Js,ut="onMouseLeave",Le="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(en=il,ut="onPointerLeave",Le="onPointerEnter",ke="pointer"),Sr=Ye==null?$e:La(Ye),Ve=Lt==null?$e:La(Lt),$e=new en(ut,ke+"leave",Ye,p,rt),$e.target=Sr,$e.relatedTarget=Ve,ut=null,Dr(rt)===ze&&(en=new en(Le,ke+"enter",Lt,p,rt),en.target=Ve,en.relatedTarget=Sr,ut=en),Sr=ut,Ye&&Lt)t:{for(en=G$,Le=Ye,ke=Lt,Ve=0,ut=Le;ut;ut=en(ut))Ve++;ut=0;for(var Yt=ke;Yt;Yt=en(Yt))ut++;for(;0<Ve-ut;)Le=en(Le),Ve--;for(;0<ut-Ve;)ke=en(ke),ut--;for(;Ve--;){if(Le===ke||ke!==null&&Le===ke.alternate){en=Le;break t}Le=en(Le),ke=en(ke)}en=null}else en=null;Ye!==null&&g3(ht,$e,Ye,en,!1),Lt!==null&&Sr!==null&&g3(ht,Sr,Lt,en,!0)}}e:{if($e=ze?La(ze):window,Ye=$e.nodeName&&$e.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&$e.type==="file")var er=Ri;else if(Ii($e))if(Kc)er=Hu;else{er=Ah;var Ut=xf}else Ye=$e.nodeName,!Ye||Ye.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?ze&&cs(ze.elementType)&&(er=Ri):er=Es;if(er&&(er=er(o,ze))){eo(ht,er,p,rt);break e}Ut&&Ut(o,$e,ze),o==="focusout"&&ze&&$e.type==="number"&&ze.memoizedProps.value!=null&&Qo($e,"number",$e.value)}switch(Ut=ze?La(ze):window,o){case"focusin":(Ii(Ut)||Ut.contentEditable==="true")&&(no=Ut,ro=ze,Tr=null);break;case"focusout":Tr=ro=no=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,la(ht,p,rt);break;case"selectionchange":if(ll)break;case"keydown":case"keyup":la(ht,p,rt)}var wn;if($)e:{switch(o){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else Qt?ln(o,p)&&(Fn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Fn="onCompositionStart");Fn&&(je&&p.locale!=="ko"&&(Qt||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&Qt&&(wn=qa()):(Aa=rt,zl="value"in Aa?Aa.value:Aa.textContent,Qt=!0)),Ut=Xv(ze,Fn),0<Ut.length&&(Fn=new No(Fn,o,null,p,rt),ht.push({event:Fn,listeners:Ut}),wn?Fn.data=wn:(wn=Nn(p),wn!==null&&(Fn.data=wn)))),(wn=he?Qn(o,p):mr(o,p))&&(Fn=Xv(ze,"onBeforeInput"),0<Fn.length&&(Ut=new No("onBeforeInput","beforeinput",null,p,rt),ht.push({event:Ut,listeners:Fn}),Ut.data=wn)),V$(ht,o,ze,p,rt)}p3(ht,u)})}function lg(o,u,p){return{instance:o,listener:u,currentTarget:p}}function Xv(o,u){for(var p=u+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=$i(o,p),E!=null&&v.unshift(lg(o,E,I)),E=$i(o,u),E!=null&&v.push(lg(o,E,I))),o.tag===3)return v;o=o.return}return[]}function G$(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function g3(o,u,p,v,E){for(var I=u._reactName,J=[];p!==null&&p!==v;){var pe=p,Ne=pe.alternate,ze=pe.stateNode;if(pe=pe.tag,Ne!==null&&Ne===v)break;pe!==5&&pe!==26&&pe!==27||ze===null||(Ne=ze,E?(ze=$i(p,I),ze!=null&&J.unshift(lg(p,ze,Ne))):E||(ze=$i(p,I),ze!=null&&J.push(lg(p,ze,Ne)))),p=p.return}J.length!==0&&o.push({event:u,listeners:J})}var W$=/\r\n?/g,K$=/\u0000|\uFFFD/g;function v3(o){return(typeof o=="string"?o:""+o).replace(W$,`
`).replace(K$,"")}function y3(o,u){return u=v3(u),v3(o)===u}function Ar(o,u,p,v,E,I){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||ra(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&ra(o,""+v);break;case"className":ur(o,"class",v);break;case"tabIndex":ur(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(o,p,v);break;case"style":qu(o,v,I);break;case"data":if(u!=="object"){ur(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=us(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(u!=="input"&&Ar(o,u,"name",E.name,E,null),Ar(o,u,"formEncType",E.formEncType,E,null),Ar(o,u,"formMethod",E.formMethod,E,null),Ar(o,u,"formTarget",E.formTarget,E,null)):(Ar(o,u,"encType",E.encType,E,null),Ar(o,u,"method",E.method,E,null),Ar(o,u,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=us(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=Vn);break;case"onScroll":v!=null&&Pn("scroll",o);break;case"onScrollEnd":v!=null&&Pn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=us(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Pn("beforetoggle",o),Pn("toggle",o),xo(o,"popover",v);break;case"xlinkActuate":ba(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ba(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ba(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ba(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ba(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ba(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ba(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ba(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ba(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":xo(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Bl.get(p)||p,xo(o,p,v))}}function H2(o,u,p,v,E,I){switch(p){case"style":qu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?ra(o,v):(typeof v=="number"||typeof v=="bigint")&&ra(o,""+v);break;case"onScroll":v!=null&&Pn("scroll",o);break;case"onScrollEnd":v!=null&&Pn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),I=o[Mt]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(u,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):xo(o,p,v)}}}function Ia(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pn("error",o),Pn("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var J=p[I];if(J!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ar(o,u,I,J,p,null)}}E&&Ar(o,u,"srcSet",p.srcSet,p,null),v&&Ar(o,u,"src",p.src,p,null);return;case"input":Pn("invalid",o);var pe=I=J=E=null,Ne=null,ze=null;for(v in p)if(p.hasOwnProperty(v)){var rt=p[v];if(rt!=null)switch(v){case"name":E=rt;break;case"type":J=rt;break;case"checked":Ne=rt;break;case"defaultChecked":ze=rt;break;case"value":I=rt;break;case"defaultValue":pe=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,u));break;default:Ar(o,u,v,rt,p,null)}}Jo(o,I,pe,Ne,ze,J,E,!1);return;case"select":Pn("invalid",o),v=J=I=null;for(E in p)if(p.hasOwnProperty(E)&&(pe=p[E],pe!=null))switch(E){case"value":I=pe;break;case"defaultValue":J=pe;break;case"multiple":v=pe;default:Ar(o,u,E,pe,p,null)}u=I,p=J,o.multiple=!!v,u!=null?Mn(o,!!v,u,!1):p!=null&&Mn(o,!!v,p,!0);return;case"textarea":Pn("invalid",o),I=E=v=null;for(J in p)if(p.hasOwnProperty(J)&&(pe=p[J],pe!=null))switch(J){case"value":v=pe;break;case"defaultValue":E=pe;break;case"children":I=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:Ar(o,u,J,pe,p,null)}_o(o,v,E,I);return;case"option":for(Ne in p)if(p.hasOwnProperty(Ne)&&(v=p[Ne],v!=null))switch(Ne){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ar(o,u,Ne,v,p,null)}return;case"dialog":Pn("beforetoggle",o),Pn("toggle",o),Pn("cancel",o),Pn("close",o);break;case"iframe":case"object":Pn("load",o);break;case"video":case"audio":for(v=0;v<og.length;v++)Pn(og[v],o);break;case"image":Pn("error",o),Pn("load",o);break;case"details":Pn("toggle",o);break;case"embed":case"source":case"link":Pn("error",o),Pn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in p)if(p.hasOwnProperty(ze)&&(v=p[ze],v!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ar(o,u,ze,v,p,null)}return;default:if(cs(u)){for(rt in p)p.hasOwnProperty(rt)&&(v=p[rt],v!==void 0&&H2(o,u,rt,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&Ar(o,u,pe,v,p,null))}function Y$(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,J=null,pe=null,Ne=null,ze=null,rt=null;for(Ye in p){var ht=p[Ye];if(p.hasOwnProperty(Ye)&&ht!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":Ne=ht;default:v.hasOwnProperty(Ye)||Ar(o,u,Ye,null,v,ht)}}for(var $e in v){var Ye=v[$e];if(ht=p[$e],v.hasOwnProperty($e)&&(Ye!=null||ht!=null))switch($e){case"type":I=Ye;break;case"name":E=Ye;break;case"checked":ze=Ye;break;case"defaultChecked":rt=Ye;break;case"value":J=Ye;break;case"defaultValue":pe=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,u));break;default:Ye!==ht&&Ar(o,u,$e,Ye,v,ht)}}Ks(o,J,pe,Ne,ze,rt,I,E);return;case"select":Ye=J=pe=$e=null;for(I in p)if(Ne=p[I],p.hasOwnProperty(I)&&Ne!=null)switch(I){case"value":break;case"multiple":Ye=Ne;default:v.hasOwnProperty(I)||Ar(o,u,I,null,v,Ne)}for(E in v)if(I=v[E],Ne=p[E],v.hasOwnProperty(E)&&(I!=null||Ne!=null))switch(E){case"value":$e=I;break;case"defaultValue":pe=I;break;case"multiple":J=I;default:I!==Ne&&Ar(o,u,E,I,v,Ne)}u=pe,p=J,v=Ye,$e!=null?Mn(o,!!p,$e,!1):!!v!=!!p&&(u!=null?Mn(o,!!p,u,!0):Mn(o,!!p,p?[]:"",!1));return;case"textarea":Ye=$e=null;for(pe in p)if(E=p[pe],p.hasOwnProperty(pe)&&E!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:Ar(o,u,pe,null,v,E)}for(J in v)if(E=v[J],I=p[J],v.hasOwnProperty(J)&&(E!=null||I!=null))switch(J){case"value":$e=E;break;case"defaultValue":Ye=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&Ar(o,u,J,E,v,I)}bo(o,$e,Ye);return;case"option":for(var Lt in p)if($e=p[Lt],p.hasOwnProperty(Lt)&&$e!=null&&!v.hasOwnProperty(Lt))switch(Lt){case"selected":o.selected=!1;break;default:Ar(o,u,Lt,null,v,$e)}for(Ne in v)if($e=v[Ne],Ye=p[Ne],v.hasOwnProperty(Ne)&&$e!==Ye&&($e!=null||Ye!=null))switch(Ne){case"selected":o.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:Ar(o,u,Ne,$e,v,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var en in p)$e=p[en],p.hasOwnProperty(en)&&$e!=null&&!v.hasOwnProperty(en)&&Ar(o,u,en,null,v,$e);for(ze in v)if($e=v[ze],Ye=p[ze],v.hasOwnProperty(ze)&&$e!==Ye&&($e!=null||Ye!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,u));break;default:Ar(o,u,ze,$e,v,Ye)}return;default:if(cs(u)){for(var Sr in p)$e=p[Sr],p.hasOwnProperty(Sr)&&$e!==void 0&&!v.hasOwnProperty(Sr)&&H2(o,u,Sr,void 0,v,$e);for(rt in v)$e=v[rt],Ye=p[rt],!v.hasOwnProperty(rt)||$e===Ye||$e===void 0&&Ye===void 0||H2(o,u,rt,$e,v,Ye);return}}for(var Le in p)$e=p[Le],p.hasOwnProperty(Le)&&$e!=null&&!v.hasOwnProperty(Le)&&Ar(o,u,Le,null,v,$e);for(ht in v)$e=v[ht],Ye=p[ht],!v.hasOwnProperty(ht)||$e===Ye||$e==null&&Ye==null||Ar(o,u,ht,$e,v,Ye)}function x3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X$(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var E=p[v],I=E.transferSize,J=E.initiatorType,pe=E.duration;if(I&&pe&&x3(J)){for(J=0,pe=E.responseEnd,v+=1;v<p.length;v++){var Ne=p[v],ze=Ne.startTime;if(ze>pe)break;var rt=Ne.transferSize,ht=Ne.initiatorType;rt&&x3(ht)&&(Ne=Ne.responseEnd,J+=rt*(Ne<pe?1:(pe-ze)/(Ne-ze)))}if(--v,u+=8*(I+J)/(E.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var G2=null,W2=null;function Jv(o){return o.nodeType===9?o:o.ownerDocument}function b3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _3(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function K2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Y2=null;function J$(){var o=window.event;return o&&o.type==="popstate"?o===Y2?!1:(Y2=o,!0):(Y2=null,!1)}var w3=typeof setTimeout=="function"?setTimeout:void 0,Q$=typeof clearTimeout=="function"?clearTimeout:void 0,A3=typeof Promise=="function"?Promise:void 0,Z$=typeof queueMicrotask=="function"?queueMicrotask:typeof A3<"u"?function(o){return A3.resolve(null).then(o).catch(eH)}:w3;function eH(o){setTimeout(function(){throw o})}function pd(o){return o==="head"}function S3(o,u){var p=u,v=0;do{var E=p.nextSibling;if(o.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(E),tp(u);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")cg(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,cg(p);for(var I=p.firstChild;I;){var J=I.nextSibling,pe=I.nodeName;I[Mr]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&I.rel.toLowerCase()==="stylesheet"||p.removeChild(I),I=J}}else p==="body"&&cg(o.ownerDocument.body);p=E}while(p);tp(u)}function E3(o,u){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function X2(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":X2(p),jn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function tH(o,u,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Mr])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=jo(o.nextSibling),o===null)break}return null}function nH(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=jo(o.nextSibling),o===null))return null;return o}function N3(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=jo(o.nextSibling),o===null))return null;return o}function J2(o){return o.data==="$?"||o.data==="$~"}function Q2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function rH(o,u){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||p.readyState!=="loading")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function jo(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var Z2=null;function T3(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(u===0)return jo(o.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}o=o.nextSibling}return null}function C3(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return o;u--}else p!=="/$"&&p!=="/&"||u++}o=o.previousSibling}return null}function I3(o,u,p){switch(u=Jv(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function cg(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);jn(o)}var Mo=new Map,R3=new Set;function Qv(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var hu=ee.d;ee.d={f:iH,r:aH,D:sH,C:oH,L:lH,m:cH,X:dH,S:uH,M:fH};function iH(){var o=hu.f(),u=zv();return o||u}function aH(o){var u=Hn(o);u!==null&&u.tag===5&&u.type==="form"?WI(u):hu.r(o)}var Qh=typeof document>"u"?null:document;function k3(o,u,p){var v=Qh;if(v&&typeof u=="string"&&u){var E=_r(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),R3.has(E)||(R3.add(E),o={rel:o,crossOrigin:p,href:u},v.querySelector(E)===null&&(u=v.createElement("link"),Ia(u,"link",o),Vr(u),v.head.appendChild(u)))}}function sH(o){hu.D(o),k3("dns-prefetch",o,null)}function oH(o,u){hu.C(o,u),k3("preconnect",o,u)}function lH(o,u,p){hu.L(o,u,p);var v=Qh;if(v&&o&&u){var E='link[rel="preload"][as="'+_r(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+_r(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+_r(p.imageSizes)+'"]')):E+='[href="'+_r(o)+'"]';var I=E;switch(u){case"style":I=Zh(o);break;case"script":I=ep(o)}Mo.has(I)||(o=m({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Mo.set(I,o),v.querySelector(E)!==null||u==="style"&&v.querySelector(ug(I))||u==="script"&&v.querySelector(dg(I))||(u=v.createElement("link"),Ia(u,"link",o),Vr(u),v.head.appendChild(u)))}}function cH(o,u){hu.m(o,u);var p=Qh;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+_r(v)+'"][href="'+_r(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=ep(o)}if(!Mo.has(I)&&(o=m({rel:"modulepreload",href:o},u),Mo.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(dg(I)))return}v=p.createElement("link"),Ia(v,"link",o),Vr(v),p.head.appendChild(v)}}}function uH(o,u,p){hu.S(o,u,p);var v=Qh;if(v&&o){var E=ls(v).hoistableStyles,I=Zh(o);u=u||"default";var J=E.get(I);if(!J){var pe={loading:0,preload:null};if(J=v.querySelector(ug(I)))pe.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Mo.get(I))&&e_(o,p);var Ne=J=v.createElement("link");Vr(Ne),Ia(Ne,"link",o),Ne._p=new Promise(function(ze,rt){Ne.onload=ze,Ne.onerror=rt}),Ne.addEventListener("load",function(){pe.loading|=1}),Ne.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,Zv(J,u,v)}J={type:"stylesheet",instance:J,count:1,state:pe},E.set(I,J)}}}function dH(o,u){hu.X(o,u);var p=Qh;if(p&&o){var v=ls(p).hoistableScripts,E=ep(o),I=v.get(E);I||(I=p.querySelector(dg(E)),I||(o=m({src:o,async:!0},u),(u=Mo.get(E))&&t_(o,u),I=p.createElement("script"),Vr(I),Ia(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function fH(o,u){hu.M(o,u);var p=Qh;if(p&&o){var v=ls(p).hoistableScripts,E=ep(o),I=v.get(E);I||(I=p.querySelector(dg(E)),I||(o=m({src:o,async:!0,type:"module"},u),(u=Mo.get(E))&&t_(o,u),I=p.createElement("script"),Vr(I),Ia(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function P3(o,u,p,v){var E=(E=X.current)?Qv(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Zh(p.href),p=ls(E).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Zh(p.href);var I=ls(E).hoistableStyles,J=I.get(o);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,J),(I=E.querySelector(ug(o)))&&!I._p&&(J.instance=I,J.state.loading=5),Mo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Mo.set(o,p),I||hH(E,o,p,J.state))),u&&v===null)throw Error(r(528,""));return J}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=ep(p),p=ls(E).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Zh(o){return'href="'+_r(o)+'"'}function ug(o){return'link[rel="stylesheet"]['+o+"]"}function O3(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function hH(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),Ia(u,"link",p),Vr(u),o.head.appendChild(u))}function ep(o){return'[src="'+_r(o)+'"]'}function dg(o){return"script[async]"+o}function j3(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+_r(p.href)+'"]');if(v)return u.instance=v,Vr(v),v;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Vr(v),Ia(v,"style",E),Zv(v,p.precedence,o),u.instance=v;case"stylesheet":E=Zh(p.href);var I=o.querySelector(ug(E));if(I)return u.state.loading|=4,u.instance=I,Vr(I),I;v=O3(p),(E=Mo.get(E))&&e_(v,E),I=(o.ownerDocument||o).createElement("link"),Vr(I);var J=I;return J._p=new Promise(function(pe,Ne){J.onload=pe,J.onerror=Ne}),Ia(I,"link",v),u.state.loading|=4,Zv(I,p.precedence,o),u.instance=I;case"script":return I=ep(p.src),(E=o.querySelector(dg(I)))?(u.instance=E,Vr(E),E):(v=p,(E=Mo.get(I))&&(v=m({},p),t_(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Vr(E),Ia(E,"link",v),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,Zv(v,p.precedence,o));return u.instance}function Zv(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,J=0;J<v.length;J++){var pe=v[J];if(pe.dataset.precedence===u)I=pe;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function e_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function t_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ey=null;function M3(o,u,p){if(ey===null){var v=new Map,E=ey=new Map;E.set(p,v)}else E=ey,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[Mr]||I[zt]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(u)||"";J=o+J;var pe=v.get(J);pe?pe.push(I):v.set(J,[I])}}return v}function D3(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function pH(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function L3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function mH(o,u,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=Zh(v.href),I=u.querySelector(ug(E));if(I){u=I._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=ty.bind(o),u.then(o,o)),p.state.loading|=4,p.instance=I,Vr(I);return}I=u.ownerDocument||u,v=O3(v),(E=Mo.get(E))&&e_(v,E),I=I.createElement("link"),Vr(I);var J=I;J._p=new Promise(function(pe,Ne){J.onload=pe,J.onerror=Ne}),Ia(I,"link",v),p.instance=I}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=ty.bind(o),u.addEventListener("load",p),u.addEventListener("error",p))}}var n_=0;function gH(o,u){return o.stylesheets&&o.count===0&&ry(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&ry(o,o.stylesheets),o.unsuspend){var I=o.unsuspend;o.unsuspend=null,I()}},6e4+u);0<o.imgBytes&&n_===0&&(n_=62500*X$());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ry(o,o.stylesheets),o.unsuspend)){var I=o.unsuspend;o.unsuspend=null,I()}},(o.imgBytes>n_?50:800)+u);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(E)}}:null}function ty(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ry(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ny=null;function ry(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ny=new Map,u.forEach(vH,o),ny=null,ty.call(o))}function vH(o,u){if(!(u.state.loading&4)){var p=ny.get(o);if(p)var v=p.get(null);else{p=new Map,ny.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var J=E[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),v=J)}v&&p.set(null,v)}E=u.instance,J=E.getAttribute("data-precedence"),I=p.get(J)||v,I===v&&p.set(null,E),p.set(J,E),this.count++,v=ty.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var fg={$$typeof:P,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function yH(o,u,p,v,E,I,J,pe,Ne){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function F3(o,u,p,v,E,I,J,pe,Ne,ze,rt,ht){return o=new yH(o,u,p,J,Ne,ze,rt,ht,pe),u=1,I===!0&&(u|=24),I=ua(3,null,null,u),o.current=I,I.stateNode=o,u=nd(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:u},sr(I),o}function U3(o){return o?(o=Gi,o):Gi}function B3(o,u,p,v,E,I){E=U3(E),v.context===null?v.context=E:v.pendingContext=E,v=Zt(u),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=gr(o,v,u),p!==null&&(Us(p,o,u),Pi(p,o,u))}function q3(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function r_(o,u){q3(o,u),(o=o.alternate)&&q3(o,u)}function V3(o){if(o.tag===13||o.tag===31){var u=dl(o,67108864);u!==null&&Us(u,o,67108864),r_(o,67108864)}}function z3(o){if(o.tag===13||o.tag===31){var u=co();u=cr(u);var p=dl(o,u);p!==null&&Us(p,o,u),r_(o,u)}}var iy=!0;function xH(o,u,p,v){var E=K.T;K.T=null;var I=ee.p;try{ee.p=2,i_(o,u,p,v)}finally{ee.p=I,K.T=E}}function bH(o,u,p,v){var E=K.T;K.T=null;var I=ee.p;try{ee.p=8,i_(o,u,p,v)}finally{ee.p=I,K.T=E}}function i_(o,u,p,v){if(iy){var E=a_(v);if(E===null)$2(o,u,v,ay,p),H3(o,v);else if(wH(E,o,u,p,v))v.stopPropagation();else if(H3(o,v),u&4&&-1<_H.indexOf(o)){for(;E!==null;){var I=Hn(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=yn(I.pendingLanes);if(J!==0){var pe=I;for(pe.pendingLanes|=2,pe.entangledLanes|=2;J;){var Ne=1<<31-_n(J);pe.entanglements[1]|=Ne,J&=~Ne}mc(I),(or&6)===0&&(qv=Qe()+500,sg(0))}}break;case 31:case 13:pe=dl(I,2),pe!==null&&Us(pe,I,2),zv(),r_(I,2)}if(I=a_(v),I===null&&$2(o,u,v,ay,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else $2(o,u,v,null,p)}}function a_(o){return o=Zo(o),s_(o)}var ay=null;function s_(o){if(ay=null,o=Dr(o),o!==null){var u=a(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=s(u),o!==null)return o;o=null}else if(p===31){if(o=l(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return ay=o,null}function $3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case vt:return 2;case _t:return 8;case It:case Tt:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var o_=!1,md=null,gd=null,vd=null,hg=new Map,pg=new Map,yd=[],_H="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H3(o,u){switch(o){case"focusin":case"focusout":md=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":vd=null;break;case"pointerover":case"pointerout":hg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":pg.delete(u.pointerId)}}function mg(o,u,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},u!==null&&(u=Hn(u),u!==null&&V3(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function wH(o,u,p,v,E){switch(u){case"focusin":return md=mg(md,o,u,p,v,E),!0;case"dragenter":return gd=mg(gd,o,u,p,v,E),!0;case"mouseover":return vd=mg(vd,o,u,p,v,E),!0;case"pointerover":var I=E.pointerId;return hg.set(I,mg(hg.get(I)||null,o,u,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,pg.set(I,mg(pg.get(I)||null,o,u,p,v,E)),!0}return!1}function G3(o){var u=Dr(o.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){o.blockedOn=u,$t(o.priority,function(){z3(p)});return}}else if(u===31){if(u=l(p),u!==null){o.blockedOn=u,$t(o.priority,function(){z3(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function sy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=a_(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);Vl=v,p.target.dispatchEvent(v),Vl=null}else return u=Hn(p),u!==null&&V3(u),o.blockedOn=p,!1;u.shift()}return!0}function W3(o,u,p){sy(o)&&p.delete(u)}function AH(){o_=!1,md!==null&&sy(md)&&(md=null),gd!==null&&sy(gd)&&(gd=null),vd!==null&&sy(vd)&&(vd=null),hg.forEach(W3),pg.forEach(W3)}function oy(o,u){o.blockedOn===u&&(o.blockedOn=null,o_||(o_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AH)))}var ly=null;function K3(o){ly!==o&&(ly=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ly===o&&(ly=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],E=o[u+2];if(typeof v!="function"){if(s_(v||p)===null)continue;break}var I=Hn(p);I!==null&&(o.splice(u,3),u-=3,a2(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function tp(o){function u(Ne){return oy(Ne,o)}md!==null&&oy(md,o),gd!==null&&oy(gd,o),vd!==null&&oy(vd,o),hg.forEach(u),pg.forEach(u);for(var p=0;p<yd.length;p++){var v=yd[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<yd.length&&(p=yd[0],p.blockedOn===null);)G3(p),p.blockedOn===null&&yd.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],J=E[Mt]||null;if(typeof I=="function")J||K3(p);else if(J){var pe=null;if(I&&I.hasAttribute("formAction")){if(E=I,J=I[Mt]||null)pe=J.formAction;else if(s_(E)!==null)continue}else pe=J.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),K3(p)}}}function Y3(){function o(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(J){return E=J})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function l_(o){this._internalRoot=o}cy.prototype.render=l_.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=co();B3(p,v,o,u,null,null)},cy.prototype.unmount=l_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;B3(o.current,2,null,o,null,null),zv(),u[Ht]=null}};function cy(o){this._internalRoot=o}cy.prototype.unstable_scheduleHydration=function(o){if(o){var u=tt();o={blockedOn:null,target:o,priority:u};for(var p=0;p<yd.length&&u!==0&&u<yd[p].priority;p++);yd.splice(p,0,o),p===0&&G3(o)}};var X3=e.version;if(X3!=="19.2.3")throw Error(r(527,X3,"19.2.3"));ee.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var SH={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{un=uy.inject(SH),lr=uy}catch{}}return vg.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",E=r4,I=i4,J=a4;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError)),u=F3(o,1,!1,null,null,p,v,null,E,I,J,Y3),o[Ht]=u.current,z2(o),new l_(u)},vg.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=r4,J=i4,pe=a4,Ne=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.formState!==void 0&&(Ne=p.formState)),u=F3(o,1,!0,u,p??null,v,E,Ne,I,J,pe,Y3),u.context=U3(null),p=u.current,v=co(),v=cr(v),E=Zt(v),E.callback=null,gr(p,E,v),p=v,u.current.lanes=p,Xr(u,p),mc(u),o[Ht]=u.current,z2(o),new cy(u)},vg.version="19.2.3",vg}var sR;function jH(){if(sR)return d_.exports;sR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d_.exports=OH(),d_.exports}var MH=jH();const DH=Nr(MH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=ye.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>ye.createElement("svg",{ref:c,...FH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:G7("lucide",i),...l},[...s.map(([d,h])=>ye.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(t,e)=>{const n=ye.forwardRef(({className:r,...i},a)=>ye.createElement(UH,{ref:a,iconNode:e,className:G7(`lucide-${LH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ja=xt("Activity",BH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],oR=xt("Archive",qH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ma=xt("ArrowLeft",VH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],W7=xt("Award",zH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],HH=xt("Barcode",$H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]],VS=xt("Beef",GH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],KH=xt("Bell",WH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Pg=xt("Bot",YH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],JH=xt("BrainCircuit",XH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ZH=xt("Calculator",QH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vm=xt("Calendar",eG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nG=xt("ChartColumn",tG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],iG=xt("ChartNoAxesColumn",rG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],K7=xt("ChartPie",aG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],s1=xt("Check",sG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mc=xt("ChevronRight",oG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bp=xt("CircleAlert",lG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_u=xt("CircleCheckBig",cG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],dT=xt("Clock",uG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],fG=xt("Contact",dG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],Y7=xt("Cpu",hG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mG=xt("CreditCard",pG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],vG=xt("Crown",gG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],o1=xt("Database",yG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],bG=xt("Dna",xG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hf=xt("DollarSign",_G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],X7=xt("Download",wG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qp=xt("FileText",AG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],lR=xt("Filter",SG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],NG=xt("Fingerprint",EG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],zS=xt("Flame",TG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],IG=xt("FolderOpen",CG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],kG=xt("Folder",RG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OG=xt("Globe",PG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wd=xt("History",jG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$S=xt("Image",MG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],LG=xt("Info",DG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],cR=xt("Landmark",FG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BG=xt("Layers",UG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VG=xt("LayoutDashboard",qG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],$G=xt("LayoutGrid",zG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],GG=xt("Link",HG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sp=xt("LoaderCircle",WG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],YG=xt("LockOpen",KG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fT=xt("Lock",XG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],QG=xt("LogOut",JG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],eW=xt("Mail",ZG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],l1=xt("MapPin",tW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],rW=xt("Medal",nW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],a0=xt("MessageCircle",iW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],sW=xt("MicOff",aW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Ed=xt("Mic",oW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M5 12h14",key:"1ays0h"}]],c1=xt("Minus",lW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],uW=xt("Navigation",cW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],fW=xt("PackagePlus",dW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],dh=xt("Package",hW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],mW=xt("Palette",pW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],J7=xt("PenLine",gW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zg=xt("Pencil",vW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],uR=xt("Play",yW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gf=xt("Plus",xW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],u1=xt("Printer",bW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hT=xt("RefreshCw",_W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],d1=xt("Save",wW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Ep=xt("Scale",AW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],EW=xt("ScanFace",SW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ym=xt("Search",NW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dR=xt("Send",TW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IW=xt("Settings",CW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],kW=xt("Sheet",RW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Q7=xt("ShieldAlert",PW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Go=xt("ShieldCheck",OW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],MW=xt("ShoppingBag",jW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],fR=xt("ShoppingCart",DW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],hR=xt("Smartphone",LW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Z7=xt("Sparkles",FW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pR=xt("Star",UW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],qW=xt("Sword",BW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zW=xt("Tag",VW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],e9=xt("Target",$W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],mR=xt("Terminal",HW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],WW=xt("Thermometer",GW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zf=xt("Trash2",KW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],gR=xt("Trash",YW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],f1=xt("TrendingDown",XW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],h1=xt("TrendingUp",JW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z0=xt("TriangleAlert",QW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ac=xt("Truck",ZW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],tK=xt("Type",eK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$g=xt("Upload",nK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t9=xt("UserPlus",rK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p1=xt("User",iK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pT=xt("Users",aK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oK=xt("VideoOff",sK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],vR=xt("Video",lK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],m1=xt("Wallet",cK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],n9=xt("WandSparkles",uK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],r9=xt("Waves",dK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hK=xt("WifiOff",fK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],mK=xt("Wifi",pK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sc=xt("X",gK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_s=xt("Zap",vK),yK=({setView:t,onLogout:e,onSyncSheets:n,sheetsSyncStatus:r})=>{const i=[{id:"dashboard",label:"Painel Geral",description:"Viso Macro & KPIs",icon:VG,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"clients",label:"Clientes",description:"Agenda & Contatos",icon:pT,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"suppliers",label:"Fornecedores",description:"Cadastro Rural",icon:Ac,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"batches",label:"Cadastro de Lotes",description:"Entrada de Gado",icon:dh,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"stock",label:"Estoque",description:"Auditoria Fria",icon:VS,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"expedition",label:"Vendas",description:"Venda de Peas",icon:Ep,color:"text-amber-600",bg:"bg-amber-50",glow:"group-hover:shadow-lg"},{id:"sales_history",label:"Histrico",description:"Relatrios de Venda",icon:qp,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"},{id:"financial",label:"Financeiro",description:"Fluxo de Caixa",icon:Hf,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"scheduled_orders",label:"Agendamentos",description:"Pedidos Futuros",icon:vm,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"heifers",label:"Gesto Abate",description:"Novilhas Dirias",icon:VS,color:"text-emerald-700",bg:"bg-emerald-100",glow:"group-hover:shadow-lg"},{id:"sales_agent",label:"Agente IA",description:"Rob de Vendas",icon:Pg,color:"text-purple-600",bg:"bg-purple-100",glow:"group-hover:shadow-lg"},{id:"report",label:"Relatrio",description:"Resumo Dirio",icon:qp,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"audit",label:"Auditoria",description:"Quem Fez O Qu",icon:Go,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"},{id:"aistudio",label:"AI Studio",description:"Processamento IA",icon:n9,color:"text-fuchsia-600",bg:"bg-fuchsia-50",glow:"group-hover:shadow-lg"}];return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex flex-col items-center justify-center p-6 lg:p-12 relative overflow-hidden font-sans text-white",children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.08] pointer-events-none",style:{backgroundImage:"linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px)",backgroundSize:"60px 60px"}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/10 rounded-full blur-[120px] pointer-events-none"}),f.jsxs("div",{className:"w-full max-w-6xl z-10 animate-fade-in flex flex-col items-center gap-12",children:[f.jsxs("div",{className:"text-center space-y-4 relative",children:[f.jsx("div",{className:"absolute -top-6 -right-12 bg-white/20 text-white text-[8px] font-black px-2 py-0.5 rounded border border-white/30 uppercase tracking-[0.2em] animate-pulse",children:"Sistema Ativo"}),f.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/10 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/20 mb-4 transform hover:scale-110 transition-all duration-700 group cursor-default",children:[f.jsx(Ac,{size:48,className:"text-white group-hover:text-blue-100 transition-colors"}),f.jsx("div",{className:"absolute inset-0 rounded-[2rem] border border-white/20 animate-ping opacity-20"})]}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter uppercase italic leading-none drop-shadow-2xl",children:["Frigo",f.jsx("span",{className:"text-blue-200 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]",children:"Gest"})]}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-transparent to-white/30"}),f.jsxs("p",{className:"text-white/70 font-black text-[10px] uppercase tracking-[0.4em] flex items-center gap-2",children:[f.jsx(_s,{size:12,className:"text-blue-200"})," Sistema Avanado v2.6.5"]}),f.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-l from-transparent to-white/30"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 w-full",children:i.map(a=>{const s=a.icon;return f.jsxs("button",{onClick:()=>t(a.id),className:`group relative flex flex-col items-start justify-between p-8 h-48 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-[2.5rem] hover:border-white/40 hover:bg-white/15 transition-all duration-500 shadow-2xl active:scale-[0.98] text-left overflow-hidden ${a.glow}`,children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsx("div",{className:`w-14 h-14 rounded-2xl ${a.bg} flex items-center justify-center ${a.color} group-hover:scale-110 transition-all duration-500 border border-white/10 shadow-lg`,children:f.jsx(s,{size:28})}),f.jsxs("div",{className:"relative z-10 transition-transform duration-500 group-hover:translate-x-1",children:[f.jsx("h3",{className:"text-lg font-black text-white group-hover:text-blue-100 transition-colors uppercase tracking-tight",children:a.label}),f.jsx("p",{className:"text-[10px] text-white/60 font-black mt-1 tracking-widest uppercase opacity-60 group-hover:opacity-100",children:a.description})]}),f.jsxs("div",{className:"absolute bottom-8 right-8 flex items-center gap-2 opacity-20 group-hover:opacity-100 transition-all",children:[f.jsx("div",{className:"h-[1px] w-4 bg-white/30 group-hover:bg-white/60 transition-colors"}),f.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 group-hover:text-white/80 transition-colors",children:["0",i.indexOf(a)+1]})]}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},a.id)})}),f.jsxs("div",{className:"mt-4 flex flex-col items-center gap-8 relative",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("button",{onClick:()=>{confirm(` Atualizar para nova verso?

Seus dados no sero perdidos!`)&&window.location.reload()},className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-emerald-500/20 backdrop-blur-md border border-emerald-400/30 hover:border-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/30 transition-all hover:shadow-lg active:scale-95 group",children:[f.jsx(_s,{size:16,className:"group-hover:rotate-180 transition-transform"}),"ATUALIZAR"]}),n&&f.jsxs("button",{onClick:n,disabled:r==="syncing",className:`flex items-center gap-3 px-8 py-5 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] backdrop-blur-md border transition-all hover:shadow-lg active:scale-95 group ${r==="syncing"?"text-amber-300/80 bg-amber-500/20 border-amber-400/30 cursor-wait":r==="ok"?"text-emerald-300/80 bg-emerald-500/20 border-emerald-400/30":r==="error"?"text-rose-300/80 bg-rose-500/20 border-rose-400/30":"text-white/80 bg-white/10 border-white/20 hover:border-blue-400 hover:text-blue-300 hover:bg-blue-500/20"}`,children:[f.jsx(kW,{size:16,className:r==="syncing"?"animate-spin":"group-hover:scale-110 transition-transform"}),r==="syncing"?"SINCRONIZANDO...":r==="ok"?" SINCRONIZADO":"SYNC PLANILHA"]}),f.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-white/10 backdrop-blur-md border border-white/20 hover:border-rose-400 hover:text-rose-300 hover:bg-rose-500/20 transition-all hover:shadow-lg active:scale-95 group",children:[f.jsx(QG,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"SAIR"]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-4 text-white/40 font-bold text-[8px] uppercase tracking-[0.5em]",children:[f.jsx("span",{children:"Status: Online"}),f.jsx("span",{className:"w-1 h-1 bg-emerald-400 rounded-full animate-pulse"}),f.jsx("span",{children:"Enc: 256-Bit"})]}),f.jsx("p",{className:"text-[9px] text-white/30 font-black uppercase tracking-[0.4em]",children:" FRIGOGEST 2026  SYS_ID: FG-PRO-X"})]})]})]})]})};var xn=(t=>(t[t.INTEIRO=1]="INTEIRO",t[t.BANDA_A=2]="BANDA_A",t[t.BANDA_B=3]="BANDA_B",t))(xn||{});const HS=new Date().toISOString().split("T")[0],xK={clients:[],batches:[],stock:[],sales:[],transactions:[],scheduledOrders:[],reports:[],suppliers:[],payables:[]},yR=t=>{switch(t){case xn.INTEIRO:return"Carcaa Inteira";case xn.BANDA_A:return"Banda A (Dir)";case xn.BANDA_B:return"Banda B (Esq)";default:return"Desconhecido"}},bK=t=>{const e=new Date(t),n=new Date(HS),r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))},_K=t=>t<=1?{label:"Resfriamento",color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-100",status:"fresh"}:t<=4?{label:"Pronto (pice)",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",status:"prime"}:t<=7?{label:"Alerta Venda",color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",status:"warning"}:{label:"Risco Quebra",color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",status:"critical"},Gt=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),Pr=t=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)+" kg",GS=(t,e,n,r)=>r===0?0:(t+e+n)/r,wK=(t,e)=>{if(!t||!t.length)return;const n=";",r=Object.keys(t[0]),i=r.join(n)+`
`+t.map(l=>r.map(c=>{let d=l[c]===null||l[c]===void 0?"":l[c];return d=d instanceof Date?d.toLocaleString():d.toString().replace(/"/g,'""'),d.search(new RegExp(`("|${n}|
)`))>=0&&(d=`"${d}"`),d}).join(n)).join(`
`),a=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){const l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},xR=(t,e,n)=>{const r=e.filter(g=>g.id_cliente===t.id_ferro),a=r.filter(g=>g.status_pagamento==="PENDENTE").filter(g=>g.data_vencimento<n),s=r.reduce((g,y)=>g+y.peso_real_saida*y.preco_venda_kg,0),l=t.limite_credito>0?t.saldo_devedor/t.limite_credito:0;let c=5,d="AAA",h="Cliente Exemplar";return a.length>0&&(c-=2,d="C",h="Faturas em Atraso"),l>.8&&(c-=1,d==="AAA"&&(d="A"),h="Limite Prximo ao Fim"),t.saldo_devedor>t.limite_credito&&t.limite_credito>0&&(c-=2,d="C",h="Limite Excedido"),a.reduce((g,y)=>{const N=Math.ceil((new Date(n).getTime()-new Date(y.data_vencimento).getTime())/864e5);return Math.max(g,N)},0)>10&&(c=1,d="F",h="Risco Iminente (Fumo)"),s>1e5&&a.length===0&&l<.6&&(d="AAA",c=5,h="Parceiro Estratgico (Ouro)"),{stars:Math.max(1,Math.min(5,c)),tier:d,reason:h,color:d==="AAA"?"text-emerald-500":d==="A"?"text-blue-500":d==="C"?"text-orange-600":d==="F"?"text-rose-600":"text-slate-600",border:d==="F"?"border-rose-100":"border-slate-100",bg:d==="F"?"bg-rose-50":"bg-slate-50"}};function i9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=i9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=i9(t))&&(r&&(r+=" "),r+=e);return r}var m_,bR;function zs(){if(bR)return m_;bR=1;var t=Array.isArray;return m_=t,m_}var g_,_R;function a9(){if(_R)return g_;_R=1;var t=typeof dy=="object"&&dy&&dy.Object===Object&&dy;return g_=t,g_}var v_,wR;function Fc(){if(wR)return v_;wR=1;var t=a9(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return v_=n,v_}var y_,AR;function ev(){if(AR)return y_;AR=1;var t=Fc(),e=t.Symbol;return y_=e,y_}var x_,SR;function AK(){if(SR)return x_;SR=1;var t=ev(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var h=r.call(s);return d&&(l?s[i]=c:delete s[i]),h}return x_=a,x_}var b_,ER;function SK(){if(ER)return b_;ER=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return b_=n,b_}var __,NR;function Mu(){if(NR)return __;NR=1;var t=ev(),e=AK(),n=SK(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return __=s,__}var w_,TR;function Du(){if(TR)return w_;TR=1;function t(e){return e!=null&&typeof e=="object"}return w_=t,w_}var A_,CR;function xm(){if(CR)return A_;CR=1;var t=Mu(),e=Du(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return A_=r,A_}var S_,IR;function mT(){if(IR)return S_;IR=1;var t=zs(),e=xm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return S_=i,S_}var E_,RR;function af(){if(RR)return E_;RR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return E_=t,E_}var N_,kR;function gT(){if(kR)return N_;kR=1;var t=Mu(),e=af(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return N_=s,N_}var T_,PR;function EK(){if(PR)return T_;PR=1;var t=Fc(),e=t["__core-js_shared__"];return T_=e,T_}var C_,OR;function NK(){if(OR)return C_;OR=1;var t=EK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return C_=n,C_}var I_,jR;function s9(){if(jR)return I_;jR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return I_=n,I_}var R_,MR;function TK(){if(MR)return R_;MR=1;var t=gT(),e=NK(),n=af(),r=s9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var y=t(g)?h:a;return y.test(r(g))}return R_=m,R_}var k_,DR;function CK(){if(DR)return k_;DR=1;function t(e,n){return e==null?void 0:e[n]}return k_=t,k_}var P_,LR;function fh(){if(LR)return P_;LR=1;var t=TK(),e=CK();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return P_=n,P_}var O_,FR;function Vx(){if(FR)return O_;FR=1;var t=fh(),e=t(Object,"create");return O_=e,O_}var j_,UR;function IK(){if(UR)return j_;UR=1;var t=Vx();function e(){this.__data__=t?t(null):{},this.size=0}return j_=e,j_}var M_,BR;function RK(){if(BR)return M_;BR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return M_=t,M_}var D_,qR;function kK(){if(qR)return D_;qR=1;var t=Vx(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return r.call(s,a)?s[a]:void 0}return D_=i,D_}var L_,VR;function PK(){if(VR)return L_;VR=1;var t=Vx(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return L_=r,L_}var F_,zR;function OK(){if(zR)return F_;zR=1;var t=Vx(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return F_=n,F_}var U_,$R;function jK(){if($R)return U_;$R=1;var t=IK(),e=RK(),n=kK(),r=PK(),i=OK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,U_=a,U_}var B_,HR;function MK(){if(HR)return B_;HR=1;function t(){this.__data__=[],this.size=0}return B_=t,B_}var q_,GR;function vT(){if(GR)return q_;GR=1;function t(e,n){return e===n||e!==e&&n!==n}return q_=t,q_}var V_,WR;function zx(){if(WR)return V_;WR=1;var t=vT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return V_=e,V_}var z_,KR;function DK(){if(KR)return z_;KR=1;var t=zx(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return z_=r,z_}var $_,YR;function LK(){if(YR)return $_;YR=1;var t=zx();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return $_=e,$_}var H_,XR;function FK(){if(XR)return H_;XR=1;var t=zx();function e(n){return t(this.__data__,n)>-1}return H_=e,H_}var G_,JR;function UK(){if(JR)return G_;JR=1;var t=zx();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return G_=e,G_}var W_,QR;function $x(){if(QR)return W_;QR=1;var t=MK(),e=DK(),n=LK(),r=FK(),i=UK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,W_=a,W_}var K_,ZR;function yT(){if(ZR)return K_;ZR=1;var t=fh(),e=Fc(),n=t(e,"Map");return K_=n,K_}var Y_,ek;function BK(){if(ek)return Y_;ek=1;var t=jK(),e=$x(),n=yT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Y_=r,Y_}var X_,tk;function qK(){if(tk)return X_;tk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return X_=t,X_}var J_,nk;function Hx(){if(nk)return J_;nk=1;var t=qK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return J_=e,J_}var Q_,rk;function VK(){if(rk)return Q_;rk=1;var t=Hx();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Q_=e,Q_}var Z_,ik;function zK(){if(ik)return Z_;ik=1;var t=Hx();function e(n){return t(this,n).get(n)}return Z_=e,Z_}var ew,ak;function $K(){if(ak)return ew;ak=1;var t=Hx();function e(n){return t(this,n).has(n)}return ew=e,ew}var tw,sk;function HK(){if(sk)return tw;sk=1;var t=Hx();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return tw=e,tw}var nw,ok;function xT(){if(ok)return nw;ok=1;var t=BK(),e=VK(),n=zK(),r=$K(),i=HK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,nw=a,nw}var rw,lk;function o9(){if(lk)return rw;lk=1;var t=xT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var d=r.apply(this,s);return a.cache=c.set(l,d)||c,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,rw=n,rw}var iw,ck;function GK(){if(ck)return iw;ck=1;var t=o9(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return iw=n,iw}var aw,uk;function WK(){if(uk)return aw;uk=1;var t=GK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,d){a.push(c?d.replace(n,"$1"):l||s)}),a});return aw=r,aw}var sw,dk;function bT(){if(dk)return sw;dk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return sw=t,sw}var ow,fk;function KK(){if(fk)return ow;fk=1;var t=ev(),e=bT(),n=zs(),r=xm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return ow=s,ow}var lw,hk;function l9(){if(hk)return lw;hk=1;var t=KK();function e(n){return n==null?"":t(n)}return lw=e,lw}var cw,pk;function c9(){if(pk)return cw;pk=1;var t=zs(),e=mT(),n=WK(),r=l9();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return cw=i,cw}var uw,mk;function Gx(){if(mk)return uw;mk=1;var t=xm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return uw=e,uw}var dw,gk;function _T(){if(gk)return dw;gk=1;var t=c9(),e=Gx();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return dw=n,dw}var fw,vk;function u9(){if(vk)return fw;vk=1;var t=_T();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return fw=e,fw}var YK=u9();const $o=Nr(YK);var hw,yk;function XK(){if(yk)return hw;yk=1;function t(e){return e==null}return hw=t,hw}var JK=XK();const qn=Nr(JK);var pw,xk;function QK(){if(xk)return pw;xk=1;var t=Mu(),e=zs(),n=Du(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return pw=i,pw}var ZK=QK();const eh=Nr(ZK);var eY=gT();const An=Nr(eY);var tY=af();const bm=Nr(tY);var mw={exports:{}},dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk;function nY(){if(bk)return dr;bk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function A(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case t:switch(S=S.type,S){case n:case i:case r:case d:case h:return S;default:switch(S=S&&S.$$typeof,S){case l:case s:case c:case g:case m:case a:return S;default:return C}}case e:return C}}}return dr.ContextConsumer=s,dr.ContextProvider=a,dr.Element=t,dr.ForwardRef=c,dr.Fragment=n,dr.Lazy=g,dr.Memo=m,dr.Portal=e,dr.Profiler=i,dr.StrictMode=r,dr.Suspense=d,dr.SuspenseList=h,dr.isAsyncMode=function(){return!1},dr.isConcurrentMode=function(){return!1},dr.isContextConsumer=function(S){return A(S)===s},dr.isContextProvider=function(S){return A(S)===a},dr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},dr.isForwardRef=function(S){return A(S)===c},dr.isFragment=function(S){return A(S)===n},dr.isLazy=function(S){return A(S)===g},dr.isMemo=function(S){return A(S)===m},dr.isPortal=function(S){return A(S)===e},dr.isProfiler=function(S){return A(S)===i},dr.isStrictMode=function(S){return A(S)===r},dr.isSuspense=function(S){return A(S)===d},dr.isSuspenseList=function(S){return A(S)===h},dr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===h||S===y||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===m||S.$$typeof===a||S.$$typeof===s||S.$$typeof===c||S.$$typeof===N||S.getModuleId!==void 0)},dr.typeOf=A,dr}var _k;function rY(){return _k||(_k=1,mw.exports=nY()),mw.exports}var iY=rY(),gw,wk;function d9(){if(wk)return gw;wk=1;var t=Mu(),e=Du(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return gw=r,gw}var vw,Ak;function aY(){if(Ak)return vw;Ak=1;var t=d9();function e(n){return t(n)&&n!=+n}return vw=e,vw}var sY=aY();const _m=Nr(sY);var oY=d9();const lY=Nr(oY);var Tl=function(e){return e===0?0:e>0?1:-1},Uf=function(e){return eh(e)&&e.indexOf("%")===e.length-1},At=function(e){return lY(e)&&!_m(e)},cY=function(e){return qn(e)},ea=function(e){return At(e)||eh(e)},uY=0,tv=function(e){var n=++uY;return"".concat(e||"").concat(n)},th=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(e)&&!eh(e))return r;var a;if(Uf(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return _m(a)&&(a=r),i&&a>n&&(a=n),a},Td=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},dY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Bo=function(e,n){return At(e)&&At(n)?function(r){return e+r*(n-e)}:function(){return n}};function g1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):$o(r,e))===n})}var fY=function(e,n){return At(e)&&At(n)?e-n:eh(e)&&eh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Np(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function WS(t){"@babel/helpers - typeof";return WS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WS(t)}var hY=["viewBox","children"],pY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Sk=["points","pathLength"],yw={svg:hY,polygon:Sk,polyline:Sk},wT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],v1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ye.isValidElement(e)&&(r=e.props),!bm(r))return null;var i={};return Object.keys(r).forEach(function(a){wT.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},mY=function(e,n,r){return function(i){return e(n,r,i),null}},y1=function(e,n,r){if(!bm(e)||WS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];wT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=mY(s,n,r))}),i},gY=["children"],vY=["children"];function Ek(t,e){if(t==null)return{};var n=yY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KS(t){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(t)}var Nk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Tk=null,xw=null,AT=function t(e){if(e===Tk&&Array.isArray(xw))return xw;var n=[];return ye.Children.forEach(e,function(r){qn(r)||(iY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xw=n,Tk=e,n};function Il(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wu(i)}):r=[wu(e)],AT(t).forEach(function(i){var a=$o(i,"type.displayName")||$o(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function fo(t,e){var n=Il(t,e);return n&&n[0]}var Ck=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!At(r)||r<=0||!At(i)||i<=0)},xY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bY=function(e){return e&&e.type&&eh(e.type)&&xY.indexOf(e.type)>=0},_Y=function(e){return e&&KS(e)==="object"&&"clipDot"in e},wY=function(e,n,r,i){var a,s=(a=yw==null?void 0:yw[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!An(e)&&(i&&s.includes(n)||pY.includes(n))||r&&wT.includes(n)},On=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ye.isValidElement(e)&&(i=e.props),!bm(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;wY((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},YS=function t(e,n){if(e===n)return!0;var r=ye.Children.count(e);if(r!==ye.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Ik(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Ik(a,s))return!1}return!0},Ik=function(e,n){if(qn(e)&&qn(n))return!0;if(!qn(e)&&!qn(n)){var r=e.props||{},i=r.children,a=Ek(r,gY),s=n.props||{},l=s.children,c=Ek(s,vY);return i&&l?Np(a,c)&&YS(i,l):!i&&!l?Np(a,c):!1}return!1},Rk=function(e,n){var r=[],i={};return AT(e).forEach(function(a,s){if(bY(a))r.push(a);else if(a){var l=wu(a.type),c=n[l]||{},d=c.handler,h=c.once;if(d&&(!h||!i[l])){var m=d(a,l,s);r.push(m),i[l]=!0}}}),r},AY=function(e){var n=e&&e.type;return n&&Nk[n]?Nk[n]:null},SY=function(e,n){return AT(n).indexOf(e)},EY=["children","width","height","viewBox","className","style","title","desc"];function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function NY(t,e){if(t==null)return{};var n=TY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,d=NY(t,EY),h=i||{width:n,height:r,x:0,y:0},m=Jn("recharts-surface",a);return Oe.createElement("svg",XS({},On(d,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Oe.createElement("title",null,l),Oe.createElement("desc",null,c),e)}var CY=["children","className"];function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}function IY(t,e){if(t==null)return{};var n=RY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ci=Oe.forwardRef(function(t,e){var n=t.children,r=t.className,i=IY(t,CY),a=Jn("recharts-layer",r);return Oe.createElement("g",QS({className:a},On(i,!0),{ref:e}),n)}),Au=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},bw,kk;function kY(){if(kk)return bw;kk=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return bw=t,bw}var _w,Pk;function PY(){if(Pk)return _w;Pk=1;var t=kY();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return _w=e,_w}var ww,Ok;function f9(){if(Ok)return ww;Ok=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function c(d){return l.test(d)}return ww=c,ww}var Aw,jk;function OY(){if(jk)return Aw;jk=1;function t(e){return e.split("")}return Aw=t,Aw}var Sw,Mk;function jY(){if(Mk)return Sw;Mk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",N=d+"?",A="["+a+"]?",S="(?:"+y+"(?:"+[h,m,g].join("|")+")"+A+N+")*",C=A+N+S,R="(?:"+[h+l+"?",l,m,g,s].join("|")+")",P=RegExp(c+"(?="+c+")|"+R+C,"g");function U(L){return L.match(P)||[]}return Sw=U,Sw}var Ew,Dk;function MY(){if(Dk)return Ew;Dk=1;var t=OY(),e=f9(),n=jY();function r(i){return e(i)?n(i):t(i)}return Ew=r,Ew}var Nw,Lk;function DY(){if(Lk)return Nw;Lk=1;var t=PY(),e=f9(),n=MY(),r=l9();function i(a){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),d=l?t(l,1).join(""):s.slice(1);return c[a]()+d}}return Nw=i,Nw}var Tw,Fk;function LY(){if(Fk)return Tw;Fk=1;var t=DY(),e=t("toUpperCase");return Tw=e,Tw}var FY=LY();const Wx=Nr(FY);function Fr(t){return function(){return t}}const h9=Math.cos,x1=Math.sin,jl=Math.sqrt,b1=Math.PI,Kx=2*b1,ZS=Math.PI,eE=2*ZS,Of=1e-6,UY=eE-Of;function p9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return p9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p9:BY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,d=i-n,h=s-e,m=l-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Of)if(!(Math.abs(m*c-d*h)>Of)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,N=i-l,A=c*c+d*d,S=y*y+N*N,C=Math.sqrt(A),R=Math.sqrt(g),P=a*Math.tan((ZS-Math.acos((A+g-S)/(2*C*R)))/2),U=P/R,L=P/C;Math.abs(U-1)>Of&&this._append`L${e+U*h},${n+U*m}`,this._append`A${a},${a},0,0,${+(m*y>h*N)},${this._x1=e+L*c},${this._y1=n+L*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,h=n+c,m=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Of||Math.abs(this._y1-h)>Of)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%eE+eE),g>UY?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>Of&&this._append`A${r},${r},0,${+(g>=ZS)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ST(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qY(e)}function ET(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m9(t){this._context=t}m9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Yx(t){return new m9(t)}function g9(t){return t[0]}function v9(t){return t[1]}function y9(t,e){var n=Fr(!0),r=null,i=Yx,a=null,s=ST(l);t=typeof t=="function"?t:t===void 0?g9:Fr(t),e=typeof e=="function"?e:e===void 0?v9:Fr(e);function l(c){var d,h=(c=ET(c)).length,m,g=!1,y;for(r==null&&(a=i(y=s())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(m,d,c),+e(m,d,c));if(y)return a=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Fr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Fr(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Fr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function fy(t,e,n){var r=null,i=Fr(!0),a=null,s=Yx,l=null,c=ST(d);t=typeof t=="function"?t:t===void 0?g9:Fr(+t),e=typeof e=="function"?e:Fr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?v9:Fr(+n);function d(m){var g,y,N,A=(m=ET(m)).length,S,C=!1,R,P=new Array(A),U=new Array(A);for(a==null&&(l=s(R=c())),g=0;g<=A;++g){if(!(g<A&&i(S=m[g],g,m))===C)if(C=!C)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=g-1;N>=y;--N)l.point(P[N],U[N]);l.lineEnd(),l.areaEnd()}C&&(P[g]=+t(S,g,m),U[g]=+e(S,g,m),l.point(r?+r(S,g,m):P[g],n?+n(S,g,m):U[g]))}if(R)return l=null,R+""||null}function h(){return y9().defined(i).curve(s).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Fr(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Fr(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Fr(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Fr(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Fr(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Fr(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Fr(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),d):s},d.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),d):a},d}class x9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VY(t){return new x9(t,!0)}function zY(t){return new x9(t,!1)}const NT={draw(t,e){const n=jl(e/b1);t.moveTo(n,0),t.arc(0,0,n,0,Kx)}},$Y={draw(t,e){const n=jl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},b9=jl(1/3),HY=b9*2,GY={draw(t,e){const n=jl(e/HY),r=n*b9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WY={draw(t,e){const n=jl(e),r=-n/2;t.rect(r,r,n,n)}},KY=.8908130915292852,_9=x1(b1/10)/x1(7*b1/10),YY=x1(Kx/10)*_9,XY=-h9(Kx/10)*_9,JY={draw(t,e){const n=jl(e*KY),r=YY*n,i=XY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Kx*a/5,l=h9(s),c=x1(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Cw=jl(3),QY={draw(t,e){const n=-jl(e/(Cw*3));t.moveTo(0,n*2),t.lineTo(-Cw*n,-n),t.lineTo(Cw*n,-n),t.closePath()}},Do=-.5,Lo=jl(3)/2,tE=1/jl(12),ZY=(tE/2+1)*3,eX={draw(t,e){const n=jl(e/ZY),r=n/2,i=n*tE,a=r,s=n*tE+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Do*r-Lo*i,Lo*r+Do*i),t.lineTo(Do*a-Lo*s,Lo*a+Do*s),t.lineTo(Do*l-Lo*c,Lo*l+Do*c),t.lineTo(Do*r+Lo*i,Do*i-Lo*r),t.lineTo(Do*a+Lo*s,Do*s-Lo*a),t.lineTo(Do*l+Lo*c,Do*c-Lo*l),t.closePath()}};function tX(t,e){let n=null,r=ST(i);t=typeof t=="function"?t:Fr(t||NT),e=typeof e=="function"?e:Fr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _1(){}function w1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function w9(t){this._context=t}w9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:w1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nX(t){return new w9(t)}function A9(t){this._context=t}A9.prototype={areaStart:_1,areaEnd:_1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:w1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rX(t){return new A9(t)}function S9(t){this._context=t}S9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:w1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iX(t){return new S9(t)}function E9(t){this._context=t}E9.prototype={areaStart:_1,areaEnd:_1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aX(t){return new E9(t)}function Uk(t){return t<0?-1:1}function Bk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(Uk(a)+Uk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function qk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Iw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function A1(t){this._context=t}A1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iw(this,this._t0,qk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iw(this,qk(this,n=Bk(this,t,e)),n);break;default:Iw(this,this._t0,n=Bk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N9(t){this._context=new T9(t)}(N9.prototype=Object.create(A1.prototype)).point=function(t,e){A1.prototype.point.call(this,e,t)};function T9(t){this._context=t}T9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function sX(t){return new A1(t)}function oX(t){return new N9(t)}function C9(t){this._context=t}C9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Vk(t),i=Vk(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Vk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function lX(t){return new C9(t)}function Xx(t,e){this._context=t,this._t=e}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cX(t){return new Xx(t,.5)}function uX(t){return new Xx(t,0)}function dX(t){return new Xx(t,1)}function Vp(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function nE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function fX(t,e){return t[e]}function hX(t){const e=[];return e.key=t,e}function pX(){var t=Fr([]),e=nE,n=Vp,r=fX;function i(a){var s=Array.from(t.apply(this,arguments),hX),l,c=s.length,d=-1,h;for(const m of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+r(m,s[l].key,d,a)]).data=m;for(l=0,h=ET(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Fr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?nE:typeof a=="function"?a:Fr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Vp,i):n},i}function mX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Vp(t,e)}}function gX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Vp(t,e)}}function vX(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,d=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,g=h[r-1][1]||0,y=(m-g)/2,N=0;N<l;++N){var A=t[e[N]],S=A[r][1]||0,C=A[r-1][1]||0;y+=S-C}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Vp(t,e)}}function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}var yX=["type","size","sizeType"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){xX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xX(t,e,n){return e=bX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=_X(t,"string");return s0(e)=="symbol"?e:e+""}function _X(t,e){if(s0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wX(t,e){if(t==null)return{};var n=AX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I9={symbolCircle:NT,symbolCross:$Y,symbolDiamond:GY,symbolSquare:WY,symbolStar:JY,symbolTriangle:QY,symbolWye:eX},SX=Math.PI/180,EX=function(e){var n="symbol".concat(Wx(e));return I9[n]||NT},NX=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*SX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TX=function(e,n){I9["symbol".concat(Wx(e))]=n},TT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=wX(e,yX),d=$k($k({},c),{},{type:r,size:a,sizeType:l}),h=function(){var S=EX(r),C=tX().type(S).size(NX(a,l,r));return C()},m=d.className,g=d.cx,y=d.cy,N=On(d,!0);return g===+g&&y===+y&&a===+a?Oe.createElement("path",rE({},N,{className:Jn("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};TT.registerSymbol=TX;function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){o0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k9(r.key),r)}}function kX(t,e,n){return e&&RX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PX(t,e,n){return e=S1(e),OX(t,R9()?Reflect.construct(e,n||[],S1(t).constructor):e.apply(t,n))}function OX(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jX(t)}function jX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(t)}function MX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function o0(t,e,n){return e=k9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k9(t){var e=DX(t,"string");return zp(e)=="symbol"?e:e+""}function DX(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fo=32,CT=(function(t){function e(){return IX(this,e),PX(this,e,arguments)}return MX(e,t),kX(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Fo/2,s=Fo/6,l=Fo/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Oe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Fo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Oe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Fo,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Oe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fo/8,"h").concat(Fo,"v").concat(Fo*3/4,"h").concat(-Fo,"z"),className:"recharts-legend-icon"});if(Oe.isValidElement(r.legendIcon)){var d=CX({},r);return delete d.legendIcon,Oe.cloneElement(r.legendIcon,d)}return Oe.createElement(TT,{fill:c,cx:a,cy:a,size:Fo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:Fo,height:Fo},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,N){var A=y.formatter||c,S=Jn(o0(o0({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",y.inactive));if(y.type==="none")return null;var C=An(y.value)?null:y.value;Au(!An(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=y.inactive?d:y.color;return Oe.createElement("li",iE({className:S,style:m,key:"legend-item-".concat(N)},y1(r.props,y,N)),Oe.createElement(JS,{width:s,height:s,viewBox:h,style:g},r.renderIcon(y)),Oe.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},A?A(C,y,N):C))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Oe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(ye.PureComponent);o0(CT,"displayName","Legend");o0(CT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rw,Gk;function LX(){if(Gk)return Rw;Gk=1;var t=$x();function e(){this.__data__=new t,this.size=0}return Rw=e,Rw}var kw,Wk;function FX(){if(Wk)return kw;Wk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return kw=t,kw}var Pw,Kk;function UX(){if(Kk)return Pw;Kk=1;function t(e){return this.__data__.get(e)}return Pw=t,Pw}var Ow,Yk;function BX(){if(Yk)return Ow;Yk=1;function t(e){return this.__data__.has(e)}return Ow=t,Ow}var jw,Xk;function qX(){if(Xk)return jw;Xk=1;var t=$x(),e=yT(),n=xT(),r=200;function i(a,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return jw=i,jw}var Mw,Jk;function P9(){if(Jk)return Mw;Jk=1;var t=$x(),e=LX(),n=FX(),r=UX(),i=BX(),a=qX();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,Mw=s,Mw}var Dw,Qk;function VX(){if(Qk)return Dw;Qk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Dw=e,Dw}var Lw,Zk;function zX(){if(Zk)return Lw;Zk=1;function t(e){return this.__data__.has(e)}return Lw=t,Lw}var Fw,eP;function O9(){if(eP)return Fw;eP=1;var t=xT(),e=VX(),n=zX();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Fw=r,Fw}var Uw,tP;function j9(){if(tP)return Uw;tP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Uw=t,Uw}var Bw,nP;function M9(){if(nP)return Bw;nP=1;function t(e,n){return e.has(n)}return Bw=t,Bw}var qw,rP;function D9(){if(rP)return qw;rP=1;var t=O9(),e=j9(),n=M9(),r=1,i=2;function a(s,l,c,d,h,m){var g=c&r,y=s.length,N=l.length;if(y!=N&&!(g&&N>y))return!1;var A=m.get(s),S=m.get(l);if(A&&S)return A==l&&S==s;var C=-1,R=!0,P=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++C<y;){var U=s[C],L=l[C];if(d)var z=g?d(L,U,C,l,s,m):d(U,L,C,s,l,m);if(z!==void 0){if(z)continue;R=!1;break}if(P){if(!e(l,function(k,O){if(!n(P,O)&&(U===k||h(U,k,c,d,m)))return P.push(O)})){R=!1;break}}else if(!(U===L||h(U,L,c,d,m))){R=!1;break}}return m.delete(s),m.delete(l),R}return qw=a,qw}var Vw,iP;function $X(){if(iP)return Vw;iP=1;var t=Fc(),e=t.Uint8Array;return Vw=e,Vw}var zw,aP;function HX(){if(aP)return zw;aP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return zw=t,zw}var $w,sP;function IT(){if(sP)return $w;sP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return $w=t,$w}var Hw,oP;function GX(){if(oP)return Hw;oP=1;var t=ev(),e=$X(),n=vT(),r=D9(),i=HX(),a=IT(),s=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",N="[object Set]",A="[object String]",S="[object Symbol]",C="[object ArrayBuffer]",R="[object DataView]",P=t?t.prototype:void 0,U=P?P.valueOf:void 0;function L(z,k,O,V,W,B,D){switch(O){case R:if(z.byteLength!=k.byteLength||z.byteOffset!=k.byteOffset)return!1;z=z.buffer,k=k.buffer;case C:return!(z.byteLength!=k.byteLength||!B(new e(z),new e(k)));case c:case d:case g:return n(+z,+k);case h:return z.name==k.name&&z.message==k.message;case y:case A:return z==k+"";case m:var F=i;case N:var Q=V&s;if(F||(F=a),z.size!=k.size&&!Q)return!1;var oe=D.get(z);if(oe)return oe==k;V|=l,D.set(z,k);var K=r(F(z),F(k),V,W,B,D);return D.delete(z),K;case S:if(U)return U.call(z)==U.call(k)}return!1}return Hw=L,Hw}var Gw,lP;function L9(){if(lP)return Gw;lP=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Gw=t,Gw}var Ww,cP;function WX(){if(cP)return Ww;cP=1;var t=L9(),e=zs();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Ww=n,Ww}var Kw,uP;function KX(){if(uP)return Kw;uP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[a++]=l)}return s}return Kw=t,Kw}var Yw,dP;function YX(){if(dP)return Yw;dP=1;function t(){return[]}return Yw=t,Yw}var Xw,fP;function XX(){if(fP)return Xw;fP=1;var t=KX(),e=YX(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return Xw=a,Xw}var Jw,hP;function JX(){if(hP)return Jw;hP=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Jw=t,Jw}var Qw,pP;function QX(){if(pP)return Qw;pP=1;var t=Mu(),e=Du(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Qw=r,Qw}var Zw,mP;function RT(){if(mP)return Zw;mP=1;var t=QX(),e=Du(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Zw=a,Zw}var Og={exports:{}},e5,gP;function ZX(){if(gP)return e5;gP=1;function t(){return!1}return e5=t,e5}Og.exports;var vP;function F9(){return vP||(vP=1,(function(t,e){var n=Fc(),r=ZX(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d})(Og,Og.exports)),Og.exports}var t5,yP;function kT(){if(yP)return t5;yP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return t5=n,t5}var n5,xP;function PT(){if(xP)return n5;xP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return n5=e,n5}var r5,bP;function eJ(){if(bP)return r5;bP=1;var t=Mu(),e=PT(),n=Du(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",N="[object String]",A="[object WeakMap]",S="[object ArrayBuffer]",C="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",U="[object Int8Array]",L="[object Int16Array]",z="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",B={};B[R]=B[P]=B[U]=B[L]=B[z]=B[k]=B[O]=B[V]=B[W]=!0,B[r]=B[i]=B[S]=B[a]=B[C]=B[s]=B[l]=B[c]=B[d]=B[h]=B[m]=B[g]=B[y]=B[N]=B[A]=!1;function D(F){return n(F)&&e(F.length)&&!!B[t(F)]}return r5=D,r5}var i5,_P;function U9(){if(_P)return i5;_P=1;function t(e){return function(n){return e(n)}}return i5=t,i5}var jg={exports:{}};jg.exports;var wP;function tJ(){return wP||(wP=1,(function(t,e){var n=a9(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(jg,jg.exports)),jg.exports}var a5,AP;function B9(){if(AP)return a5;AP=1;var t=eJ(),e=U9(),n=tJ(),r=n&&n.isTypedArray,i=r?e(r):t;return a5=i,a5}var s5,SP;function nJ(){if(SP)return s5;SP=1;var t=JX(),e=RT(),n=zs(),r=F9(),i=kT(),a=B9(),s=Object.prototype,l=s.hasOwnProperty;function c(d,h){var m=n(d),g=!m&&e(d),y=!m&&!g&&r(d),N=!m&&!g&&!y&&a(d),A=m||g||y||N,S=A?t(d.length,String):[],C=S.length;for(var R in d)(h||l.call(d,R))&&!(A&&(R=="length"||y&&(R=="offset"||R=="parent")||N&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,C)))&&S.push(R);return S}return s5=c,s5}var o5,EP;function rJ(){if(EP)return o5;EP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return o5=e,o5}var l5,NP;function q9(){if(NP)return l5;NP=1;function t(e,n){return function(r){return e(n(r))}}return l5=t,l5}var c5,TP;function iJ(){if(TP)return c5;TP=1;var t=q9(),e=t(Object.keys,Object);return c5=e,c5}var u5,CP;function aJ(){if(CP)return u5;CP=1;var t=rJ(),e=iJ(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return u5=i,u5}var d5,IP;function nv(){if(IP)return d5;IP=1;var t=gT(),e=PT();function n(r){return r!=null&&e(r.length)&&!t(r)}return d5=n,d5}var f5,RP;function Jx(){if(RP)return f5;RP=1;var t=nJ(),e=aJ(),n=nv();function r(i){return n(i)?t(i):e(i)}return f5=r,f5}var h5,kP;function sJ(){if(kP)return h5;kP=1;var t=WX(),e=XX(),n=Jx();function r(i){return t(i,n,e)}return h5=r,h5}var p5,PP;function oJ(){if(PP)return p5;PP=1;var t=sJ(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,d,h){var m=l&e,g=t(a),y=g.length,N=t(s),A=N.length;if(y!=A&&!m)return!1;for(var S=y;S--;){var C=g[S];if(!(m?C in s:r.call(s,C)))return!1}var R=h.get(a),P=h.get(s);if(R&&P)return R==s&&P==a;var U=!0;h.set(a,s),h.set(s,a);for(var L=m;++S<y;){C=g[S];var z=a[C],k=s[C];if(c)var O=m?c(k,z,C,s,a,h):c(z,k,C,a,s,h);if(!(O===void 0?z===k||d(z,k,l,c,h):O)){U=!1;break}L||(L=C=="constructor")}if(U&&!L){var V=a.constructor,W=s.constructor;V!=W&&"constructor"in a&&"constructor"in s&&!(typeof V=="function"&&V instanceof V&&typeof W=="function"&&W instanceof W)&&(U=!1)}return h.delete(a),h.delete(s),U}return p5=i,p5}var m5,OP;function lJ(){if(OP)return m5;OP=1;var t=fh(),e=Fc(),n=t(e,"DataView");return m5=n,m5}var g5,jP;function cJ(){if(jP)return g5;jP=1;var t=fh(),e=Fc(),n=t(e,"Promise");return g5=n,g5}var v5,MP;function V9(){if(MP)return v5;MP=1;var t=fh(),e=Fc(),n=t(e,"Set");return v5=n,v5}var y5,DP;function uJ(){if(DP)return y5;DP=1;var t=fh(),e=Fc(),n=t(e,"WeakMap");return y5=n,y5}var x5,LP;function dJ(){if(LP)return x5;LP=1;var t=lJ(),e=yT(),n=cJ(),r=V9(),i=uJ(),a=Mu(),s=s9(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",y=s(t),N=s(e),A=s(n),S=s(r),C=s(i),R=a;return(t&&R(new t(new ArrayBuffer(1)))!=g||e&&R(new e)!=l||n&&R(n.resolve())!=d||r&&R(new r)!=h||i&&R(new i)!=m)&&(R=function(P){var U=a(P),L=U==c?P.constructor:void 0,z=L?s(L):"";if(z)switch(z){case y:return g;case N:return l;case A:return d;case S:return h;case C:return m}return U}),x5=R,x5}var b5,FP;function fJ(){if(FP)return b5;FP=1;var t=P9(),e=D9(),n=GX(),r=oJ(),i=dJ(),a=zs(),s=F9(),l=B9(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function N(A,S,C,R,P,U){var L=a(A),z=a(S),k=L?h:i(A),O=z?h:i(S);k=k==d?m:k,O=O==d?m:O;var V=k==m,W=O==m,B=k==O;if(B&&s(A)){if(!s(S))return!1;L=!0,V=!1}if(B&&!V)return U||(U=new t),L||l(A)?e(A,S,C,R,P,U):n(A,S,k,C,R,P,U);if(!(C&c)){var D=V&&y.call(A,"__wrapped__"),F=W&&y.call(S,"__wrapped__");if(D||F){var Q=D?A.value():A,oe=F?S.value():S;return U||(U=new t),P(Q,oe,C,R,U)}}return B?(U||(U=new t),r(A,S,C,R,P,U)):!1}return b5=N,b5}var _5,UP;function OT(){if(UP)return _5;UP=1;var t=fJ(),e=Du();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,l)}return _5=n,_5}var w5,BP;function hJ(){if(BP)return w5;BP=1;var t=P9(),e=OT(),n=1,r=2;function i(a,s,l,c){var d=l.length,h=d,m=!c;if(a==null)return!h;for(a=Object(a);d--;){var g=l[d];if(m&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<h;){g=l[d];var y=g[0],N=a[y],A=g[1];if(m&&g[2]){if(N===void 0&&!(y in a))return!1}else{var S=new t;if(c)var C=c(N,A,y,a,s,S);if(!(C===void 0?e(A,N,n|r,c,S):C))return!1}}return!0}return w5=i,w5}var A5,qP;function z9(){if(qP)return A5;qP=1;var t=af();function e(n){return n===n&&!t(n)}return A5=e,A5}var S5,VP;function pJ(){if(VP)return S5;VP=1;var t=z9(),e=Jx();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,t(l)]}return i}return S5=n,S5}var E5,zP;function $9(){if(zP)return E5;zP=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return E5=t,E5}var N5,$P;function mJ(){if($P)return N5;$P=1;var t=hJ(),e=pJ(),n=$9();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return N5=r,N5}var T5,HP;function gJ(){if(HP)return T5;HP=1;function t(e,n){return e!=null&&n in Object(e)}return T5=t,T5}var C5,GP;function vJ(){if(GP)return C5;GP=1;var t=c9(),e=RT(),n=zs(),r=kT(),i=PT(),a=Gx();function s(l,c,d){c=t(c,l);for(var h=-1,m=c.length,g=!1;++h<m;){var y=a(c[h]);if(!(g=l!=null&&d(l,y)))break;l=l[y]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&i(m)&&r(y,m)&&(n(l)||e(l)))}return C5=s,C5}var I5,WP;function yJ(){if(WP)return I5;WP=1;var t=gJ(),e=vJ();function n(r,i){return r!=null&&e(r,i,t)}return I5=n,I5}var R5,KP;function xJ(){if(KP)return R5;KP=1;var t=OT(),e=u9(),n=yJ(),r=mT(),i=z9(),a=$9(),s=Gx(),l=1,c=2;function d(h,m){return r(h)&&i(m)?a(s(h),m):function(g){var y=e(g,h);return y===void 0&&y===m?n(g,h):t(m,y,l|c)}}return R5=d,R5}var k5,YP;function wm(){if(YP)return k5;YP=1;function t(e){return e}return k5=t,k5}var P5,XP;function bJ(){if(XP)return P5;XP=1;function t(e){return function(n){return n==null?void 0:n[e]}}return P5=t,P5}var O5,JP;function _J(){if(JP)return O5;JP=1;var t=_T();function e(n){return function(r){return t(r,n)}}return O5=e,O5}var j5,QP;function wJ(){if(QP)return j5;QP=1;var t=bJ(),e=_J(),n=mT(),r=Gx();function i(a){return n(a)?t(r(a)):e(a)}return j5=i,j5}var M5,ZP;function sf(){if(ZP)return M5;ZP=1;var t=mJ(),e=xJ(),n=wm(),r=zs(),i=wJ();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return M5=a,M5}var D5,e6;function H9(){if(e6)return D5;e6=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return D5=t,D5}var L5,t6;function AJ(){if(t6)return L5;t6=1;function t(e){return e!==e}return L5=t,L5}var F5,n6;function SJ(){if(n6)return F5;n6=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return F5=t,F5}var U5,r6;function EJ(){if(r6)return U5;r6=1;var t=H9(),e=AJ(),n=SJ();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return U5=r,U5}var B5,i6;function NJ(){if(i6)return B5;i6=1;var t=EJ();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return B5=e,B5}var q5,a6;function TJ(){if(a6)return q5;a6=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return q5=t,q5}var V5,s6;function CJ(){if(s6)return V5;s6=1;function t(){}return V5=t,V5}var z5,o6;function IJ(){if(o6)return z5;o6=1;var t=V9(),e=CJ(),n=IT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return z5=i,z5}var $5,l6;function RJ(){if(l6)return $5;l6=1;var t=O9(),e=NJ(),n=TJ(),r=M9(),i=IJ(),a=IT(),s=200;function l(c,d,h){var m=-1,g=e,y=c.length,N=!0,A=[],S=A;if(h)N=!1,g=n;else if(y>=s){var C=d?null:i(c);if(C)return a(C);N=!1,g=r,S=new t}else S=d?[]:A;e:for(;++m<y;){var R=c[m],P=d?d(R):R;if(R=h||R!==0?R:0,N&&P===P){for(var U=S.length;U--;)if(S[U]===P)continue e;d&&S.push(P),A.push(R)}else g(S,P,h)||(S!==A&&S.push(P),A.push(R))}return A}return $5=l,$5}var H5,c6;function kJ(){if(c6)return H5;c6=1;var t=sf(),e=RJ();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return H5=n,H5}var PJ=kJ();const u6=Nr(PJ);function G9(t,e,n){return e===!0?u6(t,n):An(e)?u6(t,e):t}function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}var OJ=["ref"];function d6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K9(r.key),r)}}function MJ(t,e,n){return e&&f6(t.prototype,e),n&&f6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DJ(t,e,n){return e=E1(e),LJ(t,W9()?Reflect.construct(e,n||[],E1(t).constructor):e.apply(t,n))}function LJ(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E1(t)}function UJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function Qx(t,e,n){return e=K9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K9(t){var e=BJ(t,"string");return $p(e)=="symbol"?e:e+""}function BJ(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qJ(t,e){if(t==null)return{};var n=VJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zJ(t){return t.value}function $J(t,e){if(Oe.isValidElement(t))return Oe.cloneElement(t,e);if(typeof t=="function")return Oe.createElement(t,e);e.ref;var n=qJ(e,OJ);return Oe.createElement(CT,n)}var h6=1,Tp=(function(t){function e(){var n;jJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=DJ(this,e,[].concat(i)),Qx(n,"lastBoundingBox",{width:-1,height:-1}),n}return UJ(e,t),MJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>h6||Math.abs(i.height-this.lastBoundingBox.height)>h6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,h=i.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();m={left:((d||0)-y.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();g={top:((h||0)-N.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pu(pu({},m),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,m=pu(pu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Oe.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){r.wrapperNode=y}},$J(a,pu(pu({},this.props),{},{payload:G9(h,d,zJ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=pu(pu({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&At(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(ye.PureComponent);Qx(Tp,"displayName","Legend");Qx(Tp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G5,p6;function HJ(){if(p6)return G5;p6=1;var t=ev(),e=RT(),n=zs(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return G5=i,G5}var W5,m6;function Y9(){if(m6)return W5;m6=1;var t=L9(),e=HJ();function n(r,i,a,s,l){var c=-1,d=r.length;for(a||(a=e),l||(l=[]);++c<d;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return W5=n,W5}var K5,g6;function GJ(){if(g6)return K5;g6=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++a];if(r(s[d],d,s)===!1)break}return n}}return K5=t,K5}var Y5,v6;function WJ(){if(v6)return Y5;v6=1;var t=GJ(),e=t();return Y5=e,Y5}var X5,y6;function X9(){if(y6)return X5;y6=1;var t=WJ(),e=Jx();function n(r,i){return r&&t(r,i,e)}return X5=n,X5}var J5,x6;function KJ(){if(x6)return J5;x6=1;var t=nv();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return J5=e,J5}var Q5,b6;function jT(){if(b6)return Q5;b6=1;var t=X9(),e=KJ(),n=e(t);return Q5=n,Q5}var Z5,_6;function J9(){if(_6)return Z5;_6=1;var t=jT(),e=nv();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,d){s[++a]=i(l,c,d)}),s}return Z5=n,Z5}var eA,w6;function YJ(){if(w6)return eA;w6=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return eA=t,eA}var tA,A6;function XJ(){if(A6)return tA;A6=1;var t=xm();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=t(n),c=r!==void 0,d=r===null,h=r===r,m=t(r);if(!d&&!m&&!l&&n>r||l&&c&&h&&!d&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!m&&n<r||m&&i&&s&&!a&&!l||d&&i&&s||!c&&s||!h)return-1}return 0}return tA=e,tA}var nA,S6;function JJ(){if(S6)return nA;S6=1;var t=XJ();function e(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,d=i.length;++a<c;){var h=t(s[a],l[a]);if(h){if(a>=d)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return nA=e,nA}var rA,E6;function QJ(){if(E6)return rA;E6=1;var t=bT(),e=_T(),n=sf(),r=J9(),i=YJ(),a=U9(),s=JJ(),l=wm(),c=zs();function d(h,m,g){m.length?m=t(m,function(A){return c(A)?function(S){return e(S,A.length===1?A[0]:A)}:A}):m=[l];var y=-1;m=t(m,a(n));var N=r(h,function(A,S,C){var R=t(m,function(P){return P(A)});return{criteria:R,index:++y,value:A}});return i(N,function(A,S){return s(A,S,g)})}return rA=d,rA}var iA,N6;function ZJ(){if(N6)return iA;N6=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return iA=t,iA}var aA,T6;function eQ(){if(T6)return aA;T6=1;var t=ZJ(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),d=Array(c);++l<c;)d[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(d),t(r,this,h)}}return aA=n,aA}var sA,C6;function tQ(){if(C6)return sA;C6=1;function t(e){return function(){return e}}return sA=t,sA}var oA,I6;function Q9(){if(I6)return oA;I6=1;var t=fh(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return oA=e,oA}var lA,R6;function nQ(){if(R6)return lA;R6=1;var t=tQ(),e=Q9(),n=wm(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return lA=r,lA}var cA,k6;function rQ(){if(k6)return cA;k6=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return cA=r,cA}var uA,P6;function iQ(){if(P6)return uA;P6=1;var t=nQ(),e=rQ(),n=e(t);return uA=n,uA}var dA,O6;function aQ(){if(O6)return dA;O6=1;var t=wm(),e=eQ(),n=iQ();function r(i,a){return n(e(i,a,t),i+"")}return dA=r,dA}var fA,j6;function Zx(){if(j6)return fA;j6=1;var t=vT(),e=nv(),n=kT(),r=af();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],a):!1}return fA=i,fA}var hA,M6;function sQ(){if(M6)return hA;M6=1;var t=Y9(),e=QJ(),n=aQ(),r=Zx(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return hA=i,hA}var oQ=sQ();const MT=Nr(oQ);function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function lQ(t,e){return fQ(t)||dQ(t,e)||uQ(t,e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t,e){if(t){if(typeof t=="string")return D6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function fQ(t){if(Array.isArray(t))return t}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return e=pQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pQ(t){var e=mQ(t,"string");return l0(e)=="symbol"?e:e+""}function mQ(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gQ(t){return Array.isArray(t)&&ea(t[0])&&ea(t[1])?t.join(" ~ "):t}var vQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,m=e.formatter,g=e.itemSorter,y=e.wrapperClassName,N=e.labelClassName,A=e.label,S=e.labelFormatter,C=e.accessibilityLayer,R=C===void 0?!1:C,P=function(){if(h&&h.length){var D={padding:0,margin:0},F=(g?MT(h,g):h).map(function(Q,oe){if(Q.type==="none")return null;var K=pA({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),ee=Q.formatter||m||gQ,se=Q.value,_e=Q.name,xe=se,ce=_e;if(ee&&xe!=null&&ce!=null){var M=ee(se,_e,Q,oe,h);if(Array.isArray(M)){var G=lQ(M,2);xe=G[0],ce=G[1]}else xe=M}return Oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(oe),style:K},ea(ce)?Oe.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,ea(ce)?Oe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Oe.createElement("span",{className:"recharts-tooltip-item-value"},xe),Oe.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return Oe.createElement("ul",{className:"recharts-tooltip-item-list",style:D},F)}return null},U=pA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),L=pA({margin:0},d),z=!qn(A),k=z?A:"",O=Jn("recharts-default-tooltip",y),V=Jn("recharts-tooltip-label",N);z&&S&&h!==void 0&&h!==null&&(k=S(A,h));var W=R?{role:"status","aria-live":"assertive"}:{};return Oe.createElement("div",oE({className:O,style:U},W),Oe.createElement("p",{className:V,style:L},Oe.isValidElement(k)?k:"".concat(k)),P())};function c0(t){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(t)}function hy(t,e,n){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=xQ(t,"string");return c0(e)=="symbol"?e:e+""}function xQ(t,e){if(c0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg="recharts-tooltip-wrapper",bQ={visibility:"hidden"};function _Q(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Jn(yg,hy(hy(hy(hy({},"".concat(yg,"-right"),At(n)&&e&&At(e.x)&&n>=e.x),"".concat(yg,"-left"),At(n)&&e&&At(e.x)&&n<e.x),"".concat(yg,"-bottom"),At(r)&&e&&At(e.y)&&r>=e.y),"".concat(yg,"-top"),At(r)&&e&&At(e.y)&&r<e.y))}function F6(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&At(a[r]))return a[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var g=h,y=c[r];return g<y?Math.max(m,c[r]):Math.max(h,c[r])}var N=m+l,A=c[r]+d;return N>A?Math.max(h,c[r]):Math.max(m,c[r])}function wQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,m;return s.height>0&&s.width>0&&n?(h=F6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=F6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=wQ({translateX:h,translateY:m,useTranslate3d:l})):d=bQ,{cssProperties:d,cssClasses:_Q({translateX:h,translateY:m,coordinate:n})}}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){cE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eF(r.key),r)}}function NQ(t,e,n){return e&&EQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQ(t,e,n){return e=N1(e),CQ(t,Z9()?Reflect.construct(e,n||[],N1(t).constructor):e.apply(t,n))}function CQ(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IQ(t)}function IQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z9=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(t)}function RQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function cE(t,e,n){return e=eF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eF(t){var e=kQ(t,"string");return Hp(e)=="symbol"?e:e+""}function kQ(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q6=1,PQ=(function(t){function e(){var n;SQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=TQ(this,e,[].concat(i)),cE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cE(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return RQ(e,t),NQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>q6||Math.abs(r.height-this.state.lastBoundingBox.height)>q6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,h=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,y=i.offset,N=i.position,A=i.reverseDirection,S=i.useTranslate3d,C=i.viewBox,R=i.wrapperStyle,P=AQ({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:y,position:N,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:S,viewBox:C}),U=P.cssClasses,L=P.cssProperties,z=B6(B6({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},R);return Oe.createElement("div",{tabIndex:-1,className:U,style:z,ref:function(O){r.wrapperNode=O}},d)}}])})(ye.PureComponent),OQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Am={isSsr:OQ()};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function V6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(n),!0).forEach(function(r){DT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nF(r.key),r)}}function DQ(t,e,n){return e&&MQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LQ(t,e,n){return e=T1(e),FQ(t,tF()?Reflect.construct(e,n||[],T1(t).constructor):e.apply(t,n))}function FQ(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UQ(t)}function UQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T1(t)}function BQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function DT(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nF(t){var e=qQ(t,"string");return Gp(e)=="symbol"?e:e+""}function qQ(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VQ(t){return t.dataKey}function zQ(t,e){return Oe.isValidElement(t)?Oe.cloneElement(t,e):typeof t=="function"?Oe.createElement(t,e):Oe.createElement(vQ,e)}var vc=(function(t){function e(){return jQ(this,e),LQ(this,e,arguments)}return BQ(e,t),DQ(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,h=i.coordinate,m=i.filterNull,g=i.isAnimationActive,y=i.offset,N=i.payload,A=i.payloadUniqBy,S=i.position,C=i.reverseDirection,R=i.useTranslate3d,P=i.viewBox,U=i.wrapperStyle,L=N??[];m&&L.length&&(L=G9(N.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),A,VQ));var z=L.length>0;return Oe.createElement(PQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:z,offset:y,position:S,reverseDirection:C,useTranslate3d:R,viewBox:P,wrapperStyle:U},zQ(d,z6(z6({},this.props),{},{payload:L})))}}])})(ye.PureComponent);DT(vc,"displayName","Tooltip");DT(vc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Am.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mA,$6;function $Q(){if($6)return mA;$6=1;var t=Fc(),e=function(){return t.Date.now()};return mA=e,mA}var gA,H6;function HQ(){if(H6)return gA;H6=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return gA=e,gA}var vA,G6;function GQ(){if(G6)return vA;G6=1;var t=HQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return vA=n,vA}var yA,W6;function rF(){if(W6)return yA;W6=1;var t=GQ(),e=af(),n=xm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||s.test(d)?l(d.slice(2),m?2:8):i.test(d)?r:+d}return yA=c,yA}var xA,K6;function WQ(){if(K6)return xA;K6=1;var t=af(),e=$Q(),n=rF(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,d){var h,m,g,y,N,A,S=0,C=!1,R=!1,P=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(C=!!d.leading,R="maxWait"in d,g=R?i(n(d.maxWait)||0,c):g,P="trailing"in d?!!d.trailing:P);function U(F){var Q=h,oe=m;return h=m=void 0,S=F,y=l.apply(oe,Q),y}function L(F){return S=F,N=setTimeout(O,c),C?U(F):y}function z(F){var Q=F-A,oe=F-S,K=c-Q;return R?a(K,g-oe):K}function k(F){var Q=F-A,oe=F-S;return A===void 0||Q>=c||Q<0||R&&oe>=g}function O(){var F=e();if(k(F))return V(F);N=setTimeout(O,z(F))}function V(F){return N=void 0,P&&h?U(F):(h=m=void 0,y)}function W(){N!==void 0&&clearTimeout(N),S=0,h=A=m=N=void 0}function B(){return N===void 0?y:V(e())}function D(){var F=e(),Q=k(F);if(h=arguments,m=this,A=F,Q){if(N===void 0)return L(A);if(R)return clearTimeout(N),N=setTimeout(O,c),U(A)}return N===void 0&&(N=setTimeout(O,c)),y}return D.cancel=W,D.flush=B,D}return xA=s,xA}var bA,Y6;function KQ(){if(Y6)return bA;Y6=1;var t=WQ(),e=af(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return bA=r,bA}var YQ=KQ();const iF=Nr(YQ);function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=QQ(t,"string");return u0(e)=="symbol"?e:e+""}function QQ(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZQ(t,e){return rZ(t)||nZ(t,e)||tZ(t,e)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return J6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J6(t,e)}}function J6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function rZ(t){if(Array.isArray(t))return t}var iZ=ye.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,g=t.maxHeight,y=t.children,N=t.debounce,A=N===void 0?0:N,S=t.id,C=t.className,R=t.onResize,P=t.style,U=P===void 0?{}:P,L=ye.useRef(null),z=ye.useRef();z.current=R,ye.useImperativeHandle(e,function(){return Object.defineProperty(L.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),L.current},configurable:!0})});var k=ye.useState({containerWidth:i.width,containerHeight:i.height}),O=ZQ(k,2),V=O[0],W=O[1],B=ye.useCallback(function(F,Q){W(function(oe){var K=Math.round(F),ee=Math.round(Q);return oe.containerWidth===K&&oe.containerHeight===ee?oe:{containerWidth:K,containerHeight:ee}})},[]);ye.useEffect(function(){var F=function(_e){var xe,ce=_e[0].contentRect,M=ce.width,G=ce.height;B(M,G),(xe=z.current)===null||xe===void 0||xe.call(z,M,G)};A>0&&(F=iF(F,A,{trailing:!0,leading:!1}));var Q=new ResizeObserver(F),oe=L.current.getBoundingClientRect(),K=oe.width,ee=oe.height;return B(K,ee),Q.observe(L.current),function(){Q.disconnect()}},[B,A]);var D=ye.useMemo(function(){var F=V.containerWidth,Q=V.containerHeight;if(F<0||Q<0)return null;Au(Uf(s)||Uf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Au(!n||n>0,"The aspect(%s) must be greater than zero.",n);var oe=Uf(s)?F:s,K=Uf(c)?Q:c;n&&n>0&&(oe?K=oe/n:K&&(oe=K*n),g&&K>g&&(K=g)),Au(oe>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,oe,K,s,c,h,m,n);var ee=!Array.isArray(y)&&wu(y.type).endsWith("Chart");return Oe.Children.map(y,function(se){return Oe.isValidElement(se)?ye.cloneElement(se,py({width:oe,height:K},ee?{style:py({height:"100%",width:"100%",maxHeight:K,maxWidth:oe},se.props.style)}:{})):se})},[n,y,c,g,m,h,V,s]);return Oe.createElement("div",{id:S?"".concat(S):void 0,className:Jn("recharts-responsive-container",C),style:py(py({},U),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:g}),ref:L},D)}),aF=function(e){return null};aF.displayName="Cell";function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){aZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aZ(t,e,n){return e=sZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t){var e=oZ(t,"string");return d0(e)=="symbol"?e:e+""}function oZ(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var np={widthCache:{},cacheCount:0},lZ=2e3,cZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z6="recharts_measurement_span";function uZ(t){var e=dE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Hg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Am.isSsr)return{width:0,height:0};var r=uZ(n),i=JSON.stringify({text:e,copyStyle:r});if(np.widthCache[i])return np.widthCache[i];try{var a=document.getElementById(Z6);a||(a=document.createElement("span"),a.setAttribute("id",Z6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=dE(dE({},cZ),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return np.widthCache[i]=c,++np.cacheCount>lZ&&(np.cacheCount=0,np.widthCache={}),c}catch{return{width:0,height:0}}},dZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function C1(t,e){return mZ(t)||pZ(t,e)||hZ(t,e)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(t,e){if(t){if(typeof t=="string")return eO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function mZ(t){if(Array.isArray(t))return t}function gZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yZ(r.key),r)}}function vZ(t,e,n){return e&&tO(t.prototype,e),n&&tO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yZ(t){var e=xZ(t,"string");return f0(e)=="symbol"?e:e+""}function xZ(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Z=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wZ=Object.keys(sF),vp="NaN";function AZ(t,e){return t*sF[e]}var my=(function(){function t(e,n){gZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bZ.test(n)&&(this.num=NaN,this.unit=""),wZ.includes(n)&&(this.num=AZ(e,n),this.unit="px")}return vZ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_Z.exec(n))!==null&&r!==void 0?r:[],a=C1(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function oF(t){if(t.includes(vp))return vp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nO.exec(e))!==null&&n!==void 0?n:[],i=C1(r,4),a=i[1],s=i[2],l=i[3],c=my.parse(a??""),d=my.parse(l??""),h=s==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return vp;e=e.replace(nO,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=rO.exec(e))!==null&&m!==void 0?m:[],y=C1(g,4),N=y[1],A=y[2],S=y[3],C=my.parse(N??""),R=my.parse(S??""),P=A==="+"?C.add(R):C.subtract(R);if(P.isNaN())return vp;e=e.replace(rO,P.toString())}return e}var iO=/\(([^()]*)\)/;function SZ(t){for(var e=t;e.includes("(");){var n=iO.exec(e),r=C1(n,2),i=r[1];e=e.replace(iO,oF(i))}return e}function EZ(t){var e=t.replace(/\s+/g,"");return e=SZ(e),e=oF(e),e}function NZ(t){try{return EZ(t)}catch{return vp}}function _A(t){var e=NZ(t.slice(5,-1));return e===vp?"":e}var TZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CZ=["dx","dy","angle","className","breakAll"];function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}function aO(t,e){if(t==null)return{};var n=IZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sO(t,e){return OZ(t)||PZ(t,e)||kZ(t,e)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t,e){if(t){if(typeof t=="string")return oO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function OZ(t){if(Array.isArray(t))return t}var lF=/[ \f\n\r\t\v\u2028\u2029]+/,cF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];qn(n)||(r?a=n.toString().split(""):a=n.toString().split(lF));var s=a.map(function(c){return{word:c,width:Hg(c,i).width}}),l=r?0:Hg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},jZ=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=At(s),m=l,g=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe.reduce(function(K,ee){var se=ee.word,_e=ee.width,xe=K[K.length-1];if(xe&&(i==null||a||xe.width+_e+r<Number(i)))xe.words.push(se),xe.width+=_e+r;else{var ce={words:[se],width:_e};K.push(ce)}return K},[])},y=g(n),N=function(oe){return oe.reduce(function(K,ee){return K.width>ee.width?K:ee})};if(!h)return y;for(var A="",S=function(oe){var K=m.slice(0,oe),ee=cF({breakAll:d,style:c,children:K+A}).wordsWithComputedWidth,se=g(ee),_e=se.length>s||N(se).width>Number(i);return[_e,se]},C=0,R=m.length-1,P=0,U;C<=R&&P<=m.length-1;){var L=Math.floor((C+R)/2),z=L-1,k=S(z),O=sO(k,2),V=O[0],W=O[1],B=S(L),D=sO(B,1),F=D[0];if(!V&&!F&&(C=L+1),V&&F&&(R=L-1),!V&&F){U=W;break}P++}return U||y},lO=function(e){var n=qn(e)?[]:e.toString().split(lF);return[{words:n}]},MZ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Am.isSsr){var c,d,h=cF({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;c=m,d=g}else return lO(i);return jZ({breakAll:s,children:i,maxLines:l,style:a},c,d,n,r)}return lO(i)},cO="#808080",I1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,N=e.verticalAnchor,A=N===void 0?"end":N,S=e.fill,C=S===void 0?cO:S,R=aO(e,TZ),P=ye.useMemo(function(){return MZ({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:m,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,m,R.style,R.width]),U=R.dx,L=R.dy,z=R.angle,k=R.className,O=R.breakAll,V=aO(R,CZ);if(!ea(r)||!ea(a))return null;var W=r+(At(U)?U:0),B=a+(At(L)?L:0),D;switch(A){case"start":D=_A("calc(".concat(d,")"));break;case"middle":D=_A("calc(".concat((P.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:D=_A("calc(".concat(P.length-1," * -").concat(l,")"));break}var F=[];if(m){var Q=P[0].width,oe=R.width;F.push("scale(".concat((At(oe)?oe/Q:1)/Q,")"))}return z&&F.push("rotate(".concat(z,", ").concat(W,", ").concat(B,")")),F.length&&(V.transform=F.join(" ")),Oe.createElement("text",fE({},On(V,!0),{x:W,y:B,className:Jn("recharts-text",k),textAnchor:y,fill:C.includes("url")?cO:C}),P.map(function(K,ee){var se=K.words.join(O?"":" ");return Oe.createElement("tspan",{x:W,dy:ee===0?D:l,key:"".concat(se,"-").concat(ee)},se)}))};function Ud(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LT(t){let e,n,r;t.length!==2?(e=Ud,n=(l,c)=>Ud(t(l),c),r=(l,c)=>t(l)-c):(e=t===Ud||t===DZ?t:LZ,n=t,r=t);function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(l,c,d=0,h=l.length){const m=i(l,c,d,h-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function LZ(){return 0}function uF(t){return t===null?NaN:+t}function*FZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const UZ=LT(Ud),rv=UZ.right;LT(uF).center;class uO extends Map{constructor(e,n=VZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dO(this,e))}has(e){return super.has(dO(this,e))}set(e,n){return super.set(BZ(this,e),n)}delete(e){return super.delete(qZ(this,e))}}function dO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function BZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function VZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zZ(t=Ud){if(t===Ud)return dF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $Z=Math.sqrt(50),HZ=Math.sqrt(10),GZ=Math.sqrt(2);function R1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=$Z?10:a>=HZ?5:a>=GZ?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?R1(t,e,n*2):[l,c,d]}function hE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?R1(e,t,n):R1(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function pE(t,e,n){return e=+e,t=+t,n=+n,R1(t,e,n)[2]}function mE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pE(e,t,n):pE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function fF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dF:zZ(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+g)),N=Math.min(r,Math.floor(e+(c-d)*m/c+g));fF(t,e,y,N,i)}const a=t[e];let s=n,l=r;for(xg(t,n,e),i(t[r],a)>0&&xg(t,n,r);s<l;){for(xg(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?xg(t,n,l):(++l,xg(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function xg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function WZ(t,e,n){if(t=Float64Array.from(FZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hO(t);if(e>=1)return fO(t);var r,i=(r-1)*e,a=Math.floor(i),s=fO(fF(t,a).subarray(0,a+1)),l=hO(t.subarray(a+1));return s+(l-s)*(i-a)}}function KZ(t,e,n=uF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function YZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Yo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Lu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gE=Symbol("implicit");function FT(){var t=new uO,e=[],n=[],r=gE;function i(a){let s=t.get(a);if(s===void 0){if(r!==gE)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new uO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return FT(e,n).unknown(r)},Yo.apply(i,arguments),i}function h0(){var t=FT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var g=e().length,y=i<r,N=y?i:r,A=y?r:i;a=(A-N)/Math.max(1,g-c+d*2),l&&(a=Math.floor(a)),N+=(A-N-a*(g-c))*h,s=a*(1-c),l&&(N=Math.round(N),s=Math.round(s));var S=YZ(g).map(function(C){return N+a*C});return n(y?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return h0(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},Yo.apply(m(),arguments)}function hF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hF(e())},t}function Gg(){return hF(h0.apply(null,arguments).paddingInner(1))}function UT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function iv(){}var p0=.7,k1=1/p0,Cp="\\s*([+-]?\\d+)\\s*",m0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XZ=/^#([0-9a-f]{3,8})$/,JZ=new RegExp(`^rgb\\(${Cp},${Cp},${Cp}\\)$`),QZ=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),ZZ=new RegExp(`^rgba\\(${Cp},${Cp},${Cp},${m0}\\)$`),eee=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${m0}\\)$`),tee=new RegExp(`^hsl\\(${m0},${Ec},${Ec}\\)$`),nee=new RegExp(`^hsla\\(${m0},${Ec},${Ec},${m0}\\)$`),pO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UT(iv,g0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mO,formatHex:mO,formatHex8:ree,formatHsl:iee,formatRgb:gO,toString:gO});function mO(){return this.rgb().formatHex()}function ree(){return this.rgb().formatHex8()}function iee(){return mF(this).formatHsl()}function gO(){return this.rgb().formatRgb()}function g0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vO(e):n===3?new Vs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?gy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?gy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JZ.exec(t))?new Vs(e[1],e[2],e[3],1):(e=QZ.exec(t))?new Vs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ZZ.exec(t))?gy(e[1],e[2],e[3],e[4]):(e=eee.exec(t))?gy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tee.exec(t))?bO(e[1],e[2]/100,e[3]/100,1):(e=nee.exec(t))?bO(e[1],e[2]/100,e[3]/100,e[4]):pO.hasOwnProperty(t)?vO(pO[t]):t==="transparent"?new Vs(NaN,NaN,NaN,0):null}function vO(t){return new Vs(t>>16&255,t>>8&255,t&255,1)}function gy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vs(t,e,n,r)}function aee(t){return t instanceof iv||(t=g0(t)),t?(t=t.rgb(),new Vs(t.r,t.g,t.b,t.opacity)):new Vs}function vE(t,e,n,r){return arguments.length===1?aee(t):new Vs(t,e,n,r??1)}function Vs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}UT(Vs,vE,pF(iv,{brighter(t){return t=t==null?k1:Math.pow(k1,t),new Vs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?p0:Math.pow(p0,t),new Vs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vs(Wf(this.r),Wf(this.g),Wf(this.b),P1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yO,formatHex:yO,formatHex8:see,formatRgb:xO,toString:xO}));function yO(){return`#${Bf(this.r)}${Bf(this.g)}${Bf(this.b)}`}function see(){return`#${Bf(this.r)}${Bf(this.g)}${Bf(this.b)}${Bf((isNaN(this.opacity)?1:this.opacity)*255)}`}function xO(){const t=P1(this.opacity);return`${t===1?"rgb(":"rgba("}${Wf(this.r)}, ${Wf(this.g)}, ${Wf(this.b)}${t===1?")":`, ${t})`}`}function P1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bf(t){return t=Wf(t),(t<16?"0":"")+t.toString(16)}function bO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nl(t,e,n,r)}function mF(t){if(t instanceof Nl)return new Nl(t.h,t.s,t.l,t.opacity);if(t instanceof iv||(t=g0(t)),!t)return new Nl;if(t instanceof Nl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Nl(s,l,c,t.opacity)}function oee(t,e,n,r){return arguments.length===1?mF(t):new Nl(t,e,n,r??1)}function Nl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}UT(Nl,oee,pF(iv,{brighter(t){return t=t==null?k1:Math.pow(k1,t),new Nl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?p0:Math.pow(p0,t),new Nl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vs(wA(t>=240?t-240:t+120,i,r),wA(t,i,r),wA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nl(_O(this.h),vy(this.s),vy(this.l),P1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=P1(this.opacity);return`${t===1?"hsl(":"hsla("}${_O(this.h)}, ${vy(this.s)*100}%, ${vy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _O(t){return t=(t||0)%360,t<0?t+360:t}function vy(t){return Math.max(0,Math.min(1,t||0))}function wA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const BT=t=>()=>t;function lee(t,e){return function(n){return t+n*e}}function cee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uee(t){return(t=+t)==1?gF:function(e,n){return n-e?cee(e,n,t):BT(isNaN(e)?n:e)}}function gF(t,e){var n=e-t;return n?lee(t,n):BT(isNaN(t)?e:t)}const wO=(function t(e){var n=uee(e);function r(i,a){var s=n((i=vE(i)).r,(a=vE(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=gF(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function dee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function fee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Sm(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function pee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function O1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sm(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var yE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AA=new RegExp(yE.source,"g");function gee(t){return function(){return t}}function vee(t){return function(e){return t(e)+""}}function yee(t,e){var n=yE.lastIndex=AA.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=yE.exec(t))&&(i=AA.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:O1(r,i)})),n=AA.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?vee(c[0].x):gee(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function Sm(t,e){var n=typeof e,r;return e==null||n==="boolean"?BT(e):(n==="number"?O1:n==="string"?(r=g0(e))?(e=r,wO):yee:e instanceof g0?wO:e instanceof Date?pee:fee(e)?dee:Array.isArray(e)?hee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mee:O1)(t,e)}function qT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xee(t,e){e===void 0&&(e=t,t=Sm);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function bee(t){return function(){return t}}function j1(t){return+t}var AO=[0,1];function bs(t){return t}function xE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bee(isNaN(e)?NaN:.5)}function _ee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wee(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=xE(i,r),a=n(s,a)):(r=xE(r,i),a=n(a,s)),function(l){return a(r(l))}}function Aee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=xE(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=rv(t,l,1,r)-1;return a[c](i[c](l))}}function av(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eb(){var t=AO,e=AO,n=Sm,r,i,a,s=bs,l,c,d;function h(){var g=Math.min(t.length,e.length);return s!==bs&&(s=_ee(t[0],t[g-1])),l=g>2?Aee:wee,c=d=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(r),e,n)))(r(s(g)))}return m.invert=function(g){return s(i((d||(d=l(e,t.map(r),O1)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,j1),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=qT,h()},m.clamp=function(g){return arguments.length?(s=g?!0:bs,h()):s!==bs},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,y){return r=g,i=y,h()}}function VT(){return eb()(bs,bs)}function See(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function M1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wp(t){return t=M1(Math.abs(t)),t?t[1]:NaN}function Eee(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Nee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function v0(t){if(!(e=Tee.exec(t)))throw new Error("invalid format: "+t);var e;return new zT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}v0.prototype=zT.prototype;function zT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var D1;function Iee(t,e){var n=M1(t,e);if(!n)return D1=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(D1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+M1(t,Math.max(0,e+a-1))[0]}function SO(t,e){var n=M1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:See,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SO(t*100,e),r:SO,s:Iee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NO(t){return t}var TO=Array.prototype.map,CO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ree(t){var e=t.grouping===void 0||t.thousands===void 0?NO:Eee(TO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?NO:Nee(TO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,g){m=v0(m);var y=m.fill,N=m.align,A=m.sign,S=m.symbol,C=m.zero,R=m.width,P=m.comma,U=m.precision,L=m.trim,z=m.type;z==="n"?(P=!0,z="g"):EO[z]||(U===void 0&&(U=12),L=!0,z="g"),(C||y==="0"&&N==="=")&&(C=!0,y="0",N="=");var k=(g&&g.prefix!==void 0?g.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():""),O=(S==="$"?r:/[%p]/.test(z)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),V=EO[z],W=/[defgprs%]/.test(z);U=U===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function B(D){var F=k,Q=O,oe,K,ee;if(z==="c")Q=V(D)+Q,D="";else{D=+D;var se=D<0||1/D<0;if(D=isNaN(D)?c:V(Math.abs(D),U),L&&(D=Cee(D)),se&&+D==0&&A!=="+"&&(se=!1),F=(se?A==="("?A:l:A==="-"||A==="("?"":A)+F,Q=(z==="s"&&!isNaN(D)&&D1!==void 0?CO[8+D1/3]:"")+Q+(se&&A==="("?")":""),W){for(oe=-1,K=D.length;++oe<K;)if(ee=D.charCodeAt(oe),48>ee||ee>57){Q=(ee===46?i+D.slice(oe+1):D.slice(oe))+Q,D=D.slice(0,oe);break}}}P&&!C&&(D=e(D,1/0));var _e=F.length+D.length+Q.length,xe=_e<R?new Array(R-_e+1).join(y):"";switch(P&&C&&(D=e(xe+D,xe.length?R-Q.length:1/0),xe=""),N){case"<":D=F+D+Q+xe;break;case"=":D=F+xe+D+Q;break;case"^":D=xe.slice(0,_e=xe.length>>1)+F+D+Q+xe.slice(_e);break;default:D=xe+F+D+Q;break}return a(D)}return B.toString=function(){return m+""},B}function h(m,g){var y=Math.max(-8,Math.min(8,Math.floor(Wp(g)/3)))*3,N=Math.pow(10,-y),A=d((m=v0(m),m.type="f",m),{suffix:CO[8+y/3]});return function(S){return A(N*S)}}return{format:d,formatPrefix:h}}var yy,$T,vF;kee({thousands:",",grouping:[3],currency:["$",""]});function kee(t){return yy=Ree(t),$T=yy.format,vF=yy.formatPrefix,yy}function Pee(t){return Math.max(0,-Wp(Math.abs(t)))}function Oee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wp(e)/3)))*3-Wp(Math.abs(t)))}function jee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wp(e)-Wp(t))+1}function yF(t,e,n,r){var i=mE(t,e,n),a;switch(r=v0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Oee(i,s))&&(r.precision=a),vF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=jee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Pee(i))&&(r.precision=a-(r.type==="%")*2);break}}return $T(r)}function of(t){var e=t.domain;return t.ticks=function(n){var r=e();return hE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,d,h=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=pE(s,l,n),d===c)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function L1(){var t=VT();return t.copy=function(){return av(t,L1())},Yo.apply(t,arguments),of(t)}function xF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,j1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xF(t).unknown(e)},t=arguments.length?Array.from(t,j1):[0,1],of(n)}function bF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function IO(t){return Math.log(t)}function RO(t){return Math.exp(t)}function Mee(t){return-Math.log(-t)}function Dee(t){return-Math.exp(-t)}function Lee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Fee(t){return t===10?Lee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Uee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kO(t){return(e,n)=>-t(-e,n)}function HT(t){const e=t(IO,RO),n=e.domain;let r=10,i,a;function s(){return i=Uee(r),a=Fee(r),n()[0]<0?(i=kO(i),a=kO(a),t(Mee,Dee)):t(IO,RO),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=i(d),y=i(h),N,A;const S=l==null?10:+l;let C=[];if(!(r%1)&&y-g<S){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(N=1;N<r;++N)if(A=g<0?N/a(-g):N*a(g),!(A<d)){if(A>h)break;C.push(A)}}else for(;g<=y;++g)for(N=r-1;N>=1;--N)if(A=g>0?N/a(-g):N*a(g),!(A<d)){if(A>h)break;C.push(A)}C.length*2<S&&(C=hE(d,h,S))}else C=hE(g,y,Math.min(y-g,S)).map(a);return m?C.reverse():C},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=v0(c)).precision==null&&(c.trim=!0),c=$T(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},e.nice=()=>n(bF(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function _F(){const t=HT(eb()).domain([1,10]);return t.copy=()=>av(t,_F()).base(t.base()),Yo.apply(t,arguments),t}function PO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function GT(t){var e=1,n=t(PO(e),OO(e));return n.constant=function(r){return arguments.length?t(PO(e=+r),OO(e)):e},of(n)}function wF(){var t=GT(eb());return t.copy=function(){return av(t,wF()).constant(t.constant())},Yo.apply(t,arguments)}function jO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qee(t){return t<0?-t*t:t*t}function WT(t){var e=t(bs,bs),n=1;function r(){return n===1?t(bs,bs):n===.5?t(Bee,qee):t(jO(n),jO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},of(e)}function KT(){var t=WT(eb());return t.copy=function(){return av(t,KT()).exponent(t.exponent())},Yo.apply(t,arguments),t}function Vee(){return KT.apply(null,arguments).exponent(.5)}function MO(t){return Math.sign(t)*t*t}function zee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function AF(){var t=VT(),e=[0,1],n=!1,r;function i(a){var s=zee(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(MO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,j1)).map(MO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Yo.apply(i,arguments),of(i)}function SF(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=KZ(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[rv(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ud),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return SF().domain(t).range(e).unknown(r)},Yo.apply(a,arguments)}function EF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[rv(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return EF().domain([t,e]).range(i).unknown(a)},Yo.apply(of(s),arguments)}function NF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[rv(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return NF().domain(t).range(e).unknown(n)},Yo.apply(i,arguments)}const SA=new Date,EA=new Date;function na(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return c},i.filter=a=>na(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(SA.setTime(+a),EA.setTime(+s),t(SA),t(EA),Math.floor(n(SA,EA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const F1=na(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);F1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?na(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):F1);F1.range;const gu=1e3,zo=gu*60,vu=zo*60,Eu=vu*24,YT=Eu*7,DO=Eu*30,NA=Eu*365,qf=na(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gu)},(t,e)=>(e-t)/gu,t=>t.getUTCSeconds());qf.range;const XT=na(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gu)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getMinutes());XT.range;const JT=na(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCMinutes());JT.range;const QT=na(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gu-t.getMinutes()*zo)},(t,e)=>{t.setTime(+t+e*vu)},(t,e)=>(e-t)/vu,t=>t.getHours());QT.range;const ZT=na(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vu)},(t,e)=>(e-t)/vu,t=>t.getUTCHours());ZT.range;const sv=na(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zo)/Eu,t=>t.getDate()-1);sv.range;const tb=na(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eu,t=>t.getUTCDate()-1);tb.range;const TF=na(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eu,t=>Math.floor(t/Eu));TF.range;function hh(t){return na(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zo)/YT)}const nb=hh(0),U1=hh(1),$ee=hh(2),Hee=hh(3),Kp=hh(4),Gee=hh(5),Wee=hh(6);nb.range;U1.range;$ee.range;Hee.range;Kp.range;Gee.range;Wee.range;function ph(t){return na(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/YT)}const rb=ph(0),B1=ph(1),Kee=ph(2),Yee=ph(3),Yp=ph(4),Xee=ph(5),Jee=ph(6);rb.range;B1.range;Kee.range;Yee.range;Yp.range;Xee.range;Jee.range;const eC=na(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eC.range;const tC=na(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tC.range;const Nu=na(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:na(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Nu.range;const Tu=na(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:na(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Tu.range;function CF(t,e,n,r,i,a){const s=[[qf,1,gu],[qf,5,5*gu],[qf,15,15*gu],[qf,30,30*gu],[a,1,zo],[a,5,5*zo],[a,15,15*zo],[a,30,30*zo],[i,1,vu],[i,3,3*vu],[i,6,6*vu],[i,12,12*vu],[r,1,Eu],[r,2,2*Eu],[n,1,YT],[e,1,DO],[e,3,3*DO],[t,1,NA]];function l(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:c(d,h,m),N=y?y.range(d,+h+1):[];return g?N.reverse():N}function c(d,h,m){const g=Math.abs(h-d)/m,y=LT(([,,S])=>S).right(s,g);if(y===s.length)return t.every(mE(d/NA,h/NA,m));if(y===0)return F1.every(Math.max(mE(d,h,m),1));const[N,A]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return N.every(A)}return[l,c]}const[Qee,Zee]=CF(Tu,tC,rb,TF,ZT,JT),[ete,tte]=CF(Nu,eC,nb,sv,QT,XT);function TA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=_g(i),h=wg(i),m=_g(a),g=wg(a),y=_g(s),N=wg(s),A=_g(l),S=wg(l),C=_g(c),R=wg(c),P={a:ee,A:se,b:_e,B:xe,c:null,d:VO,e:VO,f:Ete,g:Mte,G:Lte,H:wte,I:Ate,j:Ste,L:IF,m:Nte,M:Tte,p:ce,q:M,Q:HO,s:GO,S:Cte,u:Ite,U:Rte,V:kte,w:Pte,W:Ote,x:null,X:null,y:jte,Y:Dte,Z:Fte,"%":$O},U={a:G,A:Z,b:de,B:X,c:null,d:zO,e:zO,f:Vte,g:Qte,G:ene,H:Ute,I:Bte,j:qte,L:kF,m:zte,M:$te,p:ue,q:we,Q:HO,s:GO,S:Hte,u:Gte,U:Wte,V:Kte,w:Yte,W:Xte,x:null,X:null,y:Jte,Y:Zte,Z:tne,"%":$O},L={a:W,A:B,b:D,B:F,c:Q,d:BO,e:BO,f:yte,g:UO,G:FO,H:qO,I:qO,j:pte,L:vte,m:hte,M:mte,p:V,q:fte,Q:bte,s:_te,S:gte,u:ote,U:lte,V:cte,w:ste,W:ute,x:oe,X:K,y:UO,Y:FO,Z:dte,"%":xte};P.x=z(n,P),P.X=z(r,P),P.c=z(e,P),U.x=z(n,U),U.X=z(r,U),U.c=z(e,U);function z(re,Se){return function(Re){var Ee=[],We=-1,Ge=0,ve=re.length,le,lt,nt;for(Re instanceof Date||(Re=new Date(+Re));++We<ve;)re.charCodeAt(We)===37&&(Ee.push(re.slice(Ge,We)),(lt=LO[le=re.charAt(++We)])!=null?le=re.charAt(++We):lt=le==="e"?" ":"0",(nt=Se[le])&&(le=nt(Re,lt)),Ee.push(le),Ge=We+1);return Ee.push(re.slice(Ge,We)),Ee.join("")}}function k(re,Se){return function(Re){var Ee=bg(1900,void 0,1),We=O(Ee,re,Re+="",0),Ge,ve;if(We!=Re.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(Se&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(Ge=CA(bg(Ee.y,0,1)),ve=Ge.getUTCDay(),Ge=ve>4||ve===0?B1.ceil(Ge):B1(Ge),Ge=tb.offset(Ge,(Ee.V-1)*7),Ee.y=Ge.getUTCFullYear(),Ee.m=Ge.getUTCMonth(),Ee.d=Ge.getUTCDate()+(Ee.w+6)%7):(Ge=TA(bg(Ee.y,0,1)),ve=Ge.getDay(),Ge=ve>4||ve===0?U1.ceil(Ge):U1(Ge),Ge=sv.offset(Ge,(Ee.V-1)*7),Ee.y=Ge.getFullYear(),Ee.m=Ge.getMonth(),Ee.d=Ge.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),ve="Z"in Ee?CA(bg(Ee.y,0,1)).getUTCDay():TA(bg(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(ve+5)%7:Ee.w+Ee.U*7-(ve+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,CA(Ee)):TA(Ee)}}function O(re,Se,Re,Ee){for(var We=0,Ge=Se.length,ve=Re.length,le,lt;We<Ge;){if(Ee>=ve)return-1;if(le=Se.charCodeAt(We++),le===37){if(le=Se.charAt(We++),lt=L[le in LO?Se.charAt(We++):le],!lt||(Ee=lt(re,Re,Ee))<0)return-1}else if(le!=Re.charCodeAt(Ee++))return-1}return Ee}function V(re,Se,Re){var Ee=d.exec(Se.slice(Re));return Ee?(re.p=h.get(Ee[0].toLowerCase()),Re+Ee[0].length):-1}function W(re,Se,Re){var Ee=y.exec(Se.slice(Re));return Ee?(re.w=N.get(Ee[0].toLowerCase()),Re+Ee[0].length):-1}function B(re,Se,Re){var Ee=m.exec(Se.slice(Re));return Ee?(re.w=g.get(Ee[0].toLowerCase()),Re+Ee[0].length):-1}function D(re,Se,Re){var Ee=C.exec(Se.slice(Re));return Ee?(re.m=R.get(Ee[0].toLowerCase()),Re+Ee[0].length):-1}function F(re,Se,Re){var Ee=A.exec(Se.slice(Re));return Ee?(re.m=S.get(Ee[0].toLowerCase()),Re+Ee[0].length):-1}function Q(re,Se,Re){return O(re,e,Se,Re)}function oe(re,Se,Re){return O(re,n,Se,Re)}function K(re,Se,Re){return O(re,r,Se,Re)}function ee(re){return s[re.getDay()]}function se(re){return a[re.getDay()]}function _e(re){return c[re.getMonth()]}function xe(re){return l[re.getMonth()]}function ce(re){return i[+(re.getHours()>=12)]}function M(re){return 1+~~(re.getMonth()/3)}function G(re){return s[re.getUTCDay()]}function Z(re){return a[re.getUTCDay()]}function de(re){return c[re.getUTCMonth()]}function X(re){return l[re.getUTCMonth()]}function ue(re){return i[+(re.getUTCHours()>=12)]}function we(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Se=z(re+="",P);return Se.toString=function(){return re},Se},parse:function(re){var Se=k(re+="",!1);return Se.toString=function(){return re},Se},utcFormat:function(re){var Se=z(re+="",U);return Se.toString=function(){return re},Se},utcParse:function(re){var Se=k(re+="",!0);return Se.toString=function(){return re},Se}}}var LO={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,rte=/^%/,ite=/[\\^$*+?|[\]().{}]/g;function rr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function ate(t){return t.replace(ite,"\\$&")}function _g(t){return new RegExp("^(?:"+t.map(ate).join("|")+")","i")}function wg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ste(t,e,n){var r=ga.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ote(t,e,n){var r=ga.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lte(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cte(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ute(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function FO(t,e,n){var r=ga.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function UO(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fte(t,e,n){var r=ga.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hte(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function BO(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pte(t,e,n){var r=ga.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qO(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mte(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gte(t,e,n){var r=ga.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vte(t,e,n){var r=ga.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yte(t,e,n){var r=ga.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xte(t,e,n){var r=rte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bte(t,e,n){var r=ga.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _te(t,e,n){var r=ga.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function VO(t,e){return rr(t.getDate(),e,2)}function wte(t,e){return rr(t.getHours(),e,2)}function Ate(t,e){return rr(t.getHours()%12||12,e,2)}function Ste(t,e){return rr(1+sv.count(Nu(t),t),e,3)}function IF(t,e){return rr(t.getMilliseconds(),e,3)}function Ete(t,e){return IF(t,e)+"000"}function Nte(t,e){return rr(t.getMonth()+1,e,2)}function Tte(t,e){return rr(t.getMinutes(),e,2)}function Cte(t,e){return rr(t.getSeconds(),e,2)}function Ite(t){var e=t.getDay();return e===0?7:e}function Rte(t,e){return rr(nb.count(Nu(t)-1,t),e,2)}function RF(t){var e=t.getDay();return e>=4||e===0?Kp(t):Kp.ceil(t)}function kte(t,e){return t=RF(t),rr(Kp.count(Nu(t),t)+(Nu(t).getDay()===4),e,2)}function Pte(t){return t.getDay()}function Ote(t,e){return rr(U1.count(Nu(t)-1,t),e,2)}function jte(t,e){return rr(t.getFullYear()%100,e,2)}function Mte(t,e){return t=RF(t),rr(t.getFullYear()%100,e,2)}function Dte(t,e){return rr(t.getFullYear()%1e4,e,4)}function Lte(t,e){var n=t.getDay();return t=n>=4||n===0?Kp(t):Kp.ceil(t),rr(t.getFullYear()%1e4,e,4)}function Fte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rr(e/60|0,"0",2)+rr(e%60,"0",2)}function zO(t,e){return rr(t.getUTCDate(),e,2)}function Ute(t,e){return rr(t.getUTCHours(),e,2)}function Bte(t,e){return rr(t.getUTCHours()%12||12,e,2)}function qte(t,e){return rr(1+tb.count(Tu(t),t),e,3)}function kF(t,e){return rr(t.getUTCMilliseconds(),e,3)}function Vte(t,e){return kF(t,e)+"000"}function zte(t,e){return rr(t.getUTCMonth()+1,e,2)}function $te(t,e){return rr(t.getUTCMinutes(),e,2)}function Hte(t,e){return rr(t.getUTCSeconds(),e,2)}function Gte(t){var e=t.getUTCDay();return e===0?7:e}function Wte(t,e){return rr(rb.count(Tu(t)-1,t),e,2)}function PF(t){var e=t.getUTCDay();return e>=4||e===0?Yp(t):Yp.ceil(t)}function Kte(t,e){return t=PF(t),rr(Yp.count(Tu(t),t)+(Tu(t).getUTCDay()===4),e,2)}function Yte(t){return t.getUTCDay()}function Xte(t,e){return rr(B1.count(Tu(t)-1,t),e,2)}function Jte(t,e){return rr(t.getUTCFullYear()%100,e,2)}function Qte(t,e){return t=PF(t),rr(t.getUTCFullYear()%100,e,2)}function Zte(t,e){return rr(t.getUTCFullYear()%1e4,e,4)}function ene(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yp(t):Yp.ceil(t),rr(t.getUTCFullYear()%1e4,e,4)}function tne(){return"+0000"}function $O(){return"%"}function HO(t){return+t}function GO(t){return Math.floor(+t/1e3)}var rp,OF,jF;nne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nne(t){return rp=nte(t),OF=rp.format,rp.parse,jF=rp.utcFormat,rp.utcParse,rp}function rne(t){return new Date(t)}function ine(t){return t instanceof Date?+t:+new Date(+t)}function nC(t,e,n,r,i,a,s,l,c,d){var h=VT(),m=h.invert,g=h.domain,y=d(".%L"),N=d(":%S"),A=d("%I:%M"),S=d("%I %p"),C=d("%a %d"),R=d("%b %d"),P=d("%B"),U=d("%Y");function L(z){return(c(z)<z?y:l(z)<z?N:s(z)<z?A:a(z)<z?S:r(z)<z?i(z)<z?C:R:n(z)<z?P:U)(z)}return h.invert=function(z){return new Date(m(z))},h.domain=function(z){return arguments.length?g(Array.from(z,ine)):g().map(rne)},h.ticks=function(z){var k=g();return t(k[0],k[k.length-1],z??10)},h.tickFormat=function(z,k){return k==null?L:d(k)},h.nice=function(z){var k=g();return(!z||typeof z.range!="function")&&(z=e(k[0],k[k.length-1],z??10)),z?g(bF(k,z)):h},h.copy=function(){return av(h,nC(t,e,n,r,i,a,s,l,c,d))},h}function ane(){return Yo.apply(nC(ete,tte,Nu,eC,nb,sv,QT,XT,qf,OF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sne(){return Yo.apply(nC(Qee,Zee,Tu,tC,rb,tb,ZT,JT,qf,jF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ib(){var t=0,e=1,n,r,i,a,s=bs,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(g){var y,N;return arguments.length?([y,N]=g,s=m(y,N),d):[s(0),s(1)]}}return d.range=h(Sm),d.rangeRound=h(qT),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function lf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MF(){var t=of(ib()(bs));return t.copy=function(){return lf(t,MF())},Lu.apply(t,arguments)}function DF(){var t=HT(ib()).domain([1,10]);return t.copy=function(){return lf(t,DF()).base(t.base())},Lu.apply(t,arguments)}function LF(){var t=GT(ib());return t.copy=function(){return lf(t,LF()).constant(t.constant())},Lu.apply(t,arguments)}function rC(){var t=WT(ib());return t.copy=function(){return lf(t,rC()).exponent(t.exponent())},Lu.apply(t,arguments)}function one(){return rC.apply(null,arguments).exponent(.5)}function FF(){var t=[],e=bs;function n(r){if(r!=null&&!isNaN(r=+r))return e((rv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ud),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>WZ(t,a/r))},n.copy=function(){return FF(e).domain(t)},Lu.apply(n,arguments)}function ab(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,d=bs,h,m=!1,g;function y(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-a)*(r*A<r*a?l:c),d(m?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(A){return arguments.length?(m=!!A,y):m},y.interpolator=function(A){return arguments.length?(d=A,y):d};function N(A){return function(S){var C,R,P;return arguments.length?([C,R,P]=S,d=xee(A,[C,R,P]),y):[d(0),d(.5),d(1)]}}return y.range=N(Sm),y.rangeRound=N(qT),y.unknown=function(A){return arguments.length?(g=A,y):g},function(A){return h=A,i=A(t),a=A(e),s=A(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function UF(){var t=of(ab()(bs));return t.copy=function(){return lf(t,UF())},Lu.apply(t,arguments)}function BF(){var t=HT(ab()).domain([.1,1,10]);return t.copy=function(){return lf(t,BF()).base(t.base())},Lu.apply(t,arguments)}function qF(){var t=GT(ab());return t.copy=function(){return lf(t,qF()).constant(t.constant())},Lu.apply(t,arguments)}function iC(){var t=WT(ab());return t.copy=function(){return lf(t,iC()).exponent(t.exponent())},Lu.apply(t,arguments)}function lne(){return iC.apply(null,arguments).exponent(.5)}const WO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h0,scaleDiverging:UF,scaleDivergingLog:BF,scaleDivergingPow:iC,scaleDivergingSqrt:lne,scaleDivergingSymlog:qF,scaleIdentity:xF,scaleImplicit:gE,scaleLinear:L1,scaleLog:_F,scaleOrdinal:FT,scalePoint:Gg,scalePow:KT,scaleQuantile:SF,scaleQuantize:EF,scaleRadial:AF,scaleSequential:MF,scaleSequentialLog:DF,scaleSequentialPow:rC,scaleSequentialQuantile:FF,scaleSequentialSqrt:one,scaleSequentialSymlog:LF,scaleSqrt:Vee,scaleSymlog:wF,scaleThreshold:NF,scaleTime:ane,scaleUtc:sne,tickFormat:yF},Symbol.toStringTag,{value:"Module"}));var IA,KO;function VF(){if(KO)return IA;KO=1;var t=xm();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,h=l}return h}return IA=e,IA}var RA,YO;function cne(){if(YO)return RA;YO=1;function t(e,n){return e>n}return RA=t,RA}var kA,XO;function une(){if(XO)return kA;XO=1;var t=VF(),e=cne(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return kA=r,kA}var dne=une();const Od=Nr(dne);var PA,JO;function fne(){if(JO)return PA;JO=1;function t(e,n){return e<n}return PA=t,PA}var OA,QO;function hne(){if(QO)return OA;QO=1;var t=VF(),e=fne(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return OA=r,OA}var pne=hne();const sb=Nr(pne);var jA,ZO;function mne(){if(ZO)return jA;ZO=1;var t=bT(),e=sf(),n=J9(),r=zs();function i(a,s){var l=r(a)?t:n;return l(a,e(s,3))}return jA=i,jA}var MA,ej;function gne(){if(ej)return MA;ej=1;var t=Y9(),e=mne();function n(r,i){return t(e(r,i),1)}return MA=n,MA}var vne=gne();const yne=Nr(vne);var DA,tj;function xne(){if(tj)return DA;tj=1;var t=OT();function e(n,r){return t(n,r)}return DA=e,DA}var bne=xne();const y0=Nr(bne);var Em=1e9,_ne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sC,ai=!0,Wo="[DecimalError] ",Kf=Wo+"Invalid argument: ",aC=Wo+"Exponent out of range: ",Nm=Math.floor,jf=Math.pow,wne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ho,ha=1e7,Gr=7,zF=9007199254740991,q1=Nm(zF/Gr),Dt={};Dt.absoluteValue=Dt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Dt.comparedTo=Dt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Gr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Dt.dividedBy=Dt.div=function(t){return Su(this,new this.constructor(t))};Dt.dividedToIntegerBy=Dt.idiv=function(t){var e=this,n=e.constructor;return Or(Su(e,new n(t),0,1),n.precision)};Dt.equals=Dt.eq=function(t){return!this.cmp(t)};Dt.exponent=function(){return Vi(this)};Dt.greaterThan=Dt.gt=function(t){return this.cmp(t)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(t){return this.cmp(t)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(t){return this.cmp(t)<0};Dt.lessThanOrEqualTo=Dt.lte=function(t){return this.cmp(t)<1};Dt.logarithm=Dt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ho))throw Error(Wo+"NaN");if(n.s<1)throw Error(Wo+(n.s?"NaN":"-Infinity"));return n.eq(ho)?new r(0):(ai=!1,e=Su(x0(n,a),x0(t,a),a),ai=!0,Or(e,i))};Dt.minus=Dt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GF(e,t):$F(e,(t.s=-t.s,t))};Dt.modulo=Dt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wo+"NaN");return n.s?(ai=!1,e=Su(n,t,0,1).times(t),ai=!0,n.minus(e)):Or(new r(n),i)};Dt.naturalExponential=Dt.exp=function(){return HF(this)};Dt.naturalLogarithm=Dt.ln=function(){return x0(this)};Dt.negated=Dt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Dt.plus=Dt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$F(e,t):GF(e,(t.s=-t.s,t))};Dt.precision=Dt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Kf+t);if(e=Vi(i)+1,r=i.d.length-1,n=r*Gr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Dt.squareRoot=Dt.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Wo+"NaN")}for(t=Vi(l),ai=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=xc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Su(l,a,s+2)).times(.5),xc(a.d).slice(0,s)===(e=xc(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Or(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ai=!0,Or(r,n)};Dt.times=Dt.mul=function(t){var e,n,r,i,a,s,l,c,d,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,d=y.length,c<d&&(a=g,g=y,y=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+y[r]*g[i-r-1]+e,a[i--]=l%ha|0,e=l/ha|0;a[i]=(a[i]+e)%ha|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ai?Or(t,m.precision):t};Dt.toDecimalPlaces=Dt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Dc(t,0,Em),e===void 0?e=r.rounding:Dc(e,0,8),Or(n,t+Vi(n)+1,e))};Dt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=nh(r,!0):(Dc(t,0,Em),e===void 0?e=i.rounding:Dc(e,0,8),r=Or(new i(r),t+1,e),n=nh(r,!0,t+1)),n};Dt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?nh(i):(Dc(t,0,Em),e===void 0?e=a.rounding:Dc(e,0,8),r=Or(new a(i),t+Vi(i)+1,e),n=nh(r.abs(),!1,t+Vi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Dt.toInteger=Dt.toint=function(){var t=this,e=t.constructor;return Or(new e(t),Vi(t)+1,e.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(ho);if(l=new c(l),!l.s){if(t.s<1)throw Error(Wo+"Infinity");return l}if(l.eq(ho))return l;if(r=c.precision,t.eq(ho))return Or(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=zF){for(i=new c(ho),e=Math.ceil(r/Gr+4),ai=!1;n%2&&(i=i.times(l),rj(i.d,e)),n=Nm(n/2),n!==0;)l=l.times(l),rj(l.d,e);return ai=!0,t.s<0?new c(ho).div(i):Or(i,r)}}else if(a<0)throw Error(Wo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ai=!1,i=t.times(x0(l,r+d)),ai=!0,i=HF(i),i.s=a,i};Dt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Vi(i),r=nh(i,n<=a.toExpNeg||n>=a.toExpPos)):(Dc(t,1,Em),e===void 0?e=a.rounding:Dc(e,0,8),i=Or(new a(i),t,e),n=Vi(i),r=nh(i,t<=n||n<=a.toExpNeg,t)),r};Dt.toSignificantDigits=Dt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Dc(t,1,Em),e===void 0?e=r.rounding:Dc(e,0,8)),Or(new r(n),t,e)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vi(t),n=t.constructor;return nh(t,e<=n.toExpNeg||e>=n.toExpPos)};function $F(t,e){var n,r,i,a,s,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ai?Or(e,m):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=s,l=c.length),s=Math.ceil(m/Gr),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/ha|0,c[a]%=ha;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ai?Or(e,m):e}function Dc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Kf+t)}function xc(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Gr-r.length,n&&(a+=Nd(n)),a+=r;s=t[e],r=s+"",n=Gr-r.length,n&&(a+=Nd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Su=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%ha|0,s=a/ha|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ha+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,d,h,m,g,y,N,A,S,C,R,P,U,L,z,k,O,V=r.constructor,W=r.s==i.s?1:-1,B=r.d,D=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Wo+"Division by zero");for(c=r.e-i.e,k=D.length,L=B.length,y=new V(W),N=y.d=[],d=0;D[d]==(B[d]||0);)++d;if(D[d]>(B[d]||0)&&--c,a==null?R=a=V.precision:s?R=a+(Vi(r)-Vi(i))+1:R=a,R<0)return new V(0);if(R=R/Gr+2|0,d=0,k==1)for(h=0,D=D[0],R++;(d<L||h)&&R--;d++)P=h*ha+(B[d]||0),N[d]=P/D|0,h=P%D|0;else{for(h=ha/(D[0]+1)|0,h>1&&(D=t(D,h),B=t(B,h),k=D.length,L=B.length),U=k,A=B.slice(0,k),S=A.length;S<k;)A[S++]=0;O=D.slice(),O.unshift(0),z=D[0],D[1]>=ha/2&&++z;do h=0,l=e(D,A,k,S),l<0?(C=A[0],k!=S&&(C=C*ha+(A[1]||0)),h=C/z|0,h>1?(h>=ha&&(h=ha-1),m=t(D,h),g=m.length,S=A.length,l=e(m,A,g,S),l==1&&(h--,n(m,k<g?O:D,g))):(h==0&&(l=h=1),m=D.slice()),g=m.length,g<S&&m.unshift(0),n(A,m,S),l==-1&&(S=A.length,l=e(D,A,k,S),l<1&&(h++,n(A,k<S?O:D,S))),S=A.length):l===0&&(h++,A=[0]),N[d++]=h,l&&A[0]?A[S++]=B[U]||0:(A=[B[U]],S=1);while((U++<L||A[0]!==void 0)&&R--)}return N[0]||N.shift(),y.e=c,Or(y,s?a+Vi(y)+1:a)}})();function HF(t,e){var n,r,i,a,s,l,c=0,d=0,h=t.constructor,m=h.precision;if(Vi(t)>16)throw Error(aC+Vi(t));if(!t.s)return new h(ho);for(ai=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(jf(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(ho),h.precision=l;;){if(i=Or(i.times(t),l),n=n.times(++c),s=a.plus(Su(i,n,l)),xc(s.d).slice(0,l)===xc(a.d).slice(0,l)){for(;d--;)a=Or(a.times(a),l);return h.precision=m,e==null?(ai=!0,Or(a,m)):a}a=s}}function Vi(t){for(var e=t.e*Gr,n=t.d[0];n>=10;n/=10)e++;return e}function LA(t,e,n){if(e>t.LN10.sd())throw ai=!0,n&&(t.precision=n),Error(Wo+"LN10 precision limit exceeded");return Or(new t(t.LN10),e)}function Nd(t){for(var e="";t--;)e+="0";return e}function x0(t,e){var n,r,i,a,s,l,c,d,h,m=1,g=10,y=t,N=y.d,A=y.constructor,S=A.precision;if(y.s<1)throw Error(Wo+(y.s?"NaN":"-Infinity"));if(y.eq(ho))return new A(0);if(e==null?(ai=!1,d=S):d=e,y.eq(10))return e==null&&(ai=!0),LA(A,d);if(d+=g,A.precision=d,n=xc(N),r=n.charAt(0),a=Vi(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=xc(y.d),r=n.charAt(0),m++;a=Vi(y),r>1?(y=new A("0."+n),a++):y=new A(r+"."+n.slice(1))}else return c=LA(A,d+2,S).times(a+""),y=x0(new A(r+"."+n.slice(1)),d-g).plus(c),A.precision=S,e==null?(ai=!0,Or(y,S)):y;for(l=s=y=Su(y.minus(ho),y.plus(ho),d),h=Or(y.times(y),d),i=3;;){if(s=Or(s.times(h),d),c=l.plus(Su(s,new A(i),d)),xc(c.d).slice(0,d)===xc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(LA(A,d+2,S).times(a+""))),l=Su(l,new A(m),d),A.precision=S,e==null?(ai=!0,Or(l,S)):l;l=c,i+=2}}function nj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Nm(n/Gr),t.d=[],r=(n+1)%Gr,n<0&&(r+=Gr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Gr;r<i;)t.d.push(+e.slice(r,r+=Gr));e=e.slice(r),r=Gr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ai&&(t.e>q1||t.e<-q1))throw Error(aC+n)}else t.s=0,t.e=0,t.d=[0];return t}function Or(t,e,n){var r,i,a,s,l,c,d,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Gr,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/Gr),a=m.length,h>=a)return t;for(d=a=m[h],s=1;a>=10;a/=10)s++;r%=Gr,i=r-Gr+s}if(n!==void 0&&(a=jf(10,s-i-1),l=d/a%10|0,c=e<0||m[h+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/jf(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=Vi(t),m.length=1,e=e-a-1,m[0]=jf(10,(Gr-e%Gr)%Gr),t.e=Nm(-e/Gr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=jf(10,Gr-r),m[h]=i>0?(d/jf(10,s-i)%jf(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==ha&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=ha)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(ai&&(t.e>q1||t.e<-q1))throw Error(aC+Vi(t));return t}function GF(t,e){var n,r,i,a,s,l,c,d,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ai?Or(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(y/Gr),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=ha-1;--c[a],c[i]+=ha}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,ai?Or(e,y):e):new g(0)}function nh(t,e,n){var r,i=Vi(t),a=xc(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Nd(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Nd(-i-1)+a,n&&(r=n-s)>0&&(a+=Nd(r))):i>=s?(a+=Nd(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Nd(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Nd(r))),t.s<0?"-"+a:a}function rj(t,e){if(t.length>e)return t.length=e,!0}function WF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Kf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return nj(s,a.toString())}else if(typeof a!="string")throw Error(Kf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,wne.test(a))nj(s,a);else throw Error(Kf+a)}if(i.prototype=Dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WF,i.config=i.set=Ane,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ane(t){if(!t||typeof t!="object")throw Error(Wo+"Object expected");var e,n,r,i=["precision",1,Em,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Nm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Kf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kf+n+": "+r);return this}var sC=WF(_ne);ho=new sC(1);const Er=sC;function Sne(t){return Cne(t)||Tne(t)||Nne(t)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function Tne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cne(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ine=function(e){return e},KF={},YF=function(e){return e===KF},ij=function(e){return function n(){return arguments.length===0||arguments.length===1&&YF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Rne=function t(e,n){return e===1?n:ij(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==KF}).length;return s>=e?n.apply(void 0,i):t(e-s,ij(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=i.map(function(m){return YF(m)?c.shift():m});return n.apply(void 0,Sne(h).concat(c))}))})},ob=function(e){return Rne(e.length,e)},_E=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},kne=ob(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Pne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ine;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},wE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},XF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function One(t){var e;return t===0?e=1:e=Math.floor(new Er(t).abs().log(10).toNumber())+1,e}function jne(t,e,n){for(var r=new Er(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Mne=ob(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Dne=ob(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Lne=ob(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const lb={rangeStep:jne,getDigitCount:One,interpolateNumber:Mne,uninterpolateNumber:Dne,uninterpolateTruncation:Lne};function AE(t){return Bne(t)||Une(t)||JF(t)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bne(t){if(Array.isArray(t))return SE(t)}function b0(t,e){return zne(t)||Vne(t,e)||JF(t,e)||qne()}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JF(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function zne(t){if(Array.isArray(t))return t}function QF(t){var e=b0(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function ZF(t,e,n){if(t.lte(0))return new Er(0);var r=lb.getDigitCount(t.toNumber()),i=new Er(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Er(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new Er(Math.ceil(c))}function $ne(t,e,n){var r=1,i=new Er(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Er(10).pow(lb.getDigitCount(t)-1),i=new Er(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Er(Math.floor(t)))}else t===0?i=new Er(Math.floor((e-1)/2)):n||(i=new Er(Math.floor(t)));var s=Math.floor((e-1)/2),l=Pne(kne(function(c){return i.add(new Er(c-s).mul(r)).toNumber()}),_E);return l(0,e)}function eU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Er(0),tickMin:new Er(0),tickMax:new Er(0)};var a=ZF(new Er(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Er(0):(s=new Er(t).add(e).div(2),s=s.sub(new Er(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Er(e).sub(s).div(a).toNumber()),d=l+c+1;return d>n?eU(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:a,tickMin:s.sub(new Er(l).mul(a)),tickMax:s.add(new Er(c).mul(a))})}function Hne(t){var e=b0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=QF([n,r]),c=b0(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(AE(_E(0,i-1).map(function(){return 1/0}))):[].concat(AE(_E(0,i-1).map(function(){return-1/0})),[h]);return n>r?wE(m):m}if(d===h)return $ne(d,i,a);var g=eU(d,h,s,a),y=g.step,N=g.tickMin,A=g.tickMax,S=lb.rangeStep(N,A.add(new Er(.1).mul(y)),y);return n>r?wE(S):S}function Gne(t,e){var n=b0(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=QF([r,i]),l=b0(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var h=Math.max(e,2),m=ZF(new Er(d).sub(c).div(h-1),a,0),g=[].concat(AE(lb.rangeStep(new Er(c),new Er(d).sub(new Er(.99).mul(m)),m)),[d]);return r>i?wE(g):g}var Wne=XF(Hne),Kne=XF(Gne),Yne="Invariant failed";function rh(t,e){throw new Error(Yne)}var Xne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(this,arguments)}function Jne(t,e){return tre(t)||ere(t,e)||Zne(t,e)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zne(t,e){if(t){if(typeof t=="string")return aj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aj(t,e)}}function aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ere(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function tre(t){if(Array.isArray(t))return t}function nre(t,e){if(t==null)return{};var n=rre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function are(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function sre(t,e,n){return e&&are(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ore(t,e,n){return e=z1(e),lre(t,tU()?Reflect.construct(e,n||[],z1(t).constructor):e.apply(t,n))}function lre(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cre(t)}function cre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!t})()}function z1(t){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z1(t)}function ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function nU(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=dre(t,"string");return Xp(e)=="symbol"?e:e+""}function dre(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cb=(function(t){function e(){return ire(this,e),ore(this,e,arguments)}return ure(e,t),sre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,g=nre(r,Xne),y=On(g,!1);this.props.direction==="x"&&h.type!=="number"&&rh();var N=c.map(function(A){var S=d(A,l),C=S.x,R=S.y,P=S.value,U=S.errorVal;if(!U)return null;var L=[],z,k;if(Array.isArray(U)){var O=Jne(U,2);z=O[0],k=O[1]}else z=k=U;if(a==="vertical"){var V=h.scale,W=R+i,B=W+s,D=W-s,F=V(P-z),Q=V(P+k);L.push({x1:Q,y1:B,x2:Q,y2:D}),L.push({x1:F,y1:W,x2:Q,y2:W}),L.push({x1:F,y1:B,x2:F,y2:D})}else if(a==="horizontal"){var oe=m.scale,K=C+i,ee=K-s,se=K+s,_e=oe(P-z),xe=oe(P+k);L.push({x1:ee,y1:xe,x2:se,y2:xe}),L.push({x1:K,y1:_e,x2:K,y2:xe}),L.push({x1:ee,y1:_e,x2:se,y2:_e})}return Oe.createElement(ci,V1({className:"recharts-errorBar",key:"bar-".concat(L.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},y),L.map(function(ce){return Oe.createElement("line",V1({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return Oe.createElement(ci,{className:"recharts-errorBars"},N)}}])})(Oe.Component);nU(cb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nU(cb,"displayName","ErrorBar");function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return _0(e)=="symbol"?e:e+""}function pre(t,e){if(_0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=fo(n,Tp);if(!s)return null;var l=Tp.defaultProps,c=l!==void 0?Pf(Pf({},l),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:a==="children"?d=(r||[]).reduce(function(h,m){var g=m.item,y=m.props,N=y.sectors||y.data||[];return h.concat(N.map(function(A){return{type:s.props.iconType||g.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):d=(r||[]).map(function(h){var m=h.item,g=m.type.defaultProps,y=g!==void 0?Pf(Pf({},g),m.props):{},N=y.dataKey,A=y.name,S=y.legendType,C=y.hide;return{inactive:C,dataKey:N,type:c.iconType||S||"square",color:oC(m),value:A||N,payload:y}}),Pf(Pf(Pf({},c),Tp.getWithHeight(s,i)),{},{payload:d,item:s})};function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function oj(t){return yre(t)||vre(t)||gre(t)||mre()}function mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return NE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(t,e)}}function vre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yre(t){if(Array.isArray(t))return NE(t)}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){Ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ip(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=bre(t,"string");return w0(e)=="symbol"?e:e+""}function bre(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yo(t,e,n){return qn(t)||qn(e)?n:ea(e)?$o(t,e,n):An(e)?e(t):n}function Wg(t,e,n,r){var i=yne(t,function(l){return yo(l,e)});if(n==="number"){var a=i.filter(function(l){return At(l)||parseFloat(l)});return a.length?[sb(a),Od(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!qn(l)}):i;return s.map(function(l){return ea(l)||l instanceof Date?l:""})}var _re=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var h=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,g=d>=l-1?i[0].coordinate:i[d+1].coordinate,y=void 0;if(Tl(m-h)!==Tl(g-m)){var N=[];if(Tl(g-m)===Tl(c[1]-c[0])){y=g;var A=m+c[1]-c[0];N[0]=Math.min(A,(A+h)/2),N[1]=Math.max(A,(A+h)/2)}else{y=h;var S=g+c[1]-c[0];N[0]=Math.min(m,(S+m)/2),N[1]=Math.max(m,(S+m)/2)}var C=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>C[0]&&e<=C[1]||e>=N[0]&&e<=N[1]){s=i[d].index;break}}else{var R=Math.min(h,g),P=Math.max(h,g);if(e>(R+m)/2&&e<=(P+m)/2){s=i[d].index;break}}}else for(var U=0;U<l;U++)if(U===0&&e<=(r[U].coordinate+r[U+1].coordinate)/2||U>0&&U<l-1&&e>(r[U].coordinate+r[U-1].coordinate)/2&&e<=(r[U].coordinate+r[U+1].coordinate)/2||U===l-1&&e>(r[U].coordinate+r[U-1].coordinate)/2){s=r[U].index;break}return s},oC=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vi(vi({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},wre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),g=0,y=m.length;g<y;g++){var N=h[m[g]],A=N.items,S=N.cateAxisId,C=A.filter(function(k){return wu(k.type).indexOf("Bar")>=0});if(C&&C.length){var R=C[0].type.defaultProps,P=R!==void 0?vi(vi({},R),C[0].props):C[0].props,U=P.barSize,L=P[S];s[L]||(s[L]=[]);var z=qn(U)?n:U;s[L].push({item:C[0],stackList:C.slice(1),barSize:qn(z)?void 0:th(z,r,0)})}}return s},Are=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var d=th(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var g=!1,y=i/c,N=s.reduce(function(U,L){return U+L.barSize||0},0);N+=(c-1)*d,N>=i&&(N-=(c-1)*d,d=0),N>=i&&y>0&&(g=!0,y*=.9,N=c*y);var A=(i-N)/2>>0,S={offset:A-d,size:0};h=s.reduce(function(U,L){var z={item:L.item,position:{offset:S.offset+S.size+d,size:g?y:L.barSize}},k=[].concat(oj(U),[z]);return S=k[k.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(O){k.push({item:O,position:S})}),k},m)}else{var C=th(r,i,0,!0);i-2*C-(c-1)*d<=0&&(d=0);var R=(i-2*C-(c-1)*d)/c;R>1&&(R>>=0);var P=l===+l?Math.min(R,l):R;h=s.reduce(function(U,L,z){var k=[].concat(oj(U),[{item:L.item,position:{offset:C+(R+d)*z+(R-P)/2,size:P}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},m)}return h},Sre=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),d=iU({children:a,legendWidth:c});if(d){var h=i||{},m=h.width,g=h.height,y=d.align,N=d.verticalAlign,A=d.layout;if((A==="vertical"||A==="horizontal"&&N==="middle")&&y!=="center"&&At(e[y]))return vi(vi({},e),{},Ip({},y,e[y]+(m||0)));if((A==="horizontal"||A==="vertical"&&y==="center")&&N!=="middle"&&At(e[N]))return vi(vi({},e),{},Ip({},N,e[N]+(g||0)))}return e},Ere=function(e,n,r){return qn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},aU=function(e,n,r,i,a){var s=n.props.children,l=Il(s,cb).filter(function(d){return Ere(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=yo(h,r);if(qn(m))return d;var g=Array.isArray(m)?[sb(m),Od(m)]:[m,m],y=c.reduce(function(N,A){var S=yo(h,A,0),C=g[0]-Math.abs(Array.isArray(S)?S[0]:S),R=g[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(C,N[0]),Math.max(R,N[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},Nre=function(e,n,r,i,a){var s=n.map(function(l){return aU(e,l,r,a,i)}).filter(function(l){return!qn(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},sU=function(e,n,r,i,a){var s=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&aU(e,c,d,i)||Wg(e,d,r,a)});if(r==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},oU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lU=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},yu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Tl(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=a?a.indexOf(m):m;return{coordinate:i(g)+d,value:m,offset:d}});return h.filter(function(m){return!_m(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+d,value:m,index:g,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,g){return{coordinate:i(m)+d,value:a?a[m]:m,index:g,offset:d}})},FA=new WeakMap,xy=function(e,n){if(typeof n!="function")return e;FA.has(e)||FA.set(e,new WeakMap);var r=FA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Tre=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:h0(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:L1(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gg(),realScaleType:"point"}:a==="category"?{scale:h0(),realScaleType:"band"}:{scale:L1(),realScaleType:"linear"};if(eh(i)){var c="scale".concat(Wx(i));return{scale:(WO[c]||Gg)(),realScaleType:WO[c]?c:"point"}}return An(i)?{scale:i}:{scale:Gg(),realScaleType:"point"}},cj=1e-4,Cre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-cj,s=Math.max(i[0],i[1])+cj,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},Ire=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Rre=function(e,n){if(!n||n.length!==2||!At(n[0])||!At(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!At(e[0])||e[0]<r)&&(a[0]=r),(!At(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},kre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=_m(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},Pre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=_m(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Ore={sign:kre,expand:mX,none:Vp,silhouette:gX,wiggle:vX,positive:Pre},jre=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=Ore[r],s=pX().keys(i).value(function(l,c){return+yo(l,c,0)}).order(nE).offset(a);return s(e)},Mre=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},d=l.reduce(function(m,g){var y,N=(y=g.type)!==null&&y!==void 0&&y.defaultProps?vi(vi({},g.type.defaultProps),g.props):g.props,A=N.stackId,S=N.hide;if(S)return m;var C=N[r],R=m[C]||{hasStack:!1,stackGroups:{}};if(ea(A)){var P=R.stackGroups[A]||{numericAxisId:r,cateAxisId:i,items:[]};P.items.push(g),R.hasStack=!0,R.stackGroups[A]=P}else R.stackGroups[tv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return vi(vi({},m),{},Ip({},C,R))},c),h={};return Object.keys(d).reduce(function(m,g){var y=d[g];if(y.hasStack){var N={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(A,S){var C=y.stackGroups[S];return vi(vi({},A),{},Ip({},S,{numericAxisId:r,cateAxisId:i,items:C.items,stackedData:jre(e,C.items,a)}))},N)}return vi(vi({},m),{},Ip({},g,y))},h)},Dre=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=Wne(d,a,l);return e.domain([sb(h),Od(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),g=Kne(m,a,l);return{niceTicks:g}}return null};function uj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qn(i[e.dataKey])){var l=g1(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=yo(i,qn(s)?e.dataKey:s);return qn(c)?null:e.scale(c)}var dj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=yo(s,n.dataKey,n.domain[l]);return qn(c)?null:n.scale(c)-a/2+i},Lre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Fre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vi(vi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ea(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Ure=function(e){return e.reduce(function(n,r){return[sb(r.concat([n[0]]).filter(At)),Od(r.concat([n[1]]).filter(At))]},[1/0,-1/0])},cU=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(d,h){var m=Ure(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TE=function(e,n,r){if(An(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(At(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(fj.test(e[0])){var a=+fj.exec(e[0])[1];i[0]=n[0]-a}else An(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(At(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(hj.test(e[1])){var s=+hj.exec(e[1])[1];i[1]=n[1]+s}else An(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},$1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=MT(n,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},pj=function(e,n,r){return!e||!e.length||y0(e,$o(r,"type.defaultProps.domain"))?n:e},uU=function(e,n){var r=e.type.defaultProps?vi(vi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,h=r.hide;return vi(vi({},On(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:oC(e),value:yo(n,i),type:c,payload:n,chartType:d,hide:h})};function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return e=qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Vre(t,"string");return A0(e)=="symbol"?e:e+""}function Vre(t,e){if(A0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(A0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H1=Math.PI/180,zre=function(e){return e*180/Math.PI},Oa=function(e,n,r,i){return{x:e+Math.cos(-H1*i)*r,y:n+Math.sin(-H1*i)*r}},$re=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},Hre=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=$re({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:l,angle:zre(d),angleInRadian:d}},Gre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Wre=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},vj=function(e,n){var r=e.x,i=e.y,a=Hre({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var h=Gre(n),m=h.startAngle,g=h.endAngle,y=l,N;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;N=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;N=y>=g&&y<=m}return N?gj(gj({},n),{},{radius:s,angle:Wre(y,n)}):null};function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}var Kre=["offset"];function Yre(t){return Zre(t)||Qre(t)||Jre(t)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function Qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zre(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eie(t,e){if(t==null)return{};var n=tie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return e=rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return S0(e)=="symbol"?e:e+""}function iie(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(this,arguments)}var aie=function(e){var n=e.value,r=e.formatter,i=qn(e.children)?n:e.children;return An(r)?r(i):i},sie=function(e,n){var r=Tl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},oie=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,d=c.cx,h=c.cy,m=c.innerRadius,g=c.outerRadius,y=c.startAngle,N=c.endAngle,A=c.clockWise,S=(m+g)/2,C=sie(y,N),R=C>=0?1:-1,P,U;i==="insideStart"?(P=y+R*s,U=A):i==="insideEnd"?(P=N-R*s,U=!A):i==="end"&&(P=N+R*s,U=A),U=C<=0?U:!U;var L=Oa(d,h,S,P),z=Oa(d,h,S,P+(U?1:-1)*359),k="M".concat(L.x,",").concat(L.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(U?0:1,`,
    `).concat(z.x,",").concat(z.y),O=qn(e.id)?tv("recharts-radial-line-"):e.id;return Oe.createElement("text",E0({},r,{dominantBaseline:"central",className:Jn("recharts-radial-bar-label",l)}),Oe.createElement("defs",null,Oe.createElement("path",{id:O,d:k})),Oe.createElement("textPath",{xlinkHref:"#".concat(O)},n))},lie=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,h=a.startAngle,m=a.endAngle,g=(h+m)/2;if(i==="outside"){var y=Oa(s,l,d+r,g),N=y.x,A=y.y;return{x:N,y:A,textAnchor:N>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var S=(c+d)/2,C=Oa(s,l,S,g),R=C.x,P=C.y;return{x:R,y:P,textAnchor:"middle",verticalAnchor:"middle"}},cie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,d=s.width,h=s.height,m=h>=0?1:-1,g=m*i,y=m>0?"end":"start",N=m>0?"start":"end",A=d>=0?1:-1,S=A*i,C=A>0?"end":"start",R=A>0?"start":"end";if(a==="top"){var P={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:y};return Zi(Zi({},P),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var U={x:l+d/2,y:c+h+g,textAnchor:"middle",verticalAnchor:N};return Zi(Zi({},U),r?{height:Math.max(r.y+r.height-(c+h),0),width:d}:{})}if(a==="left"){var L={x:l-S,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return Zi(Zi({},L),r?{width:Math.max(L.x-r.x,0),height:h}:{})}if(a==="right"){var z={x:l+d+S,y:c+h/2,textAnchor:R,verticalAnchor:"middle"};return Zi(Zi({},z),r?{width:Math.max(r.x+r.width-z.x,0),height:h}:{})}var k=r?{width:d,height:h}:{};return a==="insideLeft"?Zi({x:l+S,y:c+h/2,textAnchor:R,verticalAnchor:"middle"},k):a==="insideRight"?Zi({x:l+d-S,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},k):a==="insideTop"?Zi({x:l+d/2,y:c+g,textAnchor:"middle",verticalAnchor:N},k):a==="insideBottom"?Zi({x:l+d/2,y:c+h-g,textAnchor:"middle",verticalAnchor:y},k):a==="insideTopLeft"?Zi({x:l+S,y:c+g,textAnchor:R,verticalAnchor:N},k):a==="insideTopRight"?Zi({x:l+d-S,y:c+g,textAnchor:C,verticalAnchor:N},k):a==="insideBottomLeft"?Zi({x:l+S,y:c+h-g,textAnchor:R,verticalAnchor:y},k):a==="insideBottomRight"?Zi({x:l+d-S,y:c+h-g,textAnchor:C,verticalAnchor:y},k):bm(a)&&(At(a.x)||Uf(a.x))&&(At(a.y)||Uf(a.y))?Zi({x:l+th(a.x,d),y:c+th(a.y,h),textAnchor:"end",verticalAnchor:"end"},k):Zi({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},uie=function(e){return"cx"in e&&At(e.cx)};function ns(t){var e=t.offset,n=e===void 0?5:e,r=eie(t,Kre),i=Zi({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,d=i.content,h=i.className,m=h===void 0?"":h,g=i.textBreakAll;if(!a||qn(l)&&qn(c)&&!ye.isValidElement(d)&&!An(d))return null;if(ye.isValidElement(d))return ye.cloneElement(d,i);var y;if(An(d)){if(y=ye.createElement(d,i),ye.isValidElement(y))return y}else y=aie(i);var N=uie(a),A=On(i,!0);if(N&&(s==="insideStart"||s==="insideEnd"||s==="end"))return oie(i,y,A);var S=N?lie(i):cie(i);return Oe.createElement(I1,E0({className:Jn("recharts-label",m)},A,S,{breakAll:g}),y)}ns.displayName="Label";var dU=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,y=e.top,N=e.left,A=e.width,S=e.height,C=e.clockWise,R=e.labelViewBox;if(R)return R;if(At(A)&&At(S)){if(At(m)&&At(g))return{x:m,y:g,width:A,height:S};if(At(y)&&At(N))return{x:y,y:N,width:A,height:S}}return At(m)&&At(g)?{x:m,y:g,width:0,height:0}:At(n)&&At(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:C}:e.viewBox?e.viewBox:{}},die=function(e,n){return e?e===!0?Oe.createElement(ns,{key:"label-implicit",viewBox:n}):ea(e)?Oe.createElement(ns,{key:"label-implicit",viewBox:n,value:e}):ye.isValidElement(e)?e.type===ns?ye.cloneElement(e,{key:"label-implicit",viewBox:n}):Oe.createElement(ns,{key:"label-implicit",content:e,viewBox:n}):An(e)?Oe.createElement(ns,{key:"label-implicit",content:e,viewBox:n}):bm(e)?Oe.createElement(ns,E0({viewBox:n},e,{key:"label-implicit"})):null:null},fie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=dU(e),s=Il(i,ns).map(function(c,d){return ye.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return s;var l=die(e.label,n||a);return[l].concat(Yre(s))};ns.parseViewBox=dU;ns.renderCallByParent=fie;var UA,xj;function hie(){if(xj)return UA;xj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return UA=t,UA}var pie=hie();const mie=Nr(pie);function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}var gie=["valueAccessor"],vie=["data","dataKey","clockWise","id","textBreakAll"];function yie(t){return wie(t)||_ie(t)||bie(t)||xie()}function xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function _ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wie(t){if(Array.isArray(t))return IE(t)}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Eie(t,"string");return N0(e)=="symbol"?e:e+""}function Eie(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wj(t,e){if(t==null)return{};var n=Nie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tie=function(e){return Array.isArray(e.value)?mie(e.value):e.value};function Bd(t){var e=t.valueAccessor,n=e===void 0?Tie:e,r=wj(t,gie),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,d=wj(r,vie);return!i||!i.length?null:Oe.createElement(ci,{className:"recharts-label-list"},i.map(function(h,m){var g=qn(a)?n(h,m):yo(h&&h.payload,a),y=qn(l)?{}:{id:"".concat(l,"-").concat(m)};return Oe.createElement(ns,G1({},On(h,!0),d,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:ns.parseViewBox(qn(s)?h:_j(_j({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Bd.displayName="LabelList";function Cie(t,e){return t?t===!0?Oe.createElement(Bd,{key:"labelList-implicit",data:e}):Oe.isValidElement(t)||An(t)?Oe.createElement(Bd,{key:"labelList-implicit",data:e,content:t}):bm(t)?Oe.createElement(Bd,G1({data:e},t,{key:"labelList-implicit"})):null:null}function Iie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Il(r,Bd).map(function(s,l){return ye.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Cie(t.label,e);return[a].concat(yie(i))}Bd.renderCallByParent=Iie;function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){Rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rie(t,e,n){return e=kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Pie(t,"string");return T0(e)=="symbol"?e:e+""}function Pie(t,e){if(T0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oie=function(e,n){var r=Tl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},by=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/H1,g=d?a:a+s*m,y=Oa(n,r,h,g),N=Oa(n,r,i,g),A=d?a-s*m:a,S=Oa(n,r,h*Math.cos(m*H1),A);return{center:y,circleTangency:N,lineTangency:S,theta:m}},fU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=Oie(s,l),d=s+c,h=Oa(n,r,a,s),m=Oa(n,r,a,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var y=Oa(n,r,i,s),N=Oa(n,r,i,d);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},jie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=Tl(h-d),g=by({cx:n,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),y=g.circleTangency,N=g.lineTangency,A=g.theta,S=by({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=S.circleTangency,R=S.lineTangency,P=S.theta,U=c?Math.abs(d-h):Math.abs(d-h)-A-P;if(U<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):fU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var L="M ".concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var z=by({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=z.circleTangency,O=z.lineTangency,V=z.theta,W=by({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),B=W.circleTangency,D=W.lineTangency,F=W.theta,Q=c?Math.abs(d-h):Math.abs(d-h)-V-F;if(Q<0&&s===0)return"".concat(L,"L").concat(n,",").concat(r,"Z");L+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else L+="L".concat(n,",").concat(r,"Z");return L},Mie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hU=function(e){var n=Sj(Sj({},Mie),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,g=n.className;if(s<a||h===m)return null;var y=Jn("recharts-sector",g),N=s-a,A=th(l,N,0,!0),S;return A>0&&Math.abs(h-m)<360?S=jie({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(A,N/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):S=fU({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),Oe.createElement("path",RE({},On(n,!0),{className:y,d:S,role:"img"}))};function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return e=Lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Fie(t,"string");return C0(e)=="symbol"?e:e+""}function Fie(t,e){if(C0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tj={curveBasisClosed:rX,curveBasisOpen:iX,curveBasis:nX,curveBumpX:VY,curveBumpY:zY,curveLinearClosed:aX,curveLinear:Yx,curveMonotoneX:sX,curveMonotoneY:oX,curveNatural:lX,curveStep:cX,curveStepAfter:dX,curveStepBefore:uX},_y=function(e){return e.x===+e.x&&e.y===+e.y},Ag=function(e){return e.x},Sg=function(e){return e.y},Uie=function(e,n){if(An(e))return e;var r="curve".concat(Wx(e));return(r==="curveMonotone"||r==="curveBump")&&n?Tj["".concat(r).concat(n==="vertical"?"Y":"X")]:Tj[r]||Yx},Bie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=Uie(r,l),m=d?a.filter(function(A){return _y(A)}):a,g;if(Array.isArray(s)){var y=d?s.filter(function(A){return _y(A)}):s,N=m.map(function(A,S){return Nj(Nj({},A),{},{base:y[S]})});return l==="vertical"?g=fy().y(Sg).x1(Ag).x0(function(A){return A.base.x}):g=fy().x(Ag).y1(Sg).y0(function(A){return A.base.y}),g.defined(_y).curve(h),g(N)}return l==="vertical"&&At(s)?g=fy().y(Sg).x1(Ag).x0(s):At(s)?g=fy().x(Ag).y1(Sg).y0(s):g=y9().x(Ag).y(Sg),g.defined(_y).curve(h),g(m)},Kg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Bie(e):i;return ye.createElement("path",kE({},On(e,!1),v1(e),{className:Jn("recharts-curve",n),d:s,ref:a}))},BA={exports:{}},qA,Cj;function qie(){if(Cj)return qA;Cj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qA=t,qA}var VA,Ij;function Vie(){if(Ij)return VA;Ij=1;var t=qie();function e(){}function n(){}return n.resetWarningCache=e,VA=function(){function r(s,l,c,d,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},VA}var Rj;function zie(){return Rj||(Rj=1,BA.exports=Vie()()),BA.exports}var $ie=zie();const fr=Nr($ie),{getOwnPropertyNames:Hie,getOwnPropertySymbols:Gie}=Object,{hasOwnProperty:Wie}=Object.prototype;function zA(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function wy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function Kie(t){return t!=null?t[Symbol.toStringTag]:void 0}function kj(t){return Hie(t).concat(Gie(t))}const Yie=Object.hasOwn||((t,e)=>Wie.call(t,e));function mh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Xie="__v",Jie="__o",Qie="_owner",{getOwnPropertyDescriptor:Pj,keys:Oj}=Object;function Zie(t,e){return t.byteLength===e.byteLength&&W1(new Uint8Array(t),new Uint8Array(e))}function eae(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function tae(t,e){return t.byteLength===e.byteLength&&W1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function nae(t,e){return mh(t.getTime(),e.getTime())}function rae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function iae(t,e){return t===e}function jj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const d=e.entries();let h=!1,m=0;for(;(l=d.next())&&!l.done;){if(i[m]){m++;continue}const g=s.value,y=l.value;if(n.equals(g[0],y[0],c,m,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const aae=mh;function sae(t,e,n){const r=Oj(t);let i=r.length;if(Oj(e).length!==i)return!1;for(;i-- >0;)if(!pU(t,e,n,r[i]))return!1;return!0}function Eg(t,e,n){const r=kj(t);let i=r.length;if(kj(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!pU(t,e,n,a)||(s=Pj(t,a),l=Pj(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function oae(t,e){return mh(t.valueOf(),e.valueOf())}function lae(t,e){return t.source===e.source&&t.flags===e.flags}function Mj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const c=e.values();let d=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function W1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function cae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function pU(t,e,n,r){return(r===Qie||r===Jie||r===Xie)&&(t.$$typeof||e.$$typeof)?!0:Yie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const uae="[object ArrayBuffer]",dae="[object Arguments]",fae="[object Boolean]",hae="[object DataView]",pae="[object Date]",mae="[object Error]",gae="[object Map]",vae="[object Number]",yae="[object Object]",xae="[object RegExp]",bae="[object Set]",_ae="[object String]",wae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Aae="[object URL]",Sae=Object.prototype.toString;function Eae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:N}){return function(S,C,R){if(S===C)return!0;if(S==null||C==null)return!1;const P=typeof S;if(P!==typeof C)return!1;if(P!=="object")return P==="number"?l(S,C,R):P==="function"?a(S,C,R):!1;const U=S.constructor;if(U!==C.constructor)return!1;if(U===Object)return c(S,C,R);if(Array.isArray(S))return e(S,C,R);if(U===Date)return r(S,C,R);if(U===RegExp)return h(S,C,R);if(U===Map)return s(S,C,R);if(U===Set)return m(S,C,R);const L=Sae.call(S);if(L===pae)return r(S,C,R);if(L===xae)return h(S,C,R);if(L===gae)return s(S,C,R);if(L===bae)return m(S,C,R);if(L===yae)return typeof S.then!="function"&&typeof C.then!="function"&&c(S,C,R);if(L===Aae)return y(S,C,R);if(L===mae)return i(S,C,R);if(L===dae)return c(S,C,R);if(wae[L])return g(S,C,R);if(L===uae)return t(S,C,R);if(L===hae)return n(S,C,R);if(L===fae||L===vae||L===_ae)return d(S,C,R);if(N){let z=N[L];if(!z){const k=Kie(S);k&&(z=N[k])}if(z)return z(S,C,R)}return!1}}function Nae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Zie,areArraysEqual:n?Eg:eae,areDataViewsEqual:tae,areDatesEqual:nae,areErrorsEqual:rae,areFunctionsEqual:iae,areMapsEqual:n?zA(jj,Eg):jj,areNumbersEqual:aae,areObjectsEqual:n?Eg:sae,arePrimitiveWrappersEqual:oae,areRegExpsEqual:lae,areSetsEqual:n?zA(Mj,Eg):Mj,areTypedArraysEqual:n?zA(W1,Eg):W1,areUrlsEqual:cae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=wy(r.areArraysEqual),a=wy(r.areMapsEqual),s=wy(r.areObjectsEqual),l=wy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function Tae(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function Cae({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:d,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const Iae=cf();cf({strict:!0});cf({circular:!0});cf({circular:!0,strict:!0});cf({createInternalComparator:()=>mh});cf({strict:!0,createInternalComparator:()=>mh});cf({circular:!0,createInternalComparator:()=>mh});cf({circular:!0,createInternalComparator:()=>mh,strict:!0});function cf(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Nae(t),s=Eae(a),l=n?n(s):Tae(s);return Cae({circular:e,comparator:s,createState:r,equals:l,strict:i})}function Rae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Dj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Rae(i)};requestAnimationFrame(r)}function PE(t){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(t)}function kae(t){return Mae(t)||jae(t)||Oae(t)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(t,e){if(t){if(typeof t=="string")return Lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mae(t){if(Array.isArray(t))return t}function Dae(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=kae(s),c=l[0],d=l.slice(1);if(typeof c=="number"){Dj(i.bind(null,d),c);return}i(c),Dj(i.bind(null,d));return}PE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){mU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mU(t,e,n){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Fae(t,"string");return I0(e)==="symbol"?e:String(e)}function Fae(t,e){if(I0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Bae=function(e){return e},qae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Yg=function(e,n){return Object.keys(n).reduce(function(r,i){return Uj(Uj({},r),{},mU({},i,e(i,n[i])))},{})},Bj=function(e,n,r){return e.map(function(i){return"".concat(qae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Vae(t,e){return Hae(t)||$ae(t,e)||gU(t,e)||zae()}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Hae(t){if(Array.isArray(t))return t}function Gae(t){return Yae(t)||Kae(t)||gU(t)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function Kae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yae(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K1=1e-4,vU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},yU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},qj=function(e,n){return function(r){var i=vU(e,n);return yU(i,r)}},Xae=function(e,n){return function(r){var i=vU(e,n),a=[].concat(Gae(i.map(function(s,l){return s*l}).slice(1)),[0]);return yU(a,r)}},Vj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),h=Vae(d,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var m=qj(i,s),g=qj(a,l),y=Xae(i,s),N=function(C){return C>1?1:C<0?0:C},A=function(C){for(var R=C>1?1:C,P=R,U=0;U<8;++U){var L=m(P)-R,z=y(P);if(Math.abs(L-R)<K1||z<K1)return g(P);P=N(P-L/z)}return g(P)};return A.isStepper=!1,A},Jae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,g){var y=-(h-m)*r,N=g*a,A=g+(y-N)*l/1e3,S=g*l/1e3+h;return Math.abs(S-m)<K1&&Math.abs(A)<K1?[m,0]:[S,A]};return c.isStepper=!0,c.dt=l,c},Qae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vj(i);case"spring":return Jae();default:if(i.split("(")[0]==="cubic-bezier")return Vj(i)}return typeof i=="function"?i:null};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function zj(t){return tse(t)||ese(t)||xU(t)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tse(t){if(Array.isArray(t))return ME(t)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){jE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jE(t,e,n){return e=nse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return R0(e)==="symbol"?e:String(e)}function rse(t,e){if(R0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(R0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ise(t,e){return ose(t)||sse(t,e)||xU(t,e)||ase()}function ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xU(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function ose(t){if(Array.isArray(t))return t}var Y1=function(e,n,r){return e+(n-e)*r},DE=function(e){var n=e.from,r=e.to;return n!==r},lse=function t(e,n,r){var i=Yg(function(a,s){if(DE(s)){var l=e(s.from,s.to,s.velocity),c=ise(l,2),d=c[0],h=c[1];return Ra(Ra({},s),{},{from:d,velocity:h})}return s},n);return r<1?Yg(function(a,s){return DE(s)?Ra(Ra({},s),{},{velocity:Y1(s.velocity,i[a].velocity,r),from:Y1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const cse=(function(t,e,n,r,i){var a=Uae(t,e),s=a.reduce(function(S,C){return Ra(Ra({},S),{},jE({},C,[t[C],e[C]]))},{}),l=a.reduce(function(S,C){return Ra(Ra({},S),{},jE({},C,{from:t[C],velocity:0,to:e[C]}))},{}),c=-1,d,h,m=function(){return null},g=function(){return Yg(function(C,R){return R.from},l)},y=function(){return!Object.values(l).filter(DE).length},N=function(C){d||(d=C);var R=C-d,P=R/n.dt;l=lse(n,l,P),i(Ra(Ra(Ra({},t),e),g())),d=C,y()||(c=requestAnimationFrame(m))},A=function(C){h||(h=C);var R=(C-h)/r,P=Yg(function(L,z){return Y1.apply(void 0,zj(z).concat([n(R)]))},s);if(i(Ra(Ra(Ra({},t),e),P)),R<1)c=requestAnimationFrame(m);else{var U=Yg(function(L,z){return Y1.apply(void 0,zj(z).concat([n(1)]))},s);i(Ra(Ra(Ra({},t),e),U))}};return m=n.isStepper?N:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var use=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dse(t,e){if(t==null)return{};var n=fse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $A(t){return gse(t)||mse(t)||pse(t)||hse()}function hse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function mse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gse(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mg(t,e,n){return e=bU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bU(r.key),r)}}function xse(t,e,n){return e&&yse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bU(t){var e=bse(t,"string");return Jp(e)==="symbol"?e:String(e)}function bse(t,e){if(Jp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function wse(t){var e=Ase();return function(){var r=X1(t),i;if(e){var a=X1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return UE(this,i)}}function UE(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BE(t)}function BE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ase(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X1(t){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X1(t)}var Cu=(function(t){_se(n,t);var e=wse(n);function n(r,i){var a;vse(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,d=s.from,h=s.to,m=s.steps,g=s.children,y=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(BE(a)),a.changeStyle=a.changeStyle.bind(BE(a)),!l||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),UE(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof g=="function")return a.state={style:d},UE(a);a.state={style:c?Mg({},c,d):d}}else a.state={style:{}};return a}return xse(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,h=a.to,m=a.from,g=this.state.style;if(l){if(!s){var y={style:c?Mg({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(y);return}if(!(Iae(i.to,h)&&i.canBegin&&i.isActive)){var N=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=N||d?m:i.to;if(this.state&&g){var S={style:c?Mg({},c,A):A};(c&&g[c]!==A||!c&&g!==A)&&this.setState(S)}this.runAnimation(bl(bl({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,d=i.easing,h=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,y=cse(s,l,Qae(d),c,this.changeStyle),N=function(){a.stopJSAnimation=y()};this.manager.start([g,h,N,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,d=s[0],h=d.style,m=d.duration,g=m===void 0?0:m,y=function(A,S,C){if(C===0)return A;var R=S.duration,P=S.easing,U=P===void 0?"ease":P,L=S.style,z=S.properties,k=S.onAnimationEnd,O=C>0?s[C-1]:S,V=z||Object.keys(L);if(typeof U=="function"||U==="spring")return[].concat($A(A),[a.runJSAnimation.bind(a,{from:O.style,to:L,duration:R,easing:U}),R]);var W=Bj(V,R,U),B=bl(bl(bl({},O.style),L),{},{transition:W});return[].concat($A(A),[B,R,k]).filter(Bae)};return this.manager.start([c].concat($A(s.reduce(y,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Dae());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,d=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,y=i.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var A=l?Mg({},l,c):c,S=Bj(Object.keys(A),s,d);N.start([h,a,bl(bl({},A),{},{transition:S}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=dse(i,use),d=ye.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||d===0||s<=0)return a;var m=function(y){var N=y.props,A=N.style,S=A===void 0?{}:A,C=N.className,R=ye.cloneElement(y,bl(bl({},c),{},{style:bl(bl({},S),h),className:C}));return R};return d===1?m(ye.Children.only(a)):Oe.createElement("div",null,ye.Children.map(a,function(g){return m(g)}))}}]),n})(ye.PureComponent);Cu.displayName="Animate";Cu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cu.propTypes={from:fr.oneOfType([fr.object,fr.string]),to:fr.oneOfType([fr.object,fr.string]),attributeName:fr.string,duration:fr.number,begin:fr.number,easing:fr.oneOfType([fr.string,fr.func]),steps:fr.arrayOf(fr.shape({duration:fr.number.isRequired,style:fr.object.isRequired,easing:fr.oneOfType([fr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fr.func]),properties:fr.arrayOf("string"),onAnimationEnd:fr.func})),children:fr.oneOfType([fr.node,fr.func]),isActive:fr.bool,canBegin:fr.bool,onAnimationEnd:fr.func,shouldReAnimate:fr.bool,onAnimationStart:fr.func,onAnimationReStart:fr.func};function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(this,arguments)}function Sse(t,e){return Cse(t)||Tse(t,e)||Nse(t,e)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nse(t,e){if(t){if(typeof t=="string")return Gj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gj(t,e)}}function Gj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Cse(t){if(Array.isArray(t))return t}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return e=Rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=kse(t,"string");return k0(e)=="symbol"?e:e+""}function kse(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var N=Math.min(s,a);h="M ".concat(e,",").concat(n+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+c*N,",").concat(n,`
            L `).concat(e+r-c*N,",").concat(n,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*N,`
            L `).concat(e+r,",").concat(n+i-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r-c*N,",").concat(n+i,`
            L `).concat(e+c*N,",").concat(n+i,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*N," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Pse=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(s,s+c),g=Math.max(s,s+c);return r>=d&&r<=h&&i>=m&&i<=g}return!1},Ose={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lC=function(e){var n=Kj(Kj({},Ose),e),r=ye.useRef(),i=ye.useState(-1),a=Sse(i,2),s=a[0],l=a[1];ye.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&l(U)}catch{}},[]);var c=n.x,d=n.y,h=n.width,m=n.height,g=n.radius,y=n.className,N=n.animationEasing,A=n.animationDuration,S=n.animationBegin,C=n.isAnimationActive,R=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var P=Jn("recharts-rectangle",y);return R?Oe.createElement(Cu,{canBegin:s>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:A,animationEasing:N,isActive:R},function(U){var L=U.width,z=U.height,k=U.x,O=U.y;return Oe.createElement(Cu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:A,isActive:C,easing:N},Oe.createElement("path",J1({},On(n,!0),{className:P,d:Yj(k,O,L,z,g),ref:r})))}):Oe.createElement("path",J1({},On(n,!0),{className:P,d:Yj(c,d,h,m,g)}))};function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}var cC=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Jn("recharts-dot",a);return n===+n&&r===+r&&i===+i?ye.createElement("circle",qE({},On(e,!1),v1(e),{className:s,cx:n,cy:r,r:i})):null};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}var jse=["x","y","top","left","width","height","className"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(this,arguments)}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dse(t,e,n){return e=Lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lse(t){var e=Fse(t,"string");return P0(e)=="symbol"?e:e+""}function Fse(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Use(t,e){if(t==null)return{};var n=Bse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qse=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Vse=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,d=c===void 0?0:c,h=e.width,m=h===void 0?0:h,g=e.height,y=g===void 0?0:g,N=e.className,A=Use(e,jse),S=Mse({x:r,y:a,top:l,left:d,width:m,height:y},A);return!At(r)||!At(a)||!At(m)||!At(y)||!At(l)||!At(d)?null:Oe.createElement("path",VE({},On(S,!0),{className:Jn("recharts-cross",N),d:qse(r,a,m,y,l,d)}))},HA,Jj;function zse(){if(Jj)return HA;Jj=1;var t=q9(),e=t(Object.getPrototypeOf,Object);return HA=e,HA}var GA,Qj;function $se(){if(Qj)return GA;Qj=1;var t=Mu(),e=zse(),n=Du(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return GA=d,GA}var Hse=$se();const Gse=Nr(Hse);var WA,Zj;function Wse(){if(Zj)return WA;Zj=1;var t=Mu(),e=Du(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return WA=r,WA}var Kse=Wse();const Yse=Nr(Kse);function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function Xse(t,e){return eoe(t)||Zse(t,e)||Qse(t,e)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qse(t,e){if(t){if(typeof t=="string")return eM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eM(t,e)}}function eM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function eoe(t){if(Array.isArray(t))return t}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){toe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function toe(t,e,n){return e=noe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function noe(t){var e=roe(t,"string");return O0(e)=="symbol"?e:e+""}function roe(t,e){if(O0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rM=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},ioe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aoe=function(e){var n=nM(nM({},ioe),e),r=ye.useRef(),i=ye.useState(-1),a=Xse(i,2),s=a[0],l=a[1];ye.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,g=n.height,y=n.className,N=n.animationEasing,A=n.animationDuration,S=n.animationBegin,C=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var R=Jn("recharts-trapezoid",y);return C?Oe.createElement(Cu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:g,x:c,y:d},duration:A,animationEasing:N,isActive:C},function(P){var U=P.upperWidth,L=P.lowerWidth,z=P.height,k=P.x,O=P.y;return Oe.createElement(Cu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:A,easing:N},Oe.createElement("path",Q1({},On(n,!0),{className:R,d:rM(k,O,U,L,z),ref:r})))}):Oe.createElement("g",null,Oe.createElement("path",Q1({},On(n,!0),{className:R,d:rM(c,d,h,m,g)})))},soe=["option","shapeType","propTransformer","activeClassName","isActive"];function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function ooe(t,e){if(t==null)return{};var n=loe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function loe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return e=uoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uoe(t){var e=doe(t,"string");return j0(e)=="symbol"?e:e+""}function doe(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function foe(t,e){return Z1(Z1({},e),t)}function hoe(t,e){return t==="symbols"}function aM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Oe.createElement(lC,n);case"trapezoid":return Oe.createElement(aoe,n);case"sector":return Oe.createElement(hU,n);case"symbols":if(hoe(e))return Oe.createElement(TT,n);break;default:return null}}function poe(t){return ye.isValidElement(t)?t.props:t}function moe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?foe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=ooe(t,soe),d;if(ye.isValidElement(e))d=ye.cloneElement(e,Z1(Z1({},c),poe(e)));else if(An(e))d=e(c);else if(Gse(e)&&!Yse(e)){var h=i(e,c);d=Oe.createElement(aM,{shapeType:n,elementProps:h})}else{var m=c;d=Oe.createElement(aM,{shapeType:n,elementProps:m})}return l?Oe.createElement(ci,{className:s},d):d}function ub(t,e){return e!=null&&"trapezoids"in t.props}function db(t,e){return e!=null&&"sectors"in t.props}function M0(t,e){return e!=null&&"points"in t.props}function goe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function voe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function yoe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function xoe(t,e){var n;return ub(t,e)?n=goe:db(t,e)?n=voe:M0(t,e)&&(n=yoe),n}function boe(t,e){var n;return ub(t,e)?n="trapezoids":db(t,e)?n="sectors":M0(t,e)&&(n="points"),n}function _oe(t,e){if(ub(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(db(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return M0(t,e)?e.payload:{}}function woe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=boe(n,e),a=_oe(n,e),s=r.filter(function(c,d){var h=y0(a,c),m=n.props[i].filter(function(N){var A=xoe(n,e);return A(N,e)}),g=n.props[i].indexOf(m[m.length-1]),y=d===g;return h&&y}),l=r.indexOf(s[s.length-1]);return l}var KA,sM;function Aoe(){if(sM)return KA;sM=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var l=-1,c=e(t((i-r)/(a||1)),0),d=Array(c);c--;)d[s?c:++l]=r,r+=a;return d}return KA=n,KA}var YA,oM;function _U(){if(oM)return YA;oM=1;var t=rF(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return YA=r,YA}var XA,lM;function Soe(){if(lM)return XA;lM=1;var t=Aoe(),e=Zx(),n=_U();function r(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),t(a,s,l,i)}}return XA=r,XA}var JA,cM;function Eoe(){if(cM)return JA;cM=1;var t=Soe(),e=t();return JA=e,JA}var Noe=Eoe();const ex=Nr(Noe);function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){wU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wU(t,e,n){return e=Toe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=Coe(t,"string");return D0(e)=="symbol"?e:e+""}function Coe(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ioe=["Webkit","Moz","O","ms"],Roe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ioe.reduce(function(a,s){return dM(dM({},a),{},wU({},s+r,n))},{});return i[e]=n,i};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function Poe(t,e,n){return e&&hM(t.prototype,e),n&&hM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ooe(t,e,n){return e=nx(e),joe(t,AU()?Reflect.construct(e,n||[],nx(t).constructor):e.apply(t,n))}function joe(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Moe(t)}function Moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(t)}function Doe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function uo(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SU(t){var e=Loe(t,"string");return Qp(e)=="symbol"?e:e+""}function Loe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Foe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Gg().domain(ex(0,c)).range([a,a+s-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},pM=function(e){return e.changedTouches&&!!e.changedTouches.length},Zp=(function(t){function e(n){var r;return koe(this,e),r=Ooe(this,e,[n]),uo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),uo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),uo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),uo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),uo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),uo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),uo(r,"handleSlideDragStart",function(i){var a=pM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Doe(e,t),Poe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(s,m),N=e.getIndexInRange(s,g);return{startIndex:y-y%c,endIndex:N===h?h:N-N%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=yo(a[r],l,r);return An(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,g=c.startIndex,y=c.endIndex,N=c.onChange,A=r.pageX-a;A>0?A=Math.min(A,d+h-m-l,d+h-m-s):A<0&&(A=Math.max(A,d-s,d-l));var S=this.getIndex({startX:s+A,endX:l+A});(S.startIndex!==g||S.endIndex!==y)&&N&&N(S),this.setState({startX:s+A,endX:l+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=pM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[s],h=this.props,m=h.x,g=h.width,y=h.travellerWidth,N=h.onChange,A=h.gap,S=h.data,C={startX:this.state.startX,endX:this.state.endX},R=r.pageX-a;R>0?R=Math.min(R,m+g-y-d):R<0&&(R=Math.max(R,m-d)),C[s]=d+R;var P=this.getIndex(C),U=P.startIndex,L=P.endIndex,z=function(){var O=S.length-1;return s==="startX"&&(l>c?U%A===0:L%A===0)||l<c&&L===O||s==="endX"&&(l>c?L%A===0:U%A===0)||l>c&&L===O};this.setState(uo(uo({},s,d+R),"brushMoveStartX",r.pageX),function(){N&&z()&&N(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,d=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var g=m+r;if(!(g===-1||g>=l.length)){var y=l[g];i==="startX"&&y>=d||i==="endX"&&y<=c||this.setState(uo({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,d=r.stroke;return Oe.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,d=r.children,h=r.padding,m=ye.Children.only(d);return m?Oe.cloneElement(m,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,g=c.traveller,y=c.ariaLabel,N=c.data,A=c.startIndex,S=c.endIndex,C=Math.max(r,this.props.x),R=QA(QA({},On(this.props,!1)),{},{x:C,y:d,width:h,height:m}),P=y||"Min value: ".concat((a=N[A])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=N[S])===null||s===void 0?void 0:s.name);return Oe.createElement(ci,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),l.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,R))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,h=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return Oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,g=h.endX,y=5,N={pointerEvents:"none",fill:d};return Oe.createElement(ci,{className:"recharts-brush-texts"},Oe.createElement(I1,tx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:s+l/2},N),this.getTextOfTick(i)),Oe.createElement(I1,tx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+y,y:s+l/2},N),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,d=r.width,h=r.height,m=r.alwaysShowText,g=this.state,y=g.startX,N=g.endX,A=g.isTextActive,S=g.isSlideMoving,C=g.isTravellerMoving,R=g.isTravellerFocused;if(!i||!i.length||!At(l)||!At(c)||!At(d)||!At(h)||d<=0||h<=0)return null;var P=Jn("recharts-brush",a),U=Oe.Children.count(s)===1,L=Roe("userSelect","none");return Oe.createElement(ci,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),U&&this.renderPanorama(),this.renderSlide(y,N),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(N,"endX"),(A||S||C||R||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return Oe.createElement(Oe.Fragment,null,Oe.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),Oe.createElement("line",{x1:i+1,y1:d,x2:i+s-1,y2:d,fill:"none",stroke:"#fff"}),Oe.createElement("line",{x1:i+1,y1:d+2,x2:i+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Oe.isValidElement(r)?a=Oe.cloneElement(r,i):An(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return QA({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s},a&&a.length?Foe({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(ye.PureComponent);uo(Zp,"displayName","Brush");uo(Zp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ZA,mM;function Uoe(){if(mM)return ZA;mM=1;var t=jT();function e(n,r){var i;return t(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return ZA=e,ZA}var eS,gM;function Boe(){if(gM)return eS;gM=1;var t=j9(),e=sf(),n=Uoe(),r=zs(),i=Zx();function a(s,l,c){var d=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),d(s,e(l,3))}return eS=a,eS}var qoe=Boe();const Voe=Nr(qoe);var Nc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},tS,vM;function zoe(){if(vM)return tS;vM=1;var t=Q9();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return tS=e,tS}var nS,yM;function $oe(){if(yM)return nS;yM=1;var t=zoe(),e=X9(),n=sf();function r(i,a){var s={};return a=n(a,3),e(i,function(l,c,d){t(s,c,a(l,c,d))}),s}return nS=r,nS}var Hoe=$oe();const Goe=Nr(Hoe);var rS,xM;function Woe(){if(xM)return rS;xM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return rS=t,rS}var iS,bM;function Koe(){if(bM)return iS;bM=1;var t=jT();function e(n,r){var i=!0;return t(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return iS=e,iS}var aS,_M;function Yoe(){if(_M)return aS;_M=1;var t=Woe(),e=Koe(),n=sf(),r=zs(),i=Zx();function a(s,l,c){var d=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),d(s,n(l,3))}return aS=a,aS}var Xoe=Yoe();const EU=Nr(Xoe);var Joe=["x","y"];function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return e=Zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=ele(t,"string");return L0(e)=="symbol"?e:e+""}function ele(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tle(t,e){if(t==null)return{};var n=nle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rle(t,e){var n=t.x,r=t.y,i=tle(t,Joe),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),h=parseInt(d,10),m="".concat(e.width||i.width),g=parseInt(m,10);return Ng(Ng(Ng(Ng(Ng({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function AM(t){return Oe.createElement(moe,$E({shapeType:"rectangle",propTransformer:rle,activeClassName:"recharts-active-bar"},t))}var ile=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=At(r)||cY(r);return a?e(r,i):(a||rh(),n)}},ale=["value","background"],NU;function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function sle(t,e){if(t==null)return{};var n=ole(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CU(r.key),r)}}function cle(t,e,n){return e&&EM(t.prototype,e),n&&EM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ule(t,e,n){return e=ix(e),dle(t,TU()?Reflect.construct(e,n||[],ix(t).constructor):e.apply(t,n))}function dle(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fle(t)}function fle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}function hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HE(t,e)}function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HE(t,e)}function jd(t,e,n){return e=CU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CU(t){var e=ple(t,"string");return em(e)=="symbol"?e:e+""}function ple(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ov=(function(t){function e(){var n;lle(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ule(this,e,[].concat(i)),jd(n,"state",{isAnimationFinished:!1}),jd(n,"id",tv("recharts-bar-")),jd(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),jd(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return hle(e,t),cle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,h=On(this.props,!1);return r&&r.map(function(m,g){var y=g===c,N=y?d:s,A=Ui(Ui(Ui({},h),m),{},{isActive:y,option:N,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Oe.createElement(ci,rx({className:"recharts-bar-rectangle"},y1(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),Oe.createElement(AM,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,g=this.state.prevData;return Oe.createElement(Cu,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var N=y.t,A=a.map(function(S,C){var R=g&&g[C];if(R){var P=Bo(R.x,S.x),U=Bo(R.y,S.y),L=Bo(R.width,S.width),z=Bo(R.height,S.height);return Ui(Ui({},S),{},{x:P(N),y:U(N),width:L(N),height:z(N)})}if(s==="horizontal"){var k=Bo(0,S.height),O=k(N);return Ui(Ui({},S),{},{y:S.y+S.height-O,height:O})}var V=Bo(0,S.width),W=V(N);return Ui(Ui({},S),{},{width:W})});return Oe.createElement(ci,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!y0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=On(this.props.background,!1);return a.map(function(d,h){d.value;var m=d.background,g=sle(d,ale);if(!m)return null;var y=Ui(Ui(Ui(Ui(Ui({},g),{},{fill:"#eee"},m),c),y1(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return Oe.createElement(AM,rx({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,m=Il(h,cb);if(!m)return null;var g=d==="vertical"?s[0].height/2:s[0].width/2,y=function(S,C){var R=Array.isArray(S.value)?S.value[1]:S.value;return{x:S.x,y:S.y,value:R,errorVal:yo(S,C)}},N={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Oe.createElement(ci,N,m.map(function(A){return Oe.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:s,xAxis:l,yAxis:c,layout:d,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,d=r.left,h=r.top,m=r.width,g=r.height,y=r.isAnimationActive,N=r.background,A=r.id;if(i||!a||!a.length)return null;var S=this.state.isAnimationFinished,C=Jn("recharts-bar",s),R=l&&l.allowDataOverflow,P=c&&c.allowDataOverflow,U=R||P,L=qn(A)?this.id:A;return Oe.createElement(ci,{className:C},R||P?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(L)},Oe.createElement("rect",{x:R?d:d-m/2,y:P?h:h-g/2,width:R?m:m*2,height:P?g:g*2}))):null,Oe.createElement(ci,{className:"recharts-bar-rectangles",clipPath:U?"url(#clipPath-".concat(L,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(U,L),(!y||S)&&Bd.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(ye.PureComponent);NU=ov;jd(ov,"displayName","Bar");jd(ov,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Am.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jd(ov,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=Ire(r,n);if(!y)return null;var N=e.layout,A=n.type.defaultProps,S=A!==void 0?Ui(Ui({},A),n.props):n.props,C=S.dataKey,R=S.children,P=S.minPointSize,U=N==="horizontal"?s:a,L=d?U.scale.domain():null,z=Lre({numericAxis:U}),k=Il(R,aF),O=m.map(function(V,W){var B,D,F,Q,oe,K;d?B=Rre(d[h+W],L):(B=yo(V,C),Array.isArray(B)||(B=[z,B]));var ee=ile(P,NU.defaultProps.minPointSize)(B[1],W);if(N==="horizontal"){var se,_e=[s.scale(B[0]),s.scale(B[1])],xe=_e[0],ce=_e[1];D=dj({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:V,index:W}),F=(se=ce??xe)!==null&&se!==void 0?se:void 0,Q=y.size;var M=xe-ce;if(oe=Number.isNaN(M)?0:M,K={x:D,y:s.y,width:Q,height:s.height},Math.abs(ee)>0&&Math.abs(oe)<Math.abs(ee)){var G=Tl(oe||ee)*(Math.abs(ee)-Math.abs(oe));F-=G,oe+=G}}else{var Z=[a.scale(B[0]),a.scale(B[1])],de=Z[0],X=Z[1];if(D=de,F=dj({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:V,index:W}),Q=X-de,oe=y.size,K={x:a.x,y:F,width:a.width,height:oe},Math.abs(ee)>0&&Math.abs(Q)<Math.abs(ee)){var ue=Tl(Q||ee)*(Math.abs(ee)-Math.abs(Q));Q+=ue}}return Ui(Ui(Ui({},V),{},{x:D,y:F,width:Q,height:oe,value:d?B:B[1],payload:V,background:K},k&&k[W]&&k[W].props),{},{tooltipPayload:[uU(n,V)],tooltipPosition:{x:D+Q/2,y:F+oe/2}})});return Ui({data:O,layout:N},g)});function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IU(r.key),r)}}function gle(t,e,n){return e&&NM(t.prototype,e),n&&NM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fb(t,e,n){return e=IU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IU(t){var e=vle(t,"string");return F0(e)=="symbol"?e:e+""}function vle(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yle=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!fo(d,ov);return h.reduce(function(y,N){var A=n[N],S=A.orientation,C=A.domain,R=A.padding,P=R===void 0?{}:R,U=A.mirror,L=A.reversed,z="".concat(S).concat(U?"Mirror":""),k,O,V,W,B;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var D=C[1]-C[0],F=1/0,Q=A.categoricalDomain.sort(fY);if(Q.forEach(function(Z,de){de>0&&(F=Math.min((Z||0)-(Q[de-1]||0),F))}),Number.isFinite(F)){var oe=F/D,K=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(k=oe*K/2),A.padding==="no-gap"){var ee=th(e.barCategoryGap,oe*K),se=oe*K/2;k=se-ee-(se-ee)/K*ee}}}i==="xAxis"?O=[r.left+(P.left||0)+(k||0),r.left+r.width-(P.right||0)-(k||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(k||0),r.top+r.height-(P.bottom||0)-(k||0)]:O=A.range,L&&(O=[O[1],O[0]]);var _e=Tre(A,a,g),xe=_e.scale,ce=_e.realScaleType;xe.domain(C).range(O),Cre(xe);var M=Dre(xe,El(El({},A),{},{realScaleType:ce}));i==="xAxis"?(B=S==="top"&&!U||S==="bottom"&&U,V=r.left,W=m[z]-B*A.height):i==="yAxis"&&(B=S==="left"&&!U||S==="right"&&U,V=m[z]-B*A.width,W=r.top);var G=El(El(El({},A),M),{},{realScaleType:ce,x:V,y:W,scale:xe,width:i==="xAxis"?r.width:A.width,height:i==="yAxis"?r.height:A.height});return G.bandSize=$1(G,M),!A.hide&&i==="xAxis"?m[z]+=(B?-1:1)*G.height:A.hide||(m[z]+=(B?-1:1)*G.width),El(El({},y),{},fb({},N,G))},{})},RU=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},xle=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return RU({x:n,y:r},{x:i,y:a})},kU=(function(){function t(e){mle(this,t),this.scale=e}return gle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();fb(kU,"EPS",1e-4);var uC=function(e){var n=Object.keys(e).reduce(function(r,i){return El(El({},r),{},fb({},i,kU.create(e[i])))},{});return El(El({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Goe(i,function(c,d){return n[d].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return EU(i,function(a,s){return n[s].isInRange(a)})}})};function ble(t){return(t%180+180)%180}var _le=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ble(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},sS,CM;function wle(){if(CM)return sS;CM=1;var t=sf(),e=nv(),n=Jx();function r(i){return function(a,s,l){var c=Object(a);if(!e(a)){var d=t(s,3);a=n(a),s=function(m){return d(c[m],m,c)}}var h=i(a,s,l);return h>-1?c[d?a[h]:h]:void 0}}return sS=r,sS}var oS,IM;function Ale(){if(IM)return oS;IM=1;var t=_U();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return oS=e,oS}var lS,RM;function Sle(){if(RM)return lS;RM=1;var t=H9(),e=sf(),n=Ale(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(a,e(s,3),d)}return lS=i,lS}var cS,kM;function Ele(){if(kM)return cS;kM=1;var t=wle(),e=Sle(),n=t(e);return cS=n,cS}var Nle=Ele();const Tle=Nr(Nle);var Cle=o9();const Ile=Nr(Cle);var Rle=Ile(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dC=ye.createContext(void 0),fC=ye.createContext(void 0),PU=ye.createContext(void 0),OU=ye.createContext({}),jU=ye.createContext(void 0),MU=ye.createContext(0),DU=ye.createContext(0),PM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,d=e.height,h=Rle(a);return Oe.createElement(dC.Provider,{value:r},Oe.createElement(fC.Provider,{value:i},Oe.createElement(OU.Provider,{value:a},Oe.createElement(PU.Provider,{value:h},Oe.createElement(jU.Provider,{value:s},Oe.createElement(MU.Provider,{value:d},Oe.createElement(DU.Provider,{value:c},l)))))))},kle=function(){return ye.useContext(jU)},LU=function(e){var n=ye.useContext(dC);n==null&&rh();var r=n[e];return r==null&&rh(),r},Ple=function(){var e=ye.useContext(dC);return Td(e)},Ole=function(){var e=ye.useContext(fC),n=Tle(e,function(r){return EU(r.domain,Number.isFinite)});return n||Td(e)},FU=function(e){var n=ye.useContext(fC);n==null&&rh();var r=n[e];return r==null&&rh(),r},jle=function(){var e=ye.useContext(PU);return e},Mle=function(){return ye.useContext(OU)},hC=function(){return ye.useContext(DU)},pC=function(){return ye.useContext(MU)};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BU(r.key),r)}}function Fle(t,e,n){return e&&Lle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,n){return e=ax(e),Ble(t,UU()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function Ble(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(t)}function qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UU=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function Vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GE(t,e)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){mC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mC(t,e,n){return e=BU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BU(t){var e=zle(t,"string");return tm(e)=="symbol"?e:e+""}function zle(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $le(t,e){return Kle(t)||Wle(t,e)||Gle(t,e)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gle(t,e){if(t){if(typeof t=="string")return MM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Kle(t){if(Array.isArray(t))return t}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(this,arguments)}var Yle=function(e,n){var r;return Oe.isValidElement(e)?r=Oe.cloneElement(e,n):An(e)?r=e(n):r=Oe.createElement("line",WE({},n,{className:"recharts-reference-line-line"})),r},Xle=function(e,n,r,i,a,s,l,c,d){var h=a.x,m=a.y,g=a.width,y=a.height;if(r){var N=d.y,A=e.y.apply(N,{position:s});if(Nc(d,"discard")&&!e.y.isInRange(A))return null;var S=[{x:h+g,y:A},{x:h,y:A}];return c==="left"?S.reverse():S}if(n){var C=d.x,R=e.x.apply(C,{position:s});if(Nc(d,"discard")&&!e.x.isInRange(R))return null;var P=[{x:R,y:m+y},{x:R,y:m}];return l==="top"?P.reverse():P}if(i){var U=d.segment,L=U.map(function(z){return e.apply(z,{position:s})});return Nc(d,"discard")&&Voe(L,function(z){return!e.isInRange(z)})?null:L}return null};function Jle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,d=kle(),h=LU(i),m=FU(a),g=jle();if(!d||!g)return null;Au(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=uC({x:h.scale,y:m.scale}),N=ea(e),A=ea(n),S=r&&r.length===2,C=Xle(y,N,A,S,g,t.position,h.orientation,m.orientation,t);if(!C)return null;var R=$le(C,2),P=R[0],U=P.x,L=P.y,z=R[1],k=z.x,O=z.y,V=Nc(t,"hidden")?"url(#".concat(d,")"):void 0,W=jM(jM({clipPath:V},On(t,!0)),{},{x1:U,y1:L,x2:k,y2:O});return Oe.createElement(ci,{className:Jn("recharts-reference-line",l)},Yle(s,W),ns.renderCallByParent(t,xle({x1:U,y1:L,x2:k,y2:O})))}var gC=(function(t){function e(){return Dle(this,e),Ule(this,e,arguments)}return Vle(e,t),Fle(e,[{key:"render",value:function(){return Oe.createElement(Jle,this.props)}}])})(Oe.Component);mC(gC,"displayName","ReferenceLine");mC(gC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function ece(t,e,n){return e&&Zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tce(t,e,n){return e=sx(e),nce(t,qU()?Reflect.construct(e,n||[],sx(t).constructor):e.apply(t,n))}function nce(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(t)}function rce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}function ice(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YE(t,e)}function hb(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=ace(t,"string");return nm(e)=="symbol"?e:e+""}function ace(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sce=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=uC({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Nc(e,"discard")&&!s.isInRange(l)?null:l},pb=(function(t){function e(){return Qle(this,e),tce(this,e,arguments)}return ice(e,t),ece(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,d=ea(i),h=ea(a);if(Au(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=sce(this.props);if(!m)return null;var g=m.x,y=m.y,N=this.props,A=N.shape,S=N.className,C=Nc(this.props,"hidden")?"url(#".concat(c,")"):void 0,R=LM(LM({clipPath:C},On(this.props,!0)),{},{cx:g,cy:y});return Oe.createElement(ci,{className:Jn("recharts-reference-dot",S)},e.renderDot(A,R),ns.renderCallByParent(this.props,{x:g-s,y:y-s,width:2*s,height:2*s}))}}])})(Oe.Component);hb(pb,"displayName","ReferenceDot");hb(pb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hb(pb,"renderDot",function(t,e){var n;return Oe.isValidElement(t)?n=Oe.cloneElement(t,e):An(t)?n=t(e):n=Oe.createElement(cC,KE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$U(r.key),r)}}function cce(t,e,n){return e&&lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uce(t,e,n){return e=ox(e),dce(t,zU()?Reflect.construct(e,n||[],ox(t).constructor):e.apply(t,n))}function dce(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fce(t)}function fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JE(t,e)}function mb(t,e,n){return e=$U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $U(t){var e=pce(t,"string");return rm(e)=="symbol"?e:e+""}function pce(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mce=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,d=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var g=uC({x:h.scale,y:m.scale}),y={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},N={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(d,{position:"end"}):g.y.rangeMax};return Nc(a,"discard")&&(!g.isInRange(y)||!g.isInRange(N))?null:RU(y,N)},gb=(function(t){function e(){return oce(this,e),uce(this,e,arguments)}return hce(e,t),cce(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,h=r.clipPathId;Au(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ea(i),g=ea(a),y=ea(s),N=ea(l),A=this.props.shape;if(!m&&!g&&!y&&!N&&!A)return null;var S=mce(m,g,y,N,this.props);if(!S&&!A)return null;var C=Nc(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Oe.createElement(ci,{className:Jn("recharts-reference-area",c)},e.renderRect(A,UM(UM({clipPath:C},On(this.props,!0)),S)),ns.renderCallByParent(this.props,S))}}])})(Oe.Component);mb(gb,"displayName","ReferenceArea");mb(gb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mb(gb,"renderRect",function(t,e){var n;return Oe.isValidElement(t)?n=Oe.cloneElement(t,e):An(t)?n=t(e):n=Oe.createElement(lC,XE({},e,{className:"recharts-reference-area-rect"})),n});function HU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function gce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _le(r,n)}function vce(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function lx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function yce(t,e){return HU(t,e+1)}function xce(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,d=1,h=s,m=function(){var N=r==null?void 0:r[c];if(N===void 0)return{v:HU(r,d)};var A=c,S,C=function(){return S===void 0&&(S=n(N,A)),S},R=N.coordinate,P=c===0||lx(t,R,C,h,l);P||(c=0,h=s,d+=1),P&&(h=R+t*(C()/2+i),c+=d)},g;d<=a.length;)if(g=m(),g)return g.v;return[]}function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=wce(t,"string");return U0(e)=="symbol"?e:e+""}function wce(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ace(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,d=function(g){var y=a[g],N,A=function(){return N===void 0&&(N=n(y,g)),N};if(g===s-1){var S=t*(y.coordinate+t*A()/2-c);a[g]=y=es(es({},y),{},{tickCoord:S>0?y.coordinate-S*t:y.coordinate})}else a[g]=y=es(es({},y),{},{tickCoord:y.coordinate});var C=lx(t,y.tickCoord,A,l,c);C&&(c=y.tickCoord-t*(A()/2+i),a[g]=es(es({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return a}function Sce(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,d=e.end;if(a){var h=r[l-1],m=n(h,l-1),g=t*(h.coordinate+t*m/2-d);s[l-1]=h=es(es({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var y=lx(t,h.tickCoord,function(){return m},c,d);y&&(d=h.tickCoord-t*(m/2+i),s[l-1]=es(es({},h),{},{isShow:!0}))}for(var N=a?l-1:l,A=function(R){var P=s[R],U,L=function(){return U===void 0&&(U=n(P,R)),U};if(R===0){var z=t*(P.coordinate-t*L()/2-c);s[R]=P=es(es({},P),{},{tickCoord:z<0?P.coordinate-z*t:P.coordinate})}else s[R]=P=es(es({},P),{},{tickCoord:P.coordinate});var k=lx(t,P.tickCoord,L,c,d);k&&(c=P.tickCoord+t*(L()/2+i),s[R]=es(es({},P),{},{isShow:!0}))},S=0;S<N;S++)A(S);return s}function vC(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(At(c)||Am.isSsr)return yce(i,typeof c=="number"&&At(c)?c:0);var g=[],y=l==="top"||l==="bottom"?"width":"height",N=h&&y==="width"?Hg(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(P,U){var L=An(d)?d(P.value,U):P.value;return y==="width"?gce(Hg(L,{fontSize:e,letterSpacing:n}),N,m):Hg(L,{fontSize:e,letterSpacing:n})[y]},S=i.length>=2?Tl(i[1].coordinate-i[0].coordinate):1,C=vce(a,S,y);return c==="equidistantPreserveStart"?xce(S,C,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Sce(S,C,A,i,s,c==="preserveStartEnd"):g=Ace(S,C,A,i,s),g.filter(function(R){return R.isShow}))}var Ece=["viewBox"],Nce=["viewBox"],Tce=["ticks"];function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){yC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uS(t,e){if(t==null)return{};var n=Cce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WU(r.key),r)}}function Rce(t,e,n){return e&&VM(t.prototype,e),n&&VM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,n){return e=cx(e),Pce(t,GU()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function Pce(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(t)}function Oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function yC(t,e,n){return e=WU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WU(t){var e=Mce(t,"string");return im(e)=="symbol"?e:e+""}function Mce(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tm=(function(t){function e(n){var r;return Ice(this,e),r=kce(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return jce(e,t),Rce(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=uS(r,Ece),l=this.props,c=l.viewBox,d=uS(l,Nce);return!Np(a,c)||!Np(s,d)||!Np(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,d=i.orientation,h=i.tickSize,m=i.mirror,g=i.tickMargin,y,N,A,S,C,R,P=m?-1:1,U=r.tickSize||h,L=At(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":y=N=r.coordinate,S=s+ +!m*c,A=S-P*U,R=A-P*g,C=L;break;case"left":A=S=r.coordinate,N=a+ +!m*l,y=N-P*U,C=y-P*g,R=L;break;case"right":A=S=r.coordinate,N=a+ +m*l,y=N+P*U,C=y+P*g,R=L;break;default:y=N=r.coordinate,S=s+ +m*c,A=S+P*U,R=A+P*g,C=L;break}return{line:{x1:y,y1:A,x2:N,y2:S},tick:{x:C,y:R}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,d=r.mirror,h=r.axisLine,m=Qi(Qi(Qi({},On(this.props,!1)),On(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!d||c==="bottom"&&d);m=Qi(Qi({},m),{},{x1:i,y1:a+g*l,x2:i+s,y2:a+g*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);m=Qi(Qi({},m),{},{x1:i+y*s,y1:a,x2:i+y*s,y2:a+l})}return Oe.createElement("line",yp({},m,{className:Jn("recharts-cartesian-axis-line",$o(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,y=vC(Qi(Qi({},this.props),{},{ticks:r}),i,a),N=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),S=On(this.props,!1),C=On(h,!1),R=Qi(Qi({},S),{},{fill:"none"},On(c,!1)),P=y.map(function(U,L){var z=s.getTickLineCoord(U),k=z.line,O=z.tick,V=Qi(Qi(Qi(Qi({textAnchor:N,verticalAnchor:A},S),{},{stroke:"none",fill:d},C),O),{},{index:L,payload:U,visibleTicksCount:y.length,tickFormatter:m});return Oe.createElement(ci,yp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},y1(s.props,U,L)),c&&Oe.createElement("line",yp({},R,k,{className:Jn("recharts-cartesian-axis-tick-line",$o(c,"className"))})),h&&e.renderTickItem(h,V,"".concat(An(m)?m(U.value,L):U.value).concat(g||"")))});return Oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var m=this.props,g=m.ticks,y=uS(m,Tce),N=g;return An(c)&&(N=g&&g.length>0?c(this.props):c(y)),s<=0||l<=0||!N||!N.length?null:Oe.createElement(ci,{className:Jn("recharts-cartesian-axis",d),ref:function(S){r.layerReference=S}},a&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),ns.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=Jn(i.className,"recharts-cartesian-axis-tick-value");return Oe.isValidElement(r)?s=Oe.cloneElement(r,Qi(Qi({},i),{},{className:l})):An(r)?s=r(Qi(Qi({},i),{},{className:l})):s=Oe.createElement(I1,yp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(ye.Component);yC(Tm,"displayName","CartesianAxis");yC(Tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Dce=["x1","y1","x2","y2","key"],Lce=["offset"];function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=Bce(t,"string");return ih(e)=="symbol"?e:e+""}function Bce(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function $M(t,e){if(t==null)return{};var n=qce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Vce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return Oe.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KU(t,e){var n;if(Oe.isValidElement(t))n=Oe.cloneElement(t,e);else if(An(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=$M(e,Dce),d=On(c,!1);d.offset;var h=$M(d,Lce);n=Oe.createElement("line",Vf({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function zce(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=rs(rs({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return KU(i,d)});return Oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function $ce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=rs(rs({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return KU(i,d)});return Oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Hce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var N=!h[y+1],A=N?i+s-g:h[y+1]-g;if(A<=0)return null;var S=y%e.length;return Oe.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:A,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Gce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var N=!h[y+1],A=N?a+l-g:h[y+1]-g;if(A<=0)return null;var S=y%r.length;return Oe.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:A,height:c,stroke:"none",fill:r[S],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Wce=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return lU(vC(rs(rs(rs({},Tm.defaultProps),r),{},{ticks:yu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},Kce=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return lU(vC(rs(rs(rs({},Tm.defaultProps),r),{},{ticks:yu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},ip={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function YU(t){var e,n,r,i,a,s,l=hC(),c=pC(),d=Mle(),h=rs(rs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ip.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ip.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ip.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ip.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ip.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ip.verticalFill,x:At(t.x)?t.x:d.left,y:At(t.y)?t.y:d.top,width:At(t.width)?t.width:d.width,height:At(t.height)?t.height:d.height}),m=h.x,g=h.y,y=h.width,N=h.height,A=h.syncWithTicks,S=h.horizontalValues,C=h.verticalValues,R=Ple(),P=Ole();if(!At(y)||y<=0||!At(N)||N<=0||!At(m)||m!==+m||!At(g)||g!==+g)return null;var U=h.verticalCoordinatesGenerator||Wce,L=h.horizontalCoordinatesGenerator||Kce,z=h.horizontalPoints,k=h.verticalPoints;if((!z||!z.length)&&An(L)){var O=S&&S.length,V=L({yAxis:P?rs(rs({},P),{},{ticks:O?S:P.ticks}):void 0,width:l,height:c,offset:d},O?!0:A);Au(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ih(V),"]")),Array.isArray(V)&&(z=V)}if((!k||!k.length)&&An(U)){var W=C&&C.length,B=U({xAxis:R?rs(rs({},R),{},{ticks:W?C:R.ticks}):void 0,width:l,height:c,offset:d},W?!0:A);Au(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ih(B),"]")),Array.isArray(B)&&(k=B)}return Oe.createElement("g",{className:"recharts-cartesian-grid"},Oe.createElement(Vce,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Oe.createElement(zce,Vf({},h,{offset:d,horizontalPoints:z,xAxis:R,yAxis:P})),Oe.createElement($ce,Vf({},h,{offset:d,verticalPoints:k,xAxis:R,yAxis:P})),Oe.createElement(Hce,Vf({},h,{horizontalPoints:z})),Oe.createElement(Gce,Vf({},h,{verticalPoints:k})))}YU.displayName="CartesianGrid";var Yce=["layout","type","stroke","connectNulls","isRange","ref"],Xce=["key"],XU;function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function JU(t,e){if(t==null)return{};var n=Jce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZU(r.key),r)}}function Zce(t,e,n){return e&&GM(t.prototype,e),n&&GM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eue(t,e,n){return e=ux(e),tue(t,QU()?Reflect.construct(e,n||[],ux(t).constructor):e.apply(t,n))}function tue(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nue(t)}function nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!t})()}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(t)}function rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZE(t,e)}function bc(t,e,n){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZU(t){var e=iue(t,"string");return am(e)=="symbol"?e:e+""}function iue(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uf=(function(t){function e(){var n;Qce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=eue(this,e,[].concat(i)),bc(n,"state",{isAnimationFinished:!0}),bc(n,"id",tv("recharts-area-")),bc(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),An(s)&&s()}),bc(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),An(s)&&s()}),n}return rue(e,t),Zce(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,d=c.dot,h=c.points,m=c.dataKey,g=On(this.props,!1),y=On(d,!0),N=h.map(function(S,C){var R=Sd(Sd(Sd({key:"dot-".concat(C),r:3},g),y),{},{index:C,cx:S.x,cy:S.y,dataKey:m,value:S.value,payload:S.payload,points:h});return e.renderDotItem(d,R)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Oe.createElement(ci,zf({className:"recharts-area-dots"},A),N)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,d=s[s.length-1].x,h=r*Math.abs(c-d),m=Od(s.map(function(g){return g.y||0}));return At(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Od(a.map(function(g){return g.y||0})),m)),At(m)?Oe.createElement("rect",{x:c<d?c:c-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,d=s[s.length-1].y,h=r*Math.abs(c-d),m=Od(s.map(function(g){return g.x||0}));return At(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Od(a.map(function(g){return g.x||0})),m)),At(m)?Oe.createElement("rect",{x:0,y:c<d?c:c-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,d=l.type,h=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var y=JU(l,Yce);return Oe.createElement(ci,{clipPath:a?"url(#clipPath-".concat(s,")"):null},Oe.createElement(Kg,zf({},On(y,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Oe.createElement(Kg,zf({},On(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r})),h!=="none"&&g&&Oe.createElement(Kg,zf({},On(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,d=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,g=s.animationEasing,y=s.animationId,N=this.state,A=N.prevPoints,S=N.prevBaseLine;return Oe.createElement(Cu,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var R=C.t;if(A){var P=A.length/l.length,U=l.map(function(O,V){var W=Math.floor(V*P);if(A[W]){var B=A[W],D=Bo(B.x,O.x),F=Bo(B.y,O.y);return Sd(Sd({},O),{},{x:D(R),y:F(R)})}return O}),L;if(At(c)&&typeof c=="number"){var z=Bo(S,c);L=z(R)}else if(qn(c)||_m(c)){var k=Bo(S,0);L=k(R)}else L=c.map(function(O,V){var W=Math.floor(V*P);if(S[W]){var B=S[W],D=Bo(B.x,O.x),F=Bo(B.y,O.y);return Sd(Sd({},O),{},{x:D(R),y:F(R)})}return O});return a.renderAreaStatically(U,L,r,i)}return Oe.createElement(ci,null,Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(R))),Oe.createElement(ci,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,g=d.totalLength;return c&&s&&s.length&&(!h&&g>0||!y0(h,s)||!y0(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,d=i.top,h=i.left,m=i.xAxis,g=i.yAxis,y=i.width,N=i.height,A=i.isAnimationActive,S=i.id;if(a||!l||!l.length)return null;var C=this.state.isAnimationFinished,R=l.length===1,P=Jn("recharts-area",c),U=m&&m.allowDataOverflow,L=g&&g.allowDataOverflow,z=U||L,k=qn(S)?this.id:S,O=(r=On(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},V=O.r,W=V===void 0?3:V,B=O.strokeWidth,D=B===void 0?2:B,F=_Y(s)?s:{},Q=F.clipDot,oe=Q===void 0?!0:Q,K=W*2+D;return Oe.createElement(ci,{className:P},U||L?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(k)},Oe.createElement("rect",{x:U?h:h-y/2,y:L?d:d-N/2,width:U?y:y*2,height:L?N:N*2})),!oe&&Oe.createElement("clipPath",{id:"clipPath-dots-".concat(k)},Oe.createElement("rect",{x:h-K/2,y:d-K/2,width:y+K,height:N+K}))):null,R?null:this.renderArea(z,k),(s||R)&&this.renderDots(z,oe,k),(!A||C)&&Bd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(ye.PureComponent);XU=uf;bc(uf,"displayName","Area");bc(uf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Am.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bc(uf,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(At(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});bc(uf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=e.layout,N=d&&d.length,A=XU.getBaseValue(e,n,r,i),S=y==="horizontal",C=!1,R=m.map(function(U,L){var z;N?z=d[h+L]:(z=yo(U,c),Array.isArray(z)?C=!0:z=[A,z]);var k=z[1]==null||N&&yo(U,c)==null;return S?{x:uj({axis:r,ticks:a,bandSize:l,entry:U,index:L}),y:k?null:i.scale(z[1]),value:z,payload:U}:{x:k?null:r.scale(z[1]),y:uj({axis:i,ticks:s,bandSize:l,entry:U,index:L}),value:z,payload:U}}),P;return N||C?P=R.map(function(U){var L=Array.isArray(U.value)?U.value[0]:null;return S?{x:U.x,y:L!=null&&U.y!=null?i.scale(L):null}:{x:L!=null?r.scale(L):null,y:U.y}}):P=S?i.scale(A):r.scale(A),Sd({points:R,baseLine:P,layout:y,isRange:C},g)});bc(uf,"renderDotItem",function(t,e){var n;if(Oe.isValidElement(t))n=Oe.cloneElement(t,e);else if(An(t))n=t(e);else{var r=Jn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=JU(e,Xce);n=Oe.createElement(cC,zf({},a,{key:i,className:r}))}return n});function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nB(r.key),r)}}function oue(t,e,n){return e&&sue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lue(t,e,n){return e=dx(e),cue(t,eB()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function cue(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uue(t)}function uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eN(t,e)}function tB(t,e,n){return e=nB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nB(t){var e=fue(t,"string");return sm(e)=="symbol"?e:e+""}function fue(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tN.apply(this,arguments)}function hue(t){var e=t.xAxisId,n=hC(),r=pC(),i=LU(e);return i==null?null:ye.createElement(Tm,tN({},i,{className:Jn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return yu(s,!0)}}))}var vb=(function(t){function e(){return aue(this,e),lue(this,e,arguments)}return due(e,t),oue(e,[{key:"render",value:function(){return ye.createElement(hue,this.props)}}])})(ye.Component);tB(vb,"displayName","XAxis");tB(vb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function gue(t,e,n){return e&&mue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vue(t,e,n){return e=fx(e),yue(t,rB()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function yue(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xue(t)}function xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nN(t,e)}function iB(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=_ue(t,"string");return om(e)=="symbol"?e:e+""}function _ue(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rN.apply(this,arguments)}var wue=function(e){var n=e.yAxisId,r=hC(),i=pC(),a=FU(n);return a==null?null:ye.createElement(Tm,rN({},a,{className:Jn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return yu(l,!0)}}))},yb=(function(t){function e(){return pue(this,e),vue(this,e,arguments)}return bue(e,t),gue(e,[{key:"render",value:function(){return ye.createElement(wue,this.props)}}])})(ye.Component);iB(yb,"displayName","YAxis");iB(yb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WM(t){return Nue(t)||Eue(t)||Sue(t)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function Eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nue(t){if(Array.isArray(t))return iN(t)}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aN=function(e,n,r,i,a){var s=Il(e,gC),l=Il(e,pb),c=[].concat(WM(s),WM(l)),d=Il(e,gb),h="".concat(i,"Id"),m=i[0],g=n;if(c.length&&(g=c.reduce(function(A,S){if(S.props[h]===r&&Nc(S.props,"extendDomain")&&At(S.props[m])){var C=S.props[m];return[Math.min(A[0],C),Math.max(A[1],C)]}return A},g)),d.length){var y="".concat(m,"1"),N="".concat(m,"2");g=d.reduce(function(A,S){if(S.props[h]===r&&Nc(S.props,"extendDomain")&&At(S.props[y])&&At(S.props[N])){var C=S.props[y],R=S.props[N];return[Math.min(A[0],C,R),Math.max(A[1],C,R)]}return A},g)}return a&&a.length&&(g=a.reduce(function(A,S){return At(S)?[Math.min(A[0],S),Math.max(A[1],S)]:A},g)),g},dS={exports:{}},KM;function Tue(){return KM||(KM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||c,g),N=n?n+d:d;return c._events[N]?c._events[N].fn?c._events[N]=[c._events[N],y]:c._events[N].push(y):(c._events[N]=y,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,N=new Array(y);g<y;g++)N[g]=m[g].fn;return N},l.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,g,y,N){var A=n?n+d:d;if(!this._events[A])return!1;var S=this._events[A],C=arguments.length,R,P;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,m),!0;case 4:return S.fn.call(S.context,h,m,g),!0;case 5:return S.fn.call(S.context,h,m,g,y),!0;case 6:return S.fn.call(S.context,h,m,g,y,N),!0}for(P=1,R=new Array(C-1);P<C;P++)R[P-1]=arguments[P];S.fn.apply(S.context,R)}else{var U=S.length,L;for(P=0;P<U;P++)switch(S[P].once&&this.removeListener(d,S[P].fn,void 0,!0),C){case 1:S[P].fn.call(S[P].context);break;case 2:S[P].fn.call(S[P].context,h);break;case 3:S[P].fn.call(S[P].context,h,m);break;case 4:S[P].fn.call(S[P].context,h,m,g);break;default:if(!R)for(L=1,R=new Array(C-1);L<C;L++)R[L-1]=arguments[L];S[P].fn.apply(S[P].context,R)}}return!0},l.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,g){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return s(this,y),this;var N=this._events[y];if(N.fn)N.fn===h&&(!g||N.once)&&(!m||N.context===m)&&s(this,y);else{for(var A=0,S=[],C=N.length;A<C;A++)(N[A].fn!==h||g&&!N[A].once||m&&N[A].context!==m)&&S.push(N[A]);S.length?this._events[y]=S.length===1?S[0]:S:s(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(dS)),dS.exports}var Cue=Tue();const Iue=Nr(Cue);var fS=new Iue,hS="recharts.syncMouseEvents";function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function Rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function Pue(t,e,n){return e&&kue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pS(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=Oue(t,"string");return B0(e)=="symbol"?e:e+""}function Oue(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jue=(function(){function t(){Rue(this,t),pS(this,"activeIndex",0),pS(this,"coordinateList",[]),pS(this,"layout","horizontal")}return Pue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,d=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+d,g=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function Mue(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&At(r)&&At(i))return!0}return!1}function Due(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function oB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Oa(e,n,r,i),l=Oa(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Lue(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,g=Oa(l,c,d,m),y=Oa(l,c,h,m);r=g.x,i=g.y,a=y.x,s=y.y}else return oB(e);return[{x:r,y:i},{x:a,y:s}]}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return e=Uue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=Bue(t,"string");return q0(e)=="symbol"?e:e+""}function Bue(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function que(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var N,A=Kg;if(g==="ScatterChart")N=s,A=Vse;else if(g==="BarChart")N=Due(m,s,c,h),A=lC;else if(m==="radial"){var S=oB(s),C=S.cx,R=S.cy,P=S.radius,U=S.startAngle,L=S.endAngle;N={cx:C,cy:R,startAngle:U,endAngle:L,innerRadius:P,outerRadius:P},A=hU}else N={points:Lue(m,s,c)},A=Kg;var z=Ay(Ay(Ay(Ay({stroke:"#ccc",pointerEvents:"none"},c),N),On(y,!1)),{},{payload:l,payloadIndex:d,className:Jn("recharts-tooltip-cursor",y.className)});return ye.isValidElement(y)?ye.cloneElement(y,z):ye.createElement(A,z)}var Vue=["item"],zue=["children","className","width","height","style","compact","title","desc"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function XM(t,e){return Gue(t)||Hue(t,e)||cB(t,e)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Gue(t){if(Array.isArray(t))return t}function JM(t,e){if(t==null)return{};var n=Wue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uB(r.key),r)}}function Xue(t,e,n){return e&&Yue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jue(t,e,n){return e=hx(e),Que(t,lB()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function Que(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(t)}function Zue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sN(t,e)}function cm(t){return rde(t)||nde(t)||cB(t)||tde()}function tde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cB(t,e){if(t){if(typeof t=="string")return oN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(t,e)}}function nde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rde(t){if(Array.isArray(t))return oN(t)}function oN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tn(t,e,n){return e=uB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uB(t){var e=ide(t,"string");return lm(e)=="symbol"?e:e+""}function ide(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ade={xAxis:["bottom","top"],yAxis:["left","right"]},sde={width:"100%",height:"100%"},dB={x:0,y:0};function Sy(t){return t}var ode=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},lde=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return it(it(it({},i),Oa(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,d=i.angle;return it(it(it({},i),Oa(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return dB},xb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(cm(l),cm(d)):l},[]);return s.length>0?s:e&&e.length&&At(i)&&At(a)?e.slice(i,a+1):[]};function fB(t){return t==="number"?[0,"auto"]:void 0}var lN=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=xb(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var y=m===void 0?l:m;g=g1(y,s.dataKey,i)}else g=m&&m[r]||l[r];return g?[].concat(cm(c),[uU(d,g)]):c},[])},ZM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=ode(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=_re(s,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,g=lN(e,n,h,m),y=lde(r,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},cde=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,y=oU(h,a);return r.reduce(function(N,A){var S,C=A.type.defaultProps!==void 0?it(it({},A.type.defaultProps),A.props):A.props,R=C.type,P=C.dataKey,U=C.allowDataOverflow,L=C.allowDuplicatedCategory,z=C.scale,k=C.ticks,O=C.includeHidden,V=C[s];if(N[V])return N;var W=xb(e.data,{graphicalItems:i.filter(function(M){var G,Z=s in M.props?M.props[s]:(G=M.type.defaultProps)===null||G===void 0?void 0:G[s];return Z===V}),dataStartIndex:c,dataEndIndex:d}),B=W.length,D,F,Q;Mue(C.domain,U,R)&&(D=TE(C.domain,null,U),y&&(R==="number"||z!=="auto")&&(Q=Wg(W,P,"category")));var oe=fB(R);if(!D||D.length===0){var K,ee=(K=C.domain)!==null&&K!==void 0?K:oe;if(P){if(D=Wg(W,P,R),R==="category"&&y){var se=dY(D);L&&se?(F=D,D=ex(0,B)):L||(D=pj(ee,D,A).reduce(function(M,G){return M.indexOf(G)>=0?M:[].concat(cm(M),[G])},[]))}else if(R==="category")L?D=D.filter(function(M){return M!==""&&!qn(M)}):D=pj(ee,D,A).reduce(function(M,G){return M.indexOf(G)>=0||G===""||qn(G)?M:[].concat(cm(M),[G])},[]);else if(R==="number"){var _e=Nre(W,i.filter(function(M){var G,Z,de=s in M.props?M.props[s]:(G=M.type.defaultProps)===null||G===void 0?void 0:G[s],X="hide"in M.props?M.props.hide:(Z=M.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return de===V&&(O||!X)}),P,a,h);_e&&(D=_e)}y&&(R==="number"||z!=="auto")&&(Q=Wg(W,P,"category"))}else y?D=ex(0,B):l&&l[V]&&l[V].hasStack&&R==="number"?D=g==="expand"?[0,1]:cU(l[V].stackGroups,c,d):D=sU(W,i.filter(function(M){var G=s in M.props?M.props[s]:M.type.defaultProps[s],Z="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return G===V&&(O||!Z)}),R,h,!0);if(R==="number")D=aN(m,D,V,a,k),ee&&(D=TE(ee,D,U));else if(R==="category"&&ee){var xe=ee,ce=D.every(function(M){return xe.indexOf(M)>=0});ce&&(D=xe)}}return it(it({},N),{},tn({},V,it(it({},C),{},{axisType:a,domain:D,categoricalDomain:Q,duplicateDomain:F,originalDomain:(S=C.domain)!==null&&S!==void 0?S:oe,isCategorical:y,layout:h})))},{})},ude=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,g=xb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),y=g.length,N=oU(h,a),A=-1;return r.reduce(function(S,C){var R=C.type.defaultProps!==void 0?it(it({},C.type.defaultProps),C.props):C.props,P=R[s],U=fB("number");if(!S[P]){A++;var L;return N?L=ex(0,y):l&&l[P]&&l[P].hasStack?(L=cU(l[P].stackGroups,c,d),L=aN(m,L,P,a)):(L=TE(U,sU(g,r.filter(function(z){var k,O,V=s in z.props?z.props[s]:(k=z.type.defaultProps)===null||k===void 0?void 0:k[s],W="hide"in z.props?z.props.hide:(O=z.type.defaultProps)===null||O===void 0?void 0:O.hide;return V===P&&!W}),"number",h),i.defaultProps.allowDataOverflow),L=aN(m,L,P,a)),it(it({},S),{},tn({},P,it(it({axisType:a},i.defaultProps),{},{hide:!0,orientation:$o(ade,"".concat(a,".").concat(A%2),null),domain:L,originalDomain:U,isCategorical:N,layout:h})))}return S},{})},dde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),g=Il(h,a),y={};return g&&g.length?y=cde(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(y=ude(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},fde=function(e){var n=Td(e),r=yu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:$1(n,r)}},eD=function(e){var n=e.children,r=e.defaultShowTooltip,i=fo(n,Zp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},hde=function(e){return!e||!e.length?!1:e.some(function(n){var r=wu(n&&n.type);return r&&r.indexOf("Bar")>=0})},tD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pde=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,h=r.height,m=r.children,g=r.margin||{},y=fo(m,Zp),N=fo(m,Tp),A=Object.keys(c).reduce(function(L,z){var k=c[z],O=k.orientation;return!k.mirror&&!k.hide?it(it({},L),{},tn({},O,L[O]+k.width)):L},{left:g.left||0,right:g.right||0}),S=Object.keys(s).reduce(function(L,z){var k=s[z],O=k.orientation;return!k.mirror&&!k.hide?it(it({},L),{},tn({},O,$o(L,"".concat(O))+k.height)):L},{top:g.top||0,bottom:g.bottom||0}),C=it(it({},S),A),R=C.bottom;y&&(C.bottom+=y.props.height||Zp.defaultProps.height),N&&n&&(C=Sre(C,i,r,n));var P=d-C.left-C.right,U=h-C.top-C.bottom;return it(it({brushBottom:R},C),{},{width:Math.max(P,0),height:Math.max(U,0)})},mde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},gde=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(C,R){var P=R.graphicalItems,U=R.stackGroups,L=R.offset,z=R.updateId,k=R.dataStartIndex,O=R.dataEndIndex,V=C.barSize,W=C.layout,B=C.barGap,D=C.barCategoryGap,F=C.maxBarSize,Q=tD(W),oe=Q.numericAxisName,K=Q.cateAxisName,ee=hde(P),se=[];return P.forEach(function(_e,xe){var ce=xb(C.data,{graphicalItems:[_e],dataStartIndex:k,dataEndIndex:O}),M=_e.type.defaultProps!==void 0?it(it({},_e.type.defaultProps),_e.props):_e.props,G=M.dataKey,Z=M.maxBarSize,de=M["".concat(oe,"Id")],X=M["".concat(K,"Id")],ue={},we=c.reduce(function(et,Ke){var at=R["".concat(Ke.axisType,"Map")],Qe=M["".concat(Ke.axisType,"Id")];at&&at[Qe]||Ke.axisType==="zAxis"||rh();var st=at[Qe];return it(it({},et),{},tn(tn({},Ke.axisType,st),"".concat(Ke.axisType,"Ticks"),yu(st)))},ue),re=we[K],Se=we["".concat(K,"Ticks")],Re=U&&U[de]&&U[de].hasStack&&Fre(_e,U[de].stackGroups),Ee=wu(_e.type).indexOf("Bar")>=0,We=$1(re,Se),Ge=[],ve=ee&&wre({barSize:V,stackGroups:U,totalSize:mde(we,K)});if(Ee){var le,lt,nt=qn(Z)?F:Z,Xe=(le=(lt=$1(re,Se,!0))!==null&&lt!==void 0?lt:nt)!==null&&le!==void 0?le:0;Ge=Are({barGap:B,barCategoryGap:D,bandSize:Xe!==We?Xe:We,sizeList:ve[X],maxBarSize:nt}),Xe!==We&&(Ge=Ge.map(function(et){return it(it({},et),{},{position:it(it({},et.position),{},{offset:et.position.offset-Xe/2})})}))}var He=_e&&_e.type&&_e.type.getComposedData;He&&se.push({props:it(it({},He(it(it({},we),{},{displayedData:ce,props:C,dataKey:G,item:_e,bandSize:We,barPosition:Ge,offset:L,stackedData:Re,layout:W,dataStartIndex:k,dataEndIndex:O}))),{},tn(tn(tn({key:_e.key||"item-".concat(xe)},oe,we[oe]),K,we[K]),"animationId",z)),childIndex:SY(_e,C.children),item:_e})}),se},y=function(C,R){var P=C.props,U=C.dataStartIndex,L=C.dataEndIndex,z=C.updateId;if(!Ck({props:P}))return null;var k=P.children,O=P.layout,V=P.stackOffset,W=P.data,B=P.reverseStackOrder,D=tD(O),F=D.numericAxisName,Q=D.cateAxisName,oe=Il(k,r),K=Mre(W,oe,"".concat(F,"Id"),"".concat(Q,"Id"),V,B),ee=c.reduce(function(M,G){var Z="".concat(G.axisType,"Map");return it(it({},M),{},tn({},Z,dde(P,it(it({},G),{},{graphicalItems:oe,stackGroups:G.axisType===F&&K,dataStartIndex:U,dataEndIndex:L}))))},{}),se=pde(it(it({},ee),{},{props:P,graphicalItems:oe}),R==null?void 0:R.legendBBox);Object.keys(ee).forEach(function(M){ee[M]=h(P,ee[M],se,M.replace("Map",""),n)});var _e=ee["".concat(Q,"Map")],xe=fde(_e),ce=g(P,it(it({},ee),{},{dataStartIndex:U,dataEndIndex:L,updateId:z,graphicalItems:oe,stackGroups:K,offset:se}));return it(it({formattedGraphicalItems:ce,graphicalItems:oe,offset:se,stackGroups:K},xe),ee)},N=(function(S){function C(R){var P,U,L;return Kue(this,C),L=Jue(this,C,[R]),tn(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tn(L,"accessibilityManager",new jue),tn(L,"handleLegendBBoxUpdate",function(z){if(z){var k=L.state,O=k.dataStartIndex,V=k.dataEndIndex,W=k.updateId;L.setState(it({legendBBox:z},y({props:L.props,dataStartIndex:O,dataEndIndex:V,updateId:W},it(it({},L.state),{},{legendBBox:z}))))}}),tn(L,"handleReceiveSyncEvent",function(z,k,O){if(L.props.syncId===z){if(O===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(k)}}),tn(L,"handleBrushChange",function(z){var k=z.startIndex,O=z.endIndex;if(k!==L.state.dataStartIndex||O!==L.state.dataEndIndex){var V=L.state.updateId;L.setState(function(){return it({dataStartIndex:k,dataEndIndex:O},y({props:L.props,dataStartIndex:k,dataEndIndex:O,updateId:V},L.state))}),L.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),tn(L,"handleMouseEnter",function(z){var k=L.getMouseInfo(z);if(k){var O=it(it({},k),{},{isTooltipActive:!0});L.setState(O),L.triggerSyncEvent(O);var V=L.props.onMouseEnter;An(V)&&V(O,z)}}),tn(L,"triggeredAfterMouseMove",function(z){var k=L.getMouseInfo(z),O=k?it(it({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(O),L.triggerSyncEvent(O);var V=L.props.onMouseMove;An(V)&&V(O,z)}),tn(L,"handleItemMouseEnter",function(z){L.setState(function(){return{isTooltipActive:!0,activeItem:z,activePayload:z.tooltipPayload,activeCoordinate:z.tooltipPosition||{x:z.cx,y:z.cy}}})}),tn(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),tn(L,"handleMouseMove",function(z){z.persist(),L.throttleTriggeredAfterMouseMove(z)}),tn(L,"handleMouseLeave",function(z){L.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};L.setState(k),L.triggerSyncEvent(k);var O=L.props.onMouseLeave;An(O)&&O(k,z)}),tn(L,"handleOuterEvent",function(z){var k=AY(z),O=$o(L.props,"".concat(k));if(k&&An(O)){var V,W;/.*touch.*/i.test(k)?W=L.getMouseInfo(z.changedTouches[0]):W=L.getMouseInfo(z),O((V=W)!==null&&V!==void 0?V:{},z)}}),tn(L,"handleClick",function(z){var k=L.getMouseInfo(z);if(k){var O=it(it({},k),{},{isTooltipActive:!0});L.setState(O),L.triggerSyncEvent(O);var V=L.props.onClick;An(V)&&V(O,z)}}),tn(L,"handleMouseDown",function(z){var k=L.props.onMouseDown;if(An(k)){var O=L.getMouseInfo(z);k(O,z)}}),tn(L,"handleMouseUp",function(z){var k=L.props.onMouseUp;if(An(k)){var O=L.getMouseInfo(z);k(O,z)}}),tn(L,"handleTouchMove",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove(z.changedTouches[0])}),tn(L,"handleTouchStart",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&L.handleMouseDown(z.changedTouches[0])}),tn(L,"handleTouchEnd",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&L.handleMouseUp(z.changedTouches[0])}),tn(L,"handleDoubleClick",function(z){var k=L.props.onDoubleClick;if(An(k)){var O=L.getMouseInfo(z);k(O,z)}}),tn(L,"handleContextMenu",function(z){var k=L.props.onContextMenu;if(An(k)){var O=L.getMouseInfo(z);k(O,z)}}),tn(L,"triggerSyncEvent",function(z){L.props.syncId!==void 0&&fS.emit(hS,L.props.syncId,z,L.eventEmitterSymbol)}),tn(L,"applySyncEvent",function(z){var k=L.props,O=k.layout,V=k.syncMethod,W=L.state.updateId,B=z.dataStartIndex,D=z.dataEndIndex;if(z.dataStartIndex!==void 0||z.dataEndIndex!==void 0)L.setState(it({dataStartIndex:B,dataEndIndex:D},y({props:L.props,dataStartIndex:B,dataEndIndex:D,updateId:W},L.state)));else if(z.activeTooltipIndex!==void 0){var F=z.chartX,Q=z.chartY,oe=z.activeTooltipIndex,K=L.state,ee=K.offset,se=K.tooltipTicks;if(!ee)return;if(typeof V=="function")oe=V(se,z);else if(V==="value"){oe=-1;for(var _e=0;_e<se.length;_e++)if(se[_e].value===z.activeLabel){oe=_e;break}}var xe=it(it({},ee),{},{x:ee.left,y:ee.top}),ce=Math.min(F,xe.x+xe.width),M=Math.min(Q,xe.y+xe.height),G=se[oe]&&se[oe].value,Z=lN(L.state,L.props.data,oe),de=se[oe]?{x:O==="horizontal"?se[oe].coordinate:ce,y:O==="horizontal"?M:se[oe].coordinate}:dB;L.setState(it(it({},z),{},{activeLabel:G,activeCoordinate:de,activePayload:Z,activeTooltipIndex:oe}))}else L.setState(z)}),tn(L,"renderCursor",function(z){var k,O=L.state,V=O.isTooltipActive,W=O.activeCoordinate,B=O.activePayload,D=O.offset,F=O.activeTooltipIndex,Q=O.tooltipAxisBandSize,oe=L.getTooltipEventType(),K=(k=z.props.active)!==null&&k!==void 0?k:V,ee=L.props.layout,se=z.key||"_recharts-cursor";return Oe.createElement(que,{key:se,activeCoordinate:W,activePayload:B,activeTooltipIndex:F,chartName:n,element:z,isActive:K,layout:ee,offset:D,tooltipAxisBandSize:Q,tooltipEventType:oe})}),tn(L,"renderPolarAxis",function(z,k,O){var V=$o(z,"type.axisType"),W=$o(L.state,"".concat(V,"Map")),B=z.type.defaultProps,D=B!==void 0?it(it({},B),z.props):z.props,F=W&&W[D["".concat(V,"Id")]];return ye.cloneElement(z,it(it({},F),{},{className:Jn(V,F.className),key:z.key||"".concat(k,"-").concat(O),ticks:yu(F,!0)}))}),tn(L,"renderPolarGrid",function(z){var k=z.props,O=k.radialLines,V=k.polarAngles,W=k.polarRadius,B=L.state,D=B.radiusAxisMap,F=B.angleAxisMap,Q=Td(D),oe=Td(F),K=oe.cx,ee=oe.cy,se=oe.innerRadius,_e=oe.outerRadius;return ye.cloneElement(z,{polarAngles:Array.isArray(V)?V:yu(oe,!0).map(function(xe){return xe.coordinate}),polarRadius:Array.isArray(W)?W:yu(Q,!0).map(function(xe){return xe.coordinate}),cx:K,cy:ee,innerRadius:se,outerRadius:_e,key:z.key||"polar-grid",radialLines:O})}),tn(L,"renderLegend",function(){var z=L.state.formattedGraphicalItems,k=L.props,O=k.children,V=k.width,W=k.height,B=L.props.margin||{},D=V-(B.left||0)-(B.right||0),F=iU({children:O,formattedGraphicalItems:z,legendWidth:D,legendContent:d});if(!F)return null;var Q=F.item,oe=JM(F,Vue);return ye.cloneElement(Q,it(it({},oe),{},{chartWidth:V,chartHeight:W,margin:B,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),tn(L,"renderTooltip",function(){var z,k=L.props,O=k.children,V=k.accessibilityLayer,W=fo(O,vc);if(!W)return null;var B=L.state,D=B.isTooltipActive,F=B.activeCoordinate,Q=B.activePayload,oe=B.activeLabel,K=B.offset,ee=(z=W.props.active)!==null&&z!==void 0?z:D;return ye.cloneElement(W,{viewBox:it(it({},K),{},{x:K.left,y:K.top}),active:ee,label:oe,payload:ee?Q:[],coordinate:F,accessibilityLayer:V})}),tn(L,"renderBrush",function(z){var k=L.props,O=k.margin,V=k.data,W=L.state,B=W.offset,D=W.dataStartIndex,F=W.dataEndIndex,Q=W.updateId;return ye.cloneElement(z,{key:z.key||"_recharts-brush",onChange:xy(L.handleBrushChange,z.props.onChange),data:V,x:At(z.props.x)?z.props.x:B.left,y:At(z.props.y)?z.props.y:B.top+B.height+B.brushBottom-(O.bottom||0),width:At(z.props.width)?z.props.width:B.width,startIndex:D,endIndex:F,updateId:"brush-".concat(Q)})}),tn(L,"renderReferenceElement",function(z,k,O){if(!z)return null;var V=L,W=V.clipPathId,B=L.state,D=B.xAxisMap,F=B.yAxisMap,Q=B.offset,oe=z.type.defaultProps||{},K=z.props,ee=K.xAxisId,se=ee===void 0?oe.xAxisId:ee,_e=K.yAxisId,xe=_e===void 0?oe.yAxisId:_e;return ye.cloneElement(z,{key:z.key||"".concat(k,"-").concat(O),xAxis:D[se],yAxis:F[xe],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:W})}),tn(L,"renderActivePoints",function(z){var k=z.item,O=z.activePoint,V=z.basePoint,W=z.childIndex,B=z.isRange,D=[],F=k.props.key,Q=k.item.type.defaultProps!==void 0?it(it({},k.item.type.defaultProps),k.item.props):k.item.props,oe=Q.activeDot,K=Q.dataKey,ee=it(it({index:W,dataKey:K,cx:O.x,cy:O.y,r:4,fill:oC(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},On(oe,!1)),v1(oe));return D.push(C.renderActiveDot(oe,ee,"".concat(F,"-activePoint-").concat(W))),V?D.push(C.renderActiveDot(oe,it(it({},ee),{},{cx:V.x,cy:V.y}),"".concat(F,"-basePoint-").concat(W))):B&&D.push(null),D}),tn(L,"renderGraphicChild",function(z,k,O){var V=L.filterFormatItem(z,k,O);if(!V)return null;var W=L.getTooltipEventType(),B=L.state,D=B.isTooltipActive,F=B.tooltipAxis,Q=B.activeTooltipIndex,oe=B.activeLabel,K=L.props.children,ee=fo(K,vc),se=V.props,_e=se.points,xe=se.isRange,ce=se.baseLine,M=V.item.type.defaultProps!==void 0?it(it({},V.item.type.defaultProps),V.item.props):V.item.props,G=M.activeDot,Z=M.hide,de=M.activeBar,X=M.activeShape,ue=!!(!Z&&D&&ee&&(G||de||X)),we={};W!=="axis"&&ee&&ee.props.trigger==="click"?we={onClick:xy(L.handleItemMouseEnter,z.props.onClick)}:W!=="axis"&&(we={onMouseLeave:xy(L.handleItemMouseLeave,z.props.onMouseLeave),onMouseEnter:xy(L.handleItemMouseEnter,z.props.onMouseEnter)});var re=ye.cloneElement(z,it(it({},V.props),we));function Se(Ke){return typeof F.dataKey=="function"?F.dataKey(Ke.payload):null}if(ue)if(Q>=0){var Re,Ee;if(F.dataKey&&!F.allowDuplicatedCategory){var We=typeof F.dataKey=="function"?Se:"payload.".concat(F.dataKey.toString());Re=g1(_e,We,oe),Ee=xe&&ce&&g1(ce,We,oe)}else Re=_e==null?void 0:_e[Q],Ee=xe&&ce&&ce[Q];if(X||de){var Ge=z.props.activeIndex!==void 0?z.props.activeIndex:Q;return[ye.cloneElement(z,it(it(it({},V.props),we),{},{activeIndex:Ge})),null,null]}if(!qn(Re))return[re].concat(cm(L.renderActivePoints({item:V,activePoint:Re,basePoint:Ee,childIndex:Q,isRange:xe})))}else{var ve,le=(ve=L.getItemByXY(L.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:re},lt=le.graphicalItem,nt=lt.item,Xe=nt===void 0?z:nt,He=lt.childIndex,et=it(it(it({},V.props),we),{},{activeIndex:He});return[ye.cloneElement(Xe,et),null,null]}return xe?[re,null,null]:[re,null]}),tn(L,"renderCustomized",function(z,k,O){return ye.cloneElement(z,it(it({key:"recharts-customized-".concat(O)},L.props),L.state))}),tn(L,"renderMap",{CartesianGrid:{handler:Sy,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:Sy},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:Sy},YAxis:{handler:Sy},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((P=R.id)!==null&&P!==void 0?P:tv("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=iF(L.triggeredAfterMouseMove,(U=R.throttleDelay)!==null&&U!==void 0?U:1e3/60),L.state={},L}return ede(C,S),Xue(C,[{key:"componentDidMount",value:function(){var P,U;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,U=P.children,L=P.data,z=P.height,k=P.layout,O=fo(U,vc);if(O){var V=O.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,B=lN(this.state,L,V,W),D=this.state.tooltipTicks[V].coordinate,F=(this.state.offset.top+z)/2,Q=k==="horizontal",oe=Q?{x:D,y:F}:{y:D,x:F},K=this.state.formattedGraphicalItems.find(function(se){var _e=se.item;return _e.type.name==="Scatter"});K&&(oe=it(it({},oe),K.props.points[V].tooltipPosition),B=K.props.points[V].tooltipPayload);var ee={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:W,activePayload:B,activeCoordinate:oe};this.setState(ee),this.renderCursor(O),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,U){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==U.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var L,z;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(z=this.props.margin.top)!==null&&z!==void 0?z:0}})}return null}},{key:"componentDidUpdate",value:function(P){YS([fo(P.children,vc)],[fo(this.props.children,vc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=fo(this.props.children,vc);if(P&&typeof P.props.shared=="boolean"){var U=P.props.shared?"axis":"item";return l.indexOf(U)>=0?U:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var U=this.container,L=U.getBoundingClientRect(),z=dZ(L),k={chartX:Math.round(P.pageX-z.left),chartY:Math.round(P.pageY-z.top)},O=L.width/U.offsetWidth||1,V=this.inRange(k.chartX,k.chartY,O);if(!V)return null;var W=this.state,B=W.xAxisMap,D=W.yAxisMap,F=this.getTooltipEventType(),Q=ZM(this.state,this.props.data,this.props.layout,V);if(F!=="axis"&&B&&D){var oe=Td(B).scale,K=Td(D).scale,ee=oe&&oe.invert?oe.invert(k.chartX):null,se=K&&K.invert?K.invert(k.chartY):null;return it(it({},k),{},{xValue:ee,yValue:se},Q)}return Q?it(it({},k),Q):null}},{key:"inRange",value:function(P,U){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=this.props.layout,k=P/L,O=U/L;if(z==="horizontal"||z==="vertical"){var V=this.state.offset,W=k>=V.left&&k<=V.left+V.width&&O>=V.top&&O<=V.top+V.height;return W?{x:k,y:O}:null}var B=this.state,D=B.angleAxisMap,F=B.radiusAxisMap;if(D&&F){var Q=Td(D);return vj({x:k,y:O},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,U=this.getTooltipEventType(),L=fo(P,vc),z={};L&&U==="axis"&&(L.props.trigger==="click"?z={onClick:this.handleClick}:z={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=v1(this.props,this.handleOuterEvent);return it(it({},k),z)}},{key:"addListener",value:function(){fS.on(hS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fS.removeListener(hS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,U,L){for(var z=this.state.formattedGraphicalItems,k=0,O=z.length;k<O;k++){var V=z[k];if(V.item===P||V.props.key===P.key||U===wu(V.item.type)&&L===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,U=this.state.offset,L=U.left,z=U.top,k=U.height,O=U.width;return Oe.createElement("defs",null,Oe.createElement("clipPath",{id:P},Oe.createElement("rect",{x:L,y:z,height:k,width:O})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(U,L){var z=XM(L,2),k=z[0],O=z[1];return it(it({},U),{},tn({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(U,L){var z=XM(L,2),k=z[0],O=z[1];return it(it({},U),{},tn({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var U;return(U=this.state.xAxisMap)===null||U===void 0||(U=U[P])===null||U===void 0?void 0:U.scale}},{key:"getYScaleByAxisId",value:function(P){var U;return(U=this.state.yAxisMap)===null||U===void 0||(U=U[P])===null||U===void 0?void 0:U.scale}},{key:"getItemByXY",value:function(P){var U=this.state,L=U.formattedGraphicalItems,z=U.activeItem;if(L&&L.length)for(var k=0,O=L.length;k<O;k++){var V=L[k],W=V.props,B=V.item,D=B.type.defaultProps!==void 0?it(it({},B.type.defaultProps),B.props):B.props,F=wu(B.type);if(F==="Bar"){var Q=(W.data||[]).find(function(se){return Pse(P,se)});if(Q)return{graphicalItem:V,payload:Q}}else if(F==="RadialBar"){var oe=(W.data||[]).find(function(se){return vj(P,se)});if(oe)return{graphicalItem:V,payload:oe}}else if(ub(V,z)||db(V,z)||M0(V,z)){var K=woe({graphicalItem:V,activeTooltipItem:z,itemData:D.data}),ee=D.activeIndex===void 0?K:D.activeIndex;return{graphicalItem:it(it({},V),{},{childIndex:ee}),payload:M0(V,z)?D.data[K]:V.props.data[K]}}}return null}},{key:"render",value:function(){var P=this;if(!Ck(this))return null;var U=this.props,L=U.children,z=U.className,k=U.width,O=U.height,V=U.style,W=U.compact,B=U.title,D=U.desc,F=JM(U,zue),Q=On(F,!1);if(W)return Oe.createElement(PM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement(JS,xp({},Q,{width:k,height:O,title:B,desc:D}),this.renderClipPath(),Rk(L,this.renderMap)));if(this.props.accessibilityLayer){var oe,K;Q.tabIndex=(oe=this.props.tabIndex)!==null&&oe!==void 0?oe:0,Q.role=(K=this.props.role)!==null&&K!==void 0?K:"application",Q.onKeyDown=function(se){P.accessibilityManager.keyboardEvent(se)},Q.onFocus=function(){P.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Oe.createElement(PM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement("div",xp({className:Jn("recharts-wrapper",z),style:it({position:"relative",cursor:"default",width:k,height:O},V)},ee,{ref:function(_e){P.container=_e}}),Oe.createElement(JS,xp({},Q,{width:k,height:O,title:B,desc:D,style:sde}),this.renderClipPath(),Rk(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ye.Component);tn(N,"displayName",n),tn(N,"defaultProps",it({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),tn(N,"getDerivedStateFromProps",function(S,C){var R=S.dataKey,P=S.data,U=S.children,L=S.width,z=S.height,k=S.layout,O=S.stackOffset,V=S.margin,W=C.dataStartIndex,B=C.dataEndIndex;if(C.updateId===void 0){var D=eD(S);return it(it(it({},D),{},{updateId:0},y(it(it({props:S},D),{},{updateId:0}),C)),{},{prevDataKey:R,prevData:P,prevWidth:L,prevHeight:z,prevLayout:k,prevStackOffset:O,prevMargin:V,prevChildren:U})}if(R!==C.prevDataKey||P!==C.prevData||L!==C.prevWidth||z!==C.prevHeight||k!==C.prevLayout||O!==C.prevStackOffset||!Np(V,C.prevMargin)){var F=eD(S),Q={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},oe=it(it({},ZM(C,P,k)),{},{updateId:C.updateId+1}),K=it(it(it({},F),Q),oe);return it(it(it({},K),y(it({props:S},K),C)),{},{prevDataKey:R,prevData:P,prevWidth:L,prevHeight:z,prevLayout:k,prevStackOffset:O,prevMargin:V,prevChildren:U})}if(!YS(U,C.prevChildren)){var ee,se,_e,xe,ce=fo(U,Zp),M=ce&&(ee=(se=ce.props)===null||se===void 0?void 0:se.startIndex)!==null&&ee!==void 0?ee:W,G=ce&&(_e=(xe=ce.props)===null||xe===void 0?void 0:xe.endIndex)!==null&&_e!==void 0?_e:B,Z=M!==W||G!==B,de=!qn(P),X=de&&!Z?C.updateId:C.updateId+1;return it(it({updateId:X},y(it(it({props:S},C),{},{updateId:X,dataStartIndex:M,dataEndIndex:G}),C)),{},{prevChildren:U,dataStartIndex:M,dataEndIndex:G})}return null}),tn(N,"renderActiveDot",function(S,C,R){var P;return ye.isValidElement(S)?P=ye.cloneElement(S,C):An(S)?P=S(C):P=Oe.createElement(cC,C),Oe.createElement(ci,{className:"recharts-active-dot",key:R},P)});var A=ye.forwardRef(function(C,R){return Oe.createElement(N,xp({},C,{ref:R}))});return A.displayName=N.displayName,A},vde=gde({chartName:"AreaChart",GraphicalChild:uf,axisComponents:[{axisType:"xAxis",AxisComp:vb},{axisType:"yAxis",AxisComp:yb}],formatAxisMap:yle});const yde=({sales:t,stock:e,transactions:n,batches:r,clients:i,onBack:a})=>{const[s,l]=ye.useState(null),[c,d]=ye.useState(!1),[h,m]=ye.useState(new Set),[g,y]=ye.useState("commercial"),[N,A]=ye.useState(!1),S=Array.isArray(t)?t:[],C=Array.isArray(e)?e:[],R=Array.isArray(r)?r:[],P=Array.isArray(i)?i:[],U=S.reduce((F,Q)=>F+Q.peso_real_saida*Q.preco_venda_kg,0),L=S.reduce((F,Q)=>F+Q.peso_real_saida,0),z=S.reduce((F,Q)=>F+(Q.quebra_kg||0),0),k=S.filter(F=>F.status_pagamento==="PENDENTE").reduce((F,Q)=>{const oe=Q.peso_real_saida*Q.preco_venda_kg,K=Q.valor_pago||0;return F+(oe-K)},0),O=S.slice(-12).map((F,Q)=>({name:`V${Q+1}`,lucro:(F.lucro_liquido_unitario||0)*F.peso_real_saida,valor:F.peso_real_saida*F.preco_venda_kg})),V=ye.useMemo(()=>{const F=new Map;return S.forEach(Q=>{const oe=C.find(G=>G.id_completo===Q.id_completo),K=oe?R.find(G=>G.id_lote===oe.id_lote):null,ee=P.find(G=>G.id_ferro===Q.id_cliente),se=(K==null?void 0:K.id_lote)||"sem-lote";F.has(se)||F.set(se,[]);const _e=Q.peso_real_saida*Q.preco_venda_kg,xe=K&&Number(K.custo_real_kg)||0,ce=Q.peso_real_saida*xe+(Q.custo_extras_total||0),M=_e-ce;F.get(se).push({sale:Q,item:oe,batch:K,client:ee,revenue:_e,cost:ce,profit:M})}),Array.from(F.entries()).map(([Q,oe])=>{const K=oe[0].batch,ee=oe.reduce((xe,ce)=>xe+ce.revenue,0),se=oe.reduce((xe,ce)=>xe+ce.cost,0),_e=oe.reduce((xe,ce)=>xe+ce.profit,0);return{batchId:Q,batch:K,items:oe,totalRevenue:ee,totalCost:se,totalProfit:_e,supplier:(K==null?void 0:K.fornecedor)||"Desconhecido"}}).sort((Q,oe)=>oe.totalRevenue-Q.totalRevenue)},[S,C,R,P]),W=ye.useMemo(()=>{const F=[];V.forEach(oe=>{const K=oe.items.reduce((_e,xe)=>{var ce;return _e+(((ce=xe.item)==null?void 0:ce.peso_entrada)||0)},0),ee=oe.items.reduce((_e,xe)=>_e+xe.sale.peso_real_saida,0),se=K>0?ee/K*100:100;se<95&&F.push({type:"critical",message:`Quebra Crtica: Lote ${oe.batchId.slice(0,8)}`,detail:`Rendimento de ${se.toFixed(1)}% detectado. Verifique cmara fria.`})}),i.forEach(oe=>{(oe.tier==="F"||oe.score<300)&&F.push({type:"critical",message:`Risco de Crdito: ${oe.nome_social}`,detail:"Cliente em Nvel F detectado. Operaes de venda devem ser bloqueadas."})});const Q=new Date;return e.filter(oe=>oe.status==="DISPONIVEL").forEach(oe=>{const K=new Date(oe.data_entrada),ee=Math.floor((Q.getTime()-K.getTime())/(1e3*3600*24));ee>12&&F.push({type:"warning",message:`Item Envelhecido: ${oe.id_completo}`,detail:`Pea com ${ee} dias em estoque. Prioritize sada para evitar perda de peso.`})}),F},[V,i,e]),B=F=>{const Q=new Set(h);Q.has(F)?Q.delete(F):Q.add(F),m(Q)},D=async()=>{d(!0),await new Promise(F=>setTimeout(F,800)),A(!0),W.length>0?l(`Core IA detectou ${W.length} pontos de ateno operacional. Recomendamos auditoria imediata nos lotes com quebra acentuada.`):l("Integridade operacional verificada. Sem anomalias crticas no ciclo atual."),d(!1)};return f.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:g==="commercial"?f.jsx(K7,{size:28}):f.jsx(ja,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:[g==="commercial"?"Performance ":"Analtico de ",f.jsx("span",{className:"text-blue-600",children:g==="commercial"?"Comercial":"Rendimento"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:g==="commercial"?"Painel Analtico de Fluxo Industrial":"Monitoramento de Yield e Queba Industrial"})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[f.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[f.jsx("button",{onClick:()=>y("commercial"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="commercial"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Comercial"}),f.jsx("button",{onClick:()=>y("yield"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="yield"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Rendimento"})]}),f.jsxs("button",{onClick:D,disabled:c,className:"bg-white border border-gray-200 text-gray-700 px-6 py-3 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm flex items-center gap-3 disabled:opacity-50",children:[c?f.jsx(ja,{className:"animate-spin text-blue-600",size:16}):f.jsx(Y7,{className:"text-blue-600",size:16}),"IA Insight"]})]})]}),N&&f.jsxs("div",{className:"mb-10 grid grid-cols-1 lg:grid-cols-3 gap-6 animate-reveal",children:[f.jsxs("div",{className:"lg:col-span-1 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(KH,{size:80})}),f.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400 mb-6 flex items-center gap-2",children:[f.jsx(_s,{size:14,className:"fill-blue-400"})," IA Insights Operacionais"]}),f.jsxs("p",{className:"text-sm font-medium leading-relaxed italic border-l-2 border-blue-500 pl-4",children:['"',s,'"']}),f.jsx("button",{onClick:()=>A(!1),className:"mt-8 text-[9px] font-black uppercase text-slate-500 hover:text-white transition-colors",children:"OCULTAR PAINEL IA"})]}),f.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[W.slice(0,4).map((F,Q)=>f.jsxs("div",{className:`p-6 rounded-[24px] border-l-4 shadow-sm flex items-start gap-4 animate-reveal ${F.type==="critical"?"bg-rose-50 border-rose-500":F.type==="warning"?"bg-orange-50 border-orange-500":"bg-blue-50 border-blue-500"}`,children:[f.jsx("div",{className:`p-2 rounded-xl ${F.type==="critical"?"bg-rose-500 text-white":F.type==="warning"?"bg-orange-500 text-white":"bg-blue-500 text-white"}`,children:F.type==="critical"?f.jsx(Z0,{size:16}):f.jsx(LG,{size:16})}),f.jsxs("div",{children:[f.jsx("h5",{className:"text-[11px] font-black text-slate-900 uppercase italic mb-1",children:F.message}),f.jsx("p",{className:"text-[10px] font-medium text-slate-500 leading-tight",children:F.detail})]})]},Q)),W.length===0&&f.jsxs("div",{className:"md:col-span-2 p-10 bg-emerald-50 rounded-[24px] border-l-4 border-emerald-500 flex flex-col items-center justify-center text-center",children:[f.jsx(Go,{size:40,className:"text-emerald-500 mb-2"}),f.jsx("h5",{className:"text-xs font-black text-emerald-900 uppercase",children:"Ambiente Seguro"}),f.jsx("p",{className:"text-[10px] font-medium text-emerald-600",children:"Nenhum risco detectado pelo monitor IA."})]})]})]}),g==="commercial"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{label:"Receita Total",val:U,icon:Hf,color:"text-blue-600",bg:"bg-blue-50"},{label:"Fluxo Pendente",val:k,icon:mG,color:"text-amber-600",bg:"bg-amber-50"},{label:"Volume Expedido",val:L,icon:dh,color:"text-emerald-600",bg:"bg-emerald-50",fmt:"w"},{label:"ndice de Quebra",val:z,icon:f1,color:"text-rose-600",bg:"bg-rose-50",fmt:"w"}].map((F,Q)=>f.jsxs("div",{className:"premium-card bg-white p-6 rounded-3xl group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:`${F.bg} ${F.color} p-3 rounded-2xl`,children:f.jsx(F.icon,{size:20})}),f.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-100 group-hover:bg-blue-500 transition-colors"})]}),f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:F.label}),f.jsx("p",{className:"text-2xl font-extrabold text-gray-900",children:F.fmt==="w"?Pr(F.val):Gt(F.val)})]},Q))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[f.jsxs("div",{className:"lg:col-span-2 premium-card bg-white p-6 rounded-3xl h-[400px] flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Monitoramento de Vendas"}),f.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"Fluxo de caixa das ltimas 12 operaes"})]}),f.jsx("div",{className:"bg-blue-50 px-3 py-1 rounded-full text-blue-600 font-bold text-[9px] uppercase tracking-widest",children:"Tempo Real"})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(iZ,{width:"100%",height:"100%",children:f.jsxs(vde,{data:O,margin:{top:0,right:0,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorBrand",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.15}),f.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),f.jsx(YU,{strokeDasharray:"4 4",stroke:"#f1f5f9",vertical:!1}),f.jsx(vb,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:10,fontWeight:600},axisLine:!1,tickLine:!1}),f.jsx(yb,{tick:{fontSize:10,fontWeight:600,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:F=>`R$${F/1e3}k`}),f.jsx(vc,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontSize:"11px",fontWeight:"bold"}}),f.jsx(uf,{type:"monotone",dataKey:"valor",stroke:"#2563eb",strokeWidth:3,fill:"url(#colorBrand)"})]})})})]}),f.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-8",children:"Estado do Sistema"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold",children:"L"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lotes Totais"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[R.length," Registros"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center font-bold",children:"V"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Unidades Vendidas"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[S.length," Itens"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold",children:"C"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Base de Clientes"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[P.length," Ativos"]})]})]})]}),f.jsx("div",{className:"mt-auto pt-6 border-t border-gray-50",children:f.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(_s,{size:10,className:"text-amber-500 fill-amber-500"}),f.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Otimizao de Custos"})]}),f.jsx("div",{className:"w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-emerald-500 h-full w-[85%]"})})]})})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[f.jsx(Wd,{size:16,className:"text-blue-600"}),"Detalhamento por Lote"]}),f.jsxs("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[V.length," Entradas"]})]}),f.jsxs("div",{className:"divide-y divide-gray-50",children:[V.map(({batchId:F,batch:Q,items:oe,totalRevenue:K,totalCost:ee,totalProfit:se,supplier:_e})=>{const xe=h.has(F);return f.jsxs("div",{className:"group",children:[f.jsxs("div",{onClick:()=>B(F),className:`p-6 flex flex-col md:flex-row items-start md:items-center justify-between cursor-pointer transition-all gap-6 ${xe?"bg-blue-50/30":"hover:bg-gray-50/50"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-bold uppercase tracking-wider",children:F.slice(0,8)}),f.jsx("h4",{className:"text-md font-bold text-gray-800",children:Q?Q.id_lote:"Lote Avulso"})]}),f.jsxs("p",{className:"text-[11px] text-gray-400 font-medium",children:["Fornecedor: ",_e,"  Itens: ",oe.length]})]}),f.jsxs("div",{className:"flex items-center gap-10",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Venda Bruta"}),f.jsx("p",{className:"text-sm font-bold text-gray-900",children:Gt(K)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Lucro Lquido"}),f.jsx("p",{className:`text-sm font-extrabold ${se>=0?"text-emerald-600":"text-rose-600"}`,children:Gt(se)})]}),f.jsx("div",{className:`p-2 rounded-xl transition-all ${xe?"bg-blue-100 text-blue-600 rotate-90":"text-gray-300"}`,children:f.jsx(Mc,{size:18})})]})]}),xe&&f.jsx("div",{className:"bg-[#fcfdff] border-t border-blue-50 px-6 py-4",children:f.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Venda"}),f.jsx("th",{children:"Cliente"}),f.jsx("th",{children:"Item"}),f.jsx("th",{className:"text-right",children:"Peso"}),f.jsx("th",{className:"text-right",children:"Valor"}),f.jsx("th",{className:"text-right",children:"Lucro"})]})}),f.jsx("tbody",{children:oe.map((ce,M)=>{var G,Z;return f.jsxs("tr",{children:[f.jsx("td",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(ce.sale.data_venda).toLocaleDateString()}),f.jsx("td",{className:"font-bold text-gray-800",children:((G=ce.client)==null?void 0:G.nome_social)||ce.sale.nome_cliente||"Varejo"}),f.jsx("td",{children:f.jsx("span",{className:"font-mono text-[9px] text-blue-600 font-bold",children:((Z=ce.item)==null?void 0:Z.id_completo)||ce.sale.id_completo})}),f.jsx("td",{className:"text-right font-medium text-gray-600",children:Pr(ce.sale.peso_real_saida)}),f.jsx("td",{className:"text-right font-bold text-gray-900",children:Gt(ce.revenue)}),f.jsx("td",{className:`text-right font-bold ${ce.profit>=0?"text-emerald-600":"text-rose-600"}`,children:Gt(ce.profit)})]},M)})})]})})})]},F)}),V.length===0&&f.jsxs("div",{className:"text-center py-20 text-gray-300",children:[f.jsx(Wd,{size:48,className:"mx-auto mb-4 opacity-10"}),f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})]})]})]}):f.jsxs("div",{className:"animate-reveal space-y-10",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(()=>{const F=V.reduce((K,ee)=>{const se=ee.items.reduce((_e,xe)=>{var ce;return _e+(((ce=xe.item)==null?void 0:ce.peso_entrada)||0)},0);return K+se},0),Q=V.reduce((K,ee)=>K+ee.items.reduce((se,_e)=>se+_e.sale.peso_real_saida,0),0),oe=F>0?Q/F*100:0;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"premium-card p-10 bg-slate-900 text-white relative flex flex-col justify-center",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:f.jsx(ja,{size:80})}),f.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Yield Industrial Global"}),f.jsxs("h3",{className:"text-6xl font-black tracking-tighter",children:[oe.toFixed(1),"%"]}),f.jsx("p",{className:"text-xs font-bold text-slate-500 mt-4 uppercase tracking-widest",children:"Aproveitamento Mdio"})]}),f.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Total Quebra Detectada"}),f.jsx("h3",{className:"text-4xl font-black text-rose-600 tracking-tight",children:Pr(z)}),f.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[f.jsx(f1,{size:14,className:"text-rose-600"}),f.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Impacto direto na margem"})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Eficincia de Resfriamento"}),f.jsx("h3",{className:"text-4xl font-black text-emerald-600 tracking-tight",children:"97.8%"}),f.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[f.jsx(h1,{size:14,className:"text-emerald-600"}),f.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Status Operacional: Estvel"})]})]})]})})()}),f.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-slate-50/50",children:[f.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Auditria de Rendimento por Lote"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),f.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:[">"," 97% Bom"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),f.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:["<"," 95% Crtico"]})]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Identificao"}),f.jsx("th",{children:"Entrada Bruta"}),f.jsx("th",{children:"Sada Lquida"}),f.jsx("th",{className:"text-right",children:"Quebra (kg)"}),f.jsx("th",{className:"text-right",children:"Rendimento %"}),f.jsx("th",{className:"w-40 text-center",children:"Status Industrial"})]})}),f.jsx("tbody",{children:V.map(F=>{const Q=F.items.reduce((se,_e)=>{var xe;return se+(((xe=_e.item)==null?void 0:xe.peso_entrada)||0)},0),oe=F.items.reduce((se,_e)=>se+_e.sale.peso_real_saida,0),K=Q-oe,ee=Q>0?oe/Q*100:0;return f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:["Lote ",F.batchId.slice(0,8),"  ",F.supplier]}),f.jsx("td",{className:"font-bold text-slate-500",children:Pr(Q)}),f.jsx("td",{className:"font-black text-slate-900",children:Pr(oe)}),f.jsx("td",{className:"text-right font-black text-rose-500",children:Pr(K)}),f.jsxs("td",{className:`text-right font-black text-lg ${ee>97?"text-emerald-600":ee<95?"text-rose-600":"text-slate-900"}`,children:[ee.toFixed(2),"%"]}),f.jsx("td",{className:"text-center",children:f.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${ee>97?"bg-emerald-50 text-emerald-600 border border-emerald-100":ee<95?"bg-rose-50 text-rose-600 border border-rose-100":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:ee>97?"ALTA EFICINCIA":ee<95?"QUEBA ACENTUADA":"ESTVEL"})})]},F.batchId)})})]})})]}),f.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100",children:[f.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-8",children:f.jsx(iG,{size:40,className:"text-slate-200"})}),f.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.6em]",children:"Projeo de Curva de Perda Industrial"}),f.jsx("p",{className:"text-[9px] font-bold text-slate-200 mt-4 uppercase",children:"IA est processando variaes sazonais..."})]})]})]})})},xde=({clients:t,addClient:e,updateClient:n,deleteClient:r,receiveClientPayment:i,onBack:a,sales:s})=>{const[l,c]=ye.useState(""),[d,h]=ye.useState(!1),[m,g]=ye.useState({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}),[y,N]=ye.useState(null),[A,S]=ye.useState(!1),[C,R]=ye.useState(null),[P,U]=ye.useState(!1),[L,z]=ye.useState(""),[k,O]=ye.useState(new Date().toISOString().split("T")[0]),[V,W]=ye.useState("PIX"),B=t.filter(K=>K.id_ferro.includes(l)||K.nome_social.toLowerCase().includes(l.toLowerCase())).sort((K,ee)=>K.nome_social.localeCompare(ee.nome_social)),D=K=>{K.preventDefault(),m.id_ferro&&m.nome_social&&(e(m),h(!1),g({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}))},F=K=>{K.preventDefault(),C&&n&&(n(C),N(C),S(!1))},Q=K=>{if(K.preventDefault(),y&&L){const ee=parseFloat(L);ee>0&&(i(y.id_ferro,ee,V,k),U(!1),z(""),W("PIX"),N(null))}},oe=K=>`https://wa.me/55${K.replace(/\D/g,"")}`;return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-emerald-600 p-3 rounded-2xl text-white shadow-xl shadow-emerald-100",children:f.jsx(fG,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",f.jsx("span",{className:"text-emerald-600",children:"Clientes"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Central de Relacionamento e Crdito / ID-CRM"})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[f.jsxs("div",{className:"relative group w-full sm:w-80",children:[f.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:16}),f.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou ID...",className:"modern-input pl-12 bg-white",value:l,onChange:K=>c(K.target.value)})]}),f.jsxs("button",{onClick:()=>h(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 shadow-lg shadow-blue-100",children:[f.jsx(t9,{size:18})," Novo Cliente"]})]})]}),d&&f.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[f.jsxs("div",{className:"bg-emerald-600 p-8 text-white flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Cadastro de Entidade"}),f.jsx("p",{className:"text-[10px] text-emerald-100 font-bold uppercase tracking-widest mt-1",children:"Mdulo de Entrada Segura / CRM-01"})]}),f.jsx("button",{onClick:()=>h(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:f.jsx(Sc,{size:20})})]}),f.jsxs("form",{onSubmit:D,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"md:col-span-4",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"ID / Marca"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: 77",value:m.id_ferro,onChange:K=>g({...m,id_ferro:K.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"md:col-span-8",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Nome Social / Razo Social"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"NOME COMPLETO DO CLIENTE",value:m.nome_social,onChange:K=>g({...m,nome_social:K.target.value.toUpperCase()})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CPF / CNPJ"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:m.cpf_cnpj,onChange:K=>g({...m,cpf_cnpj:K.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"WhatsApp"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:m.whatsapp,onChange:K=>g({...m,whatsapp:K.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Telefone Fixo"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 0000-0000",value:m.telefone_residencial,onChange:K=>g({...m,telefone_residencial:K.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4 border-t border-gray-50",children:[f.jsxs("div",{className:"md:col-span-3",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CEP"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"00000-000",value:m.cep,onChange:K=>g({...m,cep:K.target.value})})]}),f.jsxs("div",{className:"md:col-span-5",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Endereo"}),f.jsx("input",{type:"text",className:"modern-input",value:m.endereco,onChange:K=>g({...m,endereco:K.target.value})})]}),f.jsxs("div",{className:"md:col-span-4",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Bairro"}),f.jsx("input",{type:"text",className:"modern-input",value:m.bairro,onChange:K=>g({...m,bairro:K.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Cidade / UF"}),f.jsx("input",{type:"text",className:"modern-input",value:m.cidade,onChange:K=>g({...m,cidade:K.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-2 block",children:"Limite de Crdito"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-bold text-emerald-600 text-sm",children:"R$"}),f.jsx("input",{type:"number",className:"modern-input pl-12 bg-emerald-50 border-emerald-100 text-emerald-700 font-bold",value:m.limite_credito,onChange:K=>g({...m,limite_credito:Number(K.target.value)})})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-emerald-600 hover:bg-emerald-700",children:"Finalizar Registro"})]})]})]})}),f.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-24 text-center",children:"ID"}),f.jsx("th",{children:"Titular / Razo Social"}),f.jsx("th",{className:"hidden md:table-cell",children:"Localizao"}),f.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),f.jsx("th",{className:"text-center",children:"Score de Crdito"}),f.jsx("th",{className:"text-right",children:"Saldo Devedor"}),f.jsx("th",{className:"w-16"})]})}),f.jsx("tbody",{children:B.map(K=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"text-center",children:f.jsx("div",{onClick:()=>{N(K),S(!1)},className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center font-mono font-bold text-gray-500 group-hover:bg-blue-600 group-hover:text-white transition-all cursor-pointer mx-auto",children:K.id_ferro})}),f.jsx("td",{children:f.jsxs("div",{onClick:()=>{N(K),S(!1)},className:"cursor-pointer",children:[f.jsx("p",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:K.nome_social}),f.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:K.cpf_cnpj||"SEM DOCUMENTO"})]})}),f.jsx("td",{className:"hidden md:table-cell",children:K.cidade?f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[f.jsx(l1,{size:12,className:"text-blue-500"})," ",K.cidade]}),f.jsx("span",{className:"text-[10px] text-gray-400",children:K.bairro})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO DEFINIDO"})}),f.jsx("td",{className:"hidden sm:table-cell",children:K.whatsapp?f.jsxs("div",{className:"flex flex-col",children:[f.jsx("p",{className:"text-xs font-bold text-gray-700",children:K.whatsapp}),f.jsx("a",{href:oe(K.whatsapp),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),f.jsx("td",{className:"text-center",children:(()=>{const ee=xR(K,s,HS);return f.jsxs("div",{className:"flex flex-col items-center gap-1 group/score relative",children:[f.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((se,_e)=>f.jsx(pR,{size:10,className:_e<ee.stars?"fill-amber-400 text-amber-400":"text-slate-200"},_e))}),f.jsxs("span",{className:`text-[9px] font-black px-2 py-0.5 rounded-md border ${ee.color} ${ee.bg} ${ee.border}`,children:["NVEL ",ee.tier]})]})})()}),f.jsx("td",{className:"text-right",children:f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:`text-sm font-bold ${K.saldo_devedor>0?"text-rose-600":"text-emerald-600"}`,children:Gt(K.saldo_devedor)}),K.saldo_devedor>0&&f.jsx("span",{className:"text-[9px] font-bold text-rose-300 uppercase tracking-tighter",children:"Em Aberto"})]})}),f.jsx("td",{className:"text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:ee=>{ee.stopPropagation(),confirm(` Excluir cliente ${K.nome_social}?

Esta ao no pode ser desfeita!`)&&r(K.id_ferro)},className:"opacity-0 group-hover:opacity-100 p-2 rounded-lg bg-rose-50 text-rose-500 hover:bg-rose-500 hover:text-white transition-all",title:"Excluir cliente",children:f.jsx(Zf,{size:16})}),f.jsx(Mc,{size:18,className:"text-gray-300 group-hover:text-blue-500 transition-all transform group-hover:translate-x-1"})]})})]},K.id_ferro))})]})})}),y&&!P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[f.jsxs("div",{className:`p-8 flex justify-between items-center ${A?"bg-amber-50":"bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 font-black text-3xl shadow-sm border border-slate-100",children:y.id_ferro}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:y.nome_social}),f.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:A?"Editor de Registro Master":`Matrcula #${y.cpf_cnpj||"---"}`})]})]}),f.jsx("button",{onClick:()=>N(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:f.jsx(Sc,{size:24})})]}),f.jsx("div",{className:"p-8 overflow-y-auto bg-white flex-1",children:A?f.jsxs("form",{id:"edit-form",onSubmit:F,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"md:col-span-2 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Razo Social"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(C==null?void 0:C.nome_social)||"",onChange:K=>R(ee=>ee?{...ee,nome_social:K.target.value.toUpperCase()}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Documento"}),f.jsx("input",{type:"text",className:"modern-input",value:(C==null?void 0:C.cpf_cnpj)||"",onChange:K=>R(ee=>ee?{...ee,cpf_cnpj:K.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"WhatsApp"}),f.jsx("input",{type:"text",className:"modern-input",value:(C==null?void 0:C.whatsapp)||"",onChange:K=>R(ee=>ee?{...ee,whatsapp:K.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Limite de Crdito"}),f.jsx("input",{type:"number",className:"modern-input bg-emerald-50 border-emerald-100 font-bold text-emerald-700",value:(C==null?void 0:C.limite_credito)||0,onChange:K=>R(ee=>ee?{...ee,limite_credito:Number(K.target.value)}:null)})]})]}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-emerald-50/50 rounded-3xl p-6 border border-emerald-50",children:[f.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-1",children:"Limite de Crdito"}),f.jsx("p",{className:"text-3xl font-extrabold text-emerald-700",children:Gt(y.limite_credito)})]}),f.jsxs("div",{className:"bg-rose-50/50 rounded-3xl p-6 border border-rose-50",children:[f.jsx("p",{className:"text-[10px] font-bold text-rose-600 uppercase tracking-widest mb-1",children:"Saldo devedor Atual"}),f.jsx("p",{className:"text-3xl font-extrabold text-rose-700",children:Gt(y.saldo_devedor)})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Canais de Contato"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:f.jsx(hR,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-bold text-slate-700",children:y.whatsapp||"No cadastrado"}),f.jsx("a",{href:oe(y.whatsapp),target:"_blank",className:"text-[10px] text-blue-500 font-bold hover:underline",children:"Abrir WhatsApp"})]})]}),y.telefone_residencial&&f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:f.jsx(hR,{size:18})}),f.jsx("p",{className:"text-sm font-bold text-slate-700",children:y.telefone_residencial})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Informaes de Localidade"}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:f.jsx(l1,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight",children:y.endereco||"Endereo no disponvel"}),f.jsxs("p",{className:"text-xs text-slate-400 font-medium mt-1",children:[y.bairro,y.cidade?`, ${y.cidade}`:""]})]})]})]}),f.jsxs("div",{className:"md:col-span-2 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform",children:f.jsx(Go,{size:80})}),(()=>{const K=xR(y,s,HS);return f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Relatrio de Anlise de Crdito"}),f.jsxs("div",{className:"flex items-center gap-3 mb-2 justify-center md:justify-start",children:[f.jsxs("h3",{className:"text-4xl font-black italic",children:["CLASSE ",K.tier]}),K.tier==="F"&&f.jsx(zS,{className:"text-rose-500 animate-pulse",size:24}),K.tier==="AAA"&&f.jsx(W7,{className:"text-amber-500 animate-bounce",size:24})]}),f.jsxs("p",{className:`text-sm font-bold uppercase ${K.tier==="F"?"text-rose-400":"text-slate-400"}`,children:["Motivo: ",K.reason]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white/5 p-6 rounded-[24px] border border-white/5",children:[f.jsx("div",{className:"flex gap-2",children:[...Array(5)].map((ee,se)=>f.jsx(pR,{size:24,className:se<K.stars?"fill-amber-400 text-amber-400":"text-white/10"},se))}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Score de Confiana Industrial"})]}),K.tier==="F"&&f.jsxs("div",{className:"bg-rose-500/20 border border-rose-500/30 p-4 rounded-2xl flex items-center gap-4 animate-bounce",children:[f.jsx(Z0,{className:"text-rose-500"}),f.jsx("span",{className:"text-[10px] font-black uppercase text-rose-100 italic",children:"ALERTA DE FUMO: Crdito Bloqueado"})]})]})})()]})]})]})}),f.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:A?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),f.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-amber-600 hover:bg-amber-700 flex items-center gap-2",children:[f.jsx(d1,{size:18})," Salvar Alteraes"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>{R(y),S(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[f.jsx(J7,{size:18})," Editar Cadastro"]}),f.jsxs("button",{onClick:()=>{U(!0),z("")},disabled:((y==null?void 0:y.saldo_devedor)||0)<=0,className:"btn-modern btn-brand px-12 bg-blue-600 hover:bg-blue-700 flex items-center gap-3 disabled:opacity-30",children:[f.jsx(m1,{size:20})," Receber Pagamento"]})]})})]})}),P&&y&&f.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-xl animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-md p-8 relative border border-white",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h3",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Receber Valor"}),f.jsx("button",{onClick:()=>U(!1),className:"text-slate-400 p-2",children:f.jsx(Sc,{size:20})})]}),f.jsxs("div",{className:"bg-blue-50/50 rounded-3xl p-6 flex justify-between items-center mb-8 border border-blue-50",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-widest mb-1",children:"Dvida Total"}),f.jsx("p",{className:"text-2xl font-extrabold text-blue-700",children:Gt(y.saldo_devedor)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-blue-300 uppercase mb-1",children:"Cliente"}),f.jsxs("p",{className:"text-sm font-bold text-slate-700",children:["#",y.id_ferro]})]})]}),f.jsxs("form",{onSubmit:Q,className:"space-y-8",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center block",children:"Valor do Recebimento"}),f.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full bg-slate-50 rounded-3xl p-8 text-slate-900 text-4xl font-extrabold text-center focus:bg-blue-50 focus:ring-4 focus:ring-blue-100 transition-all outline-none",placeholder:"0.00",value:L,onChange:K=>z(K.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"date",className:"modern-input text-xs font-bold text-slate-500",value:k,onChange:K=>O(K.target.value)}),f.jsxs("select",{className:"modern-input text-xs font-bold text-slate-500 bg-white",value:V,onChange:K=>W(K.target.value),children:[f.jsx("option",{value:"PIX",children:"Pix"}),f.jsx("option",{value:"DINHEIRO",children:"Dinheiro"}),f.jsx("option",{value:"TRANSFERENCIA",children:"Transferncia"})]})]}),f.jsxs("button",{type:"submit",className:"w-full btn-modern btn-brand py-5 rounded-3xl bg-blue-600 hover:bg-blue-700 flex items-center justify-center gap-3 text-sm shadow-xl shadow-blue-100",children:[f.jsx(Go,{size:20})," Confirmar Recebimento"]})]})]})})]})},mS=window.SpeechRecognition||window.webkitSpeechRecognition,bde=({batches:t=[],suppliers:e=[],stock:n=[],addBatch:r,updateBatch:i,deleteBatch:a,addStockItem:s,updateStockItem:l,removeStockItem:c,registerBatchFinancial:d,onBack:h,onGoToStock:m})=>{const g=t||[],y=e||[],N=n||[],A=ye.useRef(null);ye.useRef(null);const[S,C]=ye.useState(!1),[R,P]=ye.useState(!1),[U,L]=ye.useState(null),[z,k]=ye.useState(!1),[O,V]=ye.useState(null),[W,B]=ye.useState(null),[D,F]=ye.useState(!1),Q=ye.useRef(null),oe=ye.useRef(!1);ye.useEffect(()=>{if(mS){const ve=new mS;ve.lang="pt-BR",ve.continuous=!1,ve.interimResults=!1,ve.onresult=le=>{const nt=le.results[0][0].transcript.toLowerCase().match(/\d+([.,]\d+)?/g);if(nt&&nt.length>0){const Xe=nt[0].replace(",",".");de(He=>({...He,peso:Xe})),F(!1),oe.current&&setTimeout(()=>{Q.current&&oe.current&&(F(!0),Q.current.start())},300)}else F(!1),setTimeout(()=>{Q.current&&oe.current&&(F(!0),Q.current.start())},500)},ve.onerror=le=>{F(!1),le.error!=="aborted"&&le.error!=="no-speech"&&oe.current&&setTimeout(()=>{Q.current&&oe.current&&(F(!0),Q.current.start())},500)},ve.onend=()=>F(!1),Q.current=ve}},[]);const K=()=>{var ve,le;D||oe.current?(oe.current=!1,F(!1),(ve=Q.current)==null||ve.stop()):(oe.current=!0,F(!0),(le=Q.current)==null||le.start())},[ee,se]=ye.useState({id_lote:"",fornecedor:"",data_recebimento:new Date().toISOString().split("T")[0],peso_total_romaneio:0,valor_compra_total:0,frete:0,gastos_extras:0,forma_pagamento:"PRAZO",valor_entrada:0,prazo_dias:30,status:"ABERTO",id_sequencia:1}),_e=ve=>{let le="LOTE";if(ee&&ee.fornecedor&&typeof ee.fornecedor=="string")try{const at=ee.fornecedor.toUpperCase().trim();if(at.length>0){const Qe={:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"I",:"I",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"C",:"N"},vt=at.replace(/[^\w\s]/g,_t=>Qe[_t]||"").split(" ").filter(_t=>_t.length>0);if(vt.length>0){const _t=vt[0],It=_t.length>=3?_t.substring(0,3):_t.padEnd(3,"X");let Tt="";vt.length>1&&(Tt=vt[vt.length-1].charAt(0)),le=`${It}${Tt}`.replace(/[^A-Z0-9]/g,"")}}}catch{le="LOTE"}const lt=new Date,nt=String(lt.getDate()).padStart(2,"0"),Xe=String(lt.getMonth()+1).padStart(2,"0"),He=`${nt}${Xe}`,et=`${le}-${He}-`;let Ke=ve;if(Ke===void 0){const at=g.filter(st=>st.id_lote&&st.id_lote.startsWith(et));let Qe=0;at.length>0&&(Qe=at.reduce((st,vt)=>{try{const _t=vt.id_lote.split("-"),It=_t[_t.length-1],Tt=parseInt(It);return isNaN(Tt)?st:Math.max(st,Tt)}catch{return st}},0)),Ke=Qe+1}return`${et}${String(Ke).padStart(2,"0")}`};ye.useEffect(()=>{!O&&ee.id_lote===""&&se(ve=>({...ve,id_lote:_e()}))},[O]);const xe=ye.useMemo(()=>W&&W.id_lote===O?W:g.find(ve=>ve.id_lote===O),[O,g,W]),[ce,M]=ye.useState([]),G=ye.useMemo(()=>{if(!O||!xe)return null;const le=[...N.filter(Ke=>Ke.id_lote===O),...ce.filter(Ke=>Ke.id_lote===O)],lt=le.reduce((Ke,at)=>{const Qe=at.sequencia;return Ke[Qe]||(Ke[Qe]={bandaA:null,bandaB:null,inteiro:null}),at.tipo===xn.BANDA_A?Ke[Qe].bandaA=at:at.tipo===xn.BANDA_B?Ke[Qe].bandaB=at:at.tipo===xn.INTEIRO&&(Ke[Qe].inteiro=at),Ke},{}),nt=Object.values(lt).reduce((Ke,at)=>{var Tt,Wt,wt;const Qe=((Tt=at.bandaA)==null?void 0:Tt.peso_entrada)||0,st=((Wt=at.bandaB)==null?void 0:Wt.peso_entrada)||0,vt=((wt=at.inteiro)==null?void 0:wt.peso_entrada)||0,_t=Qe>0&&st>0?3:0,It=vt>0?vt:Qe+st-_t;return Ke+It},0),Xe=xe.peso_total_romaneio,He=nt-Xe,et=Xe>0?nt/Xe*100:0;return{totalWeighed:nt,nfWeight:Xe,diff:He,percent:et,count:le.length}},[O,xe,N,ce]),[Z,de]=ye.useState({sequencia:"1",tipo:xn.BANDA_A.toString(),peso:"",pesoA:"",pesoB:""});ye.useEffect(()=>{if(O&&ce.length===0){const ve=N.filter(le=>le.id_lote===O);if(ve.length>0){const le=[...ve].sort((Xe,He)=>He.sequencia!==Xe.sequencia?He.sequencia-Xe.sequencia:He.tipo-Xe.tipo)[0];let lt=le.sequencia,nt=le.tipo;le.tipo===xn.INTEIRO?lt=le.sequencia+1:le.tipo===xn.BANDA_A?nt=xn.BANDA_B:le.tipo===xn.BANDA_B&&(lt=le.sequencia+1,nt=xn.BANDA_A),de(Xe=>({...Xe,sequencia:lt.toString(),tipo:nt.toString()}))}}},[O]);const X=(xe==null?void 0:xe.status)==="FECHADO";ye.useEffect(()=>{O&&A.current&&setTimeout(()=>{var ve;return(ve=A.current)==null?void 0:ve.focus()},500)},[O]);const ue=GS(ee.valor_compra_total||0,ee.frete||0,ee.gastos_extras||0,ee.peso_total_romaneio||0),we=async ve=>{ve.preventDefault();const le=ee.id_lote||_e();if(!ee.peso_total_romaneio)return;const lt={...ee,id_lote:le,custo_real_kg:ue,status:"ABERTO"};B(lt),V(le)},re=async ve=>{if(!O||X||!Z.sequencia||!Z.peso)return;const le=parseInt(Z.sequencia),lt=parseInt(Z.tipo),nt=lt===xn.BANDA_A?"BANDA_A":lt===xn.BANDA_B?"BANDA_B":"INTEIRO",Xe=parseFloat(Z.peso),et={id_completo:`${O}-${String(le).padStart(3,"0")}-${nt}`,id_lote:O,sequencia:le,tipo:lt,peso_entrada:Xe,status:"DISPONIVEL",data_entrada:(xe==null?void 0:xe.data_recebimento)||new Date().toISOString().split("T")[0]};M(Qe=>[...Qe,et]);let Ke=le,at=lt;lt===xn.INTEIRO?(Ke=le+1,at=xn.INTEIRO):lt===xn.BANDA_A?(Ke=le,at=xn.BANDA_B):lt===xn.BANDA_B&&(Ke=le+1,at=xn.BANDA_A),de({sequencia:Ke.toString(),tipo:at.toString(),peso:"",pesoA:"",pesoB:""}),setTimeout(()=>{var Qe;return(Qe=A.current)==null?void 0:Qe.focus()},50)},Se=ve=>{if(X)return;ce.some(lt=>lt.id_completo===ve)?M(lt=>lt.filter(nt=>nt.id_completo!==ve)):c&&c(ve)},Re=async()=>{if(!O)return;const ve=ce.filter(le=>le.id_lote===O);if(ve.length===0){alert("  necessrio cadastrar pelo menos uma pea antes de finalizar!");return}try{if(W&&W.id_lote===O){const le={...W,status:"FECHADO"},lt=await r(le);if(!lt||!lt.success){alert(" Erro ao salvar o lote: "+((lt==null?void 0:lt.error)||"Erro desconhecido"));return}await d(le)}else xe&&i&&(await d(xe),await i(xe.id_lote,{status:"FECHADO"}));for(const le of ve)await s(le);M(le=>le.filter(lt=>lt.id_lote!==O)),B(null),C(!1),alert(" Lote finalizado com sucesso!"),m()}catch(le){console.error("Erro ao finalizar:",le),alert(" Erro ao finalizar o lote.")}},Ee=ve=>{L({...ve}),P(!0)},We=async()=>{if(!(!U||!i))try{await i(U.id_lote,U),P(!1),L(null)}catch(ve){console.error("Erro ao salvar lote:",ve)}},Ge=async()=>{if(!(!U||!a||!window.confirm(` ATENO - EXCLUSO PERMANENTE!

Voc est prestes a EXCLUIR o lote:
${U.id_lote} - ${U.fornecedor}

Esta ao  IRREVERSVEL e ir:
 Remover o lote do sistema
 Perder todos os dados financeiros
 Afetar relatrios e histrico

Tem CERTEZA que deseja continuar?`)))try{await a(U.id_lote),alert(" Lote excludo com sucesso!"),P(!1),L(null)}catch(le){console.error("Erro ao excluir lote:",le),alert(" Erro ao excluir o lote.")}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:h,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:`p-3 rounded-2xl text-white shadow-xl ${X?"bg-slate-400":"bg-orange-600 shadow-orange-100"}`,children:f.jsx(fW,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Recepo de ",f.jsx("span",{className:"text-orange-600",children:"Lotes"})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Fluxo de Entrada / ID-LOG"}),xe&&f.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${X?"bg-slate-100 text-slate-500":"bg-orange-50 text-orange-600"}`,children:[X?f.jsx(fT,{size:10}):f.jsx(YG,{size:10}),X?"Lote Travado":"Acesso Liberado"]})]})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[!X&&xe&&f.jsxs("button",{onClick:()=>C(!0),className:"btn-modern bg-slate-900 text-white hover:bg-orange-600 px-8 py-4 gap-3 shadow-xl",children:[f.jsx(_u,{size:20})," Finalizar Operao"]}),f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"btn-modern bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 gap-3 shadow-xl",children:[f.jsx(zg,{size:18})," Editar Lotes"]}),f.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 w-80 max-h-96 overflow-y-auto z-50",children:f.jsx("div",{className:"p-2",children:g.length===0?f.jsx("p",{className:"text-xs text-slate-400 text-center py-8",children:"Nenhum lote cadastrado"}):g.map(ve=>f.jsx("button",{onClick:()=>Ee(ve),className:"w-full text-left p-3 hover:bg-blue-50 rounded-xl transition-colors group/item",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-black text-xs text-slate-900",children:ve.id_lote}),f.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:ve.fornecedor})]}),f.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase ${ve.status==="FECHADO"?"bg-slate-100 text-slate-500":"bg-green-50 text-green-600"}`,children:ve.status})]})},ve.id_lote))})})]})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[f.jsx("div",{className:"lg:col-span-4 space-y-6",children:f.jsxs("div",{className:"premium-card p-8",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[f.jsx(qp,{size:14,className:"text-orange-500"})," Parmetros do Lote"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-orange-50/50 rounded-2xl p-5 border border-orange-50",children:[f.jsx("label",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Identificador do Lote"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-2xl font-black text-slate-900 tracking-tight",children:xe?xe.id_lote:ee.id_lote}),!xe&&f.jsxs("div",{className:"flex items-center bg-white rounded-xl border border-orange-100 p-1",children:[f.jsx("button",{onClick:()=>{const ve=Math.max(1,ee.id_sequencia-1);se({...ee,id_sequencia:ve,id_lote:_e(ve)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:f.jsx(c1,{size:16})}),f.jsx("span",{className:"font-bold text-xs w-10 text-center text-slate-600",children:ee.id_sequencia}),f.jsx("button",{onClick:()=>{const ve=ee.id_sequencia+1;se({...ee,id_sequencia:ve,id_lote:_e(ve)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:f.jsx(Gf,{size:16})})]})]})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Fornecedor / Fazenda"}),f.jsx("input",{disabled:!!xe,type:"text",className:"modern-input",value:xe?xe.fornecedor:ee.fornecedor,onChange:ve=>{se(le=>({...le,fornecedor:ve.target.value.toUpperCase()})),k(!0)},onBlur:()=>setTimeout(()=>{k(!1),se(ve=>({...ve,id_lote:_e()}))},200),onFocus:()=>k(!0),placeholder:"BUSCAR FORNECEDOR"}),!xe&&z&&ee.fornecedor&&String(ee.fornecedor).length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-2xl rounded-2xl border border-slate-100 z-50 mt-2 p-2 max-h-48 overflow-y-auto animate-reveal",children:y.filter(ve=>ve.nome_fantasia.toUpperCase().includes(ee.fornecedor.toUpperCase())).map(ve=>f.jsx("div",{className:"p-3 hover:bg-orange-50 hover:text-orange-700 rounded-xl cursor-pointer font-bold text-xs text-slate-600 transition-colors",onClick:()=>{const le={...ee,fornecedor:ve.nome_fantasia.toUpperCase()};se(le),k(!1),setTimeout(()=>{se(lt=>({...lt,id_lote:_e()}))},100)},children:ve.nome_fantasia},ve.id))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Recebimento"}),f.jsx("input",{disabled:!!xe,type:"date",className:"modern-input text-xs",value:xe?xe.data_recebimento:ee.data_recebimento,onChange:ve=>se({...ee,data_recebimento:ve.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Romaneio (kg)"}),f.jsx("input",{disabled:!!xe,type:"number",step:"0.01",inputMode:"decimal",className:"modern-input font-bold",placeholder:"0,00 kg",value:xe?xe.peso_total_romaneio:ee.peso_total_romaneio,onChange:ve=>se({...ee,peso_total_romaneio:parseFloat(ve.target.value)||0})})]})]})]}),!xe&&f.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[f.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"Configurao Financeira"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Valor do Gado (R$)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"modern-input text-xl font-black bg-slate-50 border-slate-100",placeholder:"R$ 0,00",value:ee.valor_compra_total,onChange:ve=>se({...ee,valor_compra_total:parseFloat(ve.target.value)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Frete (R$)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"modern-input text-sm",placeholder:"R$ 0,00",value:ee.frete,onChange:ve=>se({...ee,frete:parseFloat(ve.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Extras (R$)"}),f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",className:"modern-input text-sm",placeholder:"R$ 0,00",value:ee.gastos_extras,onChange:ve=>se({...ee,gastos_extras:parseFloat(ve.target.value)||0})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 p-1 bg-slate-100 rounded-2xl",children:[f.jsx("button",{onClick:()=>se({...ee,forma_pagamento:"VISTA"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ee.forma_pagamento==="VISTA"?"bg-white text-orange-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Vista"}),f.jsx("button",{onClick:()=>se({...ee,forma_pagamento:"PRAZO"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ee.forma_pagamento==="PRAZO"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Prazo"})]})]}),f.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 flex justify-between items-center text-white",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),f.jsx("span",{className:"text-2xl font-black text-orange-400",children:Gt(ue)})]}),f.jsxs("button",{onClick:we,className:"w-full btn-modern btn-brand py-5 bg-orange-600 hover:bg-orange-700 shadow-lg shadow-orange-100",children:[f.jsx(_s,{size:18})," Iniciar Recepo"]})]})]})]})}),xe&&f.jsxs("div",{className:"lg:col-span-8 space-y-8 animate-reveal",children:[G&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Peso Real",value:Pr(G.totalWeighed),icon:Ep,color:"blue"},{label:"NF Esperado",value:Pr(G.nfWeight),icon:qp,color:"slate"},{label:"Variao",value:`${G.diff>0?"+":""}${Pr(G.diff)}`,icon:ZH,color:G.diff>=0?"emerald":"rose"},{label:"Contagem",value:`${G.count} Un`,icon:dh,color:"orange"}].map((ve,le)=>f.jsxs("div",{className:"premium-card p-6 flex flex-col gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-xl bg-${ve.color}-50 text-${ve.color}-600 flex items-center justify-center shadow-sm`,children:f.jsx(ve.icon,{size:16})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:ve.label}),f.jsx("p",{className:"text-xl font-black text-slate-900",children:ve.value})]})]},le))}),!X&&f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Ep,{size:14,className:"text-orange-500"})," Pesagem Rpida"]}),f.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"A  B  Prxima | 3kg/carcaa"})]}),f.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-900 to-slate-800",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 items-center",children:[f.jsxs("div",{className:"md:col-span-2 text-center",children:[f.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Seq"}),f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx("button",{type:"button",onClick:()=>de(ve=>({...ve,sequencia:Math.max(1,parseInt(ve.sequencia)-1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:f.jsx(c1,{size:12})}),f.jsx("div",{className:"bg-white rounded-xl px-3 py-2 shadow-lg",children:f.jsx("span",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight",children:String(Z.sequencia).padStart(3,"0")})}),f.jsx("button",{type:"button",onClick:()=>de(ve=>({...ve,sequencia:(parseInt(ve.sequencia||"0")+1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:f.jsx(Gf,{size:12})})]})]}),f.jsxs("div",{className:"md:col-span-3 text-center",children:[f.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tipo"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{type:"button",onClick:()=>de({...Z,tipo:xn.BANDA_A.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${Z.tipo===xn.BANDA_A.toString()?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"A"}),f.jsx("button",{type:"button",onClick:()=>de({...Z,tipo:xn.BANDA_B.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${Z.tipo===xn.BANDA_B.toString()?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"B"}),f.jsx("button",{type:"button",onClick:()=>de({...Z,tipo:xn.INTEIRO.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${Z.tipo===xn.INTEIRO.toString()?"bg-orange-600 text-white shadow-lg shadow-orange-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"INT"})]})]}),f.jsxs("div",{className:"md:col-span-7",children:[f.jsxs("div",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest mb-1 flex items-center justify-between",children:[f.jsx("span",{children:"Peso (KG)"}),mS&&f.jsxs("button",{type:"button",onClick:K,className:`flex items-center gap-1 px-2 py-1 rounded-lg text-[8px] transition-all ${D?"bg-rose-600 text-white animate-pulse":"bg-slate-700 text-slate-400 hover:text-white"}`,children:[D?f.jsx(r9,{size:10}):f.jsx(Ed,{size:10}),D?"OUVINDO":"VOZ"]})]}),f.jsxs("div",{className:"w-full bg-white rounded-xl py-4 px-4 text-4xl md:text-5xl font-black text-slate-900 text-right shadow-xl mb-3 min-h-[70px] flex items-center justify-end",children:[Z.peso||"0",f.jsx("span",{className:"text-xl text-slate-400 ml-1",children:"kg"})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[["7","8","9","C"].map(ve=>f.jsx("button",{type:"button",onClick:()=>{de(ve==="C"?{...Z,peso:""}:le=>({...le,peso:le.peso+ve}))},className:`h-14 md:h-16 rounded-xl font-black text-2xl transition-all active:scale-95 shadow-md ${ve==="C"?"bg-rose-500 text-white hover:bg-rose-600":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:ve},ve)),["4","5","6",","].map(ve=>f.jsx("button",{type:"button",onClick:()=>{ve===","?Z.peso.includes(".")||de(le=>({...le,peso:le.peso+"."})):de(le=>({...le,peso:le.peso+ve}))},className:`h-14 md:h-16 rounded-xl font-black text-2xl transition-all active:scale-95 shadow-md ${ve===","?"bg-slate-300 text-slate-700 hover:bg-slate-400":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:ve},ve)),["1","2","3",""].map(ve=>f.jsx("button",{type:"button",onClick:()=>{de(ve===""?le=>({...le,peso:le.peso.slice(0,-1)}):le=>({...le,peso:le.peso+ve}))},className:`h-14 md:h-16 rounded-xl font-black text-2xl transition-all active:scale-95 shadow-md ${ve===""?"bg-slate-400 text-white hover:bg-slate-500":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:ve},ve)),f.jsx("button",{type:"button",onClick:()=>de(ve=>({...ve,peso:ve.peso+"0"})),className:"h-14 md:h-16 col-span-2 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-md",children:"0"}),f.jsxs("button",{type:"button",onClick:()=>{re()},className:"h-14 md:h-16 col-span-2 rounded-xl font-black text-xl bg-orange-600 text-white hover:bg-orange-500 transition-all active:scale-95 shadow-xl shadow-orange-900/30 flex items-center justify-center gap-2",children:[f.jsx(Gf,{size:24})," ADD"]})]})]})]})})]}),f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Wd,{size:16,className:"text-orange-500"})," Registros Lanados"]}),f.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1.5 rounded-full uppercase",children:[(()=>{const ve=N.filter(nt=>nt.id_lote===O),le=ce.filter(nt=>nt.id_lote===O);return new Set([...ve,...le].map(nt=>nt.sequencia)).size})()," Carcaas"]})]}),f.jsx("div",{className:"overflow-x-auto max-h-[400px]",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"sticky top-0",children:f.jsxs("tr",{className:"bg-slate-800 text-white",children:[f.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider w-16",children:"Seq"}),f.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider",children:"ID"}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-blue-800",children:"Banda A"}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-emerald-800",children:"Banda B"}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-rose-800 w-20",children:"Desc."}),f.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-orange-700 w-24",children:"Total"}),f.jsx("th",{className:"px-3 py-2 w-24 text-center text-[10px] font-black uppercase tracking-wider",children:"Aes"})]})}),f.jsx("tbody",{children:(()=>{const ve=N.filter(He=>He.id_lote===O),le=ce.filter(He=>He.id_lote===O),lt=[...ve,...le],nt={};lt.forEach(He=>{nt[He.sequencia]||(nt[He.sequencia]={}),He.tipo===xn.BANDA_A?nt[He.sequencia].bandaA=He:He.tipo===xn.BANDA_B?nt[He.sequencia].bandaB=He:He.tipo===xn.INTEIRO&&(nt[He.sequencia].inteiro=He)});const Xe=Object.keys(nt).map(Number).sort((He,et)=>et-He);return Xe.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"py-16 text-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[f.jsx(Ep,{size:48}),f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})]})})}):Xe.map(He=>{var Wt,wt,Yn;const et=nt[He],Ke=((Wt=et.bandaA)==null?void 0:Wt.peso_entrada)||0,at=((wt=et.bandaB)==null?void 0:wt.peso_entrada)||0,Qe=((Yn=et.inteiro)==null?void 0:Yn.peso_entrada)||0,vt=Ke>0&&at>0?3:0,_t=Qe>0?Qe:Ke+at-vt,It=le.some(un=>un.sequencia===He),Tt=`${O}-${String(He).padStart(3,"0")}`;return f.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${It?"bg-orange-50/50":""}`,children:[f.jsx("td",{className:"px-3 py-2",children:f.jsx("span",{className:"bg-slate-200 px-2 py-1 rounded font-mono font-black text-slate-600",children:String(He).padStart(2,"0")})}),f.jsx("td",{className:"px-3 py-2",children:f.jsx("span",{className:"font-mono text-xs text-slate-500",children:Tt})}),f.jsx("td",{className:"px-3 py-2 text-center bg-blue-50",children:f.jsx("span",{className:"font-bold text-blue-700",children:Ke>0?Ke.toFixed(2).replace(".",","):"-"})}),f.jsx("td",{className:"px-3 py-2 text-center bg-emerald-50",children:f.jsx("span",{className:"font-bold text-emerald-700",children:at>0?at.toFixed(2).replace(".",","):Qe>0?"INT":"-"})}),f.jsx("td",{className:"px-3 py-2 text-center bg-rose-50",children:f.jsx("span",{className:"font-bold text-rose-600",children:vt>0?vt.toFixed(2).replace(".",","):"-"})}),f.jsx("td",{className:"px-3 py-2 text-center bg-orange-50",children:f.jsx("span",{className:"font-black text-orange-700 text-lg",children:_t.toFixed(2).replace(".",",")})}),f.jsx("td",{className:"px-3 py-2",children:!X&&f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx("button",{onClick:()=>{de({sequencia:He.toString(),tipo:xn.BANDA_A.toString(),peso:"",pesoA:Ke>0?Ke.toString():"",pesoB:at>0?at.toString():""}),et.bandaA&&Se(et.bandaA.id_completo),et.bandaB&&Se(et.bandaB.id_completo),et.inteiro&&Se(et.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Editar",children:f.jsx(zg,{size:14})}),f.jsx("button",{onClick:()=>{et.bandaA&&Se(et.bandaA.id_completo),et.bandaB&&Se(et.bandaB.id_completo),et.inteiro&&Se(et.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir",children:f.jsx(Zf,{size:14})})]})})]},He)})})()})]})})]})]})]}),S&&xe&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-lg w-full overflow-hidden border border-white",children:[f.jsxs("div",{className:"bg-orange-600 p-12 text-white text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:f.jsx(_u,{size:48})}),f.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Confirmar Fechamento"}),f.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-orange-100 opacity-60",children:"Operao de Finalizao de Lote"})]}),f.jsxs("div",{className:"p-12 space-y-8",children:[f.jsxs("div",{className:"bg-slate-50 rounded-3xl p-10 text-center space-y-3",children:[f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Peso Total Acumulado"}),f.jsx("p",{className:"text-6xl font-black text-slate-900 tracking-tighter",children:Pr((G==null?void 0:G.totalWeighed)||0)}),f.jsxs("div",{className:"flex justify-center gap-6 text-[10px] font-black pt-6 border-t border-slate-200 mt-6 uppercase tracking-wider",children:[f.jsxs("span",{className:"text-slate-400",children:["Alvo: ",Pr(xe.peso_total_romaneio)]}),f.jsxs("span",{className:`${((G==null?void 0:G.diff)||0)>=0?"text-emerald-600":"text-rose-600"}`,children:["Desvio: ",G==null?void 0:G.diff," kg"]})]})]}),f.jsxs("p",{className:"text-xs font-medium text-slate-500 leading-relaxed text-center px-4",children:["Ao confirmar, este lote ser ",f.jsx("span",{className:"text-slate-900 font-bold",children:"travado permanentemente"}),". Os dados financeiros sero registrados e os itens entraro oficialmente no estoque."]}),f.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[f.jsx("button",{onClick:Re,className:"btn-modern bg-slate-900 text-white w-full py-5 rounded-2xl hover:bg-orange-600 shadow-xl transition-all",children:"Sincronizar e Finalizar"}),f.jsx("button",{onClick:()=>C(!1),className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar Operao"})]})]})]})}),R&&U&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[f.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:f.jsx(zg,{size:48})}),f.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),f.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:U.id_lote})]}),f.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),f.jsx("input",{type:"text",className:"modern-input w-full",value:U.fornecedor,onChange:ve=>L({...U,fornecedor:ve.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full font-bold",value:U.peso_total_romaneio,onChange:ve=>L({...U,peso_total_romaneio:parseFloat(ve.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),f.jsx("input",{type:"date",className:"modern-input w-full",value:U.data_recebimento,onChange:ve=>L({...U,data_recebimento:ve.target.value})})]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[f.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full text-xl font-black",value:U.valor_compra_total,onChange:ve=>L({...U,valor_compra_total:parseFloat(ve.target.value)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:U.frete,onChange:ve=>L({...U,frete:parseFloat(ve.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:U.gastos_extras,onChange:ve=>L({...U,gastos_extras:parseFloat(ve.target.value)||0})})]})]}),f.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),f.jsx("span",{className:"text-xl font-black text-orange-400",children:Gt(GS(U.valor_compra_total,U.frete,U.gastos_extras,U.peso_total_romaneio))})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[f.jsxs("button",{onClick:We,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[f.jsx(_u,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),f.jsxs("button",{onClick:Ge,className:"btn-modern bg-rose-600 text-white w-full py-4 rounded-2xl hover:bg-rose-700 shadow-xl transition-all border-2 border-rose-700",children:[f.jsx(Zf,{size:18,className:"inline mr-2"}),"Excluir Lote Permanentemente"]}),f.jsx("button",{onClick:()=>{P(!1),L(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},_de=({stock:t,batches:e,sales:n,clients:r,updateBatch:i,deleteBatch:a,onBack:s})=>{const[l,c]=ye.useState("available"),[d,h]=ye.useState(""),[m,g]=ye.useState([]),y=t.filter(D=>D.status==="DISPONIVEL"),N=t.filter(D=>D.status==="VENDIDO"),A=ye.useMemo(()=>{const D=new Map;return y.forEach(F=>{if(d&&!F.id_completo.toLowerCase().includes(d.toLowerCase())&&!F.id_lote.toLowerCase().includes(d.toLowerCase()))return;if(!D.has(F.id_lote)){const oe=e.find(K=>K.id_lote===F.id_lote);if(!oe||oe.status!=="FECHADO")return;D.set(F.id_lote,{batch:oe,items:[],sequences:new Map})}const Q=D.get(F.id_lote);Q.items.push(F),Q.sequences.has(F.sequencia)||Q.sequences.set(F.sequencia,[]),Q.sequences.get(F.sequencia).push(F)}),Array.from(D.values()).sort((F,Q)=>{const oe=F.batch?new Date(F.batch.data_recebimento).getTime():0;return(Q.batch?new Date(Q.batch.data_recebimento).getTime():0)-oe})},[y,e,d]),S=D=>{g(F=>F.includes(D)?F.filter(Q=>Q!==D):[...F,D])},[C,R]=ye.useState(!1),[P,U]=ye.useState(null),L=D=>{U({...D}),R(!0)},z=async()=>{if(!(!P||!i))try{await i(P.id_lote,P),R(!1),U(null)}catch(D){console.error("Erro ao salvar lote:",D)}},k=async()=>{if(!(!P||!a||!window.confirm(` ATENO - EXCLUSO PERMANENTE!

Voc est prestes a EXCLUIR o lote:
${P.id_lote} - ${P.fornecedor}

Esta ao  IRREVERSVEL e ir:
 Remover o lote do sistema
 Perder todos os dados financeiros
 Afetar relatrios e histrico

Tem CERTEZA que deseja continuar?`)))try{await a(P.id_lote),alert(" Lote excludo com sucesso!"),R(!1),U(null)}catch(F){console.error("Erro ao excluir lote:",F),alert(" Erro ao excluir o lote.")}},O=ye.useMemo(()=>N.map(D=>{const F=n.find(oe=>oe.id_completo===D.id_completo),Q=F?r.find(oe=>oe.id_ferro===F.id_cliente):null;return{item:D,sale:F,client:Q}}).sort((D,F)=>D.sale&&F.sale?new Date(F.sale.data_venda).getTime()-new Date(D.sale.data_venda).getTime():0),[N,n,r]),V=ye.useMemo(()=>{const D=new Map;return O.forEach(({item:F,sale:Q,client:oe})=>{if(!(d&&!F.id_completo.toLowerCase().includes(d.toLowerCase())&&!F.id_lote.toLowerCase().includes(d.toLowerCase()))){if(!D.has(F.id_lote)){const K=e.find(ee=>ee.id_lote===F.id_lote);if(!K||K.status!=="FECHADO")return;D.set(F.id_lote,{batch:K,items:[]})}D.get(F.id_lote).items.push({item:F,sale:Q,client:oe})}}),Array.from(D.values()).sort((F,Q)=>{const oe=F.batch?new Date(F.batch.data_recebimento).getTime():0;return(Q.batch?new Date(Q.batch.data_recebimento).getTime():0)-oe})},[O,e,d]),W=ye.useMemo(()=>{const D=new Map;n.forEach(Q=>{const oe=t.find(_e=>_e.id_completo===Q.id_completo),K=oe?e.find(_e=>_e.id_lote===oe.id_lote):null,ee=(K==null?void 0:K.fornecedor)||"Desconhecido";D.has(ee)||D.set(ee,{totalWeight:0,totalBreakage:0,count:0});const se=D.get(ee);se.totalWeight+=Q.peso_real_saida,se.totalBreakage+=Q.quebra_kg||0,se.count+=1});const F=new Map;return D.forEach((Q,oe)=>{const K=Q.totalWeight+Q.totalBreakage,ee=K>0?Q.totalBreakage/K*100:0;let se="regular";ee<1.5?se="top":ee>3&&(se="poor"),F.set(oe,{avgBreakagePct:ee,quality:se})}),F},[n,e,t]),B=O.reduce((D,F)=>D+(F.sale?F.sale.peso_real_saida*F.sale.preco_venda_kg:0),0);return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:s,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:f.jsx(o1,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",f.jsx("span",{className:"text-blue-600",children:"Estoque"})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Controle de Inventrio / ID-INV"}),f.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase",children:[f.jsx(Go,{size:10})," Unidade Sincronizada"]})]})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[f.jsxs("div",{className:"relative group w-full sm:w-80",children:[f.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:16}),f.jsx("input",{type:"text",placeholder:"Buscar por Lote ou ID...",className:"modern-input pl-12 bg-white",value:d,onChange:D=>h(D.target.value)})]}),f.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[f.jsxs("button",{onClick:()=>c("available"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="available"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[f.jsx(BG,{size:14})," Disponvel"]}),f.jsxs("button",{onClick:()=>c("sold"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="sold"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[f.jsx(oR,{size:14})," Vendido"]})]})]})]}),l==="available"?f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[A.length===0&&f.jsxs("div",{className:"py-32 text-center premium-card",children:[f.jsx(o1,{size:64,className:"mx-auto mb-6 text-slate-100"}),f.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"O estoque est vazio no momento"})]}),A.map(({batch:D,items:F,sequences:Q})=>{var xe,ce,M;const oe=D?D.id_lote:F[0].id_lote,K=m.includes(oe)||d.length>0,ee=F.reduce((G,Z)=>{const de=Z.sequencia;return G[de]||(G[de]={bandaA:null,bandaB:null,inteiro:null}),Z.tipo===xn.BANDA_A?G[de].bandaA=Z:Z.tipo===xn.BANDA_B?G[de].bandaB=Z:Z.tipo===xn.INTEIRO&&(G[de].inteiro=Z),G},{}),se=Object.values(ee).reduce((G,Z)=>{var Se,Re,Ee;const de=((Se=Z.bandaA)==null?void 0:Se.peso_entrada)||0,X=((Re=Z.bandaB)==null?void 0:Re.peso_entrada)||0,ue=((Ee=Z.inteiro)==null?void 0:Ee.peso_entrada)||0,we=de>0&&X>0?3:0,re=ue>0?ue:de+X-we;return G+re},0),_e=D?bK(D.data_recebimento):0;return f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{onClick:()=>S(oe),className:`p-6 flex flex-col lg:flex-row items-center justify-between cursor-pointer transition-all gap-6 ${K?"bg-slate-50/50":"hover:bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[f.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all shadow-sm ${K?"bg-blue-600 text-white":"bg-slate-50 text-slate-400"}`,children:K?f.jsx(IG,{size:24}):f.jsx(kG,{size:24})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("h3",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:(D==null?void 0:D.fornecedor)||"Fornecedor N/A"}),D&&f.jsxs("div",{className:"flex gap-2",children:[(()=>{const G=_K(_e);return f.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black ${G.color} ${G.bg} px-2.5 py-1 rounded-full uppercase tracking-widest border ${G.border} shadow-sm`,children:[G.status==="fresh"&&f.jsx(WW,{size:10}),G.status==="prime"&&f.jsx(W7,{size:10}),G.status==="warning"&&f.jsx(dT,{size:10}),G.status==="critical"&&f.jsx(Bp,{size:10}),G.label," (",_e,"d)"]})})(),(D==null?void 0:D.fornecedor)&&W.has(D.fornecedor)&&f.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest border shadow-sm ${((xe=W.get(D.fornecedor))==null?void 0:xe.quality)==="top"?"bg-indigo-50 text-indigo-600 border-indigo-100":((ce=W.get(D.fornecedor))==null?void 0:ce.quality)==="poor"?"bg-orange-50 text-orange-600 border-orange-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:[f.jsx(bG,{size:10})," ",((M=W.get(D.fornecedor))==null?void 0:M.quality)==="top"?"Gentica Premium":"Gado Regular"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[f.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["ID-LOTE: ",f.jsx("span",{className:"text-slate-900",children:oe})]}),f.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),f.jsxs("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:["Entrada: ",D!=null&&D.data_recebimento?new Date(D.data_recebimento).toLocaleDateString():"N/A"]})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between w-full lg:w-auto gap-10",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peas"}),f.jsxs("p",{className:"text-xl font-extrabold text-slate-800",children:[F.length," UN"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peso Total"}),f.jsx("div",{className:"bg-emerald-50 px-4 py-2 rounded-xl border border-emerald-100",children:f.jsx("p",{className:"text-xl font-extrabold text-emerald-700",children:Pr(se)})})]}),f.jsx("div",{className:"flex items-center gap-2",children:D&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:G=>{G.stopPropagation(),L(D)},className:"w-10 h-10 rounded-xl bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Editar lote",children:f.jsx(zg,{size:16})}),f.jsx("button",{onClick:G=>{G.stopPropagation(),L(D)},className:"w-10 h-10 rounded-xl bg-rose-600 hover:bg-rose-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Excluir lote",children:f.jsx(gR,{size:16})})]})}),f.jsx("div",{className:`transition-all duration-300 ${K?"rotate-90 text-blue-600":"text-slate-300"}`,children:f.jsx(Mc,{size:24})})]})]}),K&&f.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 bg-white border-t border-slate-50 animate-reveal",children:Array.from(Q.entries()).sort((G,Z)=>G[0]-Z[0]).map(([G,Z])=>{const de=Z.some(Se=>Se.tipo===xn.INTEIRO),X=Z.some(Se=>Se.tipo===xn.BANDA_A),ue=Z.some(Se=>Se.tipo===xn.BANDA_B),we=de||X&&ue,re=Z.reduce((Se,Re)=>Se+Re.peso_entrada,0);return f.jsxs("div",{className:"group p-5 rounded-2xl border border-slate-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("span",{className:"text-[10px] font-black bg-slate-100 text-slate-500 px-2 py-0.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors uppercase",children:["#",String(G).padStart(3,"0")]}),f.jsx("span",{className:"text-lg font-black text-slate-800",children:Pr(re)})]}),f.jsxs("div",{className:"space-y-2 flex-1",children:[Z.map(Se=>f.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[f.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Se.tipo===xn.BANDA_A?"bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.4)]":Se.tipo===xn.BANDA_B?"bg-blue-500 shadow-[0_0_8px_rgba(37,99,235,0.4)]":"bg-slate-900 shadow-[0_0_8px_rgba(15,23,42,0.4)]"}`}),yR(Se.tipo).toUpperCase()]}),f.jsx("span",{className:"text-slate-900 bg-slate-50 px-2 py-0.5 rounded-lg",children:Pr(Se.peso_entrada)})]},Se.id_completo)),!we&&!de&&f.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 text-[8px] text-orange-600 font-black flex items-center gap-1.5 uppercase tracking-widest animate-pulse",children:[f.jsx(Z0,{size:10})," Parcial / Incompleto"]})]})]},G)})})]},oe)})]}):f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl shadow-slate-200 overflow-hidden",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:f.jsx(oR,{size:200})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-10 relative z-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full shadow-[0_0_12px_rgba(249,115,22,0.8)]"}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Acumulado em Vendas"})]}),f.jsx("h3",{className:"text-6xl md:text-7xl font-black tracking-tighter",children:Gt(B)})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 min-w-[240px] border border-white/10",children:[f.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Despachos Efetuados"}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("p",{className:"text-5xl font-black",children:N.length}),f.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Unidades"})]})]})]})]}),f.jsx("div",{className:"space-y-8",children:V.map(({batch:D,items:F})=>{const Q=F.reduce((ee,{sale:se})=>ee+(se?se.peso_real_saida*se.preco_venda_kg:0),0),oe=F.reduce((ee,{sale:se,item:_e})=>!se||!D?ee:ee+se.peso_real_saida*(Number(D.custo_real_kg)||0)+(se.custo_extras_total||0),0),K=Q-oe;return f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-center gap-10 bg-slate-50/50 border-b border-slate-50",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center text-slate-900",children:f.jsx(HH,{size:28})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-2xl font-black tracking-tight text-slate-900",children:D?`Lote ${D.id_lote}`:"Lote no vinculado"}),f.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:(D==null?void 0:D.fornecedor)||"Desconhecido"}),f.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),f.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest",children:["Custo Base: ",Gt((D==null?void 0:D.custo_real_kg)||0),"/kg"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-10 bg-white px-8 py-5 rounded-3xl border border-slate-100 shadow-sm",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Lucro Operacional"}),f.jsx("p",{className:`text-2xl font-black ${K>=0?"text-emerald-600":"text-rose-600"}`,children:Gt(K)})]}),f.jsx("div",{className:"w-px h-10 bg-slate-100"}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Qtd Vendida"}),f.jsxs("span",{className:"text-2xl font-black text-slate-800",children:[F.length," PC"]})]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Data"}),f.jsx("th",{children:"ID / Especificao"}),f.jsx("th",{children:"Cliente / Destino"}),f.jsx("th",{className:"text-right",children:"Peso Sada"}),f.jsx("th",{className:"text-right",children:"Total Venda"}),f.jsx("th",{className:"text-right",children:"Margem"})]})}),f.jsx("tbody",{children:F.map(({item:ee,sale:se,client:_e})=>{const xe=se?se.peso_real_saida*se.preco_venda_kg:0,ce=D&&Number(D.custo_real_kg)||0,M=se?se.peso_real_saida*ce+(se.custo_extras_total||0):0,G=xe-M;return f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"text-[10px] font-medium text-slate-400 uppercase",children:se?new Date(se.data_venda).toLocaleDateString():"N/A"}),f.jsxs("td",{children:[f.jsx("div",{className:"text-[10px] font-black text-slate-900 tracking-tighter uppercase",children:ee.id_completo}),f.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-0.5 uppercase tracking-widest",children:yR(ee.tipo)})]}),f.jsx("td",{children:_e?f.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight text-slate-700",children:_e.nome_social}):f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:(se==null?void 0:se.nome_cliente)||"Direto"})}),f.jsx("td",{className:"text-right font-black text-slate-900",children:se?Pr(se.peso_real_saida):"-"}),f.jsx("td",{className:"text-right font-black text-blue-600",children:Gt(xe)}),f.jsx("td",{className:"text-right",children:f.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg font-black text-sm ${G>=0?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:Gt(G)})})]},ee.id_completo)})})]})})]},D?D.id_lote:"unknown")})})]}),C&&P&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[f.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:f.jsx(zg,{size:48})}),f.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),f.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:P.id_lote})]}),f.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),f.jsx("input",{type:"text",className:"modern-input w-full",value:P.fornecedor,onChange:D=>U({...P,fornecedor:D.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full font-bold",value:P.peso_total_romaneio,onChange:D=>U({...P,peso_total_romaneio:parseFloat(D.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),f.jsx("input",{type:"date",className:"modern-input w-full",value:P.data_recebimento,onChange:D=>U({...P,data_recebimento:D.target.value})})]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[f.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full text-xl font-black",value:P.valor_compra_total,onChange:D=>U({...P,valor_compra_total:parseFloat(D.target.value)||0})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:P.frete,onChange:D=>U({...P,frete:parseFloat(D.target.value)||0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),f.jsx("input",{type:"number",step:"0.01",className:"modern-input w-full",value:P.gastos_extras,onChange:D=>U({...P,gastos_extras:parseFloat(D.target.value)||0})})]})]}),f.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),f.jsx("span",{className:"text-xl font-black text-orange-400",children:Gt(GS(P.valor_compra_total,P.frete,P.gastos_extras,P.peso_total_romaneio))})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[f.jsxs("button",{onClick:z,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[f.jsx(s1,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),f.jsxs("button",{onClick:k,className:"btn-modern bg-rose-600 text-white w-full py-4 rounded-2xl hover:bg-rose-700 shadow-xl transition-all border-2 border-rose-700",children:[f.jsx(gR,{size:18,className:"inline mr-2"}),"Excluir Lote Permanentemente"]}),f.jsx("button",{onClick:()=>{R(!1),U(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},wde="modulepreload",Ade=function(t){return"/frigogest-2026/"+t},nD={},cN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(d=>{if(d=Ade(d),d in nD)return;nD[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":wde,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,N)=>{g.addEventListener("load",y),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function xr(t){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}var as=Uint8Array,po=Uint16Array,xC=Int32Array,bb=new as([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_b=new as([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uN=new as([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hB=function(t,e){for(var n=new po(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xC(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},pB=hB(bb,2),mB=pB.b,dN=pB.r;mB[28]=258,dN[258]=28;var gB=hB(_b,0),Sde=gB.b,rD=gB.r,fN=new po(32768);for(var Kr=0;Kr<32768;++Kr){var bd=(Kr&43690)>>1|(Kr&21845)<<1;bd=(bd&52428)>>2|(bd&13107)<<2,bd=(bd&61680)>>4|(bd&3855)<<4,fN[Kr]=((bd&65280)>>8|(bd&255)<<8)>>1}var Tc=(function(t,e,n){for(var r=t.length,i=0,a=new po(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new po(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new po(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],h=e-t[i],m=s[t[i]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)l[fN[m]>>c]=d}else for(l=new po(r),i=0;i<r;++i)t[i]&&(l[i]=fN[s[t[i]-1]++]>>15-t[i]);return l}),Kd=new as(288);for(var Kr=0;Kr<144;++Kr)Kd[Kr]=8;for(var Kr=144;Kr<256;++Kr)Kd[Kr]=9;for(var Kr=256;Kr<280;++Kr)Kd[Kr]=7;for(var Kr=280;Kr<288;++Kr)Kd[Kr]=8;var V0=new as(32);for(var Kr=0;Kr<32;++Kr)V0[Kr]=5;var Ede=Tc(Kd,9,0),Nde=Tc(Kd,9,1),Tde=Tc(V0,5,0),Cde=Tc(V0,5,1),gS=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},_l=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},vS=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},bC=function(t){return(t+7)/8|0},vB=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new as(t.subarray(e,n))},Ide=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Sl=function(t,e,n){var r=new Error(e||Ide[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Sl),!n)throw r;return r},Rde=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new as(0);var s=!n,l=s||e.i!=2,c=e.i;s&&(n=new as(i*3));var d=function(Re){var Ee=n.length;if(Re>Ee){var We=new as(Math.max(Ee*2,Re));We.set(n),n=We}},h=e.f||0,m=e.p||0,g=e.b||0,y=e.l,N=e.d,A=e.m,S=e.n,C=i*8;do{if(!y){h=_l(t,m,1);var R=_l(t,m+1,3);if(m+=3,R)if(R==1)y=Nde,N=Cde,A=9,S=5;else if(R==2){var z=_l(t,m,31)+257,k=_l(t,m+10,15)+4,O=z+_l(t,m+5,31)+1;m+=14;for(var V=new as(O),W=new as(19),B=0;B<k;++B)W[uN[B]]=_l(t,m+B*3,7);m+=k*3;for(var D=gS(W),F=(1<<D)-1,Q=Tc(W,D,1),B=0;B<O;){var oe=Q[_l(t,m,F)];m+=oe&15;var P=oe>>4;if(P<16)V[B++]=P;else{var K=0,ee=0;for(P==16?(ee=3+_l(t,m,3),m+=2,K=V[B-1]):P==17?(ee=3+_l(t,m,7),m+=3):P==18&&(ee=11+_l(t,m,127),m+=7);ee--;)V[B++]=K}}var se=V.subarray(0,z),_e=V.subarray(z);A=gS(se),S=gS(_e),y=Tc(se,A,1),N=Tc(_e,S,1)}else Sl(1);else{var P=bC(m)+4,U=t[P-4]|t[P-3]<<8,L=P+U;if(L>i){c&&Sl(0);break}l&&d(g+U),n.set(t.subarray(P,L),g),e.b=g+=U,e.p=m=L*8,e.f=h;continue}if(m>C){c&&Sl(0);break}}l&&d(g+131072);for(var xe=(1<<A)-1,ce=(1<<S)-1,M=m;;M=m){var K=y[vS(t,m)&xe],G=K>>4;if(m+=K&15,m>C){c&&Sl(0);break}if(K||Sl(2),G<256)n[g++]=G;else if(G==256){M=m,y=null;break}else{var Z=G-254;if(G>264){var B=G-257,de=bb[B];Z=_l(t,m,(1<<de)-1)+mB[B],m+=de}var X=N[vS(t,m)&ce],ue=X>>4;X||Sl(3),m+=X&15;var _e=Sde[ue];if(ue>3){var de=_b[ue];_e+=vS(t,m)&(1<<de)-1,m+=de}if(m>C){c&&Sl(0);break}l&&d(g+131072);var we=g+Z;if(g<_e){var re=a-_e,Se=Math.min(_e,we);for(re+g<0&&Sl(3);g<Se;++g)n[g]=r[re+g]}for(;g<we;++g)n[g]=n[g-_e]}}e.l=y,e.p=M,e.b=g,e.f=h,y&&(h=1,e.m=A,e.d=N,e.n=S)}while(!h);return g!=n.length&&s?vB(n,0,g):n.subarray(0,g)},mu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Tg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},yS=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:xB,l:0};if(i==1){var s=new as(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(L,z){return L.f-z.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,h=1,m=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[d].f<n[m].f?d++:m++],c=n[d!=h&&n[d].f<n[m].f?d++:m++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var y=new po(g+1),N=hN(n[h-1],y,0);if(N>e){var r=0,A=0,S=N-e,C=1<<S;for(a.sort(function(z,k){return y[k.s]-y[z.s]||z.f-k.f});r<i;++r){var R=a[r].s;if(y[R]>e)A+=C-(1<<N-y[R]),y[R]=e;else break}for(A>>=S;A>0;){var P=a[r].s;y[P]<e?A-=1<<e-y[P]++-1:++r}for(;r>=0&&A;--r){var U=a[r].s;y[U]==e&&(--y[U],++A)}N=e}return{t:new as(y),l:N}},hN=function(t,e,n){return t.s==-1?Math.max(hN(t.l,e,n+1),hN(t.r,e,n+1)):e[t.s]=n},iD=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new po(++e),r=0,i=t[0],a=1,s=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},Cg=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},yB=function(t,e,n){var r=n.length,i=bC(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},aD=function(t,e,n,r,i,a,s,l,c,d,h){mu(e,h++,n),++i[256];for(var m=yS(i,15),g=m.t,y=m.l,N=yS(a,15),A=N.t,S=N.l,C=iD(g),R=C.c,P=C.n,U=iD(A),L=U.c,z=U.n,k=new po(19),O=0;O<R.length;++O)++k[R[O]&31];for(var O=0;O<L.length;++O)++k[L[O]&31];for(var V=yS(k,7),W=V.t,B=V.l,D=19;D>4&&!W[uN[D-1]];--D);var F=d+5<<3,Q=Cg(i,Kd)+Cg(a,V0)+s,oe=Cg(i,g)+Cg(a,A)+s+14+3*D+Cg(k,W)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&F<=Q&&F<=oe)return yB(e,h,t.subarray(c,c+d));var K,ee,se,_e;if(mu(e,h,1+(oe<Q)),h+=2,oe<Q){K=Tc(g,y,0),ee=g,se=Tc(A,S,0),_e=A;var xe=Tc(W,B,0);mu(e,h,P-257),mu(e,h+5,z-1),mu(e,h+10,D-4),h+=14;for(var O=0;O<D;++O)mu(e,h+3*O,W[uN[O]]);h+=3*D;for(var ce=[R,L],M=0;M<2;++M)for(var G=ce[M],O=0;O<G.length;++O){var Z=G[O]&31;mu(e,h,xe[Z]),h+=W[Z],Z>15&&(mu(e,h,G[O]>>5&127),h+=G[O]>>12)}}else K=Ede,ee=Kd,se=Tde,_e=V0;for(var O=0;O<l;++O){var de=r[O];if(de>255){var Z=de>>18&31;Tg(e,h,K[Z+257]),h+=ee[Z+257],Z>7&&(mu(e,h,de>>23&31),h+=bb[Z]);var X=de&31;Tg(e,h,se[X]),h+=_e[X],X>3&&(Tg(e,h,de>>5&8191),h+=_b[X])}else Tg(e,h,K[de]),h+=ee[de]}return Tg(e,h,K[256]),h+ee[256]},kde=new xC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xB=new as(0),Pde=function(t,e,n,r,i,a){var s=a.z||t.length,l=new as(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),d=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var m=kde[e-1],g=m>>13,y=m&8191,N=(1<<n)-1,A=a.p||new po(32768),S=a.h||new po(N+1),C=Math.ceil(n/3),R=2*C,P=function(Ge){return(t[Ge]^t[Ge+1]<<C^t[Ge+2]<<R)&N},U=new xC(25e3),L=new po(288),z=new po(32),k=0,O=0,V=a.i||0,W=0,B=a.w||0,D=0;V+2<s;++V){var F=P(V),Q=V&32767,oe=S[F];if(A[Q]=oe,S[F]=Q,B<=V){var K=s-V;if((k>7e3||W>24576)&&(K>423||!d)){h=aD(t,c,0,U,L,z,O,W,D,V-D,h),W=k=O=0,D=V;for(var ee=0;ee<286;++ee)L[ee]=0;for(var ee=0;ee<30;++ee)z[ee]=0}var se=2,_e=0,xe=y,ce=Q-oe&32767;if(K>2&&F==P(V-ce))for(var M=Math.min(g,K)-1,G=Math.min(32767,V),Z=Math.min(258,K);ce<=G&&--xe&&Q!=oe;){if(t[V+se]==t[V+se-ce]){for(var de=0;de<Z&&t[V+de]==t[V+de-ce];++de);if(de>se){if(se=de,_e=ce,de>M)break;for(var X=Math.min(ce,de-2),ue=0,ee=0;ee<X;++ee){var we=V-ce+ee&32767,re=A[we],Se=we-re&32767;Se>ue&&(ue=Se,oe=we)}}}Q=oe,oe=A[Q],ce+=Q-oe&32767}if(_e){U[W++]=268435456|dN[se]<<18|rD[_e];var Re=dN[se]&31,Ee=rD[_e]&31;O+=bb[Re]+_b[Ee],++L[257+Re],++z[Ee],B=V+se,++k}else U[W++]=t[V],++L[t[V]]}}for(V=Math.max(V,B);V<s;++V)U[W++]=t[V],++L[t[V]];h=aD(t,c,d,U,L,z,O,W,D,V-D,h),d||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=S,a.p=A,a.i=V,a.w=B)}else{for(var V=a.w||0;V<s+d;V+=65535){var We=V+65535;We>=s&&(c[h/8|0]=d,We=s),h=yB(c,h+1,t.subarray(V,We))}a.i=s}return vB(l,0,r+bC(h)+i)},bB=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ode=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new as(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return Pde(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},_B=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},jde=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=bB();i.p(e.dictionary),_B(t,2,i.d())}},Mde=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Sl(6,"invalid zlib data"),(t[1]>>5&1)==1&&Sl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function pN(t,e){e||(e={});var n=bB();n.p(t);var r=Ode(t,e,e.dictionary?6:2,4);return jde(r,e),_B(r,r.length-4,n.d()),r}function Dde(t,e){return Rde(t.subarray(Mde(t),-4),{i:2},e,e)}var Lde=typeof TextDecoder<"u"&&new TextDecoder,Fde=0;try{Lde.decode(xB,{stream:!0}),Fde=1}catch{}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function xS(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var kr={log:xS,warn:function(t){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):xS.call(null,arguments))},error:function(t){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):xS(t))}};function bS(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Mf(r.response,e,n)},r.onerror=function(){kr.error("could not download file")},r.send()}function sD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ey(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Xg,mN,Mf=rn.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=rn.URL||rn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?sD(i.href)?bS(t,e,n):Ey(i,i.target="_blank"):Ey(i)):(i.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Ey(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(sD(t))bS(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Ey(r)}))}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:xr(a)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return bS(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(rn.HTMLElement)||rn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(t)}else{var c=rn.URL||rn.webkitURL,d=c.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wB(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _S(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ya(n,r,i,a,e[0],7,-680876936),a=Ya(a,n,r,i,e[1],12,-389564586),i=Ya(i,a,n,r,e[2],17,606105819),r=Ya(r,i,a,n,e[3],22,-1044525330),n=Ya(n,r,i,a,e[4],7,-176418897),a=Ya(a,n,r,i,e[5],12,1200080426),i=Ya(i,a,n,r,e[6],17,-1473231341),r=Ya(r,i,a,n,e[7],22,-45705983),n=Ya(n,r,i,a,e[8],7,1770035416),a=Ya(a,n,r,i,e[9],12,-1958414417),i=Ya(i,a,n,r,e[10],17,-42063),r=Ya(r,i,a,n,e[11],22,-1990404162),n=Ya(n,r,i,a,e[12],7,1804603682),a=Ya(a,n,r,i,e[13],12,-40341101),i=Ya(i,a,n,r,e[14],17,-1502002290),n=Xa(n,r=Ya(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Xa(a,n,r,i,e[6],9,-1069501632),i=Xa(i,a,n,r,e[11],14,643717713),r=Xa(r,i,a,n,e[0],20,-373897302),n=Xa(n,r,i,a,e[5],5,-701558691),a=Xa(a,n,r,i,e[10],9,38016083),i=Xa(i,a,n,r,e[15],14,-660478335),r=Xa(r,i,a,n,e[4],20,-405537848),n=Xa(n,r,i,a,e[9],5,568446438),a=Xa(a,n,r,i,e[14],9,-1019803690),i=Xa(i,a,n,r,e[3],14,-187363961),r=Xa(r,i,a,n,e[8],20,1163531501),n=Xa(n,r,i,a,e[13],5,-1444681467),a=Xa(a,n,r,i,e[2],9,-51403784),i=Xa(i,a,n,r,e[7],14,1735328473),n=Ja(n,r=Xa(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ja(a,n,r,i,e[8],11,-2022574463),i=Ja(i,a,n,r,e[11],16,1839030562),r=Ja(r,i,a,n,e[14],23,-35309556),n=Ja(n,r,i,a,e[1],4,-1530992060),a=Ja(a,n,r,i,e[4],11,1272893353),i=Ja(i,a,n,r,e[7],16,-155497632),r=Ja(r,i,a,n,e[10],23,-1094730640),n=Ja(n,r,i,a,e[13],4,681279174),a=Ja(a,n,r,i,e[0],11,-358537222),i=Ja(i,a,n,r,e[3],16,-722521979),r=Ja(r,i,a,n,e[6],23,76029189),n=Ja(n,r,i,a,e[9],4,-640364487),a=Ja(a,n,r,i,e[12],11,-421815835),i=Ja(i,a,n,r,e[15],16,530742520),n=Qa(n,r=Ja(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Qa(a,n,r,i,e[7],10,1126891415),i=Qa(i,a,n,r,e[14],15,-1416354905),r=Qa(r,i,a,n,e[5],21,-57434055),n=Qa(n,r,i,a,e[12],6,1700485571),a=Qa(a,n,r,i,e[3],10,-1894986606),i=Qa(i,a,n,r,e[10],15,-1051523),r=Qa(r,i,a,n,e[1],21,-2054922799),n=Qa(n,r,i,a,e[8],6,1873313359),a=Qa(a,n,r,i,e[15],10,-30611744),i=Qa(i,a,n,r,e[6],15,-1560198380),r=Qa(r,i,a,n,e[13],21,1309151649),n=Qa(n,r,i,a,e[4],6,-145523070),a=Qa(a,n,r,i,e[11],10,-1120210379),i=Qa(i,a,n,r,e[2],15,718787259),r=Qa(r,i,a,n,e[9],21,-343485551),t[0]=Md(n,t[0]),t[1]=Md(r,t[1]),t[2]=Md(i,t[2]),t[3]=Md(a,t[3])}function wb(t,e,n,r,i,a){return e=Md(Md(e,t),Md(r,a)),Md(e<<i|e>>>32-i,n)}function Ya(t,e,n,r,i,a,s){return wb(e&n|~e&r,t,e,i,a,s)}function Xa(t,e,n,r,i,a,s){return wb(e&r|n&~r,t,e,i,a,s)}function Ja(t,e,n,r,i,a,s){return wb(e^n^r,t,e,i,a,s)}function Qa(t,e,n,r,i,a,s){return wb(n^(e|~r),t,e,i,a,s)}function AB(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)_S(r,Ude(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(_S(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,_S(r,i),r}function Ude(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Xg=rn.atob.bind(rn),mN=rn.btoa.bind(rn);var oD="0123456789abcdef".split("");function Bde(t){for(var e="",n=0;n<4;n++)e+=oD[t>>8*n+4&15]+oD[t>>8*n&15];return e}function qde(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gN(t){return AB(t).map(qde).join("")}var Vde=(function(t){for(var e=0;e<t.length;e++)t[e]=Bde(t[e]);return t.join("")})(AB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Md(t,e){if(Vde){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vN(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+s.charCodeAt(c))%256,l[c]=l[d],l[d]=h}n=t,r=l}else l=r;var m=e.length,g=0,y=0,N="";for(c=0;c<m;c++)y=(y+(h=l[g=(g+1)%256]))%256,l[g]=l[y],l[y]=h,s=l[(l[g]+l[y])%256],N+=String.fromCharCode(e.charCodeAt(c)^s);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lD={print:4,modify:8,copy:16,"annot-forms":32};function cp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach((function(l){if(lD.perm!==void 0)throw new Error("Invalid permission: "+l);i+=lD[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=gN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=vN(this.encryptionKey,this.padding)}function up(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function cD(t){if(xr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(l){rn.console&&kr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function px(t){if(!(this instanceof px))return new px(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function SB(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ff(t,e,n,r,i){if(!(this instanceof Ff))return new Ff(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,SB.call(this,r,i)}function bp(t,e,n,r,i){if(!(this instanceof bp))return new bp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,SB.call(this,r,i)}function Jt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",h=null;xr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=cD;var N="1.3",A=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(j){N=j};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return S};var C=y.__private__.getPageFormat=function(j){return S[j]};i=i||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},P=R.COMPAT;function U(){this.saveGraphicsState(),le(new Ot(wt,0,0,-wt,0,aa()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),d="n",P=R.ADVANCED}function L(){this.restoreGraphicsState(),d="S",P=R.COMPAT}var z=y.__private__.combineFontStyleAndFontWeight=function(j,te){if(j=="bold"&&te=="normal"||j=="bold"&&te==400||j=="normal"&&te=="italic"||j=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(j=te==400||te==="normal"?j==="italic"?"italic":"normal":te!=700&&te!=="bold"||j!=="normal"?(te==700?"bold":te)+""+j:"bold"),j};y.advancedAPI=function(j){var te=P===R.COMPAT;return te&&U.call(this),typeof j!="function"||(j(this),te&&L.call(this)),this},y.compatAPI=function(j){var te=P===R.ADVANCED;return te&&L.call(this),typeof j!="function"||(j(this),te&&U.call(this)),this},y.isAdvancedAPI=function(){return P===R.ADVANCED};var k,O=function(j){if(P!==R.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=y.roundToPrecision=y.__private__.roundToPrecision=function(j,te){var Ae=e||te;if(isNaN(j)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Ae).replace(/0+$/,"")};k=y.hpf=y.__private__.hpf=typeof c=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return V(j,c)}:c==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return V(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return V(j,16)};var W=y.f2=y.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return V(j,2)},B=y.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return V(j,3)},D=y.scale=y.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return P===R.COMPAT?j*wt:P===R.ADVANCED?j:void 0},F=function(j){return P===R.COMPAT?aa()-j:P===R.ADVANCED?j:void 0},Q=function(j){return D(F(j))};y.__private__.setPrecision=y.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var oe,K="00000000000000000000000000000000",ee=y.__private__.getFileId=function(){return K},se=y.__private__.setFileId=function(j){return K=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():K.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&(Vn=new cp(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};y.setFileId=function(j){return se(j),this},y.getFileId=function(){return ee()};var _e=y.__private__.convertDateToPDFDate=function(j){var te=j.getTimezoneOffset(),Ae=te<0?"+":"-",Te=Math.floor(Math.abs(te/60)),De=Math.abs(te%60),Ze=[Ae,Z(Te),"'",Z(De),"'"].join("");return["D:",j.getFullYear(),Z(j.getMonth()+1),Z(j.getDate()),Z(j.getHours()),Z(j.getMinutes()),Z(j.getSeconds()),Ze].join("")},xe=y.__private__.convertPDFDateToDate=function(j){var te=parseInt(j.substr(2,4),10),Ae=parseInt(j.substr(6,2),10)-1,Te=parseInt(j.substr(8,2),10),De=parseInt(j.substr(10,2),10),Ze=parseInt(j.substr(12,2),10),gt=parseInt(j.substr(14,2),10);return new Date(te,Ae,Te,De,Ze,gt,0)},ce=y.__private__.setCreationDate=function(j){var te;if(j===void 0&&(j=new Date),j instanceof Date)te=_e(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=j}return oe=te},M=y.__private__.getCreationDate=function(j){var te=oe;return j==="jsDate"&&(te=xe(oe)),te};y.setCreationDate=function(j){return ce(j),this},y.getCreationDate=function(j){return M(j)};var G,Z=y.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},de=y.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},X=0,ue=[],we=[],re=0,Se=[],Re=[],Ee=!1,We=we,Ge=function(){X=0,re=0,we=[],ue=[],Se=[],nn=me(),zt=me()};y.__private__.setCustomOutputDestination=function(j){Ee=!0,We=j};var ve=function(j){Ee||(We=j)};y.__private__.resetCustomOutputDestination=function(){Ee=!1,We=we};var le=y.__private__.out=function(j){return j=j.toString(),re+=j.length+1,We.push(j),We},lt=y.__private__.write=function(j){return le(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},nt=y.__private__.getArrayBuffer=function(j){for(var te=j.length,Ae=new ArrayBuffer(te),Te=new Uint8Array(Ae);te--;)Te[te]=j.charCodeAt(te);return Ae},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Xe};var He=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(j){return He=P===R.ADVANCED?j/wt:j,this};var et,Ke=y.__private__.getFontSize=y.getFontSize=function(){return P===R.COMPAT?He:He*wt},at=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(j){return at=j,this},y.__private__.getR2L=y.getR2L=function(){return at};var Qe,st=y.__private__.setZoomMode=function(j){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))et=j;else if(isNaN(j)){if(te.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');et=j}else et=parseInt(j,10)};y.__private__.getZoomMode=function(){return et};var vt,_t=y.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Qe=j};y.__private__.getPageMode=function(){return Qe};var It=y.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');vt=j};y.__private__.getLayoutMode=function(){return vt},y.__private__.setDisplayMode=y.setDisplayMode=function(j,te,Ae){return st(j),It(te),_t(Ae),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(j){if(Object.keys(Tt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[j]},y.__private__.getDocumentProperties=function(){return Tt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(j){for(var te in Tt)Tt.hasOwnProperty(te)&&j[te]&&(Tt[te]=j[te]);return this},y.__private__.setDocumentProperty=function(j,te){if(Object.keys(Tt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[j]=te};var Wt,wt,Yn,un,lr,bn={},_n={},bi=[],dn={},ya={},$n={},pr={},si=null,yn=0,Bt=[],on=new cD(y),xa=t.hotfixes||[],Br={},di={},Xr=[],Ot=function j(te,Ae,Te,De,Ze,gt){if(!(this instanceof j))return new j(te,Ae,Te,De,Ze,gt);isNaN(te)&&(te=1),isNaN(Ae)&&(Ae=0),isNaN(Te)&&(Te=0),isNaN(De)&&(De=1),isNaN(Ze)&&(Ze=0),isNaN(gt)&&(gt=0),this._matrix=[te,Ae,Te,De,Ze,gt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(j)},Ot.prototype.multiply=function(j){var te=j.sx*this.sx+j.shy*this.shx,Ae=j.sx*this.shy+j.shy*this.sy,Te=j.shx*this.sx+j.sy*this.shx,De=j.shx*this.shy+j.sy*this.sy,Ze=j.tx*this.sx+j.ty*this.shx+this.tx,gt=j.tx*this.shy+j.ty*this.sy+this.ty;return new Ot(te,Ae,Te,De,Ze,gt)},Ot.prototype.decompose=function(){var j=this.sx,te=this.shy,Ae=this.shx,Te=this.sy,De=this.tx,Ze=this.ty,gt=Math.sqrt(j*j+te*te),Nt=(j/=gt)*Ae+(te/=gt)*Te;Ae-=j*Nt,Te-=te*Nt;var _=Math.sqrt(Ae*Ae+Te*Te);return Nt/=_,j*(Te/=_)<te*(Ae/=_)&&(j=-j,te=-te,Nt=-Nt,gt=-gt),{scale:new Ot(gt,0,0,_,0,0),translate:new Ot(1,0,0,1,De,Ze),rotate:new Ot(j,te,-te,j,0,0),skew:new Ot(1,0,Nt,1,0,0)}},Ot.prototype.toString=function(j){return this.join(" ")},Ot.prototype.inversed=function(){var j=this.sx,te=this.shy,Ae=this.shx,Te=this.sy,De=this.tx,Ze=this.ty,gt=1/(j*Te-te*Ae),Nt=Te*gt,_=-te*gt,$=-Ae*gt,Y=j*gt;return new Ot(Nt,_,$,Y,-Nt*De-$*Ze,-_*De-Y*Ze)},Ot.prototype.applyToPoint=function(j){var te=j.x*this.sx+j.y*this.shx+this.tx,Ae=j.x*this.shy+j.y*this.sy+this.ty;return new No(te,Ae)},Ot.prototype.applyToRectangle=function(j){var te=this.applyToPoint(j),Ae=this.applyToPoint(new No(j.x+j.w,j.y+j.h));return new Wl(te.x,te.y,Ae.x-te.x,Ae.y-te.y)},Ot.prototype.clone=function(){var j=this.sx,te=this.shy,Ae=this.shx,Te=this.sy,De=this.tx,Ze=this.ty;return new Ot(j,te,Ae,Te,De,Ze)},y.Matrix=Ot;var Jr=y.matrixMult=function(j,te){return te.multiply(j)},br=new Ot(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=br;var qr=function(j,te){if(!ya[j]){var Ae=(te instanceof Ff?"Sh":"P")+(Object.keys(dn).length+1).toString(10);te.id=Ae,ya[j]=Ae,dn[Ae]=te,on.publish("addPattern",te)}};y.ShadingPattern=Ff,y.TilingPattern=bp,y.addShadingPattern=function(j,te){return O("addShadingPattern()"),qr(j,te),this},y.beginTilingPattern=function(j){O("beginTilingPattern()"),Kl(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},y.endTilingPattern=function(j,te){O("endTilingPattern()"),te.stream=Re[G].join(`
`),qr(j,te),on.publish("endTilingPattern",te),Xr.pop().restore()};var cr=y.__private__.newObject=function(){var j=me();return tt(j,!0),j},me=y.__private__.newObjectDeferred=function(){return X++,ue[X]=function(){return re},X},tt=function(j,te){return te=typeof te=="boolean"&&te,ue[j]=re,te&&le(j+" 0 obj"),j},$t=y.__private__.newAdditionalObject=function(){var j={objId:me(),content:""};return Se.push(j),j},nn=me(),zt=me(),Mt=y.__private__.decodeColorString=function(j){var te=j.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ae=parseFloat(te[0]);te=[Ae,Ae,Ae,"r"]}for(var Te="#",De=0;De<3;De++)Te+=("0"+Math.floor(255*parseFloat(te[De])).toString(16)).slice(-2);return Te},Ht=y.__private__.encodeColorString=function(j){var te;typeof j=="string"&&(j={ch1:j});var Ae=j.ch1,Te=j.ch2,De=j.ch3,Ze=j.ch4,gt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Nt=new wB(Ae);if(Nt.ok)Ae=Nt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var _=parseInt(Ae.substr(1),16);Ae=_>>16&255,Te=_>>8&255,De=255&_}if(Te===void 0||Ze===void 0&&Ae===Te&&Te===De)if(typeof Ae=="string")te=Ae+" "+gt[0];else switch(j.precision){case 2:te=W(Ae/255)+" "+gt[0];break;case 3:default:te=B(Ae/255)+" "+gt[0]}else if(Ze===void 0||xr(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return te=["1.","1.","1.",gt[1]].join(" ");if(typeof Ae=="string")te=[Ae,Te,De,gt[1]].join(" ");else switch(j.precision){case 2:te=[W(Ae/255),W(Te/255),W(De/255),gt[1]].join(" ");break;default:case 3:te=[B(Ae/255),B(Te/255),B(De/255),gt[1]].join(" ")}}else if(typeof Ae=="string")te=[Ae,Te,De,Ze,gt[2]].join(" ");else switch(j.precision){case 2:te=[W(Ae),W(Te),W(De),W(Ze),gt[2]].join(" ");break;case 3:default:te=[B(Ae),B(Te),B(De),B(Ze),gt[2]].join(" ")}return te},Fe=y.__private__.getFilters=function(){return s},Pt=y.__private__.putStream=function(j){var te=(j=j||{}).data||"",Ae=j.filters||Fe(),Te=j.alreadyAppliedFilters||[],De=j.addLength1||!1,Ze=te.length,gt=j.objectId,Nt=function(ln){return ln};if(h!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Nt=Vn.encryptor(gt,0));var _={};Ae===!0&&(Ae=["FlateEncode"]);var $=j.additionalKeyValues||[],Y=(_=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(te,Ae):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&($.push({key:"Length",value:_.data.length}),De===!0&&$.push({key:"Length1",value:Ze})),Y.length!=0)if(Y.split("/").length-1==1)$.push({key:"Filter",value:Y});else{$.push({key:"Filter",value:"["+Y+"]"});for(var he=0;he<$.length;he+=1)if($[he].key==="DecodeParms"){for(var je=[],qe=0;qe<_.reverseChain.split("/").length-1;qe+=1)je.push("null");je.push($[he].value),$[he].value="["+je.join(" ")+"]"}}le("<<");for(var yt=0;yt<$.length;yt++)le("/"+$[yt].key+" "+$[yt].value);le(">>"),_.data.length!==0&&(le("stream"),le(Nt(_.data)),le("endstream"))},qt=y.__private__.putPage=function(j){var te=j.number,Ae=j.data,Te=j.objId,De=j.contentsObjId;tt(Te,!0),le("<</Type /Page"),le("/Parent "+j.rootDictionaryObjId+" 0 R"),le("/Resources "+j.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(k(j.mediaBox.bottomLeftX))+" "+parseFloat(k(j.mediaBox.bottomLeftY))+" "+k(j.mediaBox.topRightX)+" "+k(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&le("/CropBox ["+k(j.cropBox.bottomLeftX)+" "+k(j.cropBox.bottomLeftY)+" "+k(j.cropBox.topRightX)+" "+k(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&le("/BleedBox ["+k(j.bleedBox.bottomLeftX)+" "+k(j.bleedBox.bottomLeftY)+" "+k(j.bleedBox.topRightX)+" "+k(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&le("/TrimBox ["+k(j.trimBox.bottomLeftX)+" "+k(j.trimBox.bottomLeftY)+" "+k(j.trimBox.topRightX)+" "+k(j.trimBox.topRightY)+"]"),j.artBox!==null&&le("/ArtBox ["+k(j.artBox.bottomLeftX)+" "+k(j.artBox.bottomLeftY)+" "+k(j.artBox.topRightX)+" "+k(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&le("/UserUnit "+j.userUnit),on.publish("putPage",{objId:Te,pageContext:Bt[te],pageNumber:te,page:Ae}),le("/Contents "+De+" 0 R"),le(">>"),le("endobj");var Ze=Ae.join(`
`);return P===R.ADVANCED&&(Ze+=`
Q`),tt(De,!0),Pt({data:Ze,filters:Fe(),objectId:De}),le("endobj"),Te},jr=y.__private__.putPages=function(){var j,te,Ae=[];for(j=1;j<=yn;j++)Bt[j].objId=me(),Bt[j].contentsObjId=me();for(j=1;j<=yn;j++)Ae.push(qt({number:j,data:Re[j],objId:Bt[j].objId,contentsObjId:Bt[j].contentsObjId,mediaBox:Bt[j].mediaBox,cropBox:Bt[j].cropBox,bleedBox:Bt[j].bleedBox,trimBox:Bt[j].trimBox,artBox:Bt[j].artBox,userUnit:Bt[j].userUnit,rootDictionaryObjId:nn,resourceDictionaryObjId:zt}));tt(nn,!0),le("<</Type /Pages");var Te="/Kids [";for(te=0;te<yn;te++)Te+=Ae[te]+" 0 R ";le(Te+"]"),le("/Count "+yn),le(">>"),le("endobj"),on.publish("postPutPages")},Mr=function(j){on.publish("putFont",{font:j,out:le,newObject:cr,putStream:Pt}),j.isAlreadyPutted!==!0&&(j.objectNumber=cr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+up(j.postScriptName)),le("/Subtype /Type1"),typeof j.encoding=="string"&&le("/Encoding /"+j.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},jn=function(){for(var j in bn)bn.hasOwnProperty(j)&&(m===!1||m===!0&&g.hasOwnProperty(j))&&Mr(bn[j])},Dr=function(j){j.objectNumber=cr();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[k(j.x),k(j.y),k(j.x+j.width),k(j.y+j.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Ae=j.pages[1].join(`
`);Pt({data:Ae,additionalKeyValues:te,objectId:j.objectNumber}),le("endobj")},Hn=function(){for(var j in Br)Br.hasOwnProperty(j)&&Dr(Br[j])},La=function(j,te){var Ae,Te=[],De=1/(te-1);for(Ae=0;Ae<1;Ae+=De)Te.push(Ae);if(Te.push(1),j[0].offset!=0){var Ze={offset:0,color:j[0].color};j.unshift(Ze)}if(j[j.length-1].offset!=1){var gt={offset:1,color:j[j.length-1].color};j.push(gt)}for(var Nt="",_=0,$=0;$<Te.length;$++){for(Ae=Te[$];Ae>j[_+1].offset;)_++;var Y=j[_].offset,he=(Ae-Y)/(j[_+1].offset-Y),je=j[_].color,qe=j[_+1].color;Nt+=de(Math.round((1-he)*je[0]+he*qe[0]).toString(16))+de(Math.round((1-he)*je[1]+he*qe[1]).toString(16))+de(Math.round((1-he)*je[2]+he*qe[2]).toString(16))}return Nt.trim()},ls=function(j,te){te||(te=21);var Ae=cr(),Te=La(j.colors,te),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+te+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pt({data:Te,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),le("endobj"),j.objectNumber=cr(),le("<< /ShadingType "+j.type),le("/ColorSpace /DeviceRGB");var Ze="/Coords ["+k(parseFloat(j.coords[0]))+" "+k(parseFloat(j.coords[1]))+" ";j.type===2?Ze+=k(parseFloat(j.coords[2]))+" "+k(parseFloat(j.coords[3])):Ze+=k(parseFloat(j.coords[2]))+" "+k(parseFloat(j.coords[3]))+" "+k(parseFloat(j.coords[4]))+" "+k(parseFloat(j.coords[5])),le(Ze+="]"),j.matrix&&le("/Matrix ["+j.matrix.toString()+"]"),le("/Function "+Ae+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Vr=function(j,te){var Ae=me(),Te=cr();te.push({resourcesOid:Ae,objectOid:Te}),j.objectNumber=Te;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+j.boundingBox.map(k).join(" ")+"]"}),De.push({key:"XStep",value:k(j.xStep)}),De.push({key:"YStep",value:k(j.yStep)}),De.push({key:"Resources",value:Ae+" 0 R"}),j.matrix&&De.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Pt({data:j.stream,additionalKeyValues:De,objectId:j.objectNumber}),le("endobj")},Hs=function(j){var te;for(te in dn)dn.hasOwnProperty(te)&&(dn[te]instanceof Ff?ls(dn[te]):dn[te]instanceof bp&&Vr(dn[te],j))},Gs=function(j){for(var te in j.objectNumber=cr(),le("<<"),j)switch(te){case"opacity":le("/ca "+W(j[te]));break;case"stroke-opacity":le("/CA "+W(j[te]))}le(">>"),le("endobj")},zi=function(){var j;for(j in $n)$n.hasOwnProperty(j)&&Gs($n[j])},Fa=function(){for(var j in le("/XObject <<"),Br)Br.hasOwnProperty(j)&&Br[j].objectNumber>=0&&le("/"+j+" "+Br[j].objectNumber+" 0 R");on.publish("putXobjectDict"),le(">>")},gf=function(){Vn.oid=cr(),le("<<"),le("/Filter /Standard"),le("/V "+Vn.v),le("/R "+Vn.r),le("/U <"+Vn.toHexString(Vn.U)+">"),le("/O <"+Vn.toHexString(Vn.O)+">"),le("/P "+Vn.P),le(">>"),le("endobj")},Fl=function(){for(var j in le("/Font <<"),bn)bn.hasOwnProperty(j)&&(m===!1||m===!0&&g.hasOwnProperty(j))&&le("/"+j+" "+bn[j].objectNumber+" 0 R");le(">>")},qc=function(){if(Object.keys(dn).length>0){for(var j in le("/Shading <<"),dn)dn.hasOwnProperty(j)&&dn[j]instanceof Ff&&dn[j].objectNumber>=0&&le("/"+j+" "+dn[j].objectNumber+" 0 R");on.publish("putShadingPatternDict"),le(">>")}},Xo=function(j){if(Object.keys(dn).length>0){for(var te in le("/Pattern <<"),dn)dn.hasOwnProperty(te)&&dn[te]instanceof y.TilingPattern&&dn[te].objectNumber>=0&&dn[te].objectNumber<j&&le("/"+te+" "+dn[te].objectNumber+" 0 R");on.publish("putTilingPatternDict"),le(">>")}},xo=function(){if(Object.keys($n).length>0){var j;for(j in le("/ExtGState <<"),$n)$n.hasOwnProperty(j)&&$n[j].objectNumber>=0&&le("/"+j+" "+$n[j].objectNumber+" 0 R");on.publish("putGStateDict"),le(">>")}},ur=function(j){tt(j.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fl(),qc(),Xo(j.objectOid),xo(),Fa(),le(">>"),le("endobj")},ba=function(){var j=[];jn(),zi(),Hn(),Hs(j),on.publish("putResources"),j.forEach(ur),ur({resourcesOid:zt,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources")},Ci=function(){on.publish("putAdditionalObjects");for(var j=0;j<Se.length;j++){var te=Se[j];tt(te.objId,!0),le(te.content),le("endobj")}on.publish("postPutAdditionalObjects")},Vc=function(j){_n[j.fontName]=_n[j.fontName]||{},_n[j.fontName][j.fontStyle]=j.id},zc=function(j,te,Ae,Te,De){var Ze={id:"F"+(Object.keys(bn).length+1).toString(10),postScriptName:j,fontName:te,fontStyle:Ae,encoding:Te,isStandardFont:De||!1,metadata:{}};return on.publish("addFont",{font:Ze,instance:this}),bn[Ze.id]=Ze,Vc(Ze),Ze.id},Ul=function(j){for(var te=0,Ae=Xe.length;te<Ae;te++){var Te=zc.call(this,j[te][0],j[te][1],j[te][2],Xe[te][3],!0);m===!1&&(g[Te]=!0);var De=j[te][0].split("-");Vc({id:Te,fontName:De[0],fontStyle:De[1]||""})}on.publish("addFonts",{fonts:bn,dictionary:_n})},_a=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(Te){var te=Te.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var Ae="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Te.message;if(!rn.console)throw new Error(Ae);rn.console.error(Ae,Te),rn.alert&&alert(Ae)}},j.foo.bar=j,j.foo},Ws=function(j,te){var Ae,Te,De,Ze,gt,Nt,_,$,Y;if(De=(te=te||{}).sourceEncoding||"Unicode",gt=te.outputEncoding,(te.autoencode||gt)&&bn[Wt].metadata&&bn[Wt].metadata[De]&&bn[Wt].metadata[De].encoding&&(Ze=bn[Wt].metadata[De].encoding,!gt&&bn[Wt].encoding&&(gt=bn[Wt].encoding),!gt&&Ze.codePages&&(gt=Ze.codePages[0]),typeof gt=="string"&&(gt=Ze[gt]),gt)){for(_=!1,Nt=[],Ae=0,Te=j.length;Ae<Te;Ae++)($=gt[j.charCodeAt(Ae)])?Nt.push(String.fromCharCode($)):Nt.push(j[Ae]),Nt[Ae].charCodeAt(0)>>8&&(_=!0);j=Nt.join("")}for(Ae=j.length;_===void 0&&Ae!==0;)j.charCodeAt(Ae-1)>>8&&(_=!0),Ae--;if(!_)return j;for(Nt=te.noBOM?[]:[254,255],Ae=0,Te=j.length;Ae<Te;Ae++){if((Y=($=j.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Y),Nt.push($-(Y<<8))}return String.fromCharCode.apply(void 0,Nt)},Qr=y.__private__.pdfEscape=y.pdfEscape=function(j,te){return Ws(j,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_r=y.__private__.beginPage=function(j){Re[++yn]=[],Bt[yn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Qo(yn),ve(Re[G])},Ks=function(j,te){var Ae,Te,De;switch(n=te||n,typeof j=="string"&&(Ae=C(j.toLowerCase()),Array.isArray(Ae)&&(Te=Ae[0],De=Ae[1])),Array.isArray(j)&&(Te=j[0]*wt,De=j[1]*wt),isNaN(Te)&&(Te=i[0],De=i[1]),(Te>14400||De>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),De=Math.min(14400,De)),i=[Te,De],n.substr(0,1)){case"l":De>Te&&(i=[De,Te]);break;case"p":Te>De&&(i=[De,Te])}_r(i),Ao(fi),le(Hi),Wc!==0&&le(Wc+" J"),Gl!==0&&le(Gl+" j"),on.publish("addPage",{pageNumber:yn})},Jo=function(j){j>0&&j<=yn&&(Re.splice(j,1),Bt.splice(j,1),yn--,G>yn&&(G=yn),this.setPage(G))},Qo=function(j){j>0&&j<=yn&&(G=j)},Mn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Re.length-1},bo=function(j,te,Ae){var Te,De=void 0;return Ae=Ae||{},j=j!==void 0?j:bn[Wt].fontName,te=te!==void 0?te:bn[Wt].fontStyle,Te=j.toLowerCase(),_n[Te]!==void 0&&_n[Te][te]!==void 0?De=_n[Te][te]:_n[j]!==void 0&&_n[j][te]!==void 0?De=_n[j][te]:Ae.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+j+"', '"+te+"'. Refer to getFontList() for available fonts."),De||Ae.noFallback||(De=_n.times[te])==null&&(De=_n.times.normal),De},_o=y.__private__.putInfo=function(){var j=cr(),te=function(Te){return Te};for(var Ae in h!==null&&(te=Vn.encryptor(j,0)),le("<<"),le("/Producer ("+Qr(te("jsPDF "+Jt.version))+")"),Tt)Tt.hasOwnProperty(Ae)&&Tt[Ae]&&le("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Qr(te(Tt[Ae]))+")");le("/CreationDate ("+Qr(te(oe))+")"),le(">>"),le("endobj")},ra=y.__private__.putCatalog=function(j){var te=(j=j||{}).rootDictionaryObjId||nn;switch(cr(),le("<<"),le("/Type /Catalog"),le("/Pages "+te+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+et;Ae.substr(Ae.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&le("/OpenAction [3 0 R /XYZ null null "+W(et)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Qe&&le("/PageMode /"+Qe),on.publish("putCatalog"),le(">>"),le("endobj")},vf=y.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(X+1)),le("/Root "+X+" 0 R"),le("/Info "+(X-1)+" 0 R"),h!==null&&le("/Encrypt "+Vn.oid+" 0 R"),le("/ID [ <"+K+"> <"+K+"> ]"),le(">>")},$c=y.__private__.putHeader=function(){le("%PDF-"+N),le("%")},qu=y.__private__.putXRef=function(){var j="0000000000";le("xref"),le("0 "+(X+1)),le("0000000000 65535 f ");for(var te=1;te<=X;te++)typeof ue[te]=="function"?le((j+ue[te]()).slice(-10)+" 00000 n "):ue[te]!==void 0?le((j+ue[te]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},cs=y.__private__.buildDocument=function(){Ge(),ve(we),on.publish("buildDocument"),$c(),jr(),Ci(),ba(),h!==null&&gf(),_o(),ra();var j=re;return qu(),vf(),le("startxref"),le(""+j),le("%%EOF"),ve(Re[G]),we.join(`
`)},Bl=y.__private__.getBlob=function(j){return new Blob([nt(j)],{type:"application/pdf"})},ql=y.output=y.__private__.output=_a((function(j,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",j){case void 0:return cs();case"save":y.save(te.filename);break;case"arraybuffer":return nt(cs());case"blob":return Bl(cs());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(Bl(cs()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Te=cs();try{Ae=mN(Te)}catch{Ae=mN(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(De=te.pdfObjectUrl,Ze="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Nt=rn.open();return Nt!==null&&Nt.document.write(gt),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',$=rn.open();if($!==null){$.document.write(_);var Y=this;$.document.documentElement.querySelector("#pdfViewer").onload=function(){$.document.title=te.filename,$.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Y.output("bloburl"))}}return $}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',je=rn.open();if(je!==null&&(je.document.write(he),je.document.title=te.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",te);default:return null}})),us=function(j){return Array.isArray(xa)===!0&&xa.indexOf(j)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=us("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var Vn=null;ce(),se();var Vl=function(j){return h!==null?Vn.encryptor(j,0):function(te){return te}},Zo=y.__private__.getPageInfo=y.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[j].objId,pageNumber:j,pageContext:Bt[j]}},Kt=y.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Bt)if(Bt[te].objId===j)break;return Zo(te)},wa=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Bt[G].objId,pageNumber:G,pageContext:Bt[G]}};y.addPage=function(){return Ks.apply(this,arguments),this},y.setPage=function(){return Qo.apply(this,arguments),ve.call(this,Re[G]),this},y.insertPage=function(j){return this.addPage(),this.movePage(G,j),this},y.movePage=function(j,te){var Ae,Te;if(j>te){Ae=Re[j],Te=Bt[j];for(var De=j;De>te;De--)Re[De]=Re[De-1],Bt[De]=Bt[De-1];Re[te]=Ae,Bt[te]=Te,this.setPage(te)}else if(j<te){Ae=Re[j],Te=Bt[j];for(var Ze=j;Ze<te;Ze++)Re[Ze]=Re[Ze+1],Bt[Ze]=Bt[Ze+1];Re[te]=Ae,Bt[te]=Te,this.setPage(te)}return this},y.deletePage=function(){return Jo.apply(this,arguments),this},y.__private__.text=y.text=function(j,te,Ae,Te,De){var Ze,gt,Nt,_,$,Y,he,je,qe,yt=(Te=Te||{}).scope||this;if(typeof j=="number"&&typeof te=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var ln=Ae;Ae=te,te=j,j=ln}if(arguments[3]instanceof Ot?(O("The transform parameter of text() with a Matrix value"),qe=De):(Nt=arguments[4],_=arguments[5],xr(he=arguments[3])==="object"&&he!==null||(typeof Nt=="string"&&(_=Nt,Nt=null),typeof he=="string"&&(_=he,he=null),typeof he=="number"&&(Nt=he,he=null),Te={flags:he,angle:Nt,align:_})),isNaN(te)||isNaN(Ae)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return yt;var Nn="",Qt=!1,Qn=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Xn,mr=yt.internal.scaleFactor;function Zs(Cn){return Cn=Cn.split("	").join(Array(Te.TabLen||9).join(" ")),Qr(Cn,he)}function Ii(Cn){for(var ar,Gn=Cn.concat(),Lr=[],ao=Gn.length;ao--;)typeof(ar=Gn.shift())=="string"?Lr.push(ar):Array.isArray(Cn)&&(ar.length===1||ar[1]===void 0&&ar[2]===void 0)?Lr.push(ar[0]):Lr.push([ar[0],ar[1],ar[2]]);return Lr}function eo(Cn,ar){var Gn;if(typeof Cn=="string")Gn=ar(Cn)[0];else if(Array.isArray(Cn)){for(var Lr,ao,nc=Cn.concat(),ul=[],Xu=nc.length;Xu--;)typeof(Lr=nc.shift())=="string"?ul.push(ar(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(ao=ar(Lr[0],Lr[1],Lr[2]),ul.push([ao[0],ao[1],ao[2]]));Gn=ul}return Gn}var $a=!1,al=!0;if(typeof j=="string")$a=!0;else if(Array.isArray(j)){var yf=j.concat();gt=[];for(var sl,Ri=yf.length;Ri--;)(typeof(sl=yf.shift())!="string"||Array.isArray(sl)&&typeof sl[0]!="string")&&(al=!1);$a=al}if($a===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Kc=He/yt.internal.scaleFactor,Xl=Kc*(Qn-1);switch(Te.baseline){case"bottom":Ae-=Xl;break;case"top":Ae+=Kc-Xl;break;case"hanging":Ae+=Kc-2*Xl;break;case"middle":Ae+=Kc/2-Xl}if((Y=Te.maxWidth||0)>0&&(typeof j=="string"?j=yt.splitTextToSize(j,Y):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce((function(Cn,ar){return Cn.concat(yt.splitTextToSize(ar,Y))}),[]))),Ze={text:j,x:te,y:Ae,options:Te,mutex:{pdfEscape:Qr,activeFontKey:Wt,fonts:bn,activeFontSize:He}},on.publish("preProcessText",Ze),j=Ze.text,Nt=(Te=Ze.options).angle,!(qe instanceof Ot)&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,Te.rotationDirection===0&&(Nt=-Nt),P===R.ADVANCED&&(Nt=-Nt);var Jl=Math.cos(Nt),$u=Math.sin(Nt);qe=new Ot(Jl,$u,-$u,Jl,0,0)}else Nt&&Nt instanceof Ot&&(qe=Nt);P!==R.ADVANCED||qe||(qe=br),($=Te.charSpace||nl)!==void 0&&(Nn+=k(D($))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Te.horizontalScale)!==void 0&&(Nn+=k(100*je)+` Tz
`),Te.lang;var Ea=-1,wh=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,xf=yt.internal.getCurrentPageInfo().pageContext;switch(wh){case 0:case!1:case"fill":Ea=0;break;case 1:case!0:case"stroke":Ea=1;break;case 2:case"fillThenStroke":Ea=2;break;case 3:case"invisible":Ea=3;break;case 4:case"fillAndAddForClipping":Ea=4;break;case 5:case"strokeAndAddPathForClipping":Ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ea=6;break;case 7:case"addToPathForClipping":Ea=7}var Ah=xf.usedRenderingMode!==void 0?xf.usedRenderingMode:-1;Ea!==-1?Nn+=Ea+` Tr
`:Ah!==-1&&(Nn+=`0 Tr
`),Ea!==-1&&(xf.usedRenderingMode=Ea),_=Te.align||"left";var Es,Hu=He*Qn,Sh=yt.internal.pageSize.getWidth(),sa=bn[Wt];$=Te.charSpace||nl,Y=Te.maxWidth||0,he=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var Ns=[],Ql=function(Cn){return yt.getStringUnitWidth(Cn,{font:sa,charSpace:$,fontSize:He,doKerning:!1})*He/mr};if(Object.prototype.toString.call(j)==="[object Array]"){var Na;gt=Ii(j),_!=="left"&&(Es=gt.map(Ql));var oa,ol=0;if(_==="right"){te-=Es[0],j=[],Ri=gt.length;for(var to=0;to<Ri;to++)to===0?(oa=Sa(te),Na=zr(Ae)):(oa=D(ol-Es[to]),Na=-Hu),j.push([gt[to],oa,Na]),ol=Es[to]}else if(_==="center"){te-=Es[0]/2,j=[],Ri=gt.length;for(var ll=0;ll<Ri;ll++)ll===0?(oa=Sa(te),Na=zr(Ae)):(oa=D((ol-Es[ll])/2),Na=-Hu),j.push([gt[ll],oa,Na]),ol=Es[ll]}else if(_==="left"){j=[],Ri=gt.length;for(var no=0;no<Ri;no++)j.push(gt[no])}else if(_==="justify"&&sa.encoding==="Identity-H"){j=[],Ri=gt.length,Y=Y!==0?Y:Sh;for(var ro=0,Tr=0;Tr<Ri;Tr++)if(Na=Tr===0?zr(Ae):-Hu,oa=Tr===0?Sa(te):ro,Tr<Ri-1){var Yc=D((Y-Es[Tr])/(gt[Tr].split(" ").length-1)),la=gt[Tr].split(" ");j.push([la[0]+" ",oa,Na]),ro=0;for(var ki=1;ki<la.length;ki++){var io=(Ql(la[ki-1]+" "+la[ki])-Ql(la[ki]))*mr+Yc;ki==la.length-1?j.push([la[ki],io,0]):j.push([la[ki]+" ",io,0]),ro-=io}}else j.push([gt[Tr],oa,Na]);j.push(["",ro,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ri=gt.length,Y=Y!==0?Y:Sh,Tr=0;Tr<Ri;Tr++)Na=Tr===0?zr(Ae):-Hu,oa=Tr===0?Sa(te):0,Tr<Ri-1?Ns.push(k(D((Y-Es[Tr])/(gt[Tr].split(" ").length-1)))):Ns.push(0),j.push([gt[Tr],oa,Na])}}var Gu=typeof Te.R2L=="boolean"?Te.R2L:at;Gu===!0&&(j=eo(j,(function(Cn,ar,Gn){return[Cn.split("").reverse().join(""),ar,Gn]}))),Ze={text:j,x:te,y:Ae,options:Te,mutex:{pdfEscape:Qr,activeFontKey:Wt,fonts:bn,activeFontSize:He}},on.publish("postProcessText",Ze),j=Ze.text,Qt=Ze.mutex.isHex||!1;var Wu=bn[Wt].encoding;Wu!=="WinAnsiEncoding"&&Wu!=="StandardEncoding"||(j=eo(j,(function(Cn,ar,Gn){return[Zs(Cn),ar,Gn]}))),gt=Ii(j),j=[];for(var fs,Zl,cl,ec=0,Ku=1,Xc=Array.isArray(gt[0])?Ku:ec,tc="",Yu=function(Cn,ar,Gn){var Lr="";return Gn instanceof Ot?(Gn=typeof Te.angle=="number"?Jr(Gn,new Ot(1,0,0,1,Cn,ar)):Jr(new Ot(1,0,0,1,Cn,ar),Gn),P===R.ADVANCED&&(Gn=Jr(new Ot(1,0,0,-1,0,0),Gn)),Lr=Gn.join(" ")+` Tm
`):Lr=k(Cn)+" "+k(ar)+` Td
`,Lr},hs=0;hs<gt.length;hs++){switch(tc="",Xc){case Ku:cl=(Qt?"<":"(")+gt[hs][0]+(Qt?">":")"),fs=parseFloat(gt[hs][1]),Zl=parseFloat(gt[hs][2]);break;case ec:cl=(Qt?"<":"(")+gt[hs]+(Qt?">":")"),fs=Sa(te),Zl=zr(Ae)}Ns!==void 0&&Ns[hs]!==void 0&&(tc=Ns[hs]+` Tw
`),hs===0?j.push(tc+Yu(fs,Zl,qe)+cl):Xc===ec?j.push(tc+cl):Xc===Ku&&j.push(tc+Yu(fs,Zl,qe)+cl)}j=Xc===ec?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Ha=`BT
/`;return Ha+=Wt+" "+He+` Tf
`,Ha+=k(He*Qn)+` TL
`,Ha+=Qs+`
`,Ha+=Nn,Ha+=j,le(Ha+="ET"),g[Wt]=!0,yt};var Vu=y.__private__.clip=y.clip=function(j){return le(j==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Vu("evenodd")},y.__private__.discardPath=y.discardPath=function(){return le("n"),this};var Ua=y.__private__.isValidStyle=function(j){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(te=!0),te};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(j){return Ua(j)&&(d=j),this};var Hc=y.__private__.getStyle=y.getStyle=function(j){var te=d;switch(j){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=j}return te},$i=y.close=function(){return le("h"),this};y.stroke=function(){return le("S"),this},y.fill=function(j){return ia("f",j),this},y.fillEvenOdd=function(j){return ia("f*",j),this},y.fillStroke=function(j){return ia("B",j),this},y.fillStrokeEvenOdd=function(j){return ia("B*",j),this};var ia=function(j,te){xr(te)==="object"?Aa(te,j):le(j)},el=function(j){j===null||P===R.ADVANCED&&j===void 0||(j=Hc(j),le(j))};function Ss(j,te,Ae,Te,De){var Ze=new bp(te||this.boundingBox,Ae||this.xStep,Te||this.yStep,this.gState,De||this.matrix);Ze.stream=this.stream;var gt=j+"$$"+this.cloneIndex+++"$$";return qr(gt,Ze),Ze}var Aa=function(j,te){var Ae=ya[j.key],Te=dn[Ae];if(Te instanceof Ff)le("q"),le(zl(te)),Te.gState&&y.setGState(Te.gState),le(j.matrix.toString()+" cm"),le("/"+Ae+" sh"),le("Q");else if(Te instanceof bp){var De=new Ot(1,0,0,-1,0,aa());j.matrix&&(De=De.multiply(j.matrix||br),Ae=Ss.call(Te,j.key,j.boundingBox,j.xStep,j.yStep,De).id),le("q"),le("/Pattern cs"),le("/"+Ae+" scn"),Te.gState&&y.setGState(Te.gState),le(te),le("Q")}},zl=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ba=y.moveTo=function(j,te){return le(k(D(j))+" "+k(Q(te))+" m"),this},qa=y.lineTo=function(j,te){return le(k(D(j))+" "+k(Q(te))+" l"),this},Va=y.curveTo=function(j,te,Ae,Te,De,Ze){return le([k(D(j)),k(Q(te)),k(D(Ae)),k(Q(Te)),k(D(De)),k(Q(Ze)),"c"].join(" ")),this};y.__private__.line=y.line=function(j,te,Ae,Te,De){if(isNaN(j)||isNaN(te)||isNaN(Ae)||isNaN(Te)||!Ua(De))throw new Error("Invalid arguments passed to jsPDF.line");return P===R.COMPAT?this.lines([[Ae-j,Te-te]],j,te,[1,1],De||"S"):this.lines([[Ae-j,Te-te]],j,te,[1,1]).stroke()},y.__private__.lines=y.lines=function(j,te,Ae,Te,De,Ze){var gt,Nt,_,$,Y,he,je,qe,yt,ln,Nn,Qt;if(typeof j=="number"&&(Qt=Ae,Ae=te,te=j,j=Qt),Te=Te||[1,1],Ze=Ze||!1,isNaN(te)||isNaN(Ae)||!Array.isArray(j)||!Array.isArray(Te)||!Ua(De)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ba(te,Ae),gt=Te[0],Nt=Te[1],$=j.length,ln=te,Nn=Ae,_=0;_<$;_++)(Y=j[_]).length===2?(ln=Y[0]*gt+ln,Nn=Y[1]*Nt+Nn,qa(ln,Nn)):(he=Y[0]*gt+ln,je=Y[1]*Nt+Nn,qe=Y[2]*gt+ln,yt=Y[3]*Nt+Nn,ln=Y[4]*gt+ln,Nn=Y[5]*Nt+Nn,Va(he,je,qe,yt,ln,Nn));return Ze&&$i(),el(De),this},y.path=function(j){for(var te=0;te<j.length;te++){var Ae=j[te],Te=Ae.c;switch(Ae.op){case"m":Ba(Te[0],Te[1]);break;case"l":qa(Te[0],Te[1]);break;case"c":Va.apply(this,Te);break;case"h":$i()}}return this},y.__private__.rect=y.rect=function(j,te,Ae,Te,De){if(isNaN(j)||isNaN(te)||isNaN(Ae)||isNaN(Te)||!Ua(De))throw new Error("Invalid arguments passed to jsPDF.rect");return P===R.COMPAT&&(Te=-Te),le([k(D(j)),k(Q(te)),k(D(Ae)),k(D(Te)),"re"].join(" ")),el(De),this},y.__private__.triangle=y.triangle=function(j,te,Ae,Te,De,Ze,gt){if(isNaN(j)||isNaN(te)||isNaN(Ae)||isNaN(Te)||isNaN(De)||isNaN(Ze)||!Ua(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-j,Te-te],[De-Ae,Ze-Te],[j-De,te-Ze]],j,te,[1,1],gt,!0),this},y.__private__.roundedRect=y.roundedRect=function(j,te,Ae,Te,De,Ze,gt){if(isNaN(j)||isNaN(te)||isNaN(Ae)||isNaN(Te)||isNaN(De)||isNaN(Ze)||!Ua(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*Ae),Ze=Math.min(Ze,.5*Te),this.lines([[Ae-2*De,0],[De*Nt,0,De,Ze-Ze*Nt,De,Ze],[0,Te-2*Ze],[0,Ze*Nt,-De*Nt,Ze,-De,Ze],[2*De-Ae,0],[-De*Nt,0,-De,-Ze*Nt,-De,-Ze],[0,2*Ze-Te],[0,-Ze*Nt,De*Nt,-Ze,De,-Ze]],j+De,te,[1,1],gt,!0),this},y.__private__.ellipse=y.ellipse=function(j,te,Ae,Te,De){if(isNaN(j)||isNaN(te)||isNaN(Ae)||isNaN(Te)||!Ua(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*Ae,gt=4/3*(Math.SQRT2-1)*Te;return Ba(j+Ae,te),Va(j+Ae,te-gt,j+Ze,te-Te,j,te-Te),Va(j-Ze,te-Te,j-Ae,te-gt,j-Ae,te),Va(j-Ae,te+gt,j-Ze,te+Te,j,te+Te),Va(j+Ze,te+Te,j+Ae,te+gt,j+Ae,te),el(De),this},y.__private__.circle=y.circle=function(j,te,Ae,Te){if(isNaN(j)||isNaN(te)||isNaN(Ae)||!Ua(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,te,Ae,Ae,Te)},y.setFont=function(j,te,Ae){return Ae&&(te=z(te,Ae)),Wt=bo(j,te,{disableWarning:!1}),this};var wo=y.__private__.getFont=y.getFont=function(){return bn[bo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var j,te,Ae={};for(j in _n)if(_n.hasOwnProperty(j))for(te in Ae[j]=[],_n[j])_n[j].hasOwnProperty(te)&&Ae[j].push(te);return Ae},y.addFont=function(j,te,Ae,Te,De){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(Ae=z(Ae,Te)),De=De||"Identity-H",zc.call(this,j,te,Ae,De)};var Xn,fi=t.lineWidth||.200025,za=y.__private__.getLineWidth=y.getLineWidth=function(){return fi},Ao=y.__private__.setLineWidth=y.setLineWidth=function(j){return fi=j,le(k(D(j))+" w"),this};y.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(j,te){if(j=j||[],te=te||0,isNaN(te)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map((function(Ae){return k(D(Ae))})).join(" "),te=k(D(te)),le("["+j+"] "+te+" d"),this};var Ys=y.__private__.getLineHeight=y.getLineHeight=function(){return He*Xn};y.__private__.getLineHeight=y.getLineHeight=function(){return He*Xn};var Gc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Xn=j),this},Xs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Xn};Gc(t.lineHeight);var Sa=y.__private__.getHorizontalCoordinate=function(j){return D(j)},zr=y.__private__.getVerticalCoordinate=function(j){return P===R.ADVANCED?j:Bt[G].mediaBox.topRightY-Bt[G].mediaBox.bottomLeftY-D(j)},tl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(j){return k(Sa(j))},Js=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(j){return k(zr(j))},Hi=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Mt(Hi)},y.__private__.setStrokeColor=y.setDrawColor=function(j,te,Ae,Te){return Hi=Ht({ch1:j,ch2:te,ch3:Ae,ch4:Te,pdfColorType:"draw",precision:2}),le(Hi),this};var $l=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Mt($l)},y.__private__.setFillColor=y.setFillColor=function(j,te,Ae,Te){return $l=Ht({ch1:j,ch2:te,ch3:Ae,ch4:Te,pdfColorType:"fill",precision:2}),le($l),this};var Qs=t.textColor||"0 g",So=y.__private__.getTextColor=y.getTextColor=function(){return Mt(Qs)};y.__private__.setTextColor=y.setTextColor=function(j,te,Ae,Te){return Qs=Ht({ch1:j,ch2:te,ch3:Ae,ch4:Te,pdfColorType:"text",precision:3}),this};var nl=t.charSpace,Hl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(nl||0)};y.__private__.setCharSpace=y.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nl=j,this};var Wc=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(j){var te=y.CapJoinStyles[j];if(te===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wc=te,le(te+" J"),this};var Gl=0;y.__private__.setLineJoin=y.setLineJoin=function(j){var te=y.CapJoinStyles[j];if(te===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=te,le(te+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(k(D(j))+" M"),this},y.GState=px,y.setGState=function(j){(j=typeof j=="string"?$n[pr[j]]:Eo(null,j)).equals(si)||(le("/"+j.id+" gs"),si=j)};var Eo=function(j,te){if(!j||!pr[j]){var Ae=!1;for(var Te in $n)if($n.hasOwnProperty(Te)&&$n[Te].equals(te)){Ae=!0;break}if(Ae)te=$n[Te];else{var De="GS"+(Object.keys($n).length+1).toString(10);$n[De]=te,te.id=De}return j&&(pr[j]=te.id),on.publish("addGState",te),te}};y.addGState=function(j,te){return Eo(j,te),this},y.saveGraphicsState=function(){return le("q"),bi.push({key:Wt,size:He,color:Qs}),this},y.restoreGraphicsState=function(){le("Q");var j=bi.pop();return Wt=j.key,He=j.size,Qs=j.color,si=null,this},y.setCurrentTransformationMatrix=function(j){return le(j.toString()+" cm"),this},y.comment=function(j){return le("#"+j),this};var No=function(j,te){var Ae=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(Ze){isNaN(Ze)||(Ae=parseFloat(Ze))}});var Te=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Ze){isNaN(Ze)||(Te=parseFloat(Ze))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ze){De=Ze.toString()}}),this},Wl=function(j,te,Ae,Te){No.call(this,j,te),this.type="rect";var De=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(gt){isNaN(gt)||(De=parseFloat(gt))}});var Ze=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(gt){isNaN(gt)||(Ze=parseFloat(gt))}}),this},rl=function(){this.page=yn,this.currentPage=G,this.pages=Re.slice(0),this.pagesContext=Bt.slice(0),this.x=Yn,this.y=un,this.matrix=lr,this.width=To(G),this.height=aa(G),this.outputDestination=We,this.id="",this.objectNumber=-1};rl.prototype.restore=function(){yn=this.page,G=this.currentPage,Bt=this.pagesContext,Re=this.pages,Yn=this.x,un=this.y,lr=this.matrix,Yl(G,this.width),il(G,this.height),We=this.outputDestination};var Kl=function(j,te,Ae,Te,De){Xr.push(new rl),yn=G=0,Re=[],Yn=j,un=te,lr=De,_r([Ae,Te])},zu=function(j){if(di[j])Xr.pop().restore();else{var te=new rl,Ae="Xo"+(Object.keys(Br).length+1).toString(10);te.id=Ae,di[j]=Ae,Br[Ae]=te,on.publish("addFormObject",te),Xr.pop().restore()}};for(var ds in y.beginFormObject=function(j,te,Ae,Te,De){return Kl(j,te,Ae,Te,De),this},y.endFormObject=function(j){return zu(j),this},y.doFormObject=function(j,te){var Ae=Br[di[j]];return le("q"),le(te.toString()+" cm"),le("/"+Ae.id+" Do"),le("Q"),this},y.getFormObject=function(j){var te=Br[di[j]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},y.save=function(j,te){return j=j||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Mf(Bl(cs()),j),typeof Mf.unload=="function"&&rn.setTimeout&&setTimeout(Mf.unload,911),this):new Promise((function(Ae,Te){try{var De=Mf(Bl(cs()),j);typeof Mf.unload=="function"&&rn.setTimeout&&setTimeout(Mf.unload,911),Ae(De)}catch(Ze){Te(Ze.message)}}))},Jt.API)Jt.API.hasOwnProperty(ds)&&(ds==="events"&&Jt.API.events.length?(function(j,te){var Ae,Te,De;for(De=te.length-1;De!==-1;De--)Ae=te[De][0],Te=te[De][1],j.subscribe.apply(j,[Ae].concat(typeof Te=="function"?[Te]:Te))})(on,Jt.API.events):y[ds]=Jt.API[ds]);var To=y.getPageWidth=function(j){return(Bt[j=j||G].mediaBox.topRightX-Bt[j].mediaBox.bottomLeftX)/wt},Yl=y.setPageWidth=function(j,te){Bt[j].mediaBox.topRightX=te*wt+Bt[j].mediaBox.bottomLeftX},aa=y.getPageHeight=function(j){return(Bt[j=j||G].mediaBox.topRightY-Bt[j].mediaBox.bottomLeftY)/wt},il=y.setPageHeight=function(j,te){Bt[j].mediaBox.topRightY=te*wt+Bt[j].mediaBox.bottomLeftY};return y.internal={pdfEscape:Qr,getStyle:Hc,getFont:wo,getFontSize:Ke,getCharSpace:Hl,getTextColor:So,getLineHeight:Ys,getLineHeightFactor:Xs,getLineWidth:za,write:lt,getHorizontalCoordinate:Sa,getVerticalCoordinate:zr,getCoordinateString:tl,getVerticalCoordinateString:Js,collections:{},newObject:cr,newAdditionalObject:$t,newObjectDeferred:me,newObjectDeferredBegin:tt,getFilters:Fe,putStream:Pt,events:on,scaleFactor:wt,pageSize:{getWidth:function(){return To(G)},setWidth:function(j){Yl(G,j)},getHeight:function(){return aa(G)},setHeight:function(j){il(G,j)}},encryptionOptions:h,encryption:Vn,getEncryptor:Vl,output:ql,getNumberOfPages:Mn,pages:Re,out:le,f2:W,f3:B,getPageInfo:Zo,getPageInfoByObjId:Kt,getCurrentPageInfo:wa,getPDFVersion:A,Point:No,Rectangle:Wl,Matrix:Ot,hasHotfix:us},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return To(G)},set:function(j){Yl(G,j)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return aa(G)},set:function(j){il(G,j)},enumerable:!0,configurable:!0}),Ul.call(y,Xe),Wt="F1",Ks(i,n),on.publish("initialized"),y}cp.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},cp.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},cp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},cp.prototype.processOwnerPassword=function(t,e){return vN(gN(e).substr(0,5),t)},cp.prototype.encryptor=function(t,e){var n=gN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return vN(n,r)}},px.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||xr(t)!==xr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Jt.API={events:[]},Jt.version="2.5.2";var gi=Jt.API,_C=1,gh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ap=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gn=function(t){return t.toFixed(2)},_d=function(t){return t.toFixed(5)};gi.__acroform__={};var $s=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},uD=function(t){return t*_C},gc=function(t){var e=new NB,n=Ft.internal.getHeight(t)||0,r=Ft.internal.getWidth(t)||0;return e.BBox=[0,0,Number(gn(r)),Number(gn(n))],e},zde=gi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},$de=gi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Hde=gi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Si=gi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hde(t,e-1)},Ei=gi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zde(t,e-1)},Ni=gi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $de(t,e-1)},Gde=gi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(a)||0,[Number(gn(c.lowerLeft_X)),Number(gn(c.lowerLeft_Y)),Number(gn(c.upperRight_X)),Number(gn(c.upperRight_Y))]},Wde=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=yN(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+gn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=gc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},yN=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map((function(B){return B.split(`
`)})):i.map((function(B){return[B]}));var a=n,s=Ft.internal.getHeight(t)||0;s=s<0?-s:s;var l=Ft.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(B,D,F){if(B+1<i.length){var Q=D+" "+i[B+1][0];return Ny(Q,t,F).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var d,h,m=Ny("3",t,a).height,g=t.multiline?s-a:(s-m)/2,y=g+=2,N=0,A=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ny(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var C="",R=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var U=!1;if(i[P].length!==1&&S!==i[P].length-1){if((m+2)*(R+2)+2>s)continue e;C+=i[P][S],U=!0,A=P,P--}else{C=(C+=i[P][S]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var L=parseInt(P),z=c(L,C,a),k=P>=i.length-1;if(z&&!k){C+=" ",S=0;continue}if(z||k){if(k)A=L;else if(t.multiline&&(m+2)*(R+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(R+2)+2>s)continue e;A=L}}for(var O="",V=N;V<=A;V++){var W=i[V];if(t.multiline){if(V===A){O+=W[S]+" ",S=(S+1)%W.length;continue}if(V===N){O+=W[W.length-1]+" ";continue}}O+=W[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,h=Ny(O,t,a).width,t.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}e+=gn(d)+" "+gn(y)+` Td
`,e+="("+gh(O)+`) Tj
`,e+=-gn(d)+` 0 Td
`,y=-(a+2),h=0,N=U?A:A+1,R++,C=""}break}return r.text=e,r.fontSize=a,r},Ny=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Kde={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yde=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Xde=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),xr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Jde=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ml.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Kde)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_C=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new TB,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Yde(a,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Gde(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ft.createDefaultAppearanceStream(l),xr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Wde(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var y=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var s in y)if(y.hasOwnProperty(s)){var N=y[s];typeof N=="function"&&(N=N.call(i,l)),m+="/"+s+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(i,l)),m+="/"+s+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&Xde(i.internal.acroformPlugin.xForms,i)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},EB=gi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),xr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+gh(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wS=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+gh(r(t))+")"},_c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_c.prototype.toString=function(){return this.objId+" 0 R"},_c.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_c.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:EB(i,this.objId,this.scope)}):i instanceof _c?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var NB=function(){_c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};$s(NB,_c);var TB=function(){_c.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+gh(n(t))+")"}},set:function(n){t=n}})};$s(TB,_c);var Ml=function t(){_c.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Si(e,3)},set:function(C){C?this.F=Ei(e,3):this.F=Ni(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof mx)return;a="FieldObject"+t.FieldNum++}var C=function(R){return R};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+gh(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/_C:d},set:function(C){d=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof mx||this instanceof Yf))return wS(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ma?g:wS(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof ma?C:C.substr(0,1)==="("?ap(C.substr(1,C.length-2)):ap(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ma?ap(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof ma?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ma?y:wS(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=this instanceof ma?C:C.substr(0,1)==="("?ap(C.substr(1,C.length-2)):ap(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ma?ap(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof ma?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(C){C=!!C,A=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,1)},set:function(C){C?this.Ff=Ei(this.Ff,1):this.Ff=Ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,2)},set:function(C){C?this.Ff=Ei(this.Ff,2):this.Ff=Ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,3)},set:function(C){C?this.Ff=Ei(this.Ff,3):this.Ff=Ni(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');S=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(S){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};$s(Ml,_c);var Rp=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EB(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,18)},set:function(n){n?this.Ff=Ei(this.Ff,18):this.Ff=Ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ei(this.Ff,19):this.Ff=Ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,20)},set:function(n){n?(this.Ff=Ei(this.Ff,20),e.sort()):this.Ff=Ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,22)},set:function(n){n?this.Ff=Ei(this.Ff,22):this.Ff=Ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,23)},set:function(n){n?this.Ff=Ei(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,27)},set:function(n){n?this.Ff=Ei(this.Ff,27):this.Ff=Ni(this.Ff,27)}}),this.hasAppearanceStream=!1};$s(Rp,Ml);var kp=function(){Rp.call(this),this.fontName="helvetica",this.combo=!1};$s(kp,Rp);var Pp=function(){kp.call(this),this.combo=!0};$s(Pp,kp);var zy=function(){Pp.call(this),this.edit=!0};$s(zy,Pp);var ma=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,15)},set:function(n){n?this.Ff=Ei(this.Ff,15):this.Ff=Ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,16)},set:function(n){n?this.Ff=Ei(this.Ff,16):this.Ff=Ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,17)},set:function(n){n?this.Ff=Ei(this.Ff,17):this.Ff=Ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,26)},set:function(n){n?this.Ff=Ei(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+gh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){xr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};$s(ma,Ml);var $y=function(){ma.call(this),this.pushButton=!0};$s($y,ma);var Op=function(){ma.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$s(Op,ma);var mx=function(){var t,e;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+gh(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){xr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$s(mx,Ml),Op.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Op.prototype.createOption=function(t){var e=new mx;return e.Parent=this,e.optionName=t,this.Kids.push(e),Qde.call(this.scope,e),e};var Hy=function(){ma.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};$s(Hy,ma);var Yf=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,13)},set:function(e){e?this.Ff=Ei(this.Ff,13):this.Ff=Ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,21)},set:function(e){e?this.Ff=Ei(this.Ff,21):this.Ff=Ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,23)},set:function(e){e?this.Ff=Ei(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,24)},set:function(e){e?this.Ff=Ei(this.Ff,24):this.Ff=Ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,25)},set:function(e){e?this.Ff=Ei(this.Ff,25):this.Ff=Ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,26)},set:function(e){e?this.Ff=Ei(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$s(Yf,Ml);var Gy=function(){Yf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,14)},set:function(t){t?this.Ff=Ei(this.Ff,14):this.Ff=Ni(this.Ff,14)}}),this.password=!0};$s(Gy,Yf);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=yN(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+gn(Ft.internal.getWidth(t))+" "+gn(Ft.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=gc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Ft.internal.getHeight(t),s=Ft.internal.getWidth(t),l=yN(t,t.caption);return i.push("1 g"),i.push("0 0 "+gn(s)+" "+gn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gn(s-1)+" "+gn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gn(Ft.internal.getWidth(t))+" "+gn(Ft.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Circle.YesNormal,e.D[t]=Ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ft.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_d(Ft.internal.getWidth(t)/2)+" "+_d(Ft.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ft.internal.Bezier_C).toFixed(5)),s=Number((r*Ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_d(Ft.internal.getWidth(t)/2)+" "+_d(Ft.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_d(Ft.internal.getWidth(t)/2)+" "+_d(Ft.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_d(Ft.internal.getWidth(t)/2)+" "+_d(Ft.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Cross.YesNormal,e.D[t]=Ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gc(t);e.scope=t.scope;var n=[],r=Ft.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+gn(Ft.internal.getWidth(t)-2)+" "+gn(Ft.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(gn(r.x1.x)+" "+gn(r.x1.y)+" m"),n.push(gn(r.x2.x)+" "+gn(r.x2.y)+" l"),n.push(gn(r.x4.x)+" "+gn(r.x4.y)+" m"),n.push(gn(r.x3.x)+" "+gn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=Ft.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+gn(Ft.internal.getWidth(t))+" "+gn(Ft.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gn(Ft.internal.getWidth(t)-2)+" "+gn(Ft.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(gn(n.x1.x)+" "+gn(n.x1.y)+" m"),r.push(gn(n.x2.x)+" "+gn(n.x2.y)+" l"),r.push(gn(n.x4.x)+" "+gn(n.x4.y)+" m"),r.push(gn(n.x3.x)+" "+gn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gn(Ft.internal.getWidth(t))+" "+gn(Ft.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ft.internal.getWidth(t),n=Ft.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ft.internal.getWidth=function(t){var e=0;return xr(t)==="object"&&(e=uD(t.Rect[2])),e},Ft.internal.getHeight=function(t){var e=0;return xr(t)==="object"&&(e=uD(t.Rect[3])),e};var Qde=gi.addField=function(t){if(Jde(this,t),!(t instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};gi.AcroFormChoiceField=Rp,gi.AcroFormListBox=kp,gi.AcroFormComboBox=Pp,gi.AcroFormEditBox=zy,gi.AcroFormButton=ma,gi.AcroFormPushButton=$y,gi.AcroFormRadioButton=Op,gi.AcroFormCheckBox=Hy,gi.AcroFormTextField=Yf,gi.AcroFormPasswordField=Gy,gi.AcroFormAppearance=Ft,gi.AcroForm={ChoiceField:Rp,ListBox:kp,ComboBox:Pp,EditBox:zy,Button:ma,PushButton:$y,RadioButton:Op,CheckBox:Hy,TextField:Yf,PasswordField:Gy,Appearance:Ft},Jt.AcroForm={ChoiceField:Rp,ListBox:kp,ComboBox:Pp,EditBox:zy,Button:ma,PushButton:$y,RadioButton:Op,CheckBox:Hy,TextField:Yf,PasswordField:Gy,Appearance:Ft};Jt.AcroForm;function CB(t){return t.reduce((function(e,n,r){return e[n]=r,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(B,D){var F,Q,oe,K,ee,se=e;if((D=D||e)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(z(B))for(ee in n)for(oe=n[ee],F=0;F<oe.length;F+=1){for(K=!0,Q=0;Q<oe[F].length;Q+=1)if(oe[F][Q]!==void 0&&oe[F][Q]!==B[Q]){K=!1;break}if(K===!0){se=ee;break}}else for(ee in n)for(oe=n[ee],F=0;F<oe.length;F+=1){for(K=!0,Q=0;Q<oe[F].length;Q+=1)if(oe[F][Q]!==void 0&&oe[F][Q]!==B.charCodeAt(Q)){K=!1;break}if(K===!0){se=ee;break}}return se===e&&D!==e&&(se=D),se},i=function B(D){for(var F=this.internal.write,Q=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:D.width}),K.push({key:"Height",value:D.height}),D.colorSpace===S.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===S.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ee="",se=0,_e=D.transparency.length;se<_e;se++)ee+=D.transparency[se]+" "+D.transparency[se]+" ";K.push({key:"Mask",value:"["+ee+"]"})}D.sMask!==void 0&&K.push({key:"SMask",value:D.objectId+1+" 0 R"});var xe=D.filter!==void 0?["/"+D.filter]:void 0;if(Q({data:D.data,additionalKeyValues:K,alreadyAppliedFilters:xe,objectId:D.objectId}),F("endobj"),"sMask"in D&&D.sMask!==void 0){var ce="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,M={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:ce,data:D.sMask};"filter"in D&&(M.filter=D.filter),B.call(this,M)}if(D.colorSpace===S.INDEXED){var G=this.internal.newObject();Q({data:O(new Uint8Array(D.palette)),objectId:G}),F("endobj")}},a=function(){var B=this.internal.collections.addImage_images;for(var D in B)i.call(this,B[D])},s=function(){var B,D=this.internal.collections.addImage_images,F=this.internal.write;for(var Q in D)F("/I"+(B=D[Q]).index,B.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var B=this.internal.collections.addImage_images;return l.call(this),B},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(B){return typeof t["process"+B.toUpperCase()]=="function"},m=function(B){return xr(B)==="object"&&B.nodeType===1},g=function(B,D){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var F=""+B.getAttribute("src");if(F.indexOf("data:image/")===0)return Xg(unescape(F).split("base64,").pop());var Q=t.loadFile(F,!0);if(Q!==void 0)return Q}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var oe;switch(D){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return Xg(B.toDataURL(oe,1).split("base64,").pop())}},y=function(B){var D=this.internal.collections.addImage_images;if(D){for(var F in D)if(B===D[F].alias)return D[F]}},N=function(B,D,F){return B||D||(B=-96,D=-96),B<0&&(B=-1*F.width*72/B/this.internal.scaleFactor),D<0&&(D=-1*F.height*72/D/this.internal.scaleFactor),B===0&&(B=D*F.width/F.height),D===0&&(D=B*F.height/F.width),[B,D]},A=function(B,D,F,Q,oe,K){var ee=N.call(this,F,Q,oe),se=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,xe=c.call(this);if(F=ee[0],Q=ee[1],xe[oe.index]=oe,K){K*=Math.PI/180;var ce=Math.cos(K),M=Math.sin(K),G=function(de){return de.toFixed(4)},Z=[G(ce),G(M),G(-1*M),G(ce),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,se(B),_e(D+Q),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([se(F),"0","0",se(Q),"0","0","cm"].join(" "))):this.internal.write([se(F),"0","0",se(Q),se(B),_e(D+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(B){var D,F,Q=0;if(typeof B=="string")for(F=B.length,D=0;D<F;D++)Q=(Q<<5)-Q+B.charCodeAt(D),Q|=0;else if(z(B))for(F=B.byteLength/2,D=0;D<F;D++)Q=(Q<<5)-Q+B[D],Q|=0;return Q},P=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var D=!0;return B.length===0&&(D=!1),B.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(D=!1),D},U=t.__addimage__.extractImageFromDataUrl=function(B){var D=(B=B||"").split("base64,"),F=null;if(D.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(D[0]);Array.isArray(Q)&&(F={mimeType:Q[1],charset:Q[2],data:D[1]})}return F},L=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(B){return L()&&B instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(B){return L()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},k=t.__addimage__.binaryStringToUint8Array=function(B){for(var D=B.length,F=new Uint8Array(D),Q=0;Q<D;Q++)F[Q]=B.charCodeAt(Q);return F},O=t.__addimage__.arrayBufferToBinaryString=function(B){for(var D="",F=z(B)?B:new Uint8Array(B),Q=0;Q<F.length;Q+=8192)D+=String.fromCharCode.apply(null,F.subarray(Q,Q+8192));return D};t.addImage=function(){var B,D,F,Q,oe,K,ee,se,_e;if(typeof arguments[1]=="number"?(D=e,F=arguments[1],Q=arguments[2],oe=arguments[3],K=arguments[4],ee=arguments[5],se=arguments[6],_e=arguments[7]):(D=arguments[1],F=arguments[2],Q=arguments[3],oe=arguments[4],K=arguments[5],ee=arguments[6],se=arguments[7],_e=arguments[8]),xr(B=arguments[0])==="object"&&!m(B)&&"imageData"in B){var xe=B;B=xe.imageData,D=xe.format||D||e,F=xe.x||F||0,Q=xe.y||Q||0,oe=xe.w||xe.width||oe,K=xe.h||xe.height||K,ee=xe.alias||ee,se=xe.compression||se,_e=xe.rotation||xe.angle||_e}var ce=this.internal.getFilters();if(se===void 0&&ce.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(F)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=V.call(this,B,D,ee,se);return A.call(this,F,Q,oe,K,M,_e),this};var V=function(B,D,F,Q){var oe,K,ee;if(typeof B=="string"&&r(B)===e){B=unescape(B);var se=W(B,!1);(se!==""||(se=t.loadFile(B,!0))!==void 0)&&(B=se)}if(m(B)&&(B=g(B,D)),D=r(B,D),!h(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ee=F)==null||ee.length===0)&&(F=(function(_e){return typeof _e=="string"||z(_e)?R(_e):z(_e.data)?R(_e.data):null})(B)),(oe=y.call(this,F))||(L()&&(B instanceof Uint8Array||D==="RGBA"||(K=B,B=k(B))),oe=this["process"+D.toUpperCase()](B,d.call(this),F,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in t.image_compression?_e:C.NONE})(Q),K)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},W=t.__addimage__.convertBase64ToBinaryString=function(B,D){var F;D=typeof D!="boolean"||D;var Q,oe="";if(typeof B=="string"){Q=(F=U(B))!==null?F.data:B;try{oe=Xg(Q)}catch(K){if(D)throw P(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(B){var D,F,Q="";if(m(B)&&(B=g(B)),typeof B=="string"&&r(B)===e&&((Q=W(B,!1))===""&&(Q=t.loadFile(B)||""),B=Q),F=r(B),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!L()||B instanceof Uint8Array||(B=k(B)),!(D=this["process"+F.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=F,D}})(Jt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Jt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((r=d[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(A.objId),R=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+y(C(R))+") >>",A.content=a;var P=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(A.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(N(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var L=this.annotations._nameMap[r.options.name];r.options.pageNumber=L.page,r.options.top=L.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;s=Math.ceil(d*h)}else l=c,s=d;return this.text(n,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,l,s,a),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Jt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(A){return s(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(A){var S=0,C=n,R="",P=0;for(S=0;S<A.length;S+=1)C[A.charCodeAt(S)]!==void 0?(P++,typeof(C=C[A.charCodeAt(S)])=="number"&&(R+=String.fromCharCode(C),C=n,P=0),S===A.length-1&&(C=n,R+=A.charAt(S-(P-1)),S-=P-1,P=0)):(C=n,R+=A.charAt(S-P),S-=P,P=0);return R};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(A,S,C){return s(A)?a(A)===!1?-1:!d(A)||!s(S)&&!s(C)||!s(C)&&l(S)||l(A)&&!s(S)||l(A)&&c(S)||l(A)&&l(S)?0:h(A)&&s(S)&&!l(S)&&s(C)&&d(C)?3:l(A)||!s(C)?1:2:-1},y=function(A){var S=0,C=0,R=0,P="",U="",L="",z=(A=A||"").split("\\s+"),k=[];for(S=0;S<z.length;S+=1){for(k.push(""),C=0;C<z[S].length;C+=1)P=z[S][C],U=z[S][C-1],L=z[S][C+1],s(P)?(R=g(P,U,L),k[S]+=R!==-1?String.fromCharCode(e[P.charCodeAt(0)][R]):P):k[S]+=P;k[S]=m(k[S])}return k.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var A,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(S)){var R=0;for(C=[],R=0;R<S.length;R+=1)Array.isArray(S[R])?C.push([y(S[R][0]),S[R][1],S[R][2]]):C.push([y(S[R])]);A=C}else A=y(S);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",N])})(Jt.API),Jt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Jt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,y=0,N=0,A=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=d.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(P,U){return P.concat(S.splitTextToSize(U,C))}),[])):c=Array.isArray(c)?c:[c];for(var R=0;R<c.length;R++)y<(A=this.getStringUnitWidth(c[R],{font:m})*h)&&(y=A);return y!==0&&(N=c.length),{w:y/=g,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,h,m,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var y,N,A,S,C=[],R=[],P=[],U={},L={},z=[],k=[],O=(g=g||{}).autoSize||!1,V=g.printHeaders!==!1,W=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,B=g.margins||Object.assign({width:this.getPageWidth()},e),D=typeof g.padding=="number"?g.padding:3,F=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=Q,this.setFontSize(W),m==null)R=C=Object.keys(h[0]),P=C.map((function(){return"left"}));else if(Array.isArray(m)&&xr(m[0])==="object")for(C=m.map((function(xe){return xe.name})),R=m.map((function(xe){return xe.prompt||xe.name||""})),P=m.map((function(xe){return xe.align||"left"})),y=0;y<m.length;y+=1)L[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(R=C=m,P=C.map((function(){return"left"})));if(O||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<C.length;y+=1){for(U[S=C[y]]=h.map((function(xe){return xe[S]})),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(R[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=U[S],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)z.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[S]=Math.max.apply(null,z)+D+D,z=[]}if(V){var oe={};for(y=0;y<C.length;y+=1)oe[C[y]]={},oe[C[y]].text=R[y],oe[C[y]].align=P[y];var K=l.call(this,oe,L);k=C.map((function(xe){return new a(c,d,L[xe],K,oe[xe].text,void 0,oe[xe].align)})),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var ee=m.reduce((function(xe,ce){return xe[ce.name]=ce.align,xe}),{});for(y=0;y<h.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:h[y]},this);var se=l.call(this,h[y],L);for(A=0;A<C.length;A+=1){var _e=h[y][C[A]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:A,data:_e},this),s.call(this,new a(c,d,L[C[A]],se,_e,y+2,ee[C[A]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map((function(y){var N=c[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[y]-h-h)}),this).map((function(y){return this.getLineHeightFactor()*y.length*m/g+h+h}),this).reduce((function(y,N){return Math.max(y,N)}),0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){h=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(Jt.API);var IB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xN=CB(RB),kB=[100,200,300,400,500,600,700,800,900],Zde=CB(kB);function bN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return IB[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(t.weight),i=(function(a){return typeof xN[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function dD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var efe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tfe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},efe,n.genericFontFamilies||{}),a=null,s=null,l=0;l<e.length;++l)if(i[(a=bN(e[l])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+hD(a)+"' and default family '"+r+"'.");if(s=(function(c,d){if(d[c])return d[c];var h=xN[c],m=h<=xN.normal?-1:1,g=dD(d,RB,h,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g})(a.stretch,s),s=(function(c,d){if(d[c])return d[c];for(var h=IB[c],m=0;m<h.length;++m)if(d[h[m]])return d[h[m]];throw new Error("Could not find a matching font-style for "+c)})(a.style,s),!(s=(function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=Zde[c],m=dD(d,kB,h,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m})(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+hD(a)+"'.");return s}function pD(t){return t.trimLeft()}function nfe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function rfe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ty,mD,gD,AS=["times"];(function(t){var e,n,r,i,a,s,l,c,d,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ve){Z=!!ve}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(ve){de=!!ve}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(ve){isNaN(ve)||(X=ve)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ve){isNaN(ve)||(ue=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var le;typeof ve=="number"?le=[ve,ve,ve,ve]:((le=new Array(4))[0]=ve[0],le[1]=ve.length>=2?ve[1]:le[0],le[2]=ve.length>=3?ve[2]:le[0],le[3]=ve.length>=4?ve[3]:le[1]),d.margin=le}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(ve){we=ve}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(ve){re=ve}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(ve){Se=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof h&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(ve){Re=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var le;le=g(ve),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var le=g(ve);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Ee=null;function We(ve,le){if(Ee===null){var lt=(function(nt){var Xe=[];return Object.keys(nt).forEach((function(He){nt[He].forEach((function(et){var Ke=null;switch(et){case"bold":Ke={family:He,weight:"bold"};break;case"italic":Ke={family:He,style:"italic"};break;case"bolditalic":Ke={family:He,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:He}}Ke!==null&&(Ke.ref={name:He,style:et},Xe.push(Ke))}))})),Xe})(ve.getFontList());Ee=(function(nt){for(var Xe={},He=0;He<nt.length;++He){var et=bN(nt[He]),Ke=et.family,at=et.stretch,Qe=et.style,st=et.weight;Xe[Ke]=Xe[Ke]||{},Xe[Ke][at]=Xe[Ke][at]||{},Xe[Ke][at][Qe]=Xe[Ke][at][Qe]||{},Xe[Ke][at][Qe][st]=et}return Xe})(lt.concat(le))}return Ee}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(ve){Ee=null,Ge=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var le;if(this.ctx.font=ve,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var lt=le[1],nt=(le[2],le[3]),Xe=le[4],He=(le[5],le[6]),et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(et==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var Ke=(function(Tt){var Wt,wt,Yn=[],un=Tt.trim();if(un==="")return AS;if(un in fD)return[fD[un]];for(;un!=="";){switch(wt=null,Wt=(un=pD(un)).charAt(0)){case'"':case"'":wt=nfe(un.substring(1),Wt);break;default:wt=rfe(un)}if(wt===null||(Yn.push(wt[0]),(un=pD(wt[1]))!==""&&un.charAt(0)!==","))return AS;un=un.replace(/^,/,"")}return Yn})(He);if(this.fontFaces){var at=tfe(We(this.pdf,this.fontFaces),Ke.map((function(Tt){return{family:Tt,stretch:"normal",weight:nt,style:lt}})));this.pdf.setFont(at.ref.name,at.ref.style)}else{var Qe="";(nt==="bold"||parseInt(nt,10)>=700||lt==="bold")&&(Qe="bold"),lt==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var st="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<Ke.length;_t++){if(this.pdf.internal.getFont(Ke[_t],Qe,{noFallback:!0,disableWarning:!0})!==void 0){st=Ke[_t];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Ke[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ke[_t],Qe="bold";else if(this.pdf.internal.getFont(Ke[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ke[_t],Qe="normal";break}}if(st===""){for(var It=0;It<Ke.length;It++)if(vt[Ke[It]]){st=vt[Ke[It]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){U.call(this,"fill",!1)},m.prototype.stroke=function(){U.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(M,G));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(M,G)},m.prototype.closePath=function(){var M=new s(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&xr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new s(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},m.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(M,G));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,G,Z,de){if(isNaN(Z)||isNaN(de)||isNaN(M)||isNaN(G))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new s(Z,de)),ue=this.ctx.transform.applyToPoint(new s(M,G));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},m.prototype.bezierCurveTo=function(M,G,Z,de,X,ue){if(isNaN(X)||isNaN(ue)||isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new s(X,ue)),re=this.ctx.transform.applyToPoint(new s(M,G)),Se=this.ctx.transform.applyToPoint(new s(Z,de));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:Se.x,y2:Se.y,x:we.x,y:we.y}),this.ctx.lastPoint=new s(we.x,we.y)},m.prototype.arc=function(M,G,Z,de,X,ue){if(isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de)||isNaN(X))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new s(M,G));M=we.x,G=we.y;var re=this.ctx.transform.applyToPoint(new s(0,Z)),Se=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(re.x-Se.x,2)+Math.pow(re.y-Se.y,2))}Math.abs(X-de)>=2*Math.PI&&(de=0,X=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:Z,startAngle:de,endAngle:X,counterclockwise:ue})},m.prototype.arcTo=function(M,G,Z,de,X){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,G,Z,de){if(isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+Z,G),this.lineTo(M+Z,G+de),this.lineTo(M,G+de),this.lineTo(M,G),this.lineTo(M+Z,G),this.lineTo(M,G)},m.prototype.fillRect=function(M,G,Z,de){if(isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,Z,de),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},m.prototype.strokeRect=function(M,G,Z,de){if(isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(M,G,Z,de),this.stroke())},m.prototype.clearRect=function(M,G,Z,de){if(isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,Z,de))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var G,Z,de,X;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,Z=0,de=0,X=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ue!==null)G=parseInt(ue[1]),Z=parseInt(ue[2]),de=parseInt(ue[3]),X=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(ue[1]),Z=parseInt(ue[2]),de=parseInt(ue[3]),X=parseFloat(ue[4]);else{if(X=1,typeof M=="string"&&M.charAt(0)!=="#"){var we=new wB(M);M=we.ok?we.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,Z=M.substring(2,3),Z+=Z,de=M.substring(3,4),de+=de):(G=M.substring(1,3),Z=M.substring(3,5),de=M.substring(5,7)),G=parseInt(G,16),Z=parseInt(Z,16),de=parseInt(de,16)}}return{r:G,g:Z,b:de,a:X,style:M}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,G,Z,de){if(isNaN(G)||isNaN(Z)||typeof M!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!y.call(this)){var X=se(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;D.call(this,{text:M,x:G,y:Z,scale:ue,angle:X,align:this.textAlign,maxWidth:de})}},m.prototype.strokeText=function(M,G,Z,de){if(isNaN(G)||isNaN(Z)||typeof M!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){de=isNaN(de)?void 0:de;var X=se(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;D.call(this,{text:M,x:G,y:Z,scale:ue,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:de})}},m.prototype.measureText=function(M){if(typeof M!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Z=this.pdf.internal.scaleFactor,de=G.internal.getFontSize(),X=G.getStringUnitWidth(M)*de/G.internal.scaleFactor,ue=function(we){var re=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new ue({width:X*=Math.round(96*Z/72*1e4)/1e4})},m.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.rotate=function(M){if(isNaN(M))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.transform=function(M,G,Z,de,X,ue){if(isNaN(M)||isNaN(G)||isNaN(Z)||isNaN(de)||isNaN(X)||isNaN(ue))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(M,G,Z,de,X,ue);this.ctx.transform=this.ctx.transform.multiply(we)},m.prototype.setTransform=function(M,G,Z,de,X,ue){M=isNaN(M)?1:M,G=isNaN(G)?0:G,Z=isNaN(Z)?0:Z,de=isNaN(de)?1:de,X=isNaN(X)?0:X,ue=isNaN(ue)?0:ue,this.ctx.transform=new c(M,G,Z,de,X,ue)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,G,Z,de,X,ue,we,re,Se){var Re=this.pdf.getImageProperties(M),Ee=1,We=1,Ge=1,ve=1;de!==void 0&&re!==void 0&&(Ge=re/de,ve=Se/X,Ee=Re.width/de*re/de,We=Re.height/X*Se/X),ue===void 0&&(ue=G,we=Z,G=0,Z=0),de!==void 0&&re===void 0&&(re=de,Se=X),de===void 0&&re===void 0&&(re=Re.width,Se=Re.height);for(var le,lt=this.ctx.transform.decompose(),nt=se(lt.rotate.shx),Xe=new c,He=(Xe=(Xe=(Xe=Xe.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new l(ue-G*Ge,we-Z*ve,de*Ee,X*We)),et=S.call(this,He),Ke=[],at=0;at<et.length;at+=1)Ke.indexOf(et[at])===-1&&Ke.push(et[at]);if(P(Ke),this.autoPaging)for(var Qe=Ke[0],st=Ke[Ke.length-1],vt=Qe;vt<st+1;vt++){this.pdf.setPage(vt);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=vt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=vt===1?0:Tt+(vt-2)*Wt;if(this.ctx.clip_path.length!==0){var Yn=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(le,this.posX+this.margin[3],-wt+It+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Yn}var un=JSON.parse(JSON.stringify(He));un=R([un],this.posX+this.margin[3],-wt+It+this.ctx.prevPageLastElemOffset)[0];var lr=(vt>Qe||vt<st)&&A.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",un.x,un.y,un.w,un.h,null,null,nt),lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",He.x,He.y,He.w,He.h,null,null,nt)};var S=function(M,G,Z){var de=[];G=G||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":de.push(Math.floor((M.y+X)/Z)+1);break;case"arc":de.push(Math.floor((M.y+X-M.radius)/Z)+1),de.push(Math.floor((M.y+X+M.radius)/Z)+1);break;case"qct":var ue=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);de.push(Math.floor((ue.y+X)/Z)+1),de.push(Math.floor((ue.y+ue.h+X)/Z)+1);break;case"bct":var we=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);de.push(Math.floor((we.y+X)/Z)+1),de.push(Math.floor((we.y+we.h+X)/Z)+1);break;case"rect":de.push(Math.floor((M.y+X)/Z)+1),de.push(Math.floor((M.y+M.h+X)/Z)+1)}for(var re=0;re<de.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<de[re];)C.call(this);return de},C=function(){var M=this.fillStyle,G=this.strokeStyle,Z=this.font,de=this.lineCap,X=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=Z,this.lineCap=de,this.lineWidth=X,this.lineJoin=ue},R=function(M,G,Z){for(var de=0;de<M.length;de++)switch(M[de].type){case"bct":M[de].x2+=G,M[de].y2+=Z;case"qct":M[de].x1+=G,M[de].y1+=Z;case"mt":case"lt":case"arc":default:M[de].x+=G,M[de].y+=Z}return M},P=function(M){return M.sort((function(G,Z){return G-Z}))},U=function(M,G){for(var Z,de,X=this.fillStyle,ue=this.strokeStyle,we=this.lineCap,re=this.lineWidth,Se=Math.abs(re*this.ctx.transform.scaleX),Re=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Ge=[],ve=0;ve<We.length;ve++)if(We[ve].x!==void 0)for(var le=S.call(this,We[ve]),lt=0;lt<le.length;lt+=1)Ge.indexOf(le[lt])===-1&&Ge.push(le[lt]);for(var nt=0;nt<Ge.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Ge[nt];)C.call(this);if(P(Ge),this.autoPaging)for(var Xe=Ge[0],He=Ge[Ge.length-1],et=Xe;et<He+1;et++){this.pdf.setPage(et),this.fillStyle=X,this.strokeStyle=ue,this.lineCap=we,this.lineWidth=Se,this.lineJoin=Re;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=et===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=et===1?0:Qe+(et-2)*st;if(this.ctx.clip_path.length!==0){var _t=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Z,this.posX+this.margin[3],-vt+at+this.ctx.prevPageLastElemOffset),L.call(this,M,!0),this.path=_t}if(de=JSON.parse(JSON.stringify(Ee)),this.path=R(de,this.posX+this.margin[3],-vt+at+this.ctx.prevPageLastElemOffset),G===!1||et===0){var It=(et>Xe||et<He)&&A.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,st,null).clip().discardPath()),L.call(this,M,G),It&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=Se,L.call(this,M,G),this.lineWidth=re;this.path=Ee},L=function(M,G){if((M!=="stroke"||G||!N.call(this))&&(M==="stroke"||G||!y.call(this))){for(var Z,de,X=[],ue=this.path,we=0;we<ue.length;we++){var re=ue[we];switch(re.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:re,deltas:[],abs:[]});break;case"lt":var Se=X.length;if(ue[we-1]&&!isNaN(ue[we-1].x)&&(Z=[re.x-ue[we-1].x,re.y-ue[we-1].y],Se>0)){for(;Se>=0;Se--)if(X[Se-1].close!==!0&&X[Se-1].begin!==!0){X[Se-1].deltas.push(Z),X[Se-1].abs.push(re);break}}break;case"bct":Z=[re.x1-ue[we-1].x,re.y1-ue[we-1].y,re.x2-ue[we-1].x,re.y2-ue[we-1].y,re.x-ue[we-1].x,re.y-ue[we-1].y],X[X.length-1].deltas.push(Z);break;case"qct":var Re=ue[we-1].x+2/3*(re.x1-ue[we-1].x),Ee=ue[we-1].y+2/3*(re.y1-ue[we-1].y),We=re.x+2/3*(re.x1-re.x),Ge=re.y+2/3*(re.y1-re.y),ve=re.x,le=re.y;Z=[Re-ue[we-1].x,Ee-ue[we-1].y,We-ue[we-1].x,Ge-ue[we-1].y,ve-ue[we-1].x,le-ue[we-1].y],X[X.length-1].deltas.push(Z);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(re)}}de=G?null:M==="stroke"?"stroke":"fill";for(var lt=!1,nt=0;nt<X.length;nt++)if(X[nt].arc)for(var Xe=X[nt].abs,He=0;He<Xe.length;He++){var et=Xe[He];et.type==="arc"?O.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,G,!lt):F.call(this,et.x,et.y),lt=!0}else if(X[nt].close===!0)this.pdf.internal.out("h"),lt=!1;else if(X[nt].begin!==!0){var Ke=X[nt].start.x,at=X[nt].start.y;Q.call(this,X[nt].deltas,Ke,at),lt=!0}de&&V.call(this,de),G&&W.call(this)}},z=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+G-Z;case"hanging":return M+G-2*Z;case"middle":return M+G/2-Z;case"ideographic":return M;case"alphabetic":default:return M}},k=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,Z){this.colorStops.push([G,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(M,G,Z,de,X,ue,we,re,Se){for(var Re=K.call(this,Z,de,X,ue),Ee=0;Ee<Re.length;Ee++){var We=Re[Ee];Ee===0&&(Se?B.call(this,We.x1+M,We.y1+G):F.call(this,We.x1+M,We.y1+G)),oe.call(this,M,G,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}re?W.call(this):V.call(this,we)},V=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(M,G){this.pdf.internal.out(n(M)+" "+r(G)+" m")},D=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var Z=this.pdf.getTextDimensions(M.text),de=z.call(this,M.y),X=k.call(this,de)-Z.h,ue=this.ctx.transform.applyToPoint(new s(M.x,de)),we=this.ctx.transform.decompose(),re=new c;re=(re=(re=re.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Se,Re,Ee,We=this.ctx.transform.applyToRectangle(new l(M.x,de,Z.w,Z.h)),Ge=re.applyToRectangle(new l(M.x,X,Z.w,Z.h)),ve=S.call(this,Ge),le=[],lt=0;lt<ve.length;lt+=1)le.indexOf(ve[lt])===-1&&le.push(ve[lt]);if(P(le),this.autoPaging)for(var nt=le[0],Xe=le[le.length-1],He=nt;He<Xe+1;He++){this.pdf.setPage(He);var et=He===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],Qe=at-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],vt=st-this.margin[3],_t=He===1?0:Ke+(He-2)*Qe;if(this.ctx.clip_path.length!==0){var It=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Se,this.posX+this.margin[3],-1*_t+et),L.call(this,"fill",!0),this.path=It}var Tt=R([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-_t+et+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*M.scale),Ee=this.lineWidth,this.lineWidth=Ee*M.scale);var Wt=this.autoPaging!=="text";if(Wt||Tt.y+Tt.h<=at){if(Wt||Tt.y>=et&&Tt.x<=st){var wt=Wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||st-Tt.x)[0],Yn=R([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-_t+et+this.ctx.prevPageLastElemOffset)[0],un=Wt&&(He>nt||He<Xe)&&A.call(this);un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Qe,null).clip().discardPath()),this.pdf.text(wt,Yn.x,Yn.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),un&&this.pdf.restoreGraphicsState()}}else Tt.y<at&&(this.ctx.prevPageLastElemOffset+=at-Tt.y);M.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ee)}else M.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*M.scale),Ee=this.lineWidth,this.lineWidth=Ee*M.scale),this.pdf.text(M.text,ue.x+this.posX,ue.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ee)},F=function(M,G,Z,de){Z=Z||0,de=de||0,this.pdf.internal.out(n(M+Z)+" "+r(G+de)+" l")},Q=function(M,G,Z){return this.pdf.lines(M,G,Z,null,null)},oe=function(M,G,Z,de,X,ue,we,re){this.pdf.internal.out([e(i(Z+M)),e(a(de+G)),e(i(X+M)),e(a(ue+G)),e(i(we+M)),e(a(re+G)),"c"].join(" "))},K=function(M,G,Z,de){for(var X=2*Math.PI,ue=Math.PI/2;G>Z;)G-=X;var we=Math.abs(Z-G);we<X&&de&&(we=X-we);for(var re=[],Se=de?-1:1,Re=G;we>1e-5;){var Ee=Re+Se*Math.min(we,ue);re.push(ee.call(this,M,Re,Ee)),we-=Math.abs(Ee-Re),Re=Ee}return re},ee=function(M,G,Z){var de=(Z-G)/2,X=M*Math.cos(de),ue=M*Math.sin(de),we=X,re=-ue,Se=we*we+re*re,Re=Se+we*X+re*ue,Ee=4/3*(Math.sqrt(2*Se*Re)-Re)/(we*ue-re*X),We=we-Ee*re,Ge=re+Ee*we,ve=We,le=-Ge,lt=de+G,nt=Math.cos(lt),Xe=Math.sin(lt);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:We*nt-Ge*Xe,y2:We*Xe+Ge*nt,x3:ve*nt-le*Xe,y3:ve*Xe+le*nt,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},se=function(M){return 180*M/Math.PI},_e=function(M,G,Z,de,X,ue){var we=M+.5*(Z-M),re=G+.5*(de-G),Se=X+.5*(Z-X),Re=ue+.5*(de-ue),Ee=Math.min(M,X,we,Se),We=Math.max(M,X,we,Se),Ge=Math.min(G,ue,re,Re),ve=Math.max(G,ue,re,Re);return new l(Ee,Ge,We-Ee,ve-Ge)},xe=function(M,G,Z,de,X,ue,we,re){var Se,Re,Ee,We,Ge,ve,le,lt,nt,Xe,He,et,Ke,at,Qe=Z-M,st=de-G,vt=X-Z,_t=ue-de,It=we-X,Tt=re-ue;for(Re=0;Re<41;Re++)nt=(le=(Ee=M+(Se=Re/40)*Qe)+Se*((Ge=Z+Se*vt)-Ee))+Se*(Ge+Se*(X+Se*It-Ge)-le),Xe=(lt=(We=G+Se*st)+Se*((ve=de+Se*_t)-We))+Se*(ve+Se*(ue+Se*Tt-ve)-lt),Re==0?(He=nt,et=Xe,Ke=nt,at=Xe):(He=Math.min(He,nt),et=Math.min(et,Xe),Ke=Math.max(Ke,nt),at=Math.max(at,Xe));return new l(Math.round(He),Math.round(et),Math.round(Ke-He),Math.round(at-et))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,Z=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Jt.API),(function(t){var e=function(a){var s,l,c,d,h,m,g,y,N,A;for(l=[],c=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(h=((h=((h=((h=(h-(A=h%85))/85)-(N=h%85))/85)-(y=h%85))/85)-(g=h%85))/85)%85,l.push(m+33,g+33,y+33,N+33,A+33)):l.push(122);return(function(S,C){for(var R=C;R>0;R--)S.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,c,d,h,m=String,g="length",y=255,N="charCodeAt",A="slice",S="replace";for(a[A](-2),a=a[A](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],d=0,h=(a+=s="uuuuu"[A](a[g]%5||5))[g];h>d;d+=5)l=52200625*(a[N](d)-33)+614125*(a[N](d+1)-33)+7225*(a[N](d+2)-33)+85*(a[N](d+3)-33)+(a[N](d+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(C,R){for(var P=R;P>0;P--)C.pop()})(c,s[g]),m.fromCharCode.apply(m,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=pN(s)).reduce((function(c,d){return c+String.fromCharCode(d)}),"")};t.processDataByFilters=function(a,s){var l=0,c=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(Jt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,d,h){var m=new XMLHttpRequest,g=0,y=function(N){var A=N.length,S=[],C=String.fromCharCode;for(g=0;g<A;g+=1)S.push(C(255&N.charCodeAt(g)));return S.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(y(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return y(m.responseText)})(i,a,s)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(Jt.API),(function(t){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):cN(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function n(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):cN(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var r=function(s){var l=xr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then((function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(n).then((function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(d,h){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",(function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft}),!0)),m})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var y=d[g],N=y.src.find((function(A){return A.format==="truetype"}));N&&c.addFont(N.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,l)}))},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map((function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}}),this);return this.then((function(){return this.thenList(l)}))},a.prototype.get=function(s,l){return this.then((function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c}))},a.prototype.setMargin=function(s){return this.then((function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then((function(){(s=s||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},a.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,(function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(m){return c.updateProgress(null,d),m})).then(d,h).then((function(m){return c.updateProgress(1),m}))}))},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(d,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach((function(c){l=l.thenCore(c)})),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Jt.getPageSize=function(s,l,c){if(xr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,m=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,N=0,A=0;if(g.hasOwnProperty(m))N=g[m][1]/h,A=g[m][0]/h;else try{N=c[1],A=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",A>N&&(y=A,A=N,N=y);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>A&&(y=A,A=N,N=y)}return{width:A,height:N,unit:l,k:h,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(bN):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}})(Jt.API),Jt.API.addJS=function(t){return gD=t,this.internal.events.subscribe("postPutResources",(function(){Ty=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ty+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gD+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Ty!==void 0&&mD!==void 0&&this.internal.out("/Names <</JavaScript "+Ty+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(a=0;a<d;a++){var m=n.internal.newObject();h.push(m);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Jt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=(function(m){for(var g,y=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,A={width:0,height:0,numcomponents:1},S=4;S<N;S+=2){if(S+=y,e.indexOf(m.charCodeAt(S+1))!==-1){g=256*m.charCodeAt(S+5)+m.charCodeAt(S+6),A={width:256*m.charCodeAt(S+7)+m.charCodeAt(S+8),height:g,numcomponents:m.charCodeAt(S+9)};break}y=256*m.charCodeAt(S+2)+m.charCodeAt(S+3)}return A})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}})(Jt.API);var sp,Cy,vD,yD,xD,ife=(function(){var t,e,n;function r(a){var s,l,c,d,h,m,g,y,N,A,S,C,R,P;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),N=(function(){var U,L;for(L=[],U=0;U<4;++U)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*h/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,C=0;0<=s?C<s:C>s;0<=s?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((A=c-this.transparency.indexed.length)>0)for(R=0;0<=A?R<A:R>A;0<=A?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(S=this.read(s)).indexOf(0),y=String.fromCharCode.apply(String,S.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,S.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(m,g,y,N){var A,S,C,R,P,U,L,z,k,O,V,W,B,D,F,Q,oe,K,ee,se,_e,xe=Math.ceil((d.width-m)/y),ce=Math.ceil((d.height-g)/N),M=d.width==xe&&d.height==ce;for(D=s*xe,W=M?l:new Uint8Array(D*ce),U=a.length,B=0,S=0;B<ce&&c<U;){switch(a[c++]){case 0:for(R=oe=0;oe<D;R=oe+=1)W[S++]=a[c++];break;case 1:for(R=K=0;K<D;R=K+=1)A=a[c++],P=R<s?0:W[S-s],W[S++]=(A+P)%256;break;case 2:for(R=ee=0;ee<D;R=ee+=1)A=a[c++],C=(R-R%s)/s,F=B&&W[(B-1)*D+C*s+R%s],W[S++]=(F+A)%256;break;case 3:for(R=se=0;se<D;R=se+=1)A=a[c++],C=(R-R%s)/s,P=R<s?0:W[S-s],F=B&&W[(B-1)*D+C*s+R%s],W[S++]=(A+Math.floor((P+F)/2))%256;break;case 4:for(R=_e=0;_e<D;R=_e+=1)A=a[c++],C=(R-R%s)/s,P=R<s?0:W[S-s],B===0?F=Q=0:(F=W[(B-1)*D+C*s+R%s],Q=C&&W[(B-1)*D+(C-1)*s+R%s]),L=P+F-Q,z=Math.abs(L-P),O=Math.abs(L-F),V=Math.abs(L-Q),k=z<=O&&z<=V?P:O<=V?F:Q,W[S++]=(A+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!M){var G=((g+B*N)*d.width+m)*s,Z=B*D;for(R=0;R<xe;R+=1){for(var de=0;de<s;de+=1)l[G++]=W[Z++];G+=(y-1)*s}}B++}}return a=Dde(a),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,d,h,m,g,y;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=m=0,g=l.length;m<g;s=m+=3)d[c++]=l[s],d[c++]=l[s+1],d[c++]=l[s+2],d[c++]=(y=h[a++])!=null?y:255;return d},r.prototype.copyToImageData=function(a,s){var l,c,d,h,m,g,y,N,A,S,C;if(c=this.colors,A=null,l=this.hasAlphaChannel,this.palette.length&&(A=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),c=4,l=!0),N=(d=a.data||a).length,m=A||s,h=g=0,c===1)for(;h<N;)y=A?4*s[h/4]:g,S=m[y++],d[h++]=S,d[h++]=S,d[h++]=S,d[h++]=l?m[y++]:255,g=y;else for(;h<N;)y=A?4*s[h/4]:g,d[h++]=m[y++],d[h++]=m[y++],d[h++]=m[y++],d[h++]=l?m[y++]:255,g=y},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(rn)==="[object Window]"){try{e=rn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,d,h,m,g,y;if(this.animation){for(y=[],l=h=0,m=(g=this.animation.frames).length;h<m;l=++h)s=g[l],c=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,y.push(s.image=t(c));return y}},r.prototype.renderFrame=function(a,s){var l,c,d;return l=(c=this.animation.frames)[s],d=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,d,h,m,g=this;return l=0,m=this.animation,d=m.numFrames,c=m.frames,h=m.numPlays,(s=function(){var y,N;if(y=l++%d,N=c[y],g.renderFrame(a,y),d>1&&l/d<h)return g.animation._timeout=setTimeout(s,N.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function afe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var d=!0,h=[],m=0,g=null,y=0,N=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],(1&A)==0&&(g=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,U=t[e++],L=U>>6&1,z=1<<(7&U)+1,k=l,O=c,V=!1;U>>7&&(V=!0,k=e,O=z,e+=3*z);var W=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:S,y:C,width:R,height:P,has_local_palette:V,palette_offset:k,palette_size:O,data_offset:W,data_length:e-W,transparent_index:g,interlaced:!!L,delay:m,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(D){if(D<0||D>=h.length)throw new Error("Frame index out of range.");return h[D]},this.decodeAndBlitFrameBGRA=function(D,F){var Q=this.frameInfo(D),oe=Q.width*Q.height,K=new Uint8Array(oe);bD(t,Q.data_offset,K,oe);var ee=Q.palette_offset,se=Q.transparent_index;se===null&&(se=256);var _e=Q.width,xe=n-_e,ce=_e,M=4*(Q.y*n+Q.x),G=4*((Q.y+Q.height)*n+Q.x),Z=M,de=4*xe;Q.interlaced===!0&&(de+=4*n*7);for(var X=8,ue=0,we=K.length;ue<we;++ue){var re=K[ue];if(ce===0&&(ce=_e,(Z+=de)>=G&&(de=4*xe+4*n*(X-1),Z=M+(_e+xe)*(X<<1),X>>=1)),re===se)Z+=4;else{var Se=t[ee+3*re],Re=t[ee+3*re+1],Ee=t[ee+3*re+2];F[Z++]=Ee,F[Z++]=Re,F[Z++]=Se,F[Z++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(D,F){var Q=this.frameInfo(D),oe=Q.width*Q.height,K=new Uint8Array(oe);bD(t,Q.data_offset,K,oe);var ee=Q.palette_offset,se=Q.transparent_index;se===null&&(se=256);var _e=Q.width,xe=n-_e,ce=_e,M=4*(Q.y*n+Q.x),G=4*((Q.y+Q.height)*n+Q.x),Z=M,de=4*xe;Q.interlaced===!0&&(de+=4*n*7);for(var X=8,ue=0,we=K.length;ue<we;++ue){var re=K[ue];if(ce===0&&(ce=_e,(Z+=de)>=G&&(de=4*xe+4*n*(X-1),Z=M+(_e+xe)*(X<<1),X>>=1)),re===se)Z+=4;else{var Se=t[ee+3*re],Re=t[ee+3*re+1],Ee=t[ee+3*re+2];F[Z++]=Se,F[Z++]=Re,F[Z++]=Ee,F[Z++]=255}--ce}}}function bD(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,h=0,m=0,g=0,y=t[e++],N=new Int32Array(4096),A=null;;){for(;h<16&&y!==0;)m|=t[e++]<<h,h+=8,y===1?y=t[e++]:--y;if(h<c)break;var S=m&d;if(m>>=c,h-=c,S!==a){if(S===s)break;for(var C=S<l?S:A,R=0,P=C;P>a;)P=N[P]>>8,++R;var U=P;if(g+R+(C!==S?1:0)>r)return void kr.log("Warning, gif stream longer than expected.");n[g++]=U;var L=g+=R;for(C!==S&&(n[g++]=U),P=C;R--;)P=N[P],n[--L]=255&P,P>>=8;A!==null&&l<4096&&(N[l++]=A<<8|U,l>=d+1&&c<12&&(++c,d=d<<1|1)),A=S}else l=s+1,d=(1<<(c=i+1))-1,A=null}return g!==r&&kr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function SS(t){var e,n,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),y=new Array(64),N=new Array(64),A=[],S=0,C=7,R=new Array(64),P=new Array(64),U=new Array(64),L=new Array(256),z=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(M,G){for(var Z=0,de=0,X=new Array,ue=1;ue<=16;ue++){for(var we=1;we<=M[ue];we++)X[G[de]]=[],X[G[de]][0]=Z,X[G[de]][1]=ue,de++,Z++;Z*=2}return X}function ee(M){for(var G=M[0],Z=M[1]-1;Z>=0;)G&1<<Z&&(S|=1<<C),Z--,--C<0&&(S==255?(se(255),se(0)):se(S),C=7,S=0)}function se(M){A.push(M)}function _e(M){se(M>>8&255),se(255&M)}function xe(M,G,Z,de,X){for(var ue,we=X[0],re=X[240],Se=(function(Xe,He){var et,Ke,at,Qe,st,vt,_t,It,Tt,Wt,wt=0;for(Tt=0;Tt<8;++Tt){et=Xe[wt],Ke=Xe[wt+1],at=Xe[wt+2],Qe=Xe[wt+3],st=Xe[wt+4],vt=Xe[wt+5],_t=Xe[wt+6];var Yn=et+(It=Xe[wt+7]),un=et-It,lr=Ke+_t,bn=Ke-_t,_n=at+vt,bi=at-vt,dn=Qe+st,ya=Qe-st,$n=Yn+dn,pr=Yn-dn,si=lr+_n,yn=lr-_n;Xe[wt]=$n+si,Xe[wt+4]=$n-si;var Bt=.707106781*(yn+pr);Xe[wt+2]=pr+Bt,Xe[wt+6]=pr-Bt;var on=.382683433*(($n=ya+bi)-(yn=bn+un)),xa=.5411961*$n+on,Br=1.306562965*yn+on,di=.707106781*(si=bi+bn),Xr=un+di,Ot=un-di;Xe[wt+5]=Ot+xa,Xe[wt+3]=Ot-xa,Xe[wt+1]=Xr+Br,Xe[wt+7]=Xr-Br,wt+=8}for(wt=0,Tt=0;Tt<8;++Tt){et=Xe[wt],Ke=Xe[wt+8],at=Xe[wt+16],Qe=Xe[wt+24],st=Xe[wt+32],vt=Xe[wt+40],_t=Xe[wt+48];var Jr=et+(It=Xe[wt+56]),br=et-It,qr=Ke+_t,cr=Ke-_t,me=at+vt,tt=at-vt,$t=Qe+st,nn=Qe-st,zt=Jr+$t,Mt=Jr-$t,Ht=qr+me,Fe=qr-me;Xe[wt]=zt+Ht,Xe[wt+32]=zt-Ht;var Pt=.707106781*(Fe+Mt);Xe[wt+16]=Mt+Pt,Xe[wt+48]=Mt-Pt;var qt=.382683433*((zt=nn+tt)-(Fe=cr+br)),jr=.5411961*zt+qt,Mr=1.306562965*Fe+qt,jn=.707106781*(Ht=tt+cr),Dr=br+jn,Hn=br-jn;Xe[wt+40]=Hn+jr,Xe[wt+24]=Hn-jr,Xe[wt+8]=Dr+Mr,Xe[wt+56]=Dr-Mr,wt++}for(Tt=0;Tt<64;++Tt)Wt=Xe[Tt]*He[Tt],y[Tt]=Wt>0?Wt+.5|0:Wt-.5|0;return y})(M,G),Re=0;Re<64;++Re)N[k[Re]]=Se[Re];var Ee=N[0]-Z;Z=N[0],Ee==0?ee(de[0]):(ee(de[g[ue=32767+Ee]]),ee(m[ue]));for(var We=63;We>0&&N[We]==0;)We--;if(We==0)return ee(we),Z;for(var Ge,ve=1;ve<=We;){for(var le=ve;N[ve]==0&&ve<=We;)++ve;var lt=ve-le;if(lt>=16){Ge=lt>>4;for(var nt=1;nt<=Ge;++nt)ee(re);lt&=15}ue=32767+N[ve],ee(X[(lt<<4)+g[ue]]),ee(m[ue]),ve++}return We!=63&&ee(we),Z}function ce(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(G){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var X=s((Z[de]*G+50)/100);X=Math.min(Math.max(X,1),255),l[k[de]]=X}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var re=s((ue[we]*G+50)/100);re=Math.min(Math.max(re,1),255),c[k[we]]=re}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Ee=0;Ee<8;Ee++)for(var We=0;We<8;We++)d[Re]=1/(l[k[Re]]*Se[Ee]*Se[We]*8),h[Re]=1/(c[k[Re]]*Se[Ee]*Se[We]*8),Re++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,G){G&&ce(G),A=new Array,S=0,C=7,_e(65496),_e(65504),_e(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),_e(1),_e(1),se(0),se(0),(function(){_e(65499),_e(132),se(0);for(var Ke=0;Ke<64;Ke++)se(l[Ke]);se(1);for(var at=0;at<64;at++)se(c[at])})(),(function(Ke,at){_e(65472),_e(17),se(8),_e(at),_e(Ke),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(M.width,M.height),(function(){_e(65476),_e(418),se(0);for(var Ke=0;Ke<16;Ke++)se(O[Ke+1]);for(var at=0;at<=11;at++)se(V[at]);se(16);for(var Qe=0;Qe<16;Qe++)se(W[Qe+1]);for(var st=0;st<=161;st++)se(B[st]);se(1);for(var vt=0;vt<16;vt++)se(D[vt+1]);for(var _t=0;_t<=11;_t++)se(F[_t]);se(17);for(var It=0;It<16;It++)se(Q[It+1]);for(var Tt=0;Tt<=161;Tt++)se(oe[Tt])})(),_e(65498),_e(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var Z=0,de=0,X=0;S=0,C=7,this.encode.displayName="_encode_";for(var ue,we,re,Se,Re,Ee,We,Ge,ve,le=M.data,lt=M.width,nt=M.height,Xe=4*lt,He=0;He<nt;){for(ue=0;ue<Xe;){for(Re=Xe*He+ue,We=-1,Ge=0,ve=0;ve<64;ve++)Ee=Re+(Ge=ve>>3)*Xe+(We=4*(7&ve)),He+Ge>=nt&&(Ee-=Xe*(He+1+Ge-nt)),ue+We>=Xe&&(Ee-=ue+We-Xe+4),we=le[Ee++],re=le[Ee++],Se=le[Ee++],R[ve]=(z[we]+z[re+256>>0]+z[Se+512>>0]>>16)-128,P[ve]=(z[we+768>>0]+z[re+1024>>0]+z[Se+1280>>0]>>16)-128,U[ve]=(z[we+1280>>0]+z[re+1536>>0]+z[Se+1792>>0]>>16)-128;Z=xe(R,d,Z,e,r),de=xe(P,h,de,n,i),X=xe(U,h,X,n,i),ue+=32}He+=8}if(C>=0){var et=[];et[1]=C+1,et[0]=(1<<C+1)-1,ee(et)}return _e(65497),new Uint8Array(A)},t=t||50,(function(){for(var M=String.fromCharCode,G=0;G<256;G++)L[G]=M(G)})(),e=K(O,V),n=K(D,F),r=K(W,B),i=K(Q,oe),(function(){for(var M=1,G=2,Z=1;Z<=15;Z++){for(var de=M;de<G;de++)g[32767+de]=Z,m[32767+de]=[],m[32767+de][1]=Z,m[32767+de][0]=de;for(var X=-(G-1);X<=-M;X++)g[32767+X]=Z,m[32767+X]=[],m[32767+X][1]=Z,m[32767+X][0]=G-1+X;M<<=1,G<<=1}})(),(function(){for(var M=0;M<256;M++)z[M]=19595*M,z[M+256>>0]=38470*M,z[M+512>>0]=7471*M+32768,z[M+768>>0]=-11059*M,z[M+1024>>0]=-21709*M,z[M+1280>>0]=32768*M+8421375,z[M+1536>>0]=-27439*M,z[M+1792>>0]=-5329*M})(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _D(t){function e(O){if(!O)throw Error("assert :P")}function n(O,V,W){for(var B=0;4>B;B++)if(O[V+B]!=W.charCodeAt(B))return!0;return!1}function r(O,V,W,B,D){for(var F=0;F<D;F++)O[V+F]=W[B+F]}function i(O,V,W,B){for(var D=0;D<B;D++)O[V+D]=W}function a(O){return new Int32Array(O)}function s(O,V){for(var W=[],B=0;B<O;B++)W.push(new V);return W}function l(O,V){var W=[];return(function B(D,F,Q){for(var oe=Q[F],K=0;K<oe&&(D.push(Q.length>F+1?[]:new V),!(Q.length<F+1));K++)B(D[K],F+1,Q)})(W,0,O),W}var c=function(){var O=this;function V(b,T){for(var q=1<<T-1>>>0;b&q;)q>>>=1;return q?(b&q-1)+q:b}function W(b,T,q,H,ne){e(!(H%q));do b[T+(H-=q)]=ne;while(0<H)}function B(b,T,q,H,ne){if(e(2328>=ne),512>=ne)var ie=a(512);else if((ie=a(ne))==null)return 0;return(function(ae,fe,ge,be,Ce,Be){var Ue,Me,ft=fe,Je=1<<ge,Ie=a(16),Pe=a(16);for(e(Ce!=0),e(be!=null),e(ae!=null),e(0<ge),Me=0;Me<Ce;++Me){if(15<be[Me])return 0;++Ie[be[Me]]}if(Ie[0]==Ce)return 0;for(Pe[1]=0,Ue=1;15>Ue;++Ue){if(Ie[Ue]>1<<Ue)return 0;Pe[Ue+1]=Pe[Ue]+Ie[Ue]}for(Me=0;Me<Ce;++Me)Ue=be[Me],0<be[Me]&&(Be[Pe[Ue]++]=Me);if(Pe[15]==1)return(be=new D).g=0,be.value=Be[0],W(ae,ft,1,Je,be),Je;var ct,mt=-1,ot=Je-1,Ct=0,St=1,Vt=1,Et=1<<ge;for(Me=0,Ue=1,Ce=2;Ue<=ge;++Ue,Ce<<=1){if(St+=Vt<<=1,0>(Vt-=Ie[Ue]))return 0;for(;0<Ie[Ue];--Ie[Ue])(be=new D).g=Ue,be.value=Be[Me++],W(ae,ft+Ct,Ce,Et,be),Ct=V(Ct,Ue)}for(Ue=ge+1,Ce=2;15>=Ue;++Ue,Ce<<=1){if(St+=Vt<<=1,0>(Vt-=Ie[Ue]))return 0;for(;0<Ie[Ue];--Ie[Ue]){if(be=new D,(Ct&ot)!=mt){for(ft+=Et,ct=1<<(mt=Ue)-ge;15>mt&&!(0>=(ct-=Ie[mt]));)++mt,ct<<=1;Je+=Et=1<<(ct=mt-ge),ae[fe+(mt=Ct&ot)].g=ct+ge,ae[fe+mt].value=ft-fe-mt}be.g=Ue-ge,be.value=Be[Me++],W(ae,ft+(Ct>>ge),Ce,Et,be),Ct=V(Ct,Ue)}}return St!=2*Pe[15]-1?0:Je})(b,T,q,H,ne,ie)}function D(){this.value=this.g=0}function F(){this.value=this.g=0}function Q(){this.G=s(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ri,F)}function oe(b,T,q,H){e(b!=null),e(T!=null),e(2147483648>H),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=q,b.Jd=T,b.Yc=q+H,b.Zc=4<=H?q+H-4+1:q,ue(b)}function K(b,T){for(var q=0;0<T--;)q|=re(b,128)<<T;return q}function ee(b,T){var q=K(b,T);return we(b)?-q:q}function se(b,T,q,H){var ne,ie=0;for(e(b!=null),e(T!=null),e(4294967288>H),b.Sb=H,b.Ra=0,b.u=0,b.h=0,4<H&&(H=4),ne=0;ne<H;++ne)ie+=T[q+ne]<<8*ne;b.Ra=ie,b.bb=H,b.oa=T,b.pa=q}function _e(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Jl-8>>>0,++b.bb,b.u-=8;Z(b)&&(b.h=1,b.u=0)}function xe(b,T){if(e(0<=T),!b.h&&T<=Xl){var q=G(b)&Kc[T];return b.u+=T,_e(b),q}return b.h=1,b.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(b){return b.Ra>>>(b.u&Jl-1)>>>0}function Z(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Jl}function de(b,T){b.u=T,b.h=Z(b)}function X(b){b.u>=$u&&(e(b.u>=$u),_e(b))}function ue(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function we(b){return K(b,1)}function re(b,T){var q=b.Ca;0>b.b&&ue(b);var H=b.b,ne=q*T>>>8,ie=(b.I>>>H>ne)+0;for(ie?(q-=ne,b.I-=ne+1<<H>>>0):q=ne+1,H=q,ne=0;256<=H;)ne+=8,H>>=8;return H=7^ne+Ea[H],b.b-=H,b.Ca=(q<<H)-1,ie}function Se(b,T,q){b[T+0]=q>>24&255,b[T+1]=q>>16&255,b[T+2]=q>>8&255,b[T+3]=q>>0&255}function Re(b,T){return b[T+0]<<0|b[T+1]<<8}function Ee(b,T){return Re(b,T)|b[T+2]<<16}function We(b,T){return Re(b,T)|Re(b,T+2)<<16}function Ge(b,T){var q=1<<T;return e(b!=null),e(0<T),b.X=a(q),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function ve(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),r(T.X,0,b.X,0,1<<T.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function lt(b,T,q,H){e(q!=null),e(H!=null);var ne=q[0],ie=H[0];return ne==0&&(ne=(b*ie+T/2)/T),ie==0&&(ie=(T*ne+b/2)/b),0>=ne||0>=ie?0:(q[0]=ne,H[0]=ie,1)}function nt(b,T){return b+(1<<T)-1>>>T}function Xe(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function He(b,T){O[T]=function(q,H,ne,ie,ae,fe,ge){var be;for(be=0;be<ae;++be){var Ce=O[b](fe[ge+be-1],ne,ie+be);fe[ge+be]=Xe(q[H+be],Ce)}}}function et(){this.ud=this.hd=this.jd=0}function Ke(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function at(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Qe(b,T){return at(b+(b-T+.5>>1))}function st(b,T,q){return Math.abs(T-q)-Math.abs(b-q)}function vt(b,T,q,H,ne,ie,ae){for(H=ie[ae-1],q=0;q<ne;++q)ie[ae+q]=H=Xe(b[T+q],H)}function _t(b,T,q,H,ne){var ie;for(ie=0;ie<q;++ie){var ae=b[T+ie],fe=ae>>8&255,ge=16711935&(ge=(ge=16711935&ae)+((fe<<16)+fe));H[ne+ie]=(4278255360&ae)+ge>>>0}}function It(b,T){T.jd=b>>0&255,T.hd=b>>8&255,T.ud=b>>16&255}function Tt(b,T,q,H,ne,ie){var ae;for(ae=0;ae<H;++ae){var fe=T[q+ae],ge=fe>>>8,be=fe,Ce=255&(Ce=(Ce=fe>>>16)+((b.jd<<24>>24)*(ge<<24>>24)>>>5));be=255&(be=(be=be+((b.hd<<24>>24)*(ge<<24>>24)>>>5))+((b.ud<<24>>24)*(Ce<<24>>24)>>>5)),ne[ie+ae]=(4278255360&fe)+(Ce<<16)+be}}function Wt(b,T,q,H,ne){O[T]=function(ie,ae,fe,ge,be,Ce,Be,Ue,Me){for(ge=Be;ge<Ue;++ge)for(Be=0;Be<Me;++Be)be[Ce++]=ne(fe[H(ie[ae++])])},O[b]=function(ie,ae,fe,ge,be,Ce,Be){var Ue=8>>ie.b,Me=ie.Ea,ft=ie.K[0],Je=ie.w;if(8>Ue)for(ie=(1<<ie.b)-1,Je=(1<<Ue)-1;ae<fe;++ae){var Ie,Pe=0;for(Ie=0;Ie<Me;++Ie)Ie&ie||(Pe=H(ge[be++])),Ce[Be++]=ne(ft[Pe&Je]),Pe>>=Ue}else O["VP8LMapColor"+q](ge,be,ft,Je,Ce,Be,ae,fe,Me)}}function wt(b,T,q,H,ne){for(q=T+q;T<q;){var ie=b[T++];H[ne++]=ie>>16&255,H[ne++]=ie>>8&255,H[ne++]=ie>>0&255}}function Yn(b,T,q,H,ne){for(q=T+q;T<q;){var ie=b[T++];H[ne++]=ie>>16&255,H[ne++]=ie>>8&255,H[ne++]=ie>>0&255,H[ne++]=ie>>24&255}}function un(b,T,q,H,ne){for(q=T+q;T<q;){var ie=(ae=b[T++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;H[ne++]=ie,H[ne++]=ae}}function lr(b,T,q,H,ne){for(q=T+q;T<q;){var ie=(ae=b[T++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;H[ne++]=ie,H[ne++]=ae}}function bn(b,T,q,H,ne){for(q=T+q;T<q;){var ie=b[T++];H[ne++]=ie>>0&255,H[ne++]=ie>>8&255,H[ne++]=ie>>16&255}}function _n(b,T,q,H,ne,ie){if(ie==0)for(q=T+q;T<q;)Se(H,((ie=b[T++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ne+=32;else r(H,ne,b,T,q)}function bi(b,T){O[T][0]=O[b+"0"],O[T][1]=O[b+"1"],O[T][2]=O[b+"2"],O[T][3]=O[b+"3"],O[T][4]=O[b+"4"],O[T][5]=O[b+"5"],O[T][6]=O[b+"6"],O[T][7]=O[b+"7"],O[T][8]=O[b+"8"],O[T][9]=O[b+"9"],O[T][10]=O[b+"10"],O[T][11]=O[b+"11"],O[T][12]=O[b+"12"],O[T][13]=O[b+"13"],O[T][14]=O[b+"0"],O[T][15]=O[b+"0"]}function dn(b){return b==wf||b==Th||b==Qu||b==Ch}function ya(){this.eb=[],this.size=this.A=this.fb=0}function $n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ya,this.f.kb=new $n,this.sd=null}function si(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function on(b,T){var q=b.T,H=T.ba.f.RGBA,ne=H.eb,ie=H.fb+b.ka*H.A,ae=Ki[T.ba.S],fe=b.y,ge=b.O,be=b.f,Ce=b.N,Be=b.ea,Ue=b.W,Me=T.cc,ft=T.dc,Je=T.Mc,Ie=T.Nc,Pe=b.ka,ct=b.ka+b.T,mt=b.U,ot=mt+1>>1;for(Pe==0?ae(fe,ge,null,null,be,Ce,Be,Ue,be,Ce,Be,Ue,ne,ie,null,null,mt):(ae(T.ec,T.fc,fe,ge,Me,ft,Je,Ie,be,Ce,Be,Ue,ne,ie-H.A,ne,ie,mt),++q);Pe+2<ct;Pe+=2)Me=be,ft=Ce,Je=Be,Ie=Ue,Ce+=b.Rc,Ue+=b.Rc,ie+=2*H.A,ae(fe,(ge+=2*b.fa)-b.fa,fe,ge,Me,ft,Je,Ie,be,Ce,Be,Ue,ne,ie-H.A,ne,ie,mt);return ge+=b.fa,b.j+ct<b.o?(r(T.ec,T.fc,fe,ge,mt),r(T.cc,T.dc,be,Ce,ot),r(T.Mc,T.Nc,Be,Ue,ot),q--):1&ct||ae(fe,ge,null,null,be,Ce,Be,Ue,be,Ce,Be,Ue,ne,ie+H.A,null,null,mt),q}function xa(b,T,q){var H=b.F,ne=[b.J];if(H!=null){var ie=b.U,ae=T.ba.S,fe=ae==_f||ae==Qu;T=T.ba.f.RGBA;var ge=[0],be=b.ka;ge[0]=b.T,b.Kb&&(be==0?--ge[0]:(--be,ne[0]-=b.width),b.j+b.ka+b.T==b.o&&(ge[0]=b.o-b.j-be));var Ce=T.eb;be=T.fb+be*T.A,b=ar(H,ne[0],b.width,ie,ge,Ce,be+(fe?0:3),T.A),e(q==ge),b&&dn(ae)&&Ha(Ce,be,fe,ie,ge,T.A)}return 0}function Br(b){var T=b.ma,q=T.ba.S,H=11>q,ne=q==ua||q==Ts||q==_f||q==Ju||q==12||dn(q);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!al(T.Oa,b,ne?11:12))return 0;if(ne&&dn(q)&&gt(),b.da)alert("todo:use_scaling");else{if(H){if(T.Ib=Bt,b.Kb){if(q=b.U+1>>1,T.memory=a(b.U+2*q),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+q,T.Ib=on,gt()}}else alert("todo:EmitYUV");ne&&(T.Jb=xa,H&&De())}if(H&&!cc){for(b=0;256>b;++b)Yi[b]=89858*(b-128)+td>>Os,Qb[b]=-22014*(b-128)+td,Sv[b]=-45773*(b-128),Oh[b]=113618*(b-128)+td>>Os;for(b=Zc;b<lc;++b)T=76283*(b-16)+td>>Os,Zb[b-Zc]=Qn(T,255),e2[b-Zc]=Qn(T+8>>4,15);cc=1}return 1}function di(b){var T=b.ma,q=b.U,H=b.T;return e(!(1&b.ka)),0>=q||0>=H?0:(q=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,q),T.Dc+=q,1)}function Xr(b){b.ma.memory=null}function Ot(b,T,q,H){return xe(b,8)!=47?0:(T[0]=xe(b,14)+1,q[0]=xe(b,14)+1,H[0]=xe(b,1),xe(b,3)!=0?0:!b.h)}function Jr(b,T){if(4>b)return b+1;var q=b-2>>1;return(2+(1&b)<<q)+xe(T,q)+1}function br(b,T){return 120<T?T-120:1<=(q=((q=Is[T-1])>>4)*b+(8-(15&q)))?q:1;var q}function qr(b,T,q){var H=G(q),ne=b[T+=255&H].g-8;return 0<ne&&(de(q,q.u+8),H=G(q),T+=b[T].value,T+=H&(1<<ne)-1),de(q,q.u+b[T].g),b[T].value}function cr(b,T,q){return q.g+=b.g,q.value+=b.value<<T>>>0,e(8>=q.g),b.g}function me(b,T,q){var H=b.xc;return e((T=H==0?0:b.vc[b.md*(q>>H)+(T>>H)])<b.Wb),b.Ya[T]}function tt(b,T,q,H){var ne=b.ab,ie=b.c*T,ae=b.C;T=ae+T;var fe=q,ge=H;for(H=b.Ta,q=b.Ua;0<ne--;){var be=b.gc[ne],Ce=ae,Be=T,Ue=fe,Me=ge,ft=(ge=H,fe=q,be.Ea);switch(e(Ce<Be),e(Be<=be.nc),be.hc){case 2:Ah(Ue,Me,(Be-Ce)*ft,ge,fe);break;case 0:var Je=Ce,Ie=Be,Pe=ge,ct=fe,mt=(Et=be).Ea;Je==0&&(wh(Ue,Me,null,null,1,Pe,ct),vt(Ue,Me+1,0,0,mt-1,Pe,ct+1),Me+=mt,ct+=mt,++Je);for(var ot=1<<Et.b,Ct=ot-1,St=nt(mt,Et.b),Vt=Et.K,Et=Et.w+(Je>>Et.b)*St;Je<Ie;){var Wn=Vt,Rn=Et,Dn=1;for(xf(Ue,Me,Pe,ct-mt,1,Pe,ct);Dn<mt;){var fn=(Dn&~Ct)+ot;fn>mt&&(fn=mt),(0,Ns[Wn[Rn++]>>8&15])(Ue,Me+ +Dn,Pe,ct+Dn-mt,fn-Dn,Pe,ct+Dn),Dn=fn}Me+=mt,ct+=mt,++Je&Ct||(Et+=St)}Be!=be.nc&&r(ge,fe-ft,ge,fe+(Be-Ce-1)*ft,ft);break;case 1:for(ft=Ue,Ie=Me,mt=(Ue=be.Ea)-(ct=Ue&~(Pe=(Me=1<<be.b)-1)),Je=nt(Ue,be.b),ot=be.K,be=be.w+(Ce>>be.b)*Je;Ce<Be;){for(Ct=ot,St=be,Vt=new et,Et=Ie+ct,Wn=Ie+Ue;Ie<Et;)It(Ct[St++],Vt),Ql(Vt,ft,Ie,Me,ge,fe),Ie+=Me,fe+=Me;Ie<Wn&&(It(Ct[St++],Vt),Ql(Vt,ft,Ie,mt,ge,fe),Ie+=mt,fe+=mt),++Ce&Pe||(be+=Je)}break;case 3:if(Ue==ge&&Me==fe&&0<be.b){for(Ie=ge,Ue=ft=fe+(Be-Ce)*ft-(ct=(Be-Ce)*nt(be.Ea,be.b)),Me=ge,Pe=fe,Je=[],ct=(mt=ct)-1;0<=ct;--ct)Je[ct]=Me[Pe+ct];for(ct=mt-1;0<=ct;--ct)Ie[Ue+ct]=Je[ct];Es(be,Ce,Be,ge,ft,ge,fe)}else Es(be,Ce,Be,Ue,Me,ge,fe)}fe=H,ge=q}ge!=q&&r(H,q,fe,ge,ie)}function $t(b,T){var q=b.V,H=b.Ba+b.c*b.C,ne=T-b.C;if(e(T<=b.l.o),e(16>=ne),0<ne){var ie=b.l,ae=b.Ta,fe=b.Ua,ge=ie.width;if(tt(b,ne,q,H),ne=fe=[fe],e((q=b.C)<(H=T)),e(ie.v<ie.va),H>ie.o&&(H=ie.o),q<ie.j){var be=ie.j-q;q=ie.j,ne[0]+=be*ge}if(q>=H?q=0:(ne[0]+=4*ie.v,ie.ka=q-ie.j,ie.U=ie.va-ie.v,ie.T=H-q,q=1),q){if(fe=fe[0],11>(q=b.ca).S){var Ce=q.f.RGBA,Be=(H=q.S,ne=ie.U,ie=ie.T,be=Ce.eb,Ce.A),Ue=ie;for(Ce=Ce.fb+b.Ma*Ce.A;0<Ue--;){var Me=ae,ft=fe,Je=ne,Ie=be,Pe=Ce;switch(H){case Eh:Na(Me,ft,Je,Ie,Pe);break;case ua:oa(Me,ft,Je,Ie,Pe);break;case wf:oa(Me,ft,Je,Ie,Pe),Ha(Ie,Pe,0,Je,1,0);break;case Nh:ll(Me,ft,Je,Ie,Pe);break;case Ts:_n(Me,ft,Je,Ie,Pe,1);break;case Th:_n(Me,ft,Je,Ie,Pe,1),Ha(Ie,Pe,0,Je,1,0);break;case _f:_n(Me,ft,Je,Ie,Pe,0);break;case Qu:_n(Me,ft,Je,Ie,Pe,0),Ha(Ie,Pe,1,Je,1,0);break;case Ju:ol(Me,ft,Je,Ie,Pe);break;case Ch:ol(Me,ft,Je,Ie,Pe),Cn(Ie,Pe,Je,1,0);break;case rc:to(Me,ft,Je,Ie,Pe);break;default:e(0)}fe+=ge,Ce+=Be}b.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=q.height)}}b.C=T,e(b.C<=b.i)}function nn(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var q=b.Ya[T].G,H=b.Ya[T].H;if(0<q[1][H[1]+0].g||0<q[2][H[2]+0].g||0<q[3][H[3]+0].g)return 0}return 1}function zt(b,T,q,H,ne,ie){if(b.Z!=0){var ae=b.qd,fe=b.rd;for(e(fl[b.Z]!=null);T<q;++T)fl[b.Z](ae,fe,H,ne,H,ne,ie),ae=H,fe=ne,ne+=ie;b.qd=ae,b.rd=fe}}function Mt(b,T){var q=b.l.ma,H=q.Z==0||q.Z==1?b.l.j:b.C;if(H=b.C<H?H:b.C,e(T<=b.l.o),T>H){var ne=b.l.width,ie=q.ca,ae=q.tb+ne*H,fe=b.V,ge=b.Ba+b.c*H,be=b.gc;e(b.ab==1),e(be[0].hc==3),Sh(be[0],H,T,fe,ge,ie,ae),zt(q,H,T,ie,ae,ne)}b.C=b.Ma=T}function Ht(b,T,q,H,ne,ie,ae){var fe=b.$/H,ge=b.$%H,be=b.m,Ce=b.s,Be=q+b.$,Ue=Be;ne=q+H*ne;var Me=q+H*ie,ft=280+Ce.ua,Je=b.Pb?fe:16777216,Ie=0<Ce.ua?Ce.Wa:null,Pe=Ce.wc,ct=Be<Me?me(Ce,ge,fe):null;e(b.C<ie),e(Me<=ne);var mt=!1;e:for(;;){for(;mt||Be<Me;){var ot=0;if(fe>=Je){var Ct=Be-q;e((Je=b).Pb),Je.wd=Je.m,Je.xd=Ct,0<Je.s.ua&&ve(Je.s.Wa,Je.s.vb),Je=fe+ic}if(ge&Pe||(ct=me(Ce,ge,fe)),e(ct!=null),ct.Qb&&(T[Be]=ct.qb,mt=!0),!mt)if(X(be),ct.jc){ot=be,Ct=T;var St=Be,Vt=ct.pd[G(ot)&Ri-1];e(ct.jc),256>Vt.g?(de(ot,ot.u+Vt.g),Ct[St]=Vt.value,ot=0):(de(ot,ot.u+Vt.g-256),e(256<=Vt.value),ot=Vt.value),ot==0&&(mt=!0)}else ot=qr(ct.G[0],ct.H[0],be);if(be.h)break;if(mt||256>ot){if(!mt)if(ct.nd)T[Be]=(ct.qb|ot<<8)>>>0;else{if(X(be),mt=qr(ct.G[1],ct.H[1],be),X(be),Ct=qr(ct.G[2],ct.H[2],be),St=qr(ct.G[3],ct.H[3],be),be.h)break;T[Be]=(St<<24|mt<<16|ot<<8|Ct)>>>0}if(mt=!1,++Be,++ge>=H&&(ge=0,++fe,ae!=null&&fe<=ie&&!(fe%16)&&ae(b,fe),Ie!=null))for(;Ue<Be;)ot=T[Ue++],Ie.X[(506832829*ot&4294967295)>>>Ie.Mb]=ot}else if(280>ot){if(ot=Jr(ot-256,be),Ct=qr(ct.G[4],ct.H[4],be),X(be),Ct=br(H,Ct=Jr(Ct,be)),be.h)break;if(Be-q<Ct||ne-Be<ot)break e;for(St=0;St<ot;++St)T[Be+St]=T[Be+St-Ct];for(Be+=ot,ge+=ot;ge>=H;)ge-=H,++fe,ae!=null&&fe<=ie&&!(fe%16)&&ae(b,fe);if(e(Be<=ne),ge&Pe&&(ct=me(Ce,ge,fe)),Ie!=null)for(;Ue<Be;)ot=T[Ue++],Ie.X[(506832829*ot&4294967295)>>>Ie.Mb]=ot}else{if(!(ot<ft))break e;for(mt=ot-280,e(Ie!=null);Ue<Be;)ot=T[Ue++],Ie.X[(506832829*ot&4294967295)>>>Ie.Mb]=ot;ot=Be,e(!(mt>>>(Ct=Ie).Xa)),T[ot]=Ct.X[mt],mt=!0}mt||e(be.h==Z(be))}if(b.Pb&&be.h&&Be<ne)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ve(b.s.vb,b.s.Wa);else{if(be.h)break e;ae!=null&&ae(b,fe>ie?ie:fe),b.a=0,b.$=Be-q}return 1}return b.a=3,0}function Fe(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function Pt(){var b=new zu;return b==null?null:(b.a=0,b.xb=Um,bi("Predictor","VP8LPredictors"),bi("Predictor","VP8LPredictors_C"),bi("PredictorAdd","VP8LPredictorsAdd"),bi("PredictorAdd","VP8LPredictorsAdd_C"),Ah=_t,Ql=Tt,Na=wt,oa=Yn,ol=un,to=lr,ll=bn,O.VP8LMapColor32b=Hu,O.VP8LMapColor8b=sa,b)}function qt(b,T,q,H,ne){var ie=1,ae=[b],fe=[T],ge=H.m,be=H.s,Ce=null,Be=0;e:for(;;){if(q)for(;ie&&xe(ge,1);){var Ue=ae,Me=fe,ft=H,Je=1,Ie=ft.m,Pe=ft.gc[ft.ab],ct=xe(Ie,2);if(ft.Oc&1<<ct)ie=0;else{switch(ft.Oc|=1<<ct,Pe.hc=ct,Pe.Ea=Ue[0],Pe.nc=Me[0],Pe.K=[null],++ft.ab,e(4>=ft.ab),ct){case 0:case 1:Pe.b=xe(Ie,3)+2,Je=qt(nt(Pe.Ea,Pe.b),nt(Pe.nc,Pe.b),0,ft,Pe.K),Pe.K=Pe.K[0];break;case 3:var mt,ot=xe(Ie,8)+1,Ct=16<ot?0:4<ot?1:2<ot?2:3;if(Ue[0]=nt(Pe.Ea,Ct),Pe.b=Ct,mt=Je=qt(ot,1,0,ft,Pe.K)){var St,Vt=ot,Et=Pe,Wn=1<<(8>>Et.b),Rn=a(Wn);if(Rn==null)mt=0;else{var Dn=Et.K[0],fn=Et.w;for(Rn[0]=Et.K[0][0],St=1;St<1*Vt;++St)Rn[St]=Xe(Dn[fn+St],Rn[St-1]);for(;St<4*Wn;++St)Rn[St]=0;Et.K[0]=null,Et.K[0]=Rn,mt=1}}Je=mt;break;case 2:break;default:e(0)}ie=Je}}if(ae=ae[0],fe=fe[0],ie&&xe(ge,1)&&!(ie=1<=(Be=xe(ge,4))&&11>=Be)){H.a=3;break e}var sr;if(sr=ie)t:{var Zn,Zt,gr,Pi=H,ei=ae,da=fe,zn=Be,Xi=q,Ga=Pi.m,_i=Pi.s,ti=[null],Oi=1,ms=0,js=Rs[zn];n:for(;;){if(Xi&&xe(Ga,1)){var hi=xe(Ga,3)+2,li=nt(ei,hi),ji=nt(da,hi),gs=li*ji;if(!qt(li,ji,0,Pi,ti))break n;for(ti=ti[0],_i.xc=hi,Zn=0;Zn<gs;++Zn){var Io=ti[Zn]>>8&65535;ti[Zn]=Io,Io>=Oi&&(Oi=Io+1)}}if(Ga.h)break n;for(Zt=0;5>Zt;++Zt){var $r=Jc[Zt];!Zt&&0<zn&&($r+=1<<zn),ms<$r&&(ms=$r)}var Ro=s(Oi*js,D),Wa=Oi,ni=s(Wa,Q);if(ni==null)var eu=null;else e(65536>=Wa),eu=ni;var vs=a(ms);if(eu==null||vs==null||Ro==null){Pi.a=1;break n}var cn=Ro;for(Zn=gr=0;Zn<Oi;++Zn){var Sn=eu[Zn],Ir=Sn.G,hl=Sn.H,tu=0,ko=1,Nf=0;for(Zt=0;5>Zt;++Zt){$r=Jc[Zt],Ir[Zt]=cn,hl[Zt]=gr,!Zt&&0<zn&&($r+=1<<zn);i:{var uc,dc=$r,Mh=Pi,wr=vs,qm=cn,Vm=gr,Dh=0,pl=Mh.m,t2=xe(pl,1);if(i(wr,0,0,dc),t2){var zm=xe(pl,1)+1,$m=xe(pl,1),Lh=xe(pl,$m==0?1:8);wr[Lh]=1,zm==2&&(wr[Lh=xe(pl,8)]=1);var Mi=1}else{var ri=a(19),Tf=xe(pl,4)+4;if(19<Tf){Mh.a=3;var fc=0;break i}for(uc=0;uc<Tf;++uc)ri[Af[uc]]=xe(pl,3);var rd=void 0,nu=void 0,Po=Mh,Fh=ri,id=dc,Uh=wr,Bh=0,ml=Po.m,Hm=8,Gm=s(128,D);r:for(;B(Gm,0,7,Fh,19);){if(xe(ml,1)){var Ev=2+2*xe(ml,3);if((rd=2+xe(ml,Ev))>id)break r}else rd=id;for(nu=0;nu<id&&rd--;){X(ml);var Wm=Gm[0+(127&G(ml))];de(ml,ml.u+Wm.g);var hc=Wm.value;if(16>hc)Uh[nu++]=hc,hc!=0&&(Hm=hc);else{var Nv=hc==16,Tv=hc-16,Cv=Zu[Tv],Km=xe(ml,Cs[Tv])+Cv;if(nu+Km>id)break r;for(var Iv=Nv?Hm:0;0<Km--;)Uh[nu++]=Iv}}Bh=1;break r}Bh||(Po.a=3),Mi=Bh}(Mi=Mi&&!pl.h)&&(Dh=B(qm,Vm,8,wr,dc)),Mi&&Dh!=0?fc=Dh:(Mh.a=3,fc=0)}if(fc==0)break n;if(ko&&Ih[Zt]==1&&(ko=cn[gr].g==0),tu+=cn[gr].g,gr+=fc,3>=Zt){var ru,qh=vs[0];for(ru=1;ru<$r;++ru)vs[ru]>qh&&(qh=vs[ru]);Nf+=qh}}if(Sn.nd=ko,Sn.Qb=0,ko&&(Sn.qb=(Ir[3][hl[3]+0].value<<24|Ir[1][hl[1]+0].value<<16|Ir[2][hl[2]+0].value)>>>0,tu==0&&256>Ir[0][hl[0]+0].value&&(Sn.Qb=1,Sn.qb+=Ir[0][hl[0]+0].value<<8)),Sn.jc=!Sn.Qb&&6>Nf,Sn.jc){var Cf,Oo=Sn;for(Cf=0;Cf<Ri;++Cf){var gl=Cf,vl=Oo.pd[gl],Vh=Oo.G[0][Oo.H[0]+gl];256<=Vh.value?(vl.g=Vh.g+256,vl.value=Vh.value):(vl.g=0,vl.value=0,gl>>=cr(Vh,8,vl),gl>>=cr(Oo.G[1][Oo.H[1]+gl],16,vl),gl>>=cr(Oo.G[2][Oo.H[2]+gl],0,vl),cr(Oo.G[3][Oo.H[3]+gl],24,vl))}}}_i.vc=ti,_i.Wb=Oi,_i.Ya=eu,_i.yc=Ro,sr=1;break t}sr=0}if(!(ie=sr)){H.a=3;break e}if(0<Be){if(be.ua=1<<Be,!Ge(be.Wa,Be)){H.a=1,ie=0;break e}}else be.ua=0;var zh=H,iu=ae,Rv=fe,ad=zh.s,sd=ad.xc;if(zh.c=iu,zh.i=Rv,ad.md=nt(iu,sd),ad.wc=sd==0?-1:(1<<sd)-1,q){H.xb=ac;break e}if((Ce=a(ae*fe))==null){H.a=1,ie=0;break e}ie=(ie=Ht(H,Ce,0,ae,fe,fe,null))&&!ge.h;break e}return ie?(ne!=null?ne[0]=Ce:(e(Ce==null),e(q)),H.$=0,q||Fe(be)):Fe(be),ie}function jr(b,T){var q=b.c*b.i,H=q+T+16*T;return e(b.c<=T),b.V=a(H),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+q+T,1)}function Mr(b,T){var q=b.C,H=T-q,ne=b.V,ie=b.Ba+b.c*q;for(e(T<=b.l.o);0<H;){var ae=16<H?16:H,fe=b.l.ma,ge=b.l.width,be=ge*ae,Ce=fe.ca,Be=fe.tb+ge*q,Ue=b.Ta,Me=b.Ua;tt(b,ae,ne,ie),Gn(Ue,Me,Ce,Be,be),zt(fe,q,q+ae,Ce,Be,ge),H-=ae,ne+=ae*b.c,q+=ae}e(q==T),b.C=b.Ma=T}function jn(){this.ub=this.yd=this.td=this.Rb=0}function Dr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function La(){this.Yb=(function(){var b=[];return(function T(q,H,ne){for(var ie=ne[H],ae=0;ae<ie&&(q.push(ne.length>H+1?[]:0),!(ne.length<H+1));ae++)T(q[ae],H+1,ne)})(b,0,[3,11]),b})()}function ls(){this.jb=a(3),this.Wc=l([4,8],La),this.Xc=l([4,17],La)}function Vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Hs(){this.ld=this.La=this.dd=this.tc=0}function Gs(){this.Na=this.la=0}function zi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hs),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new Xo}function Fl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function qc(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new jn,this.Kc=new Dr,this.ed=new Vr,this.Qa=new Hn,this.Ic=this.$c=this.Aa=0,this.D=new gf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ce),this.ia=0,this.pb=s(4,zi),this.Pa=new ls,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fl),this.Hd=0,this.rb=Array(new Gs),this.sb=0,this.wa=Array(new Hs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=l([4,2],Hs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xo(){var b=new qc;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ps||(ps=Vc)),b}function ur(b,T,q){return b.a==0&&(b.a=T,b.sc=q,b.cb=0),0}function ba(b,T,q){return 3<=q&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function Ci(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return ur(b,2,"null VP8Io passed to VP8GetHeaders()");var q=T.data,H=T.w,ne=T.ha;if(4>ne)return ur(b,7,"Truncated header.");var ie=q[H+0]|q[H+1]<<8|q[H+2]<<16,ae=b.Od;if(ae.Rb=!(1&ie),ae.td=ie>>1&7,ae.yd=ie>>4&1,ae.ub=ie>>5,3<ae.td)return ur(b,3,"Incorrect keyframe parameters.");if(!ae.yd)return ur(b,4,"Frame not displayable.");H+=3,ne-=3;var fe=b.Kc;if(ae.Rb){if(7>ne)return ur(b,7,"cannot parse picture header");if(!ba(q,H,ne))return ur(b,3,"Bad code word");fe.c=16383&(q[H+4]<<8|q[H+3]),fe.Td=q[H+4]>>6,fe.i=16383&(q[H+6]<<8|q[H+5]),fe.Ud=q[H+6]>>6,H+=7,ne-=7,b.za=fe.c+15>>4,b.Ub=fe.i+15>>4,T.width=fe.c,T.height=fe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ie=b.Pa).jb,0,255,ie.jb.length),e((ie=b.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(ae.ub>ne)return ur(b,7,"bad partition length");oe(ie=b.m,q,H,ae.ub),H+=ae.ub,ne-=ae.ub,ae.Rb&&(fe.Ld=we(ie),fe.Kd=we(ie)),fe=b.Qa;var ge,be=b.Pa;if(e(ie!=null),e(fe!=null),fe.Cb=we(ie),fe.Cb){if(fe.Bb=we(ie),we(ie)){for(fe.Fb=we(ie),ge=0;4>ge;++ge)fe.Zb[ge]=we(ie)?ee(ie,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=we(ie)?ee(ie,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)be.jb[ge]=we(ie)?K(ie,8):255}else fe.Bb=0;if(ie.Ka)return ur(b,3,"cannot parse segment header");if((fe=b.ed).zd=we(ie),fe.Tb=K(ie,6),fe.wb=K(ie,3),fe.Pc=we(ie),fe.Pc&&we(ie)){for(be=0;4>be;++be)we(ie)&&(fe.vd[be]=ee(ie,6));for(be=0;4>be;++be)we(ie)&&(fe.od[be]=ee(ie,6))}if(b.L=fe.Tb==0?0:fe.zd?1:2,ie.Ka)return ur(b,3,"cannot parse filter header");var Ce=ne;if(ne=ge=H,H=ge+Ce,fe=Ce,b.Xb=(1<<K(b.m,2))-1,Ce<3*(be=b.Xb))q=7;else{for(ge+=3*be,fe-=3*be,Ce=0;Ce<be;++Ce){var Be=q[ne+0]|q[ne+1]<<8|q[ne+2]<<16;Be>fe&&(Be=fe),oe(b.Jc[+Ce],q,ge,Be),ge+=Be,fe-=Be,ne+=3}oe(b.Jc[+be],q,ge,fe),q=ge<H?0:5}if(q!=0)return ur(b,q,"cannot parse partitions");for(q=K(ge=b.m,7),ne=we(ge)?ee(ge,4):0,H=we(ge)?ee(ge,4):0,fe=we(ge)?ee(ge,4):0,be=we(ge)?ee(ge,4):0,ge=we(ge)?ee(ge,4):0,Ce=b.Qa,Be=0;4>Be;++Be){if(Ce.Cb){var Ue=Ce.Zb[Be];Ce.Fb||(Ue+=q)}else{if(0<Be){b.pb[Be]=b.pb[0];continue}Ue=q}var Me=b.pb[Be];Me.Sc[0]=ks[Qn(Ue+ne,127)],Me.Sc[1]=Ps[Qn(Ue+0,127)],Me.Eb[0]=2*ks[Qn(Ue+H,127)],Me.Eb[1]=101581*Ps[Qn(Ue+fe,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=ks[Qn(Ue+be,117)],Me.Qc[1]=Ps[Qn(Ue+ge,127)],Me.lc=Ue+ge}if(!ae.Rb)return ur(b,4,"Not a key frame.");for(we(ie),ae=b.Pa,q=0;4>q;++q){for(ne=0;8>ne;++ne)for(H=0;3>H;++H)for(fe=0;11>fe;++fe)be=re(ie,Cr[q][ne][H][fe])?K(ie,8):Av[q][ne][H][fe],ae.Wc[q][ne].Yb[H][fe]=be;for(ne=0;17>ne;++ne)ae.Xc[q][ne]=ae.Wc[q][In[ne]]}return b.kc=we(ie),b.kc&&(b.Bd=K(ie,8)),b.cb=1}function Vc(b,T,q,H,ne,ie,ae){var fe=T[ne].Yb[q];for(q=0;16>ne;++ne){if(!re(b,fe[q+0]))return ne;for(;!re(b,fe[q+1]);)if(fe=T[++ne].Yb[0],q=0,ne==16)return 16;var ge=T[ne+1].Yb;if(re(b,fe[q+2])){var be=b,Ce=0;if(re(be,(Ue=fe)[(Be=q)+3]))if(re(be,Ue[Be+6])){for(fe=0,Be=2*(Ce=re(be,Ue[Be+8]))+(Ue=re(be,Ue[Be+9+Ce])),Ce=0,Ue=wv[Be];Ue[fe];++fe)Ce+=Ce+re(be,Ue[fe]);Ce+=3+(8<<Be)}else re(be,Ue[Be+7])?(Ce=7+2*re(be,165),Ce+=re(be,145)):Ce=5+re(be,159);else Ce=re(be,Ue[Be+4])?3+re(be,Ue[Be+5]):2;fe=ge[2]}else Ce=1,fe=ge[1];ge=ae+Fm[ne],0>(be=b).b&&ue(be);var Be,Ue=be.b,Me=(Be=be.Ca>>1)-(be.I>>Ue)>>31;--be.b,be.Ca+=Me,be.Ca|=1,be.I-=(Be+1&Me)<<Ue,ie[ge]=((Ce^Me)-Me)*H[(0<ne)+0]}return 16}function zc(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Ul(b,T){if(b==null)return 0;if(T==null)return ur(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Ci(b,T))return 0;if(e(b.cb),T.ac==null||T.ac(T)){T.ob&&(b.L=0);var q=nd[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=T.v-q>>4,b.zb=T.j-q>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=T.o+15+q>>4,b.Hb=T.va+15+q>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var H=b.ed;for(q=0;4>q;++q){var ne;if(b.Qa.Cb){var ie=b.Qa.Lb[q];b.Qa.Fb||(ie+=H.Tb)}else ie=H.Tb;for(ne=0;1>=ne;++ne){var ae=b.gd[q][ne],fe=ie;if(H.Pc&&(fe+=H.vd[0],ne&&(fe+=H.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var ge=fe;0<H.wb&&(ge=4<H.wb?ge>>2:ge>>1)>9-H.wb&&(ge=9-H.wb),1>ge&&(ge=1),ae.dd=ge,ae.tc=2*fe+ge,ae.ld=40<=fe?2:15<=fe?1:0}else ae.tc=0;ae.La=ne}}}q=0}else ur(b,6,"Frame setup failed"),q=b.a;if(q=q==0){if(q){b.$c=0,0<b.Aa||(b.Ic=Ef);e:{q=b.Ic,H=4*(ge=b.za);var be=32*ge,Ce=ge+1,Be=0<b.L?ge*(0<b.Aa?2:1):0,Ue=(b.Aa==2?2:1)*ge;if((ae=H+832+(ne=3*(16*q+nd[b.L])/2*be)+(ie=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ae)q=0;else{if(ae>b.Vb){if(b.Vb=0,b.Ec=a(ae),b.Fc=0,b.Ec==null){q=ur(b,1,"no memory during frame initialization.");break e}b.Vb=ae}ae=b.Ec,fe=b.Fc,b.Ac=ae,b.Bc=fe,fe+=H,b.Gd=s(be,Fl),b.Hd=0,b.rb=s(Ce+1,Gs),b.sb=1,b.wa=Be?s(Be,Hs):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ge),e(!0),b.oc=ae,b.pc=fe,fe+=832,b.ya=s(Ue,Fa),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ge),b.R=16*ge,b.B=8*ge,ge=(be=nd[b.L])*b.R,be=be/2*b.B,b.sa=ae,b.ta=fe+ge,b.qa=b.sa,b.ra=b.ta+16*q*b.R+be,b.Ha=b.qa,b.Ia=b.ra+8*q*b.B+be,b.$c=0,fe+=ne,b.mb=ie?ae:null,b.nb=ie?fe:null,e(fe+ie<=b.Fc+b.Vb),zc(b),i(b.Ac,b.Bc,0,H),q=1}}if(q){if(T.ka=0,T.y=b.sa,T.O=b.ta,T.f=b.qa,T.N=b.ra,T.ea=b.Ha,T.Vd=b.Ia,T.fa=b.R,T.Rc=b.B,T.F=null,T.J=0,!Xu){for(q=-255;255>=q;++q)Lr[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)ao[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)nc[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)ul[255+q]=0>q?0:255<q?255:q;Xu=1}no=_o,ro=Jo,Yc=Qo,la=Mn,ki=bo,Tr=Ks,io=$l,Gu=Qs,Wu=Hl,fs=Wc,Zl=So,cl=nl,ec=Gl,Ku=Eo,Xc=Xs,tc=Sa,Yu=zr,hs=tl,Zr[0]=Ua,Zr[1]=vf,Zr[2]=wa,Zr[3]=Vu,Zr[4]=Hc,Zr[5]=ia,Zr[6]=$i,Zr[7]=el,Zr[8]=Aa,Zr[9]=Ss,Ta[0]=us,Ta[1]=qu,Ta[2]=cs,Ta[3]=Bl,Ta[4]=Vn,Ta[5]=Vl,Ta[6]=Zo,so[0]=Va,so[1]=$c,so[2]=zl,so[3]=Ba,so[4]=Xn,so[5]=wo,so[6]=fi,q=1}else q=0}q&&(q=(function(Me,ft){for(Me.M=0;Me.M<Me.Va;++Me.M){var Je,Ie=Me.Jc[Me.M&Me.Xb],Pe=Me.m,ct=Me;for(Je=0;Je<ct.za;++Je){var mt=Pe,ot=ct,Ct=ot.Ac,St=ot.Bc+4*Je,Vt=ot.zc,Et=ot.ya[ot.aa+Je];if(ot.Qa.Bb?Et.$b=re(mt,ot.Pa.jb[0])?2+re(mt,ot.Pa.jb[2]):re(mt,ot.Pa.jb[1]):Et.$b=0,ot.kc&&(Et.Ad=re(mt,ot.Bd)),Et.Za=!re(mt,145)+0,Et.Za){var Wn=Et.Ob,Rn=0;for(ot=0;4>ot;++ot){var Dn,fn=Vt[0+ot];for(Dn=0;4>Dn;++Dn){fn=Wi[Ct[St+Dn]][fn];for(var sr=Rh[re(mt,fn[0])];0<sr;)sr=Rh[2*sr+re(mt,fn[sr])];fn=-sr,Ct[St+Dn]=fn}r(Wn,Rn,Ct,St,4),Rn+=4,Vt[0+ot]=fn}}else fn=re(mt,156)?re(mt,128)?1:3:re(mt,163)?2:0,Et.Ob[0]=fn,i(Ct,St,fn,4),i(Vt,0,fn,4);Et.Dd=re(mt,142)?re(mt,114)?re(mt,183)?1:3:2:0}if(ct.m.Ka)return ur(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(ct=Ie,mt=(Pe=Me).rb[Pe.sb-1],Ct=Pe.rb[Pe.sb+Pe.ja],Je=Pe.ya[Pe.aa+Pe.ja],St=Pe.kc?Je.Ad:0)mt.la=Ct.la=0,Je.Za||(mt.Na=Ct.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var Zn,Zt;if(mt=Ct,Ct=ct,St=Pe.Pa.Xc,Vt=Pe.ya[Pe.aa+Pe.ja],Et=Pe.pb[Vt.$b],ot=Vt.ad,Wn=0,Rn=Pe.rb[Pe.sb-1],fn=Dn=0,i(ot,Wn,0,384),Vt.Za)var gr=0,Pi=St[3];else{sr=a(16);var ei=mt.Na+Rn.Na;if(ei=ps(Ct,St[1],ei,Et.Eb,0,sr,0),mt.Na=Rn.Na=(0<ei)+0,1<ei)no(sr,0,ot,Wn);else{var da=sr[0]+3>>3;for(sr=0;256>sr;sr+=16)ot[Wn+sr]=da}gr=1,Pi=St[0]}var zn=15&mt.la,Xi=15&Rn.la;for(sr=0;4>sr;++sr){var Ga=1&Xi;for(da=Zt=0;4>da;++da)zn=zn>>1|(Ga=(ei=ps(Ct,Pi,ei=Ga+(1&zn),Et.Sc,gr,ot,Wn))>gr)<<7,Zt=Zt<<2|(3<ei?3:1<ei?2:ot[Wn+0]!=0),Wn+=16;zn>>=4,Xi=Xi>>1|Ga<<7,Dn=(Dn<<8|Zt)>>>0}for(Pi=zn,gr=Xi>>4,Zn=0;4>Zn;Zn+=2){for(Zt=0,zn=mt.la>>4+Zn,Xi=Rn.la>>4+Zn,sr=0;2>sr;++sr){for(Ga=1&Xi,da=0;2>da;++da)ei=Ga+(1&zn),zn=zn>>1|(Ga=0<(ei=ps(Ct,St[2],ei,Et.Qc,0,ot,Wn)))<<3,Zt=Zt<<2|(3<ei?3:1<ei?2:ot[Wn+0]!=0),Wn+=16;zn>>=2,Xi=Xi>>1|Ga<<5}fn|=Zt<<4*Zn,Pi|=zn<<4<<Zn,gr|=(240&Xi)<<Zn}mt.la=Pi,Rn.la=gr,Vt.Hc=Dn,Vt.Gc=fn,Vt.ia=43690&fn?0:Et.ia,St=!(Dn|fn)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Je.$b][Je.Za],Pe.wa[Pe.Y+Pe.ja].La|=!St),ct.Ka)return ur(Me,7,"Premature end-of-file encountered.")}if(zc(Me),Pe=ft,ct=1,Je=(Ie=Me).D,mt=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(Je.M=Ie.M,Je.uc=mt,eo(Ie,Je),ct=1,Je=(Zt=Ie.D).Nb,mt=(fn=nd[Ie.L])*Ie.R,Ct=fn/2*Ie.B,sr=16*Je*Ie.R,da=8*Je*Ie.B,St=Ie.sa,Vt=Ie.ta-mt+sr,Et=Ie.qa,ot=Ie.ra-Ct+da,Wn=Ie.Ha,Rn=Ie.Ia-Ct+da,Xi=(zn=Zt.M)==0,Dn=zn>=Ie.Va-1,Ie.Aa==2&&eo(Ie,Zt),Zt.uc)for(Ga=(ei=Ie).D.M,e(ei.D.uc),Zt=ei.yb;Zt<ei.Hb;++Zt){gr=Zt,Pi=Ga;var _i=(ti=($r=ei).D).Nb;Zn=$r.R;var ti=ti.wa[ti.Y+gr],Oi=$r.sa,ms=$r.ta+16*_i*Zn+16*gr,js=ti.dd,hi=ti.tc;if(hi!=0)if(e(3<=hi),$r.L==1)0<gr&&tc(Oi,ms,Zn,hi+4),ti.La&&hs(Oi,ms,Zn,hi),0<Pi&&Xc(Oi,ms,Zn,hi+4),ti.La&&Yu(Oi,ms,Zn,hi);else{var li=$r.B,ji=$r.qa,gs=$r.ra+8*_i*li+8*gr,Io=$r.Ha,$r=$r.Ia+8*_i*li+8*gr;_i=ti.ld,0<gr&&(Gu(Oi,ms,Zn,hi+4,js,_i),fs(ji,gs,Io,$r,li,hi+4,js,_i)),ti.La&&(cl(Oi,ms,Zn,hi,js,_i),Ku(ji,gs,Io,$r,li,hi,js,_i)),0<Pi&&(io(Oi,ms,Zn,hi+4,js,_i),Wu(ji,gs,Io,$r,li,hi+4,js,_i)),ti.La&&(Zl(Oi,ms,Zn,hi,js,_i),ec(ji,gs,Io,$r,li,hi,js,_i))}}if(Ie.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Zt=16*zn,zn=16*(zn+1),Xi?(Pe.y=Ie.sa,Pe.O=Ie.ta+sr,Pe.f=Ie.qa,Pe.N=Ie.ra+da,Pe.ea=Ie.Ha,Pe.W=Ie.Ia+da):(Zt-=fn,Pe.y=St,Pe.O=Vt,Pe.f=Et,Pe.N=ot,Pe.ea=Wn,Pe.W=Rn),Dn||(zn-=fn),zn>Pe.o&&(zn=Pe.o),Pe.F=null,Pe.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&Zt<zn&&(Pe.J=il(Ie,Pe,Zt,zn-Zt),Pe.F=Ie.mb,Pe.F==null&&Pe.F.length==0)){ct=ur(Ie,3,"Could not decode alpha data.");break e}Zt<Pe.j&&(fn=Pe.j-Zt,Zt=Pe.j,e(!(1&fn)),Pe.O+=Ie.R*fn,Pe.N+=Ie.B*(fn>>1),Pe.W+=Ie.B*(fn>>1),Pe.F!=null&&(Pe.J+=Pe.width*fn)),Zt<zn&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Zt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zn-Zt,ct=Pe.put(Pe))}Je+1!=Ie.Ic||Dn||(r(Ie.sa,Ie.ta-mt,St,Vt+16*Ie.R,mt),r(Ie.qa,Ie.ra-Ct,Et,ot+8*Ie.B,Ct),r(Ie.Ha,Ie.Ia-Ct,Wn,Rn+8*Ie.B,Ct))}if(!ct)return ur(Me,6,"Output aborted.")}return 1})(b,T)),T.bc!=null&&T.bc(T),q&=1}return q?(b.cb=0,q):0}function _a(b,T,q,H,ne){ne=b[T+q+32*H]+(ne>>3),b[T+q+32*H]=-256&ne?0>ne?0:255:ne}function Ws(b,T,q,H,ne,ie){_a(b,T,0,q,H+ne),_a(b,T,1,q,H+ie),_a(b,T,2,q,H-ie),_a(b,T,3,q,H-ne)}function Qr(b){return(20091*b>>16)+b}function _r(b,T,q,H){var ne,ie=0,ae=a(16);for(ne=0;4>ne;++ne){var fe=b[T+0]+b[T+8],ge=b[T+0]-b[T+8],be=(35468*b[T+4]>>16)-Qr(b[T+12]),Ce=Qr(b[T+4])+(35468*b[T+12]>>16);ae[ie+0]=fe+Ce,ae[ie+1]=ge+be,ae[ie+2]=ge-be,ae[ie+3]=fe-Ce,ie+=4,T++}for(ne=ie=0;4>ne;++ne)fe=(b=ae[ie+0]+4)+ae[ie+8],ge=b-ae[ie+8],be=(35468*ae[ie+4]>>16)-Qr(ae[ie+12]),_a(q,H,0,0,fe+(Ce=Qr(ae[ie+4])+(35468*ae[ie+12]>>16))),_a(q,H,1,0,ge+be),_a(q,H,2,0,ge-be),_a(q,H,3,0,fe-Ce),ie++,H+=32}function Ks(b,T,q,H){var ne=b[T+0]+4,ie=35468*b[T+4]>>16,ae=Qr(b[T+4]),fe=35468*b[T+1]>>16;Ws(q,H,0,ne+ae,b=Qr(b[T+1]),fe),Ws(q,H,1,ne+ie,b,fe),Ws(q,H,2,ne-ie,b,fe),Ws(q,H,3,ne-ae,b,fe)}function Jo(b,T,q,H,ne){_r(b,T,q,H),ne&&_r(b,T+16,q,H+4)}function Qo(b,T,q,H){ro(b,T+0,q,H,1),ro(b,T+32,q,H+128,1)}function Mn(b,T,q,H){var ne;for(b=b[T+0]+4,ne=0;4>ne;++ne)for(T=0;4>T;++T)_a(q,H,T,ne,b)}function bo(b,T,q,H){b[T+0]&&la(b,T+0,q,H),b[T+16]&&la(b,T+16,q,H+4),b[T+32]&&la(b,T+32,q,H+128),b[T+48]&&la(b,T+48,q,H+128+4)}function _o(b,T,q,H){var ne,ie=a(16);for(ne=0;4>ne;++ne){var ae=b[T+0+ne]+b[T+12+ne],fe=b[T+4+ne]+b[T+8+ne],ge=b[T+4+ne]-b[T+8+ne],be=b[T+0+ne]-b[T+12+ne];ie[0+ne]=ae+fe,ie[8+ne]=ae-fe,ie[4+ne]=be+ge,ie[12+ne]=be-ge}for(ne=0;4>ne;++ne)ae=(b=ie[0+4*ne]+3)+ie[3+4*ne],fe=ie[1+4*ne]+ie[2+4*ne],ge=ie[1+4*ne]-ie[2+4*ne],be=b-ie[3+4*ne],q[H+0]=ae+fe>>3,q[H+16]=be+ge>>3,q[H+32]=ae-fe>>3,q[H+48]=be-ge>>3,H+=64}function ra(b,T,q){var H,ne=T-32,ie=ca,ae=255-b[ne-1];for(H=0;H<q;++H){var fe,ge=ie,be=ae+b[T-1];for(fe=0;fe<q;++fe)b[T+fe]=ge[be+b[ne+fe]];T+=32}}function vf(b,T){ra(b,T,4)}function $c(b,T){ra(b,T,8)}function qu(b,T){ra(b,T,16)}function cs(b,T){var q;for(q=0;16>q;++q)r(b,T+32*q,b,T-32,16)}function Bl(b,T){var q;for(q=16;0<q;--q)i(b,T,b[T-1],16),T+=32}function ql(b,T,q){var H;for(H=0;16>H;++H)i(T,q+32*H,b,16)}function us(b,T){var q,H=16;for(q=0;16>q;++q)H+=b[T-1+32*q]+b[T+q-32];ql(H>>5,b,T)}function Vn(b,T){var q,H=8;for(q=0;16>q;++q)H+=b[T-1+32*q];ql(H>>4,b,T)}function Vl(b,T){var q,H=8;for(q=0;16>q;++q)H+=b[T+q-32];ql(H>>4,b,T)}function Zo(b,T){ql(128,b,T)}function Kt(b,T,q){return b+2*T+q+2>>2}function wa(b,T){var q,H=T-32;for(H=new Uint8Array([Kt(b[H-1],b[H+0],b[H+1]),Kt(b[H+0],b[H+1],b[H+2]),Kt(b[H+1],b[H+2],b[H+3]),Kt(b[H+2],b[H+3],b[H+4])]),q=0;4>q;++q)r(b,T+32*q,H,0,H.length)}function Vu(b,T){var q=b[T-1],H=b[T-1+32],ne=b[T-1+64],ie=b[T-1+96];Se(b,T+0,16843009*Kt(b[T-1-32],q,H)),Se(b,T+32,16843009*Kt(q,H,ne)),Se(b,T+64,16843009*Kt(H,ne,ie)),Se(b,T+96,16843009*Kt(ne,ie,ie))}function Ua(b,T){var q,H=4;for(q=0;4>q;++q)H+=b[T+q-32]+b[T-1+32*q];for(H>>=3,q=0;4>q;++q)i(b,T+32*q,H,4)}function Hc(b,T){var q=b[T-1+0],H=b[T-1+32],ne=b[T-1+64],ie=b[T-1-32],ae=b[T+0-32],fe=b[T+1-32],ge=b[T+2-32],be=b[T+3-32];b[T+0+96]=Kt(H,ne,b[T-1+96]),b[T+1+96]=b[T+0+64]=Kt(q,H,ne),b[T+2+96]=b[T+1+64]=b[T+0+32]=Kt(ie,q,H),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=Kt(ae,ie,q),b[T+3+64]=b[T+2+32]=b[T+1+0]=Kt(fe,ae,ie),b[T+3+32]=b[T+2+0]=Kt(ge,fe,ae),b[T+3+0]=Kt(be,ge,fe)}function $i(b,T){var q=b[T+1-32],H=b[T+2-32],ne=b[T+3-32],ie=b[T+4-32],ae=b[T+5-32],fe=b[T+6-32],ge=b[T+7-32];b[T+0+0]=Kt(b[T+0-32],q,H),b[T+1+0]=b[T+0+32]=Kt(q,H,ne),b[T+2+0]=b[T+1+32]=b[T+0+64]=Kt(H,ne,ie),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=Kt(ne,ie,ae),b[T+3+32]=b[T+2+64]=b[T+1+96]=Kt(ie,ae,fe),b[T+3+64]=b[T+2+96]=Kt(ae,fe,ge),b[T+3+96]=Kt(fe,ge,ge)}function ia(b,T){var q=b[T-1+0],H=b[T-1+32],ne=b[T-1+64],ie=b[T-1-32],ae=b[T+0-32],fe=b[T+1-32],ge=b[T+2-32],be=b[T+3-32];b[T+0+0]=b[T+1+64]=ie+ae+1>>1,b[T+1+0]=b[T+2+64]=ae+fe+1>>1,b[T+2+0]=b[T+3+64]=fe+ge+1>>1,b[T+3+0]=ge+be+1>>1,b[T+0+96]=Kt(ne,H,q),b[T+0+64]=Kt(H,q,ie),b[T+0+32]=b[T+1+96]=Kt(q,ie,ae),b[T+1+32]=b[T+2+96]=Kt(ie,ae,fe),b[T+2+32]=b[T+3+96]=Kt(ae,fe,ge),b[T+3+32]=Kt(fe,ge,be)}function el(b,T){var q=b[T+0-32],H=b[T+1-32],ne=b[T+2-32],ie=b[T+3-32],ae=b[T+4-32],fe=b[T+5-32],ge=b[T+6-32],be=b[T+7-32];b[T+0+0]=q+H+1>>1,b[T+1+0]=b[T+0+64]=H+ne+1>>1,b[T+2+0]=b[T+1+64]=ne+ie+1>>1,b[T+3+0]=b[T+2+64]=ie+ae+1>>1,b[T+0+32]=Kt(q,H,ne),b[T+1+32]=b[T+0+96]=Kt(H,ne,ie),b[T+2+32]=b[T+1+96]=Kt(ne,ie,ae),b[T+3+32]=b[T+2+96]=Kt(ie,ae,fe),b[T+3+64]=Kt(ae,fe,ge),b[T+3+96]=Kt(fe,ge,be)}function Ss(b,T){var q=b[T-1+0],H=b[T-1+32],ne=b[T-1+64],ie=b[T-1+96];b[T+0+0]=q+H+1>>1,b[T+2+0]=b[T+0+32]=H+ne+1>>1,b[T+2+32]=b[T+0+64]=ne+ie+1>>1,b[T+1+0]=Kt(q,H,ne),b[T+3+0]=b[T+1+32]=Kt(H,ne,ie),b[T+3+32]=b[T+1+64]=Kt(ne,ie,ie),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=ie}function Aa(b,T){var q=b[T-1+0],H=b[T-1+32],ne=b[T-1+64],ie=b[T-1+96],ae=b[T-1-32],fe=b[T+0-32],ge=b[T+1-32],be=b[T+2-32];b[T+0+0]=b[T+2+32]=q+ae+1>>1,b[T+0+32]=b[T+2+64]=H+q+1>>1,b[T+0+64]=b[T+2+96]=ne+H+1>>1,b[T+0+96]=ie+ne+1>>1,b[T+3+0]=Kt(fe,ge,be),b[T+2+0]=Kt(ae,fe,ge),b[T+1+0]=b[T+3+32]=Kt(q,ae,fe),b[T+1+32]=b[T+3+64]=Kt(H,q,ae),b[T+1+64]=b[T+3+96]=Kt(ne,H,q),b[T+1+96]=Kt(ie,ne,H)}function zl(b,T){var q;for(q=0;8>q;++q)r(b,T+32*q,b,T-32,8)}function Ba(b,T){var q;for(q=0;8>q;++q)i(b,T,b[T-1],8),T+=32}function qa(b,T,q){var H;for(H=0;8>H;++H)i(T,q+32*H,b,8)}function Va(b,T){var q,H=8;for(q=0;8>q;++q)H+=b[T+q-32]+b[T-1+32*q];qa(H>>4,b,T)}function wo(b,T){var q,H=4;for(q=0;8>q;++q)H+=b[T+q-32];qa(H>>3,b,T)}function Xn(b,T){var q,H=4;for(q=0;8>q;++q)H+=b[T-1+32*q];qa(H>>3,b,T)}function fi(b,T){qa(128,b,T)}function za(b,T,q){var H=b[T-q],ne=b[T+0],ie=3*(ne-H)+dl[1020+b[T-2*q]-b[T+q]],ae=bf[112+(ie+4>>3)];b[T-q]=ca[255+H+bf[112+(ie+3>>3)]],b[T+0]=ca[255+ne-ae]}function Ao(b,T,q,H){var ne=b[T+0],ie=b[T+q];return Gi[255+b[T-2*q]-b[T-q]]>H||Gi[255+ie-ne]>H}function Ys(b,T,q,H){return 4*Gi[255+b[T-q]-b[T+0]]+Gi[255+b[T-2*q]-b[T+q]]<=H}function Gc(b,T,q,H,ne){var ie=b[T-3*q],ae=b[T-2*q],fe=b[T-q],ge=b[T+0],be=b[T+q],Ce=b[T+2*q],Be=b[T+3*q];return 4*Gi[255+fe-ge]+Gi[255+ae-be]>H?0:Gi[255+b[T-4*q]-ie]<=ne&&Gi[255+ie-ae]<=ne&&Gi[255+ae-fe]<=ne&&Gi[255+Be-Ce]<=ne&&Gi[255+Ce-be]<=ne&&Gi[255+be-ge]<=ne}function Xs(b,T,q,H){var ne=2*H+1;for(H=0;16>H;++H)Ys(b,T+H,q,ne)&&za(b,T+H,q)}function Sa(b,T,q,H){var ne=2*H+1;for(H=0;16>H;++H)Ys(b,T+H*q,1,ne)&&za(b,T+H*q,1)}function zr(b,T,q,H){var ne;for(ne=3;0<ne;--ne)Xs(b,T+=4*q,q,H)}function tl(b,T,q,H){var ne;for(ne=3;0<ne;--ne)Sa(b,T+=4,q,H)}function Js(b,T,q,H,ne,ie,ae,fe){for(ie=2*ie+1;0<ne--;){if(Gc(b,T,q,ie,ae))if(Ao(b,T,q,fe))za(b,T,q);else{var ge=b,be=T,Ce=q,Be=ge[be-2*Ce],Ue=ge[be-Ce],Me=ge[be+0],ft=ge[be+Ce],Je=ge[be+2*Ce],Ie=27*(ct=dl[1020+3*(Me-Ue)+dl[1020+Be-ft]])+63>>7,Pe=18*ct+63>>7,ct=9*ct+63>>7;ge[be-3*Ce]=ca[255+ge[be-3*Ce]+ct],ge[be-2*Ce]=ca[255+Be+Pe],ge[be-Ce]=ca[255+Ue+Ie],ge[be+0]=ca[255+Me-Ie],ge[be+Ce]=ca[255+ft-Pe],ge[be+2*Ce]=ca[255+Je-ct]}T+=H}}function Hi(b,T,q,H,ne,ie,ae,fe){for(ie=2*ie+1;0<ne--;){if(Gc(b,T,q,ie,ae))if(Ao(b,T,q,fe))za(b,T,q);else{var ge=b,be=T,Ce=q,Be=ge[be-Ce],Ue=ge[be+0],Me=ge[be+Ce],ft=bf[112+((Je=3*(Ue-Be))+4>>3)],Je=bf[112+(Je+3>>3)],Ie=ft+1>>1;ge[be-2*Ce]=ca[255+ge[be-2*Ce]+Ie],ge[be-Ce]=ca[255+Be+Je],ge[be+0]=ca[255+Ue-ft],ge[be+Ce]=ca[255+Me-Ie]}T+=H}}function $l(b,T,q,H,ne,ie){Js(b,T,q,1,16,H,ne,ie)}function Qs(b,T,q,H,ne,ie){Js(b,T,1,q,16,H,ne,ie)}function So(b,T,q,H,ne,ie){var ae;for(ae=3;0<ae;--ae)Hi(b,T+=4*q,q,1,16,H,ne,ie)}function nl(b,T,q,H,ne,ie){var ae;for(ae=3;0<ae;--ae)Hi(b,T+=4,1,q,16,H,ne,ie)}function Hl(b,T,q,H,ne,ie,ae,fe){Js(b,T,ne,1,8,ie,ae,fe),Js(q,H,ne,1,8,ie,ae,fe)}function Wc(b,T,q,H,ne,ie,ae,fe){Js(b,T,1,ne,8,ie,ae,fe),Js(q,H,1,ne,8,ie,ae,fe)}function Gl(b,T,q,H,ne,ie,ae,fe){Hi(b,T+4*ne,ne,1,8,ie,ae,fe),Hi(q,H+4*ne,ne,1,8,ie,ae,fe)}function Eo(b,T,q,H,ne,ie,ae,fe){Hi(b,T+4,1,ne,8,ie,ae,fe),Hi(q,H+4,1,ne,8,ie,ae,fe)}function No(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kl(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new D}function zu(){this.xb=this.a=0,this.l=new Xo,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kl,this.ab=0,this.gc=s(4,rl),this.Oc=0}function ds(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function To(b,T,q,H,ne,ie,ae){for(b=b==null?0:b[T+0],T=0;T<ae;++T)ne[ie+T]=b+q[H+T]&255,b=ne[ie+T]}function Yl(b,T,q,H,ne,ie,ae){var fe;if(b==null)To(null,null,q,H,ne,ie,ae);else for(fe=0;fe<ae;++fe)ne[ie+fe]=b[T+fe]+q[H+fe]&255}function aa(b,T,q,H,ne,ie,ae){if(b==null)To(null,null,q,H,ne,ie,ae);else{var fe,ge=b[T+0],be=ge,Ce=ge;for(fe=0;fe<ae;++fe)be=Ce+(ge=b[T+fe])-be,Ce=q[H+fe]+(-256&be?0>be?0:255:be)&255,be=ge,ne[ie+fe]=Ce}}function il(b,T,q,H){var ne=T.width,ie=T.o;if(e(b!=null&&T!=null),0>q||0>=H||q+H>ie)return null;if(!b.Cc){if(b.ga==null){var ae;if(b.ga=new ds,(ae=b.ga==null)||(ae=T.width*T.o,e(b.Gb.length==0),b.Gb=a(ae),b.Uc=0,b.Gb==null?ae=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ae=1),ae=!ae),!ae){ae=b.ga;var fe=b.Fa,ge=b.P,be=b.qc,Ce=b.mb,Be=b.nb,Ue=ge+1,Me=be-1,ft=ae.l;if(e(fe!=null&&Ce!=null&&T!=null),fl[0]=null,fl[1]=To,fl[2]=Yl,fl[3]=aa,ae.ca=Ce,ae.tb=Be,ae.c=T.width,ae.i=T.height,e(0<ae.c&&0<ae.i),1>=be)T=0;else if(ae.$a=fe[ge+0]>>0&3,ae.Z=fe[ge+0]>>2&3,ae.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ge)T=0;else if(ft.put=di,ft.ac=Br,ft.bc=Xr,ft.ma=ae,ft.width=T.width,ft.height=T.height,ft.Da=T.Da,ft.v=T.v,ft.va=T.va,ft.j=T.j,ft.o=T.o,ae.$a)e:{e(ae.$a==1),T=Pt();t:for(;;){if(T==null){T=0;break e}if(e(ae!=null),ae.mc=T,T.c=ae.c,T.i=ae.i,T.l=ae.l,T.l.ma=ae,T.l.width=ae.c,T.l.height=ae.i,T.a=0,se(T.m,fe,Ue,Me),!qt(ae.c,ae.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&nn(T.s)?(ae.ic=1,fe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(fe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ae.ic=0,T=jr(T,ae.c)),!T))break t;T=1;break e}ae.mc=null,T=0}else T=Me>=ae.c*ae.i;ae=!T}if(ae)return null;b.ga.Lc!=1?b.Ga=0:H=ie-q}e(b.ga!=null),e(q+H<=ie);e:{if(T=(fe=b.ga).c,ie=fe.l.o,fe.$a==0){if(Ue=b.rc,Me=b.Vc,ft=b.Fa,ge=b.P+1+q*T,be=b.mb,Ce=b.nb+q*T,e(ge<=b.P+b.qc),fe.Z!=0)for(e(fl[fe.Z]!=null),ae=0;ae<H;++ae)fl[fe.Z](Ue,Me,ft,ge,be,Ce,T),Ue=be,Me=Ce,Ce+=T,ge+=T;else for(ae=0;ae<H;++ae)r(be,Ce,ft,ge,T),Ue=be,Me=Ce,Ce+=T,ge+=T;b.rc=Ue,b.Vc=Me}else{if(e(fe.mc!=null),T=q+H,e((ae=fe.mc)!=null),e(T<=ae.i),ae.C>=T)T=1;else if(fe.ic||De(),fe.ic){fe=ae.V,Ue=ae.Ba,Me=ae.c;var Je=ae.i,Ie=(ft=1,ge=ae.$/Me,be=ae.$%Me,Ce=ae.m,Be=ae.s,ae.$),Pe=Me*Je,ct=Me*T,mt=Be.wc,ot=Ie<ct?me(Be,be,ge):null;e(Ie<=Pe),e(T<=Je),e(nn(Be));t:for(;;){for(;!Ce.h&&Ie<ct;){if(be&mt||(ot=me(Be,be,ge)),e(ot!=null),X(Ce),256>(Je=qr(ot.G[0],ot.H[0],Ce)))fe[Ue+Ie]=Je,++Ie,++be>=Me&&(be=0,++ge<=T&&!(ge%16)&&Mt(ae,ge));else{if(!(280>Je)){ft=0;break t}Je=Jr(Je-256,Ce);var Ct,St=qr(ot.G[4],ot.H[4],Ce);if(X(Ce),!(Ie>=(St=br(Me,St=Jr(St,Ce)))&&Pe-Ie>=Je)){ft=0;break t}for(Ct=0;Ct<Je;++Ct)fe[Ue+Ie+Ct]=fe[Ue+Ie+Ct-St];for(Ie+=Je,be+=Je;be>=Me;)be-=Me,++ge<=T&&!(ge%16)&&Mt(ae,ge);Ie<ct&&be&mt&&(ot=me(Be,be,ge))}e(Ce.h==Z(Ce))}Mt(ae,ge>T?T:ge);break t}!ft||Ce.h&&Ie<Pe?(ft=0,ae.a=Ce.h?5:3):ae.$=Ie,T=ft}else T=Ht(ae,ae.V,ae.Ba,ae.c,ae.i,T,Mr);if(!T){H=0;break e}}q+H>=ie&&(b.Cc=1),H=1}if(!H)return null;if(b.Cc&&((H=b.ga)!=null&&(H.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+q*ne}function j(b,T,q,H,ne,ie){for(;0<ne--;){var ae,fe=b,ge=T+(q?1:0),be=b,Ce=T+(q?0:3);for(ae=0;ae<H;++ae){var Be=be[Ce+4*ae];Be!=255&&(Be*=32897,fe[ge+4*ae+0]=fe[ge+4*ae+0]*Be>>23,fe[ge+4*ae+1]=fe[ge+4*ae+1]*Be>>23,fe[ge+4*ae+2]=fe[ge+4*ae+2]*Be>>23)}T+=ie}}function te(b,T,q,H,ne){for(;0<H--;){var ie;for(ie=0;ie<q;++ie){var ae=b[T+2*ie+0],fe=15&(be=b[T+2*ie+1]),ge=4369*fe,be=(240&be|be>>4)*ge>>16;b[T+2*ie+0]=(240&ae|ae>>4)*ge>>16&240|(15&ae|ae<<4)*ge>>16>>4&15,b[T+2*ie+1]=240&be|fe}T+=ne}}function Ae(b,T,q,H,ne,ie,ae,fe){var ge,be,Ce=255;for(be=0;be<ne;++be){for(ge=0;ge<H;++ge){var Be=b[T+ge];ie[ae+4*ge]=Be,Ce&=Be}T+=q,ae+=fe}return Ce!=255}function Te(b,T,q,H,ne){var ie;for(ie=0;ie<ne;++ie)q[H+ie]=b[T+ie]>>8}function De(){Ha=j,Cn=te,ar=Ae,Gn=Te}function Ze(b,T,q){O[b]=function(H,ne,ie,ae,fe,ge,be,Ce,Be,Ue,Me,ft,Je,Ie,Pe,ct,mt){var ot,Ct=mt-1>>1,St=fe[ge+0]|be[Ce+0]<<16,Vt=Be[Ue+0]|Me[ft+0]<<16;e(H!=null);var Et=3*St+Vt+131074>>2;for(T(H[ne+0],255&Et,Et>>16,Je,Ie),ie!=null&&(Et=3*Vt+St+131074>>2,T(ie[ae+0],255&Et,Et>>16,Pe,ct)),ot=1;ot<=Ct;++ot){var Wn=fe[ge+ot]|be[Ce+ot]<<16,Rn=Be[Ue+ot]|Me[ft+ot]<<16,Dn=St+Wn+Vt+Rn+524296,fn=Dn+2*(Wn+Vt)>>3;Et=fn+St>>1,St=(Dn=Dn+2*(St+Rn)>>3)+Wn>>1,T(H[ne+2*ot-1],255&Et,Et>>16,Je,Ie+(2*ot-1)*q),T(H[ne+2*ot-0],255&St,St>>16,Je,Ie+(2*ot-0)*q),ie!=null&&(Et=Dn+Vt>>1,St=fn+Rn>>1,T(ie[ae+2*ot-1],255&Et,Et>>16,Pe,ct+(2*ot-1)*q),T(ie[ae+2*ot+0],255&St,St>>16,Pe,ct+(2*ot+0)*q)),St=Wn,Vt=Rn}1&mt||(Et=3*St+Vt+131074>>2,T(H[ne+mt-1],255&Et,Et>>16,Je,Ie+(mt-1)*q),ie!=null&&(Et=3*Vt+St+131074>>2,T(ie[ae+mt-1],255&Et,Et>>16,Pe,ct+(mt-1)*q)))}}function gt(){Ki[Eh]=Qc,Ki[ua]=ed,Ki[Nh]=Bm,Ki[Ts]=kh,Ki[_f]=sc,Ki[Ju]=Co,Ki[rc]=oc,Ki[wf]=ed,Ki[Th]=kh,Ki[Qu]=sc,Ki[Ch]=Co}function Nt(b){return b&-16384?0>b?0:255:b>>Ph}function _(b,T){return Nt((19077*b>>8)+(26149*T>>8)-14234)}function $(b,T,q){return Nt((19077*b>>8)-(6419*T>>8)-(13320*q>>8)+8708)}function Y(b,T){return Nt((19077*b>>8)+(33050*T>>8)-17685)}function he(b,T,q,H,ne){H[ne+0]=_(b,q),H[ne+1]=$(b,T,q),H[ne+2]=Y(b,T)}function je(b,T,q,H,ne){H[ne+0]=Y(b,T),H[ne+1]=$(b,T,q),H[ne+2]=_(b,q)}function qe(b,T,q,H,ne){var ie=$(b,T,q);T=ie<<3&224|Y(b,T)>>3,H[ne+0]=248&_(b,q)|ie>>5,H[ne+1]=T}function yt(b,T,q,H,ne){var ie=240&Y(b,T)|15;H[ne+0]=240&_(b,q)|$(b,T,q)>>4,H[ne+1]=ie}function ln(b,T,q,H,ne){H[ne+0]=255,he(b,T,q,H,ne+1)}function Nn(b,T,q,H,ne){je(b,T,q,H,ne),H[ne+3]=255}function Qt(b,T,q,H,ne){he(b,T,q,H,ne),H[ne+3]=255}function Qn(b,T){return 0>b?0:b>T?T:b}function mr(b,T,q){O[b]=function(H,ne,ie,ae,fe,ge,be,Ce,Be){for(var Ue=Ce+(-2&Be)*q;Ce!=Ue;)T(H[ne+0],ie[ae+0],fe[ge+0],be,Ce),T(H[ne+1],ie[ae+0],fe[ge+0],be,Ce+q),ne+=2,++ae,++ge,Ce+=2*q;1&Be&&T(H[ne+0],ie[ae+0],fe[ge+0],be,Ce)}}function Zs(b,T,q){return q==0?b==0?T==0?6:5:T==0?4:0:q}function Ii(b,T,q,H,ne){switch(b>>>30){case 3:ro(T,q,H,ne,0);break;case 2:Tr(T,q,H,ne);break;case 1:la(T,q,H,ne)}}function eo(b,T){var q,H,ne=T.M,ie=T.Nb,ae=b.oc,fe=b.pc+40,ge=b.oc,be=b.pc+584,Ce=b.oc,Be=b.pc+600;for(q=0;16>q;++q)ae[fe+32*q-1]=129;for(q=0;8>q;++q)ge[be+32*q-1]=129,Ce[Be+32*q-1]=129;for(0<ne?ae[fe-1-32]=ge[be-1-32]=Ce[Be-1-32]=129:(i(ae,fe-32-1,127,21),i(ge,be-32-1,127,9),i(Ce,Be-32-1,127,9)),H=0;H<b.za;++H){var Ue=T.ya[T.aa+H];if(0<H){for(q=-1;16>q;++q)r(ae,fe+32*q-4,ae,fe+32*q+12,4);for(q=-1;8>q;++q)r(ge,be+32*q-4,ge,be+32*q+4,4),r(Ce,Be+32*q-4,Ce,Be+32*q+4,4)}var Me=b.Gd,ft=b.Hd+H,Je=Ue.ad,Ie=Ue.Hc;if(0<ne&&(r(ae,fe-32,Me[ft].y,0,16),r(ge,be-32,Me[ft].f,0,8),r(Ce,Be-32,Me[ft].ea,0,8)),Ue.Za){var Pe=ae,ct=fe-32+16;for(0<ne&&(H>=b.za-1?i(Pe,ct,Me[ft].y[15],4):r(Pe,ct,Me[ft+1].y,0,4)),q=0;4>q;q++)Pe[ct+128+q]=Pe[ct+256+q]=Pe[ct+384+q]=Pe[ct+0+q];for(q=0;16>q;++q,Ie<<=2)Pe=ae,ct=fe+oi[q],Zr[Ue.Ob[q]](Pe,ct),Ii(Ie,Je,16*+q,Pe,ct)}else if(Pe=Zs(H,ne,Ue.Ob[0]),Ta[Pe](ae,fe),Ie!=0)for(q=0;16>q;++q,Ie<<=2)Ii(Ie,Je,16*+q,ae,fe+oi[q]);for(q=Ue.Gc,Pe=Zs(H,ne,Ue.Dd),so[Pe](ge,be),so[Pe](Ce,Be),Ie=Je,Pe=ge,ct=be,255&(Ue=q>>0)&&(170&Ue?Yc(Ie,256,Pe,ct):ki(Ie,256,Pe,ct)),Ue=Ce,Ie=Be,255&(q>>=8)&&(170&q?Yc(Je,320,Ue,Ie):ki(Je,320,Ue,Ie)),ne<b.Ub-1&&(r(Me[ft].y,0,ae,fe+480,16),r(Me[ft].f,0,ge,be+224,8),r(Me[ft].ea,0,Ce,Be+224,8)),q=8*ie*b.B,Me=b.sa,ft=b.ta+16*H+16*ie*b.R,Je=b.qa,Ue=b.ra+8*H+q,Ie=b.Ha,Pe=b.Ia+8*H+q,q=0;16>q;++q)r(Me,ft+q*b.R,ae,fe+32*q,16);for(q=0;8>q;++q)r(Je,Ue+q*b.B,ge,be+32*q,8),r(Ie,Pe+q*b.B,Ce,Be+32*q,8)}}function $a(b,T,q,H,ne,ie,ae,fe,ge){var be=[0],Ce=[0],Be=0,Ue=ge!=null?ge.kd:0,Me=ge??new Wl;if(b==null||12>q)return 7;Me.data=b,Me.w=T,Me.ha=q,T=[T],q=[q],Me.gb=[Me.gb];e:{var ft=T,Je=q,Ie=Me.gb;if(e(b!=null),e(Je!=null),e(Ie!=null),Ie[0]=0,12<=Je[0]&&!n(b,ft[0],"RIFF")){if(n(b,ft[0]+8,"WEBP")){Ie=3;break e}var Pe=We(b,ft[0]+4);if(12>Pe||4294967286<Pe){Ie=3;break e}if(Ue&&Pe>Je[0]-8){Ie=7;break e}Ie[0]=Pe,ft[0]+=12,Je[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Pe=0<Me.gb[0],q=q[0];;){e:{var ct=b;Je=T,Ie=q;var mt=be,ot=Ce,Ct=ft=[0];if((Et=Be=[Be])[0]=0,8>Ie[0])Ie=7;else{if(!n(ct,Je[0],"VP8X")){if(We(ct,Je[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var St=We(ct,Je[0]+8),Vt=1+Ee(ct,Je[0]+12);if(2147483648<=Vt*(ct=1+Ee(ct,Je[0]+15))){Ie=3;break e}Ct!=null&&(Ct[0]=St),mt!=null&&(mt[0]=Vt),ot!=null&&(ot[0]=ct),Je[0]+=18,Ie[0]-=18,Et[0]=1}Ie=0}}if(Be=Be[0],ft=ft[0],Ie!=0)return Ie;if(Je=!!(2&ft),!Pe&&Be)return 3;if(ie!=null&&(ie[0]=!!(16&ft)),ae!=null&&(ae[0]=Je),fe!=null&&(fe[0]=0),ae=be[0],ft=Ce[0],Be&&Je&&ge==null){Ie=0;break}if(4>q){Ie=7;break}if(Pe&&Be||!Pe&&!Be&&!n(b,T[0],"ALPH")){q=[q],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{St=b,Ie=T,Pe=q;var Et=Me.gb;mt=Me.na,ot=Me.P,Ct=Me.Sa,Vt=22,e(St!=null),e(Pe!=null),ct=Ie[0];var Wn=Pe[0];for(e(mt!=null),e(Ct!=null),mt[0]=null,ot[0]=null,Ct[0]=0;;){if(Ie[0]=ct,Pe[0]=Wn,8>Wn){Ie=7;break e}var Rn=We(St,ct+4);if(4294967286<Rn){Ie=3;break e}var Dn=8+Rn+1&-2;if(Vt+=Dn,0<Et&&Vt>Et){Ie=3;break e}if(!n(St,ct,"VP8 ")||!n(St,ct,"VP8L")){Ie=0;break e}if(Wn[0]<Dn){Ie=7;break e}n(St,ct,"ALPH")||(mt[0]=St,ot[0]=ct+8,Ct[0]=Rn),ct+=Dn,Wn-=Dn}}if(q=q[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ie!=0)break}q=[q],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Et=b,Ie=T,Pe=q,mt=Me.gb[0],ot=Me.Ja,Ct=Me.xa,St=Ie[0],ct=!n(Et,St,"VP8 "),Vt=!n(Et,St,"VP8L"),e(Et!=null),e(Pe!=null),e(ot!=null),e(Ct!=null),8>Pe[0])Ie=7;else{if(ct||Vt){if(Et=We(Et,St+4),12<=mt&&Et>mt-12){Ie=3;break e}if(Ue&&Et>Pe[0]-8){Ie=7;break e}ot[0]=Et,Ie[0]+=8,Pe[0]-=8,Ct[0]=Vt}else Ct[0]=5<=Pe[0]&&Et[St+0]==47&&!(Et[St+4]>>5),ot[0]=Pe[0];Ie=0}if(q=q[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],T=T[0],Ie!=0)break;if(4294967286<Me.Ja)return 3;if(fe==null||Je||(fe[0]=Me.xa?2:1),ae=[ae],ft=[ft],Me.xa){if(5>q){Ie=7;break}fe=ae,Ue=ft,Je=ie,b==null||5>q?b=0:5<=q&&b[T+0]==47&&!(b[T+4]>>5)?(Pe=[0],Et=[0],mt=[0],se(ot=new M,b,T,q),Ot(ot,Pe,Et,mt)?(fe!=null&&(fe[0]=Pe[0]),Ue!=null&&(Ue[0]=Et[0]),Je!=null&&(Je[0]=mt[0]),b=1):b=0):b=0}else{if(10>q){Ie=7;break}fe=ft,b==null||10>q||!ba(b,T+3,q-3)?b=0:(Ue=b[T+0]|b[T+1]<<8|b[T+2]<<16,Je=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Me.Ja||!Je||!b?b=0:(ae&&(ae[0]=Je),fe&&(fe[0]=b),b=1))}if(!b||(ae=ae[0],ft=ft[0],Be&&(be[0]!=ae||Ce[0]!=ft)))return 3;ge!=null&&(ge[0]=Me,ge.offset=T-ge.w,e(4294967286>T-ge.w),e(ge.offset==ge.ha-q));break}return Ie==0||Ie==7&&Be&&ge==null?(ie!=null&&(ie[0]|=Me.na!=null&&0<Me.na.length),H!=null&&(H[0]=ae),ne!=null&&(ne[0]=ft),0):Ie}function al(b,T,q){var H=T.width,ne=T.height,ie=0,ae=0,fe=H,ge=ne;if(T.Da=b!=null&&0<b.Da,T.Da&&(fe=b.cd,ge=b.bd,ie=b.v,ae=b.j,11>q||(ie&=-2,ae&=-2),0>ie||0>ae||0>=fe||0>=ge||ie+fe>H||ae+ge>ne))return 0;if(T.v=ie,T.j=ae,T.va=ie+fe,T.o=ae+ge,T.U=fe,T.T=ge,T.da=b!=null&&0<b.da,T.da){if(!lt(fe,ge,q=[b.ib],ie=[b.hb]))return 0;T.ib=q[0],T.hb=ie[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*H/4&&T.hb<3*ne/4,T.Kb=0),1}function yf(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function sl(b,T,q,H){if(H==null||0>=b||0>=T)return 2;if(q!=null){if(q.Da){var ne=q.cd,ie=q.bd,ae=-2&q.v,fe=-2&q.j;if(0>ae||0>fe||0>=ne||0>=ie||ae+ne>b||fe+ie>T)return 2;b=ne,T=ie}if(q.da){if(!lt(b,T,ne=[q.ib],ie=[q.hb]))return 2;b=ne[0],T=ie[0]}}H.width=b,H.height=T;e:{var ge=H.width,be=H.height;if(b=H.S,0>=ge||0>=be||!(b>=Eh&&13>b))b=2;else{if(0>=H.Rd&&H.sd==null){ae=ie=ne=T=0;var Ce=(fe=ge*jh[b])*be;if(11>b||(ie=(be+1)/2*(T=(ge+1)/2),b==12&&(ae=(ne=ge)*be)),(be=a(Ce+2*ie+ae))==null){b=1;break e}H.sd=be,11>b?((ge=H.f.RGBA).eb=be,ge.fb=0,ge.A=fe,ge.size=Ce):((ge=H.f.kb).y=be,ge.O=0,ge.fa=fe,ge.Fd=Ce,ge.f=be,ge.N=0+Ce,ge.Ab=T,ge.Cd=ie,ge.ea=be,ge.W=0+Ce+ie,ge.Db=T,ge.Ed=ie,b==12&&(ge.F=be,ge.J=0+Ce+2*ie),ge.Tc=ae,ge.lb=ne)}if(T=1,ne=H.S,ie=H.width,ae=H.height,ne>=Eh&&13>ne)if(11>ne)b=H.f.RGBA,T&=(fe=Math.abs(b.A))*(ae-1)+ie<=b.size,T&=fe>=ie*jh[ne],T&=b.eb!=null;else{b=H.f.kb,fe=(ie+1)/2,Ce=(ae+1)/2,ge=Math.abs(b.fa),be=Math.abs(b.Ab);var Be=Math.abs(b.Db),Ue=Math.abs(b.lb),Me=Ue*(ae-1)+ie;T&=ge*(ae-1)+ie<=b.Fd,T&=be*(Ce-1)+fe<=b.Cd,T=(T&=Be*(Ce-1)+fe<=b.Ed)&ge>=ie&be>=fe&Be>=fe,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,ne==12&&(T&=Ue>=ie,T&=Me<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||q!=null&&q.fd&&(b=yf(H)),b}var Ri=64,Kc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xl=24,Jl=32,$u=8,Ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(b){return b},O.Predictor2=function(b,T,q){return T[q+0]},O.Predictor3=function(b,T,q){return T[q+1]},O.Predictor4=function(b,T,q){return T[q-1]},O.Predictor5=function(b,T,q){return Ke(Ke(b,T[q+1]),T[q+0])},O.Predictor6=function(b,T,q){return Ke(b,T[q-1])},O.Predictor7=function(b,T,q){return Ke(b,T[q+0])},O.Predictor8=function(b,T,q){return Ke(T[q-1],T[q+0])},O.Predictor9=function(b,T,q){return Ke(T[q+0],T[q+1])},O.Predictor10=function(b,T,q){return Ke(Ke(b,T[q-1]),Ke(T[q+0],T[q+1]))},O.Predictor11=function(b,T,q){var H=T[q+0];return 0>=st(H>>24&255,b>>24&255,(T=T[q-1])>>24&255)+st(H>>16&255,b>>16&255,T>>16&255)+st(H>>8&255,b>>8&255,T>>8&255)+st(255&H,255&b,255&T)?H:b},O.Predictor12=function(b,T,q){var H=T[q+0];return(at((b>>24&255)+(H>>24&255)-((T=T[q-1])>>24&255))<<24|at((b>>16&255)+(H>>16&255)-(T>>16&255))<<16|at((b>>8&255)+(H>>8&255)-(T>>8&255))<<8|at((255&b)+(255&H)-(255&T)))>>>0},O.Predictor13=function(b,T,q){var H=T[q-1];return(Qe((b=Ke(b,T[q+0]))>>24&255,H>>24&255)<<24|Qe(b>>16&255,H>>16&255)<<16|Qe(b>>8&255,H>>8&255)<<8|Qe(b>>0&255,H>>0&255))>>>0};var wh=O.PredictorAdd0;O.PredictorAdd1=vt,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var xf=O.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",(function(b){return b>>8&255}),(function(b){return b})),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(b){return b}),(function(b){return b>>8&255}));var Ah,Es=O.ColorIndexInverseTransform,Hu=O.MapARGB,Sh=O.VP8LColorIndexInverseTransformAlpha,sa=O.MapAlpha,Ns=O.VP8LPredictorsAdd=[];Ns.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Ql,Na,oa,ol,to,ll,no,ro,Tr,Yc,la,ki,io,Gu,Wu,fs,Zl,cl,ec,Ku,Xc,tc,Yu,hs,Ha,Cn,ar,Gn,Lr=a(511),ao=a(2041),nc=a(225),ul=a(767),Xu=0,dl=ao,bf=nc,ca=ul,Gi=Lr,Eh=0,ua=1,Nh=2,Ts=3,_f=4,Ju=5,rc=6,wf=7,Th=8,Qu=9,Ch=10,Cs=[2,3,7],Zu=[3,3,11],Jc=[280,256,256,256,40],Ih=[0,1,1,1,0],Af=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Is=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ic=8,ks=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ps=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ps=null,wv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Av=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],In=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ta=[],Zr=[],so=[],ac=1,Um=2,fl=[],Ki=[];Ze("UpsampleRgbLinePair",he,3),Ze("UpsampleBgrLinePair",je,3),Ze("UpsampleRgbaLinePair",Qt,4),Ze("UpsampleBgraLinePair",Nn,4),Ze("UpsampleArgbLinePair",ln,4),Ze("UpsampleRgba4444LinePair",yt,2),Ze("UpsampleRgb565LinePair",qe,2);var Qc=O.UpsampleRgbLinePair,Bm=O.UpsampleBgrLinePair,ed=O.UpsampleRgbaLinePair,kh=O.UpsampleBgraLinePair,sc=O.UpsampleArgbLinePair,Co=O.UpsampleRgba4444LinePair,oc=O.UpsampleRgb565LinePair,Os=16,td=1<<Os-1,Zc=-227,lc=482,Ph=6,cc=0,Yi=a(256),Oh=a(256),Sv=a(256),Qb=a(256),Zb=a(lc-Zc),e2=a(lc-Zc);mr("YuvToRgbRow",he,3),mr("YuvToBgrRow",je,3),mr("YuvToRgbaRow",Qt,4),mr("YuvToBgraRow",Nn,4),mr("YuvToArgbRow",ln,4),mr("YuvToRgba4444Row",yt,2),mr("YuvToRgb565Row",qe,2);var oi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nd=[0,2,8],Sf=[8,7,6,4,4,2,2,2,1,1,1,1],Ef=1;this.WebPDecodeRGBA=function(b,T,q,H,ne){var ie=ua,ae=new No,fe=new pr;ae.ba=fe,fe.S=ie,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,be=fe.height,Ce=new si;if(Ce==null||b==null)var Be=2;else e(Ce!=null),Be=$a(b,T,q,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Be!=0?ge=0:(ge!=null&&(ge[0]=Ce.width[0]),be!=null&&(be[0]=Ce.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],H!=null&&(H[0]=fe.width),ne!=null&&(ne[0]=fe.height);e:{if(H=new Xo,(ne=new Wl).data=b,ne.w=T,ne.ha=q,ne.kd=1,T=[0],e(ne!=null),((b=$a(ne.data,ne.w,ne.ha,null,null,null,T,null,ne))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(ae!=null),H.data=ne.data,H.w=ne.w+ne.offset,H.ha=ne.ha-ne.offset,H.put=di,H.ac=Br,H.bc=Xr,H.ma=ae,ne.xa){if((b=Pt())==null){ae=1;break e}if((function(Ue,Me){var ft=[0],Je=[0],Ie=[0];t:for(;;){if(Ue==null)return 0;if(Me==null)return Ue.a=2,0;if(Ue.l=Me,Ue.a=0,se(Ue.m,Me.data,Me.w,Me.ha),!Ot(Ue.m,ft,Je,Ie)){Ue.a=3;break t}if(Ue.xb=Um,Me.width=ft[0],Me.height=Je[0],!qt(ft[0],Je[0],1,Ue,null))break t;return 1}return e(Ue.a!=0),0})(b,H)){if(H=(T=sl(H.width,H.height,ae.Oa,ae.ba))==0){t:{H=b;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((q=H.l)!=null),e((ne=q.ma)!=null),H.xb!=0){if(H.ca=ne.ba,H.tb=ne.tb,e(H.ca!=null),!al(ne.Oa,q,Ts)){H.a=2;break n}if(!jr(H,q.width)||q.da)break n;if((q.da||dn(H.ca.S))&&De(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&De()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Ge(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Ht(H,H.V,H.Ba,H.c,H.i,q.o,$t))break n;ne.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(T=b.a)}else T=b.a}else{if((b=new xo)==null){ae=1;break e}if(b.Fa=ne.na,b.P=ne.P,b.qc=ne.Sa,Ci(b,H)){if((T=sl(H.width,H.height,ae.Oa,ae.ba))==0){if(b.Aa=0,q=ae.Oa,e((ne=b)!=null),q!=null){if(0<(ge=0>(ge=q.Md)?0:100<ge?255:255*ge/100)){for(be=Ce=0;4>be;++be)12>(Be=ne.pb[be]).lc&&(Be.ia=ge*Sf[0>Be.lc?0:Be.lc]>>3),Ce|=Be.ia;Ce&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=q.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Ul(b,H)||(T=b.a)}}else T=b.a}T==0&&ae.Oa!=null&&ae.Oa.fd&&(T=yf(ae.ba))}ae=T}ie=ae!=0?null:11>ie?fe.f.RGBA.eb:fe.f.kb.y}else ie=null;return ie};var jh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(O,V){for(var W="",B=0;B<4;B++)W+=String.fromCharCode(O[V++]);return W}function h(O,V){return(O[V+0]<<0|O[V+1]<<8|O[V+2]<<16)>>>0}function m(O,V){return(O[V+0]<<0|O[V+1]<<8|O[V+2]<<16|O[V+3]<<24)>>>0}new c;var g=[0],y=[0],N=[],A=new c,S=t,C=(function(O,V){var W={},B=0,D=!1,F=0,Q=0;if(W.frames=[],!(function(G,Z,de,X){for(var ue=0;ue<X;ue++)if(G[Z+ue]!=de.charCodeAt(ue))return!0;return!1})(O,V,"RIFF",4)){var oe,K;for(m(O,V+=4),V+=8;V<O.length;){var ee=d(O,V),se=m(O,V+=4);V+=4;var _e=se+(1&se);switch(ee){case"VP8 ":case"VP8L":W.frames[B]===void 0&&(W.frames[B]={}),(M=W.frames[B]).src_off=D?Q:V-8,M.src_size=F+se+8,B++,D&&(D=!1,F=0,Q=0);break;case"VP8X":(M=W.header={}).feature_flags=O[V];var xe=V+4;M.canvas_width=1+h(O,xe),xe+=3,M.canvas_height=1+h(O,xe),xe+=3;break;case"ALPH":D=!0,F=_e+8,Q=V-8;break;case"ANIM":(M=W.header).bgcolor=m(O,V),xe=V+4,M.loop_count=(oe=O)[(K=xe)+0]<<0|oe[K+1]<<8,xe+=2;break;case"ANMF":var ce,M;(M=W.frames[B]={}).offset_x=2*h(O,V),V+=3,M.offset_y=2*h(O,V),V+=3,M.width=1+h(O,V),V+=3,M.height=1+h(O,V),V+=3,M.duration=h(O,V),V+=3,ce=O[V++],M.dispose=1&ce,M.blend=ce>>1&1}ee!="ANMF"&&(V+=_e)}return W}})(S,0);C.response=S,C.rgbaoutput=!0,C.dataurl=!1;var R=C.header?C.header:null,P=C.frames?C.frames:null;if(R){R.loop_counter=R.loop_count,g=[R.canvas_height],y=[R.canvas_width];for(var U=0;U<P.length&&P[U].blend!=0;U++);}var L=P[0],z=A.WebPDecodeRGBA(S,L.src_off,L.src_size,y,g);L.rgba=z,L.imgwidth=y[0],L.imgheight=g[0];for(var k=0;k<y[0]*g[0]*4;k++)N[k]=z[k];return this.width=y,this.height=g,this.data=N,this}(function(t){var e=function(){return typeof pN=="function"},n=function(g,y,N,A){var S=4,C=s;switch(A){case t.image_compression.FAST:S=1,C=a;break;case t.image_compression.MEDIUM:S=6,C=l;break;case t.image_compression.SLOW:S=9,C=c}g=r(g,y,N,C);var R=pN(g,{level:S});return t.__addimage__.arrayBufferToBinaryString(R)},r=function(g,y,N,A){for(var S,C,R,P=g.length/y,U=new Uint8Array(g.length+P),L=h(),z=0;z<P;z+=1){if(R=z*y,S=g.subarray(R,R+y),A)U.set(A(S,N,C),R+z);else{for(var k,O=L.length,V=[];k<O;k+=1)V[k]=L[k](S,N,C);var W=m(V.concat());U.set(V[W],R+z)}C=S}return U},i=function(g){var y=Array.apply([],g);return y.unshift(0),y},a=function(g,y){var N,A=[],S=g.length;A[0]=1;for(var C=0;C<S;C+=1)N=g[C-y]||0,A[C+1]=g[C]-N+256&255;return A},s=function(g,y,N){var A,S=[],C=g.length;S[0]=2;for(var R=0;R<C;R+=1)A=N&&N[R]||0,S[R+1]=g[R]-A+256&255;return S},l=function(g,y,N){var A,S,C=[],R=g.length;C[0]=3;for(var P=0;P<R;P+=1)A=g[P-y]||0,S=N&&N[P]||0,C[P+1]=g[P]+256-(A+S>>>1)&255;return C},c=function(g,y,N){var A,S,C,R,P=[],U=g.length;P[0]=4;for(var L=0;L<U;L+=1)A=g[L-y]||0,S=N&&N[L]||0,C=N&&N[L-y]||0,R=d(A,S,C),P[L+1]=g[L]-R+256&255;return P},d=function(g,y,N){if(g===y&&y===N)return g;var A=Math.abs(y-N),S=Math.abs(g-N),C=Math.abs(g+y-N-N);return A<=S&&A<=C?g:S<=C?y:N},h=function(){return[i,a,s,l,c]},m=function(g){var y=g.map((function(N){return N.reduce((function(A,S){return A+Math.abs(S)}),0)}));return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(g,y,N,A){var S,C,R,P,U,L,z,k,O,V,W,B,D,F,Q,oe=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(R=new ife(g)).imgData,C=R.bits,S=R.colorSpace,U=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){O=(k=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,W=new Uint8Array(O*R.colors),V=new Uint8Array(O);var ee,se=R.pixelBitlength-R.bits;for(F=0,Q=0;F<O;F++){for(D=k[F],ee=0;ee<se;)W[Q++]=D>>>ee&255,ee+=R.bits;V[F]=D>>>ee&255}}if(R.bits===16){O=(k=new Uint32Array(R.decodePixels().buffer)).length,W=new Uint8Array(O*(32/R.pixelBitlength)*R.colors),V=new Uint8Array(O*(32/R.pixelBitlength)),B=R.colors>1,F=0,Q=0;for(var _e=0;F<O;)D=k[F++],W[Q++]=D>>>0&255,B&&(W[Q++]=D>>>16&255,D=k[F++],W[Q++]=D>>>0&255),V[_e++]=D>>>16&255;C=8}A!==t.image_compression.NONE&&e()?(g=n(W,R.width*R.colors,R.colors,A),z=n(V,R.width,1,A)):(g=W,z=V,oe=void 0)}if(R.colorType===3&&(S=this.color_spaces.INDEXED,L=R.palette,R.transparency.indexed)){var xe=R.transparency.indexed,ce=0;for(F=0,O=xe.length;F<O;++F)ce+=xe[F];if((ce/=255)===O-1&&xe.indexOf(0)!==-1)P=[xe.indexOf(0)];else if(ce!==O){for(k=R.decodePixels(),V=new Uint8Array(k.length),F=0,O=k.length;F<O;F++)V[F]=xe[k[F]];z=n(V,R.width,1)}}var M=(function(G){var Z;switch(G){case t.image_compression.FAST:Z=11;break;case t.image_compression.MEDIUM:Z=13;break;case t.image_compression.SLOW:Z=14;break;default:Z=12}return Z})(A);return oe===this.decode.FLATE_DECODE&&(K="/Predictor "+M+" "),K+="/Colors "+U+" /BitsPerComponent "+C+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:N,data:g,index:y,filter:oe,decodeParameters:K,transparency:P,palette:L,sMask:z,predictor:M,width:R.width,height:R.height,bitsPerComponent:C,colorSpace:S}}}})(Jt.API),(function(t){t.processGIF89A=function(e,n,r,i){var a=new afe(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},h=new SS(100).encode(d,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(Jt.API),wl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){kr.log("bit decode error:"+n)}},wl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},wl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},wl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},wl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,d=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=t}},wl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,d=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},wl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},wl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},wl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new wl(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new SS(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}})(Jt.API),_D.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new _D(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new SS(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}})(Jt.API),Jt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],m=r[d+1],g=r[d+2],y=r[d+3];a[l++]=h,a[l++]=m,a[l++]=g,s[c++]=y}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Jt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},sp=Jt.API,Cy=sp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=e.doKerning!==!1,g=0,y=t.length,N=0,A=l[0]||c,S=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=m&&xr(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/h:0,S.push((l[r]||A)/c+g)),N=r;return S},vD=sp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return sp.processArabic&&(t=sp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Cy.apply(this,arguments).reduce((function(a,s){return a+s}),0)},yD=function(t,e,n,r){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<n;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},xD=function(t,e,n){n||(n={});var r,i,a,s,l,c,d,h=[],m=[h],g=n.textIndent||0,y=0,N=0,A=t.split(" "),S=Cy.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var C=Array(c).join(" "),R=[];A.map((function(U){(U=U.split(/\s*\n/)).length>1?R=R.concat(U.map((function(L,z){return(z&&L.length?`
`:"")+L}))):R.push(U[0])})),A=R,c=vD.apply(this,[C,n])}for(a=0,s=A.length;a<s;a++){var P=0;if(r=A[a],c&&r[0]==`
`&&(r=r.substr(1),P=1),g+y+(N=(i=Cy.apply(this,[r,n])).reduce((function(U,L){return U+L}),0))>e||P){if(N>e){for(l=yD.apply(this,[r,i,e-(g+y),e]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);N=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(U,L){return U+L}),0)}else h=[r];m.push(h),g=N+c,y=S}else h.push(r),g+=y+N,y=S}return d=c?function(U,L){return(L?C:"")+U.join(" ")}:function(U){return U.join(" ")},m.map(d)},sp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(xD.apply(this,[r[l],s,a]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var g,y,N,A,S=["{"];for(var C in m){if(g=m[C],isNaN(parseInt(C,10))?y="'"+C+"'":(C=parseInt(C,10),y=(y=a(C).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof g=="number")g<0?(N=a(g).slice(3),A="-"):(N=a(g).slice(2),A=""),N=A+N.slice(0,-1)+r[N.slice(-1)];else{if(xr(g)!=="object")throw new Error("Don't know what to do with value type "+xr(g)+".");N=s(g)}S.push(y+N)}return S.push("}"),S.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,N,A,S={},C=1,R=S,P=[],U="",L="",z=m.length-1,k=1;k<z;k+=1)(A=m[k])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(A):A=="{"?(P.push([R,N]),R={},N=void 0):A=="}"?((y=P.pop())[0][y[1]]=R,N=void 0,R=y[0]):A=="-"?C=-1:N===void 0?n.hasOwnProperty(A)?(U+=n[A],N=parseInt(U,16)*C,C=1,U=""):U+=A:n.hasOwnProperty(A)?(L+=n[A],R[N]=parseInt(L,16)*C,C=1,N=void 0,L=""):L+=A;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var g=m.font,y=h.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var N=d.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])})(Jt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Xg(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Jt),(function(t){function e(){return(rn.canvg?Promise.resolve(rn.canvg):cN(()=>import("./index.es-CyGYFnCK.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}Jt.API.addSvgAsImage=function(n,r,i,a,s,l,c,d){if(isNaN(r)||isNaN(i))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then((function(N){return N.fromString(m,n,g)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(N){return N.render(g)})).then((function(){y.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,d)}))}})(),Jt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Jt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,h=0,m=0;function g(N,A){var S,C=!1;for(S=0;S<N.length;S+=1)N[S]===A&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=l.length;for(m=0;m<y;m+=1)n[l[m]].value=n[l[m]].defaultValue,n[l[m]].explicitSet=!1}if(xr(t)==="object"){for(i in t)if(a=t[i],g(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(h=0;h<a[d].length;h+=1)typeof a[d][h]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var N,A=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?A.push("/"+N+" /"+n[N].value):A.push("/"+N+" "+n[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Jt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,g=a.length;m<g;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,d,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(l=Object.keys(a).sort((function(y,N){return y-N}))).length;m<g;m++)s=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",N=0;N<g.length;N++)y+=String.fromCharCode(g[N]);var A=d();h({data:y,addLength1:!0,objectId:A}),c("endobj");var S=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+up(l.fontName)),c("/FontFile2 "+A+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var R=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+up(l.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+up(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+R+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);var N=d();h({data:g,addLength1:!0,objectId:N}),c("endobj");var A=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var S=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+up(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var C=0;C<l.metadata.hmtx.widths.length;C++)l.metadata.hmtx.widths[C]=parseInt(l.metadata.hmtx.widths[C]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+up(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,h=a.options||{},m=a.mutex||{},g=m.pdfEscape,y=m.activeFontKey,N=m.fonts,A=y,S="",C=0,R="",P=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:m};for(R=l,A=y,Array.isArray(l)&&(R=l[0]),C=0;C<R.length;C+=1)N[A].metadata.hasOwnProperty("cmap")&&(s=N[A].metadata.cmap.unicode.codeMap[R[C].charCodeAt(0)]),s||R[C].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?S+=R[C]:S+="";var U="";return parseInt(A.slice(1))<14||P==="WinAnsiEncoding"?U=g(S,A).split("").map((function(L){return L.charCodeAt(0).toString(16)})).join(""):P==="Identity-H"&&(U=n(S,N[A])),m.isHex=!0,{text:U,x:c,y:d,options:h,mutex:m}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(Jt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Jt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,l,c,d,h,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,P=0;this.__bidiEngine__={};var U=function(B){var D=B.charCodeAt(),F=D>>8,Q=A[F];return Q!==void 0?m[256*Q+(255&D)]:F===252||F===253?"AL":C.test(F)?"L":F===8?"R":"N"},L=function(B){for(var D,F=0;F<B.length;F++){if((D=U(B.charAt(F)))==="L")return!1;if(D==="R")return!0}return!1},z=function(B,D,F,Q){var oe,K,ee,se,_e=D[Q];switch(_e){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(_e="AN");break;case"AL":R=!0,_e="R";break;case"WS":_e="N";break;case"CS":Q<1||Q+1>=D.length||(oe=F[Q-1])!=="EN"&&oe!=="AN"||(K=D[Q+1])!=="EN"&&K!=="AN"?_e="N":R&&(K="AN"),_e=K===oe?K:"N";break;case"ES":_e=(oe=Q>0?F[Q-1]:"B")==="EN"&&Q+1<D.length&&D[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&F[Q-1]==="EN"){_e="EN";break}if(R){_e="N";break}for(ee=Q+1,se=D.length;ee<se&&D[ee]==="ET";)ee++;_e=ee<se&&D[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(se=D.length,ee=Q+1;ee<se&&D[ee]==="NSM";)ee++;if(ee<se){var xe=B[Q],ce=xe>=1425&&xe<=2303||xe===64286;if(oe=D[ee],ce&&(oe==="R"||oe==="AL")){_e="R";break}}}_e=Q<1||(oe=D[Q-1])==="B"?"N":F[Q-1];break;case"B":R=!1,i=!0,_e=P;break;case"S":a=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":_e="N"}return _e},k=function(B,D,F){var Q=B.split("");return F&&O(Q,F,{hiLevel:P}),Q.reverse(),D&&D.reverse(),Q.join("")},O=function(B,D,F){var Q,oe,K,ee,se,_e=-1,xe=B.length,ce=0,M=[],G=P?y:g,Z=[];for(R=!1,i=!1,a=!1,oe=0;oe<xe;oe++)Z[oe]=U(B[oe]);for(K=0;K<xe;K++){if(se=ce,M[K]=z(B,Z,M,K),Q=240&(ce=G[se][N[M[K]]]),ce&=15,D[K]=ee=G[ce][5],Q>0)if(Q===16){for(oe=_e;oe<K;oe++)D[oe]=1;_e=-1}else _e=-1;if(G[ce][6])_e===-1&&(_e=K);else if(_e>-1){for(oe=_e;oe<K;oe++)D[oe]=ee;_e=-1}Z[K]==="B"&&(D[K]=0),F.hiLevel|=ee}a&&(function(de,X,ue){for(var we=0;we<ue;we++)if(de[we]==="S"){X[we]=P;for(var re=we-1;re>=0&&de[re]==="WS";re--)X[re]=P}})(Z,D,xe)},V=function(B,D,F,Q,oe){if(!(oe.hiLevel<B)){if(B===1&&P===1&&!i)return D.reverse(),void(F&&F.reverse());for(var K,ee,se,_e,xe=D.length,ce=0;ce<xe;){if(Q[ce]>=B){for(se=ce+1;se<xe&&Q[se]>=B;)se++;for(_e=ce,ee=se-1;_e<ee;_e++,ee--)K=D[_e],D[_e]=D[ee],D[ee]=K,F&&(K=F[_e],F[_e]=F[ee],F[ee]=K);ce=se}ce++}}},W=function(B,D,F){var Q=B.split(""),oe={hiLevel:P};return F||(F=[]),O(Q,F,oe),(function(K,ee,se){if(se.hiLevel!==0&&h)for(var _e,xe=0;xe<K.length;xe++)ee[xe]===1&&(_e=S.indexOf(K[xe]))>=0&&(K[xe]=S[_e+1])})(Q,F,oe),V(2,Q,D,F,oe),V(1,Q,D,F,oe),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(B,D,F){if((function(oe,K){if(K)for(var ee=0;ee<oe.length;ee++)K[ee]=ee;l===void 0&&(l=L(oe)),d===void 0&&(d=L(oe))})(B,D),s||!c||d)if(s&&c&&l^d)P=l?1:0,B=k(B,D,F);else if(!s&&c&&d)P=l?1:0,B=W(B,D,F),B=k(B,D);else if(!s||l||c||d){if(s&&!c&&l^d)B=k(B,D),l?(P=0,B=W(B,D,F)):(P=1,B=W(B,D,F),B=k(B,D));else if(s&&l&&!c&&d)P=1,B=W(B,D,F),B=k(B,D);else if(!s&&!c&&l^d){var Q=h;l?(P=1,B=W(B,D,F),P=0,h=!1,B=W(B,D,F),h=Q):(P=0,B=W(B,D,F),B=k(B,D),P=1,h=!1,B=W(B,D,F),h=Q,B=k(B,D))}}else P=0,B=W(B,D,F);else P=l?1:0,B=W(B,D,F);return B},this.__bidiEngine__.setOptions=function(B){B&&(s=B.isInputVisual,c=B.isOutputVisual,l=B.isInputRtl,d=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),s=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Jt),Jt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Yd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new bfe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new sfe(this.contents),this.head=new lfe(this),this.name=new hfe(this),this.cmap=new PB(this),this.toUnicode={},this.hhea=new cfe(this),this.maxp=new pfe(this),this.hmtx=new mfe(this),this.post=new dfe(this),this.os2=new ufe(this),this.loca=new xfe(this),this.glyf=new gfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Dl,Yd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),sfe=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,l,c,d,h,m,g,y,N,A;for(A in y=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(y)/c),s=Math.floor(m/c),h=16*y-m,(i=new Yd).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(s),i.writeShort(h),a=16*y,d=i.pos+a,l=null,N=[],n)for(g=n[A],i.writeString(A),i.writeInt(t(g)),i.writeInt(d),i.writeInt(g.length),N=N.concat(g),A==="head"&&(l=d),d+=g.length;d%4;)N.push(0),d++;return i.write(N),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=OB.call(n);n.length%4;)n.push(0);for(a=new Yd(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),ofe={}.hasOwnProperty,Uc=function(t,e){for(var n in e)ofe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Dl=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var lfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Yd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),wD=(function(){function t(e,n){var r,i,a,s,l,c,d,h,m,g,y,N,A,S,C,R,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,a=(function(){var U,L;for(L=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)L.push(e.readUInt16());return L})(),e.pos+=2,A=(function(){var U,L;for(L=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)L.push(e.readUInt16());return L})(),d=(function(){var U,L;for(L=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)L.push(e.readUInt16());return L})(),h=(function(){var U,L;for(L=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)L.push(e.readUInt16());return L})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var U,L;for(L=[],c=U=0;0<=i?U<i:U>i;c=0<=i?++U:--U)L.push(e.readUInt16());return L})(),c=C=0,P=a.length;C<P;c=++C)for(S=a[c],r=R=N=A[c];N<=S?R<=S:R>=S;r=N<=S?++R:--R)h[c]===0?s=r+d[c]:(s=l[h[c]/2+(r-N)-(g-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,a,s,l,c,d,h,m,g,y,N,A,S,C,R,P,U,L,z,k,O,V,W,B,D,F,Q,oe,K,ee,se,_e,xe,ce,M,G,Z,de,X,ue,we,re,Se,Re,Ee;switch(Q=new Yd,s=Object.keys(e).sort((function(We,Ge){return We-Ge})),n){case"macroman":for(A=0,S=(function(){var We=[];for(N=0;N<256;++N)We.push(0);return We})(),R={0:0},a={},oe=0,_e=s.length;oe<_e;oe++)R[re=e[i=s[oe]]]==null&&(R[re]=++A),a[i]={old:e[i],new:R[e[i]]},S[i]=R[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(S),{charMap:a,subtable:Q.data,maxGlyphID:A+1};case"unicode":for(D=[],m=[],P=0,R={},r={},C=d=null,K=0,xe=s.length;K<xe;K++)R[L=e[i=s[K]]]==null&&(R[L]=++P),r[i]={old:L,new:R[L]},l=R[L]-i,C!=null&&l===d||(C&&m.push(C),D.push(i),d=l),C=i;for(C&&m.push(C),m.push(65535),D.push(65535),W=2*(V=D.length),O=2*Math.pow(Math.log(V)/Math.LN2,2),g=Math.log(O/2)/Math.LN2,k=2*V-O,c=[],z=[],y=[],N=ee=0,ce=D.length;ee<ce;N=++ee){if(B=D[N],h=m[N],B===65535){c.push(0),z.push(0);break}if(B-(F=r[B].new)>=32768)for(c.push(0),z.push(2*(y.length+V-N)),i=se=B;B<=h?se<=h:se>=h;i=B<=h?++se:--se)y.push(r[i].new);else c.push(F-B),z.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*V+2*y.length),Q.writeUInt16(0),Q.writeUInt16(W),Q.writeUInt16(O),Q.writeUInt16(g),Q.writeUInt16(k),ue=0,M=m.length;ue<M;ue++)i=m[ue],Q.writeUInt16(i);for(Q.writeUInt16(0),we=0,G=D.length;we<G;we++)i=D[we],Q.writeUInt16(i);for(Se=0,Z=c.length;Se<Z;Se++)l=c[Se],Q.writeUInt16(l);for(Re=0,de=z.length;Re<de;Re++)U=z[Re],Q.writeUInt16(U);for(Ee=0,X=y.length;Ee<X;Ee++)A=y[Ee],Q.writeUInt16(A);return{charMap:r,subtable:Q.data,maxGlyphID:P+1}}},t})(),PB=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new wD(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=wD.encode(n,r),(a=new Yd).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e})(),cfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),ufe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),dfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(n.readUInt32());return d}).call(this)}},e})(),ffe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,s,l,c,d,h,m,g,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},s=m=0,g=i.length;m<g;s=++m)a=i[s],n.pos=a.offset,h=n.readString(a.length),l=new ffe(h,a),d[y=a.nameID]==null&&(d[y]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),pfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),mfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,s,l,c,d;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(n.readInt16());return m})(),this.widths=(function(){var h,m,g,y;for(y=[],h=0,m=(g=this.metrics).length;h<m;h++)s=g[h],y.push(s.advance);return y}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),OB=[].slice,gfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,s,l,c,d,h,m,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Yd(r.read(a))).readShort(),h=c.readShort(),g=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[n]=l===-1?new yfe(c,h,g,d,m):new vfe(c,l,h,g,d,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,s,l,c,d;for(l=[],s=[],c=0,d=r.length;c<d;c++)a=n[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},e})(),vfe=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),yfe=(function(){function t(e,n,r,i,a){var s,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Yd(OB.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),xfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Uc(e,Dl),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*i.length),m=0;m<i.length;++m)h[4*m+3]=255&i[m],h[4*m+2]=(65280&i[m])>>8,h[4*m+1]=(16711680&i[m])>>16,h[4*m]=(4278190080&i[m])>>24;return h},e})(),bfe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,l,c,d,h,m,g,y,N,A,S,C;for(i in r=PB.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),y={0:0},C=r.charMap)y[(c=C[i]).old]=c.new;for(N in g=r.maxGlyphID,s)N in y||(y[N]=g++);return h=(function(R){var P,U;for(P in U={},R)U[R[P]]=P;return U})(y),m=Object.keys(h).sort((function(R,P){return R-P})),A=(function(){var R,P,U;for(U=[],R=0,P=m.length;R<P;R++)l=m[R],U.push(h[l]);return U})(),a=this.font.glyf.encode(s,A,y),d=this.font.loca.encode(a.offsets,A),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t})();Jt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)r=n[l],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();const _fe=({stock:t,clients:e,batches:n,onConfirmSale:r,onBack:i,salesHistory:a})=>{const s=M=>{if(!n)return"";const G=n.find(Z=>Z.id_lote===M);return G?G.fornecedor:""},[l,c]=ye.useState(null),[d,h]=ye.useState([]),[m,g]=ye.useState(""),[y,N]=ye.useState(!1),[A,S]=ye.useState(!1),C=ye.useMemo(()=>{if(!n||n.length===0)return[];const M=new Set(n.filter(G=>G.status==="FECHADO").map(G=>G.id_lote));return t.filter(G=>G.status==="DISPONIVEL"&&M.has(G.id_lote))},[t,n]),[R,P]=ye.useState(new Set),U=M=>{P(G=>{const Z=new Set(G);return Z.has(M)?Z.delete(M):Z.add(M),Z})},L=ye.useMemo(()=>{const M=C.filter(Z=>Z.id_completo.toLowerCase().includes(m.toLowerCase())||Z.id_lote.toLowerCase().includes(m.toLowerCase())),G=new Map;return M.forEach(Z=>{const de=Z.id_lote;G.has(de)||G.set(de,[]),G.get(de).push(Z)}),Array.from(G.entries()).map(([Z,de])=>{const X=new Map;return de.forEach(ue=>{X.has(ue.sequencia)||X.set(ue.sequencia,[]),X.get(ue.sequencia).push(ue)}),{key:Z,items:de,lote:Z,carcasses:Array.from(X.entries()).map(([ue,we])=>({sequencia:ue,parts:we.sort((re,Se)=>re.tipo-Se.tipo),totalCarcassWeight:we.reduce((re,Se)=>re+Se.peso_entrada,0)})).sort((ue,we)=>we.sequencia-ue.sequencia),totalWeight:de.reduce((ue,we)=>ue+we.peso_entrada,0),supplier:s(Z)}}).sort((Z,de)=>de.lote.localeCompare(Z.lote))},[C,m,n]),[z,k]=ye.useState({}),V=d.reduce((M,G)=>{const Z=z[G.id_completo];return M+(Z!==void 0?Z:G.peso_entrada)},0),[W,B]=ye.useState(0),[D,F]=ye.useState(0),Q=V*W,oe=(M,G)=>{k(Z=>({...Z,[M]:G}))},K=M=>{d.find(G=>G.id_completo===M.id_completo)?(h(G=>G.filter(Z=>Z.id_completo!==M.id_completo)),k(G=>{const Z={...G};return delete Z[M.id_completo],Z})):(h(G=>[...G,M]),k(G=>({...G,[M.id_completo]:M.peso_entrada})))},ee=M=>{if(M.every(Z=>d.some(de=>de.id_completo===Z.id_completo)))h(Z=>Z.filter(de=>!M.some(X=>X.id_completo===de.id_completo)));else{const Z=M.filter(de=>!d.some(X=>X.id_completo===de.id_completo));h(de=>[...de,...Z]),Z.forEach(de=>{k(X=>({...X,[de.id_completo]:de.peso_entrada}))})}},se=(M,G)=>{const Z=M.reduce((ue,we)=>ue+we.peso_entrada,0),de={};let X=0;M.forEach((ue,we)=>{if(we===M.length-1)de[ue.id_completo]=parseFloat((G-X).toFixed(2));else{const re=Z>0?ue.peso_entrada/Z:0,Se=parseFloat((G*re).toFixed(2));de[ue.id_completo]=Se,X+=Se}}),k(ue=>({...ue,...de}))},_e=ye.useMemo(()=>{const M=new Map;return d.forEach(G=>{const Z=`${G.id_lote}-${G.sequencia}`;M.has(Z)||M.set(Z,[]),M.get(Z).push(G)}),Array.from(M.values())},[d]),xe=()=>{if(!l||d.length===0){alert("Selecione um cliente e itens para gerar o recibo.");return}const M=Jt?new Jt:null;if(!M)return;const G=M.internal.pageSize.width;M.setFillColor(15,23,42),M.rect(20,15,45,15,"F"),M.setFont("courier","bold"),M.setFontSize(14),M.setTextColor(255,255,255),M.text("THIAGO",25,23),M.setFontSize(16),M.setTextColor(59,130,246),M.text("704",47,26),M.setTextColor(100,116,139),M.setFont("helvetica","bold"),M.setFontSize(8),M.text("EXCELNCIA EM CARNA OPERACIONAL",20,35),M.setTextColor(15,23,42),M.setFontSize(18),M.text("COMPROVANTE DE ENTREGA",G-20,25,{align:"right"}),M.setFontSize(8),M.setFont("helvetica","bold"),M.text(`FRIGOGEST PRO X // ID: ${Date.now()}`,G-20,32,{align:"right"}),M.setDrawColor(226,232,240),M.line(20,40,G-20,40),M.setFont("helvetica","bold"),M.setFontSize(10),M.text("DADOS DO DESTINATRIO",20,50),M.setFont("helvetica","normal"),M.text(`CLIENTE: ${l.nome_social}`,20,58),M.text(`DOCUMENTO: ${l.cpf_cnpj||"N/A"}`,20,64),M.text(`ENDEREO: ${l.endereco||"RETIRADA LOCAL"}`,20,70),M.line(20,80,G-20,80),M.setFont("helvetica","bold"),M.text("DETALHAMENTO DOS ITENS",20,90);let Z=100;M.setFillColor(242,245,248),M.rect(20,Z-6,G-40,9,"F"),M.setFontSize(8),M.setFont("helvetica","bold"),M.text("IDENTIFICAO / DESCRIO",22,Z),M.text("TIPO",80,Z),M.text("LOTE",110,Z),M.text("PESO (KG)",155,Z,{align:"right"}),M.text("VALOR (R$)",190,Z,{align:"right"}),Z+=10,M.setFontSize(9),M.setFont("helvetica","normal");const de=new Map;d.forEach(X=>{const ue=`${X.id_lote}-${X.sequencia}`;de.has(ue)||de.set(ue,[]),de.get(ue).push(X)}),de.forEach((X,ue)=>{const we=X.length>1||X[0].tipo===1,re=X.reduce((Re,Ee)=>Re+(z[Ee.id_completo]||Ee.peso_entrada),0),Se=re*W;M.setTextColor(15,23,42),we&&X.length>1?(M.setFont("helvetica","bold"),M.setFontSize(9),M.text(`CARCASSA INTEIRA #${X[0].sequencia}`,22,Z),M.setFontSize(8),M.setFont("helvetica","normal"),M.text(X[0].id_lote,110,Z),M.text(re.toFixed(2),155,Z,{align:"right"}),M.text(Se.toFixed(2),190,Z,{align:"right"}),Z+=7,M.setFontSize(7),M.setTextColor(100,116,139),X.forEach(Re=>{const Ee=z[Re.id_completo]||Re.peso_entrada;M.text(`   ${Re.tipo===2?"BANDA A":"BANDA B"}`,22,Z),M.text(Ee.toFixed(2)+" kg",155,Z,{align:"right"}),Z+=5}),Z+=3,M.setFontSize(9),M.setTextColor(15,23,42)):we&&X[0].tipo===1?(M.setFont("helvetica","bold"),M.text(`CARCASSA INTEIRA #${X[0].sequencia}`,22,Z),M.setFont("helvetica","normal"),M.text("-",80,Z),M.text(X[0].id_lote,110,Z),M.text(re.toFixed(2),155,Z,{align:"right"}),M.text(Se.toFixed(2),190,Z,{align:"right"}),Z+=8):X.forEach(Re=>{const Ee=z[Re.id_completo]||Re.peso_entrada,We=Ee*W;M.text(Re.id_completo,22,Z),M.text(Re.tipo===1?"INTEIRO":Re.tipo===2?"BANDA A":"BANDA B",80,Z),M.text(Re.id_lote,110,Z),M.text(Ee.toFixed(2),155,Z,{align:"right"}),M.text(We.toFixed(2),190,Z,{align:"right"}),Z+=8}),Z>250&&(M.addPage(),Z=30)}),M.setDrawColor(226,232,240),M.line(20,Z,G-20,Z),Z+=10,M.setFontSize(12),M.setFont("helvetica","bold"),M.setTextColor(59,130,246),M.text("TOTAL DA CARGA:",20,Z),M.setTextColor(15,23,42),M.text(`${V.toFixed(2)} KG`,155,Z,{align:"right"}),M.text(Gt(Q+D),190,Z,{align:"right"}),Z+=40,Z>260&&(M.addPage(),Z=50),M.setDrawColor(15,23,42),M.line(25,Z,95,Z),M.setFontSize(7),M.setFont("helvetica","bold"),M.text("RECEBIDO POR (CLIENTE)",60,Z+5,{align:"center"}),M.setFont("helvetica","normal"),M.text(l.nome_social,60,Z+9,{align:"center"}),M.line(G-95,Z,G-25,Z),M.setFont("helvetica","bold"),M.text("ENTREGUE POR (THIAGO 704)",G-60,Z+5,{align:"center"}),M.setFont("helvetica","normal"),M.text("LOGSTICA OPERACIONAL FG",G-60,Z+9,{align:"center"}),M.save(`RECIBO_THIAGO704_${l.id_ferro}.pdf`)},ce=()=>{if(!l||d.length===0||W<=0){alert(" Preencha todos os dados da venda!");return}confirm("Deseja gerar o Manifesto de Carga (PDF)?")&&xe();const M=d.map(G=>({...G,peso_saida:z[G.id_completo]!==void 0?z[G.id_completo]:G.peso_entrada}));r({client:l,items:M,pricePerKg:W,extrasCost:D}),c(null),h([]),B(0),F(0),N(!0)};return y?f.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-10",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>N(!1),className:"group flex items-center gap-2 px-5 py-2 bg-white border border-slate-200 rounded-full text-xs font-black text-slate-500 hover:text-blue-600 hover:border-blue-100 hover:bg-blue-50 transition-all shadow-sm",children:[f.jsx(Ma,{size:16})," Voltar  Expedio"]}),f.jsxs("button",{onClick:()=>N(!1),className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-xs font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-100 uppercase tracking-widest",children:[f.jsx(Ac,{size:18})," Realizar Outra Venda"]})]}),f.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[f.jsx("div",{className:"bg-slate-900 p-4 rounded-3xl text-white shadow-2xl shadow-slate-200",children:f.jsx(Wd,{size:32})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 italic",children:["LOG de ",f.jsx("span",{className:"text-blue-600",children:"Expedio"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mt-2",children:"Histrico Operacional Cronolgico"})]})]})]}),f.jsx("div",{className:"premium-card overflow-hidden bg-white shadow-xl shadow-slate-100",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Data Valor"}),f.jsx("th",{children:"Entidade Receptora"}),f.jsx("th",{children:"ID Unitrio"}),f.jsx("th",{className:"text-right",children:"Peso Sada"}),f.jsx("th",{className:"text-right",children:"Montante Final"})]})}),f.jsx("tbody",{children:a.slice(0,100).map((M,G)=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(M.data_venda).toLocaleDateString()}),f.jsx("td",{children:f.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',M.nome_cliente||"Mercado Interno",'"']})}),f.jsx("td",{children:f.jsx("span",{className:"text-[10px] text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded border border-slate-100",children:M.id_completo})}),f.jsx("td",{className:"text-right font-black text-slate-900 text-sm",children:Pr(M.peso_real_saida)}),f.jsx("td",{className:"text-right",children:f.jsx("span",{className:"font-black text-blue-600 text-sm",children:Gt(M.peso_real_saida*M.preco_venda_kg)})})]},G))})]})})})]})}):f.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] overflow-hidden animate-reveal font-sans",children:[f.jsxs("div",{className:"h-24 bg-white border-b border-slate-100 flex items-center justify-between px-10 shrink-0 z-50 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-10",children:[f.jsxs("button",{onClick:i,className:"group flex items-center gap-2.5 px-5 py-2.5 bg-slate-50 border border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-blue-600 hover:bg-white hover:border-blue-200 transition-all shadow-sm",children:[f.jsx(Ma,{size:16})," Home"]}),f.jsx("div",{className:"h-10 w-px bg-slate-100"}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:f.jsx(Ac,{size:24})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-black text-slate-900 tracking-tight italic leading-none",children:["Terminal de ",f.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mt-1.5 opacity-60",children:"Expedio Controlada / ID-X-PROC"})]})]})]}),f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-3 px-6 py-3.5 rounded-2xl bg-slate-100 text-slate-600 text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all",children:[f.jsx(Wd,{size:16})," Archive Log"]})})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white/50 backdrop-blur-sm relative",children:[f.jsxs("div",{className:"p-8 pb-4 flex flex-col xl:flex-row gap-6 shrink-0 relative z-10",children:[f.jsxs("div",{className:"flex-1 group",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Entidade Receptora"}),f.jsxs("div",{className:"relative",children:[f.jsx(p1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),f.jsxs("select",{className:"modern-input h-16 pl-12 bg-white font-extrabold text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all cursor-pointer",value:l?JSON.stringify(l):"",onChange:M=>{M.target.value?c(JSON.parse(M.target.value)):c(null)},children:[f.jsx("option",{value:"",children:"-- SELECIONE O CLIENTE --"}),e.sort((M,G)=>M.nome_social.localeCompare(G.nome_social)).map(M=>f.jsxs("option",{value:JSON.stringify(M),children:[M.id_ferro," // ",M.nome_social]},M.id_ferro))]})]})]}),f.jsxs("div",{className:"w-full xl:w-96 group",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Filtro de Logstica"}),f.jsxs("div",{className:"relative",children:[f.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),f.jsx("input",{type:"text",placeholder:"BUSCAR ID OU LOTE...",className:"modern-input h-16 pl-12 bg-white font-black text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all",value:m,onChange:M=>g(M.target.value)})]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-8 pt-4 space-y-6 custom-scrollbar",children:L.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 grayscale",children:[f.jsx(o1,{size:100,className:"mb-6"}),f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"Estoque Indisponvel"})]}):f.jsx("div",{className:"grid grid-cols-1 gap-6",children:L.map(M=>{const G=M.items.every(X=>d.some(ue=>ue.id_completo===X.id_completo)),Z=M.items.some(X=>d.some(ue=>ue.id_completo===X.id_completo)),de=R.has(M.lote);return f.jsxs("div",{className:"bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-md transition-shadow group/batch",children:[f.jsxs("div",{onClick:()=>U(M.lote),className:`p-4 flex items-center justify-between cursor-pointer transition-colors ${de?"bg-slate-50/80 border-b border-slate-100":"bg-white hover:bg-slate-50/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${de?"bg-blue-600 text-white rotate-90":"bg-slate-100 text-slate-400"}`,children:f.jsx(Mc,{size:20})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-0.5",children:["LOTE: ",M.lote]}),f.jsxs("p",{className:"text-xs font-extrabold text-slate-900 uppercase tracking-tighter italic",children:['"',M.supplier||"CARGA PADRO",'"']})]})]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"text-right hidden sm:block",children:[f.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Payload Total"}),f.jsx("p",{className:"text-[12px] font-black text-slate-900",children:Pr(M.totalWeight)})]}),f.jsx("div",{className:"h-8 w-px bg-slate-100 hidden sm:block"}),f.jsx("button",{onClick:X=>{X.stopPropagation(),ee(M.items)},className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${G?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-100 text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,children:G?"LIBERAR":Z?"COMPLETAR":"RESERVAR"})]})]}),de&&f.jsx("div",{className:"overflow-x-auto bg-white animate-reveal",children:f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50/20",children:[f.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest w-12 text-center",children:"Sel"}),f.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Procedncia"}),f.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Tipo"}),f.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Peso (KG)"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-50",children:M.carcasses.map(X=>{const ue=X.parts.every(we=>d.some(re=>re.id_completo===we.id_completo));return f.jsxs(Oe.Fragment,{children:[f.jsxs("tr",{className:"bg-slate-50/10 border-t border-slate-100/50",children:[f.jsx("td",{className:"px-6 py-1 text-center bg-slate-50/20",children:f.jsxs("div",{className:"w-4 h-4 rounded bg-slate-200 flex items-center justify-center text-[7px] font-black text-slate-500",children:["#",X.sequencia]})}),f.jsx("td",{className:"px-4 py-1",colSpan:2,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Carcassa #",X.sequencia]}),f.jsx("button",{onClick:we=>{we.stopPropagation(),ee(X.parts)},className:`px-2 py-0.5 rounded text-[7px] font-black uppercase transition-all ${ue?"bg-blue-600 text-white shadow-sm":"bg-white border border-slate-200 text-slate-400 hover:text-blue-600 hover:border-blue-200"}`,children:ue?"INTEIRA SELECIONADA":"VENDER INTEIRA"})]})}),f.jsx("td",{className:"px-6 py-1 text-right",children:f.jsx("span",{className:"text-[9px] font-black text-slate-400",children:Pr(X.totalCarcassWeight)})})]}),X.parts.map(we=>{const re=d.some(Se=>Se.id_completo===we.id_completo);return f.jsxs("tr",{onClick:()=>K(we),className:`group/row cursor-pointer transition-all ${re?"bg-blue-50/30":"hover:bg-slate-50/50"}`,children:[f.jsx("td",{className:"px-6 py-1.5 text-center",children:f.jsx("div",{className:`w-4 h-4 rounded-md border-2 flex items-center justify-center mx-auto transition-all ${re?"bg-blue-600 border-blue-600 text-white":"border-slate-200 bg-white"}`,children:re&&f.jsx(_u,{size:8,fill:"currentColor",className:"text-white"})})}),f.jsx("td",{className:"px-4 py-1.5",children:f.jsx("span",{className:`text-[10px] font-mono font-bold ${re?"text-blue-700":"text-slate-400"}`,children:we.id_completo})}),f.jsx("td",{className:"px-4 py-1.5 text-center",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${re?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"}`,children:we.tipo===1?"INT":we.tipo===2?"B-A":"B-B"})}),f.jsx("td",{className:"px-6 py-1.5 text-right",children:f.jsx("span",{className:`text-xs font-black tracking-tight ${re?"text-blue-900":"text-slate-900"}`,children:Pr(we.peso_entrada)})})]},we.id_completo)})]},X.sequencia)})})]})})]},M.key)})})})]}),f.jsxs("div",{className:"w-full md:w-[420px] bg-white border-l border-slate-100 flex flex-col shadow-2xl z-40 relative",children:[f.jsxs("div",{className:"p-6 pb-2 shrink-0 border-b border-slate-50",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-slate-900 p-2.5 rounded-xl text-white shadow-lg",children:f.jsx(fR,{size:18})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-base font-black text-slate-900 tracking-tight italic",children:["Manifesto de ",f.jsx("span",{className:"text-blue-600",children:"Sada"})]}),f.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Aguardando Confirmao"})]})]}),d.length>0&&f.jsx("button",{onClick:()=>h([]),className:"text-[10px] font-black text-rose-500 hover:bg-rose-50 px-3 py-1.5 rounded-lg transition-all uppercase tracking-tighter",children:"Limpar Tudo"})]}),f.jsxs("div",{className:`px-4 py-3 rounded-2xl transition-all flex items-center gap-3 ${l?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-50 border border-slate-100 text-slate-300"}`,children:[f.jsx(p1,{size:18,className:l?"text-white":"text-slate-300"}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("p",{className:"text-[10px] font-black uppercase truncate italic",children:l?l.nome_social:"Selecionar Cliente Ativo"})}),d.length>0&&f.jsxs("div",{className:"bg-white/20 px-2 py-0.5 rounded-md text-[9px] font-black",children:[d.length," ITENS"]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar-thin bg-slate-50/30",children:d.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[f.jsx(dh,{size:40,className:"text-slate-300 mb-4"}),f.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Carrinho Vazio"})]}):_e.map((M,G)=>{const Z=M.length>1,de=M.reduce((X,ue)=>X+(z[ue.id_completo]||ue.peso_entrada),0);return f.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"bg-slate-50/50 px-4 py-2 flex justify-between items-center border-b border-slate-100",children:[f.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Animal #",M[0].sequencia," // Lote ",M[0].id_lote]}),!Z&&f.jsx("button",{onClick:()=>K(M[0]),className:"p-1 text-slate-300 hover:text-rose-500 transition-colors",children:f.jsx(Sc,{size:12})}),Z&&f.jsx("button",{onClick:()=>{M.forEach(X=>K(X))},className:"text-[8px] font-black text-rose-500 hover:bg-rose-100 px-2 py-1 rounded transition-all uppercase tracking-tighter",children:"Remover Carcaa"})]}),f.jsx("div",{className:"p-3",children:Z?f.jsxs("div",{className:"flex items-center justify-between bg-blue-50/30 p-3 rounded-xl border border-blue-100/50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white shadow-sm",children:f.jsx(Go,{size:14})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-blue-900 uppercase leading-none mb-1",children:"Carcassa Inteira"}),f.jsxs("p",{className:"text-[8px] font-bold text-blue-400 uppercase tracking-widest",children:[M.length," Cortes Vinculados"]})]})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-[9px] font-black text-blue-600 uppercase tracking-wide mb-1",children:"PESO SADA"}),f.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 border-2 border-blue-400 rounded-xl px-4 py-3",children:[f.jsx(Ep,{size:20,className:"text-blue-600"}),f.jsx("input",{type:"number",step:"0.01",className:"w-32 bg-transparent text-right font-black text-xl text-blue-700 outline-none",value:Number(de.toFixed(2)),onChange:X=>se(M,parseFloat(X.target.value)||0)}),f.jsx("span",{className:"text-sm font-black text-blue-500",children:"KG"})]})]})]}):M.map((X,ue)=>{const we=z[X.id_completo]||X.peso_entrada;return f.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-50 rounded-lg transition-colors group/item",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-[8px] font-bold text-slate-500 font-mono",children:X.id_completo.split("-").pop()}),f.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:X.tipo===1?"INT":X.tipo===2?"B-A":"B-B"})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-[9px] font-black text-blue-500 uppercase mb-1",children:"PESO SADA"}),f.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 border-2 border-blue-300 rounded-xl px-3 py-2",children:[f.jsx("input",{type:"number",step:"0.01",className:"w-28 bg-transparent text-right font-black text-lg text-blue-700 outline-none",value:we,onChange:re=>oe(X.id_completo,parseFloat(re.target.value)||0)}),f.jsx("span",{className:"text-xs font-black text-blue-400",children:"KG"})]})]})]},ue)})})]},G)})}),f.jsxs("div",{className:"shrink-0 bg-slate-900 text-white p-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 opacity-5 pointer-events-none",children:f.jsx(fR,{size:200,className:"rotate-12 translate-x-20 translate-y-20"})}),f.jsxs("div",{className:"relative z-10 space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"R$ Preo / KG"}),f.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:f.jsx("input",{type:"number",step:"0.01",className:"w-full bg-transparent text-white font-black text-xl outline-none",value:W||"",onChange:M=>B(parseFloat(M.target.value)),placeholder:"0.00"})})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"Custos Extras"}),f.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:f.jsx("input",{type:"number",step:"0.01",className:"w-full bg-transparent text-white font-black text-lg outline-none",value:D||"",onChange:M=>F(parseFloat(M.target.value)),placeholder:"0.00"})})]})]}),f.jsxs("div",{className:"pt-4 border-t border-white/10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Subtotal Acumulado"}),f.jsx("h2",{className:"text-3xl font-black text-blue-400 tracking-tighter italic leading-none",children:Gt(Q+D)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Carga ( KG)"}),f.jsx("p",{className:"text-xl font-black text-white italic tracking-tighter leading-none",children:Pr(V)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("button",{onClick:ce,disabled:d.length===0||!l||W<=0,className:"w-full py-4 bg-blue-600 rounded-xl text-white font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-white hover:text-slate-900 transition-all disabled:opacity-20 active:scale-95 shadow-xl shadow-blue-500/20",children:[f.jsx(Go,{size:20})," Confirmar Entrega [THIAGO 704]"]}),f.jsxs("button",{onClick:xe,disabled:d.length===0||!l||W<=0,className:"w-full py-2.5 bg-white/5 border border-white/10 rounded-lg text-white font-black text-[8px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/10 transition-all disabled:opacity-10",children:[f.jsx(u1,{size:14})," Imprimir Comprovante"]})]})]})]})]})]})]}),A&&f.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-xl animate-reveal p-10 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-6xl h-[85vh] flex flex-col overflow-hidden border border-white",children:[f.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:f.jsx($G,{size:28})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Expedio ",f.jsx("span",{className:"text-blue-500",children:"Tetris"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Simulador de Carregamento Industrial"})]})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group",children:f.jsx(Sc,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),f.jsxs("div",{className:"flex-1 p-10 flex flex-col lg:flex-row gap-10 overflow-hidden",children:[f.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[40px] border border-slate-100 p-8 flex flex-col relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:f.jsx(Ac,{size:200})}),f.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] mb-8",children:"Layout Interno do Veculo"}),f.jsxs("div",{className:"flex-1 grid grid-cols-6 grid-rows-8 gap-3 content-start",children:[d.map((M,G)=>f.jsxs("div",{className:`h-16 rounded-xl border flex flex-col items-center justify-center transition-all group hover:scale-[1.05] animate-reveal ${M.tipo===1?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-100 text-slate-900"}`,title:`${M.id_completo} - ${Pr(M.peso_entrada)}`,children:[f.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:M.tipo===1?"INT":M.tipo===2?"B-A":"B-B"}),f.jsx("span",{className:"text-[8px] font-bold opacity-40",children:Pr(M.peso_entrada)})]},G)),Array.from({length:Math.max(0,48-d.length)}).map((M,G)=>f.jsx("div",{className:"h-16 rounded-xl border border-dashed border-slate-200 flex items-center justify-center text-slate-100",children:f.jsx(Gf,{size:16})},G))]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 flex items-center justify-between",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-900"}),f.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Pesados / Inteiros"})]}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),f.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Mdia Estabilidade"})]})]}),f.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Bp,{size:14,className:"text-blue-500"})," Distribua o peso uniformemente"]})]})]}),f.jsxs("div",{className:"w-full lg:w-96 flex flex-col gap-8 shrink-0",children:[f.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-8 text-white shadow-xl shadow-blue-100",children:[f.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-100 mb-2",children:"Resumo do Manifesto"}),f.jsx("h3",{className:"text-4xl font-black italic tracking-tighter",children:Pr(V)}),f.jsxs("div",{className:"mt-8 space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[f.jsx("span",{children:"Items Totais:"}),f.jsxs("span",{children:[d.length," UN"]})]}),f.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[f.jsx("span",{children:"Volume Mdio:"}),f.jsxs("span",{children:[(V/(d.length||1)).toFixed(1)," KG/UN"]})]}),f.jsx("div",{className:"h-px bg-white/10 my-4"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-[11px] font-black uppercase italic",children:"Distribuio de Carga"}),f.jsx("span",{className:"text-sm font-black text-blue-200",children:"OK"})]})]})]}),f.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[32px] p-8 border border-slate-100 overflow-y-auto",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Fila de Carregamento"}),f.jsx("div",{className:"space-y-3",children:d.map((M,G)=>f.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-2xl border border-slate-200/50 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] font-black bg-slate-900 text-white w-5 h-5 flex items-center justify-center rounded-lg",children:G+1}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:["#",M.id_completo.split("-").pop()]}),f.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:M.id_lote})]})]}),f.jsx("span",{className:"text-xs font-black text-blue-600",children:Pr(M.peso_entrada)})]},G))})]})]})]})]})})]})},wfe=({sales:t=[],batches:e=[],stock:n=[],clients:r=[],transactions:i=[],addTransaction:a,deleteTransaction:s,addPartialPayment:l,onBack:c,payables:d=[],addPayable:h,updatePayable:m,deletePayable:g,cleanAllFinancialData:y})=>{const[N,A]=ye.useState("overview"),[S,C]=ye.useState(!1),[R,P]=ye.useState(!1),[U,L]=ye.useState("PENDING"),[z,k]=ye.useState("ALL"),[O,V]=ye.useState("ALL"),[W,B]=ye.useState("ALL"),[D,F]=ye.useState({descricao:"",valor:0,valor_pago:0,categoria:"OPERACIONAL",data_vencimento:new Date().toISOString().split("T")[0],status:"PENDENTE"}),[Q,oe]=ye.useState(()=>{const me=new Date;return me.setDate(1),me.toISOString().split("T")[0]}),[K,ee]=ye.useState(()=>new Date().toISOString().split("T")[0]),[se,_e]=ye.useState(""),[xe,ce]=ye.useState(""),[M,G]=ye.useState(""),[Z,de]=ye.useState(""),[X,ue]=ye.useState(""),[we,re]=ye.useState(""),[Se,Re]=ye.useState(""),[Ee,We]=ye.useState(""),[Ge,ve]=ye.useState({descricao:"",valor:0,tipo:"SAIDA",categoria:"OPERACIONAL",data:new Date().toISOString().split("T")[0]}),[le,lt]=ye.useState(null),[nt,Xe]=ye.useState(new Date().toISOString().split("T")[0]),[He,et]=ye.useState("PIX"),[Ke,at]=ye.useState(""),[Qe,st]=ye.useState("0"),[vt,_t]=ye.useState(""),[It,Tt]=ye.useState(null),[Wt,wt]=ye.useState(""),Yn=me=>{const tt=(me.peso_real_saida||0)*(me.preco_venda_kg||0),$t=me.valor_pago||0;return{valorTotal:tt,valorPago:$t,saldoDevedor:Math.max(0,tt-$t)}},un=me=>{const tt=n.find(Pt=>Pt.id_completo===me.id_completo),$t=(tt==null?void 0:tt.id_lote)||me.id_completo.split("-").slice(0,3).join("-"),nn=tt?e.find(Pt=>Pt.id_lote===tt.id_lote):e.find(Pt=>Pt.id_lote===$t),zt=(me.peso_real_saida||0)*(me.preco_venda_kg||0),Mt=nn&&Number(nn.custo_real_kg)||0,Ht=(me.peso_real_saida||0)*Mt,Fe=me.custo_extras_total||0;return{revenue:zt,cgs:Ht,operationalCost:Fe,netProfit:zt-Ht-Fe}},lr=()=>{if(!le||!Ke)return;const me=parseFloat(Ke.replace(",",".")),tt=parseFloat(Qe.replace(",","."))||0,{saldoDevedor:$t}=Yn(le);if(isNaN(me)||me<=0||me+tt>$t+.01)return alert(" Valor invlido!");l(le.id_venda,me+tt,He,nt),me>0&&a({id:`TR-REC-${le.id_venda}-${Date.now()}`,data:nt,descricao:`Recebimento: ${le.nome_cliente||"Cliente"} - ${le.id_completo}`,tipo:"ENTRADA",categoria:"VENDA",valor:me,metodo_pagamento:He,referencia_id:le.id_venda}),tt>0&&vt&&a({id:`TR-DESC-${le.id_venda}-${Date.now()}`,data:nt,descricao:`DESCONTO: ${vt}`,tipo:"SAIDA",categoria:"DESCONTO",valor:tt,metodo_pagamento:He,referencia_id:le.id_venda}),lt(null),at(""),st("0"),_t("")},bn=()=>{if(!It||!Wt)return;const me=parseFloat(Wt.replace(",",".")),tt=It.valor-(It.valor_pago||0);if(isNaN(me)||me<=0||me>tt+.01)return alert(" Valor invlido!");a({id:`TR-PAY-${It.id}-${Date.now()}`,data:nt,descricao:`Pagamento: ${It.descricao}`,tipo:"SAIDA",categoria:It.categoria,valor:me,metodo_pagamento:He,referencia_id:It.id});const $t=(It.valor_pago||0)+me;m({...It,valor_pago:$t,status:$t>=It.valor-.01?"PAGO":"PARCIAL",data_pagamento:new Date().toISOString().split("T")[0]}),Tt(null),wt("")},_n=()=>{if(!Ge.descricao||!Ge.valor)return alert("Preencha todos os campos.");a({id:`TR-${Date.now()}`,descricao:Ge.descricao,valor:Number(Ge.valor),tipo:Ge.tipo,categoria:Ge.categoria,data:Ge.data,metodo_pagamento:"DINHEIRO",referencia_id:""}),C(!1)},bi=ye.useMemo(()=>e.filter(me=>me.status==="FECHADO"),[e]),dn=ye.useMemo(()=>new Set(bi.map(me=>me.id_lote)),[bi]),ya=bi.length>0,$n=ye.useMemo(()=>i.filter(me=>{var tt,$t,nn;return!me.referencia_id||dn.has(me.referencia_id)||(tt=me.id)!=null&&tt.startsWith("TR-REC-")||($t=me.id)!=null&&$t.startsWith("TR-PAY-")||me.categoria==="VENDA"||(nn=me.id)!=null&&nn.startsWith("TR-DESC-")||me.categoria==="DESCONTO"||!me.referencia_id.includes("-")?!0:!ya}),[i,dn,ya]),pr=ye.useMemo(()=>$n.filter(me=>me.data>=Q&&me.data<=K).sort((me,tt)=>tt.data.localeCompare(me.data)),[$n,Q,K]),si=$n.reduce((me,tt)=>me+(tt.tipo==="ENTRADA"?tt.valor:-tt.valor),0),yn=ye.useMemo(()=>t.filter(tt=>{const $t=tt.id_completo.split("-")[0]+"-"+tt.id_completo.split("-")[1]+"-"+tt.id_completo.split("-")[2];return dn.has($t)}).filter(tt=>Yn(tt).saldoDevedor>.01).sort((tt,$t)=>tt.data_vencimento.localeCompare($t.data_vencimento)),[t,dn]),Bt=ye.useMemo(()=>yn.reduce((me,tt)=>me+Yn(tt).saldoDevedor,0),[yn]),on=new Date().toISOString().split("T")[0];yn.filter(me=>me.data_vencimento<on);const xa=new Date(Date.now()-30*864e5).toISOString().split("T")[0],Br=yn.filter(me=>me.data_vencimento<xa),di=Array.from(new Set(Br.map(me=>me.nome_cliente||"Desconhecido"))),Xr=ye.useMemo(()=>n.filter(me=>me.status==="DISPONIVEL").reduce((me,tt)=>{const $t=bi.find(zt=>zt.id_lote===tt.id_lote),nn=$t&&Number($t.custo_real_kg)||0;return me+tt.peso_entrada*nn},0),[n,bi]),Ot=ye.useMemo(()=>ya?d.filter(me=>{if(me.id_lote)return dn.has(me.id_lote);if(me.categoria==="COMPRA_GADO"&&me.descricao){const tt=me.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);return tt?dn.has(tt[1]):!1}return!0}).reduce((me,tt)=>me+(tt.valor-(tt.valor_pago||0)),0):0,[d,dn,ya]),Jr=ye.useMemo(()=>t.filter(tt=>{const $t=tt.id_completo.split("-")[0]+"-"+tt.id_completo.split("-")[1]+"-"+tt.id_completo.split("-")[2];return dn.has($t)}).reduce((tt,$t)=>{const nn=un($t);return{revenue:tt.revenue+nn.revenue,cgs:tt.cgs+nn.cgs,ops:tt.ops+nn.operationalCost,profit:tt.profit+nn.netProfit}},{revenue:0,cgs:0,ops:0,profit:0}),[t,n,bi,dn]),br=ye.useMemo(()=>{const tt=t.filter(Mt=>Mt.data_venda===on).reduce((Mt,Ht)=>Mt+Ht.peso_real_saida*Ht.preco_venda_kg,0),$t=d.filter(Mt=>!Mt.descricao.includes("COMPRA")&&Mt.categoria!=="COMPRA_GADO").reduce((Mt,Ht)=>Mt+Ht.valor,0),nn=Math.max(800,$t/30),zt=Math.min(100,tt/nn*100);return{revenueToday:tt,estimatedDailyCost:nn,breakEvenProgress:zt}},[t,d,on]),qr=ye.useMemo(()=>{const me=new Map;return t.forEach(tt=>{const $t=un(tt),nn=tt.nome_cliente||"Direto";me.has(nn)||me.set(nn,{revenue:0,profit:0,volume:0});const zt=me.get(nn);zt.revenue+=$t.revenue,zt.profit+=$t.netProfit,zt.volume+=tt.peso_real_saida}),Array.from(me.entries()).map(([tt,$t])=>({name:tt,...$t})).sort((tt,$t)=>$t.revenue-tt.revenue)},[t,n,e]),cr=ye.useMemo(()=>{const me=t.reduce((Ht,Fe)=>Ht+Fe.peso_real_saida*Fe.preco_venda_kg,0),tt=t.reduce((Ht,Fe)=>Ht+(Fe.valor_pago||0),0),$t=me>0?tt/me*100:100,nn=Jr.cgs,zt=Xr,Mt=zt>0?nn/zt:0;return{efficacy:$t,turnover:Mt}},[t,Jr,Xr]);return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:c,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl shadow-slate-200",children:f.jsx(cR,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controladoria ",f.jsx("span",{className:"text-blue-600",children:"Finanas"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Fluxo de Caixa & Resultados / ID-FIN"})]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:["overview","cashflow","receivables","payables","suppliers","profit"].map(me=>f.jsx("button",{onClick:()=>A(me),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${N===me?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:me==="overview"?"Viso Geral":me==="cashflow"?"Fluxo Caixa":me==="receivables"?"A Receber":me==="payables"?"A Pagar":me==="suppliers"?"Fornecedores":"DRE"},me))}),f.jsxs("button",{onClick:()=>{window.confirm(` LIMPAR DADOS FINANCEIROS?

Isso vai te levar para a tela de Configuraes Avanadas onde voc pode:

 Limpar todos os dados de teste
 Manter clientes e fornecedores
 Recomear com sistema limpo

Deseja continuar?`)&&(c(),alert(' Agora clique em " Configuraes Avanadas" e depois em "Limpar Dados de Teste"'))},className:"btn-modern bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-2xl gap-2 shadow-xl text-[10px] font-black uppercase tracking-widest whitespace-nowrap",children:[f.jsx(Zf,{size:16})," Limpar Dados Antigos"]})]})]}),N==="overview"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Saldo em Caixa",value:Gt(si),icon:m1,color:"blue"},{label:"Contas a Receber",value:Gt(Bt),icon:h1,color:"emerald"},{label:"Valor em Estoque",value:Gt(Xr),icon:VS,color:"amber"},{label:"Total a Pagar",value:Gt(Ot),icon:f1,color:"rose"}].map((me,tt)=>f.jsxs("div",{className:"premium-card p-8 flex flex-col gap-5 group hover:-translate-y-1 transition-all",children:[f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all group-hover:scale-110 ${me.color==="blue"?"bg-blue-50 text-blue-600":me.color==="emerald"?"bg-emerald-50 text-emerald-600":me.color==="amber"?"bg-amber-50 text-amber-600":"bg-rose-50 text-rose-600"}`,children:f.jsx(me.icon,{size:24})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:me.label}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:me.value})]})]},tt))}),f.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative overflow-hidden shadow-2xl shadow-blue-900/10",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-5 pointer-events-none transform rotate-12",children:f.jsx(nG,{size:300})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 relative z-10",children:[f.jsxs("div",{className:"lg:col-span-7",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[f.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:f.jsx(e9,{size:18,className:"text-white"})}),f.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Ponto de Equilbrio ",f.jsx("span",{className:"text-blue-500",children:"Hoje"})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Faturamento Real (Hoje)"}),f.jsx("p",{className:"text-4xl font-black text-white",children:Gt(br.revenueToday)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Custo Op. Estimado (Dia)"}),f.jsx("p",{className:"text-xl font-black text-slate-300",children:Gt(br.estimatedDailyCost)})]})]}),f.jsx("div",{className:"relative h-4 bg-white/5 rounded-full overflow-hidden border border-white/10 p-0.5",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${br.breakEvenProgress>=100?"bg-emerald-500 rounded-r-lg shadow-[0_0_20px_rgba(16,185,129,0.5)]":"bg-blue-600 rounded-r-lg shadow-[0_0_20px_rgba(37,99,235,0.3)]"}`,style:{width:`${br.breakEvenProgress}%`}})}),f.jsxs("div",{className:"flex justify-between font-mono text-[9px] font-black uppercase tracking-[0.2em]",children:[f.jsx("span",{className:"text-slate-600",children:"0% Incio"}),br.breakEvenProgress>=100?f.jsxs("span",{className:"text-emerald-500 flex items-center gap-2 group cursor-help",children:["LUCRO LQUIDO ATIVADO ",f.jsx(zS,{size:12,className:"animate-bounce"})]}):f.jsxs("span",{className:"text-blue-500",children:["Faltam ",Gt(Math.max(0,br.estimatedDailyCost-br.revenueToday))," p/ Ponto de Equilbrio"]}),f.jsxs("span",{className:"text-slate-600",children:["Alvo: ",Gt(br.estimatedDailyCost)]})]})]}),f.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 border-t border-white/5 pt-10",children:[f.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 group hover:bg-white/10 transition-all cursor-default",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Total Ativos"}),f.jsxs("p",{className:"text-2xl font-black text-emerald-400 group-hover:scale-105 transition-transform",children:["+",Gt(si+Bt+Xr)]})]}),f.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 group hover:bg-white/10 transition-all cursor-default",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Total Passivos"}),f.jsxs("p",{className:"text-2xl font-black text-rose-400 group-hover:scale-105 transition-transform",children:["-",Gt(Ot)]})]})]})]}),f.jsx("div",{className:"lg:col-span-5 flex flex-col justify-between",children:f.jsxs("div",{className:"bg-blue-600/10 backdrop-blur-3xl rounded-[40px] p-8 border border-blue-400/10 text-center mb-8 h-full flex flex-col justify-center",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-600/20",children:f.jsx(Go,{size:32})}),f.jsx("h4",{className:"text-xl font-black mb-2 uppercase tracking-tighter italic",children:"Status Fiscal CORE"}),f.jsx("p",{className:"text-[10px] font-bold text-blue-300 uppercase tracking-widest mb-6",children:"Integridade de Dados Verificada"}),f.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 text-[9px] font-mono text-blue-200/50 uppercase tracking-widest",children:["SYNC_TOKEN: ",Math.random().toString(36).substring(7).toUpperCase()]})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[f.jsx(rW,{size:16,className:"text-amber-500"})," Top 5 Clientes (Curva ABC)"]}),f.jsx("div",{className:"px-3 py-1 bg-amber-50 rounded-full text-[9px] font-black text-amber-600 uppercase",children:"Faturamento"})]}),f.jsx("div",{className:"space-y-6",children:qr.slice(0,5).map((me,tt)=>f.jsxs("div",{className:"flex items-center justify-between group",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs ${tt===0?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-400 group-hover:bg-slate-100"}`,children:tt===0?f.jsx(vG,{size:16}):tt+1}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-[11px] font-black text-slate-800 uppercase italic",children:['"',me.name,'"']}),f.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[Pr(me.volume)," movimentados"]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm font-black text-slate-900",children:Gt(me.revenue)}),f.jsxs("p",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:["+ ",Gt(me.profit)," lucro"]})]})]},tt))})]}),f.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[f.jsx(uW,{size:16,className:"text-blue-600"})," Industrial Analytics"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"})]})]}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-blue-200 transition-all",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Eficcia de Recebimento"}),f.jsxs("span",{className:"text-xs font-black text-blue-600",children:[cr.efficacy.toFixed(1),"%"]})]}),f.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${Math.min(100,cr.efficacy)}%`}})})]}),f.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-emerald-200 transition-all",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Giro de Ativo (Estoque)"}),f.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[cr.turnover.toFixed(1),"x / ciclo"]})]}),f.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000",style:{width:`${Math.min(100,cr.turnover*10)}%`}})})]})]}),f.jsxs("div",{className:"mt-10 p-6 bg-slate-900 rounded-3xl text-center relative overflow-hidden group hover:scale-[1.02] transition-transform cursor-pointer",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-125 transition-transform",children:f.jsx(zS,{size:48})}),f.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-2",children:"Ponto de Alavancagem"}),f.jsx("p",{className:"text-white text-[11px] font-bold text-center leading-relaxed",children:"Reduza o custo operacional em 5% para antecipar o Ponto de Equilbrio em 45 minutos dirios."})]})]})]})]})]}),N==="cashflow"&&f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[f.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white shadow-2xl shadow-blue-900/20",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shadow-[0_0_12px_rgba(59,130,246,0.8)]"}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em]",children:"Saldo Atualizado"})]}),f.jsx("h3",{className:`text-5xl font-black tracking-tighter mb-12 ${si>=0?"text-white":"text-rose-400"}`,children:Gt(si)}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>{C(!0),ve({...Ge,tipo:"ENTRADA"})},className:"w-full btn-modern bg-blue-600 hover:bg-white hover:text-blue-700 text-white py-5 rounded-2xl gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-widest",children:[f.jsx(Gf,{size:20})," Lanar Entrada"]}),f.jsxs("button",{onClick:()=>{C(!0),ve({...Ge,tipo:"SAIDA"})},className:"w-full btn-modern bg-white/5 border border-white/10 hover:bg-rose-600 text-white py-5 rounded-2xl gap-4 transition-all font-black text-xs uppercase tracking-widest",children:[f.jsx(c1,{size:20})," Lanar Sada"]})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx(lR,{size:16,className:"text-blue-600"})," Parmetros de Filtro"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Inicial"}),f.jsx("input",{type:"date",className:"modern-input h-14",value:Q,onChange:me=>oe(me.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Final"}),f.jsx("input",{type:"date",className:"modern-input h-14",value:K,onChange:me=>ee(me.target.value)})]})]})]})]}),f.jsx("div",{className:"lg:col-span-8",children:f.jsxs("div",{className:"premium-card overflow-hidden",children:[f.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap justify-between items-center gap-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Buffer de Movimentaes"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"px-4 py-1.5 bg-white rounded-full border border-slate-100 text-[10px] font-black text-slate-900 shadow-sm",children:[pr.length," Registros"]}),f.jsxs("button",{onClick:()=>{const me=new Jt,tt=me.internal.pageSize.width;me.setFillColor(15,23,42),me.rect(15,10,tt-30,28,"F"),me.setFont("courier","bold"),me.setFontSize(28),me.setTextColor(255,255,255),me.text("THIAGO",22,28),me.setFontSize(32),me.setTextColor(59,130,246),me.text("704",68,32),me.setFillColor(59,130,246),me.rect(15,38,tt-30,2,"F"),me.setFont("helvetica","bold"),me.setFontSize(14),me.setTextColor(15,23,42),me.text("FLUXO DE CAIXA",tt/2,50,{align:"center"}),me.setFontSize(10),me.setTextColor(100,116,139),me.text(`Perodo: ${Q}  a  ${K}`,tt/2,58,{align:"center"}),me.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,tt/2,65,{align:"center"}),me.setDrawColor(200,200,200),me.line(15,70,tt-15,70);const $t=pr.filter(Ht=>Ht.tipo==="ENTRADA").reduce((Ht,Fe)=>Ht+Fe.valor,0),nn=pr.filter(Ht=>Ht.tipo==="SAIDA").reduce((Ht,Fe)=>Ht+Fe.valor,0),zt=$t-nn;me.setFont("helvetica","bold"),me.setFontSize(11),me.setTextColor(16,185,129),me.text(`ENTRADAS:  R$ ${$t.toFixed(2)}`,18,80),me.setTextColor(239,68,68),me.text(`SADAS:  R$ ${nn.toFixed(2)}`,85,80),me.setTextColor(15,23,42),me.text(`SALDO:  R$ ${zt.toFixed(2)}`,148,80),me.setDrawColor(200,200,200),me.line(15,86,tt-15,86);let Mt=96;me.setFillColor(235,240,245),me.rect(15,Mt-6,tt-30,10,"F"),me.setFontSize(9),me.setFont("helvetica","bold"),me.setTextColor(15,23,42),me.text("DATA",18,Mt),me.text("DESCRIO",48,Mt),me.text("CATEGORIA",125,Mt),me.text("VALOR",tt-18,Mt,{align:"right"}),Mt+=10,me.setFontSize(10),pr.forEach(Ht=>{Mt>270&&(me.addPage(),Mt=25),me.setFont("helvetica","bold"),me.setTextColor(80,80,80),me.text(new Date(Ht.data).toLocaleDateString("pt-BR"),18,Mt),me.setTextColor(15,23,42),me.text((Ht.descricao||"").substring(0,38),48,Mt),me.setFontSize(8),me.setTextColor(100,116,139),me.text(Ht.categoria||"",125,Mt),me.setFontSize(10),me.setFont("helvetica","bold"),Ht.tipo==="ENTRADA"?me.setTextColor(16,185,129):me.setTextColor(239,68,68),me.text(`${Ht.tipo==="ENTRADA"?"+":"-"} R$ ${Ht.valor.toFixed(2)}`,tt-18,Mt,{align:"right"}),Mt+=8}),Mt+=8,me.setFillColor(15,23,42),me.rect(15,Mt,tt-30,12,"F"),me.setFont("courier","bold"),me.setFontSize(8),me.setTextColor(255,255,255),me.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",tt/2,Mt+8,{align:"center"}),me.save(`FLUXO_CAIXA_${Q}_${K}.pdf`)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-sm",children:[f.jsx(u1,{size:14})," Exportar PDF"]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-24",children:"Data"}),f.jsx("th",{children:"Histrico Operacional"}),f.jsx("th",{children:"Vnculo / Categoria"}),f.jsx("th",{className:"text-right",children:"Valor Lquido"})]})}),f.jsxs("tbody",{children:[pr.map(me=>f.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[f.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(me.data).toLocaleDateString()}),f.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs truncate max-w-sm italic",children:['"',me.descricao,'"']}),f.jsx("td",{children:f.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest bg-slate-50 px-3 py-1 rounded-lg border border-slate-100",children:me.categoria})}),f.jsxs("td",{className:`text-right font-black text-sm ${me.tipo==="ENTRADA"?"text-emerald-600":"text-rose-600"}`,children:[me.tipo==="ENTRADA"?"+":"-"," ",Gt(me.valor)]})]},me.id)),pr.length===0&&f.jsx("tr",{children:f.jsxs("td",{colSpan:4,className:"py-32 text-center",children:[f.jsx(_s,{size:64,className:"mx-auto mb-6 text-slate-100"}),f.jsx("p",{className:"font-black text-[10px] uppercase text-slate-300 tracking-[0.4em]",children:"Nenhum registro no perodo"})]})})]})]})})]})})]}),N==="receivables"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[di.length>0&&f.jsxs("div",{className:"bg-rose-600 rounded-[40px] text-white p-10 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-rose-900/20 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(Go,{size:160})}),f.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[f.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center backdrop-blur-lg",children:f.jsx(Bp,{size:40})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-3xl font-black tracking-tight uppercase leading-none italic mb-2",children:"Protocolo de Inadimplncia"}),f.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest max-w-sm",children:"Detectamos pendncias crticas com mais de 30 dias de atraso nas transaes."})]})]}),f.jsx("button",{onClick:()=>k("CRITICAL"),className:"btn-modern bg-white text-rose-600 px-10 py-5 rounded-2xl hover:bg-slate-900 hover:text-white transition-all shadow-xl font-black text-xs uppercase tracking-widest mt-6 md:mt-0 relative z-10",children:"Auditar Inadimplentes"})]}),f.jsxs("div",{className:"premium-card overflow-hidden bg-white shadow-xl",children:[f.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap gap-6 items-center",children:[f.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-auto flex items-center gap-2",children:[f.jsx(Wd,{size:16,className:"text-blue-600"})," Fila de Compensao"]}),f.jsxs("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-inner",children:[f.jsx("button",{onClick:()=>k("ALL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${z==="ALL"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Todos"}),f.jsx("button",{onClick:()=>k("OVERDUE"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${z==="OVERDUE"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Vencidos"}),f.jsx("button",{onClick:()=>k("CRITICAL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${z==="CRITICAL"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Crticos"})]})]}),f.jsxs("div",{className:"px-8 py-4 bg-white border-b border-slate-50 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Cliente"}),f.jsxs("select",{value:we,onChange:me=>re(me.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[f.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(yn.map(me=>me.nome_cliente||"Desconhecido"))).sort().map(me=>f.jsx("option",{value:me,children:me},me))]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),f.jsxs("select",{value:X,onChange:me=>ue(me.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[f.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(yn.map(me=>me.id_completo.split("-").slice(0,3).join("-")))).sort().map(me=>f.jsx("option",{value:me,children:me},me))]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),f.jsx("input",{type:"date",value:Se,onChange:me=>Re(me.target.value),className:"modern-input h-10 py-0 text-xs"})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),f.jsx("input",{type:"date",value:Ee,onChange:me=>We(me.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Status de Risco"}),f.jsx("th",{children:"Entidade / Destino"}),f.jsx("th",{className:"text-right",children:"Saldo Devedor"}),f.jsx("th",{className:"w-56 text-center",children:"Operaes"})]})}),f.jsxs("tbody",{children:[yn.filter(me=>{if(we&&me.nome_cliente!==we||X&&!me.id_completo.includes(X)||Se&&me.data_vencimento<Se||Ee&&me.data_vencimento>Ee)return!1;const tt=me.data_vencimento<on;return z==="OVERDUE"?tt:z==="CRITICAL"?me.data_vencimento<xa:!0}).sort((me,tt)=>tt.data_vencimento.localeCompare(me.data_vencimento)).map(me=>{const{saldoDevedor:tt}=Yn(me),$t=me.data_vencimento<on,nn=Math.ceil(Math.abs(new Date(on).getTime()-new Date(me.data_vencimento).getTime())/864e5);return f.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${$t?"bg-rose-50/10":""}`,children:[f.jsx("td",{children:f.jsx("span",{className:`text-[11px] font-extrabold ${$t?"text-rose-600":"text-slate-400"}`,children:new Date(me.data_vencimento).toLocaleDateString()})}),f.jsx("td",{children:f.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest inline-flex border ${$t?"bg-rose-50 text-rose-600 border-rose-100 shadow-sm":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:$t?`${nn} DIAS DE ATRASO`:"DENTRO DO PRAZO"})}),f.jsxs("td",{children:[f.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',me.nome_cliente||"Mercado Geral",'"']}),f.jsxs("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:["Comp: ",me.id_completo]})]}),f.jsx("td",{className:"text-right",children:f.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Gt(tt)})}),f.jsx("td",{className:"text-center",children:f.jsxs("button",{onClick:()=>lt(me),className:"btn-modern bg-slate-900 text-white py-2.5 px-6 rounded-xl text-[9px] uppercase font-black tracking-widest hover:bg-emerald-600 gap-2 shadow-lg group-hover:scale-105 transition-all",children:[f.jsx(m1,{size:14})," Efetuar Baixa"]})})]},me.id_venda)}),yn.length===0&&f.jsx("tr",{children:f.jsxs("td",{colSpan:5,className:"py-32 text-center opacity-20",children:[f.jsx(_u,{size:80,className:"mx-auto mb-6"}),f.jsx("p",{className:"font-black text-xs uppercase tracking-[0.6em]",children:"Nenhuma pendncia ativa"})]})})]})]})})]})]}),N==="payables"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[f.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ALL","PENDING","LATE","PAID"].map(me=>f.jsx("button",{onClick:()=>L(me),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${U===me?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:me==="ALL"?"Tudo":me==="PENDING"?"Em Aberto":me==="LATE"?"Crticas":"Liquidadas"},me))}),f.jsxs("button",{onClick:()=>P(!0),className:"btn-modern bg-blue-600 text-white hover:bg-slate-900 px-8 py-4 rounded-2xl gap-3 shadow-xl shadow-blue-900/10 font-black text-xs uppercase tracking-widest",children:[f.jsx(Gf,{size:20})," Nova Obrigao"]})]}),f.jsxs("div",{className:"premium-card overflow-hidden shadow-xl",children:[f.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-b border-slate-100 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),f.jsxs("select",{value:se,onChange:me=>_e(me.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[f.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(d.map(me=>me.id_lote).filter(Boolean))).sort().map(me=>f.jsx("option",{value:me,children:me},me))]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Fornecedor"}),f.jsxs("select",{value:xe,onChange:me=>ce(me.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[f.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(d.map(me=>{const tt=me.descricao.split(" - ");return tt.length>1?tt[tt.length-1]:null}).filter(Boolean))).sort().map(me=>f.jsx("option",{value:me,children:me},me))]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),f.jsx("input",{type:"date",value:M,onChange:me=>G(me.target.value),className:"modern-input h-10 py-0 text-xs"})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),f.jsx("input",{type:"date",value:Z,onChange:me=>de(me.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-20 text-center",children:"STS"}),f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Entidade / Descrio do Passivo"}),f.jsx("th",{className:"text-right",children:"Saldo Remanescente"}),f.jsx("th",{className:"w-40 text-center",children:"Buffer Ao"})]})}),f.jsx("tbody",{children:d.filter(me=>se&&me.id_lote!==se&&!(me.descricao&&me.descricao.includes(se))||xe&&!(me.descricao&&me.descricao.includes(xe))||M&&me.data_vencimento<M||Z&&me.data_vencimento>Z?!1:U==="ALL"?!0:U==="LATE"?me.status!=="PAGO"&&me.data_vencimento<on:U==="PENDING"?me.status!=="PAGO":me.status==="PAGO").sort((me,tt)=>tt.data_vencimento.localeCompare(me.data_vencimento)).map(me=>{const tt=me.status!=="PAGO"&&me.data_vencimento<on;return f.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${tt?"bg-rose-50/10":""}`,children:[f.jsx("td",{className:"text-center",children:f.jsx("div",{className:`w-3.5 h-3.5 rounded-full mx-auto transition-all ${me.status==="PAGO"?"bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.5)]":tt?"animate-pulse bg-rose-600 shadow-[0_0_12px_rgba(225,29,72,0.5)]":"bg-slate-200 shadow-inner"}`})}),f.jsx("td",{className:"text-[11px] font-extrabold text-slate-400 group-hover:text-slate-900",children:new Date(me.data_vencimento).toLocaleDateString()}),f.jsxs("td",{children:[f.jsxs("p",{className:"font-extrabold text-slate-800 uppercase text-xs italic transition-all group-hover:translate-x-1",children:['"',me.descricao,'"']}),f.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded-md mt-1 inline-block border border-slate-100",children:me.categoria})]}),f.jsx("td",{className:"text-right",children:f.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Gt(me.valor-(me.valor_pago||0))})}),f.jsx("td",{className:"text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-3",children:[me.status!=="PAGO"&&f.jsx("button",{onClick:()=>{Tt(me),wt((me.valor-(me.valor_pago||0)).toFixed(2).replace(".",","))},className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm",children:f.jsx(Hf,{size:18})}),f.jsx("button",{onClick:()=>g(me.id),className:"w-10 h-10 bg-slate-50 text-slate-300 hover:bg-rose-50 hover:text-rose-600 rounded-xl transition-all flex items-center justify-center",children:f.jsx(Zf,{size:18})})]})})]},me.id)})})]})})]})]}),N==="profit"&&f.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Receita Bruta Acumulada",value:Jr.revenue,color:"blue",icon:h1},{label:"Custo Logstico (CGS)",value:Jr.cgs,color:"rose",icon:Ac},{label:"Fator Extras / Operacional",value:Jr.ops,color:"orange",icon:MW},{label:"Lucro Lquido Sincronizado",value:Jr.profit,color:"emerald",large:!0,icon:_s}].map((me,tt)=>f.jsxs("div",{className:`premium-card p-10 flex flex-col justify-center gap-6 relative overflow-hidden group transition-all hover:-translate-y-2 ${me.large?"bg-slate-900 text-white shadow-2xl shadow-blue-900/30":"bg-white"}`,children:[me.large&&f.jsx("div",{className:"absolute top-[-10%] right-[-10%] opacity-10 pointer-events-none transform rotate-12",children:f.jsx(me.icon,{size:160})}),f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 ${me.large?"bg-blue-600 text-white":"bg-slate-50 text-slate-400 group-hover:bg-slate-900 group-hover:text-white transition-colors"}`,children:f.jsx(me.icon,{size:22})}),f.jsxs("div",{children:[f.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${me.large?"text-blue-400":"text-slate-400"} mb-2`,children:me.label}),f.jsx("h3",{className:`text-4xl font-black tracking-tight ${me.large?"text-blue-100":"text-slate-900"}`,children:Gt(me.value)})]})]},tt))}),f.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-slate-50/10 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-inner animate-pulse",children:f.jsx(K7,{size:48,className:"text-slate-200"})}),f.jsx("h4",{className:"font-black text-xs uppercase tracking-[0.8em] text-slate-300",children:"Visualizao de Grficos Analticos"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-200 uppercase tracking-widest mt-4",children:"Processando Motor de Inteligncia BI..."})]})]})]}),N==="suppliers"&&(()=>{const me=new Map;d.filter(Fe=>Fe.categoria==="COMPRA_GADO").forEach(Fe=>{let Pt=Fe.fornecedor_id||"";if(!Pt&&Fe.descricao){const qt=Fe.descricao.split(" - ");qt.length>1&&(Pt=qt[qt.length-1].trim())}Pt||(Pt="No Identificado"),me.has(Pt)||me.set(Pt,[]),me.get(Pt).push({descricao:Fe.descricao,lote:Fe.id_lote||(Fe.descricao.match(/LOTE-[A-Z0-9]+-\d+/)||[""])[0]||"-",valor:Fe.valor,valorPago:Fe.valor_pago||0,dataPagamento:Fe.data_pagamento||"-",dataVencimento:Fe.data_vencimento,status:Fe.status})}),i.filter(Fe=>Fe.tipo==="SAIDA"&&Fe.categoria==="COMPRA_GADO"&&!Fe.id.startsWith("TR-PAY-")).forEach(Fe=>{var jr,Mr;let Pt="";if(Fe.descricao){const jn=Fe.descricao.split(" - ");jn.length>1&&(Pt=jn[jn.length-1].trim())}Pt||(Pt="No Identificado");const qt=((jr=Fe.descricao)==null?void 0:jr.match(/LOTE-[A-Z0-9]+-\d+/))||((Mr=Fe.referencia_id)==null?void 0:Mr.match(/LOTE-[A-Z0-9]+-\d+/));me.has(Pt)||me.set(Pt,[]),me.get(Pt).push({descricao:Fe.descricao||"",lote:qt?qt[0]:Fe.referencia_id||"-",valor:Fe.valor,valorPago:Fe.valor,dataPagamento:Fe.data,dataVencimento:Fe.data,status:"PAGO"})});const tt=Array.from(me.entries()).sort((Fe,Pt)=>Fe[0].localeCompare(Pt[0])),$t=tt.map(([Fe])=>Fe),nn=Array.from(new Set(tt.flatMap(([,Fe])=>Fe.map(Pt=>Pt.lote)).filter(Fe=>Fe&&Fe!=="-"))).sort(),zt=(O==="ALL"?tt:tt.filter(([Fe])=>Fe===O)).map(([Fe,Pt])=>[Fe,W==="ALL"?Pt:Pt.filter(qt=>qt.lote===W)]).filter(([,Fe])=>Fe.length>0),Mt=zt.reduce((Fe,[,Pt])=>Fe+Pt.reduce((qt,jr)=>qt+jr.valor,0),0),Ht=zt.reduce((Fe,[,Pt])=>Fe+Pt.reduce((qt,jr)=>qt+jr.valorPago,0),0);return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 animate-reveal",children:[f.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[f.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[f.jsx(lR,{size:12,className:"text-blue-500"}),f.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:O,onChange:Fe=>V(Fe.target.value),children:[f.jsx("option",{value:"ALL",children:"TODOS FORNECEDORES"}),$t.map(Fe=>f.jsx("option",{value:Fe,children:Fe},Fe))]})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[f.jsx(zW,{size:12,className:"text-blue-500"}),f.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:W,onChange:Fe=>B(Fe.target.value),children:[f.jsx("option",{value:"ALL",children:"TODOS LOTES"}),nn.map(Fe=>f.jsx("option",{value:Fe,children:Fe},Fe))]})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[f.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Fornecedores"}),f.jsx("span",{className:"text-lg font-black text-slate-900",children:zt.length})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[f.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Total"}),f.jsx("span",{className:"text-lg font-black text-slate-900",children:Gt(Mt)})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[f.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-wider",children:"Pago"}),f.jsx("span",{className:"text-lg font-black text-emerald-600",children:Gt(Ht)})]}),Mt-Ht>.01&&f.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[f.jsx("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-wider",children:"Pendente"}),f.jsx("span",{className:"text-lg font-black text-orange-500",children:Gt(Mt-Ht)})]}),f.jsxs("button",{onClick:()=>{const Fe=new Jt,Pt=Fe.internal.pageSize.width;Fe.setFillColor(15,23,42),Fe.rect(15,10,Pt-30,28,"F"),Fe.setFont("courier","bold"),Fe.setFontSize(28),Fe.setTextColor(255,255,255),Fe.text("THIAGO",22,28),Fe.setFontSize(32),Fe.setTextColor(59,130,246),Fe.text("704",68,32),Fe.setFillColor(59,130,246),Fe.rect(15,38,Pt-30,2,"F"),Fe.setFont("helvetica","bold"),Fe.setFontSize(14),Fe.setTextColor(15,23,42),Fe.text("PAGAMENTOS A FORNECEDORES",Pt/2,50,{align:"center"}),Fe.setFontSize(10),Fe.setTextColor(100,116,139),Fe.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,Pt/2,58,{align:"center"}),Fe.setDrawColor(200,200,200),Fe.line(15,63,Pt-15,63),Fe.setFont("helvetica","bold"),Fe.setFontSize(11),Fe.setTextColor(15,23,42),Fe.text(`TOTAL:  R$ ${Mt.toFixed(2)}`,18,73),Fe.setTextColor(16,185,129),Fe.text(`PAGO:  R$ ${Ht.toFixed(2)}`,85,73),Mt-Ht>.01&&(Fe.setTextColor(239,68,68),Fe.text(`PENDENTE:  R$ ${(Mt-Ht).toFixed(2)}`,148,73)),Fe.line(15,79,Pt-15,79);let qt=90;zt.forEach(([jr,Mr])=>{qt>255&&(Fe.addPage(),qt=25);const jn=Mr.reduce((Hn,La)=>Hn+La.valor,0),Dr=Mr.reduce((Hn,La)=>Hn+La.valorPago,0);Fe.setFillColor(230,235,242),Fe.rect(15,qt-5,Pt-30,10,"F"),Fe.setFont("helvetica","bold"),Fe.setFontSize(10),Fe.setTextColor(15,23,42),Fe.text(`${jr}  (${Mr.length})`,18,qt+1),Fe.setFontSize(9),Fe.text(`Total: R$ ${jn.toFixed(2)}`,115,qt+1),Fe.setTextColor(16,185,129),Fe.text(`Pago: R$ ${Dr.toFixed(2)}`,158,qt+1),qt+=10,Fe.setFontSize(8),Fe.setFont("helvetica","bold"),Fe.setTextColor(100,116,139),Fe.text("DATA",22,qt),Fe.text("LOTE",52,qt),Fe.text("VALOR",120,qt,{align:"right"}),Fe.text("PAGO",152,qt,{align:"right"}),Fe.text("STATUS",Pt-18,qt,{align:"right"}),qt+=7,Fe.setFont("helvetica","bold"),Fe.setFontSize(9),Mr.forEach(Hn=>{qt>270&&(Fe.addPage(),qt=25),Fe.setTextColor(80,80,80),Fe.text(Hn.dataPagamento!=="-"?new Date(Hn.dataPagamento).toLocaleDateString("pt-BR"):"-",22,qt),Fe.setTextColor(59,130,246),Fe.text(Hn.lote,52,qt),Fe.setTextColor(15,23,42),Fe.text(`R$ ${Hn.valor.toFixed(2)}`,120,qt,{align:"right"}),Fe.setTextColor(16,185,129),Fe.text(Hn.valorPago>0?`R$ ${Hn.valorPago.toFixed(2)}`:"-",152,qt,{align:"right"}),Fe.setTextColor(Hn.status==="PAGO"?16:Hn.status==="PARCIAL"?234:239,Hn.status==="PAGO"?185:Hn.status==="PARCIAL"?138:68,Hn.status==="PAGO"?129:Hn.status==="PARCIAL"?42:68),Fe.text(Hn.status,Pt-18,qt,{align:"right"}),qt+=7}),qt+=5}),qt+=8,qt>280&&(Fe.addPage(),qt=25),Fe.setFillColor(15,23,42),Fe.rect(15,qt,Pt-30,12,"F"),Fe.setFont("courier","bold"),Fe.setFontSize(8),Fe.setTextColor(255,255,255),Fe.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",Pt/2,qt+8,{align:"center"}),Fe.save(`FORNECEDORES_${new Date().toISOString().split("T")[0]}.pdf`)},className:"bg-blue-600 text-white rounded-xl px-4 py-2 shadow-sm flex items-center gap-2 text-[9px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all",children:[f.jsx(u1,{size:14})," Exportar PDF"]})]}),f.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[f.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Fornecedor"}),f.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Data Pgto"}),f.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Lote"}),f.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),f.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Pago"}),f.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center",children:"Status"})]})}),f.jsx("tbody",{children:zt.map(([Fe,Pt])=>{const qt=Pt.reduce((jn,Dr)=>jn+Dr.valor,0),jr=Pt.reduce((jn,Dr)=>jn+Dr.valorPago,0),Mr=[...Pt].sort((jn,Dr)=>Dr.dataVencimento.localeCompare(jn.dataVencimento));return f.jsxs(Oe.Fragment,{children:[f.jsxs("tr",{className:"bg-slate-100/80 border-t-2 border-slate-200",children:[f.jsx("td",{className:"px-3 py-1.5 font-black text-xs text-slate-800 uppercase",colSpan:3,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ac,{size:12,className:"text-blue-500"}),Fe,f.jsxs("span",{className:"text-[8px] font-bold text-slate-400 ml-1",children:["(",Pt.length,")"]})]})}),f.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-slate-700",children:Gt(qt)}),f.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-emerald-600",children:Gt(jr)}),f.jsx("td",{className:"px-3 py-1.5 text-center",children:qt-jr>.01&&f.jsxs("span",{className:"text-[8px] font-black text-orange-500",children:["DEVE ",Gt(qt-jr)]})})]}),Mr.map((jn,Dr)=>f.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/40 transition-colors",children:[f.jsx("td",{className:"px-3 py-1.5 pl-8 text-[10px] text-slate-300",children:""}),f.jsx("td",{className:"px-3 py-1.5 text-[10px] font-semibold text-slate-500",children:jn.dataPagamento!=="-"?new Date(jn.dataPagamento).toLocaleDateString():"-"}),f.jsx("td",{className:"px-3 py-1.5",children:f.jsx("span",{className:"text-[9px] font-mono font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100",children:jn.lote})}),f.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-slate-700",children:Gt(jn.valor)}),f.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-emerald-600",children:jn.valorPago>0?Gt(jn.valorPago):"-"}),f.jsx("td",{className:"px-3 py-1.5 text-center",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${jn.status==="PAGO"?"bg-emerald-50 text-emerald-600":jn.status==="PARCIAL"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:jn.status})})]},Dr))]},Fe)})})]})})}),zt.length===0&&f.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center",children:[f.jsx(Ac,{size:40,className:"mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"font-black text-[9px] uppercase text-slate-300 tracking-[0.3em]",children:"Nenhum pagamento a fornecedor registrado"})]})]})})(),(le||It||S||R)&&f.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-xl animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-lg overflow-hidden flex flex-col border border-white relative",children:[f.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white relative",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:f.jsx(cR,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:"Terminal Financeiro"}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizador de Dados Ativo"})]}),f.jsx("button",{onClick:()=>{lt(null),Tt(null),C(!1),P(!1)},className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group relative z-10",children:f.jsx(Sc,{size:24,className:"text-white group-hover:rotate-90 transition-transform"})})]}),f.jsxs("div",{className:"p-12 space-y-10 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[le&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"p-8 bg-slate-50 rounded-[32px] border border-slate-100 shadow-inner relative",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Compensao de Cliente"}),f.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',le.nome_cliente,'"']}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[f.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-2 tracking-widest",children:"Saldo Pendente em Buffer"}),f.jsx("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:Gt(Yn(le).saldoDevedor)})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor Recebido (R$)"}),f.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-20 text-4xl font-black text-center bg-blue-50/30 border-blue-100",value:Ke,onChange:me=>at(me.target.value)})]}),f.jsxs("div",{className:"p-6 bg-orange-50/50 border-2 border-orange-100 rounded-3xl space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center",children:f.jsx(c1,{size:20,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Desconto por Avaria"}),f.jsx("p",{className:"text-[9px] font-bold text-orange-400 uppercase tracking-wider",children:"Carne machucada / Transporte"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Valor do Desconto (R$)"}),f.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-16 text-2xl font-black text-center bg-white border-orange-200",value:Qe,onChange:me=>st(me.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Motivo do Desconto"}),f.jsx("input",{type:"text",placeholder:"Ex: CARNE MACHUCADA NO TRANSPORTE",className:"modern-input h-14 text-xs bg-white border-orange-200 uppercase",value:vt,onChange:me=>_t(me.target.value.toUpperCase())})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Forma de Recebimento"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{className:"modern-input h-14 bg-slate-50/30 appearance-none font-black text-xs uppercase cursor-pointer w-full",value:He,onChange:me=>et(me.target.value),children:[f.jsx("option",{value:"PIX",children:" PIX"}),f.jsx("option",{value:"DINHEIRO",children:" DINHEIRO"}),f.jsx("option",{value:"CHEQUE",children:" CHEQUE"}),f.jsx("option",{value:"TRANSFERENCIA",children:" TRANSFERNCIA"}),f.jsx("option",{value:"BOLETO",children:" BOLETO"}),f.jsx("option",{value:"CARTAO",children:" CARTO"}),f.jsx("option",{value:"OUTROS",children:" OUTROS"})]}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:f.jsx(Mc,{size:16,className:"rotate-90"})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Recebimento"}),f.jsx("input",{type:"date",className:"modern-input h-14 font-bold text-xs",value:nt,onChange:me=>Xe(me.target.value)})]})]}),f.jsxs("div",{className:"p-6 bg-slate-900 rounded-3xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Recebido:"}),f.jsx("span",{className:"text-lg font-black text-white",children:Gt(parseFloat(Ke.replace(",","."))||0)})]}),f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Desconto:"}),f.jsxs("span",{className:"text-lg font-black text-orange-400",children:["- ",Gt(parseFloat(Qe.replace(",","."))||0)]})]}),f.jsx("div",{className:"h-px bg-white/10 my-4"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Total Baixado:"}),f.jsx("span",{className:"text-3xl font-black text-white",children:Gt((parseFloat(Ke.replace(",","."))||0)+(parseFloat(Qe.replace(",","."))||0))})]}),f.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[f.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Via:"}),f.jsx("span",{className:"text-sm font-black text-blue-400 uppercase",children:He})]})]}),f.jsx("button",{onClick:lr,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Recebimento"})]}),S&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Histrico do Registro"}),f.jsx("input",{type:"text",placeholder:"Ex: Manuteno da Frota",className:"modern-input h-16 bg-slate-50/30",value:Ge.descricao,onChange:me=>ve({...Ge,descricao:me.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante (R$)"}),f.jsx("input",{type:"number",placeholder:"0.00",className:"modern-input h-16 font-black text-xl",value:Ge.valor||"",onChange:me=>ve({...Ge,valor:parseFloat(me.target.value)})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Valor"}),f.jsx("input",{type:"date",className:"modern-input h-16",value:Ge.data,onChange:me=>ve({...Ge,data:me.target.value})})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Classificao Contbil"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{className:"modern-input h-16 bg-slate-50/30 appearance-none font-bold text-xs uppercase cursor-pointer",value:Ge.categoria,onChange:me=>ve({...Ge,categoria:me.target.value}),children:[f.jsx("option",{value:"OPERACIONAL",children:"OPERACIONAL"}),f.jsx("option",{value:"ESTRUTURA",children:"SEDENTARES / SEDE"}),f.jsx("option",{value:"FUNCIONARIOS",children:"SARGENTOS / FUNCIONRIOS"}),f.jsx("option",{value:"COMPRA_GADO",children:"MATRIA PRIMA / GADO"})]}),f.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:f.jsx(Mc,{size:20,className:"rotate-90"})})]})]}),f.jsx("button",{onClick:_n,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-2xl shadow-blue-900/10 transition-all font-black uppercase tracking-widest text-xs",children:"Efetuar Registro"})]}),R&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Identificao do Passivo"}),f.jsx("input",{type:"text",placeholder:"Ex: Tributos Estaduais",className:"modern-input h-16 bg-slate-50/30",value:D.descricao,onChange:me=>F({...D,descricao:me.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor da Dvida"}),f.jsx("input",{type:"number",placeholder:"0.00",className:"modern-input h-16 font-black text-xl",value:D.valor||"",onChange:me=>F({...D,valor:parseFloat(me.target.value)})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Vencimento Fixo"}),f.jsx("input",{type:"date",className:"modern-input h-16",value:D.data_vencimento,onChange:me=>F({...D,data_vencimento:me.target.value})})]})]}),f.jsx("button",{onClick:()=>{h({...D,id:`PAY-${Date.now()}`,status:"PENDENTE"}),P(!1)},className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-orange-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Agendar para Ciclo"})]}),It&&f.jsxs("div",{className:"space-y-8 animate-reveal",children:[f.jsxs("div",{className:"p-8 bg-rose-50 border border-rose-100 rounded-[32px] shadow-inner",children:[f.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-3",children:"Baixa de Passivo / Sada"}),f.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',It.descricao,'"']}),f.jsx("p",{className:"text-4xl font-black text-rose-600 mt-8 tracking-tight",children:Gt(It.valor-(It.valor_pago||0))})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante da Liquidao"}),f.jsx("input",{type:"text",className:"modern-input h-20 text-4xl font-black text-center bg-rose-50/30 border-rose-100",value:Wt,onChange:me=>wt(me.target.value)})]}),f.jsx("button",{onClick:bn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Pagamento"})]})]}),f.jsx("div",{className:"p-8 bg-slate-50/50 text-center border-t border-slate-50 relative z-10",children:f.jsx("p",{className:"text-[8px] font-black text-slate-200 uppercase tracking-[0.5em]",children:"FG-FIN-TERMINAL v2.5.5"})})]})})]})},Afe=({stock:t,batches:e,sales:n,clients:r,initialSearchTerm:i,onBack:a,onGoToSales:s})=>{const[l,c]=ye.useState(i||""),[d,h]=ye.useState(i?"client":"date"),[m,g]=ye.useState(new Set),y=P=>{const U=new Set(m);U.has(P)?U.delete(P):U.add(P),g(U)},N=ye.useMemo(()=>n.map(P=>{const U=t.find(B=>B.id_completo===P.id_completo),L=(U==null?void 0:U.id_lote)||P.id_completo.split("-").slice(0,3).join("-"),z=e.find(B=>B.id_lote===L),k=r.find(B=>B.id_ferro===P.id_cliente),O=P.peso_real_saida*P.preco_venda_kg,V=z&&Number(z.custo_real_kg)||0,W=P.peso_real_saida*V+(P.custo_extras_total||0);return{sale:P,item:U,batch:z,client:k,revenue:O,cost:W,profit:O-W}}).filter(P=>{var L,z,k,O;if(!l)return!0;const U=l.toLowerCase();return((L=P.sale.nome_cliente)==null?void 0:L.toLowerCase().includes(U))||((z=P.item)==null?void 0:z.id_completo.toLowerCase().includes(U))||((k=P.batch)==null?void 0:k.id_lote.toLowerCase().includes(U))||((O=P.batch)==null?void 0:O.fornecedor.toLowerCase().includes(U))}).sort((P,U)=>U.sale.data_venda.localeCompare(P.sale.data_venda)),[n,t,e,r,l]),A=ye.useMemo(()=>N.reduce((P,U)=>({revenue:P.revenue+U.revenue,cost:P.cost+U.cost,profit:P.profit+U.profit,count:P.count+1}),{revenue:0,cost:0,profit:0,count:0}),[N]),S=ye.useMemo(()=>{const P=new Map;return N.forEach(U=>{var z,k;let L="";if(d==="date"){const O=new Date(U.sale.data_venda);L=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}`}else d==="client"?L=((z=U.client)==null?void 0:z.id_ferro)||"unknown":d==="batch"&&(L=((k=U.batch)==null?void 0:k.id_lote)||"unknown");P.has(L)||P.set(L,[]),P.get(L).push(U)}),Array.from(P.entries()).map(([U,L])=>{const z=L.reduce((W,B)=>W+B.revenue,0),k=L.reduce((W,B)=>W+B.cost,0),O=L.reduce((W,B)=>W+B.profit,0);let V=U;return d==="date"?V=new Date(L[0].sale.data_venda).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).toUpperCase():d==="client"?V=L[0].client?L[0].client.nome_social:L[0].sale.nome_cliente||"CLIENTE_DESCONHECIDO":d==="batch"&&(V=L[0].batch?`LOTE_${L[0].batch.id_lote}`:"SEM_LOTE"),{id:U,label:V,items:L,totalRevenue:z,totalCost:k,totalProfit:O,mostRecentDate:L[0].sale.data_venda}}).sort((U,L)=>L.mostRecentDate.localeCompare(U.mostRecentDate))},[N,d]),C=()=>{const P=N.map(({sale:U,item:L,batch:z,revenue:k,cost:O,profit:V})=>({DATA:U.data_venda,CLIENTE:U.nome_cliente,ITEM_ID:(L==null?void 0:L.id_completo)||"N/A",LOTE:(z==null?void 0:z.id_lote)||"N/A",PESO_SAIDA:U.peso_real_saida,PRECO_KG:U.preco_venda_kg,RECEITA:k,LUCRO:V}));wK(P,`FRIGOGEST_HIST_${new Date().toISOString().split("T")[0]}.csv`)},R=P=>{var k;const U=new Jt,L=U.internal.pageSize.width;U.setFont("helvetica","bold"),U.setFontSize(18),U.text("RECIBO DE EXPEDIO",L/2,25,{align:"center"}),U.setFontSize(10),U.setFont("helvetica","normal"),U.text(`FRIGOGEST INDUSTRIAL  ${new Date().toLocaleDateString()}`,L/2,32,{align:"center"}),U.line(20,40,L-20,40),U.setFont("helvetica","bold"),U.text("DADOS DA VENDA",20,50),U.setFont("helvetica","normal"),U.text(`CLIENTE: ${((k=P.nome_cliente)==null?void 0:k.toUpperCase())||"Venda Direta"}`,20,58),U.text(`DATA: ${P.data_venda}`,20,64),U.text(`ID VENDA: ${P.id_venda}`,20,70),U.line(20,80,L-20,80),U.text("ITEM",20,90),U.text("PESO (KG)",100,90,{align:"right"}),U.text("VALOR (R$)",140,90,{align:"right"}),U.text("SUBTOTAL (R$)",180,90,{align:"right"});const z=P.peso_real_saida*P.preco_venda_kg;U.text(P.id_completo,20,100),U.text(P.peso_real_saida.toFixed(2),100,100,{align:"right"}),U.text(P.preco_venda_kg.toFixed(2),140,100,{align:"right"}),U.text(z.toFixed(2),180,100,{align:"right"}),U.line(20,110,L-20,110),U.setFont("helvetica","bold"),U.text("TOTAL GERAL:",140,120,{align:"right"}),U.text(Gt(z),180,120,{align:"right"}),U.save(`RECIBO_${P.id_venda.substring(0,8)}.pdf`)};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),s&&f.jsxs("button",{onClick:s,className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-sm font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-200 uppercase tracking-wider animate-pulse hover:animate-none",children:[f.jsx(Ep,{size:20})," FAZER NOVA VENDA"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:f.jsx(Wd,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Histrico de ",f.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Registro de Expedio / ID-LOG"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto items-center",children:[f.jsxs("div",{className:"relative group flex-1 md:flex-none md:min-w-[300px]",children:[f.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),f.jsx("input",{type:"text",placeholder:"Pesquisar registros...",className:"modern-input pl-12 h-12 text-sm",value:l,onChange:P=>c(P.target.value)})]}),f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm shrink-0",children:[{id:"date",label:"Data"},{id:"client",label:"Cliente"},{id:"batch",label:"Lote"}].map(P=>f.jsx("button",{onClick:()=>h(P.id),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${d===P.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:P.label},P.id))}),f.jsx("button",{onClick:C,className:"w-12 h-12 rounded-2xl bg-white border border-slate-100 flex items-center justify-center text-slate-500 hover:bg-blue-600 hover:text-white transition-all shadow-sm",children:f.jsx(X7,{size:20})})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Faturamento Total",val:A.revenue,icon:Hf,color:"blue"},{label:"Custo de Mercadoria",val:A.cost,icon:f1,color:"slate"},{label:"Margem Lquida",val:A.profit,icon:h1,color:"emerald"}].map((P,U)=>f.jsxs("div",{className:"premium-card p-8 flex flex-col gap-4 group hover:translate-x-1 transition-all",children:[f.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${P.color==="blue"?"blue":P.color==="emerald"?"emerald":"slate"}-50 text-${P.color==="blue"?"blue":P.color==="emerald"?"emerald":"slate"}-600 flex items-center justify-center`,children:f.jsx(P.icon,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:P.label}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:Gt(P.val)})]})]},U))}),f.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:S.map(P=>{const U=m.has(P.id);return f.jsxs("div",{className:`premium-card p-0 overflow-hidden transition-all ${U?"ring-2 ring-blue-500/10":""}`,children:[f.jsxs("div",{onClick:()=>y(P.id),className:`p-6 flex flex-col md:flex-row items-center justify-between cursor-pointer transition-all gap-8 ${U?"bg-slate-900 text-white":"bg-white hover:bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[f.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border font-bold ${U?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40":"bg-slate-50 text-slate-400 border-slate-100"}`,children:[d==="date"&&f.jsx(vm,{size:20}),d==="client"&&f.jsx(p1,{size:20}),d==="batch"&&f.jsx(dh,{size:20})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-lg font-black uppercase tracking-tight ${U?"text-white":"text-slate-900"}`,children:P.label}),f.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest mt-1 text-slate-400",children:[P.items.length," Operaes registradas"]})]})]}),f.jsxs("div",{className:"flex items-center gap-10 w-full md:w-auto justify-between md:justify-end",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Receita"}),f.jsx("p",{className:"font-black text-sm",children:Gt(P.totalRevenue)})]}),f.jsxs("div",{className:"text-right border-l border-white/10 pl-10",children:[f.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Resultado"}),f.jsx("p",{className:`font-black text-sm ${P.totalProfit>=0?U?"text-blue-400":"text-blue-600":"text-rose-500"}`,children:Gt(P.totalProfit)})]}),f.jsx("div",{className:`transition-all duration-300 ${U?"rotate-90 text-blue-400":"text-slate-300"}`,children:f.jsx(Mc,{size:24})})]})]}),U&&f.jsx("div",{className:"p-0 animate-reveal overflow-x-auto bg-white",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Data"}),f.jsx("th",{children:"Destinatrio"}),f.jsx("th",{children:"ID Item"}),f.jsx("th",{className:"text-right",children:"Peso Sada"}),f.jsx("th",{className:"text-right",children:"Quebra (KG)"}),f.jsx("th",{className:"text-right",children:"Valor Venda"}),f.jsx("th",{className:"text-right",children:"Margem"}),f.jsx("th",{className:"text-center",children:"Aes"})]})}),f.jsx("tbody",{children:P.items.map((L,z)=>{var O,V;const k=(((O=L.item)==null?void 0:O.peso_entrada)||0)-L.sale.peso_real_saida;return f.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[f.jsx("td",{className:"text-[10px] font-bold text-slate-400",children:new Date(L.sale.data_venda).toLocaleDateString()}),f.jsx("td",{className:"font-extrabold uppercase text-xs text-slate-900 truncate max-w-[150px]",children:L.sale.nome_cliente||"Loja Fsica"}),f.jsx("td",{className:"font-mono text-[9px] text-slate-400",children:((V=L.item)==null?void 0:V.id_completo)||"N/A"}),f.jsx("td",{className:"text-right font-black text-slate-900",children:Pr(L.sale.peso_real_saida)}),f.jsx("td",{className:`text-right font-black ${k>0?"text-orange-600":"text-emerald-600"}`,children:Pr(k)}),f.jsx("td",{className:"text-right font-black text-slate-900",children:Gt(L.revenue)}),f.jsx("td",{className:`text-right font-black ${L.profit>=0?"text-blue-600":"text-rose-600"}`,children:Gt(L.profit)}),f.jsx("td",{className:"text-center",children:f.jsx("button",{onClick:()=>R(L.sale),className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 hover:bg-slate-900 hover:text-white transition-all flex items-center justify-center",children:f.jsx(u1,{size:16})})})]},z)})})]})})]},P.id)})})]})};var Sfe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Efe,Nfe;function Tfe(){return{geminiUrl:Efe,vertexUrl:Nfe}}function Cfe(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Tfe();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fu{}function kt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];w(h,e.slice(a+1),n[d])}else for(const d of c)w(d,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];w(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(l=>x(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Ife(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&a.length>l)for(let c=l;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}_N(t,i,a,0,s)}}function _N(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])_N(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of l)c[d]=s[d];for(const[d,h]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(d):m.push(g);w(s,m,h)}for(const d of l)delete s[d]}}else{const s=t;a in s&&_N(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rfe(t){const e={},n=x(t,["operationName"]);n!=null&&w(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function kfe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],Ofe(s)),e}function Pfe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],jfe(s)),e}function Ofe(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Mfe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function jfe(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Dfe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Mfe(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],Vfe(n)),e}function Dfe(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],zfe(n)),e}function Lfe(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function Ffe(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function Ufe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],Bfe(s)),e}function Bfe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function jB(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],qfe(s)),e}function qfe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Vfe(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],wC(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function zfe(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],wC(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(AD||(AD={}));var SD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(SD||(SD={}));var ED;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ED||(ED={}));var Dd;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Dd||(Dd={}));var ND;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ND||(ND={}));var TD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(TD||(TD={}));var CD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(CD||(CD={}));var ID;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ID||(ID={}));var RD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(RD||(RD={}));var kD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kD||(kD={}));var PD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(PD||(PD={}));var OD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(OD||(OD={}));var jD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(jD||(jD={}));var MD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(MD||(MD={}));var DD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(DD||(DD={}));var LD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(LD||(LD={}));var FD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(FD||(FD={}));var UD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(UD||(UD={}));var BD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(BD||(BD={}));var qD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(qD||(qD={}));var VD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(VD||(VD={}));var gx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(gx||(gx={}));var zD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zD||(zD={}));var $D;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($D||($D={}));var HD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(HD||(HD={}));var wN;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wN||(wN={}));var GD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(GD||(GD={}));var WD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(WD||(WD={}));var KD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(KD||(KD={}));var YD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(YD||(YD={}));var XD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(XD||(XD={}));var JD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(JD||(JD={}));var QD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(QD||(QD={}));var ZD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ZD||(ZD={}));var eL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eL||(eL={}));var tL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(tL||(tL={}));var nL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nL||(nL={}));var rL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(rL||(rL={}));var iL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(iL||(iL={}));var aL;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(aL||(aL={}));var sL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(sL||(sL={}));var oL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(oL||(oL={}));var lL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(lL||(lL={}));var cL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(cL||(cL={}));var uL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(uL||(uL={}));var dL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(dL||(dL={}));var fL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(fL||(fL={}));var hL;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(hL||(hL={}));var pL;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(pL||(pL={}));var mL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mL||(mL={}));var gL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gL||(gL={}));var vL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vL||(vL={}));var yL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yL||(yL={}));var xL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xL||(xL={}));var bL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(bL||(bL={}));var _p;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_p||(_p={}));class AN{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ig{get text(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const g of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,N]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(N!==null||N!==void 0)&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&(y!==null||y!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class _L{}class wL{}class $fe{}class Hfe{}class Gfe{}class Wfe{}class AL{}class SL{}class EL{}class Kfe{}class vx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vx;let i;const a=e;return n?i=Pfe(a):i=kfe(a),Object.assign(r,i),r}}class NL{}class TL{}class CL{}class IL{}class Yfe{}class Xfe{}class Jfe{}class AC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new AC,a=Ufe(e);return Object.assign(r,a),r}}class Qfe{}class Zfe{}class ehe{}class RL{}class the{get text(){var e,n,r;let i="",a=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&a.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class nhe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class SC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new SC,a=jB(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ir(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function MB(t,e){const n=ir(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function DB(t){return Array.isArray(t)?t.map(e=>yx(e)):[yx(t)]}function yx(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function LB(t){const e=yx(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FB(t){const e=yx(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function UB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kL(e)):[kL(t)]}function SN(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function PL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function OL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ss(t){if(t==null)throw new Error("ContentUnion is required");return SN(t)?t:{role:"user",parts:UB(t)}}function EC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ss(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ss(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ss(n)):[ss(e)]}function Ho(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(PL(t)||OL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ss(t)]}const e=[],n=[],r=SN(t[0]);for(const i of t){const a=SN(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(PL(i)||OL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:UB(n)}),e}function rhe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Dd).includes(n[0].toUpperCase())?n[0].toUpperCase():Dd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Dd).includes(r.toUpperCase())?r.toUpperCase():Dd.TYPE_UNSPECIFIED})}}function jp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&rhe(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Dd).includes(l.toUpperCase())?l.toUpperCase():Dd.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=jp(l);else if(r.includes(s)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(jp(d))}e[s]=c}else if(i.includes(s)){const c={};for(const[d,h]of Object.entries(l))c[d]=jp(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function NC(t){return jp(t)}function TC(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function CC(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Cm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jp(e.response));return t}function Im(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ihe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Uu(t,e){if(typeof e!="string")throw new Error("name must be a string");return ihe(t,e,"cachedContents")}function BB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function df(t){return wC(t)}function ahe(t){return t!=null&&typeof t=="object"&&"name"in t}function she(t){return t!=null&&typeof t=="object"&&"video"in t}function ohe(t){return t!=null&&typeof t=="object"&&"uri"in t}function qB(t){var e;let n;if(ahe(t)&&(n=t.name),!(ohe(t)&&(n=t.uri,n===void 0))&&!(she(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function VB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function zB(t){for(const e of["models","tunedModels","publisherModels"])if(lhe(t,e))return t[e];return[]}function lhe(t,e){return t!==null&&typeof t=="object"&&e in t}function che(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function uhe(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=che(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function $B(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function dhe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function HB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Rm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function GB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fhe(t){const e={},n=x(t,["responsesFile"]);n!=null&&w(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Ghe(s))),w(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["inlinedEmbedContentResponses"],a)}return e}function hhe(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function phe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wy(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&w(e,["state"],GB(i));const a=x(t,["metadata","createTime"]);a!=null&&w(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&w(e,["endTime"],s);const l=x(t,["metadata","updateTime"]);l!=null&&w(e,["updateTime"],l);const c=x(t,["metadata","model"]);c!=null&&w(e,["model"],c);const d=x(t,["metadata","output"]);return d!=null&&w(e,["dest"],fhe(HB(d))),e}function EN(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["state"]);i!=null&&w(e,["state"],GB(i));const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["createTime"]);s!=null&&w(e,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(e,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(e,["endTime"],c);const d=x(t,["updateTime"]);d!=null&&w(e,["updateTime"],d);const h=x(t,["model"]);h!=null&&w(e,["model"],h);const m=x(t,["inputConfig"]);m!=null&&w(e,["src"],mhe(m));const g=x(t,["outputConfig"]);g!=null&&w(e,["dest"],hhe(HB(g)));const y=x(t,["completionStats"]);return y!=null&&w(e,["completionStats"],y),e}function mhe(t){const e={},n=x(t,["instancesFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function ghe(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&w(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Hhe(t,s))),w(n,["requests","requests"],a)}return n}function vhe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function yhe(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function xhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Rm(t,r)),n}function bhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Rm(t,r)),n}function _he(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],whe(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const d=x(t,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function whe(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function WB(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zhe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function Ahe(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function She(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],phe(dhe(i))),n}function jL(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],ghe(t,$B(t,i)));const a=x(e,["config"]);return a!=null&&Ahe(a,n),n}function Ehe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],ir(t,r));const i=x(e,["src"]);i!=null&&w(n,["inputConfig"],vhe($B(t,i)));const a=x(e,["config"]);return a!=null&&She(a,n),n}function Nhe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),n}function The(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],jhe(t,i));const a=x(e,["config"]);return a!=null&&Nhe(a,n),n}function Che(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Rm(t,r)),n}function Ihe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Rm(t,r)),n}function Rhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function khe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function Phe(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=EC(t,r);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(w(n,["_self"],Ohe(i,n)),Ife(n,{"requests[].*":"requests[].request.*"})),n}function Ohe(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jhe(t,e){const n={},r=x(e,["fileName"]);r!=null&&w(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&w(n,["requests"],Phe(t,i)),n}function Mhe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Dhe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lhe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Fhe(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],WB(ss(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const S=x(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const C=x(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],NC(C));const R=x(e,["responseJsonSchema"]);if(R!=null&&w(r,["responseJsonSchema"],R),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=x(e,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(Q=>epe(Q))),w(n,["safetySettings"],F)}const U=x(e,["tools"]);if(n!==void 0&&U!=null){let F=Im(U);Array.isArray(F)&&(F=F.map(Q=>npe(Cm(Q)))),w(n,["tools"],F)}const L=x(e,["toolConfig"]);if(n!==void 0&&L!=null&&w(n,["toolConfig"],tpe(L)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],Uu(t,z));const k=x(e,["responseModalities"]);k!=null&&w(r,["responseModalities"],k);const O=x(e,["mediaResolution"]);O!=null&&w(r,["mediaResolution"],O);const V=x(e,["speechConfig"]);if(V!=null&&w(r,["speechConfig"],TC(V)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=x(e,["thinkingConfig"]);W!=null&&w(r,["thinkingConfig"],W);const B=x(e,["imageConfig"]);B!=null&&w(r,["imageConfig"],$he(B));const D=x(e,["enableEnhancedCivicAnswers"]);return D!=null&&w(r,["enableEnhancedCivicAnswers"],D),r}function Uhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>_he(d))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function Bhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Rm(t,r)),n}function qhe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Rm(t,r)),n}function Vhe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function zhe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function $he(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Hhe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["request","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let l=Ho(i);Array.isArray(l)&&(l=l.map(c=>WB(c))),w(n,["request","contents"],l)}const a=x(e,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&w(n,["request","generationConfig"],Fhe(t,s,x(n,["request"],{}))),n}function Ghe(t){const e={},n=x(t,["response"]);n!=null&&w(e,["response"],Uhe(n));const r=x(t,["error"]);return r!=null&&w(e,["error"],r),e}function Whe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Khe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),n}function Yhe(t){const e={},n=x(t,["config"]);return n!=null&&Whe(n,e),e}function Xhe(t){const e={},n=x(t,["config"]);return n!=null&&Khe(n,e),e}function Jhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Wy(s))),w(e,["batchJobs"],a)}return e}function Qhe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>EN(s))),w(e,["batchJobs"],a)}return e}function Zhe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Mhe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Dhe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],yhe(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function epe(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function tpe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],Lhe(r)),e}function npe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],Vhe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],zhe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Iu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Iu||(Iu={}));class vh{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rpe extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Iu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=jL(this.apiClient,e),r=n._url,i=kt("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=g,m.request=y}d.push(m)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Ehe(this.apiClient,e);return l=kt("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>EN(h))}else{const d=jL(this.apiClient,e);return l=kt("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Wy(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=The(this.apiClient,e);return a=kt("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Wy(c))}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=qhe(this.apiClient,e);return l=kt("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>EN(h))}else{const d=Bhe(this.apiClient,e);return l=kt("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Wy(h))}}async cancel(e){var n,r,i,a;let s="",l={};if(this.apiClient.isVertexAI()){const c=bhe(this.apiClient,e);s=kt("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=xhe(this.apiClient,e);s=kt("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Xhe(e);return l=kt("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Qhe(h),g=new RL;return Object.assign(g,m),g})}else{const d=Yhe(e);return l=kt("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Jhe(h),g=new RL;return Object.assign(g,m),g})}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Ihe(this.apiClient,e);return l=kt("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>khe(h))}else{const d=Che(this.apiClient,e);return l=kt("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Rhe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ipe(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ML(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Tpe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function ape(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=Ho(s);Array.isArray(h)&&(h=h.map(m=>ML(m))),w(e,["contents"],h)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],ML(ss(l)));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Ipe(m))),w(e,["tools"],h)}const d=x(t,["toolConfig"]);if(e!==void 0&&d!=null&&w(e,["toolConfig"],Cpe(d)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function spe(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let m=Ho(s);Array.isArray(m)&&(m=m.map(g=>g)),w(e,["contents"],m)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],ss(l));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Rpe(g))),w(e,["tools"],m)}const d=x(t,["toolConfig"]);e!==void 0&&d!=null&&w(e,["toolConfig"],d);const h=x(t,["kmsKeyName"]);return e!==void 0&&h!=null&&w(e,["encryption_spec","kmsKeyName"],h),n}function ope(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],MB(t,r));const i=x(e,["config"]);return i!=null&&ape(i,n),n}function lpe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],MB(t,r));const i=x(e,["config"]);return i!=null&&spe(i,n),n}function cpe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Uu(t,r)),n}function upe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Uu(t,r)),n}function dpe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function fpe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function hpe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ppe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mpe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gpe(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function vpe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Uu(t,r)),n}function ype(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Uu(t,r)),n}function xpe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function bpe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function _pe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function wpe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function Ape(t){const e={},n=x(t,["config"]);return n!=null&&_pe(n,e),e}function Spe(t){const e={},n=x(t,["config"]);return n!=null&&wpe(n,e),e}function Epe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function Npe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function Tpe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],hpe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],ppe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],ipe(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Cpe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],mpe(r)),e}function Ipe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],xpe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],bpe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Rpe(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>gpe(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const d=x(t,["googleSearchRetrieval"]);d!=null&&w(e,["googleSearchRetrieval"],d);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function kpe(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function Ppe(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function Ope(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],Uu(t,r));const i=x(e,["config"]);return i!=null&&kpe(i,n),n}function jpe(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],Uu(t,r));const i=x(e,["config"]);return i!=null&&Ppe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mpe extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Iu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=lpe(this.apiClient,e);return l=kt("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=ope(this.apiClient,e);return l=kt("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=ype(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=vpe(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=upe(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=fpe(h),g=new CL;return Object.assign(g,m),g})}else{const d=cpe(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=dpe(h),g=new CL;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=jpe(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Ope(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Spe(e);return l=kt("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Npe(h),g=new IL;return Object.assign(g,m),g})}else{const d=Ape(e);return l=kt("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Epe(h),g=new IL;return Object.assign(g,m),g})}}}function xx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hn(t){return this instanceof hn?(this.v=t,this):new hn(t)}function Rl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(N){return Promise.resolve(N).then(y,m)}}function l(y,N){r[y]&&(i[y]=function(A){return new Promise(function(S,C){a.push([y,A,S,C])>1||c(y,A)})},N&&(i[y]=N(i[y])))}function c(y,N){try{d(r[y](N))}catch(A){g(a[0][3],A)}}function d(y){y.value instanceof hn?Promise.resolve(y.value.v).then(h,m):g(a[0][2],y)}function h(y){c("next",y)}function m(y){c("throw",y)}function g(y,N){y(N),a.shift(),a.length&&c(a[0][0],a[0][1])}}function kl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DL=="function"?DL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(l,c){s=t[a](s),i(l,c,s.done,s.value)})}}function i(a,s,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dpe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:KB(n)}function KB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Lpe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function LL(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!KB(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Fpe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Upe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Upe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Lpe(a)}async sendMessage(e){var n;await this.sendPromise;const r=ss(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,l;const c=await i,d=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(m))!==null&&l!==void 0?l:[]);const y=d?[d]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ss(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?LL(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Rl(this,arguments,function*(){var i,a,s,l,c,d;const h=[];try{for(var m=!0,g=kl(e),y;y=yield hn(g.next()),i=y.done,!i;m=!0){l=y.value,m=!1;const N=l;if(Dpe(N)){const A=(d=(c=N.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;A!==void 0&&h.push(A)}yield yield hn(N)}}catch(N){a={error:N}}finally{try{!m&&!i&&(s=g.return)&&(yield hn(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...LL(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ab extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ab.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bpe(t){const e={},n=x(t,["file"]);return n!=null&&w(e,["file"],n),e}function qpe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function Vpe(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],qB(n)),e}function zpe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function $pe(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],qB(n)),e}function Hpe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function Gpe(t){const e={},n=x(t,["config"]);return n!=null&&Hpe(n,e),e}function Wpe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kpe extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Iu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Gpe(e);return a=kt("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Wpe(c),h=new Qfe;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Bpe(e);return a=kt("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=qpe(c),h=new Zfe;return Object.assign(h,d),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$pe(e);return a=kt("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Vpe(e);return a=kt("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=zpe(c),h=new ehe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ky(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ype(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>dme(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function Xpe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Jpe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qpe(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Zpe(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const d=x(t,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const A=x(t,["responseSchema"]);A!=null&&w(e,["responseSchema"],A);const S=x(t,["routingConfig"]);S!=null&&w(e,["routingConfig"],S);const C=x(t,["seed"]);C!=null&&w(e,["seed"],C);const R=x(t,["speechConfig"]);R!=null&&w(e,["speechConfig"],R);const P=x(t,["stopSequences"]);P!=null&&w(e,["stopSequences"],P);const U=x(t,["temperature"]);U!=null&&w(e,["temperature"],U);const L=x(t,["thinkingConfig"]);L!=null&&w(e,["thinkingConfig"],L);const z=x(t,["topK"]);z!=null&&w(e,["topK"],z);const k=x(t,["topP"]);if(k!=null&&w(e,["topP"],k),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function eme(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function tme(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function nme(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],CC(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],Ype(ss(N)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let z=Im(A);Array.isArray(z)&&(z=z.map(k=>hme(Cm(k)))),w(e,["setup","tools"],z)}const S=x(t,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],fme(S));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const R=x(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&w(e,["setup","outputAudioTranscription"],R);const P=x(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&w(e,["setup","realtimeInputConfig"],P);const U=x(t,["contextWindowCompression"]);e!==void 0&&U!=null&&w(e,["setup","contextWindowCompression"],U);const L=x(t,["proactivity"]);if(e!==void 0&&L!=null&&w(e,["setup","proactivity"],L),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rme(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],Zpe(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],CC(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],ss(N));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let k=Im(A);Array.isArray(k)&&(k=k.map(O=>pme(Cm(O)))),w(e,["setup","tools"],k)}const S=x(t,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],S);const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const R=x(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&w(e,["setup","outputAudioTranscription"],R);const P=x(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&w(e,["setup","realtimeInputConfig"],P);const U=x(t,["contextWindowCompression"]);e!==void 0&&U!=null&&w(e,["setup","contextWindowCompression"],U);const L=x(t,["proactivity"]);e!==void 0&&L!=null&&w(e,["setup","proactivity"],L);const z=x(t,["explicitVadSignal"]);return e!==void 0&&z!=null&&w(e,["setup","explicitVadSignal"],z),n}function ime(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ir(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],nme(i,n)),n}function ame(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ir(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],rme(i,n)),n}function sme(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&w(e,["musicGenerationConfig"],n),e}function ome(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function lme(t){const e={},n=x(t,["media"]);if(n!=null){let d=DB(n);Array.isArray(d)&&(d=d.map(h=>Ky(h))),w(e,["mediaChunks"],d)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],Ky(FB(r)));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],Ky(LB(a)));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function cme(t){const e={},n=x(t,["media"]);if(n!=null){let d=DB(n);Array.isArray(d)&&(d=d.map(h=>h)),w(e,["mediaChunks"],d)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],FB(r));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],LB(a));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function ume(t){const e={},n=x(t,["setupComplete"]);n!=null&&w(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&w(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&w(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&w(e,["usageMetadata"],mme(s));const l=x(t,["goAway"]);l!=null&&w(e,["goAway"],l);const c=x(t,["sessionResumptionUpdate"]);c!=null&&w(e,["sessionResumptionUpdate"],c);const d=x(t,["voiceActivityDetectionSignal"]);d!=null&&w(e,["voiceActivityDetectionSignal"],d);const h=x(t,["voiceActivity"]);return h!=null&&w(e,["voiceActivity"],gme(h)),e}function dme(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Xpe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Jpe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],Ky(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function fme(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hme(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],eme(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],tme(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function pme(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>Qpe(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const d=x(t,["googleSearchRetrieval"]);d!=null&&w(e,["googleSearchRetrieval"],d);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function mme(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&w(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&w(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&w(e,["thoughtsTokenCount"],s);const l=x(t,["totalTokenCount"]);l!=null&&w(e,["totalTokenCount"],l);const c=x(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["promptTokensDetails"],y)}const d=x(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["cacheTokensDetails"],y)}const h=x(t,["candidatesTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["responseTokensDetails"],y)}const m=x(t,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["toolUsePromptTokensDetails"],y)}const g=x(t,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}function gme(t){const e={},n=x(t,["type"]);return n!=null&&w(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vme(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function yme(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],xme(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const d=x(t,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function xme(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function bme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let a=Ho(i);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["contents"],a)}return n}function _me(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["tokensInfo"],i)}return e}function wme(t){const e={},n=x(t,["values"]);n!=null&&w(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&w(e,["statistics"],Ame(r)),e}function Ame(t){const e={},n=x(t,["truncated"]);n!=null&&w(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function Sb(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Pge(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function Sme(t){const e={},n=x(t,["controlType"]);n!=null&&w(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function Eme(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Nme(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],ss(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>QB(l))),w(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&w(e,["generationConfig"],vge(a)),n}function Tme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ho(i);Array.isArray(s)&&(s=s.map(l=>Sb(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&Eme(a),n}function Cme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ho(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&Nme(a,n),n}function Ime(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function Rme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function kme(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ir(t,r)),n}function Pme(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ir(t,r)),n}function Ome(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function jme(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function Mme(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const d=x(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const N=x(t,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","compressionQuality"],A);const S=x(t,["addWatermark"]);e!==void 0&&S!=null&&w(e,["parameters","addWatermark"],S);const C=x(t,["labels"]);e!==void 0&&C!=null&&w(e,["labels"],C);const R=x(t,["editMode"]);e!==void 0&&R!=null&&w(e,["parameters","editMode"],R);const P=x(t,["baseSteps"]);return e!==void 0&&P!=null&&w(e,["parameters","editConfig","baseSteps"],P),n}function Dme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Fge(c))),w(n,["instances[0]","referenceImages"],l)}const s=x(e,["config"]);return s!=null&&Mme(s,n),n}function Lme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Eb(a))),w(e,["generatedImages"],i)}return e}function Fme(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ume(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&w(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&w(e,["instances[]","mimeType"],s);const l=x(t,["autoTruncate"]);return e!==void 0&&l!=null&&w(e,["parameters","autoTruncate"],l),n}function Bme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let l=EC(t,i);Array.isArray(l)&&(l=l.map(c=>c)),w(n,["requests[]","content"],l)}const a=x(e,["config"]);a!=null&&Fme(a,n);const s=x(e,["model"]);return s!==void 0&&w(n,["requests[]","model"],ir(t,s)),n}function qme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let s=EC(t,i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&Ume(a,n),n}function Vme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function zme(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>wme(s))),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function $me(t){const e={},n=x(t,["endpoint"]);n!=null&&w(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function Hme(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Gme(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wme(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kme(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Yme(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Sb(ss(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const S=x(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const C=x(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],NC(C));const R=x(e,["responseJsonSchema"]);if(R!=null&&w(r,["responseJsonSchema"],R),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=x(e,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(Q=>Uge(Q))),w(n,["safetySettings"],F)}const U=x(e,["tools"]);if(n!==void 0&&U!=null){let F=Im(U);Array.isArray(F)&&(F=F.map(Q=>Gge(Cm(Q)))),w(n,["tools"],F)}const L=x(e,["toolConfig"]);if(n!==void 0&&L!=null&&w(n,["toolConfig"],Hge(L)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],Uu(t,z));const k=x(e,["responseModalities"]);k!=null&&w(r,["responseModalities"],k);const O=x(e,["mediaResolution"]);O!=null&&w(r,["mediaResolution"],O);const V=x(e,["speechConfig"]);if(V!=null&&w(r,["speechConfig"],TC(V)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=x(e,["thinkingConfig"]);W!=null&&w(r,["thinkingConfig"],W);const B=x(e,["imageConfig"]);B!=null&&w(r,["imageConfig"],wge(B));const D=x(e,["enableEnhancedCivicAnswers"]);return D!=null&&w(r,["enableEnhancedCivicAnswers"],D),r}function Xme(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],ss(i));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const S=x(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const C=x(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],NC(C));const R=x(e,["responseJsonSchema"]);R!=null&&w(r,["responseJsonSchema"],R);const P=x(e,["routingConfig"]);P!=null&&w(r,["routingConfig"],P);const U=x(e,["modelSelectionConfig"]);U!=null&&w(r,["modelConfig"],U);const L=x(e,["safetySettings"]);if(n!==void 0&&L!=null){let K=L;Array.isArray(K)&&(K=K.map(ee=>ee)),w(n,["safetySettings"],K)}const z=x(e,["tools"]);if(n!==void 0&&z!=null){let K=Im(z);Array.isArray(K)&&(K=K.map(ee=>QB(Cm(ee)))),w(n,["tools"],K)}const k=x(e,["toolConfig"]);n!==void 0&&k!=null&&w(n,["toolConfig"],k);const O=x(e,["labels"]);n!==void 0&&O!=null&&w(n,["labels"],O);const V=x(e,["cachedContent"]);n!==void 0&&V!=null&&w(n,["cachedContent"],Uu(t,V));const W=x(e,["responseModalities"]);W!=null&&w(r,["responseModalities"],W);const B=x(e,["mediaResolution"]);B!=null&&w(r,["mediaResolution"],B);const D=x(e,["speechConfig"]);D!=null&&w(r,["speechConfig"],TC(D));const F=x(e,["audioTimestamp"]);F!=null&&w(r,["audioTimestamp"],F);const Q=x(e,["thinkingConfig"]);Q!=null&&w(r,["thinkingConfig"],Q);const oe=x(e,["imageConfig"]);if(oe!=null&&w(r,["imageConfig"],Age(oe)),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function FL(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ho(i);Array.isArray(s)&&(s=s.map(l=>Sb(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],Yme(t,a,n)),n}function UL(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ho(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],Xme(t,a,n)),n}function BL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>yme(d))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function qL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["candidates"],d)}const i=x(t,["createTime"]);i!=null&&w(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&w(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const l=x(t,["responseId"]);l!=null&&w(e,["responseId"],l);const c=x(t,["usageMetadata"]);return c!=null&&w(e,["usageMetadata"],c),e}function Jme(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&w(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&w(e,["parameters","safetySetting"],s);const l=x(t,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const c=x(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&w(e,["parameters","includeSafetyAttributes"],c);const d=x(t,["includeRaiReason"]);e!==void 0&&d!=null&&w(e,["parameters","includeRaiReason"],d);const h=x(t,["language"]);e!==void 0&&h!=null&&w(e,["parameters","language"],h);const m=x(t,["outputMimeType"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","mimeType"],m);const g=x(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=x(t,["imageSize"]);if(e!==void 0&&y!=null&&w(e,["parameters","sampleImageSize"],y),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Qme(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const d=x(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const N=x(t,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","compressionQuality"],A);const S=x(t,["addWatermark"]);e!==void 0&&S!=null&&w(e,["parameters","addWatermark"],S);const C=x(t,["labels"]);e!==void 0&&C!=null&&w(e,["labels"],C);const R=x(t,["imageSize"]);e!==void 0&&R!=null&&w(e,["parameters","sampleImageSize"],R);const P=x(t,["enhancePrompt"]);return e!==void 0&&P!=null&&w(e,["parameters","enhancePrompt"],P),n}function Zme(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Jme(a,n),n}function ege(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Qme(a,n),n}function tge(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>hge(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],XB(i)),e}function nge(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Eb(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],JB(i)),e}function rge(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&w(e,["parameters","resolution"],s);const l=x(t,["personGeneration"]);if(e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=x(t,["negativePrompt"]);e!==void 0&&c!=null&&w(e,["parameters","negativePrompt"],c);const d=x(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&w(e,["parameters","enhancePrompt"],d),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=x(t,["lastFrame"]);e!==void 0&&h!=null&&w(e,["instances[0]","lastFrame"],Nb(h));const m=x(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>a0e(y))),w(e,["instances[0]","referenceImages"],g)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ige(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&w(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&w(e,["parameters","durationSeconds"],s);const l=x(t,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&w(e,["parameters","aspectRatio"],c);const d=x(t,["resolution"]);e!==void 0&&d!=null&&w(e,["parameters","resolution"],d);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["pubsubTopic"]);e!==void 0&&m!=null&&w(e,["parameters","pubsubTopic"],m);const g=x(t,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const y=x(t,["enhancePrompt"]);e!==void 0&&y!=null&&w(e,["parameters","enhancePrompt"],y);const N=x(t,["generateAudio"]);e!==void 0&&N!=null&&w(e,["parameters","generateAudio"],N);const A=x(t,["lastFrame"]);e!==void 0&&A!=null&&w(e,["instances[0]","lastFrame"],Ll(A));const S=x(t,["referenceImages"]);if(e!==void 0&&S!=null){let P=S;Array.isArray(P)&&(P=P.map(U=>s0e(U))),w(e,["instances[0]","referenceImages"],P)}const C=x(t,["mask"]);e!==void 0&&C!=null&&w(e,["instances[0]","mask"],i0e(C));const R=x(t,["compressionQuality"]);return e!==void 0&&R!=null&&w(e,["parameters","compressionQuality"],R),n}function age(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],cge(s)),e}function sge(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],uge(s)),e}function oge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Nb(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],ZB(s));const l=x(e,["source"]);l!=null&&dge(l,n);const c=x(e,["config"]);return c!=null&&rge(c,n),n}function lge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Ll(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],eq(s));const l=x(e,["source"]);l!=null&&fge(l,n);const c=x(e,["config"]);return c!=null&&ige(c,n),n}function cge(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>mge(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function uge(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>gge(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function dge(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Nb(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],ZB(a)),n}function fge(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ll(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],eq(a)),n}function hge(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],Sge(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&w(e,["safetyAttributes"],XB(i)),e}function Eb(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],YB(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&w(e,["safetyAttributes"],JB(i));const a=x(t,["prompt"]);return a!=null&&w(e,["enhancedPrompt"],a),e}function pge(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["mask"],YB(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["labels"],i)}return e}function mge(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],n0e(n)),e}function gge(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],r0e(n)),e}function vge(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const d=x(t,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const A=x(t,["responseSchema"]);A!=null&&w(e,["responseSchema"],A);const S=x(t,["routingConfig"]);S!=null&&w(e,["routingConfig"],S);const C=x(t,["seed"]);C!=null&&w(e,["seed"],C);const R=x(t,["speechConfig"]);R!=null&&w(e,["speechConfig"],R);const P=x(t,["stopSequences"]);P!=null&&w(e,["stopSequences"],P);const U=x(t,["temperature"]);U!=null&&w(e,["temperature"],U);const L=x(t,["thinkingConfig"]);L!=null&&w(e,["thinkingConfig"],L);const z=x(t,["topK"]);z!=null&&w(e,["topK"],z);const k=x(t,["topP"]);if(k!=null&&w(e,["topP"],k),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yge(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ir(t,r)),n}function xge(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ir(t,r)),n}function bge(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function _ge(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function wge(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Age(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=x(t,["personGeneration"]);i!=null&&w(e,["personGeneration"],i);const a=x(t,["outputMimeType"]);a!=null&&w(e,["imageOutputOptions","mimeType"],a);const s=x(t,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function Sge(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&w(e,["imageBytes"],df(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function YB(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Nb(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&w(e,["bytesBase64Encoded"],df(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ll(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Ege(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],VB(t,l)),r}function Nge(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],VB(t,l)),r}function Tge(t,e){const n={},r=x(e,["config"]);return r!=null&&Ege(t,r,n),n}function Cge(t,e){const n={},r=x(e,["config"]);return r!=null&&Nge(t,r,n),n}function Ige(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=zB(i);Array.isArray(a)&&(a=a.map(s=>NN(s))),w(e,["models"],a)}return e}function Rge(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=zB(i);Array.isArray(a)&&(a=a.map(s=>TN(s))),w(e,["models"],a)}return e}function kge(t){const e={},n=x(t,["maskMode"]);n!=null&&w(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function NN(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["version"]);a!=null&&w(e,["version"],a);const s=x(t,["_self"]);s!=null&&w(e,["tunedModelInfo"],Wge(s));const l=x(t,["inputTokenLimit"]);l!=null&&w(e,["inputTokenLimit"],l);const c=x(t,["outputTokenLimit"]);c!=null&&w(e,["outputTokenLimit"],c);const d=x(t,["supportedGenerationMethods"]);d!=null&&w(e,["supportedActions"],d);const h=x(t,["temperature"]);h!=null&&w(e,["temperature"],h);const m=x(t,["maxTemperature"]);m!=null&&w(e,["maxTemperature"],m);const g=x(t,["topP"]);g!=null&&w(e,["topP"],g);const y=x(t,["topK"]);y!=null&&w(e,["topK"],y);const N=x(t,["thinking"]);return N!=null&&w(e,["thinking"],N),e}function TN(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["versionId"]);a!=null&&w(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>$me(g))),w(e,["endpoints"],m)}const l=x(t,["labels"]);l!=null&&w(e,["labels"],l);const c=x(t,["_self"]);c!=null&&w(e,["tunedModelInfo"],Kge(c));const d=x(t,["defaultCheckpointId"]);d!=null&&w(e,["defaultCheckpointId"],d);const h=x(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),w(e,["checkpoints"],m)}return e}function Pge(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Hme(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Gme(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],vme(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Oge(t){const e={},n=x(t,["productImage"]);return n!=null&&w(e,["image"],Ll(n)),e}function jge(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&w(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&w(e,["parameters","seed"],s);const l=x(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&w(e,["parameters","safetySetting"],l);const c=x(t,["personGeneration"]);e!==void 0&&c!=null&&w(e,["parameters","personGeneration"],c);const d=x(t,["addWatermark"]);e!==void 0&&d!=null&&w(e,["parameters","addWatermark"],d);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const m=x(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","compressionQuality"],m);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const y=x(t,["labels"]);return e!==void 0&&y!=null&&w(e,["labels"],y),n}function Mge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["source"]);i!=null&&Lge(i,n);const a=x(e,["config"]);return a!=null&&jge(a,n),n}function Dge(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Eb(i))),w(e,["generatedImages"],r)}return e}function Lge(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Ll(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Oge(l))),w(e,["instances[0]","productImages"],s)}return n}function Fge(t){const e={},n=x(t,["referenceImage"]);n!=null&&w(e,["referenceImage"],Ll(n));const r=x(t,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&w(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&w(e,["maskImageConfig"],kge(a));const s=x(t,["controlImageConfig"]);s!=null&&w(e,["controlImageConfig"],Sme(s));const l=x(t,["styleImageConfig"]);l!=null&&w(e,["styleImageConfig"],l);const c=x(t,["subjectImageConfig"]);return c!=null&&w(e,["subjectImageConfig"],c),e}function XB(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function JB(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Uge(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Bge(t){const e={},n=x(t,["image"]);return n!=null&&w(e,["image"],Ll(n)),e}function qge(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&w(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&w(e,["parameters","maskDilation"],s);const l=x(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&w(e,["parameters","binaryColorThreshold"],l);const c=x(t,["labels"]);return e!==void 0&&c!=null&&w(e,["labels"],c),n}function Vge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["source"]);i!=null&&$ge(i,n);const a=x(e,["config"]);return a!=null&&qge(a,n),n}function zge(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pge(i))),w(e,["generatedMasks"],r)}return e}function $ge(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ll(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&w(e,["instances[0]","scribble"],Bge(a)),n}function Hge(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],Wme(r)),e}function Gge(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],bge(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],_ge(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function QB(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>Kme(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const d=x(t,["googleSearchRetrieval"]);d!=null&&w(e,["googleSearchRetrieval"],d);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function Wge(t){const e={},n=x(t,["baseModel"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function Kge(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function Yge(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Xge(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Jge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","name"],ir(t,r));const i=x(e,["config"]);return i!=null&&Yge(i,n),n}function Qge(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["config"]);return i!=null&&Xge(i,n),n}function Zge(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&w(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&w(e,["parameters","includeRaiReason"],s);const l=x(t,["outputMimeType"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","mimeType"],l);const c=x(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&w(e,["parameters","outputOptions","compressionQuality"],c);const d=x(t,["enhanceInputImage"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=x(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const y=x(t,["mode"]);return e!==void 0&&y!=null&&w(e,["parameters","mode"],y),n}function e0e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ir(t,r));const i=x(e,["image"]);i!=null&&w(n,["instances[0]","image"],Ll(i));const a=x(e,["upscaleFactor"]);a!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Zge(s,n),n}function t0e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Eb(a))),w(e,["generatedImages"],i)}return e}function n0e(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],df(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function r0e(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function i0e(t){const e={},n=x(t,["image"]);n!=null&&w(e,["_self"],Ll(n));const r=x(t,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function a0e(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Nb(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function s0e(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Ll(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function ZB(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["encodedVideo"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function eq(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],df(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o0e(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),n}function l0e(t){const e={},n=x(t,["config"]);return n!=null&&o0e(n,e),e}function c0e(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function u0e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&c0e(r,e),e}function d0e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function f0e(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),n}function h0e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],m0e(s)),e}function p0e(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&w(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&f0e(i,e),e}function m0e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function g0e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function v0e(t){const e={},n=x(t,["config"]);return n!=null&&g0e(n,e),e}function y0e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["fileSearchStores"],a)}return e}function tq(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),w(e,["customMetadata"],l)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&w(e,["chunkingConfig"],s),n}function x0e(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&tq(r,e),e}function b0e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _0e="Content-Type",w0e="X-Server-Timeout",A0e="User-Agent",CN="x-goog-api-client",S0e="1.37.0",E0e=`google-genai-sdk/${S0e}`,N0e="v1beta1",T0e="v1beta";class C0e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:N0e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:T0e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&I0e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await VL(i),new AN(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await VL(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Rl(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield hn(i.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const N=JSON.parse(m);if("error"in N){const A=JSON.parse(JSON.stringify(N.error)),S=A.status,C=A.code,R=`got status: ${S}. ${JSON.stringify(N)}`;if(C>=400&&C<600)throw new Ab({message:R,status:C})}}catch(N){if(N.name==="ApiError")throw N}s+=m;let g=-1,y=0;for(;;){g=-1,y=0;for(const S of c){const C=s.indexOf(S);C!==-1&&(g===-1||C<g)&&(g=C,y=S.length)}if(g===-1)break;const N=s.substring(0,g);s=s.substring(g+y);const A=N.trim();if(A.startsWith(l)){const S=A.substring(l.length).trim();try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield hn(new AN(C))}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=E0e+" "+this.clientOptions.userAgentExtra;return e[A0e]=n,e[CN]=n,e[_0e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(w0e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},d=this.getFileName(e),h=kt("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&tq(r,m);const g=await this.fetchUploadUrl(d,l,c,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function VL(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ab({message:i,status:n}):new Error(i)}}function I0e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const l=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],h=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R0e="mcp_used/unknown";let k0e=!1;function nq(t){for(const e of t)if(P0e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return k0e}function rq(t){var e;const n=(e=t[CN])!==null&&e!==void 0?e:"";t[CN]=(n+` ${R0e}`).trimStart()}function P0e(t){return t!==null&&typeof t=="object"&&t instanceof IC}function O0e(t){return Rl(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield hn(n.listTools({cursor:i}));for(const l of s.tools)yield yield hn(l),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class IC{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new IC(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,kl(O0e(h))),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const m=i;s.push(m);const g=m.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(m){n={error:m}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),uhe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function j0e(t,e,n){const r=new nhe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class M0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=F0e(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const h=new Promise(P=>{d=P}),m=e.callbacks,g=function(){d({})},y=this.apiClient,N={onopen:g,onmessage:P=>{j0e(y,m.onmessage,P)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(P){}},A=this.webSocketFactory.create(c,L0e(s),N);A.connect(),await h;const R={setup:{model:ir(this.apiClient,e.model)}};return A.send(JSON.stringify(R)),new D0e(A,this.apiClient)}}class D0e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=ome(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=sme(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_p.PLAY)}pause(){this.sendPlaybackControl(_p.PAUSE)}stop(){this.sendPlaybackControl(_p.STOP)}resetContext(){this.sendPlaybackControl(_p.RESET_CONTEXT)}close(){this.conn.close()}}function L0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function F0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U0e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function B0e(t,e,n){const r=new the;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=ume(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class q0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new M0e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&nq(e.config.tools)&&rq(m);const g=H0e(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const V=this.apiClient.getApiKey();let W="BidiGenerateContent",B="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${W}?${B}=${V}`}let y=()=>{};const N=new Promise(V=>{y=V}),A=e.callbacks,S=function(){var V;(V=A==null?void 0:A.onopen)===null||V===void 0||V.call(A),y({})},C=this.apiClient,R={onopen:S,onmessage:V=>{B0e(C,A.onmessage,V)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(V){}},P=this.webSocketFactory.create(h,$0e(g),R);P.connect(),await N;let U=ir(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const V=this.apiClient.getProject(),W=this.apiClient.getLocation();U=`projects/${V}/locations/${W}/`+U}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gx.AUDIO]}:e.config.responseModalities=[gx.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],k=[];for(const V of z)if(this.isCallableTool(V)){const W=V;k.push(await W.tool())}else k.push(V);k.length>0&&(e.config.tools=k);const O={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=ame(this.apiClient,O):L=ime(this.apiClient,O),delete L.config,P.send(JSON.stringify(L)),new z0e(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const V0e={turnComplete:!0};class z0e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ho(n.turns),e.isVertexAI()||(r=r.map(i=>Sb(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(U0e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},V0e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cme(e)}:n={realtimeInput:lme(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function $0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function H0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zL=10;function $L(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Mp(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Mp(t){return"callTool"in t&&typeof t.callTool=="function"}function G0e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Mp(i)))!==null&&r!==void 0?r:!1}function HL(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Mp(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function GL(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W0e extends Fu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!G0e(n)||$L(n.config))return await this.generateContentInternal(c);const d=HL(n);if(d.length>0){const A=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,m;const g=Ho(c.contents),y=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:zL;let N=0;for(;N<y&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,S=[];for(const C of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Mp(C)){const P=await C.callTool(h.functionCalls);S.push(...P)}N++,m={role:"user",parts:S},c.contents=Ho(c.contents),c.contents.push(A),c.contents.push(m),GL(c.config)&&(g.push(A),g.push(m))}return GL(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,l;if(this.maybeMoveToResponseJsonSchem(n),$L(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=HL(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let l;return a?l={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new vh(Iu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Mp(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&nq(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),rq(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Mp(s)){const l=s,c=await l.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:zL;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(d,h,m){return Rl(this,arguments,function*(){for(var g,y,N,A,S,C;l<a;){s&&(l++,s=!1);const L=yield hn(d.processParamsMaybeAddMcpUsage(m)),z=yield hn(d.generateContentStreamInternal(L)),k=[],O=[];try{for(var R=!0,P=(y=void 0,kl(z)),U;U=yield hn(P.next()),g=U.done,!g;R=!0){A=U.value,R=!1;const V=A;if(yield yield hn(V),V.candidates&&(!((S=V.candidates[0])===null||S===void 0)&&S.content)){O.push(V.candidates[0].content);for(const W of(C=V.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(l<a&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(W.functionCall.name)){const B=yield hn(h.get(W.functionCall.name).callTool([W.functionCall]));k.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(V){y={error:V}}finally{try{!R&&!g&&(N=P.return)&&(yield hn(N.call(P)))}finally{if(y)throw y.error}}if(k.length>0){s=!0;const V=new Ig;V.candidates=[{content:{role:"user",parts:k}}],yield yield hn(V);const W=[];W.push(...O),W.push({role:"user",parts:k});const B=Ho(m.contents).concat(W);m.contents=B}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=UL(this.apiClient,e);return l=kt("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=qL(h),g=new Ig;return Object.assign(g,m),g})}else{const d=FL(this.apiClient,e);return l=kt("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=BL(h),g=new Ig;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=UL(this.apiClient,e);return l=kt("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return Rl(this,arguments,function*(){var g,y,N,A;try{for(var S=!0,C=kl(m),R;R=yield hn(C.next()),g=R.done,!g;S=!0){A=R.value,S=!1;const P=A,U=qL(yield hn(P.json()));U.sdkHttpResponse={headers:P.headers};const L=new Ig;Object.assign(L,U),yield yield hn(L)}}catch(P){y={error:P}}finally{try{!S&&!g&&(N=C.return)&&(yield hn(N.call(C)))}finally{if(y)throw y.error}}})})}else{const d=FL(this.apiClient,e);return l=kt("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return Rl(this,arguments,function*(){var g,y,N,A;try{for(var S=!0,C=kl(m),R;R=yield hn(C.next()),g=R.done,!g;S=!0){A=R.value,S=!1;const P=A,U=BL(yield hn(P.json()));U.sdkHttpResponse={headers:P.headers};const L=new Ig;Object.assign(L,U),yield yield hn(L)}}catch(P){y={error:P}}finally{try{!S&&!g&&(N=C.return)&&(yield hn(N.call(C)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=qme(this.apiClient,e);return l=kt("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=zme(h),g=new _L;return Object.assign(g,m),g})}else{const d=Bme(this.apiClient,e);return l=kt("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Vme(h),g=new _L;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=ege(this.apiClient,e);return l=kt("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=nge(h),g=new wL;return Object.assign(g,m),g})}else{const d=Zme(this.apiClient,e);return l=kt("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=tge(h),g=new wL;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Dme(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Lme(c),h=new $fe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=e0e(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=t0e(c),h=new Hfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Mge(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Dge(c),h=new Gfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Vge(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=zge(c),h=new Wfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=xge(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>TN(h))}else{const d=yge(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>NN(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Cge(this.apiClient,e);return l=kt("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Rge(h),g=new AL;return Object.assign(g,m),g})}else{const d=Tge(this.apiClient,e);return l=kt("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Ige(h),g=new AL;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Qge(this.apiClient,e);return l=kt("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>TN(h))}else{const d=Jge(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>NN(h))}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Pme(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=jme(h),g=new SL;return Object.assign(g,m),g})}else{const d=kme(this.apiClient,e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Ome(h),g=new SL;return Object.assign(g,m),g})}}async countTokens(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Cme(this.apiClient,e);return l=kt("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Rme(h),g=new EL;return Object.assign(g,m),g})}else{const d=Tme(this.apiClient,e);return l=kt("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Ime(h),g=new EL;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=bme(this.apiClient,e);return a=kt("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=_me(c),h=new Kfe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=lge(this.apiClient,e);return l=kt("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=sge(h),g=new vx;return Object.assign(g,m),g})}else{const d=oge(this.apiClient,e);return l=kt("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=age(h),g=new vx;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K0e extends Fu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Ffe(e);return l=kt("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=Lfe(e);return l=kt("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Rfe(e);return a=kt("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function X0e(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ave(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function J0e(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&w(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&w(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&w(n,["uses"],s);const l=x(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&w(n,["bidiGenerateContentSetup"],ive(t,l));const c=x(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&w(n,["fieldMask"],c),r}function Q0e(t,e){const n={},r=x(e,["config"]);return r!=null&&w(n,["config"],J0e(t,r,n)),n}function Z0e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function eve(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tve(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function nve(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function rve(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const d=x(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],CC(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],X0e(ss(N)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let z=Im(A);Array.isArray(z)&&(z=z.map(k=>ove(Cm(k)))),w(e,["setup","tools"],z)}const S=x(t,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],sve(S));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const R=x(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&w(e,["setup","outputAudioTranscription"],R);const P=x(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&w(e,["setup","realtimeInputConfig"],P);const U=x(t,["contextWindowCompression"]);e!==void 0&&U!=null&&w(e,["setup","contextWindowCompression"],U);const L=x(t,["proactivity"]);if(e!==void 0&&L!=null&&w(e,["setup","proactivity"],L),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ive(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ir(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],rve(i,n)),n}function ave(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],Z0e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],eve(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],Y0e(c));const d=x(t,["text"]);d!=null&&w(e,["text"],d);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function sve(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ove(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],tve(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],nve(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const d=x(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lve(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function cve(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=lve(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class uve extends Fu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=Q0e(this.apiClient,e);a=kt("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=cve(l,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dve(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function fve(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&dve(r,e),e}function hve(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function pve(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function mve(t){const e={},n=x(t,["parent"]);n!=null&&w(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&pve(r,e),e}function gve(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vve extends Fu{constructor(e){super(),this.apiClient=e,this.list=async n=>new vh(Iu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hve(e);return a=kt("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fve(e);i=kt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mve(e);return a=kt("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=gve(c),h=new Yfe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yve extends Fu{constructor(e,n=new vve(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new vh(Iu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=l0e(e);return a=kt("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=d0e(e);return a=kt("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=u0e(e);i=kt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=v0e(e);return a=kt("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=y0e(c),h=new Xfe;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=x0e(e);return a=kt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=b0e(c),h=new Jfe;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=p0e(e);return a=kt("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=h0e(c),h=new AC;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iq=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return iq=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const xve=()=>iq();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IN(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const RN=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ko extends Error{}class As extends Ko{constructor(e,n,r,i){super(`${As.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Tb({message:r,cause:RN(n)});const a=n;return e===400?new sq(e,a,r,i):e===401?new oq(e,a,r,i):e===403?new lq(e,a,r,i):e===404?new cq(e,a,r,i):e===409?new uq(e,a,r,i):e===422?new dq(e,a,r,i):e===429?new fq(e,a,r,i):e>=500?new hq(e,a,r,i):new As(e,a,r,i)}}class kN extends As{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Tb extends As{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class aq extends Tb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sq extends As{}class oq extends As{}class lq extends As{}class cq extends As{}class uq extends As{}class dq extends As{}class fq extends As{}class hq extends As{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bve=/^[a-z][a-z0-9+.-]*:/i,_ve=t=>bve.test(t);let PN=t=>(PN=Array.isArray,PN(t));const wve=PN;let Ave=wve;const WL=Ave;function Sve(t){if(!t)return!0;for(const e in t)return!1;return!0}function Eve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Nve=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ko(`${t} must be an integer`);if(e<0)throw new Ko(`${t} must be a positive integer`);return e},Tve=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cve=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dp="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ive(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Rve=()=>{var t,e,n,r,i;const a=Ive();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":YL(Deno.build.os),"X-Stainless-Arch":KL(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":YL((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":KL((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=kve();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function kve(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const KL=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",YL=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Iy;const Pve=()=>Iy??(Iy=Rve());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ove(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function pq(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function jve(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return pq({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function mq(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Mve(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dve=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gq=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ES(t,e,n){return gq(),new File(t,e??"unknown_file",n)}function Lve(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Fve=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vq=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Uve=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&vq(t),Bve=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function qve(t,e,n){if(gq(),t=await t,Uve(t))return t instanceof File?t:ES([await t.arrayBuffer()],t.name);if(Bve(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ES(await ON(i),e,n)}const r=await ON(t);if(e||(e=Lve(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ES(r,e,n)}async function ON(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(vq(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(Fve(t))try{for(var l=!0,c=kl(t),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const h=i;s.push(...await ON(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Vve(t)}`)}return s}function Vve(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yq{constructor(e){this._client=e}}yq._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xq(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const XL=Object.freeze(Object.create(null)),zve=(t=xq)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,m,g)=>{var y,N,A;/[?#]/.test(m)&&(i=!0);const S=r[g];let C=(i?encodeURIComponent:t)(""+S);return g!==r.length&&(S==null||typeof S=="object"&&S.toString===((A=Object.getPrototypeOf((N=Object.getPrototypeOf((y=S.hasOwnProperty)!==null&&y!==void 0?y:XL))!==null&&N!==void 0?N:XL))===null||A===void 0?void 0:A.toString))&&(C=S+"",a.push({start:h.length+m.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":C)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(l))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((g,y)=>{const N=" ".repeat(y.start-h),A="^".repeat(y.length);return h=y.start+y.length,g+N+A},"");throw new Ko(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${m}`)}return s}),Ry=zve(xq);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bq extends yq{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=xx(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Ko("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Ko("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ry`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Ry`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Ry`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,l=xx(a,["api_version"]);return this._client.get(Ry`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}bq._key=Object.freeze(["interactions"]);class _q extends bq{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $ve(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let ky;function RC(t){let e;return(ky??(e=new globalThis.TextEncoder,ky=e.encode.bind(e)))(t)}let Py;function JL(t){let e;return(Py??(e=new globalThis.TextDecoder,Py=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cb{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?RC(e):e;this.buffer=$ve([this.buffer,n]);const r=[];let i;for(;(i=Hve(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(JL(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=JL(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Cb.NEWLINE_CHARS=new Set([`
`,"\r"]);Cb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Hve(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Gve(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bx={off:0,error:200,warn:300,info:400,debug:500},QL=(t,e,n)=>{if(t){if(Eve(bx,t))return t;xs(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(bx))}`)}};function Dg(){}function Oy(t,e,n){return!e||bx[t]>bx[n]?Dg:e[t].bind(e)}const Wve={error:Dg,warn:Dg,info:Dg,debug:Dg};let ZL=new WeakMap;function xs(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Wve;const i=ZL.get(n);if(i&&i[0]===r)return i[1];const a={error:Oy("error",n,r),warn:Oy("warn",n,r),info:Oy("info",n,r),debug:Oy("debug",n,r)};return ZL.set(n,[r,a]),a}const Df=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wp{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?xs(r):console;function s(){return Rl(this,arguments,function*(){var c,d,h,m;if(i)throw new Ko("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=kl(Kve(e,n)),A;A=yield hn(N.next()),c=A.done,!c;y=!0){m=A.value,y=!1;const S=m;if(!g)if(S.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield hn(JSON.parse(S.data))}catch(C){throw a.error("Could not parse message into JSON:",S.data),a.error("From chunk:",S.raw),C}}}catch(S){d={error:S}}finally{try{!y&&!c&&(h=N.return)&&(yield hn(h.call(N)))}finally{if(d)throw d.error}}g=!0}catch(S){if(IN(S))return yield hn(void 0);throw S}finally{g||n.abort()}})}return new wp(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return Rl(this,arguments,function*(){var c,d,h,m;const g=new Cb,y=mq(e);try{for(var N=!0,A=kl(y),S;S=yield hn(A.next()),c=S.done,!c;N=!0){m=S.value,N=!1;const C=m;for(const R of g.decode(C))yield yield hn(R)}}catch(C){d={error:C}}finally{try{!N&&!c&&(h=A.return)&&(yield hn(h.call(A)))}finally{if(d)throw d.error}}for(const C of g.flush())yield yield hn(C)})}function s(){return Rl(this,arguments,function*(){var c,d,h,m;if(i)throw new Ko("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=kl(a()),A;A=yield hn(N.next()),c=A.done,!c;y=!0){m=A.value,y=!1;const S=m;g||S&&(yield yield hn(JSON.parse(S)))}}catch(S){d={error:S}}finally{try{!y&&!c&&(h=N.return)&&(yield hn(h.call(N)))}finally{if(d)throw d.error}}g=!0}catch(S){if(IN(S))return yield hn(void 0);throw S}finally{g||n.abort()}})}return new wp(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new wp(()=>i(e),this.controller,this.client),new wp(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return pq({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=RC(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Kve(t,e){return Rl(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ko("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ko("Attempted to iterate over a response with no body");const l=new Xve,c=new Cb,d=mq(t.body);try{for(var h=!0,m=kl(Yve(d)),g;g=yield hn(m.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const y=s;for(const N of c.decode(y)){const A=l.decode(N);A&&(yield yield hn(A))}}}catch(y){i={error:y}}finally{try{!h&&!r&&(a=m.return)&&(yield hn(a.call(m)))}finally{if(i)throw i.error}}for(const y of c.flush()){const N=l.decode(y);N&&(yield yield hn(N))}})}function Yve(t){return Rl(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var l=!0,c=kl(t),d;d=yield hn(c.next()),n=d.done,!n;l=!0){a=d.value,l=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?RC(h):h;let g=new Uint8Array(s.length+m.length);g.set(s),g.set(m,s.length),s=g;let y;for(;(y=Gve(s))!==-1;)yield yield hn(s.slice(0,y)),s=s.slice(y)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield hn(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield hn(s))})}class Xve{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Jve(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Jve(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qve(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var l;if(e.options.stream)return xs(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wp.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return xs(t).debug(`[${r}] response parsed`,Df({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC extends Promise{constructor(e,n,r=Qve){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new kC(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wq=Symbol("brand.privateNullableHeaders");function*Zve(t){if(!t)return;if(wq in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():WL(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=WL(r[1])?r[1]:[r[1]];let s=!1;for(const l of a)l!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const Rg=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of Zve(r)){const l=a.toLowerCase();i.has(l)||(e.delete(a),i.add(l)),s===null?(e.delete(a),n.add(l)):(e.append(a,s),n.delete(l))}}return{[wq]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NS=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=Sfe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Aq;class Ib{constructor(e){var n,r,i,a,s,l,c,{baseURL:d=NS("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=NS("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,g=xx(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:Ib.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(s=(a=QL(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:QL(NS("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:N,this.fetchOptions=y.fetchOptions,this.maxRetries=(l=y.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:Ove(),this.encoder=Dve,this._options=y,this.apiKey=h,this.apiVersion=m,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Rg([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Rg([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Rg([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ko(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${dp}`}defaultIdempotencyKey(){return`stainless-node-retry-${xve()}`}makeStatusError(e,n,r,i){return As.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=_ve(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Sve(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new kC(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:d,url:h,timeout:m}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(d,{url:h,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(xs(this).debug(`[${g}] sending request`,Df({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:d.headers})),!((a=l.signal)===null||a===void 0)&&a.aborted)throw new kN;const A=new AbortController,S=await this.fetchWithTimeout(h,d,m,A).catch(RN),C=Date.now();if(S instanceof globalThis.Error){const P=`retrying, ${n} attempts remaining`;if(!((s=l.signal)===null||s===void 0)&&s.aborted)throw new kN;const U=IN(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return xs(this).info(`[${g}] connection ${U?"timed out":"failed"} - ${P}`),xs(this).debug(`[${g}] connection ${U?"timed out":"failed"} (${P})`,Df({retryOfRequestLogID:r,url:h,durationMs:C-N,message:S.message})),this.retryRequest(l,n,r??g);throw xs(this).info(`[${g}] connection ${U?"timed out":"failed"} - error; no more retries left`),xs(this).debug(`[${g}] connection ${U?"timed out":"failed"} (error; no more retries left)`,Df({retryOfRequestLogID:r,url:h,durationMs:C-N,message:S.message})),U?new aq:new Tb({cause:S})}const R=`[${g}${y}] ${d.method} ${h} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${C-N}ms`;if(!S.ok){const P=await this.shouldRetry(S);if(n&&P){const V=`retrying, ${n} attempts remaining`;return await Mve(S.body),xs(this).info(`${R} - ${V}`),xs(this).debug(`[${g}] response error (${V})`,Df({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:C-N})),this.retryRequest(l,n,r??g,S.headers)}const U=P?"error; no more retries left":"error; not retryable";xs(this).info(`${R} - ${U}`);const L=await S.text().catch(V=>RN(V).message),z=Tve(L),k=z?void 0:L;throw xs(this).debug(`[${g}] response error (${U})`,Df({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,message:k,durationMs:Date.now()-N})),this.makeStatusError(S.status,z,k,S.headers)}return xs(this).info(R),xs(this).debug(`[${g}] response start`,Df({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:C-N})),{response:S,options:l,controller:A,requestLogID:g,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:l}=a,c=xx(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const l=i==null?void 0:i.get("retry-after-ms");if(l){const d=parseFloat(l);Number.isNaN(d)||(s=d)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Cve(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:l,path:c,query:d,defaultBaseURL:h}=s,m=this.buildURL(c,d,h);"timeout"in s&&Nve("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),N=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:N},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let l=Rg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Pve()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Rg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:jve(e)}:this.encoder({body:e,headers:r})}}Ib.DEFAULT_TIMEOUT=6e4;class va extends Ib{constructor(){super(...arguments),this.interactions=new _q(this)}}Aq=va;va.GeminiNextGenAPIClient=Aq;va.GeminiNextGenAPIClientError=Ko;va.APIError=As;va.APIConnectionError=Tb;va.APIConnectionTimeoutError=aq;va.APIUserAbortError=kN;va.NotFoundError=cq;va.ConflictError=uq;va.RateLimitError=fq;va.BadRequestError=sq;va.AuthenticationError=oq;va.InternalServerError=hq;va.PermissionDeniedError=lq;va.UnprocessableEntityError=dq;va.toFile=qve;va.Interactions=_q;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eye(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function tye(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function nye(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function rye(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function iye(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&w(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=x(t,["batchSize"]);e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","batchSize"],l);const c=x(t,["learningRate"]);if(e!==void 0&&c!=null&&w(e,["tuningTask","hyperparameters","learningRate"],c),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function aye(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec"],e8(y))}else if(i==="PREFERENCE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec"],e8(y))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&w(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&w(e,["description"],s);let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=x(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(h==="PREFERENCE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function sye(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&vye(a);const s=x(t,["config"]);return s!=null&&iye(s,n),n}function oye(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&yye(a,n,e);const s=x(t,["config"]);return s!=null&&aye(s,n,e),n}function lye(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function cye(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function uye(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function dye(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function fye(t,e){const n={},r=x(t,["config"]);return r!=null&&uye(r,n),n}function hye(t,e){const n={},r=x(t,["config"]);return r!=null&&dye(r,n),n}function pye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Sq(l))),w(n,["tuningJobs"],s)}return n}function mye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>jN(l))),w(n,["tuningJobs"],s)}return n}function gye(t,e){const n={},r=x(t,["name"]);r!=null&&w(n,["model"],r);const i=x(t,["name"]);return i!=null&&w(n,["endpoint"],i),n}function vye(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(n,["examples","examples"],i)}return n}function yye(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Sq(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],BB(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["tuningTask","startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["tuningTask","completeTime"]);c!=null&&w(n,["endTime"],c);const d=x(t,["updateTime"]);d!=null&&w(n,["updateTime"],d);const h=x(t,["description"]);h!=null&&w(n,["description"],h);const m=x(t,["baseModel"]);m!=null&&w(n,["baseModel"],m);const g=x(t,["_self"]);return g!=null&&w(n,["tunedModel"],gye(g)),n}function jN(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],BB(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(n,["endTime"],c);const d=x(t,["updateTime"]);d!=null&&w(n,["updateTime"],d);const h=x(t,["error"]);h!=null&&w(n,["error"],h);const m=x(t,["description"]);m!=null&&w(n,["description"],m);const g=x(t,["baseModel"]);g!=null&&w(n,["baseModel"],g);const y=x(t,["tunedModel"]);y!=null&&w(n,["tunedModel"],y);const N=x(t,["preTunedModel"]);N!=null&&w(n,["preTunedModel"],N);const A=x(t,["supervisedTuningSpec"]);A!=null&&w(n,["supervisedTuningSpec"],A);const S=x(t,["preferenceOptimizationSpec"]);S!=null&&w(n,["preferenceOptimizationSpec"],S);const C=x(t,["tuningDataStats"]);C!=null&&w(n,["tuningDataStats"],C);const R=x(t,["encryptionSpec"]);R!=null&&w(n,["encryptionSpec"],R);const P=x(t,["partnerModelTuningSpec"]);P!=null&&w(n,["partnerModelTuningSpec"],P);const U=x(t,["customBaseModel"]);U!=null&&w(n,["customBaseModel"],U);const L=x(t,["experiment"]);L!=null&&w(n,["experiment"],L);const z=x(t,["labels"]);z!=null&&w(n,["labels"],z);const k=x(t,["outputUri"]);k!=null&&w(n,["outputUri"],k);const O=x(t,["pipelineJob"]);O!=null&&w(n,["pipelineJob"],O);const V=x(t,["serviceAccount"]);V!=null&&w(n,["serviceAccount"],V);const W=x(t,["tunedModelDisplayName"]);W!=null&&w(n,["tunedModelDisplayName"],W);const B=x(t,["veoTuningSpec"]);return B!=null&&w(n,["veoTuningSpec"],B),n}function xye(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(t,["done"]);s!=null&&w(n,["done"],s);const l=x(t,["error"]);return l!=null&&w(n,["error"],l),n}function e8(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&w(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bye extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vh(Iu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:wN.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=cye(e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>jN(h))}else{const d=lye(e);return l=kt("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Sq(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=hye(e);return l=kt("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=mye(h),g=new NL;return Object.assign(g,m),g})}else{const d=fye(e);return l=kt("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=pye(h),g=new NL;return Object.assign(g,m),g})}}async cancel(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=tye(e);return l=kt("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=rye(h),g=new TL;return Object.assign(g,m),g})}else{const d=eye(e);return l=kt("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=nye(h),g=new TL;return Object.assign(g,m),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=oye(e,e);return a=kt("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>jN(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=sye(e);return a=kt("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>xye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _ye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wye=1024*1024*8,Aye=3,Sye=1e3,Eye=2,_x="x-goog-upload-status";async function Nye(t,e,n){var r;const i=await Eq(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[_x])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Tye(t,e,n){var r;const i=await Eq(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[_x])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=jB(a),l=new SC;return Object.assign(l,s),l}async function Eq(t,e,n){var r,i;let a=0,s=0,l=new AN(new Response),c="upload";for(a=t.size;s<a;){const d=Math.min(wye,a-s),h=t.slice(s,s+d);s+d>=a&&(c+=", finalize");let m=0,g=Sye;for(;m<Aye&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[_x]));)m++,await Iye(g),g=g*Eye;if(s+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[_x])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Cye(t){return{size:t.size,type:t.type}}function Iye(t){return new Promise(e=>setTimeout(e,t))}class Rye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Nye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kye{create(e,n,r){return new Pye(e,n,r)}}class Pye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t8="x-goog-api-key";class Oye{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(t8)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(t8,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jye="gl-node/";class Mye{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new va({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Cfe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Oye(this.apiKey);this.apiClient=new C0e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jye+"web",uploader:new Rye,downloader:new _ye}),this.models=new W0e(this.apiClient),this.live=new q0e(this.apiClient,i,new kye),this.batches=new rpe(this.apiClient),this.chats=new Fpe(this.models,this.apiClient),this.caches=new Mpe(this.apiClient),this.files=new Kpe(this.apiClient),this.operations=new K0e(this.apiClient),this.authTokens=new uve(this.apiClient),this.tunings=new bye(this.apiClient),this.fileSearchStores=new yve(this.apiClient)}}const Dye=({onBack:t})=>{const[e,n]=ye.useState(null),[r,i]=ye.useState(null),[a,s]=ye.useState(""),[l,c]=ye.useState(!1),[d,h]=ye.useState(null),[m,g]=ye.useState("edit"),y=ye.useRef(null),N=m==="edit"?["Remover fundo","Melhorar iluminao","Etiqueta 'OFERTA'","Mesa rstica"]:["Logo touro preto/ouro","Logo moderno vermelho","Logo rstico fazenda","Escudo premium boi"],A=C=>{var P;const R=(P=C.target.files)==null?void 0:P[0];if(R){const U=new FileReader;U.onload=L=>{var z;n((z=L.target)==null?void 0:z.result),i(null),h(null)},U.readAsDataURL(R)}},S=async()=>{var C,R;if(m==="edit"&&!e)return h("Selecione uma imagem de base");if(!a.trim())return h("Descreva o que deseja criar");c(!0),h(null);try{const P="AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",U=new Mye({apiKey:P});let L=m==="edit"?{parts:[{inlineData:{data:e.split(",")[1],mimeType:e.split(";")[0].split(":")[1]}},{text:`Edit: ${a}`}]}:{parts:[{text:`Create professional agro logo: ${a}. High quality, isolated background.`}]};const z=await U.models.generateContent({model:"gemini-2.5-flash-image",contents:L,config:{imageConfig:{aspectRatio:"1:1"}}});let k=!1;if((R=(C=z.candidates)==null?void 0:C[0].content)!=null&&R.parts){for(const O of z.candidates[0].content.parts)if(O.inlineData){i(`data:${O.inlineData.mimeType||"image/png"};base64,${O.inlineData.data}`),k=!0;break}}k||h("A IA no retornou uma imagem. Tente novamente.")}catch{h("Erro na conexo com o motor neural.")}finally{c(!1)}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40",children:f.jsx(n9,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Creative ",f.jsx("span",{className:"text-blue-600",children:"Studio"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Motor Grfico Neural / ID-IMG"})]})]})]}),f.jsxs("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[f.jsx("button",{onClick:()=>{g("edit"),i(null)},className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${m==="edit"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Edio de Fonte"}),f.jsx("button",{onClick:()=>{g("logo"),i(null)},className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${m==="logo"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Gerador de Logos"})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-10",children:[f.jsxs("div",{className:"space-y-8 h-full",children:[m==="edit"&&f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx($S,{size:16,className:"text-blue-600"})," 1. Buffer de Imagem Base"]}),f.jsxs("div",{onClick:()=>{var C;return(C=y.current)==null?void 0:C.click()},className:"relative w-full aspect-video rounded-[32px] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center cursor-pointer hover:border-blue-600 transition-all overflow-hidden group bg-slate-50/30",children:[f.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:A}),e?f.jsx("img",{src:e,alt:"src",className:"w-full h-full object-contain"}):f.jsxs("div",{className:"text-center group-hover:scale-110 transition-all",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-4 text-slate-300 group-hover:text-blue-600",children:f.jsx($g,{size:24})}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Carregar arquivo local"})]})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white space-y-8",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Z7,{size:16,className:"text-blue-600"})," 2. Descritor da Transformao"]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:f.jsx(tK,{size:18})}),f.jsx("textarea",{className:"w-full h-32 modern-input p-10 text-sm font-medium text-slate-700 bg-slate-50/30",placeholder:"Descreva as modificaes ou o design desejado...",value:a,onChange:C=>s(C.target.value)})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(C=>f.jsx("button",{onClick:()=>s(C),className:"px-4 py-2 bg-slate-50 border border-slate-100 rounded-full text-[10px] font-black text-slate-400 uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all shadow-sm",children:C},C))}),d&&f.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 border border-rose-100 text-rose-600 text-[10px] font-black uppercase tracking-widest flex items-center gap-3",children:[f.jsx(Bp,{size:16})," ",d]}),f.jsxs("button",{onClick:S,disabled:l||m==="edit"&&!e||!a,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-xl shadow-slate-900/40 gap-4 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.4em]",children:[l?f.jsx(ja,{size:20,className:"animate-spin"}):f.jsx(_s,{size:20}),l?"Processando Redes...":"Gerar Criao"]})]})]}),f.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white border border-slate-100 flex flex-col min-h-[600px] shadow-2xl",children:[f.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(ja,{size:16,className:"text-emerald-600"})," 3. Resultado de Sada"]}),r&&f.jsxs("button",{onClick:()=>{const C=document.createElement("a");C.href=r,C.download="FG_CREATION.png",C.click()},className:"btn-modern bg-slate-900 text-white px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-600 gap-2 shadow-lg",children:[f.jsx(X7,{size:14})," Salvar Vnculo"]})]}),f.jsxs("div",{className:"flex-1 bg-[#fafafa] flex items-center justify-center p-12 overflow-hidden relative",children:[l?f.jsxs("div",{className:"text-center relative z-10",children:[f.jsxs("div",{className:"w-20 h-20 bg-white rounded-[32px] shadow-xl flex items-center justify-center mx-auto mb-6 relative overflow-hidden",children:[f.jsx(ja,{size:40,className:"animate-spin text-blue-600"}),f.jsx("div",{className:"absolute inset-0 bg-blue-600/5 animate-pulse"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.5em] animate-pulse",children:"Renderizando Viso..."})]}):r?f.jsxs("div",{className:"relative group/view w-full h-full flex items-center justify-center",children:[f.jsx("img",{src:r,alt:"gen",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl relative z-10"}),f.jsx("div",{className:"absolute inset-0 bg-blue-600/20 blur-[100px] opacity-20"})]}):f.jsxs("div",{className:"text-center opacity-10 grayscale group",children:[f.jsx(mW,{size:100,className:"mx-auto mb-6 group-hover:scale-110 transition-transform"}),f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.8em]",children:"Aguardando Dados"})]}),f.jsx("div",{className:"absolute bottom-6 left-6 text-[8px] font-black text-slate-200 uppercase tracking-[0.4em]",children:"FG-RENDER-CORE v2.5"})]})]})]})]})},Lye=({scheduledOrders:t,clients:e,addScheduledOrder:n,updateScheduledOrder:r,onViewClientHistory:i,onBack:a})=>{const[s,l]=ye.useState(!1),[c,d]=ye.useState(null),[h,m]=ye.useState({id_cliente:"",nome_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"}),[g,y]=ye.useState("ABERTO"),N=ye.useMemo(()=>{let R=[...t];return g!=="TODOS"&&(R=R.filter(P=>P.status===g)),R.sort((P,U)=>P.data_entrega.localeCompare(U.data_entrega))},[t,g]),A=async R=>{if(R.preventDefault(),!h.id_cliente||!h.data_entrega||!h.itens)return;const P=e.find(L=>L.id_ferro===h.id_cliente),U={id:`ORD-${Date.now()}`,id_cliente:h.id_cliente,nome_cliente:(P==null?void 0:P.nome_social)||"Desconhecido",data_entrega:h.data_entrega,hora_entrega:h.hora_entrega,itens:h.itens,status:"ABERTO",data_criacao:new Date().toISOString(),alerta_madrugada:!!h.alerta_madrugada};await n(U),l(!1),m({id_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"})},S=R=>{const P=new Date;P.setHours(0,0,0,0);const U=new Date(R+"T12:00:00");U.setHours(0,0,0,0);const L=(U.getTime()-P.getTime())/864e5;return L>=0&&L<=1},C=R=>{const P=e.find(z=>z.id_ferro===R.id_cliente);if(!P||!P.whatsapp)return;const U=new Date(R.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"),L=`*CONFIRMACAO DE PEDIDO - FRIGOGEST*%0A%0AALERTA_LOGISTICA PARA *${R.nome_cliente.toUpperCase()}*%0ADATA: *${U}*%0A%0A* ITENS:*%0A${R.itens.replace(/\n/g,"%0A")}%0A%0A* PREVISAO:* ${R.hora_entrega||"--:--"}%0A%0AFG_CORE_TERMINAL_2026`;window.open(`https://wa.me/55${P.whatsapp.replace(/\D/g,"")}?text=${L}`,"_blank")};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-purple-700 hover:border-purple-100 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-purple-600 p-3 rounded-2xl text-white shadow-xl shadow-purple-100",children:f.jsx(vm,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agenda ",f.jsx("span",{className:"text-purple-600",children:"Logstica"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento de Entregas / ID-SCH"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[f.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ABERTO","CONFIRMADO","TODOS"].map(R=>f.jsx("button",{onClick:()=>y(R),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g===R?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:R.replace("ABERTO","Pendentes").replace("CONFIRMADO","Concludos").replace("TODOS","Todos")},R))}),f.jsxs("button",{onClick:()=>l(!0),className:"btn-modern bg-blue-600 text-white hover:bg-blue-500 px-8 py-3.5 rounded-2xl gap-3 shadow-xl shadow-blue-900/40",children:[f.jsx(Gf,{size:18})," Novo Agendamento"]})]})]}),t.some(R=>R.status==="ABERTO"&&S(R.data_entrega))&&f.jsxs("div",{className:"max-w-7xl mx-auto mb-10 bg-orange-600 rounded-[32px] text-white p-8 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-orange-900/20 animate-pulse-slow",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-0",children:[f.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:f.jsx(Z0,{size:32})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-2xl font-black tracking-tight uppercase",children:"Expedio Urgente"}),f.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:"Pedidos pendentes para as prximas 24 horas"})]})]}),f.jsx("div",{className:"px-6 py-2 rounded-full bg-white/10 text-[10px] font-black tracking-widest border border-white/10 uppercase",children:"Prioridade Mxima"})]}),f.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:N.length===0?f.jsxs("div",{className:"py-32 flex flex-col items-center justify-center bg-white rounded-[40px] border border-dashed border-slate-200",children:[f.jsx(dh,{size:80,className:"mb-6 opacity-05"}),f.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-[0.4em]",children:"Nenhum agendamento encontrado"})]}):f.jsx("div",{className:"grid grid-cols-1 gap-4",children:N.map(R=>{const P=S(R.data_entrega);return f.jsx("div",{onClick:()=>d(R),className:`premium-card p-0 overflow-hidden group cursor-pointer transition-all hover:-translate-y-1 hover:shadow-xl ${R.status==="CONFIRMADO"?"opacity-60 grayscale-[0.5]":""}`,children:f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:`w-28 h-28 flex flex-col items-center justify-center shrink-0 ${P?"bg-orange-600 text-white":"bg-slate-50 text-slate-400"} group-hover:scale-105 transition-transform`,children:[f.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:new Date(R.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short"})}),f.jsx("span",{className:"text-4xl font-black tracking-tighter",children:new Date(R.data_entrega+"T12:00:00").getDate()}),f.jsx("span",{className:"text-[9px] font-bold opacity-60 uppercase",children:new Date(R.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{month:"short"})})]}),f.jsxs("div",{className:"flex-1 p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight truncate max-w-sm",children:R.nome_cliente}),P&&f.jsx("div",{className:"w-2 h-2 bg-rose-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(225,29,72,0.5)]"})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-slate-500 text-[10px] font-black",children:[f.jsx(dT,{size:12}),R.hora_entrega||"--:--"]}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate max-w-lg",children:R.itens})]})]}),f.jsxs("div",{className:"flex items-center gap-5",children:[R.status==="ABERTO"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:U=>{U.stopPropagation(),r(R.id,{status:"CONFIRMADO"})},className:"btn-modern bg-slate-900 text-white px-6 py-2.5 rounded-2xl text-[10px] hover:bg-emerald-600 shadow-lg",children:"Validar"}),f.jsx("button",{onClick:U=>{U.stopPropagation(),C(R)},className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",children:f.jsx(a0,{size:20})})]}):f.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-[10px] uppercase tracking-widest",children:[f.jsx(_u,{size:18})," Concludo"]}),f.jsx(Mc,{size:20,className:"text-slate-200 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})},R.id)})})}),(s||c)&&f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-lg overflow-hidden flex flex-col border border-white",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:s?"Agendamento de Fluxo":"Detalhes do Evento"}),f.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizao Logstica Pro"})]}),f.jsx("button",{onClick:()=>{l(!1),d(null)},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:f.jsx(Sc,{size:20})})]}),f.jsxs("form",{onSubmit:s?A:R=>{R.preventDefault(),r(c.id,c),d(null)},className:"p-10 space-y-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Entidade Cliente"}),s?f.jsxs("select",{required:!0,className:"modern-input h-14",value:h.id_cliente,onChange:R=>m({...h,id_cliente:R.target.value}),children:[f.jsx("option",{value:"",children:"Selecione um Cliente..."}),e.map(R=>f.jsxs("option",{value:R.id_ferro,children:[R.id_ferro,"  ",R.nome_social]},R.id_ferro))]}):f.jsx("div",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:c==null?void 0:c.nome_cliente})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Data Prevista"}),f.jsx("input",{required:!0,type:"date",className:"modern-input",value:s?h.data_entrega:c==null?void 0:c.data_entrega,onChange:R=>s?m({...h,data_entrega:R.target.value}):d({...c,data_entrega:R.target.value})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Janela de Horrio"}),f.jsx("input",{type:"time",className:"modern-input",value:s?h.hora_entrega:c==null?void 0:c.hora_entrega,onChange:R=>s?m({...h,hora_entrega:R.target.value}):d({...c,hora_entrega:R.target.value})})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Manifesto de Carga / Observaes"}),f.jsx("textarea",{required:!0,rows:3,placeholder:"Descreva os itens do agendamento...",className:"modern-input min-h-[100px] p-4",value:s?h.itens:c==null?void 0:c.itens,onChange:R=>s?m({...h,itens:R.target.value}):d({...c,itens:R.target.value})})]}),!s&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Estado Operacional"}),f.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100",children:[f.jsx("button",{type:"button",onClick:()=>d({...c,status:"ABERTO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="ABERTO"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Pendente"}),f.jsx("button",{type:"button",onClick:()=>d({...c,status:"CONFIRMADO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="CONFIRMADO"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Concludo"})]})]}),f.jsxs("button",{type:"submit",className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all",children:[f.jsx(s1,{size:20})," ",s?"Efetivar Agendamento":"Confirmar Alteraes"]})]})]})})]})},Fye=()=>{};var n8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Uye=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Tq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|d>>6,y=d&63;c||(y=64,s||(g=64)),r.push(n[h],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uye(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new Bye;const g=a<<2|l>>4;if(r.push(g),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const N=d<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qye=function(t){const e=Nq(t);return Tq.encodeByteArray(e,!0)},wx=function(t){return qye(t).replace(/\./g,"")},Cq=function(t){try{return Tq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zye=()=>Vye().__FIREBASE_DEFAULTS__,$ye=()=>{if(typeof process>"u"||typeof n8>"u")return;const t=n8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cq(t[1]);return e&&JSON.parse(e)},Rb=()=>{try{return Fye()||zye()||$ye()||Hye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iq=t=>{var e,n;return(n=(e=Rb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rq=t=>{const e=Iq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kq=()=>{var t;return(t=Rb())===null||t===void 0?void 0:t.config},Pq=t=>{var e;return(e=Rb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wx(JSON.stringify(n)),wx(JSON.stringify(s)),""].join(".")}const Jg={};function Wye(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jg))Jg[e]?t.emulator.push(e):t.prod.push(e);return t}function Kye(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r8=!1;function OC(t,e){if(typeof window>"u"||typeof document>"u"||!ff(window.location.host)||Jg[t]===e||Jg[t]||r8)return;Jg[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Wye().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{r8=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Kye(r),y=n("text"),N=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;l(P),h(S,A);const U=d();c(R,C),P.append(R,N,S,U),document.body.appendChild(P)}a?(N.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(os())}function Xye(){var t;const e=(t=Rb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zye(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e1e(){const t=os();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t1e(){return!Xye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n1e(){try{return typeof indexedDB=="object"}catch{return!1}}function r1e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1e="FirebaseError";class Bc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i1e,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lv.prototype.create)}}class lv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?a1e(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Bc(i,l,r)}}function a1e(t,e){return t.replace(s1e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s1e=/\{\$([^}]+)}/g;function o1e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(i8(a)&&i8(s)){if(!ah(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l1e(t,e){const n=new c1e(t,e);return n.subscribe.bind(n)}class c1e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");u1e(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=TS),i.error===void 0&&(i.error=TS),i.complete===void 0&&(i.complete=TS);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u1e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function TS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){return t&&t._delegate?t._delegate:t}class Xd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gye;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h1e(e))try{this.getOrInitializeService({instanceIdentifier:Lf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Lf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lf){return this.instances.has(e)}getOptions(e=Lf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f1e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lf){return this.component?this.component.multipleInstances?e:Lf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f1e(t){return t===Lf?void 0:t}function h1e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d1e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Un||(Un={}));const m1e={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},g1e=Un.INFO,v1e={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},y1e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v1e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jC{constructor(e){this.name=e,this._logLevel=g1e,this._logHandler=y1e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m1e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...e),this._logHandler(this,Un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...e),this._logHandler(this,Un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...e),this._logHandler(this,Un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...e),this._logHandler(this,Un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...e),this._logHandler(this,Un.ERROR,...e)}}const x1e=(t,e)=>e.some(n=>t instanceof n);let a8,s8;function b1e(){return a8||(a8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1e(){return s8||(s8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jq=new WeakMap,MN=new WeakMap,Mq=new WeakMap,CS=new WeakMap,MC=new WeakMap;function w1e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(qd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jq.set(n,t)}).catch(()=>{}),MC.set(e,t),e}function A1e(t){if(MN.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});MN.set(t,e)}let DN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return MN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S1e(t){DN=t(DN)}function E1e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(IS(this),e,...n);return Mq.set(r,e.sort?e.sort():[e]),qd(r)}:_1e().includes(t)?function(...e){return t.apply(IS(this),e),qd(jq.get(this))}:function(...e){return qd(t.apply(IS(this),e))}}function N1e(t){return typeof t=="function"?E1e(t):(t instanceof IDBTransaction&&A1e(t),x1e(t,b1e())?new Proxy(t,DN):t)}function qd(t){if(t instanceof IDBRequest)return w1e(t);if(CS.has(t))return CS.get(t);const e=N1e(t);return e!==t&&(CS.set(t,e),MC.set(e,t)),e}const IS=t=>MC.get(t);function T1e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=qd(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qd(s.result),c.oldVersion,c.newVersion,qd(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const C1e=["get","getKey","getAll","getAllKeys","count"],I1e=["put","add","delete","clear"],RS=new Map;function o8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(RS.get(e))return RS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I1e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C1e.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return RS.set(e,a),a}S1e(t=>({...t,get:(e,n,r)=>o8(e,n)||t.get(e,n,r),has:(e,n)=>!!o8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k1e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function k1e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const LN="@firebase/app",l8="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new jC("@firebase/app"),P1e="@firebase/app-compat",O1e="@firebase/analytics-compat",j1e="@firebase/analytics",M1e="@firebase/app-check-compat",D1e="@firebase/app-check",L1e="@firebase/auth",F1e="@firebase/auth-compat",U1e="@firebase/database",B1e="@firebase/data-connect",q1e="@firebase/database-compat",V1e="@firebase/functions",z1e="@firebase/functions-compat",$1e="@firebase/installations",H1e="@firebase/installations-compat",G1e="@firebase/messaging",W1e="@firebase/messaging-compat",K1e="@firebase/performance",Y1e="@firebase/performance-compat",X1e="@firebase/remote-config",J1e="@firebase/remote-config-compat",Q1e="@firebase/storage",Z1e="@firebase/storage-compat",exe="@firebase/firestore",txe="@firebase/ai",nxe="@firebase/firestore-compat",rxe="firebase",ixe="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="[DEFAULT]",axe={[LN]:"fire-core",[P1e]:"fire-core-compat",[j1e]:"fire-analytics",[O1e]:"fire-analytics-compat",[D1e]:"fire-app-check",[M1e]:"fire-app-check-compat",[L1e]:"fire-auth",[F1e]:"fire-auth-compat",[U1e]:"fire-rtdb",[B1e]:"fire-data-connect",[q1e]:"fire-rtdb-compat",[V1e]:"fire-fn",[z1e]:"fire-fn-compat",[$1e]:"fire-iid",[H1e]:"fire-iid-compat",[G1e]:"fire-fcm",[W1e]:"fire-fcm-compat",[K1e]:"fire-perf",[Y1e]:"fire-perf-compat",[X1e]:"fire-rc",[J1e]:"fire-rc-compat",[Q1e]:"fire-gcs",[Z1e]:"fire-gcs-compat",[exe]:"fire-fst",[nxe]:"fire-fst-compat",[txe]:"fire-vertex","fire-js":"fire-js",[rxe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map,sxe=new Map,UN=new Map;function c8(t,e){try{t.container.addComponent(e)}catch(n){Ru.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sh(t){const e=t.name;if(UN.has(e))return Ru.debug(`There were multiple attempts to register component ${e}.`),!1;UN.set(e,t);for(const n of Ax.values())c8(n,t);for(const n of sxe.values())c8(n,t);return!0}function kb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vd=new lv("app","Firebase",oxe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=ixe;function Dq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:FN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vd.create("bad-app-name",{appName:String(i)});if(n||(n=kq()),!n)throw Vd.create("no-options");const a=Ax.get(i);if(a){if(ah(n,a.options)&&ah(r,a.config))return a;throw Vd.create("duplicate-app",{appName:i})}const s=new p1e(i);for(const c of UN.values())s.addComponent(c);const l=new lxe(n,r,s);return Ax.set(i,l),l}function DC(t=FN){const e=Ax.get(t);if(!e&&t===FN&&kq())return Dq();if(!e)throw Vd.create("no-app",{appName:t});return e}function Cc(t,e,n){var r;let i=(r=axe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ru.warn(l.join(" "));return}sh(new Xd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cxe="firebase-heartbeat-database",uxe=1,z0="firebase-heartbeat-store";let kS=null;function Lq(){return kS||(kS=T1e(cxe,uxe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(z0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vd.create("idb-open",{originalErrorMessage:t.message})})),kS}async function dxe(t){try{const n=(await Lq()).transaction(z0),r=await n.objectStore(z0).get(Fq(t));return await n.done,r}catch(e){if(e instanceof Bc)Ru.warn(e.message);else{const n=Vd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ru.warn(n.message)}}}async function u8(t,e){try{const r=(await Lq()).transaction(z0,"readwrite");await r.objectStore(z0).put(e,Fq(t)),await r.done}catch(n){if(n instanceof Bc)Ru.warn(n.message);else{const r=Vd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ru.warn(r.message)}}}function Fq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fxe=1024,hxe=30;class pxe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gxe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=d8();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hxe){const s=vxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ru.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d8(),{heartbeatsToSend:r,unsentEntries:i}=mxe(this._heartbeatsCache.heartbeats),a=wx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ru.warn(n),""}}}function d8(){return new Date().toISOString().substring(0,10)}function mxe(t,e=fxe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),f8(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gxe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n1e()?r1e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dxe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f8(t){return wx(JSON.stringify({version:2,heartbeats:t})).length}function vxe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yxe(t){sh(new Xd("platform-logger",e=>new R1e(e),"PRIVATE")),sh(new Xd("heartbeat",e=>new pxe(e),"PRIVATE")),Cc(LN,l8,t),Cc(LN,l8,"esm2017"),Cc("fire-js","")}yxe("");var xxe="firebase",bxe="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc(xxe,bxe,"app");function LC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Uq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _xe=Uq,Bq=new lv("auth","Firebase",Uq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new jC("@firebase/auth");function wxe(t,...e){Sx.logLevel<=Un.WARN&&Sx.warn(`Auth (${yh}): ${t}`,...e)}function Yy(t,...e){Sx.logLevel<=Un.ERROR&&Sx.error(`Auth (${yh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,...e){throw FC(t,...e)}function Ic(t,...e){return FC(t,...e)}function qq(t,e,n){const r=Object.assign(Object.assign({},_xe()),{[e]:n});return new lv("auth","Firebase",r).create(e,{appName:t.name})}function zd(t){return qq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bq.create(t,...e)}function an(t,e,...n){if(!t)throw FC(e,...n)}function xu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yy(e),new Error(e)}function ku(t,e){t||xu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Axe(){return h8()==="http:"||h8()==="https:"}function h8(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sxe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Axe()||Qye()||"connection"in navigator)?navigator.onLine:!0}function Exe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.shortDelay=e,this.longDelay=n,ku(n>e,"Short delay should be less than long delay!"),this.isMobile=Yye()||Zye()}get(){return Sxe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){ku(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nxe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Txe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cxe=new uv(3e4,6e4);function xh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hf(t,e,n,r,i={}){return zq(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=cv(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return Jye()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ff(t.emulatorConfig.host)&&(d.credentials="include"),Vq.fetch()(await $q(t,t.config.apiHost,n,l),d)})}async function zq(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nxe),e);try{const i=new Rxe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw jy(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jy(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw jy(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw jy(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qq(t,h,d);Pl(t,h)}}catch(i){if(i instanceof Bc)throw i;Pl(t,"network-request-failed",{message:String(i)})}}async function Pb(t,e,n,r,i={}){const a=await hf(t,e,n,r,i);return"mfaPendingCredential"in a&&Pl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function $q(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?UC(t.config,i):`${t.config.apiScheme}://${i}`;return Txe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Ixe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rxe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ic(this.auth,"network-request-failed")),Cxe.get())})}}function jy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ic(t,e,r);return i.customData._tokenResponse=n,i}function p8(t){return t!==void 0&&t.enterprise!==void 0}class kxe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ixe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pxe(t,e){return hf(t,"GET","/v2/recaptchaConfig",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oxe(t,e){return hf(t,"POST","/v1/accounts:delete",e)}async function Ex(t,e){return hf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jxe(t,e=!1){const n=Yr(t),r=await n.getIdToken(e),i=BC(r);an(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Qg(PS(i.auth_time)),issuedAtTime:Qg(PS(i.iat)),expirationTime:Qg(PS(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function PS(t){return Number(t)*1e3}function BC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cq(n);return i?JSON.parse(i):(Yy("Failed to decode base64 JWT payload"),null)}catch(i){return Yy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function m8(t){const e=BC(t);return an(e,"internal-error"),an(typeof e.exp<"u","internal-error"),an(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bc&&Mxe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mxe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dxe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qg(this.lastLoginAt),this.creationTime=Qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $0(t,Ex(n,{idToken:r}));an(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Hq(a.providerUserInfo):[],l=Fxe(t.providerData,s),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new qN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Lxe(t){const e=Yr(t);await Nx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fxe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hq(t){return t.map(e=>{var{providerId:n}=e,r=LC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uxe(t,e){const n=await zq(t,{},async()=>{const r=cv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await $q(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ff(t.emulatorConfig.host)&&(c.credentials="include"),Vq.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bxe(t,e){return hf(t,"POST","/v2/accounts:revokeToken",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){an(e.idToken,"internal-error"),an(typeof e.idToken<"u","internal-error"),an(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){an(e.length!==0,"internal-error");const n=m8(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(an(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Uxe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Dp;return r&&(an(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(an(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(an(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dp,this.toJSON())}_performRefresh(){return xu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e){an(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=LC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await $0(this,this.stsTokenManager.getToken(this.auth,e));return an(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jxe(this,e)}reload(){return Lxe(this)}_assign(e){this!==e&&(an(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){an(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qo(this.auth.app))return Promise.reject(zd(this.auth));const e=await this.getIdToken();return await $0(this,Oxe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,d,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(d=n.createdAt)!==null&&d!==void 0?d:void 0,R=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:U,isAnonymous:L,providerData:z,stsTokenManager:k}=n;an(P&&k,e,"internal-error");const O=Dp.fromJSON(this.name,k);an(typeof P=="string",e,"internal-error"),wd(m,e.name),wd(g,e.name),an(typeof U=="boolean",e,"internal-error"),an(typeof L=="boolean",e,"internal-error"),wd(y,e.name),wd(N,e.name),wd(A,e.name),wd(S,e.name),wd(C,e.name),wd(R,e.name);const V=new Cl({uid:P,auth:e,email:g,emailVerified:U,displayName:m,isAnonymous:L,photoURL:N,phoneNumber:y,tenantId:A,stsTokenManager:O,createdAt:C,lastLoginAt:R});return z&&Array.isArray(z)&&(V.providerData=z.map(W=>Object.assign({},W))),S&&(V._redirectEventId=S),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dp;i.updateFromServerResponse(n);const a=new Cl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nx(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];an(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Hq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Dp;l.updateFromIdToken(r);const c=new Cl({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new Map;function bu(t){ku(t instanceof Function,"Expected a class definition");let e=g8.get(t);return e?(ku(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g8.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gq.type="NONE";const v8=Gq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e,n){return`firebase:${t}:${e}:${n}`}class Lp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ex(this.auth,{idToken:e}).catch(()=>{});return n?Cl._fromGetAccountInfoResponse(this.auth,n,e):null}return Cl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lp(bu(v8),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||bu(v8);const s=Xy(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(s);if(h){let m;if(typeof h=="string"){const g=await Ex(e,{idToken:h}).catch(()=>{});if(!g)break;m=await Cl._fromGetAccountInfoResponse(e,g,h)}else m=Cl._fromJSON(e,h);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Lp(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Lp(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qq(e))return"Blackberry";if(Zq(e))return"Webos";if(Kq(e))return"Safari";if((e.includes("chrome/")||Yq(e))&&!e.includes("edge/"))return"Chrome";if(Jq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wq(t=os()){return/firefox\//i.test(t)}function Kq(t=os()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yq(t=os()){return/crios\//i.test(t)}function Xq(t=os()){return/iemobile/i.test(t)}function Jq(t=os()){return/android/i.test(t)}function Qq(t=os()){return/blackberry/i.test(t)}function Zq(t=os()){return/webos/i.test(t)}function qC(t=os()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qxe(t=os()){var e;return qC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vxe(){return e1e()&&document.documentMode===10}function eV(t=os()){return qC(t)||Jq(t)||Zq(t)||Qq(t)||/windows phone/i.test(t)||Xq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e=[]){let n;switch(t){case"Browser":n=y8(os());break;case"Worker":n=`${y8(os())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zxe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $xe(t,e={}){return hf(t,"GET","/v2/passwordPolicy",xh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hxe=6;class Gxe{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Hxe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wxe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x8(this),this.idTokenSubscription=new x8(this),this.beforeStateQueue=new zxe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bu(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Lp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ex(this,{idToken:e}),r=await Cl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return an(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Exe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qo(this.app))return Promise.reject(zd(this));const n=e?Yr(e):null;return n&&an(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&an(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qo(this.app)?Promise.reject(zd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qo(this.app)?Promise.reject(zd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $xe(this),n=new Gxe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bxe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bu(e)||this._popupRedirectResolver;an(n,this,"argument-error"),this.redirectPersistenceManager=await Lp.create(this,[bu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(an(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return an(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(qo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wxe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function km(t){return Yr(t)}class x8{constructor(e){this.auth=e,this.observer=null,this.addObserver=l1e(n=>this.observer=n)}get next(){return an(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kxe(t){Ob=t}function nV(t){return Ob.loadJS(t)}function Yxe(){return Ob.recaptchaEnterpriseScript}function Xxe(){return Ob.gapiScript}function Jxe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Qxe{constructor(){this.enterprise=new Zxe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Zxe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ebe="recaptcha-enterprise",rV="NO_RECAPTCHA";class tbe{constructor(e){this.type=ebe,this.auth=km(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{Pxe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new kxe(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,s,l){const c=window.grecaptcha;p8(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(rV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qxe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&p8(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Yxe();c.length!==0&&(c+=l),nV(c).then(()=>{i(l,a,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function b8(t,e,n,r=!1,i=!1){const a=new tbe(t);let s;if(i)s=rV;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function _8(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await b8(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await b8(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nbe(t,e){const n=kb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ah(a,e??{}))return i;Pl(i,"already-initialized")}return n.initialize({options:e})}function rbe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ibe(t,e,n){const r=km(t);an(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=iV(e),{host:s,port:l}=abe(e),c=l===null?"":`:${l}`,d={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){an(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),an(ah(d,r.config.emulator)&&ah(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ff(s)?(PC(`${a}//${s}${c}`),OC("Auth",!0)):sbe()}function iV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function abe(t){const e=iV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:w8(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:w8(s)}}}function w8(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sbe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xu("not implemented")}_getIdTokenResponse(e){return xu("not implemented")}_linkToIdToken(e,n){return xu("not implemented")}_getReauthenticationResolver(e){return xu("not implemented")}}async function obe(t,e){return hf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lbe(t,e){return Pb(t,"POST","/v1/accounts:signInWithPassword",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cbe(t,e){return Pb(t,"POST","/v1/accounts:signInWithEmailLink",xh(t,e))}async function ube(t,e){return Pb(t,"POST","/v1/accounts:signInWithEmailLink",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends VC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new H0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new H0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _8(e,n,"signInWithPassword",lbe);case"emailLink":return cbe(e,{email:this._email,oobCode:this._password});default:Pl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _8(e,r,"signUpPassword",obe);case"emailLink":return ube(e,{idToken:n,email:this._email,oobCode:this._password});default:Pl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(t,e){return Pb(t,"POST","/v1/accounts:signInWithIdp",xh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dbe="http://localhost";class oh extends VC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=LC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new oh(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Fp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fp(e,n)}buildRequest(){const e={requestUri:dbe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fbe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hbe(t){const e=Lg(Fg(t)).link,n=e?Lg(Fg(e)).deep_link_id:null,r=Lg(Fg(t)).deep_link_id;return(r?Lg(Fg(r)).link:null)||r||n||e||t}class zC{constructor(e){var n,r,i,a,s,l;const c=Lg(Fg(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=fbe((i=c.mode)!==null&&i!==void 0?i:null);an(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=hbe(e);try{return new zC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.providerId=Pm.PROVIDER_ID}static credential(e,n){return H0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zC.parseLink(n);return an(r,"argument-error"),H0._fromEmailAndCode(e,r.code,r.tenantId)}}Pm.PROVIDER_ID="password";Pm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends aV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends dv{constructor(){super("facebook.com")}static credential(e){return oh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends dv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oh._fromParams({providerId:Id.PROVIDER_ID,signInMethod:Id.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Id.credentialFromTaggedObject(e)}static credentialFromError(e){return Id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Id.credential(n,r)}catch{return null}}}Id.GOOGLE_SIGN_IN_METHOD="google.com";Id.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends dv{constructor(){super("github.com")}static credential(e){return oh._fromParams({providerId:Rd.PROVIDER_ID,signInMethod:Rd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rd.credentialFromTaggedObject(e)}static credentialFromError(e){return Rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rd.credential(e.oauthAccessToken)}catch{return null}}}Rd.GITHUB_SIGN_IN_METHOD="github.com";Rd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends dv{constructor(){super("twitter.com")}static credential(e,n){return oh._fromParams({providerId:kd.PROVIDER_ID,signInMethod:kd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kd.credentialFromTaggedObject(e)}static credentialFromError(e){return kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kd.credential(n,r)}catch{return null}}}kd.TWITTER_SIGN_IN_METHOD="twitter.com";kd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Cl._fromIdTokenResponse(e,r,i),s=A8(r);return new um({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A8(r);return new um({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A8(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx extends Bc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tx(e,n,r,i)}}function sV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Tx._fromErrorAndOperation(t,a,e,r):a})}async function pbe(t,e,n=!1){const r=await $0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return um._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mbe(t,e,n=!1){const{auth:r}=t;if(qo(r.app))return Promise.reject(zd(r));const i="reauthenticate";try{const a=await $0(t,sV(r,i,e,t),n);an(a.idToken,r,"internal-error");const s=BC(a.idToken);an(s,r,"internal-error");const{sub:l}=s;return an(t.uid===l,r,"user-mismatch"),um._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e,n=!1){if(qo(t.app))return Promise.reject(zd(t));const r="signIn",i=await sV(t,r,e),a=await um._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function gbe(t,e){return oV(km(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vbe(t){const e=km(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function S8(t,e,n){return qo(t.app)?Promise.reject(zd(t)):gbe(Yr(t),Pm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vbe(t),r})}function ybe(t,e,n,r){return Yr(t).onIdTokenChanged(e,n,r)}function xbe(t,e,n){return Yr(t).beforeAuthStateChanged(e,n)}function bbe(t,e,n,r){return Yr(t).onAuthStateChanged(e,n,r)}function _be(t){return Yr(t).signOut()}const Cx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cx,"1"),this.storage.removeItem(Cx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wbe=1e3,Abe=10;class cV extends lV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Vxe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Abe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cV.type="LOCAL";const Sbe=cV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV extends lV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uV.type="SESSION";const dV=uV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ebe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async d=>d(n.origin,a)),c=await Ebe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nbe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const d=$C("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(){return window}function Tbe(t){Rc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){return typeof Rc().WorkerGlobalScope<"u"&&typeof Rc().importScripts=="function"}async function Cbe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ibe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rbe(){return fV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebaseLocalStorageDb",kbe=1,Ix="firebaseLocalStorage",pV="fbase_key";class fv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mb(t,e){return t.transaction([Ix],e?"readwrite":"readonly").objectStore(Ix)}function Pbe(){const t=indexedDB.deleteDatabase(hV);return new fv(t).toPromise()}function VN(){const t=indexedDB.open(hV,kbe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ix,{keyPath:pV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ix)?e(r):(r.close(),await Pbe(),e(await VN()))})})}async function E8(t,e,n){const r=Mb(t,!0).put({[pV]:e,value:n});return new fv(r).toPromise()}async function Obe(t,e){const n=Mb(t,!1).get(e),r=await new fv(n).toPromise();return r===void 0?null:r.value}function N8(t,e){const n=Mb(t,!0).delete(e);return new fv(n).toPromise()}const jbe=800,Mbe=3;class mV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mbe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jb._getInstance(Rbe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cbe(),!this.activeServiceWorker)return;this.sender=new Nbe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ibe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VN();return await E8(e,Cx,"1"),await N8(e,Cx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E8(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Obe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N8(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Mb(i,!1).getAll();return new fv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mV.type="LOCAL";const Dbe=mV;new uv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lbe(t,e){return e?bu(e):(an(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends VC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fbe(t){return oV(t.auth,new HC(t),t.bypassAuthState)}function Ube(t){const{auth:e,user:n}=t;return an(n,e,"internal-error"),mbe(n,new HC(t),t.bypassAuthState)}async function Bbe(t){const{auth:e,user:n}=t;return an(n,e,"internal-error"),pbe(n,new HC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fbe;case"linkViaPopup":case"linkViaRedirect":return Bbe;case"reauthViaPopup":case"reauthViaRedirect":return Ube;default:Pl(this.auth,"internal-error")}}resolve(e){ku(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ku(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qbe=new uv(2e3,1e4);class Ap extends gV{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ap.currentPopupAction&&Ap.currentPopupAction.cancel(),Ap.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return an(e,this.auth,"internal-error"),e}async onExecution(){ku(this.filter.length===1,"Popup operations only handle one event");const e=$C();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ic(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ic(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ap.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ic(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qbe.get())};e()}}Ap.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vbe="pendingRedirect",Jy=new Map;class zbe extends gV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jy.get(this.auth._key());if(!e){try{const r=await $be(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jy.set(this.auth._key(),e)}return this.bypassAuthState||Jy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $be(t,e){const n=Wbe(e),r=Gbe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hbe(t,e){Jy.set(t._key(),e)}function Gbe(t){return bu(t._redirectPersistence)}function Wbe(t){return Xy(Vbe,t.config.apiKey,t.name)}async function Kbe(t,e,n=!1){if(qo(t.app))return Promise.reject(zd(t));const r=km(t),i=Lbe(r,e),s=await new zbe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ybe=600*1e3;class Xbe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jbe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ic(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ybe&&this.cachedEventUids.clear(),this.cachedEventUids.has(T8(e))}saveEventToCache(e){this.cachedEventUids.add(T8(e)),this.lastProcessedEventTime=Date.now()}}function T8(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jbe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qbe(t,e={}){return hf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2e=/^https?/;async function t2e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Qbe(t);for(const n of e)try{if(n2e(n))return}catch{}Pl(t,"unauthorized-domain")}function n2e(t){const e=BN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!e2e.test(n))return!1;if(Zbe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2e=new uv(3e4,6e4);function C8(){const t=Rc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i2e(t){return new Promise((e,n)=>{var r,i,a;function s(){C8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C8(),n(Ic(t,"network-request-failed"))},timeout:r2e.get()})}if(!((i=(r=Rc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Rc().gapi)===null||a===void 0)&&a.load)s();else{const l=Jxe("iframefcb");return Rc()[l]=()=>{gapi.load?s():n(Ic(t,"network-request-failed"))},nV(`${Xxe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Qy=null,e})}let Qy=null;function a2e(t){return Qy=Qy||i2e(t),Qy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2e=new uv(5e3,15e3),o2e="__/auth/iframe",l2e="emulator/auth/iframe",c2e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2e(t){const e=t.config;an(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UC(e,l2e):`https://${t.config.authDomain}/${o2e}`,r={apiKey:e.apiKey,appName:t.name,v:yh},i=u2e.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${cv(r).slice(1)}`}async function f2e(t){const e=await a2e(t),n=Rc().gapi;return an(n,t,"internal-error"),e.open({where:document.body,url:d2e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2e,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ic(t,"network-request-failed"),l=Rc().setTimeout(()=>{a(s)},s2e.get());function c(){Rc().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2e=500,m2e=600,g2e="_blank",v2e="http://localhost";class I8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2e(t,e,n,r=p2e,i=m2e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},h2e),{width:r.toString(),height:i.toString(),top:a,left:s}),d=os().toLowerCase();n&&(l=Yq(d)?g2e:n),Wq(d)&&(e=e||v2e,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[y,N])=>`${g}${y}=${N},`,"");if(qxe(d)&&l!=="_self")return x2e(e||"",l),new I8(null);const m=window.open(e||"",l,h);an(m,t,"popup-blocked");try{m.focus()}catch{}return new I8(m)}function x2e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2e="__/auth/handler",_2e="emulator/auth/handler",w2e=encodeURIComponent("fac");async function R8(t,e,n,r,i,a){an(t.config.authDomain,t,"auth-domain-config-required"),an(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yh,eventId:i};if(e instanceof aV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",o1e(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof dv){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${w2e}=${encodeURIComponent(c)}`:"";return`${A2e(t)}?${cv(l).slice(1)}${d}`}function A2e({config:t}){return t.emulator?UC(t,_2e):`https://${t.authDomain}/${b2e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="webStorageSupport";class S2e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dV,this._completeRedirectFn=Kbe,this._overrideRedirectResult=Hbe}async _openPopup(e,n,r,i){var a;ku((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await R8(e,n,r,BN(),i);return y2e(e,s,$C())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await R8(e,n,r,BN(),i);return Tbe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ku(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f2e(e),r=new Xbe(e);return n.register("authEvent",i=>(an(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(OS,{type:OS},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[OS];s!==void 0&&n(!!s),Pl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t2e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eV()||Kq()||qC()}}const E2e=S2e;var k8="@firebase/auth",P8="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){an(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2e(t){sh(new Xd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;an(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tV(t)},d=new Wxe(r,i,a,c);return rbe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sh(new Xd("auth-internal",e=>{const n=km(e.getProvider("auth").getImmediate());return(r=>new N2e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cc(k8,P8,T2e(t)),Cc(k8,P8,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2e=300,R2e=Pq("authIdTokenMaxAge")||I2e;let O8=null;const k2e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R2e)return;const i=n==null?void 0:n.token;O8!==i&&(O8=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function P2e(t=DC()){const e=kb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nbe(t,{popupRedirectResolver:E2e,persistence:[Dbe,Sbe,dV]}),r=Pq("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=k2e(a.toString());xbe(n,s,()=>s(n.currentUser)),ybe(n,l=>s(l))}}const i=Iq("auth");return i&&ibe(n,`http://${i}`),n}function O2e(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kxe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ic("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",O2e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2e("Browser");var j8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $d,yV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function V(){}V.prototype=O.prototype,k.D=O.prototype,k.prototype=new V,k.prototype.constructor=k,k.C=function(W,B,D){for(var F=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)F[Q-2]=arguments[Q];return O.prototype[B].apply(W,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,O,V){V||(V=0);var W=Array(16);if(typeof O=="string")for(var B=0;16>B;++B)W[B]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(B=0;16>B;++B)W[B]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=k.g[0],V=k.g[1],B=k.g[2];var D=k.g[3],F=O+(D^V&(B^D))+W[0]+3614090360&4294967295;O=V+(F<<7&4294967295|F>>>25),F=D+(B^O&(V^B))+W[1]+3905402710&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(V^D&(O^V))+W[2]+606105819&4294967295,B=D+(F<<17&4294967295|F>>>15),F=V+(O^B&(D^O))+W[3]+3250441966&4294967295,V=B+(F<<22&4294967295|F>>>10),F=O+(D^V&(B^D))+W[4]+4118548399&4294967295,O=V+(F<<7&4294967295|F>>>25),F=D+(B^O&(V^B))+W[5]+1200080426&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(V^D&(O^V))+W[6]+2821735955&4294967295,B=D+(F<<17&4294967295|F>>>15),F=V+(O^B&(D^O))+W[7]+4249261313&4294967295,V=B+(F<<22&4294967295|F>>>10),F=O+(D^V&(B^D))+W[8]+1770035416&4294967295,O=V+(F<<7&4294967295|F>>>25),F=D+(B^O&(V^B))+W[9]+2336552879&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(V^D&(O^V))+W[10]+4294925233&4294967295,B=D+(F<<17&4294967295|F>>>15),F=V+(O^B&(D^O))+W[11]+2304563134&4294967295,V=B+(F<<22&4294967295|F>>>10),F=O+(D^V&(B^D))+W[12]+1804603682&4294967295,O=V+(F<<7&4294967295|F>>>25),F=D+(B^O&(V^B))+W[13]+4254626195&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(V^D&(O^V))+W[14]+2792965006&4294967295,B=D+(F<<17&4294967295|F>>>15),F=V+(O^B&(D^O))+W[15]+1236535329&4294967295,V=B+(F<<22&4294967295|F>>>10),F=O+(B^D&(V^B))+W[1]+4129170786&4294967295,O=V+(F<<5&4294967295|F>>>27),F=D+(V^B&(O^V))+W[6]+3225465664&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^V&(D^O))+W[11]+643717713&4294967295,B=D+(F<<14&4294967295|F>>>18),F=V+(D^O&(B^D))+W[0]+3921069994&4294967295,V=B+(F<<20&4294967295|F>>>12),F=O+(B^D&(V^B))+W[5]+3593408605&4294967295,O=V+(F<<5&4294967295|F>>>27),F=D+(V^B&(O^V))+W[10]+38016083&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^V&(D^O))+W[15]+3634488961&4294967295,B=D+(F<<14&4294967295|F>>>18),F=V+(D^O&(B^D))+W[4]+3889429448&4294967295,V=B+(F<<20&4294967295|F>>>12),F=O+(B^D&(V^B))+W[9]+568446438&4294967295,O=V+(F<<5&4294967295|F>>>27),F=D+(V^B&(O^V))+W[14]+3275163606&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^V&(D^O))+W[3]+4107603335&4294967295,B=D+(F<<14&4294967295|F>>>18),F=V+(D^O&(B^D))+W[8]+1163531501&4294967295,V=B+(F<<20&4294967295|F>>>12),F=O+(B^D&(V^B))+W[13]+2850285829&4294967295,O=V+(F<<5&4294967295|F>>>27),F=D+(V^B&(O^V))+W[2]+4243563512&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^V&(D^O))+W[7]+1735328473&4294967295,B=D+(F<<14&4294967295|F>>>18),F=V+(D^O&(B^D))+W[12]+2368359562&4294967295,V=B+(F<<20&4294967295|F>>>12),F=O+(V^B^D)+W[5]+4294588738&4294967295,O=V+(F<<4&4294967295|F>>>28),F=D+(O^V^B)+W[8]+2272392833&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^V)+W[11]+1839030562&4294967295,B=D+(F<<16&4294967295|F>>>16),F=V+(B^D^O)+W[14]+4259657740&4294967295,V=B+(F<<23&4294967295|F>>>9),F=O+(V^B^D)+W[1]+2763975236&4294967295,O=V+(F<<4&4294967295|F>>>28),F=D+(O^V^B)+W[4]+1272893353&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^V)+W[7]+4139469664&4294967295,B=D+(F<<16&4294967295|F>>>16),F=V+(B^D^O)+W[10]+3200236656&4294967295,V=B+(F<<23&4294967295|F>>>9),F=O+(V^B^D)+W[13]+681279174&4294967295,O=V+(F<<4&4294967295|F>>>28),F=D+(O^V^B)+W[0]+3936430074&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^V)+W[3]+3572445317&4294967295,B=D+(F<<16&4294967295|F>>>16),F=V+(B^D^O)+W[6]+76029189&4294967295,V=B+(F<<23&4294967295|F>>>9),F=O+(V^B^D)+W[9]+3654602809&4294967295,O=V+(F<<4&4294967295|F>>>28),F=D+(O^V^B)+W[12]+3873151461&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^V)+W[15]+530742520&4294967295,B=D+(F<<16&4294967295|F>>>16),F=V+(B^D^O)+W[2]+3299628645&4294967295,V=B+(F<<23&4294967295|F>>>9),F=O+(B^(V|~D))+W[0]+4096336452&4294967295,O=V+(F<<6&4294967295|F>>>26),F=D+(V^(O|~B))+W[7]+1126891415&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~V))+W[14]+2878612391&4294967295,B=D+(F<<15&4294967295|F>>>17),F=V+(D^(B|~O))+W[5]+4237533241&4294967295,V=B+(F<<21&4294967295|F>>>11),F=O+(B^(V|~D))+W[12]+1700485571&4294967295,O=V+(F<<6&4294967295|F>>>26),F=D+(V^(O|~B))+W[3]+2399980690&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~V))+W[10]+4293915773&4294967295,B=D+(F<<15&4294967295|F>>>17),F=V+(D^(B|~O))+W[1]+2240044497&4294967295,V=B+(F<<21&4294967295|F>>>11),F=O+(B^(V|~D))+W[8]+1873313359&4294967295,O=V+(F<<6&4294967295|F>>>26),F=D+(V^(O|~B))+W[15]+4264355552&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~V))+W[6]+2734768916&4294967295,B=D+(F<<15&4294967295|F>>>17),F=V+(D^(B|~O))+W[13]+1309151649&4294967295,V=B+(F<<21&4294967295|F>>>11),F=O+(B^(V|~D))+W[4]+4149444226&4294967295,O=V+(F<<6&4294967295|F>>>26),F=D+(V^(O|~B))+W[11]+3174756917&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~V))+W[2]+718787259&4294967295,B=D+(F<<15&4294967295|F>>>17),F=V+(D^(B|~O))+W[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,O){O===void 0&&(O=k.length);for(var V=O-this.blockSize,W=this.B,B=this.h,D=0;D<O;){if(B==0)for(;D<=V;)i(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<O;)if(W[B++]=k.charCodeAt(D++),B==this.blockSize){i(this,W),B=0;break}}else for(;D<O;)if(W[B++]=k[D++],B==this.blockSize){i(this,W),B=0;break}}this.h=B,this.o+=O},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;var V=8*this.o;for(O=k.length-8;O<k.length;++O)k[O]=V&255,V/=256;for(this.u(k),k=Array(16),O=V=0;4>O;++O)for(var W=0;32>W;W+=8)k[V++]=this.g[O]>>>W&255;return k};function a(k,O){var V=l;return Object.prototype.hasOwnProperty.call(V,k)?V[k]:V[k]=O(k)}function s(k,O){this.h=O;for(var V=[],W=!0,B=k.length-1;0<=B;B--){var D=k[B]|0;W&&D==O||(V[B]=D,W=!1)}this.g=V}var l={};function c(k){return-128<=k&&128>k?a(k,function(O){return new s([O|0],0>O?-1:0)}):new s([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return S(d(-k));for(var O=[],V=1,W=0;k>=V;W++)O[W]=k/V|0,V*=4294967296;return new s(O,0)}function h(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return S(h(k.substring(1),O));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=d(Math.pow(O,8)),W=m,B=0;B<k.length;B+=8){var D=Math.min(8,k.length-B),F=parseInt(k.substring(B,B+D),O);8>D?(D=d(Math.pow(O,D)),W=W.j(D).add(d(F))):(W=W.j(V),W=W.add(d(F)))}return W}var m=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-S(this).m();for(var k=0,O=1,V=0;V<this.g.length;V++){var W=this.i(V);k+=(0<=W?W:4294967296+W)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N(this))return"0";if(A(this))return"-"+S(this).toString(k);for(var O=d(Math.pow(k,6)),V=this,W="";;){var B=U(V,O).g;V=C(V,B.j(O));var D=((0<V.g.length?V.g[0]:V.h)>>>0).toString(k);if(V=B,N(V))return D+W;for(;6>D.length;)D="0"+D;W=D+W}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function N(k){if(k.h!=0)return!1;for(var O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function A(k){return k.h==-1}t.l=function(k){return k=C(this,k),A(k)?-1:N(k)?0:1};function S(k){for(var O=k.g.length,V=[],W=0;W<O;W++)V[W]=~k.g[W];return new s(V,~k.h).add(g)}t.abs=function(){return A(this)?S(this):this},t.add=function(k){for(var O=Math.max(this.g.length,k.g.length),V=[],W=0,B=0;B<=O;B++){var D=W+(this.i(B)&65535)+(k.i(B)&65535),F=(D>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);W=F>>>16,D&=65535,F&=65535,V[B]=F<<16|D}return new s(V,V[V.length-1]&-2147483648?-1:0)};function C(k,O){return k.add(S(O))}t.j=function(k){if(N(this)||N(k))return m;if(A(this))return A(k)?S(this).j(S(k)):S(S(this).j(k));if(A(k))return S(this.j(S(k)));if(0>this.l(y)&&0>k.l(y))return d(this.m()*k.m());for(var O=this.g.length+k.g.length,V=[],W=0;W<2*O;W++)V[W]=0;for(W=0;W<this.g.length;W++)for(var B=0;B<k.g.length;B++){var D=this.i(W)>>>16,F=this.i(W)&65535,Q=k.i(B)>>>16,oe=k.i(B)&65535;V[2*W+2*B]+=F*oe,R(V,2*W+2*B),V[2*W+2*B+1]+=D*oe,R(V,2*W+2*B+1),V[2*W+2*B+1]+=F*Q,R(V,2*W+2*B+1),V[2*W+2*B+2]+=D*Q,R(V,2*W+2*B+2)}for(W=0;W<O;W++)V[W]=V[2*W+1]<<16|V[2*W];for(W=O;W<2*O;W++)V[W]=0;return new s(V,0)};function R(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function P(k,O){this.g=k,this.h=O}function U(k,O){if(N(O))throw Error("division by zero");if(N(k))return new P(m,m);if(A(k))return O=U(S(k),O),new P(S(O.g),S(O.h));if(A(O))return O=U(k,S(O)),new P(S(O.g),O.h);if(30<k.g.length){if(A(k)||A(O))throw Error("slowDivide_ only works with positive integers.");for(var V=g,W=O;0>=W.l(k);)V=L(V),W=L(W);var B=z(V,1),D=z(W,1);for(W=z(W,2),V=z(V,2);!N(W);){var F=D.add(W);0>=F.l(k)&&(B=B.add(V),D=F),W=z(W,1),V=z(V,1)}return O=C(k,B.j(O)),new P(B,O)}for(B=m;0<=k.l(O);){for(V=Math.max(1,Math.floor(k.m()/O.m())),W=Math.ceil(Math.log(V)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),D=d(V),F=D.j(O);A(F)||0<F.l(k);)V-=W,D=d(V),F=D.j(O);N(D)&&(D=g),B=B.add(D),k=C(k,F)}return new P(B,k)}t.A=function(k){return U(this,k).h},t.and=function(k){for(var O=Math.max(this.g.length,k.g.length),V=[],W=0;W<O;W++)V[W]=this.i(W)&k.i(W);return new s(V,this.h&k.h)},t.or=function(k){for(var O=Math.max(this.g.length,k.g.length),V=[],W=0;W<O;W++)V[W]=this.i(W)|k.i(W);return new s(V,this.h|k.h)},t.xor=function(k){for(var O=Math.max(this.g.length,k.g.length),V=[],W=0;W<O;W++)V[W]=this.i(W)^k.i(W);return new s(V,this.h^k.h)};function L(k){for(var O=k.g.length+1,V=[],W=0;W<O;W++)V[W]=k.i(W)<<1|k.i(W-1)>>>31;return new s(V,k.h)}function z(k,O){var V=O>>5;O%=32;for(var W=k.g.length-V,B=[],D=0;D<W;D++)B[D]=0<O?k.i(D+V)>>>O|k.i(D+V+1)<<32-O:k.i(D+V);return new s(B,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yV=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,$d=s}).apply(typeof j8<"u"?j8:typeof self<"u"?self:typeof window<"u"?window:{});var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xV,Ug,bV,Zy,zN,_V,wV,AV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,$,Y){return _==Array.prototype||_==Object.prototype||(_[$]=Y.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof My=="object"&&My];for(var $=0;$<_.length;++$){var Y=_[$];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(_,$){if($)e:{var Y=r;_=_.split(".");for(var he=0;he<_.length-1;he++){var je=_[he];if(!(je in Y))break e;Y=Y[je]}_=_[_.length-1],he=Y[_],$=$(he),$!=he&&$!=null&&e(Y,_,{configurable:!0,writable:!0,value:$})}}function a(_,$){_ instanceof String&&(_+="");var Y=0,he=!1,je={next:function(){if(!he&&Y<_.length){var qe=Y++;return{value:$(qe,_[qe]),done:!1}}return he=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}i("Array.prototype.values",function(_){return _||function(){return a(this,function($,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(_){var $=typeof _;return $=$!="object"?$:_?Array.isArray(_)?"array":$:"null",$=="array"||$=="object"&&typeof _.length=="number"}function d(_){var $=typeof _;return $=="object"&&_!=null||$=="function"}function h(_,$,Y){return _.call.apply(_.bind,arguments)}function m(_,$,Y){if(!_)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,he),_.apply($,je)}}return function(){return _.apply($,arguments)}}function g(_,$,Y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function y(_,$){var Y=Array.prototype.slice.call(arguments,1);return function(){var he=Y.slice();return he.push.apply(he,arguments),_.apply(this,he)}}function N(_,$){function Y(){}Y.prototype=$.prototype,_.aa=$.prototype,_.prototype=new Y,_.prototype.constructor=_,_.Qb=function(he,je,qe){for(var yt=Array(arguments.length-2),ln=2;ln<arguments.length;ln++)yt[ln-2]=arguments[ln];return $.prototype[je].apply(he,yt)}}function A(_){const $=_.length;if(0<$){const Y=Array($);for(let he=0;he<$;he++)Y[he]=_[he];return Y}return[]}function S(_,$){for(let Y=1;Y<arguments.length;Y++){const he=arguments[Y];if(c(he)){const je=_.length||0,qe=he.length||0;_.length=je+qe;for(let yt=0;yt<qe;yt++)_[je+yt]=he[yt]}else _.push(he)}}class C{constructor($,Y){this.i=$,this.j=Y,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function R(_){return/^[\s\xa0]*$/.test(_)}function P(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function U(_){return U[" "](_),_}U[" "]=function(){};var L=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function z(_,$,Y){for(const he in _)$.call(Y,_[he],he,_)}function k(_,$){for(const Y in _)$.call(void 0,_[Y],Y,_)}function O(_){const $={};for(const Y in _)$[Y]=_[Y];return $}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(_,$){let Y,he;for(let je=1;je<arguments.length;je++){he=arguments[je];for(Y in he)_[Y]=he[Y];for(let qe=0;qe<V.length;qe++)Y=V[qe],Object.prototype.hasOwnProperty.call(he,Y)&&(_[Y]=he[Y])}}function B(_){var $=1;_=_.split(":");const Y=[];for(;0<$&&_.length;)Y.push(_.shift()),$--;return _.length&&Y.push(_.join(":")),Y}function D(_){l.setTimeout(()=>{throw _},0)}function F(){var _=_e;let $=null;return _.g&&($=_.g,_.g=_.g.next,_.g||(_.h=null),$.next=null),$}class Q{constructor(){this.h=this.g=null}add($,Y){const he=oe.get();he.set($,Y),this.h?this.h.next=he:this.g=he,this.h=he}}var oe=new C(()=>new K,_=>_.reset());class K{constructor(){this.next=this.g=this.h=null}set($,Y){this.h=$,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,se=!1,_e=new Q,xe=()=>{const _=l.Promise.resolve(void 0);ee=()=>{_.then(ce)}};var ce=()=>{for(var _;_=F();){try{_.h.call(_.g)}catch(Y){D(Y)}var $=oe;$.j(_),100>$.h&&($.h++,_.next=$.g,$.g=_)}se=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(_,$){this.type=_,this.g=this.target=$,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,$=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Y=()=>{};l.addEventListener("test",Y,$),l.removeEventListener("test",Y,$)}catch{}return _})();function de(_,$){if(G.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Y=this.type=_.type,he=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=$,$=_.relatedTarget){if(L){e:{try{U($.nodeName);var je=!0;break e}catch{}je=!1}je||($=null)}}else Y=="mouseover"?$=_.fromElement:Y=="mouseout"&&($=_.toElement);this.relatedTarget=$,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:X[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&de.aa.h.call(this)}}N(de,G);var X={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),we=0;function re(_,$,Y,he,je){this.listener=_,this.proxy=null,this.src=$,this.type=Y,this.capture=!!he,this.ha=je,this.key=++we,this.da=this.fa=!1}function Se(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Re(_){this.src=_,this.g={},this.h=0}Re.prototype.add=function(_,$,Y,he,je){var qe=_.toString();_=this.g[qe],_||(_=this.g[qe]=[],this.h++);var yt=We(_,$,he,je);return-1<yt?($=_[yt],Y||($.fa=!1)):($=new re($,this.src,qe,!!he,je),$.fa=Y,_.push($)),$};function Ee(_,$){var Y=$.type;if(Y in _.g){var he=_.g[Y],je=Array.prototype.indexOf.call(he,$,void 0),qe;(qe=0<=je)&&Array.prototype.splice.call(he,je,1),qe&&(Se($),_.g[Y].length==0&&(delete _.g[Y],_.h--))}}function We(_,$,Y,he){for(var je=0;je<_.length;++je){var qe=_[je];if(!qe.da&&qe.listener==$&&qe.capture==!!Y&&qe.ha==he)return je}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),ve={};function le(_,$,Y,he,je){if(Array.isArray($)){for(var qe=0;qe<$.length;qe++)le(_,$[qe],Y,he,je);return null}return Y=st(Y),_&&_[ue]?_.K($,Y,d(he)?!!he.capture:!1,je):lt(_,$,Y,!1,he,je)}function lt(_,$,Y,he,je,qe){if(!$)throw Error("Invalid event type");var yt=d(je)?!!je.capture:!!je,ln=at(_);if(ln||(_[Ge]=ln=new Re(_)),Y=ln.add($,Y,he,yt,qe),Y.proxy)return Y;if(he=nt(),Y.proxy=he,he.src=_,he.listener=Y,_.addEventListener)Z||(je=yt),je===void 0&&(je=!1),_.addEventListener($.toString(),he,je);else if(_.attachEvent)_.attachEvent(et($.toString()),he);else if(_.addListener&&_.removeListener)_.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function nt(){function _(Y){return $.call(_.src,_.listener,Y)}const $=Ke;return _}function Xe(_,$,Y,he,je){if(Array.isArray($))for(var qe=0;qe<$.length;qe++)Xe(_,$[qe],Y,he,je);else he=d(he)?!!he.capture:!!he,Y=st(Y),_&&_[ue]?(_=_.i,$=String($).toString(),$ in _.g&&(qe=_.g[$],Y=We(qe,Y,he,je),-1<Y&&(Se(qe[Y]),Array.prototype.splice.call(qe,Y,1),qe.length==0&&(delete _.g[$],_.h--)))):_&&(_=at(_))&&($=_.g[$.toString()],_=-1,$&&(_=We($,Y,he,je)),(Y=-1<_?$[_]:null)&&He(Y))}function He(_){if(typeof _!="number"&&_&&!_.da){var $=_.src;if($&&$[ue])Ee($.i,_);else{var Y=_.type,he=_.proxy;$.removeEventListener?$.removeEventListener(Y,he,_.capture):$.detachEvent?$.detachEvent(et(Y),he):$.addListener&&$.removeListener&&$.removeListener(he),(Y=at($))?(Ee(Y,_),Y.h==0&&(Y.src=null,$[Ge]=null)):Se(_)}}}function et(_){return _ in ve?ve[_]:ve[_]="on"+_}function Ke(_,$){if(_.da)_=!0;else{$=new de($,this);var Y=_.listener,he=_.ha||_.src;_.fa&&He(_),_=Y.call(he,$)}return _}function at(_){return _=_[Ge],_ instanceof Re?_:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(_){return typeof _=="function"?_:(_[Qe]||(_[Qe]=function($){return _.handleEvent($)}),_[Qe])}function vt(){M.call(this),this.i=new Re(this),this.M=this,this.F=null}N(vt,M),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(_,$,Y,he){Xe(this,_,$,Y,he)};function _t(_,$){var Y,he=_.F;if(he)for(Y=[];he;he=he.F)Y.push(he);if(_=_.M,he=$.type||$,typeof $=="string")$=new G($,_);else if($ instanceof G)$.target=$.target||_;else{var je=$;$=new G(he,_),W($,je)}if(je=!0,Y)for(var qe=Y.length-1;0<=qe;qe--){var yt=$.g=Y[qe];je=It(yt,he,!0,$)&&je}if(yt=$.g=_,je=It(yt,he,!0,$)&&je,je=It(yt,he,!1,$)&&je,Y)for(qe=0;qe<Y.length;qe++)yt=$.g=Y[qe],je=It(yt,he,!1,$)&&je}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var _=this.i,$;for($ in _.g){for(var Y=_.g[$],he=0;he<Y.length;he++)Se(Y[he]);delete _.g[$],_.h--}}this.F=null},vt.prototype.K=function(_,$,Y,he){return this.i.add(String(_),$,!1,Y,he)},vt.prototype.L=function(_,$,Y,he){return this.i.add(String(_),$,!0,Y,he)};function It(_,$,Y,he){if($=_.i.g[String($)],!$)return!0;$=$.concat();for(var je=!0,qe=0;qe<$.length;++qe){var yt=$[qe];if(yt&&!yt.da&&yt.capture==Y){var ln=yt.listener,Nn=yt.ha||yt.src;yt.fa&&Ee(_.i,yt),je=ln.call(Nn,he)!==!1&&je}}return je&&!he.defaultPrevented}function Tt(_,$,Y){if(typeof _=="function")Y&&(_=g(_,Y));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:l.setTimeout(_,$||0)}function Wt(_){_.g=Tt(()=>{_.g=null,_.i&&(_.i=!1,Wt(_))},_.l);const $=_.h;_.h=null,_.m.apply(null,$)}class wt extends M{constructor($,Y){super(),this.m=$,this.l=Y,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(_){M.call(this),this.h=_,this.g={}}N(Yn,M);var un=[];function lr(_){z(_.g,function($,Y){this.g.hasOwnProperty(Y)&&He($)},_),_.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),lr(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=l.JSON.stringify,_n=l.JSON.parse,bi=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function dn(){}dn.prototype.h=null;function ya(_){return _.h||(_.h=_.i())}function $n(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){G.call(this,"d")}N(si,G);function yn(){G.call(this,"c")}N(yn,G);var Bt={},on=null;function xa(){return on=on||new vt}Bt.La="serverreachability";function Br(_){G.call(this,Bt.La,_)}N(Br,G);function di(_){const $=xa();_t($,new Br($))}Bt.STAT_EVENT="statevent";function Xr(_,$){G.call(this,Bt.STAT_EVENT,_),this.stat=$}N(Xr,G);function Ot(_){const $=xa();_t($,new Xr($,_))}Bt.Ma="timingevent";function Jr(_,$){G.call(this,Bt.Ma,_),this.size=$}N(Jr,G);function br(_,$){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},$)}function qr(){this.g=!0}qr.prototype.xa=function(){this.g=!1};function cr(_,$,Y,he,je,qe){_.info(function(){if(_.g)if(qe)for(var yt="",ln=qe.split("&"),Nn=0;Nn<ln.length;Nn++){var Qt=ln[Nn].split("=");if(1<Qt.length){var Qn=Qt[0];Qt=Qt[1];var mr=Qn.split("_");yt=2<=mr.length&&mr[1]=="type"?yt+(Qn+"="+Qt+"&"):yt+(Qn+"=redacted&")}}else yt=null;else yt=qe;return"XMLHTTP REQ ("+he+") [attempt "+je+"]: "+$+`
`+Y+`
`+yt})}function me(_,$,Y,he,je,qe,yt){_.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+je+"]: "+$+`
`+Y+`
`+qe+" "+yt})}function tt(_,$,Y,he){_.info(function(){return"XMLHTTP TEXT ("+$+"): "+nn(_,Y)+(he?" "+he:"")})}function $t(_,$){_.info(function(){return"TIMEOUT: "+$})}qr.prototype.info=function(){};function nn(_,$){if(!_.g)return $;if(!$)return null;try{var Y=JSON.parse($);if(Y){for(_=0;_<Y.length;_++)if(Array.isArray(Y[_])){var he=Y[_];if(!(2>he.length)){var je=he[1];if(Array.isArray(je)&&!(1>je.length)){var qe=je[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var yt=1;yt<je.length;yt++)je[yt]=""}}}}return bn(Y)}catch{return $}}var zt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ht;function Fe(){}N(Fe,dn),Fe.prototype.g=function(){return new XMLHttpRequest},Fe.prototype.i=function(){return{}},Ht=new Fe;function Pt(_,$,Y,he){this.j=_,this.i=$,this.l=Y,this.R=he||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var jr={},Mr={};function jn(_,$,Y){_.L=1,_.v=bo(_r($)),_.m=Y,_.P=!0,Dr(_,null)}function Dr(_,$){_.F=Date.now(),ls(_),_.A=_r(_.v);var Y=_.A,he=_.R;Array.isArray(he)||(he=[String(he)]),Kt(Y.i,"t",he),_.C=0,Y=_.j.J,_.h=new qt,_.g=te(_.j,Y?$:null,!_.m),0<_.O&&(_.M=new wt(g(_.Y,_,_.g),_.O)),$=_.U,Y=_.g,he=_.ca;var je="readystatechange";Array.isArray(je)||(je&&(un[0]=je.toString()),je=un);for(var qe=0;qe<je.length;qe++){var yt=le(Y,je[qe],he||$.handleEvent,!1,$.h||$);if(!yt)break;$.g[yt.key]=yt}$=_.H?O(_.H):{},_.m?(_.u||(_.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,$)):(_.u="GET",_.g.ea(_.A,_.u,null,$)),di(),cr(_.i,_.u,_.A,_.l,_.R,_.m)}Pt.prototype.ca=function(_){_=_.target;const $=this.M;$&&zr(_)==3?$.j():this.Y(_)},Pt.prototype.Y=function(_){try{if(_==this.g)e:{const mr=zr(this.g);var $=this.g.Ba();const Zs=this.g.Z();if(!(3>mr)&&(mr!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||mr!=4||$==7||($==8||0>=Zs?di(3):di(2)),Hs(this);var Y=this.g.Z();this.X=Y;t:if(Hn(this)){var he=tl(this.g);_="";var je=he.length,qe=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),Gs(this);var yt="";break t}this.h.i=new l.TextDecoder}for($=0;$<je;$++)this.h.h=!0,_+=this.h.i.decode(he[$],{stream:!(qe&&$==je-1)});he.length=0,this.h.g+=_,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=Y==200,me(this.i,this.u,this.A,this.l,this.R,mr,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var ln,Nn=this.g;if((ln=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ln)){var Qt=ln;break t}}Qt=null}if(Y=Qt)tt(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,Y);else{this.o=!1,this.s=3,Ot(12),zi(this),Gs(this);break e}}if(this.P){Y=!0;let Ii;for(;!this.J&&this.C<yt.length;)if(Ii=La(this,yt),Ii==Mr){mr==4&&(this.s=4,Ot(14),Y=!1),tt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ii==jr){this.s=4,Ot(15),tt(this.i,this.l,yt,"[Invalid Chunk]"),Y=!1;break}else tt(this.i,this.l,Ii,null),Fa(this,Ii);if(Hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mr!=4||yt.length!=0||this.h.h||(this.s=1,Ot(16),Y=!1),this.o=this.o&&Y,!Y)tt(this.i,this.l,yt,"[Invalid Chunked Response]"),zi(this),Gs(this);else if(0<yt.length&&!this.W){this.W=!0;var Qn=this.j;Qn.g==this&&Qn.ba&&!Qn.M&&(Qn.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),Kl(Qn),Qn.M=!0,Ot(11))}}else tt(this.i,this.l,yt,null),Fa(this,yt);mr==4&&zi(this),this.o&&!this.J&&(mr==4?To(this.j,this):(this.o=!1,ls(this)))}else Js(this.g),Y==400&&0<yt.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),zi(this),Gs(this)}}}catch{}finally{}};function Hn(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function La(_,$){var Y=_.C,he=$.indexOf(`
`,Y);return he==-1?Mr:(Y=Number($.substring(Y,he)),isNaN(Y)?jr:(he+=1,he+Y>$.length?Mr:($=$.slice(he,he+Y),_.C=he+Y,$)))}Pt.prototype.cancel=function(){this.J=!0,zi(this)};function ls(_){_.S=Date.now()+_.I,Vr(_,_.I)}function Vr(_,$){if(_.B!=null)throw Error("WatchDog timer not null");_.B=br(g(_.ba,_),$)}function Hs(_){_.B&&(l.clearTimeout(_.B),_.B=null)}Pt.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?($t(this.i,this.A),this.L!=2&&(di(),Ot(17)),zi(this),this.s=2,Gs(this)):Vr(this,this.S-_)};function Gs(_){_.j.G==0||_.J||To(_.j,_)}function zi(_){Hs(_);var $=_.M;$&&typeof $.ma=="function"&&$.ma(),_.M=null,lr(_.U),_.g&&($=_.g,_.g=null,$.abort(),$.ma())}function Fa(_,$){try{var Y=_.j;if(Y.G!=0&&(Y.g==_||xo(Y.h,_))){if(!_.K&&xo(Y.h,_)&&Y.G==3){try{var he=Y.Da.g.parse($)}catch{he=null}if(Array.isArray(he)&&he.length==3){var je=he;if(je[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<_.F)ds(Y),So(Y);else break e;rl(Y),Ot(18)}}else Y.za=je[1],0<Y.za-Y.T&&37500>je[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=br(g(Y.Za,Y),6e3));if(1>=Xo(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else aa(Y,11)}else if((_.K||Y.g==_)&&ds(Y),!R($))for(je=Y.Da.g.parse($),$=0;$<je.length;$++){let Qt=je[$];if(Y.T=Qt[0],Qt=Qt[1],Y.G==2)if(Qt[0]=="c"){Y.K=Qt[1],Y.ia=Qt[2];const Qn=Qt[3];Qn!=null&&(Y.la=Qn,Y.j.info("VER="+Y.la));const mr=Qt[4];mr!=null&&(Y.Aa=mr,Y.j.info("SVER="+Y.Aa));const Zs=Qt[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(he=1.5*Zs,Y.L=he,Y.j.info("backChannelRequestTimeoutMs_="+he)),he=Y;const Ii=_.g;if(Ii){const eo=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var qe=he.h;qe.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(ur(qe,qe.h),qe.h=null))}if(he.D){const $a=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(he.ya=$a,Mn(he.I,he.D,$a))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-_.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),he=Y;var yt=_;if(he.qa=j(he,he.J?he.ia:null,he.W),yt.K){ba(he.h,yt);var ln=yt,Nn=he.L;Nn&&(ln.I=Nn),ln.B&&(Hs(ln),ls(ln)),he.g=yt}else Wl(he);0<Y.i.length&&Hl(Y)}else Qt[0]!="stop"&&Qt[0]!="close"||aa(Y,7);else Y.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?aa(Y,7):Qs(Y):Qt[0]!="noop"&&Y.l&&Y.l.ta(Qt),Y.v=0)}}di(4)}catch{}}var gf=class{constructor(_,$){this.g=_,this.map=$}};function Fl(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qc(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Xo(_){return _.h?1:_.g?_.g.size:0}function xo(_,$){return _.h?_.h==$:_.g?_.g.has($):!1}function ur(_,$){_.g?_.g.add($):_.h=$}function ba(_,$){_.h&&_.h==$?_.h=null:_.g&&_.g.has($)&&_.g.delete($)}Fl.prototype.cancel=function(){if(this.i=Ci(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Ci(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let $=_.i;for(const Y of _.g.values())$=$.concat(Y.D);return $}return A(_.i)}function Vc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var $=[],Y=_.length,he=0;he<Y;he++)$.push(_[he]);return $}$=[],Y=0;for(he in _)$[Y++]=_[he];return $}function zc(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var $=[];_=_.length;for(var Y=0;Y<_;Y++)$.push(Y);return $}$=[],Y=0;for(const he in _)$[Y++]=he;return $}}}function Ul(_,$){if(_.forEach&&typeof _.forEach=="function")_.forEach($,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,$,void 0);else for(var Y=zc(_),he=Vc(_),je=he.length,qe=0;qe<je;qe++)$.call(void 0,he[qe],Y&&Y[qe],_)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(_,$){if(_){_=_.split("&");for(var Y=0;Y<_.length;Y++){var he=_[Y].indexOf("="),je=null;if(0<=he){var qe=_[Y].substring(0,he);je=_[Y].substring(he+1)}else qe=_[Y];$(qe,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Qr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Qr){this.h=_.h,Ks(this,_.j),this.o=_.o,this.g=_.g,Jo(this,_.s),this.l=_.l;var $=_.i,Y=new us;Y.i=$.i,$.g&&(Y.g=new Map($.g),Y.h=$.h),Qo(this,Y),this.m=_.m}else _&&($=String(_).match(_a))?(this.h=!1,Ks(this,$[1]||"",!0),this.o=_o($[2]||""),this.g=_o($[3]||"",!0),Jo(this,$[4]),this.l=_o($[5]||"",!0),Qo(this,$[6]||"",!0),this.m=_o($[7]||"")):(this.h=!1,this.i=new us(null,this.h))}Qr.prototype.toString=function(){var _=[],$=this.j;$&&_.push(ra($,$c,!0),":");var Y=this.g;return(Y||$=="file")&&(_.push("//"),($=this.o)&&_.push(ra($,$c,!0),"@"),_.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&_.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&_.push("/"),_.push(ra(Y,Y.charAt(0)=="/"?cs:qu,!0))),(Y=this.i.toString())&&_.push("?",Y),(Y=this.m)&&_.push("#",ra(Y,ql)),_.join("")};function _r(_){return new Qr(_)}function Ks(_,$,Y){_.j=Y?_o($,!0):$,_.j&&(_.j=_.j.replace(/:$/,""))}function Jo(_,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);_.s=$}else _.s=null}function Qo(_,$,Y){$ instanceof us?(_.i=$,Vu(_.i,_.h)):(Y||($=ra($,Bl)),_.i=new us($,_.h))}function Mn(_,$,Y){_.i.set($,Y)}function bo(_){return Mn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function _o(_,$){return _?$?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ra(_,$,Y){return typeof _=="string"?(_=encodeURI(_).replace($,vf),Y&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function vf(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var $c=/[#\/\?@]/g,qu=/[#\?:]/g,cs=/[#\?]/g,Bl=/[#\?@]/g,ql=/#/g;function us(_,$){this.h=this.g=null,this.i=_||null,this.j=!!$}function Vn(_){_.g||(_.g=new Map,_.h=0,_.i&&Ws(_.i,function($,Y){_.add(decodeURIComponent($.replace(/\+/g," ")),Y)}))}t=us.prototype,t.add=function(_,$){Vn(this),this.i=null,_=wa(this,_);var Y=this.g.get(_);return Y||this.g.set(_,Y=[]),Y.push($),this.h+=1,this};function Vl(_,$){Vn(_),$=wa(_,$),_.g.has($)&&(_.i=null,_.h-=_.g.get($).length,_.g.delete($))}function Zo(_,$){return Vn(_),$=wa(_,$),_.g.has($)}t.forEach=function(_,$){Vn(this),this.g.forEach(function(Y,he){Y.forEach(function(je){_.call($,je,he,this)},this)},this)},t.na=function(){Vn(this);const _=Array.from(this.g.values()),$=Array.from(this.g.keys()),Y=[];for(let he=0;he<$.length;he++){const je=_[he];for(let qe=0;qe<je.length;qe++)Y.push($[he])}return Y},t.V=function(_){Vn(this);let $=[];if(typeof _=="string")Zo(this,_)&&($=$.concat(this.g.get(wa(this,_))));else{_=Array.from(this.g.values());for(let Y=0;Y<_.length;Y++)$=$.concat(_[Y])}return $},t.set=function(_,$){return Vn(this),this.i=null,_=wa(this,_),Zo(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[$]),this.h+=1,this},t.get=function(_,$){return _?(_=this.V(_),0<_.length?String(_[0]):$):$};function Kt(_,$,Y){Vl(_,$),0<Y.length&&(_.i=null,_.g.set(wa(_,$),A(Y)),_.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],$=Array.from(this.g.keys());for(var Y=0;Y<$.length;Y++){var he=$[Y];const qe=encodeURIComponent(String(he)),yt=this.V(he);for(he=0;he<yt.length;he++){var je=qe;yt[he]!==""&&(je+="="+encodeURIComponent(String(yt[he]))),_.push(je)}}return this.i=_.join("&")};function wa(_,$){return $=String($),_.j&&($=$.toLowerCase()),$}function Vu(_,$){$&&!_.j&&(Vn(_),_.i=null,_.g.forEach(function(Y,he){var je=he.toLowerCase();he!=je&&(Vl(this,he),Kt(this,je,Y))},_)),_.j=$}function Ua(_,$){const Y=new qr;if(l.Image){const he=new Image;he.onload=y($i,Y,"TestLoadImage: loaded",!0,$,he),he.onerror=y($i,Y,"TestLoadImage: error",!1,$,he),he.onabort=y($i,Y,"TestLoadImage: abort",!1,$,he),he.ontimeout=y($i,Y,"TestLoadImage: timeout",!1,$,he),l.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=_}else $(!1)}function Hc(_,$){const Y=new qr,he=new AbortController,je=setTimeout(()=>{he.abort(),$i(Y,"TestPingServer: timeout",!1,$)},1e4);fetch(_,{signal:he.signal}).then(qe=>{clearTimeout(je),qe.ok?$i(Y,"TestPingServer: ok",!0,$):$i(Y,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(je),$i(Y,"TestPingServer: error",!1,$)})}function $i(_,$,Y,he,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),he(Y)}catch{}}function ia(){this.g=new bi}function el(_,$,Y){const he=Y||"";try{Ul(_,function(je,qe){let yt=je;d(je)&&(yt=bn(je)),$.push(he+qe+"="+encodeURIComponent(yt))})}catch(je){throw $.push(he+"type="+encodeURIComponent("_badmap")),je}}function Ss(_){this.l=_.Ub||null,this.j=_.eb||!1}N(Ss,dn),Ss.prototype.g=function(){return new Aa(this.l,this.j)},Ss.prototype.i=(function(_){return function(){return _}})({});function Aa(_,$){vt.call(this),this.D=_,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Aa,vt),t=Aa.prototype,t.open=function(_,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=$,this.readyState=1,qa(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&($.body=_),(this.D||l).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var $=_.value?_.value:new Uint8Array(0);($=this.v.decode($,{stream:!_.done}))&&(this.response=this.responseText+=$)}_.done?Ba(this):qa(this),this.readyState==3&&zl(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Ba(this))},t.Qa=function(_){this.g&&(this.response=_,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(_){_.readyState=4,_.l=null,_.j=null,_.v=null,qa(_)}t.setRequestHeader=function(_,$){this.u.append(_,$)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],$=this.h.entries();for(var Y=$.next();!Y.done;)Y=Y.value,_.push(Y[0]+": "+Y[1]),Y=$.next();return _.join(`\r
`)};function qa(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Va(_){let $="";return z(_,function(Y,he){$+=he,$+=":",$+=Y,$+=`\r
`}),$}function wo(_,$,Y){e:{for(he in Y){var he=!1;break e}he=!0}he||(Y=Va(Y),typeof _=="string"?Y!=null&&encodeURIComponent(String(Y)):Mn(_,$,Y))}function Xn(_){vt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Xn,vt);var fi=/^https?$/i,za=["POST","PUT"];t=Xn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,$,Y,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);$=$?$.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ht.g(),this.v=this.o?ya(this.o):ya(Ht),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open($,String(_),!0),this.B=!1}catch(qe){Ao(this,qe);return}if(_=Y||"",Y=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var je in he)Y.set(je,he[je]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const qe of he.keys())Y.set(qe,he.get(qe));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(Y.keys()).find(qe=>qe.toLowerCase()=="content-type"),je=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(za,$,void 0))||he||je||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,yt]of Y)this.g.setRequestHeader(qe,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(_),this.u=!1}catch(qe){Ao(this,qe)}};function Ao(_,$){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=$,_.m=5,Ys(_),Xs(_)}function Ys(_){_.A||(_.A=!0,_t(_,"complete"),_t(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,_t(this,"complete"),_t(this,"abort"),Xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),Xn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gc(this):this.bb())},t.bb=function(){Gc(this)};function Gc(_){if(_.h&&typeof s<"u"&&(!_.v[1]||zr(_)!=4||_.Z()!=2)){if(_.u&&zr(_)==4)Tt(_.Ea,0,_);else if(_t(_,"readystatechange"),zr(_)==4){_.h=!1;try{const yt=_.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var Y;if(!(Y=$)){var he;if(he=yt===0){var je=String(_.D).match(_a)[1]||null;!je&&l.self&&l.self.location&&(je=l.self.location.protocol.slice(0,-1)),he=!fi.test(je?je.toLowerCase():"")}Y=he}if(Y)_t(_,"complete"),_t(_,"success");else{_.m=6;try{var qe=2<zr(_)?_.g.statusText:""}catch{qe=""}_.l=qe+" ["+_.Z()+"]",Ys(_)}}finally{Xs(_)}}}}function Xs(_,$){if(_.g){Sa(_);const Y=_.g,he=_.v[0]?()=>{}:null;_.g=null,_.v=null,$||_t(_,"ready");try{Y.onreadystatechange=he}catch{}}}function Sa(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function zr(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var $=this.g.responseText;return _&&$.indexOf(_)==0&&($=$.substring(_.length)),_n($)}};function tl(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Js(_){const $={};_=(_.g&&2<=zr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<_.length;he++){if(R(_[he]))continue;var Y=B(_[he]);const je=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const qe=$[je]||[];$[je]=qe,qe.push(Y)}k($,function(he){return he.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(_,$,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[_]||$}function $l(_){this.Aa=0,this.i=[],this.j=new qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,_),this.cb=Hi("retryDelaySeedMs",1e4,_),this.Wa=Hi("forwardChannelMaxRetries",2,_),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Fl(_&&_.concurrentRequestLimit),this.Da=new ia,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$l.prototype,t.la=8,t.G=1,t.connect=function(_,$,Y,he){Ot(0),this.W=_,this.H=$||{},Y&&he!==void 0&&(this.H.OSID=Y,this.H.OAID=he),this.F=this.X,this.I=j(this,null,this.W),Hl(this)};function Qs(_){if(nl(_),_.G==3){var $=_.U++,Y=_r(_.I);if(Mn(Y,"SID",_.K),Mn(Y,"RID",$),Mn(Y,"TYPE","terminate"),Eo(_,Y),$=new Pt(_,_.j,$),$.L=2,$.v=bo(_r(Y)),Y=!1,l.navigator&&l.navigator.sendBeacon)try{Y=l.navigator.sendBeacon($.v.toString(),"")}catch{}!Y&&l.Image&&(new Image().src=$.v,Y=!0),Y||($.g=te($.j,null),$.g.ea($.v)),$.F=Date.now(),ls($)}il(_)}function So(_){_.g&&(Kl(_),_.g.cancel(),_.g=null)}function nl(_){So(_),_.u&&(l.clearTimeout(_.u),_.u=null),ds(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Hl(_){if(!qc(_.h)&&!_.s){_.s=!0;var $=_.Ga;ee||xe(),se||(ee(),se=!0),_e.add($,_),_.B=0}}function Wc(_,$){return Xo(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=$.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=br(g(_.Ga,_,$),Yl(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const je=new Pt(this,this.j,_);let qe=this.o;if(this.S&&(qe?(qe=O(qe),W(qe,this.S)):qe=this.S),this.m!==null||this.O||(je.H=qe,qe=null),this.P)e:{for(var $=0,Y=0;Y<this.i.length;Y++){t:{var he=this.i[Y];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if($+=he,4096<$){$=Y;break e}if($===4096||Y===this.i.length-1){$=Y+1;break e}}$=1e3}else $=1e3;$=No(this,je,$),Y=_r(this.I),Mn(Y,"RID",_),Mn(Y,"CVER",22),this.D&&Mn(Y,"X-HTTP-Session-Id",this.D),Eo(this,Y),qe&&(this.O?$="headers="+encodeURIComponent(String(Va(qe)))+"&"+$:this.m&&wo(Y,this.m,qe)),ur(this.h,je),this.Ua&&Mn(Y,"TYPE","init"),this.P?(Mn(Y,"$req",$),Mn(Y,"SID","null"),je.T=!0,jn(je,Y,null)):jn(je,Y,$),this.G=2}}else this.G==3&&(_?Gl(this,_):this.i.length==0||qc(this.h)||Gl(this))};function Gl(_,$){var Y;$?Y=$.l:Y=_.U++;const he=_r(_.I);Mn(he,"SID",_.K),Mn(he,"RID",Y),Mn(he,"AID",_.T),Eo(_,he),_.m&&_.o&&wo(he,_.m,_.o),Y=new Pt(_,_.j,Y,_.B+1),_.m===null&&(Y.H=_.o),$&&(_.i=$.D.concat(_.i)),$=No(_,Y,1e3),Y.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ur(_.h,Y),jn(Y,he,$)}function Eo(_,$){_.H&&z(_.H,function(Y,he){Mn($,he,Y)}),_.l&&Ul({},function(Y,he){Mn($,he,Y)})}function No(_,$,Y){Y=Math.min(_.i.length,Y);var he=_.l?g(_.l.Na,_.l,_):null;e:{var je=_.i;let qe=-1;for(;;){const yt=["count="+Y];qe==-1?0<Y?(qe=je[0].g,yt.push("ofs="+qe)):qe=0:yt.push("ofs="+qe);let ln=!0;for(let Nn=0;Nn<Y;Nn++){let Qt=je[Nn].g;const Qn=je[Nn].map;if(Qt-=qe,0>Qt)qe=Math.max(0,je[Nn].g-100),ln=!1;else try{el(Qn,yt,"req"+Qt+"_")}catch{he&&he(Qn)}}if(ln){he=yt.join("&");break e}}}return _=_.i.splice(0,Y),$.D=_,he}function Wl(_){if(!_.g&&!_.u){_.Y=1;var $=_.Fa;ee||xe(),se||(ee(),se=!0),_e.add($,_),_.v=0}}function rl(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=br(g(_.Fa,_),Yl(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=br(g(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),So(this),zu(this))};function Kl(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function zu(_){_.g=new Pt(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var $=_r(_.qa);Mn($,"RID","rpc"),Mn($,"SID",_.K),Mn($,"AID",_.T),Mn($,"CI",_.F?"0":"1"),!_.F&&_.ja&&Mn($,"TO",_.ja),Mn($,"TYPE","xmlhttp"),Eo(_,$),_.m&&_.o&&wo($,_.m,_.o),_.L&&(_.g.I=_.L);var Y=_.g;_=_.ia,Y.L=1,Y.v=bo(_r($)),Y.m=null,Y.P=!0,Dr(Y,_)}t.Za=function(){this.C!=null&&(this.C=null,So(this),rl(this),Ot(19))};function ds(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function To(_,$){var Y=null;if(_.g==$){ds(_),Kl(_),_.g=null;var he=2}else if(xo(_.h,$))Y=$.D,ba(_.h,$),he=1;else return;if(_.G!=0){if($.o)if(he==1){Y=$.m?$.m.length:0,$=Date.now()-$.F;var je=_.B;he=xa(),_t(he,new Jr(he,Y)),Hl(_)}else Wl(_);else if(je=$.s,je==3||je==0&&0<$.X||!(he==1&&Wc(_,$)||he==2&&rl(_)))switch(Y&&0<Y.length&&($=_.h,$.i=$.i.concat(Y)),je){case 1:aa(_,5);break;case 4:aa(_,10);break;case 3:aa(_,6);break;default:aa(_,2)}}}function Yl(_,$){let Y=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Y*=2),Y*$}function aa(_,$){if(_.j.info("Error code "+$),$==2){var Y=g(_.fb,_),he=_.Xa;const je=!he;he=new Qr(he||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ks(he,"https"),bo(he),je?Ua(he.toString(),Y):Hc(he.toString(),Y)}else Ot(2);_.G=0,_.l&&_.l.sa($),il(_),nl(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function il(_){if(_.G=0,_.ka=[],_.l){const $=Ci(_.h);($.length!=0||_.i.length!=0)&&(S(_.ka,$),S(_.ka,_.i),_.h.i.length=0,A(_.i),_.i.length=0),_.l.ra()}}function j(_,$,Y){var he=Y instanceof Qr?_r(Y):new Qr(Y);if(he.g!="")$&&(he.g=$+"."+he.g),Jo(he,he.s);else{var je=l.location;he=je.protocol,$=$?$+"."+je.hostname:je.hostname,je=+je.port;var qe=new Qr(null);he&&Ks(qe,he),$&&(qe.g=$),je&&Jo(qe,je),Y&&(qe.l=Y),he=qe}return Y=_.D,$=_.ya,Y&&$&&Mn(he,Y,$),Mn(he,"VER",_.la),Eo(_,he),he}function te(_,$,Y){if($&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=_.Ca&&!_.pa?new Xn(new Ss({eb:Y})):new Xn(_.pa),$.Ha(_.J),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}t=Ae.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(_,$){return new De(_,$)};function De(_,$){vt.call(this),this.g=new $l($),this.l=_,this.h=$&&$.messageUrlParams||null,_=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(_?_["X-WebChannel-Content-Type"]=$.messageContentType:_={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(_?_["X-WebChannel-Client-Profile"]=$.va:_={"X-WebChannel-Client-Profile":$.va}),this.g.S=_,(_=$&&$.Sb)&&!R(_)&&(this.g.m=_),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!R($)&&(this.g.D=$,_=this.h,_!==null&&$ in _&&(_=this.h,$ in _&&delete _[$])),this.j=new Nt(this)}N(De,vt),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){Qs(this.g)},De.prototype.o=function(_){var $=this.g;if(typeof _=="string"){var Y={};Y.__data__=_,_=Y}else this.u&&(Y={},Y.__data__=bn(_),_=Y);$.i.push(new gf($.Ya++,_)),$.G==3&&Hl($)},De.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,De.aa.N.call(this)};function Ze(_){si.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var $=_.__sm__;if($){e:{for(const Y in $){_=Y;break e}_=void 0}(this.i=_)&&(_=this.i,$=$!==null&&_ in $?$[_]:void 0),this.data=$}else this.data=_}N(Ze,si);function gt(){yn.call(this),this.status=1}N(gt,yn);function Nt(_){this.g=_}N(Nt,Ae),Nt.prototype.ua=function(){_t(this.g,"a")},Nt.prototype.ta=function(_){_t(this.g,new Ze(_))},Nt.prototype.sa=function(_){_t(this.g,new gt)},Nt.prototype.ra=function(){_t(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,AV=function(){return new Te},wV=function(){return xa()},_V=Bt,zN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,Zy=zt,Mt.COMPLETE="complete",bV=Mt,$n.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ug=$n,Xn.prototype.listenOnce=Xn.prototype.L,Xn.prototype.getLastError=Xn.prototype.Ka,Xn.prototype.getLastErrorCode=Xn.prototype.Ba,Xn.prototype.getStatus=Xn.prototype.Z,Xn.prototype.getResponseJson=Xn.prototype.Oa,Xn.prototype.getResponseText=Xn.prototype.oa,Xn.prototype.send=Xn.prototype.ea,Xn.prototype.setWithCredentials=Xn.prototype.Ha,xV=Xn}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});const M8="@firebase/firestore",D8="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new jC("@firebase/firestore");function fp(){return lh.logLevel}function jt(t,...e){if(lh.logLevel<=Un.DEBUG){const n=e.map(GC);lh.debug(`Firestore (${Om}): ${t}`,...n)}}function Pu(t,...e){if(lh.logLevel<=Un.ERROR){const n=e.map(GC);lh.error(`Firestore (${Om}): ${t}`,...n)}}function Jd(t,...e){if(lh.logLevel<=Un.WARN){const n=e.map(GC);lh.warn(`Firestore (${Om}): ${t}`,...n)}}function GC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SV(t,r,n)}function SV(t,e,n){let r=`FIRESTORE (${Om}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pu(r),new Error(r)}function hr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||SV(e,i,r)}function vn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Bc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j2e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ts.UNAUTHENTICATED)))}shutdown(){}}class M2e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class D2e{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){hr(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Hd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hd,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hd)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hr(typeof r.accessToken=="string",31837,{l:r}),new EV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hr(e===null||typeof e=="string",2055,{h:e}),new ts(e)}}class L2e{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F2e{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new L2e(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2e{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){hr(this.o===void 0,3512);const r=a=>{a.error!=null&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(hr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B2e(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Tn(t,e){return t<e?-1:t>e?1:0}function $N(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Tn(r,i);{const a=NV(),s=q2e(a.encode(F8(t,n)),a.encode(F8(e,n)));return s!==0?s:Tn(r,i)}}n+=r>65535?2:1}return Tn(t.length,e.length)}function F8(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function q2e(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Tn(t[n],e[n]);return Tn(t.length,e.length)}function dm(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="__name__";class yc{constructor(e,n,r){n===void 0?n=0:n>e.length&&sn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&sn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=yc.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Tn(e.length,n.length)}static compareSegments(e,n){const r=yc.isNumericId(e),i=yc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?yc.extractNumericId(e).compare(yc.extractNumericId(n)):$N(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $d.fromString(e.substring(4,e.length-2))}}class Ur extends yc{construct(e,n,r){return new Ur(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Rt(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ur(n)}static emptyPath(){return new Ur([])}}const V2e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pa extends yc{construct(e,n,r){return new Pa(e,n,r)}static isValidIdentifier(e){return V2e.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U8}static keyField(){return new Pa([U8])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Rt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Rt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Rt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new Rt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pa(n)}static emptyPath(){return new Pa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(Ur.fromString(e))}static fromName(e){return new Xt(Ur.fromString(e).popFirst(5))}static empty(){return new Xt(Ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ur.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ur.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new Ur(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e,n){if(!n)throw new Rt(dt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z2e(t,e,n,r){if(e===!0&&r===!0)throw new Rt(dt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B8(t){if(!Xt.isDocumentKey(t))throw new Rt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q8(t){if(Xt.isDocumentKey(t))throw new Rt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Db(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":sn(12329,{type:typeof t})}function vo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Db(t);throw new Rt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $2e(t,e){if(e<=0)throw new Rt(dt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){const n={typeString:t};return e&&(n.value=e),n}function hv(t,e){if(!CV(t))throw new Rt(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Rt(dt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=-62135596800,z8=1e6;class Wr{static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z8);return new Wr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V8)throw new Rt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z8}_compareTo(e){return this.seconds===e.seconds?Tn(this.nanoseconds,e.nanoseconds):Tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hv(e,Wr._jsonSchema))return new Wr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wr._jsonSchemaVersion="firestore/timestamp/1.0",Wr._jsonSchema={type:qi("string",Wr._jsonSchemaVersion),seconds:qi("number"),nanoseconds:qi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{static fromTimestamp(e){return new pn(e)}static min(){return new pn(new Wr(0,0))}static max(){return new pn(new Wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-1;function H2e(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pn.fromTimestamp(r===1e9?new Wr(n+1,0):new Wr(n,r));return new Qd(i,Xt.empty(),e)}function G2e(t){return new Qd(t.readTime,t.key,G0)}class Qd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qd(pn.min(),Xt.empty(),G0)}static max(){return new Qd(pn.max(),Xt.empty(),G0)}}function W2e(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xt.comparator(t.documentKey,e.documentKey),n!==0?n:Tn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t){if(t.code!==dt.FAILED_PRECONDITION||t.message!==K2e)throw t;jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&sn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pt(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pt?n:pt.resolve(n)}catch(n){return pt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pt.reject(n)}static resolve(e){return new pt(((n,r)=>{n(e)}))}static reject(e){return new pt(((n,r)=>{r(e)}))}static waitFor(e){return new pt(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=pt.resolve(!1);for(const r of e)n=n.next((i=>i?pt.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new pt(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next((h=>{s[d]=h,++l,l===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new pt(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function X2e(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Lb.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=-1;function Fb(t){return t==null}function Rx(t){return t===0&&1/t==-1/0}function J2e(t){return typeof t=="number"&&Number.isInteger(t)&&!Rx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="";function Q2e(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$8(e)),e=Z2e(t.get(n),e);return $8(e)}function Z2e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case IV:n+="";break;default:n+=a}}return n}function $8(t){return t+IV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.comparator=e,this.root=n||ka.EMPTY}insert(e,n){return new ui(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ka.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ka.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dy(this.root,e,this.comparator,!0)}}class Dy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ka{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ka.RED,this.left=i??ka.EMPTY,this.right=a??ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ka(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ka.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ka.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sn(27949);return e+(this.isRed()?0:1)}}ka.EMPTY=null,ka.RED=!0,ka.BLACK=!1;ka.EMPTY=new class{constructor(){this.size=0}get key(){throw sn(57766)}get value(){throw sn(16141)}get color(){throw sn(16727)}get left(){throw sn(29726)}get right(){throw sn(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ka(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G8(this.data.getIterator())}getIteratorFrom(e){return new G8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ta(this.comparator);return n.data=e,n}}class G8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.fields=e,e.sort(Pa.comparator)}static empty(){return new mo([])}unionWith(e){let n=new ta(Pa.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dm(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kV("Invalid base64 string: "+a):a}})(e);return new Da(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Da(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Da.EMPTY_BYTE_STRING=new Da("");const e_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(t){if(hr(!!t,39018),typeof t=="string"){let e=0;const n=e_e.exec(t);if(hr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ai(t.seconds),nanos:Ai(t.nanos)}}function Ai(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ef(t){return typeof t=="string"?Da.fromBase64String(t):Da.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="server_timestamp",OV="__type__",jV="__previous_value__",MV="__local_write_time__";function YC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[OV])===null||n===void 0?void 0:n.stringValue)===PV}function Ub(t){const e=t.mapValue.fields[jV];return YC(e)?Ub(e):e}function W0(t){const e=Zd(t.mapValue.fields[MV].timestampValue);return new Wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_e{constructor(e,n,r,i,a,s,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const kx="(default)";class K0{constructor(e,n){this.projectId=e,this.database=n||kx}static empty(){return new K0("","")}get isDefaultDatabase(){return this.database===kx}isEqual(e){return e instanceof K0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="__type__",n_e="__max__",Ly={mapValue:{}},LV="__vector__",Px="value";function tf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?YC(t)?4:i_e(t)?9007199254740991:r_e(t)?10:11:sn(28295,{value:t})}function Lc(t,e){if(t===e)return!0;const n=tf(t);if(n!==tf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return W0(t).isEqual(W0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Zd(i.timestampValue),l=Zd(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ef(i.bytesValue).isEqual(ef(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ai(i.geoPointValue.latitude)===Ai(a.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ai(i.integerValue)===Ai(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ai(i.doubleValue),l=Ai(a.doubleValue);return s===l?Rx(s)===Rx(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return dm(t.arrayValue.values||[],e.arrayValue.values||[],Lc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(H8(s)!==H8(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Lc(s[c],l[c])))return!1;return!0})(t,e);default:return sn(52216,{left:t})}}function Y0(t,e){return(t.values||[]).find((n=>Lc(n,e)))!==void 0}function fm(t,e){if(t===e)return 0;const n=tf(t),r=tf(e);if(n!==r)return Tn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Ai(a.integerValue||a.doubleValue),c=Ai(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return W8(t.timestampValue,e.timestampValue);case 4:return W8(W0(t),W0(e));case 5:return $N(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=ef(a),c=ef(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Tn(l[d],c[d]);if(h!==0)return h}return Tn(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Tn(Ai(a.latitude),Ai(s.latitude));return l!==0?l:Tn(Ai(a.longitude),Ai(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return K8(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var l,c,d,h;const m=a.fields||{},g=s.fields||{},y=(l=m[Px])===null||l===void 0?void 0:l.arrayValue,N=(c=g[Px])===null||c===void 0?void 0:c.arrayValue,A=Tn(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=N==null?void 0:N.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:K8(y,N)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Ly.mapValue&&s===Ly.mapValue)return 0;if(a===Ly.mapValue)return 1;if(s===Ly.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=$N(c[m],h[m]);if(g!==0)return g;const y=fm(l[c[m]],d[h[m]]);if(y!==0)return y}return Tn(c.length,h.length)})(t.mapValue,e.mapValue);default:throw sn(23264,{le:n})}}function W8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tn(t,e);const n=Zd(t),r=Zd(e),i=Tn(n.seconds,r.seconds);return i!==0?i:Tn(n.nanos,r.nanos)}function K8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fm(n[i],r[i]);if(a)return a}return Tn(n.length,r.length)}function hm(t){return HN(t)}function HN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zd(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ef(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=HN(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${HN(n.fields[s])}`;return i+"}"})(t.mapValue):sn(61005,{value:t})}function e1(t){switch(tf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ub(t);return e?16+e1(e):16;case 5:return 2*t.stringValue.length;case 6:return ef(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+e1(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pf(r.fields,((a,s)=>{i+=a.length+e1(s)})),i})(t.mapValue);default:throw sn(13486,{value:t})}}function Y8(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GN(t){return!!t&&"integerValue"in t}function XC(t){return!!t&&"arrayValue"in t}function X8(t){return!!t&&"nullValue"in t}function J8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function t1(t){return!!t&&"mapValue"in t}function r_e(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DV])===null||n===void 0?void 0:n.stringValue)===LV}function Zg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zg(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function i_e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===n_e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.value=e}static empty(){return new qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!t1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zg(n)}setAll(e){let n=Pa.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Zg(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());t1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];t1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new qs(Zg(this.value))}}function FV(t){const e=[];return pf(t.fields,((n,r)=>{const i=new Pa([n]);if(t1(r)){const a=FV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new mo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new is(e,0,pn.min(),pn.min(),pn.min(),qs.empty(),0)}static newFoundDocument(e,n,r,i){return new is(e,1,n,pn.min(),r,i,0)}static newNoDocument(e,n){return new is(e,2,n,pn.min(),pn.min(),qs.empty(),0)}static newUnknownDocument(e,n){return new is(e,3,n,pn.min(),pn.min(),qs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.position=e,this.inclusive=n}}function Q8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Xt.comparator(Xt.fromName(s.referenceValue),n.key):r=fm(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n="asc"){this.field=e,this.dir=n}}function a_e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{}class Bi extends UV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o_e(e,n,r):n==="array-contains"?new u_e(e,r):n==="in"?new d_e(e,r):n==="not-in"?new f_e(e,r):n==="array-contains-any"?new h_e(e,r):new Bi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l_e(e,r):new c_e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fm(n,this.value)):n!==null&&tf(this.value)===tf(n)&&this.matchesComparison(fm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return sn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ol extends UV{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ol(e,n)}matches(e){return BV(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function BV(t){return t.op==="and"}function qV(t){return s_e(t)&&BV(t)}function s_e(t){for(const e of t.filters)if(e instanceof Ol)return!1;return!0}function WN(t){if(t instanceof Bi)return t.field.canonicalString()+t.op.toString()+hm(t.value);if(qV(t))return t.filters.map((e=>WN(e))).join(",");{const e=t.filters.map((n=>WN(n))).join(",");return`${t.op}(${e})`}}function VV(t,e){return t instanceof Bi?(function(r,i){return i instanceof Bi&&r.op===i.op&&r.field.isEqual(i.field)&&Lc(r.value,i.value)})(t,e):t instanceof Ol?(function(r,i){return i instanceof Ol&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&VV(s,i.filters[l])),!0):!1})(t,e):void sn(19439)}function zV(t){return t instanceof Bi?(function(n){return`${n.field.canonicalString()} ${n.op} ${hm(n.value)}`})(t):t instanceof Ol?(function(n){return n.op.toString()+" {"+n.getFilters().map(zV).join(" ,")+"}"})(t):"Filter"}class o_e extends Bi{constructor(e,n,r){super(e,n,r),this.key=Xt.fromName(r.referenceValue)}matches(e){const n=Xt.comparator(e.key,this.key);return this.matchesComparison(n)}}class l_e extends Bi{constructor(e,n){super(e,"in",n),this.keys=$V("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class c_e extends Bi{constructor(e,n){super(e,"not-in",n),this.keys=$V("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $V(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Xt.fromName(r.referenceValue)))}class u_e extends Bi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return XC(n)&&Y0(n.arrayValue,this.value)}}class d_e extends Bi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Y0(this.value.arrayValue,n)}}class f_e extends Bi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Y0(this.value.arrayValue,n)}}class h_e extends Bi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!XC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Y0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_e{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Pe=null}}function e7(t,e=null,n=[],r=[],i=null,a=null,s=null){return new p_e(t,e,n,r,i,a,s)}function JC(t){const e=vn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>WN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Fb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hm(r))).join(",")),e.Pe=n}return e.Pe}function QC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a_e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z8(t.startAt,e.startAt)&&Z8(t.endAt,e.endAt)}function KN(t){return Xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function m_e(t,e,n,r,i,a,s,l){return new Dm(t,e,n,r,i,a,s,l)}function ZC(t){return new Dm(t)}function t7(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HV(t){return t.collectionGroup!==null}function e0(t){const e=vn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new ta(Pa.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new X0(a,r))})),n.has(Pa.keyField().canonicalString())||e.Te.push(new X0(Pa.keyField(),r))}return e.Te}function kc(t){const e=vn(t);return e.Ie||(e.Ie=g_e(e,e0(t))),e.Ie}function g_e(t,e){if(t.limitType==="F")return e7(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new X0(i.field,a)}));const n=t.endAt?new Ox(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ox(t.startAt.position,t.startAt.inclusive):null;return e7(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YN(t,e){const n=t.filters.concat([e]);return new Dm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jx(t,e,n){return new Dm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bb(t,e){return QC(kc(t),kc(e))&&t.limitType===e.limitType}function GV(t){return`${JC(kc(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>zV(i))).join(", ")}]`),Fb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>hm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>hm(i))).join(",")),`Target(${r})`})(kc(t))}; limitType=${t.limitType})`}function qb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Xt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of e0(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const d=Q8(s,l,c);return s.inclusive?d<=0:d<0})(r.startAt,e0(r),i)||r.endAt&&!(function(s,l,c){const d=Q8(s,l,c);return s.inclusive?d>=0:d>0})(r.endAt,e0(r),i))})(t,e)}function v_e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WV(t){return(e,n)=>{let r=!1;for(const i of e0(t)){const a=y_e(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function y_e(t,e,n){const r=t.field.isKeyField()?Xt.comparator(e.key,n.key):(function(a,s,l){const c=s.data.field(a),d=l.data.field(a);return c!==null&&d!==null?fm(c,d):sn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return sn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return RV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_e=new ui(Xt.comparator);function Ou(){return x_e}const KV=new ui(Xt.comparator);function Bg(...t){let e=KV;for(const n of t)e=e.insert(n.key,n);return e}function YV(t){let e=KV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $f(){return t0()}function XV(){return t0()}function t0(){return new bh((t=>t.toString()),((t,e)=>t.isEqual(e)))}const b_e=new ui(Xt.comparator),__e=new ta(Xt.comparator);function Bn(...t){let e=__e;for(const n of t)e=e.add(n);return e}const w_e=new ta(Tn);function A_e(){return w_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rx(e)?"-0":e}}function JV(t){return{integerValue:""+t}}function S_e(t,e){return J2e(e)?JV(e):eI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this._=void 0}}function E_e(t,e,n){return t instanceof Mx?(function(i,a){const s={fields:{[OV]:{stringValue:PV},[MV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&YC(a)&&(a=Ub(a)),a&&(s.fields[jV]=a),{mapValue:s}})(n,e):t instanceof J0?ZV(t,e):t instanceof Q0?ez(t,e):(function(i,a){const s=QV(i,a),l=n7(s)+n7(i.Ee);return GN(s)&&GN(i.Ee)?JV(l):eI(i.serializer,l)})(t,e)}function N_e(t,e,n){return t instanceof J0?ZV(t,e):t instanceof Q0?ez(t,e):n}function QV(t,e){return t instanceof Dx?(function(r){return GN(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Mx extends Vb{}class J0 extends Vb{constructor(e){super(),this.elements=e}}function ZV(t,e){const n=tz(e);for(const r of t.elements)n.some((i=>Lc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Q0 extends Vb{constructor(e){super(),this.elements=e}}function ez(t,e){let n=tz(e);for(const r of t.elements)n=n.filter((i=>!Lc(i,r)));return{arrayValue:{values:n}}}class Dx extends Vb{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function n7(t){return Ai(t.integerValue||t.doubleValue)}function tz(t){return XC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T_e(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof J0&&i instanceof J0||r instanceof Q0&&i instanceof Q0?dm(r.elements,i.elements,Lc):r instanceof Dx&&i instanceof Dx?Lc(r.Ee,i.Ee):r instanceof Mx&&i instanceof Mx})(t.transform,e.transform)}class C_e{constructor(e,n){this.version=e,this.transformResults=n}}class ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zb{}function nz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $b(t.key,ws.none()):new pv(t.key,t.data,ws.none());{const n=t.data,r=qs.empty();let i=new ta(Pa.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new mf(t.key,r,new mo(i.toArray()),ws.none())}}function I_e(t,e,n){t instanceof pv?(function(i,a,s){const l=i.value.clone(),c=i7(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof mf?(function(i,a,s){if(!n1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=i7(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(rz(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function n0(t,e,n,r){return t instanceof pv?(function(a,s,l,c){if(!n1(a.precondition,s))return l;const d=a.value.clone(),h=a7(a.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof mf?(function(a,s,l,c){if(!n1(a.precondition,s))return l;const d=a7(a.fieldTransforms,c,s),h=s.data;return h.setAll(rz(a)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,s,l){return n1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function R_e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=QV(r.transform,i||null);a!=null&&(n===null&&(n=qs.empty()),n.set(r.field,a))}return n||null}function r7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dm(r,i,((a,s)=>T_e(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pv extends zb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mf extends zb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function i7(t,e,n){const r=new Map;hr(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,N_e(s,l,n[i]))}return r}function a7(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,E_e(a,s,e))}return r}class $b extends zb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k_e extends zb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&I_e(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XV();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=nz(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Bn())}isEqual(e){return this.batchId===e.batchId&&dm(this.mutations,e.mutations,((n,r)=>r7(n,r)))&&dm(this.baseMutations,e.baseMutations,((n,r)=>r7(n,r)))}}class tI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){hr(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return b_e})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new tI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fi,Kn;function M_e(t){switch(t){case dt.OK:return sn(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return sn(15467,{code:t})}}function iz(t){if(t===void 0)return Pu("GRPC error has no .code"),dt.UNKNOWN;switch(t){case Fi.OK:return dt.OK;case Fi.CANCELLED:return dt.CANCELLED;case Fi.UNKNOWN:return dt.UNKNOWN;case Fi.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Fi.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Fi.INTERNAL:return dt.INTERNAL;case Fi.UNAVAILABLE:return dt.UNAVAILABLE;case Fi.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Fi.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Fi.NOT_FOUND:return dt.NOT_FOUND;case Fi.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Fi.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Fi.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Fi.ABORTED:return dt.ABORTED;case Fi.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Fi.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Fi.DATA_LOSS:return dt.DATA_LOSS;default:return sn(39323,{code:t})}}(Kn=Fi||(Fi={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_e=new $d([4294967295,4294967295],0);function s7(t){const e=NV().encode(t),n=new yV;return n.update(e),new Uint8Array(n.digest())}function o7(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $d([n,r],0),new $d([i,a],0)]}class nI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qg(`Invalid padding: ${n}`);if(r<0)throw new qg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qg(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=$d.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply($d.fromNumber(r)));return i.compare(D_e)===1&&(i=new $d([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=s7(e),[r,i]=o7(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new nI(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.fe===0)return;const n=s7(e),[r,i]=o7(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);this.we(s)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hb(pn.min(),i,new ui(Tn),Ou(),Bn())}}class mv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mv(r,n,Bn(),Bn(),Bn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class az{constructor(e,n){this.targetId=e,this.De=n}}class sz{constructor(e,n,r=Da.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l7{constructor(){this.ve=0,this.Ce=c7(),this.Fe=Da.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Bn(),n=Bn(),r=Bn();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:sn(38017,{changeType:a})}})),new mv(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=c7()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,hr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class L_e{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ou(),this.je=Fy(),this.Je=Fy(),this.He=new ui(Tn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:sn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,i)=>{this.nt(i)&&n(i)}))}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(KN(a))if(r===0){const s=new Xt(a.path);this.Xe(n,s,is.newNoDocument(s,pn.min()))}else hr(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const l=this._t(e),c=l?this.ut(l,e,s):1;if(c!==0){this.rt(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=ef(r).toUint8Array()}catch(c){if(c instanceof kV)return Jd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new nI(s,i,a)}catch(c){return Jd(c instanceof qg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.We.lt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),i++)})),i}Pt(e){const n=new Map;this.Ge.forEach(((a,s)=>{const l=this.st(s);if(l){if(a.current&&KN(l.target)){const c=new Xt(l.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,is.newNoDocument(c,e))}a.Ne&&(n.set(s,a.Le()),a.ke())}}));let r=Bn();this.Je.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.ze.forEach(((a,s)=>s.setReadTime(e)));const i=new Hb(e,n,this.He,this.ze,r);return this.ze=Ou(),this.je=Fy(),this.Je=Fy(),this.He=new ui(Tn),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new l7,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ta(Tn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ta(Tn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||jt("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new l7),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fy(){return new ui(Xt.comparator)}function c7(){return new ui(Xt.comparator)}const F_e={asc:"ASCENDING",desc:"DESCENDING"},U_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B_e={and:"AND",or:"OR"};class q_e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function XN(t,e){return t.useProto3Json||Fb(e)?e:{value:e}}function Lx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V_e(t,e){return Lx(t,e.toTimestamp())}function Pc(t){return hr(!!t,49232),pn.fromTimestamp((function(n){const r=Zd(n);return new Wr(r.seconds,r.nanos)})(t))}function rI(t,e){return JN(t,e).canonicalString()}function JN(t,e){const n=(function(i){return new Ur(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function lz(t){const e=Ur.fromString(t);return hr(hz(e),10190,{key:e.toString()}),e}function QN(t,e){return rI(t.databaseId,e.path)}function jS(t,e){const n=lz(e);if(n.get(1)!==t.databaseId.projectId)throw new Rt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xt(uz(n))}function cz(t,e){return rI(t.databaseId,e)}function z_e(t){const e=lz(t);return e.length===4?Ur.emptyPath():uz(e)}function ZN(t){return new Ur(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uz(t){return hr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function u7(t,e,n){return{name:QN(t,e),fields:n.value.mapValue.fields}}function $_e(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:sn(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(hr(h===void 0||typeof h=="string",58123),Da.fromBase64String(h||"")):(hr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Da.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(d){const h=d.code===void 0?dt.UNKNOWN:iz(d.code);return new Rt(h,d.message||"")})(s);n=new sz(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jS(t,r.document.name),a=Pc(r.document.updateTime),s=r.document.createTime?Pc(r.document.createTime):pn.min(),l=new qs({mapValue:{fields:r.document.fields}}),c=is.newFoundDocument(i,a,s,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new r1(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jS(t,r.document),a=r.readTime?Pc(r.readTime):pn.min(),s=is.newNoDocument(i,a),l=r.removedTargetIds||[];n=new r1([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jS(t,r.document),a=r.removedTargetIds||[];n=new r1([],a,i,null)}else{if(!("filter"in e))return sn(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new j_e(i,a),l=r.targetId;n=new az(l,s)}}return n}function H_e(t,e){let n;if(e instanceof pv)n={update:u7(t,e.key,e.value)};else if(e instanceof $b)n={delete:QN(t,e.key)};else if(e instanceof mf)n={update:u7(t,e.key,e.data),updateMask:ewe(e.fieldMask)};else{if(!(e instanceof k_e))return sn(16599,{Rt:e.type});n={verify:QN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof Mx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof J0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Q0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dx)return{fieldPath:s.field.canonicalString(),increment:l.Ee};throw sn(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:V_e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:sn(27497)})(t,e.precondition)),n}function G_e(t,e){return t&&t.length>0?(hr(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Pc(i.updateTime):Pc(a);return s.isEqual(pn.min())&&(s=Pc(a)),new C_e(s,i.transformResults||[])})(n,e)))):[]}function W_e(t,e){return{documents:[cz(t,e.path)]}}function K_e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cz(t,i);const a=(function(d){if(d.length!==0)return fz(Ol.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((h=>(function(g){return{field:pp(g.field),direction:J_e(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=XN(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:n,parent:i}}function Y_e(t){let e=z_e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hr(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const g=dz(m);return g instanceof Ol&&qV(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((g=>(function(N){return new X0(mp(N.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,Fb(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,y=m.values||[];return new Ox(y,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const g=!m.before,y=m.values||[];return new Ox(y,g)})(n.endAt)),m_e(e,i,s,a,l,"F",c,d)}function X_e(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mp(n.unaryFilter.field);return Bi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mp(n.unaryFilter.field);return Bi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mp(n.unaryFilter.field);return Bi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mp(n.unaryFilter.field);return Bi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sn(61313);default:return sn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bi.create(mp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sn(58110);default:return sn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ol.create(n.compositeFilter.filters.map((r=>dz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sn(1026)}})(n.compositeFilter.op))})(t):sn(30097,{filter:t})}function J_e(t){return F_e[t]}function Q_e(t){return U_e[t]}function Z_e(t){return B_e[t]}function pp(t){return{fieldPath:t.canonicalString()}}function mp(t){return Pa.fromServerFormat(t.fieldPath)}function fz(t){return t instanceof Bi?(function(n){if(n.op==="=="){if(J8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NAN"}};if(X8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NAN"}};if(X8(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(n.field),op:Q_e(n.op),value:n.value}}})(t):t instanceof Ol?(function(n){const r=n.getFilters().map((i=>fz(i)));return r.length===1?r[0]:{compositeFilter:{op:Z_e(n.op),filters:r}}})(t):sn(54877,{filter:t})}function ewe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,a=pn.min(),s=pn.min(),l=Da.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class twe{constructor(e){this.gt=e}}function nwe(t){const e=Y_e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{constructor(){this.Dn=new iwe}addToCollectionParentIndex(e,n){return this.Dn.add(n),pt.resolve()}getCollectionParents(e,n){return pt.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return pt.resolve()}deleteFieldIndex(e,n){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,n){return pt.resolve()}getDocumentsMatchingTarget(e,n){return pt.resolve(null)}getIndexType(e,n){return pt.resolve(0)}getFieldIndexes(e,n){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,n){return pt.resolve(Qd.min())}getMinOffsetFromCollectionGroup(e,n){return pt.resolve(Qd.min())}updateCollectionGroup(e,n,r){return pt.resolve()}updateIndexEntries(e,n){return pt.resolve()}}class iwe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ta(Ur.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ta(Ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pz=41943040;class Bs{static withCacheSize(e){return new Bs(e,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs.DEFAULT_COLLECTION_PERCENTILE=10,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bs.DEFAULT=new Bs(pz,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bs.DISABLED=new Bs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new pm(0)}static ur(){return new pm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="LruGarbageCollector",awe=1048576;function h7([t,e],[n,r]){const i=Tn(t,n);return i===0?Tn(e,r):i}class swe{constructor(e){this.Tr=e,this.buffer=new ta(h7),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h7(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class owe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){jt(f7,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mm(n)?jt(f7,"Ignoring IndexedDB error during garbage collection: ",n):await jm(n)}await this.Rr(3e5)}))}}class lwe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return pt.resolve(Lb.ue);const r=new swe(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(d7)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d7):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,s,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),fp()<=Un.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function cwe(t,e){return new lwe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uwe{constructor(){this.changes=new bh((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dwe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fwe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&n0(r.mutation,i,mo.empty(),Wr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Bn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Bn()){const i=$f();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Bg();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=$f();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Bn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=Ou();const s=t0(),l=(function(){return t0()})();return n.forEach(((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof mf)?a=a.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),n0(h.mutation,d,h.mutation.getFieldMask(),Wr.now())):s.set(d.key,mo.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,h)=>s.set(d,h))),n.forEach(((d,h)=>{var m;return l.set(d,new dwe(h,(m=s.get(d))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=t0();let i=new ui(((s,l)=>s-l)),a=Bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||mo.empty();h=l.applyToLocalView(d,h),r.set(c,h);const m=(i.get(l.batchId)||Bn()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=XV();h.forEach((g=>{if(!a.has(g)){const y=nz(n.get(g),r.get(g));y!==null&&m.set(g,y),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return pt.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Xt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):pt.resolve($f());let l=G0,c=a;return s.next((d=>pt.forEach(d,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?pt.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,Bn()))).next((h=>({batchId:l,changes:YV(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xt(n)).next((r=>{let i=Bg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Bg();return this.indexManager.getCollectionParents(e,a).next((l=>pt.forEach(l,(c=>{const d=(function(m,g){return new Dm(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,g)=>{s=s.insert(m,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,is.newInvalidDocument(h)))}));let l=Bg();return s.forEach(((c,d)=>{const h=a.get(c);h!==void 0&&n0(h.mutation,d,mo.empty(),Wr.now()),qb(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hwe{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return pt.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Pc(i.createTime)}})(n)),pt.resolve()}getNamedQuery(e,n){return pt.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:nwe(i.bundledQuery),readTime:Pc(i.readTime)}})(n)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pwe{constructor(){this.overlays=new ui(Xt.comparator),this.kr=new Map}getOverlay(e,n){return pt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$f();return pt.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.wt(e,n,a)})),pt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),pt.resolve()}getOverlaysForCollection(e,n,r){const i=$f(),a=n.length+1,s=new Xt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return pt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ui(((d,h)=>d-h));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=$f(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=$f(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>l.set(d,h))),!(l.size()>=i)););return pt.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new O_e(n,r));let a=this.kr.get(n);a===void 0&&(a=Bn(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mwe{constructor(){this.sessionToken=Da.EMPTY_BYTE_STRING}getSessionToken(e){return pt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.qr=new ta(pa.Qr),this.$r=new ta(pa.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new pa(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new pa(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new Xt(new Ur([])),r=new pa(n,e),i=new pa(n,e+1),a=[];return this.$r.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Xt(new Ur([])),r=new pa(n,e),i=new pa(n,e+1);let a=Bn();return this.$r.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new pa(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pa{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Xt.comparator(e.key,n.key)||Tn(e.Hr,n.Hr)}static Ur(e,n){return Tn(e.Hr,n.Hr)||Xt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gwe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ta(pa.Qr)}checkEmpty(e){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new P_e(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Yr=this.Yr.add(new pa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return pt.resolve(s)}lookupMutationBatch(e,n){return pt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return pt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?KC:this.er-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pa(n,0),i=new pa(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);a.push(l)})),pt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ta(Tn);return n.forEach((i=>{const a=new pa(i,0),s=new pa(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],(l=>{r=r.add(l.Hr)}))})),pt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Xt.isDocumentKey(a)||(a=a.child(""));const s=new pa(new Xt(a),0);let l=new ta(Tn);return this.Yr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),s),pt.resolve(this.ei(l))}ei(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){hr(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return pt.forEach(n.mutations,(i=>{const a=new pa(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new pa(n,0),i=this.Yr.firstAfterOrEqual(r);return pt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pt.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vwe{constructor(e){this.ni=e,this.docs=(function(){return new ui(Xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pt.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=Ou();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():is.newInvalidDocument(i))})),pt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ou();const s=n.path,l=new Xt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||W2e(G2e(h),r)<=0||(i.has(h.key)||qb(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return pt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){sn(9500)}ri(e,n){return pt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ywe(this)}getSize(e){return pt.resolve(this.size)}}class ywe extends uwe{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),pt.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xwe{constructor(e){this.persistence=e,this.ii=new bh((n=>JC(n)),QC),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.si=0,this.oi=new iI,this.targetCount=0,this._i=pm.ar()}forEachTarget(e,n){return this.ii.forEach(((r,i)=>n(i))),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),pt.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new pm(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,pt.resolve()}updateTargetData(e,n){return this.hr(n),pt.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),pt.waitFor(a).next((()=>i))}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return pt.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),pt.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),pt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),pt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return pt.resolve(r)}containsKey(e,n){return pt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n){this.ai={},this.overlays={},this.ui=new Lb(0),this.ci=!1,this.ci=!0,this.li=new mwe,this.referenceDelegate=e(this),this.hi=new xwe(this),this.indexManager=new rwe,this.remoteDocumentCache=(function(i){return new vwe(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new twe(n),this.Ti=new hwe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pwe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new gwe(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){jt("MemoryPersistence","Starting transaction:",e);const i=new bwe(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return pt.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class bwe extends Y2e{constructor(e){super(),this.currentSequenceNumber=e}}class aI{constructor(e){this.persistence=e,this.Ai=new iI,this.Ri=null}static Vi(e){return new aI(e)}get mi(){if(this.Ri)return this.Ri;throw sn(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),pt.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),pt.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),pt.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.mi,(r=>{const i=Xt.fromPath(r);return this.fi(e,i).next((a=>{a||n.removeEntry(i,pn.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return pt.or([()=>pt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fx{constructor(e,n){this.persistence=e,this.gi=new bh((r=>Q2e(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=cwe(this,n)}static Vi(e,n){return new Fx(e,n)}Ii(){}di(e){return pt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return pt.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((a=>a?pt.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(s=>this.Sr(e,s,n).next((l=>{l||(r++,a.removeEntry(s,pn.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),pt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),pt.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),pt.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),pt.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=e1(e.data.value)),n}Sr(e,n,r){return pt.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return pt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Bn(),i=Bn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new sI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _we{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wwe{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return t1e()?8:X2e(os())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ys(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new _we;return this.ws(e,n,s).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,n,s,l.size)}))})).next((()=>a.result))}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(fp()<=Un.DEBUG&&jt("QueryEngine","SDK will not create cache indexes for query:",hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pt.resolve()):(fp()<=Un.DEBUG&&jt("QueryEngine","Query:",hp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(fp()<=Un.DEBUG&&jt("QueryEngine","The SDK decides to create cache indexes for query:",hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kc(n))):pt.resolve())}ps(e,n){if(t7(n))return pt.resolve(null);let r=kc(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=jx(n,null,"F"),r=kc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Bn(...a);return this.gs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.bs(n,l);return this.Ds(n,d,s,c.readTime)?this.ps(e,jx(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ys(e,n,r,i){return t7(n)||i.isEqual(pn.min())?pt.resolve(null):this.gs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ds(n,s,r,i)?pt.resolve(null):(fp()<=Un.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.vs(e,s,n,H2e(i,G0)).next((l=>l)))}))}bs(e,n){let r=new ta(WV(e));return n.forEach(((i,a)=>{qb(e,a)&&(r=r.add(a))})),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return fp()<=Un.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",hp(n)),this.gs.getDocumentsMatchingQuery(e,n,Qd.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="LocalStore",Awe=3e8;class Swe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new ui(Tn),this.Ms=new bh((a=>JC(a)),QC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fwe(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function Ewe(t,e,n,r){return new Swe(t,e,n,r)}async function gz(t,e){const n=vn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=Bn();for(const d of i){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Bs:d,removedBatchIds:s,addedBatchIds:l})))}))}))}function Nwe(t,e){const n=vn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,h){const m=d.batch,g=m.keys();let y=pt.resolve();return g.forEach((N=>{y=y.next((()=>h.getEntry(c,N))).next((A=>{const S=d.docVersions.get(N);hr(S!==null,48541),A.version.compareTo(S)<0&&(m.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Bn();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function vz(t){const e=vn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function Twe(t,e){const n=vn(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach(((h,m)=>{const g=i.get(m);if(!g)return;l.push(n.hi.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.hi.addMatchingKeys(a,h.addedDocuments,m))));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Da.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),(function(A,S,C){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Awe?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,y,h)&&l.push(n.hi.updateTargetData(a,y))}));let c=Ou(),d=Bn();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(Cwe(a,s,e.documentUpdates).next((h=>{c=h.Ls,d=h.ks}))),!r.isEqual(pn.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next((m=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return pt.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(n.Fs=i,a)))}function Cwe(t,e,n){let r=Bn(),i=Bn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=Ou();return n.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(pn.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):jt(oI,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Ls:s,ks:i}}))}function Iwe(t,e){const n=vn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=KC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Rwe(t,e){const n=vn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.hi.getTargetData(r,e).next((a=>a?(i=a,pt.resolve(i)):n.hi.allocateTargetId(r).next((s=>(i=new Ld(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function eT(t,e,n){const r=vn(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Mm(s))throw s;jt(oI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function p7(t,e,n){const r=vn(t);let i=pn.min(),a=Bn();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,h){const m=vn(c),g=m.Ms.get(h);return g!==void 0?pt.resolve(m.Fs.get(g)):m.hi.getTargetData(d,h)})(r,s,kc(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:pn.min(),n?a:Bn()))).next((l=>(kwe(r,v_e(e),l),{documents:l,qs:a})))))}function kwe(t,e,n){let r=t.xs.get(e)||pn.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.xs.set(e,r)}class m7{constructor(){this.activeTargetIds=A_e()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pwe{constructor(){this.Fo=new m7,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new m7,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Owe{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="ConnectivityMonitor";class v7{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){jt(g7,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){jt(g7,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy=null;function tT(){return Uy===null?Uy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uy++,"0x"+Uy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="RestConnection",jwe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mwe{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===kx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=tT(),l=this.Go(e,n.toUriEncodedString());jt(MS,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:d}=new URL(l),h=ff(d);return this.jo(e,l,c,r,h).then((m=>(jt(MS,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw Jd(MS,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}Jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Om})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Go(e,n){const r=jwe[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dwe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="WebChannelConnection";class Lwe extends Mwe{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const s=tT();return new Promise(((l,c)=>{const d=new xV;d.setWithCredentials(!0),d.listenOnce(bV.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Zy.NO_ERROR:const m=d.getResponseJson();jt(Za,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case Zy.TIMEOUT:jt(Za,`RPC '${e}' ${s} timed out`),c(new Rt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Zy.HTTP_ERROR:const g=d.getStatus();if(jt(Za,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const A=(function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(R)>=0?R:dt.UNKNOWN})(N.status);c(new Rt(A,N.message))}else c(new Rt(dt.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Rt(dt.UNAVAILABLE,"Connection failed."));break;default:sn(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{jt(Za,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);jt(Za,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)}))}P_(e,n,r){const i=tT(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=AV(),l=wV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");jt(Za,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);this.T_(m);let g=!1,y=!1;const N=new Dwe({Ho:S=>{y?jt(Za,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(jt(Za,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),jt(Za,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Yo:()=>m.close()}),A=(S,C,R)=>{S.listen(C,(P=>{try{R(P)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(m,Ug.EventType.OPEN,(()=>{y||(jt(Za,`RPC '${e}' stream ${i} transport opened.`),N.s_())})),A(m,Ug.EventType.CLOSE,(()=>{y||(y=!0,jt(Za,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(m))})),A(m,Ug.EventType.ERROR,(S=>{y||(y=!0,Jd(Za,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),N.__(new Rt(dt.UNAVAILABLE,"The operation could not be completed")))})),A(m,Ug.EventType.MESSAGE,(S=>{var C;if(!y){const R=S.data[0];hr(!!R,16349);const P=R,U=(P==null?void 0:P.error)||((C=P[0])===null||C===void 0?void 0:C.error);if(U){jt(Za,`RPC '${e}' stream ${i} received error:`,U);const L=U.status;let z=(function(V){const W=Fi[V];if(W!==void 0)return iz(W)})(L),k=U.message;z===void 0&&(z=dt.INTERNAL,k="Unknown error status: "+L+" with message "+U.message),y=!0,N.__(new Rt(z,k)),m.close()}else jt(Za,`RPC '${e}' stream ${i} received:`,R),N.a_(R)}})),A(l,_V.STAT_EVENT,(S=>{S.stat===zN.PROXY?jt(Za,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===zN.NOPROXY&&jt(Za,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function DS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){return new q_e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&jt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="PersistentStream";class xz{constructor(e,n,r,i,a,s,l,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new yz(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(Pu(n.toString()),Pu("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===n&&this.W_(r,i)}),(r=>{e((()=>{const i=new Rt(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return jt(y7,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(jt(y7,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fwe extends xz{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=$_e(this.serializer,e),r=(function(a){if(!("targetChange"in a))return pn.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?pn.min():s.readTime?Pc(s.readTime):pn.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ZN(this.serializer),n.addTarget=(function(a,s){let l;const c=s.target;if(l=KN(c)?{documents:W_e(a,c)}:{query:K_e(a,c).Vt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=oz(a,s.resumeToken);const d=XN(a,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(pn.min())>0){l.readTime=Lx(a,s.snapshotVersion.toTimestamp());const d=XN(a,s.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=X_e(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ZN(this.serializer),n.removeTarget=e,this.k_(n)}}class Uwe extends xz{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return hr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){hr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=G_e(e.writeResults,e.commitTime),r=Pc(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ZN(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>H_e(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bwe{}class qwe extends Bwe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Rt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,JN(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Rt(dt.UNKNOWN,a.toString())}))}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Jo(e,JN(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rt(dt.UNKNOWN,s.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Vwe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pu(n),this._a=!1):jt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="RemoteStore";class zwe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((s=>{r.enqueueAndForget((async()=>{_h(this)&&(jt(ch,"Restarting streams for network reachability change."),await(async function(c){const d=vn(c);d.Ia.add(4),await gv(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Wb(d)})(this))}))})),this.Aa=new Vwe(r,i)}}async function Wb(t){if(_h(t))for(const e of t.da)await e(!0)}async function gv(t){for(const e of t.da)await e(!1)}function bz(t,e){const n=vn(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),dI(n)?uI(n):Lm(n).x_()&&cI(n,e))}function lI(t,e){const n=vn(t),r=Lm(n);n.Ta.delete(e),r.x_()&&_z(n,e),n.Ta.size===0&&(r.x_()?r.B_():_h(n)&&n.Aa.set("Unknown"))}function cI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lm(t).H_(e)}function _z(t,e){t.Ra.$e(e),Lm(t).Y_(e)}function uI(t){t.Ra=new L_e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Lm(t).start(),t.Aa.aa()}function dI(t){return _h(t)&&!Lm(t).M_()&&t.Ta.size>0}function _h(t){return vn(t).Ia.size===0}function wz(t){t.Ra=void 0}async function $we(t){t.Aa.set("Online")}async function Hwe(t){t.Ta.forEach(((e,n)=>{cI(t,e)}))}async function Gwe(t,e){wz(t),dI(t)?(t.Aa.la(e),uI(t)):t.Aa.set("Unknown")}async function Wwe(t,e,n){if(t.Aa.set("Online"),e instanceof sz&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(r){jt(ch,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ux(t,r)}else if(e instanceof r1?t.Ra.Ye(e):e instanceof az?t.Ra.it(e):t.Ra.et(e),!n.isEqual(pn.min()))try{const r=await vz(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Ra.Pt(s);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(d);h&&a.Ta.set(d,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,d)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Da.EMPTY_BYTE_STRING,h.snapshotVersion)),_z(a,c);const m=new Ld(h.target,c,d,h.sequenceNumber);cI(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){jt(ch,"Failed to raise snapshot:",r),await Ux(t,r)}}async function Ux(t,e,n){if(!Mm(e))throw e;t.Ia.add(1),await gv(t),t.Aa.set("Offline"),n||(n=()=>vz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{jt(ch,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Wb(t)}))}function Az(t,e){return e().catch((n=>Ux(t,n,e)))}async function Kb(t){const e=vn(t),n=nf(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:KC;for(;Kwe(e);)try{const i=await Iwe(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Ywe(e,i)}catch(i){await Ux(e,i)}Sz(e)&&Ez(e)}function Kwe(t){return _h(t)&&t.Pa.length<10}function Ywe(t,e){t.Pa.push(e);const n=nf(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Sz(t){return _h(t)&&!nf(t).M_()&&t.Pa.length>0}function Ez(t){nf(t).start()}async function Xwe(t){nf(t).na()}async function Jwe(t){const e=nf(t);for(const n of t.Pa)e.X_(n.mutations)}async function Qwe(t,e,n){const r=t.Pa.shift(),i=tI.from(r,e,n);await Az(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Kb(t)}async function Zwe(t,e){e&&nf(t).Z_&&await(async function(r,i){if((function(s){return M_e(s)&&s!==dt.ABORTED})(i.code)){const a=r.Pa.shift();nf(r).N_(),await Az(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Kb(r)}})(t,e),Sz(t)&&Ez(t)}async function x7(t,e){const n=vn(t);n.asyncQueue.verifyOperationInProgress(),jt(ch,"RemoteStore received new credentials");const r=_h(n);n.Ia.add(3),await gv(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Wb(n)}async function e5e(t,e){const n=vn(t);e?(n.Ia.delete(2),await Wb(n)):e||(n.Ia.add(2),await gv(n),n.Aa.set("Unknown"))}function Lm(t){return t.Va||(t.Va=(function(n,r,i){const a=vn(n);return a.ia(),new Fwe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:$we.bind(null,t),e_:Hwe.bind(null,t),n_:Gwe.bind(null,t),J_:Wwe.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),dI(t)?uI(t):t.Aa.set("Unknown")):(await t.Va.stop(),wz(t))}))),t.Va}function nf(t){return t.ma||(t.ma=(function(n,r,i){const a=vn(n);return a.ia(),new Uwe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Xwe.bind(null,t),n_:Zwe.bind(null,t),ea:Jwe.bind(null,t),ta:Qwe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Kb(t)):(await t.ma.stop(),t.Pa.length>0&&(jt(ch,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new fI(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hI(t,e){if(Pu("AsyncQueue",`${e}: ${t}`),Mm(t))return new Rt(dt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static emptySet(e){return new Up(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xt.comparator(n.key,r.key):(n,r)=>Xt.comparator(n.key,r.key),this.keyedMap=Bg(),this.sortedSet=new ui(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Up)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Up;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.fa=new ui(Xt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):sn(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mm{constructor(e,n,r,i,a,s,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new mm(e,n,Up.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5e{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class n5e{constructor(){this.queries=_7(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=vn(n),a=i.queries;i.queries=_7(),a.forEach(((s,l)=>{for(const c of l.wa)c.onError(r)}))})(this,new Rt(dt.ABORTED,"Firestore shutting down"))}}function _7(){return new bh((t=>GV(t)),Bb)}async function Nz(t,e){const n=vn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new t5e,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=hI(s,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&pI(n)}async function Tz(t,e){const n=vn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r5e(t,e){const n=vn(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.wa)l.Ca(i)&&(r=!0);s.ya=i}}r&&pI(n)}function i5e(t,e,n){const r=vn(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function pI(t){t.Da.forEach((e=>{e.next()}))}var nT,w7;(w7=nT||(nT={})).Fa="default",w7.Cache="cache";class Cz{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==nT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.key=e}}class Rz{constructor(e){this.key=e}}class a5e{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Bn(),this.mutatedKeys=Bn(),this.Xa=WV(e),this.eu=new Up(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new b7,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const g=i.get(h),y=qb(this.query,m)?m:null,N=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;g&&y?g.data.isEqual(y.data)?N!==A&&(r.track({type:3,doc:y}),S=!0):this.iu(g,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Xa(y,c)>0||d&&this.Xa(y,d)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(c||d)&&(l=!0)),S&&(y?(s=s.add(y),a=A?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort(((h,m)=>(function(y,N){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn(20277,{At:S})}};return A(y)-A(N)})(h.type,m.type)||this.Xa(h.doc,m.doc))),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,d=c!==this.Ya;return this.Ya=c,s.length!==0||d?{snapshot:new mm(this.query,e.eu,a,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new b7,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Bn(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new Rz(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new Iz(r))})),n}uu(e){this.Ha=e.qs,this.Za=Bn();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return mm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mI="SyncEngine";class s5e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o5e{constructor(e){this.key=e,this.lu=!1}}class l5e{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new bh((l=>GV(l)),Bb),this.Tu=new Map,this.Iu=new Set,this.du=new ui(Xt.comparator),this.Eu=new Map,this.Au=new iI,this.Ru={},this.Vu=new Map,this.mu=pm.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function c5e(t,e,n=!0){const r=Dz(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await kz(r,e,n,!0),i}async function u5e(t,e){const n=Dz(t);await kz(n,e,!0,!1)}async function kz(t,e,n,r){const i=await Rwe(t.localStore,kc(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await d5e(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&bz(t.remoteStore,i),l}async function d5e(t,e,n,r,i){t.gu=(m,g,y)=>(async function(A,S,C,R){let P=S.view.nu(C);P.Ds&&(P=await p7(A.localStore,S.query,!1).then((({documents:k})=>S.view.nu(k,P))));const U=R&&R.targetChanges.get(S.targetId),L=R&&R.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(P,A.isPrimaryClient,U,L);return S7(A,S.targetId,z._u),z.snapshot})(t,m,g,y);const a=await p7(t.localStore,e,!0),s=new a5e(e,a.qs),l=s.nu(a.documents),c=mv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,c);S7(t,n,d._u);const h=new s5e(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function f5e(t,e,n){const r=vn(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter((s=>!Bb(s,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lI(r.remoteStore,i.targetId),rT(r,i.targetId)})).catch(jm)):(rT(r,i.targetId),await eT(r.localStore,i.targetId,!0))}async function h5e(t,e){const n=vn(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lI(n.remoteStore,r.targetId))}async function p5e(t,e,n){const r=_5e(t);try{const i=await(function(s,l){const c=vn(s),d=Wr.now(),h=l.reduce(((y,N)=>y.add(N.key)),Bn());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let N=Ou(),A=Bn();return c.Os.getEntries(y,h).next((S=>{N=S,N.forEach(((C,R)=>{R.isValidDocument()||(A=A.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,N))).next((S=>{m=S;const C=[];for(const R of l){const P=R_e(R,m.get(R.key).overlayedDocument);P!=null&&C.push(new mf(R.key,P,FV(P.value.mapValue),ws.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,C,l)})).next((S=>{g=S;const C=S.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(y,S.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:YV(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let d=s.Ru[s.currentUser.toKey()];d||(d=new ui(Tn)),d=d.insert(l,c),s.Ru[s.currentUser.toKey()]=d})(r,i.batchId,n),await vv(r,i.changes),await Kb(r.remoteStore)}catch(i){const a=hI(i,"Failed to persist write");n.reject(a)}}async function Pz(t,e){const n=vn(t);try{const r=await Twe(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Eu.get(a);s&&(hr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?hr(s.lu,14607):i.removedDocuments.size>0&&(hr(s.lu,42227),s.lu=!1))})),await vv(n,r,e)}catch(r){await jm(r)}}function A7(t,e,n){const r=vn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=vn(s);c.onlineState=l;let d=!1;c.queries.forEach(((h,m)=>{for(const g of m.wa)g.va(l)&&(d=!0)})),d&&pI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m5e(t,e,n){const r=vn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new ui(Xt.comparator);s=s.insert(a,is.newNoDocument(a,pn.min()));const l=Bn().add(a),c=new Hb(pn.min(),new Map,new ui(Tn),s,l);await Pz(r,c),r.du=r.du.remove(a),r.Eu.delete(e),gI(r)}else await eT(r.localStore,e,!1).then((()=>rT(r,e,n))).catch(jm)}async function g5e(t,e){const n=vn(t),r=e.batch.batchId;try{const i=await Nwe(n.localStore,e);jz(n,r,null),Oz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vv(n,i)}catch(i){await jm(i)}}async function v5e(t,e,n){const r=vn(t);try{const i=await(function(s,l){const c=vn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(hr(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);jz(r,e,n),Oz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vv(r,i)}catch(i){await jm(i)}}function Oz(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function jz(t,e,n){const r=vn(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function rT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||Mz(t,r)}))}function Mz(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),gI(t))}function S7(t,e,n){for(const r of n)r instanceof Iz?(t.Au.addReference(r.key,e),y5e(t,r)):r instanceof Rz?(jt(mI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Mz(t,r.key)):sn(19791,{yu:r})}function y5e(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(jt(mI,"New document in limbo: "+n),t.Iu.add(r),gI(t))}function gI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Xt(Ur.fromString(e)),r=t.mu.next();t.Eu.set(r,new o5e(n)),t.du=t.du.insert(n,r),bz(t.remoteStore,new Ld(kc(ZC(n.path)),r,"TargetPurposeLimboResolution",Lb.ue))}}async function vv(t,e,n){const r=vn(t),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach(((l,c)=>{s.push(r.gu(c,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=sI.Es(c.targetId,d);a.push(m)}})))})),await Promise.all(s),r.hu.J_(i),await(async function(c,d){const h=vn(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>pt.forEach(d,(g=>pt.forEach(g.Is,(y=>h.persistence.referenceDelegate.addReference(m,g.targetId,y))).next((()=>pt.forEach(g.ds,(y=>h.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))))))}catch(m){if(!Mm(m))throw m;jt(oI,"Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const y=h.Fs.get(g),N=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(N);h.Fs=h.Fs.insert(g,A)}}})(r.localStore,a))}async function x5e(t,e){const n=vn(t);if(!n.currentUser.isEqual(e)){jt(mI,"User change. New user:",e.toKey());const r=await gz(n.localStore,e);n.currentUser=e,(function(a,s){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Rt(dt.CANCELLED,s))}))})),a.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vv(n,r.Bs)}}function b5e(t,e){const n=vn(t),r=n.Eu.get(e);if(r&&r.lu)return Bn().add(r.key);{let i=Bn();const a=n.Tu.get(e);if(!a)return i;for(const s of a){const l=n.Pu.get(s);i=i.unionWith(l.view.tu)}return i}}function Dz(t){const e=vn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b5e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m5e.bind(null,e),e.hu.J_=r5e.bind(null,e.eventManager),e.hu.pu=i5e.bind(null,e.eventManager),e}function _5e(t){const e=vn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g5e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v5e.bind(null,e),e}class Bx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Ewe(this.persistence,new wwe,e.initialUser,this.serializer)}Du(e){return new mz(aI.Vi,this.serializer)}bu(e){return new Pwe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bx.provider={build:()=>new Bx};class w5e extends Bx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){hr(this.persistence.referenceDelegate instanceof Fx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new owe(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bs.withCacheSize(this.cacheSizeBytes):Bs.DEFAULT;return new mz((r=>Fx.Vi(r,n)),this.serializer)}}class iT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A7(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x5e.bind(null,this.syncEngine),await e5e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n5e})()}createDatastore(e){const n=Gb(e.databaseInfo.databaseId),r=(function(a){return new Lwe(a)})(e.databaseInfo);return(function(a,s,l,c){return new qwe(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new zwe(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>A7(this.syncEngine,n,0)),(function(){return v7.C()?new v7:new Owe})())}createSyncEngine(e,n){return(function(i,a,s,l,c,d,h){const m=new l5e(i,a,s,l,c,d);return h&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=vn(i);jt(ch,"RemoteStore shutting down."),a.Ia.add(5),await gv(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}iT.provider={build:()=>new iT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Pu("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="FirestoreClient";class A5e{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=WC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{jt(rf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(jt(rf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function LS(t,e){t.asyncQueue.verifyOperationInProgress(),jt(rf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await gz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{Jd("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{jt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Jd("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function E7(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S5e(t);jt(rf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>x7(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>x7(e.remoteStore,i))),t._onlineComponents=e}async function S5e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){jt(rf,"Using user provided OfflineComponentProvider");try{await LS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===dt.FAILED_PRECONDITION||i.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Jd("Error using user provided cache. Falling back to memory cache: "+n),await LS(t,new Bx)}}else jt(rf,"Using default OfflineComponentProvider"),await LS(t,new w5e(void 0));return t._offlineComponents}async function Fz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(jt(rf,"Using user provided OnlineComponentProvider"),await E7(t,t._uninitializedComponentsProvider._online)):(jt(rf,"Using default OnlineComponentProvider"),await E7(t,new iT))),t._onlineComponents}function E5e(t){return Fz(t).then((e=>e.syncEngine))}async function aT(t){const e=await Fz(t),n=e.eventManager;return n.onListen=c5e.bind(null,e.syncEngine),n.onUnlisten=f5e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u5e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h5e.bind(null,e.syncEngine),n}function N5e(t,e,n={}){const r=new Hd;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,d){const h=new Lz({next:g=>{h.Ou(),s.enqueueAndForget((()=>Tz(a,m))),g.fromCache&&c.source==="server"?d.reject(new Rt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new Cz(l,h,{includeMetadataChanges:!0,ka:!0});return Nz(a,m)})(await aT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="firestore.googleapis.com",T7=!0;class C7{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bz,this.ssl=T7}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:T7;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<awe)throw new Rt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z2e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uz((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Rt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Rt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Rt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C7({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C7(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new j2e;switch(r.type){case"firstParty":return new F2e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=N7.get(n);r&&(jt("ComponentProvider","Removing Datastore"),N7.delete(n),r.terminate())})(this),Promise.resolve()}}function T5e(t,e,n,r={}){var i;t=vo(t,Yb);const a=ff(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(PC(`https://${c}`),OC("Firestore",!0)),s.host!==Bz&&s.host!==c&&Jd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!ah(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=ts.MOCK_USER;else{h=Oq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Rt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ts(g)}t._authCredentials=new M2e(new EV(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class Ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}toJSON(){return{type:Ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hv(n,Ti._jsonSchema))return new Ti(e,r||null,new Xt(Ur.fromString(n.referencePath)))}}Ti._jsonSchemaVersion="firestore/documentReference/1.0",Ti._jsonSchema={type:qi("string",Ti._jsonSchemaVersion),referencePath:qi("string")};class Gd extends Bu{constructor(e,n,r){super(e,n,ZC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new Xt(e))}withConverter(e){return new Gd(this.firestore,e,this._path)}}function nr(t,e,...n){if(t=Yr(t),TV("collection","path",e),t instanceof Yb){const r=Ur.fromString(e,...n);return q8(r),new Gd(t,null,r)}{if(!(t instanceof Ti||t instanceof Gd))throw new Rt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ur.fromString(e,...n));return q8(r),new Gd(t.firestore,null,r)}}function En(t,e,...n){if(t=Yr(t),arguments.length===1&&(e=WC.newId()),TV("doc","path",e),t instanceof Yb){const r=Ur.fromString(e,...n);return B8(r),new Ti(t,null,new Xt(r))}{if(!(t instanceof Ti||t instanceof Gd))throw new Rt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ur.fromString(e,...n));return B8(r),new Ti(t.firestore,t instanceof Gd?t.converter:null,new Xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7="AsyncQueue";class R7{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new yz(this,"async_queue_retry"),this.oc=()=>{const r=DS();r&&jt(I7,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=DS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=DS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Hd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mm(e))throw e;jt(I7,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Pu("INTERNAL UNHANDLED ERROR: ",k7(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=fI.createAndSchedule(this,e,n,r,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&sn(47125,{hc:k7(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function k7(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ju extends Yb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R7,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R7(e),this._firestoreClient=void 0,await e}}}function C5e(t,e){const n=typeof t=="object"?t:DC(),r=typeof t=="string"?t:kx,i=kb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Rq("firestore");a&&T5e(i,...a)}return i}function Xb(t){if(t._terminated)throw new Rt(dt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I5e(t),t._firestoreClient}function I5e(t){var e,n,r;const i=t._freezeSettings(),a=(function(l,c,d,h){return new t_e(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Uz(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new A5e(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Da.fromBase64String(e))}catch(n){throw new Rt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(Da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hv(e,Vo._jsonSchema))return Vo.fromBase64String(e.bytes)}}Vo._jsonSchemaVersion="firestore/bytes/1.0",Vo._jsonSchema={type:qi("string",Vo._jsonSchemaVersion),bytes:qi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Rt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tn(this._lat,e._lat)||Tn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oc._jsonSchemaVersion}}static fromJSON(e){if(hv(e,Oc._jsonSchema))return new Oc(e.latitude,e.longitude)}}Oc._jsonSchemaVersion="firestore/geoPoint/1.0",Oc._jsonSchema={type:qi("string",Oc._jsonSchemaVersion),latitude:qi("number"),longitude:qi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hv(e,jc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new jc(e.vectorValues);throw new Rt(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jc._jsonSchemaVersion="firestore/vectorValue/1.0",jc._jsonSchema={type:qi("string",jc._jsonSchemaVersion),vectorValues:qi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5e=/^__.*__$/;class k5e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mf(e,this.data,this.fieldMask,n,this.fieldTransforms):new pv(e,this.data,n,this.fieldTransforms)}}class qz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn(40011,{Ec:t})}}class yI{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return qx(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Vz(this.Ec)&&R5e.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class P5e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gb(e)}Dc(e,n,r,i=!1){return new yI({Ec:e,methodName:n,bc:r,path:Pa.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xv(t){const e=t._freezeSettings(),n=Gb(t._databaseId);return new P5e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xI(t,e,n,r,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);bI("Data must be an object, but it was:",s,r);const l=Hz(r,s);let c,d;if(a.merge)c=new mo(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const g=sT(e,m,n);if(!s.contains(g))throw new Rt(dt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Wz(h,g)||h.push(g)}c=new mo(h),d=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=s.fieldTransforms;return new k5e(new qs(l),c,d)}class Jb extends vI{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jb}}function zz(t,e,n,r){const i=t.Dc(1,e,n);bI("Data must be an object, but it was:",i,r);const a=[],s=qs.empty();pf(r,((c,d)=>{const h=_I(e,c,n);d=Yr(d);const m=i.gc(h);if(d instanceof Jb)a.push(h);else{const g=bv(d,m);g!=null&&(a.push(h),s.set(h,g))}}));const l=new mo(a);return new qz(s,l,i.fieldTransforms)}function $z(t,e,n,r,i,a){const s=t.Dc(1,e,n),l=[sT(e,r,n)],c=[i];if(a.length%2!=0)throw new Rt(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(sT(e,a[g])),c.push(a[g+1]);const d=[],h=qs.empty();for(let g=l.length-1;g>=0;--g)if(!Wz(d,l[g])){const y=l[g];let N=c[g];N=Yr(N);const A=s.gc(y);if(N instanceof Jb)d.push(y);else{const S=bv(N,A);S!=null&&(d.push(y),h.set(y,S))}}const m=new mo(d);return new qz(h,m,s.fieldTransforms)}function O5e(t,e,n,r=!1){return bv(n,t.Dc(r?4:3,e))}function bv(t,e){if(Gz(t=Yr(t)))return bI("Unsupported field value:",e,t),Hz(t,e);if(t instanceof vI)return(function(r,i){if(!Vz(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=bv(l,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S_e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Wr.fromDate(r);return{timestampValue:Lx(i.serializer,a)}}if(r instanceof Wr){const a=new Wr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lx(i.serializer,a)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:oz(i.serializer,r._byteString)};if(r instanceof Ti){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jc)return(function(s,l){return{mapValue:{fields:{[DV]:{stringValue:LV},[Px]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return eI(l.serializer,d)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Db(r)}`)})(t,e)}function Hz(t,e){const n={};return RV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pf(t,((r,i)=>{const a=bv(i,e.Vc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Gz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wr||t instanceof Oc||t instanceof Vo||t instanceof Ti||t instanceof vI||t instanceof jc)}function bI(t,e,n){if(!Gz(n)||!CV(n)){const r=Db(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function sT(t,e,n){if((e=Yr(e))instanceof yv)return e._internalPath;if(typeof e=="string")return _I(t,e);throw qx("Field path arguments must be of type string or ",t,!1,void 0,n)}const j5e=new RegExp("[~\\*/\\[\\]]");function _I(t,e,n){if(e.search(j5e)>=0)throw qx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yv(...e.split("."))._internalPath}catch{throw qx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qx(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Rt(dt.INVALID_ARGUMENT,l+t+c)}function Wz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M5e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M5e extends Kz{data(){return super.data()}}function wI(t,e){return typeof e=="string"?_I(t,e):e instanceof yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Rt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AI{}class SI extends AI{}function gp(t,e,...n){let r=[];e instanceof AI&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof NI)).length,l=a.filter((c=>c instanceof EI)).length;if(s>1||s>0&&l>0)throw new Rt(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class EI extends SI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new EI(e,n,r)}_apply(e){const n=this._parse(e);return Jz(e._query,n),new Bu(e.firestore,e.converter,YN(e._query,n))}_parse(e){const n=xv(e.firestore);return(function(a,s,l,c,d,h,m){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Rt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){j7(m,h);const N=[];for(const A of m)N.push(O7(c,a,A));g={arrayValue:{values:N}}}else g=O7(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||j7(m,h),g=O5e(l,s,m,h==="in"||h==="not-in");return Bi.create(d,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class NI extends AI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new NI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ol.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)Jz(s,c),s=YN(s,c)})(e._query,n),new Bu(e.firestore,e.converter,YN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TI extends SI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TI(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new Rt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Rt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new X0(a,s)})(e._query,this._field,this._direction);return new Bu(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new Dm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function D5e(t,e="asc"){const n=e,r=wI("orderBy",t);return TI._create(r,n)}class CI extends SI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new CI(e,n,r)}_apply(e){return new Bu(e.firestore,e.converter,jx(e._query,this._limit,this._limitType))}}function Xz(t){return $2e("limit",t),CI._create("limit",t,"F")}function O7(t,e,n){if(typeof(n=Yr(n))=="string"){if(n==="")throw new Rt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HV(e)&&n.indexOf("/")!==-1)throw new Rt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ur.fromString(n));if(!Xt.isDocumentKey(r))throw new Rt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y8(t,new Xt(r))}if(n instanceof Ti)return Y8(t,n._key);throw new Rt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Db(n)}.`)}function j7(t,e){if(!Array.isArray(t)||t.length===0)throw new Rt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jz(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Rt(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Rt(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L5e{convertValue(e,n="none"){switch(tf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ef(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw sn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Px].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((s=>Ai(s.doubleValue)));return new jc(a)}convertGeoPoint(e){return new Oc(Ai(e.latitude),Ai(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ub(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(W0(e));default:return null}}convertTimestamp(e){const n=Zd(e);return new Wr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ur.fromString(e);hr(hz(r),9688,{name:e});const i=new K0(r.get(1),r.get(3)),a=new Xt(r.popFirst(5));return i.isEqual(n)||Pu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xf extends Kz{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new i1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xf._jsonSchema={type:qi("string",Xf._jsonSchemaVersion),bundleSource:qi("string","DocumentSnapshot"),bundleName:qi("string"),bundle:qi("string")};class i1 extends Xf{data(e={}){return super.data(e)}}class Jf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new i1(this._firestore,this._userDataWriter,r.key,r,new Vg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new i1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new i1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:F5e(l.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=WC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F5e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn(61501,{type:t})}}Jf._jsonSchemaVersion="firestore/querySnapshot/1.0",Jf._jsonSchema={type:qi("string",Jf._jsonSchemaVersion),bundleSource:qi("string","QuerySnapshot"),bundleName:qi("string"),bundle:qi("string")};class RI extends L5e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,n)}}function wi(t){t=vo(t,Bu);const e=vo(t.firestore,ju),n=Xb(e),r=new RI(e);return Yz(t._query),N5e(n,t._query).then((i=>new Jf(e,r,t,i)))}function Uo(t,e,n){t=vo(t,Ti);const r=vo(t.firestore,ju),i=II(t.converter,e,n);return _v(r,[xI(xv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ws.none())])}function op(t,e,n,...r){t=vo(t,Ti);const i=vo(t.firestore,ju),a=xv(i);let s;return s=typeof(e=Yr(e))=="string"||e instanceof yv?$z(a,"updateDoc",t._key,e,n,r):zz(a,"updateDoc",t._key,e),_v(i,[s.toMutation(t._key,ws.exists(!0))])}function Al(t){return _v(vo(t.firestore,ju),[new $b(t._key,ws.none())])}function oT(t,e){const n=vo(t.firestore,ju),r=En(t),i=II(t.converter,e);return _v(n,[xI(xv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ws.exists(!1))]).then((()=>r))}function Ad(t,...e){var n,r,i;t=Yr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||P7(e[s])||(a=e[s++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(P7(e[s])){const m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,h;if(t instanceof Ti)d=vo(t.firestore,ju),h=ZC(t._key.path),c={next:m=>{e[s]&&e[s](U5e(d,t,m))},error:e[s+1],complete:e[s+2]};else{const m=vo(t,Bu);d=vo(m.firestore,ju),h=m._query;const g=new RI(d);c={next:y=>{e[s]&&e[s](new Jf(d,g,m,y))},error:e[s+1],complete:e[s+2]},Yz(t._query)}return(function(g,y,N,A){const S=new Lz(A),C=new Cz(y,S,N);return g.asyncQueue.enqueueAndForget((async()=>Nz(await aT(g),C))),()=>{S.Ou(),g.asyncQueue.enqueueAndForget((async()=>Tz(await aT(g),C)))}})(Xb(d),h,l,c)}function _v(t,e){return(function(r,i){const a=new Hd;return r.asyncQueue.enqueueAndForget((async()=>p5e(await E5e(r),i,a))),a.promise})(Xb(t),e)}function U5e(t,e,n){const r=n.docs.get(e._key),i=new RI(t);return new Xf(t,i,e._key,r,new Vg(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5e{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xv(e)}set(e,n,r){this._verifyNotCommitted();const i=FS(e,this._firestore),a=II(i.converter,n,r),s=xI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ws.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=FS(e,this._firestore);let s;return s=typeof(n=Yr(n))=="string"||n instanceof yv?$z(this._dataReader,"WriteBatch.update",a._key,n,r,i):zz(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,ws.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=FS(e,this._firestore);return this._mutations=this._mutations.concat(new $b(n._key,ws.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function FS(t,e){if((t=Yr(t)).firestore!==e)throw new Rt(dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){return Xb(t=vo(t,ju)),new B5e(t,(e=>_v(t,e)))}(function(e,n=!0){(function(i){Om=i})(yh),sh(new Xd("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new ju(new D2e(r.getProvider("auth-internal")),new U2e(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Rt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new K0(d.options.projectId,h)})(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Cc(M8,D8,e),Cc(M8,D8,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="firebasestorage.googleapis.com",Zz="storageBucket",q5e=120*1e3,V5e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Bc{constructor(e,n,r=0){super(US(e),`Firebase Storage: ${n} (${US(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return US(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function US(t){return"storage/"+t}function kI(){const t="An unknown error occurred, please check the error payload for server response.";return new xi(yi.UNKNOWN,t)}function z5e(t){return new xi(yi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $5e(t){return new xi(yi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function H5e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xi(yi.UNAUTHENTICATED,t)}function G5e(){return new xi(yi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W5e(t){return new xi(yi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function K5e(){return new xi(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y5e(){return new xi(yi.CANCELED,"User canceled the upload/download.")}function X5e(t){return new xi(yi.INVALID_URL,"Invalid URL '"+t+"'.")}function J5e(t){return new xi(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q5e(){return new xi(yi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zz+"' property when initializing the app?")}function Z5e(){return new xi(yi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eAe(){return new xi(yi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tAe(t){return new xi(yi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lT(t){return new xi(yi.INVALID_ARGUMENT,t)}function e$(){return new xi(yi.APP_DELETED,"The Firebase app was deleted.")}function nAe(t){return new xi(yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function i0(t,e){return new xi(yi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function kg(t){throw new xi(yi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=go.makeFromUrl(e,n)}catch{return new go(e,"")}if(r.path==="")return r;throw J5e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(U){U.path_=decodeURIComponent(U.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${g}`,"i"),N={bucket:1,path:3},A=n===Qz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${A}/${i}/${S}`,"i"),P=[{regex:l,indices:c,postModify:a},{regex:y,indices:N,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let U=0;U<P.length;U++){const L=P[U],z=L.regex.exec(e);if(z){const k=z[L.indices.bucket];let O=z[L.indices.path];O||(O=""),r=new go(k,O),L.postModify(r);break}}if(r==null)throw X5e(e);return r}}class rAe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iAe(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let d=!1;function h(...S){d||(d=!0,e.apply(null,S))}function m(S){i=setTimeout(()=>{i=null,t(y,c())},S)}function g(){a&&clearTimeout(a)}function y(S,...C){if(d){g();return}if(S){g(),h.call(null,S,...C);return}if(c()||s){g(),h.call(null,S,...C);return}r<64&&(r*=2);let P;l===1?(l=2,P=0):P=(r+Math.random())*1e3,m(P)}let N=!1;function A(S){N||(N=!0,g(),!d&&(i!==null?(S||(l=2),clearTimeout(i),m(0)):S||(l=1)))}return m(0),a=setTimeout(()=>{s=!0,A(!0)},n),A}function aAe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sAe(t){return t!==void 0}function oAe(t){return typeof t=="object"&&!Array.isArray(t)}function PI(t){return typeof t=="string"||t instanceof String}function M7(t){return OI()&&t instanceof Blob}function OI(){return typeof Blob<"u"}function D7(t,e,n,r){if(r<e)throw lT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function t$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Qf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qf||(Qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lAe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cAe{constructor(e,n,r,i,a,s,l,c,d,h,m,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,A)=>{this.resolve_=N,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new By(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===Qf.NO_ERROR,c=a.getStatus();if(!l||lAe(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Qf.ABORT;r(!1,new By(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new By(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());sAe(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=kI();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?e$():Y5e();s(c)}else{const c=K5e();s(c)}};this.canceled_?n(!1,new By(!1,null,!0)):this.backoffId_=iAe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aAe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class By{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uAe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dAe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fAe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hAe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pAe(t,e,n,r,i,a,s=!0,l=!1){const c=t$(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return fAe(h,e),uAe(h,n),dAe(h,a),hAe(h,r),new cAe(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mAe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gAe(...t){const e=mAe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(OI())return new Blob(t);throw new xi(yi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vAe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yAe(t){if(typeof atob>"u")throw tAe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class BS{constructor(e,n){this.data=e,this.contentType=n||null}}function xAe(t,e){switch(t){case wc.RAW:return new BS(n$(e));case wc.BASE64:case wc.BASE64URL:return new BS(r$(t,e));case wc.DATA_URL:return new BS(_Ae(e),wAe(e))}throw kI()}function n$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bAe(t){let e;try{e=decodeURIComponent(t)}catch{throw i0(wc.DATA_URL,"Malformed data URL.")}return n$(e)}function r$(t,e){switch(t){case wc.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw i0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case wc.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw i0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yAe(e)}catch(i){throw i.message.includes("polyfill")?i:i0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class i${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw i0(wc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=AAe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _Ae(t){const e=new i$(t);return e.base64?r$(wc.BASE64,e.rest):bAe(e.rest)}function wAe(t){return new i$(t).contentType}function AAe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){let r=0,i="";M7(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(M7(this.data_)){const r=this.data_,i=vAe(r,e,n);return i===null?null:new Pd(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Pd(r,!0)}}static getBlob(...e){if(OI()){const n=e.map(r=>r instanceof Pd?r.data_:r);return new Pd(gAe.apply(null,n))}else{const n=e.map(s=>PI(s)?xAe(wc.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Pd(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){let e;try{e=JSON.parse(t)}catch{return null}return oAe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SAe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EAe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function s$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAe(t,e){return e}class ys{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||NAe}}let qy=null;function TAe(t){return!PI(t)||t.length<2?t:s$(t)}function o$(){if(qy)return qy;const t=[];t.push(new ys("bucket")),t.push(new ys("generation")),t.push(new ys("metageneration")),t.push(new ys("name","fullPath",!0));function e(a,s){return TAe(s)}const n=new ys("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new ys("size");return i.xform=r,t.push(i),t.push(new ys("timeCreated")),t.push(new ys("updated")),t.push(new ys("md5Hash",null,!0)),t.push(new ys("cacheControl",null,!0)),t.push(new ys("contentDisposition",null,!0)),t.push(new ys("contentEncoding",null,!0)),t.push(new ys("contentLanguage",null,!0)),t.push(new ys("contentType",null,!0)),t.push(new ys("metadata","customMetadata",!0)),qy=t,qy}function CAe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new go(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function IAe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return CAe(r,t),r}function l$(t,e,n){const r=a$(e);return r===null?null:IAe(t,r,n)}function RAe(t,e,n,r){const i=a$(e);if(i===null||!PI(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const h=t.bucket,m=t.fullPath,g="/b/"+s(h)+"/o/"+s(m),y=jI(g,n,r),N=t$({alt:"media",token:d});return y+N})[0]}function kAe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class c${constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){if(!t)throw kI()}function PAe(t,e){function n(r,i){const a=l$(t,i,e);return u$(a!==null),a}return n}function OAe(t,e){function n(r,i){const a=l$(t,i,e);return u$(a!==null),RAe(a,i,t.host,t._protocol)}return n}function d$(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=G5e():i=H5e():n.getStatus()===402?i=$5e(t.bucket):n.getStatus()===403?i=W5e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function jAe(t){const e=d$(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=z5e(t.path)),a.serverResponse=i.serverResponse,a}return n}function MAe(t,e,n){const r=e.fullServerUrl(),i=jI(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new c$(i,a,OAe(t,n),s);return l.errorHandler=jAe(e),l}function DAe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function LAe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=DAe(null,e)),r}function FAe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let P="";for(let U=0;U<2;U++)P=P+Math.random().toString().slice(2);return P}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const d=LAe(e,r,i),h=kAe(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=Pd.getBlob(m,r,g);if(y===null)throw Z5e();const N={name:d.fullPath},A=jI(a,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,R=new c$(A,S,PAe(t,n),C);return R.urlParams=N,R.headers=s,R.body=y.uploadData(),R.errorHandler=d$(e),R}class UAe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw kg("cannot .send() more than once");if(ff(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BAe extends UAe{initXhr(){this.xhr_.responseType="text"}}function f$(){return new BAe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this._service=e,n instanceof go?this._location=n:this._location=go.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uh(e,n)}get root(){const e=new go(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s$(this._location.path)}get storage(){return this._service}get parent(){const e=SAe(this._location.path);if(e===null)return null;const n=new go(this._location.bucket,e);return new uh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nAe(e)}}function qAe(t,e,n){t._throwIfRoot("uploadBytes");const r=FAe(t.storage,t._location,o$(),new Pd(e,!0),n);return t.storage.makeRequestWithTokens(r,f$).then(i=>({metadata:i,ref:t}))}function VAe(t){t._throwIfRoot("getDownloadURL");const e=MAe(t.storage,t._location,o$());return t.storage.makeRequestWithTokens(e,f$).then(n=>{if(n===null)throw eAe();return n})}function zAe(t,e){const n=EAe(t._location.path,e),r=new go(t._location.bucket,n);return new uh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Ae(t){return/^[A-Za-z]+:\/\//.test(t)}function HAe(t,e){return new uh(t,e)}function h$(t,e){if(t instanceof MI){const n=t;if(n._bucket==null)throw Q5e();const r=new uh(n,n._bucket);return e!=null?h$(r,e):r}else return e!==void 0?zAe(t,e):t}function GAe(t,e){if(e&&$Ae(e)){if(t instanceof MI)return HAe(t,e);throw lT("To use ref(service, url), the first argument must be a Storage instance.")}else return h$(t,e)}function L7(t,e){const n=e==null?void 0:e[Zz];return n==null?null:go.makeFromBucketSpec(n,t)}function WAe(t,e,n,r={}){t.host=`${e}:${n}`;const i=ff(e);i&&(PC(`https://${t.host}/b`),OC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Oq(a,t.app.options.projectId))}class MI{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Qz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q5e,this._maxUploadRetryTime=V5e,this._requests=new Set,i!=null?this._bucket=go.makeFromBucketSpec(i,this._host):this._bucket=L7(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=go.makeFromBucketSpec(this._url,e):this._bucket=L7(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D7("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D7("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new rAe(e$());{const s=pAe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const F7="@firebase/storage",U7="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="storage";function KAe(t,e,n){return t=Yr(t),qAe(t,e,n)}function YAe(t){return t=Yr(t),VAe(t)}function XAe(t,e){return t=Yr(t),GAe(t,e)}function JAe(t=DC(),e){t=Yr(t);const r=kb(t,p$).getImmediate({identifier:e}),i=Rq("storage");return i&&QAe(r,...i),r}function QAe(t,e,n,r={}){WAe(t,e,n,r)}function ZAe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MI(n,r,i,e,yh)}function eSe(){sh(new Xd(p$,ZAe,"PUBLIC").setMultipleInstances(!0)),Cc(F7,U7,""),Cc(F7,U7,"esm2017")}eSe();const Vy={BASE_URL:"/frigogest-2026/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AI_API_KEY:"AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",VITE_FIREBASE_API_KEY:"AIzaSyD5cALBG9ZCoptVK2A8_mCYsVSOE6y6vV4",VITE_FIREBASE_APP_ID:"1:389741054647:web:9f2873c8392c01c9135b32",VITE_FIREBASE_AUTH_DOMAIN:"gestfri.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"389741054647",VITE_FIREBASE_PROJECT_ID:"gestfri",VITE_FIREBASE_STORAGE_BUCKET:"gestfri.firebasestorage.app",VITE_OFFLINE_MODE:"false",VITE_SHEETS_WEBAPP_URL:"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"};var B7={};const lp=t=>{if(typeof process<"u"&&B7[t])return B7[t];if(typeof import.meta<"u"&&(Vy!=null&&Vy[t]))return Vy[t]},cT={apiKey:lp("VITE_FIREBASE_API_KEY"),authDomain:lp("VITE_FIREBASE_AUTH_DOMAIN"),projectId:lp("VITE_FIREBASE_PROJECT_ID"),storageBucket:lp("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:lp("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:lp("VITE_FIREBASE_APP_ID")},m$=cT.apiKey&&cT.projectId;m$||console.warn(" Firebase configuration not found. Please set environment variables.");const gm=m$?Dq(cT):null,Fd=gm?P2e(gm):null,bt=gm?C5e(gm):null,q7=gm?JAe(gm):null,tSe=({onLoginSuccess:t})=>{const[e,n]=ye.useState(""),[r,i]=ye.useState(""),[a,s]=ye.useState(!1),[l,c]=ye.useState(!1),[d,h]=ye.useState(null),[m,g]=ye.useState(!1);ye.useEffect(()=>{const A=localStorage.getItem("fg_saved_email"),S=localStorage.getItem("fg_saved_password");A&&(n(A),s(!0),S&&i(S)),window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(C=>g(C))},[]),ye.useEffect(()=>{d&&h(null)},[e,r]);const y=async A=>{var S;A.preventDefault(),c(!0),h(null);try{if(!Fd)throw new Error("FIREBASE_CORE_OFFLINE");await S8(Fd,e.trim(),r),a?(localStorage.setItem("fg_saved_email",e),localStorage.setItem("fg_saved_password",r)):(localStorage.removeItem("fg_saved_email"),localStorage.removeItem("fg_saved_password")),t()}catch(C){console.error(C),h((S=C.code)!=null&&S.includes("auth/")?"CREDENCIAIS INVLIDAS":"ERRO DE PROTOCOLO DE REDE")}finally{c(!1)}},N=async()=>{c(!0),h(null);try{const A=localStorage.getItem("fg_saved_email"),S=localStorage.getItem("fg_saved_password");if(!A||!S){h("Faa login normal primeiro para habilitar biometria"),c(!1);return}const C={challenge:new Uint8Array(32),rpId:window.location.hostname,timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:C}),!Fd)throw new Error("FIREBASE_CORE_OFFLINE");await S8(Fd,A,S),t()}catch(A){console.error(A),h("Autenticao biomtrica falhou. Use login normal.")}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#fcfdff] technical-grid flex items-center justify-center p-6 relative overflow-hidden font-sans",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-100 rounded-full blur-[120px] opacity-40 animate-pulse"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-100 rounded-full blur-[120px] opacity-40 animate-pulse",style:{animationDelay:"1s"}}),f.jsx("div",{className:"bg-white/80 backdrop-blur-xl border border-white rounded-[48px] w-full max-w-lg shadow-[0_32px_64px_-16px_rgba(37,99,235,0.1)] relative overflow-hidden animate-reveal p-1",children:f.jsxs("div",{className:"p-10 md:p-14",children:[f.jsxs("div",{className:"mb-12 text-center md:text-left",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-600 rounded-full mb-6",children:[f.jsx(Go,{size:14}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Acesso Restrito"})]}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight text-slate-900 leading-none",children:["Frigo",f.jsx("span",{className:"text-blue-600",children:"Gest"}),f.jsx("span",{className:"text-emerald-500",children:"."})]}),f.jsx("p",{className:"text-sm font-medium text-slate-400 mt-4 leading-relaxed max-w-sm",children:"Entre com suas credenciais para gerenciar a inteligncia operacional do seu frigorfico."})]}),d&&f.jsxs("div",{className:"mb-8 border border-red-100 bg-red-50 p-4 rounded-2xl flex items-center gap-4 animate-reveal",children:[f.jsx(Q7,{size:20,className:"text-red-600"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase tracking-widest",children:"Falha na Autenticao"}),f.jsx("p",{className:"text-xs font-bold text-red-800",children:d})]})]}),f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"E-mail Corporativo"}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"email",required:!0,value:e,onChange:A=>n(A.target.value),placeholder:"ex: admin@sistema.com",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),f.jsx(eW,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Senha de Acesso"}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"password",required:!0,value:r,onChange:A=>i(A.target.value),placeholder:"",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),f.jsx(fT,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),f.jsxs("div",{className:"flex items-center gap-3 px-1",children:[f.jsx("input",{type:"checkbox",id:"rememberMe",checked:a,onChange:A=>s(A.target.checked),className:"w-5 h-5 rounded-lg accent-blue-600 cursor-pointer"}),f.jsx("label",{htmlFor:"rememberMe",className:"text-xs font-bold text-slate-600 cursor-pointer select-none",children:"Lembrar minhas credenciais neste dispositivo"})]}),f.jsxs("div",{className:"pt-6 space-y-4",children:[f.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-blue-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?f.jsx(Sp,{className:"animate-spin",size:20}):f.jsxs(f.Fragment,{children:[f.jsx(ja,{size:18}),f.jsx("span",{children:"Acessar Painel"})]})}),m&&f.jsx("button",{type:"button",onClick:N,disabled:l,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-emerald-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?f.jsx(Sp,{className:"animate-spin",size:20}):f.jsxs(f.Fragment,{children:[f.jsx(NG,{size:20}),f.jsx(EW,{size:18}),f.jsx("span",{children:"Login Biomtrico"})]})}),f.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3 opacity-30",children:[f.jsx("div",{className:"h-px w-8 bg-slate-300"}),f.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"v2.5 Enterprise"}),f.jsx("div",{className:"h-px w-8 bg-slate-300"})]})]})]})]})})]})},V7=({onBack:t,refreshData:e})=>{const[n,r]=ye.useState(""),[i,a]=ye.useState(!1),[s,l]=ye.useState(1),[c,d]=ye.useState(""),[h,m]=ye.useState(!0),g=async()=>{if(c!=="ZERAR SISTEMA")return alert("Confirmao incorreta");if(window.confirm("AO CRTICA: Deseja realmente apagar todos os dados de operao?")){a(!0),r("Inicializando sequncia de limpeza...");try{const A=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const S of A){r(`Limpando base: ${S.toUpperCase()}...`);const C=await wi(nr(bt,S));if(C.empty)continue;const R=r0(bt);C.docs.forEach(P=>R.delete(P.ref)),await R.commit()}alert("Sistema reiniciado com sucesso. Cadastros preservados."),e(),l(1),d(""),t()}catch{r("Erro durante a operao de limpeza")}finally{a(!1)}}},y=async()=>{if(window.confirm(` Limpar dados de teste?

Isto remover:
 Todos os lotes
 Todo o estoque
 Todas as vendas
 Todas as transaes

Mas MANTER:
 Clientes
 Fornecedores

Deseja continuar?`)){a(!0),r("Limpando dados de teste...");try{const A=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const S of A){r(`Limpando: ${S.toUpperCase()}...`);const C=await wi(nr(bt,S));if(C.empty)continue;const R=r0(bt);C.docs.forEach(P=>R.delete(P.ref)),await R.commit()}r(" Sistema limpo! Clientes e fornecedores preservados."),alert(` Dados de teste removidos!

Sistema pronto para produo.
Clientes e fornecedores foram preservados.`),e(),t()}catch(A){console.error(A),r(" Erro durante limpeza")}finally{a(!1)}}},N=async()=>{if(window.confirm("Protocolo de Simulao: Deseja carregar o cenrio de teste estratgico (Guerra)?")){a(!0),r("Injetando dados de guerra no FG-CORE...");try{const A=r0(bt),S=new Date,C=new Date(S.getTime()-600*60*60*1e3).toISOString().split("T")[0],R=new Date(S.getTime()-360*60*60*1e3).toISOString().split("T")[0],P=new Date(S.getTime()-7200*60*1e3).toISOString().split("T")[0],U=new Date(S.getTime()+1440*60*1e3).toISOString().split("T")[0],L={id_lote:"L-TOP-01",fornecedor:"FAZENDA ELITE",data_recebimento:R,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},z={id_lote:"L-LOSS-02",fornecedor:"FORNECEDOR C",data_recebimento:P,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},k={id_lote:"L-OLD-99",fornecedor:"ESTOQUE ESQUECIDO",data_recebimento:C,peso_total_romaneio:1e3,valor_compra_total:2e4,frete:500,gastos_extras:0,custo_real_kg:20.5,status:"FECHADO"};A.set(En(bt,"batches",L.id_lote),L),A.set(En(bt,"batches",z.id_lote),z),A.set(En(bt,"batches",k.id_lote),k);const O={id_completo:"L-TOP-01-01-INTEIRO",id_lote:"L-TOP-01",sequencia:1,tipo:xn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:R},V={id_completo:"L-LOSS-02-01-INTEIRO",id_lote:"L-LOSS-02",sequencia:1,tipo:xn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:P},W={id_completo:"L-OLD-99-01-INTEIRO",id_lote:"L-OLD-99",sequencia:1,tipo:xn.INTEIRO,peso_entrada:245,status:"DISPONIVEL",data_entrada:C},B={id_completo:"L-OLD-99-02-BANDA_A",id_lote:"L-OLD-99",sequencia:2,tipo:xn.BANDA_A,peso_entrada:122,status:"DISPONIVEL",data_entrada:C};A.set(En(bt,"stock_items",O.id_completo),O),A.set(En(bt,"stock_items",V.id_completo),V),A.set(En(bt,"stock_items",W.id_completo),W),A.set(En(bt,"stock_items",B.id_completo),B);const D={id_venda:"V-FUMO-01",id_cliente:"77",id_completo:V.id_completo,peso_real_saida:230,preco_venda_kg:35,data_venda:R,data_vencimento:P,status_pagamento:"PENDENTE",quebra_kg:20,lucro_liquido_unitario:10,forma_pagamento:"OUTROS",valor_pago:0},F={id_venda:"V-ELITE-01",id_cliente:"15",id_completo:O.id_completo,peso_real_saida:248,preco_venda_kg:38,data_venda:P,data_vencimento:U,status_pagamento:"PAGO",quebra_kg:2,lucro_liquido_unitario:15,forma_pagamento:"PIX",valor_pago:9424};A.set(En(bt,"sales",D.id_venda),D),A.set(En(bt,"sales",F.id_venda),F),A.set(En(bt,"transactions","TR-SIM-01"),{id:"TR-SIM-01",data:R,descricao:"Saldo Inicial Simulao",tipo:"ENTRADA",categoria:"OUTROS",valor:5e4}),await A.commit(),e(),alert("Cenrio de Guerra atualizado: IA detectar Risco de Crdito, Quebra Industrial e Estoque Antigo!"),t()}catch(A){console.error(A),r("Falha na injeo de dados")}finally{a(!1)}}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid flex items-center justify-center animate-reveal",children:[h&&f.jsx("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-[32px] max-w-lg w-full overflow-hidden shadow-2xl border-4 border-rose-500",children:[f.jsxs("div",{className:"bg-gradient-to-r from-rose-600 to-red-700 p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:f.jsx(Z0,{size:48,className:"text-white"})}),f.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight",children:" ALTO RISCO "}),f.jsx("p",{className:"text-rose-100 text-sm font-bold mt-2",children:"REA RESTRITA - ACESSO ADMINISTRATIVO"})]}),f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-2xl p-6",children:[f.jsx("h3",{className:"text-rose-700 font-black text-sm uppercase mb-3",children:" ATENO - LEIA COM CUIDADO:"}),f.jsxs("ul",{className:"space-y-3 text-sm text-slate-700",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-rose-500 font-bold",children:""}),f.jsxs("span",{children:["Esta rea ",f.jsx("strong",{className:"text-rose-600",children:"APAGA DADOS PERMANENTEMENTE"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-rose-500 font-bold",children:""}),f.jsxs("span",{children:["Pode ",f.jsx("strong",{className:"text-rose-600",children:"BAGUNAR TODO O FLUXO DE CAIXA"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-rose-500 font-bold",children:""}),f.jsxs("span",{children:["Dados apagados ",f.jsx("strong",{className:"text-rose-600",children:"NO PODEM SER RECUPERADOS"})]})]})]})]}),f.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:[f.jsx("h3",{className:"text-blue-700 font-black text-sm uppercase mb-3",children:" RECOMENDAO:"}),f.jsxs("p",{className:"text-sm text-slate-700",children:["Para limpezas de dados, use o ",f.jsx("strong",{className:"text-blue-600",children:"Firebase Console"})," diretamente:"]}),f.jsx("p",{className:"text-xs text-blue-600 font-mono mt-2 bg-blue-100 p-2 rounded-lg",children:"console.firebase.google.com"})]}),f.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-6",children:[f.jsx("h3",{className:"text-green-700 font-black text-sm uppercase mb-3",children:" SOLICITAR LIMPEZA:"}),f.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Envie uma solicitao para o administrador limpar os dados pelo Firebase:"}),f.jsx("button",{onClick:()=>{const A=encodeURIComponent(` *SOLICITAO DE LIMPEZA - FRIGOGEST*

 Um usurio est solicitando limpeza de dados do sistema.

 Data: ${new Date().toLocaleString("pt-BR")}

 Por favor, acesse o Firebase Console e verifique se  necessrio limpar alguma collection.

 console.firebase.google.com`);window.open(`https://wa.me/5577999226268?text=${A}`,"_blank"),alert(` Solicitao enviada!

O administrador ir verificar e limpar os dados pelo Firebase se necessrio.`),t()},className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg flex items-center justify-center gap-2",children:" Solicitar Limpeza via WhatsApp"})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:t,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg",children:" SAIR (RECOMENDADO)"}),f.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 bg-slate-200 hover:bg-rose-600 hover:text-white text-slate-600 font-black text-sm uppercase rounded-2xl transition-all",children:"Continuar mesmo assim"})]})]})]})}),f.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-100 w-full max-w-xl shadow-2xl overflow-hidden relative",children:[f.jsxs("div",{className:"bg-slate-900 p-6 text-white flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-rose-600 flex items-center justify-center text-white shadow-lg shadow-rose-900/40",children:f.jsx(Q7,{size:16})}),f.jsx("span",{className:"text-[10px] font-black tracking-widest uppercase",children:"Autorizao de Nvel 05"})]}),f.jsxs("div",{className:"flex gap-1.5 translate-x-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"})]})]}),f.jsx("div",{className:"p-10 md:p-16",children:s===1?f.jsxs("div",{className:"space-y-10",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 mb-2",children:["Zona de ",f.jsx("span",{className:"text-rose-600",children:"Perigo"})]}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Protocolo de Expurgo FG-CORE"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"rounded-[32px] border border-rose-100 p-8 bg-rose-50/20",children:[f.jsx("label",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-4 block px-1",children:"Dados a Apagar"}),f.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Lotes Ativos"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Estoque Frio"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Histrico de Vendas"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Fluxo Financeiro"]})]})]}),f.jsxs("div",{className:"rounded-[32px] border border-emerald-100 p-8 bg-emerald-50/20",children:[f.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-4 block px-1",children:"Dados Preservados"}),f.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Clientes"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Fornecedores"]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Contas e Bancos"]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>l(2),className:"w-full btn-modern bg-white border border-rose-100 text-rose-600 py-4 rounded-2xl hover:bg-rose-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[f.jsx(Zf,{size:16})," Protocolo de Expurgo"]}),f.jsxs("button",{onClick:y,className:"w-full btn-modern bg-white border border-blue-100 text-blue-600 py-4 rounded-2xl hover:bg-blue-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[f.jsx(o1,{size:16})," Limpar Dados de Teste"]}),f.jsxs("div",{className:"relative py-4",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-slate-100"})}),f.jsx("div",{className:"relative flex justify-center text-[8px] font-black uppercase text-slate-300 bg-white px-4 tracking-[0.4em]",children:"Ou"})]}),f.jsxs("button",{onClick:N,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-[0.2em]",children:[f.jsx(qW,{size:20,className:"text-blue-400"})," Simular Cenrio de Guerra"]}),f.jsxs("button",{onClick:t,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Ma,{size:12})," Abortar e Voltar"]})]})]}):f.jsxs("div",{className:"space-y-10 animate-reveal",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:f.jsx(fT,{size:32})}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4",children:"Confirmao de Segurana Requerida"}),f.jsx("div",{className:"bg-slate-50 border border-slate-100 p-4 rounded-2xl font-black text-slate-900 uppercase tracking-widest mb-8 text-sm",children:'"ZERAR SISTEMA"'}),f.jsx("input",{value:c,onChange:A=>d(A.target.value),className:"modern-input h-16 text-center font-black text-2xl uppercase",placeholder:"DIGITAR CADEIA"})]}),i?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(ja,{className:"animate-spin text-rose-600 mx-auto mb-6",size:48}),f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:g,disabled:c!=="ZERAR SISTEMA",className:"w-full btn-modern bg-rose-600 text-white py-6 rounded-2xl hover:bg-slate-900 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-rose-900/30",children:[f.jsx(_s,{size:20})," Confirmar Expurgo"]}),f.jsx("button",{onClick:()=>l(1),disabled:i,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors",children:" Voltar ao Incio"})]})]})})]})]})},nSe=({suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r,onBack:i})=>{const[a,s]=ye.useState(""),[l,c]=ye.useState(!1),[d,h]=ye.useState({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}),[m,g]=ye.useState(null),[y,N]=ye.useState(!1),[A,S]=ye.useState(null),C=t.filter(L=>L.nome_fantasia.toLowerCase().includes(a.toLowerCase())||L.cpf_cnpj.includes(a)).sort((L,z)=>L.nome_fantasia.localeCompare(z.nome_fantasia)),R=L=>{L.preventDefault(),d.nome_fantasia&&(e({...d,id:Date.now().toString()}),c(!1),h({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}))},P=L=>{L.preventDefault(),A&&n&&(n(A),g(A),N(!1))},U=L=>`https://wa.me/55${L.replace(/\D/g,"")}`;return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:f.jsx(Ac,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",f.jsx("span",{className:"text-indigo-600",children:"Fornecedores"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Unidade de Cadeia de Suprimentos / ID-SUP"})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[f.jsxs("div",{className:"relative group w-full sm:w-80",children:[f.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),f.jsx("input",{type:"text",placeholder:"Buscar parceiro ou documento...",className:"modern-input pl-12 bg-white",value:a,onChange:L=>s(L.target.value)})]}),f.jsxs("button",{onClick:()=>c(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[f.jsx(t9,{size:18})," Novo Fornecedor"]})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Origem / Parceiro"}),f.jsx("th",{className:"hidden md:table-cell",children:"Documentao"}),f.jsx("th",{className:"hidden sm:table-cell",children:"Geolocalizao"}),f.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),f.jsx("th",{className:"w-32 text-center",children:"Operaes"})]})}),f.jsx("tbody",{children:C.map(L=>f.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group",children:[f.jsx("td",{children:f.jsxs("div",{onClick:()=>{g(L),N(!1)},className:"cursor-pointer",children:[f.jsx("p",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:L.nome_fantasia}),L.cpf_cnpj&&f.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:L.cpf_cnpj})]})}),f.jsx("td",{className:"hidden md:table-cell",children:f.jsx("div",{className:"flex flex-col text-[10px] font-bold text-slate-500 uppercase",children:f.jsxs("span",{children:["IE: ",L.inscricao_estadual||"ISENTO"]})})}),f.jsx("td",{className:"hidden sm:table-cell",children:L.cidade?f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[f.jsx(l1,{size:12,className:"text-indigo-500"})," ",L.cidade," - ",L.estado]}),f.jsx("span",{className:"text-[10px] text-gray-400",children:L.endereco})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO MAPEADO"})}),f.jsx("td",{className:"hidden sm:table-cell",children:L.telefone?f.jsxs("div",{className:"flex flex-col",children:[f.jsx("p",{className:"text-xs font-bold text-gray-700",children:L.telefone}),f.jsx("a",{href:U(L.telefone),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),f.jsx("td",{className:"text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx("button",{onClick:()=>{g(L),N(!1)},className:"p-2 text-gray-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Ver Detalhes",children:f.jsx(Mc,{size:20})}),f.jsx("button",{onClick:z=>{z.stopPropagation(),confirm("Confirmar excluso de registro?")&&r(L.id)},className:"p-2 text-gray-200 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",title:"Excluir",children:f.jsx(Zf,{size:18})})]})})]},L.id))})]})})}),l&&f.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[f.jsxs("div",{className:"bg-indigo-600 p-8 text-white flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Registro de Parceiro"}),f.jsx("p",{className:"text-[10px] text-indigo-100 font-bold uppercase tracking-widest mt-1",children:"Buffer de Entrada / SUP-01"})]}),f.jsx("button",{onClick:()=>c(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:f.jsx(Sc,{size:20})})]}),f.jsxs("form",{onSubmit:R,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:f.jsxs("div",{className:"md:col-span-12 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Nome Social da Entidade / Fazenda"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: FAZENDA BOI GORDO",value:d.nome_fantasia,onChange:L=>h({...d,nome_fantasia:L.target.value.toUpperCase()})})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"CPF / CNPJ"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:d.cpf_cnpj,onChange:L=>h({...d,cpf_cnpj:L.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Ins. Estadual"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"IE Number",value:d.inscricao_estadual,onChange:L=>h({...d,inscricao_estadual:L.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Contato Principal"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:d.telefone,onChange:L=>h({...d,telefone:L.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4",children:[f.jsxs("div",{className:"md:col-span-8 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Endereo Fiscal / Operacional"}),f.jsx("input",{type:"text",className:"modern-input",value:d.endereco,onChange:L=>h({...d,endereco:L.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"md:col-span-4 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Cidade / UF"}),f.jsx("input",{type:"text",className:"modern-input",placeholder:"CIDADE - UF",value:d.cidade,onChange:L=>h({...d,cidade:L.target.value.toUpperCase()})})]})]}),f.jsxs("div",{className:"pt-4 space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / PIX"}),f.jsx("textarea",{className:"modern-input bg-emerald-50 border-emerald-100 font-mono text-xs h-32 resize-none",placeholder:"BANCO / AGNCIA / CONTA / CHAVE PIX",value:d.dados_bancarios,onChange:L=>h({...d,dados_bancarios:L.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[f.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-indigo-600 hover:bg-indigo-700",children:"Confirmar Registro"})]})]})]})}),m&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[f.jsxs("div",{className:`p-8 flex justify-between items-center ${y?"bg-amber-50":"bg-slate-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 shadow-sm border border-slate-100",children:f.jsx(Ac,{size:32})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:y?"Editor de Fornecedor":m.nome_fantasia}),f.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:y?"Protocolo de Alterao Master":`Registro Industrial #${m.cpf_cnpj||"---"}`})]})]}),f.jsx("button",{onClick:()=>g(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:f.jsx(Sc,{size:24})})]}),f.jsx("div",{className:"p-10 overflow-y-auto bg-white flex-1",children:y?f.jsxs("form",{id:"edit-form",onSubmit:P,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Identificao / Razo Social"}),f.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(A==null?void 0:A.nome_fantasia)||"",onChange:L=>S(z=>z?{...z,nome_fantasia:L.target.value.toUpperCase()}:null)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Documento"}),f.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.cpf_cnpj)||"",onChange:L=>S(z=>z?{...z,cpf_cnpj:L.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Insc. Estadual"}),f.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.inscricao_estadual)||"",onChange:L=>S(z=>z?{...z,inscricao_estadual:L.target.value}:null)})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Telefone"}),f.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.telefone)||"",onChange:L=>S(z=>z?{...z,telefone:L.target.value}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Cidade - UF"}),f.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.cidade)||"",onChange:L=>S(z=>z?{...z,cidade:L.target.value.toUpperCase()}:null)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Logradouro"}),f.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.endereco)||"",onChange:L=>S(z=>z?{...z,endereco:L.target.value.toUpperCase()}:null)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / Fluxo Financeiro"}),f.jsx("textarea",{className:"modern-input h-32 resize-none bg-emerald-50 border-emerald-100 font-mono text-xs font-bold text-emerald-900",value:(A==null?void 0:A.dados_bancarios)||"",onChange:L=>S(z=>z?{...z,dados_bancarios:L.target.value.toUpperCase()}:null)})]})]}):f.jsx("div",{className:"space-y-10",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Comunicao e Suporte"}),f.jsxs("div",{children:[f.jsx("a",{href:U(m.telefone),target:"_blank",className:"text-2xl font-extrabold text-slate-900 hover:text-indigo-600 transition-colors block tracking-tight",children:m.telefone||"SEM TELEFONE"}),f.jsx("p",{className:"text-[11px] text-slate-400 font-bold mt-1 uppercase tracking-wider",children:"Canal Primrio WhatsApp"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Dados de Localidade"}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:f.jsx(l1,{size:18})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight uppercase",children:m.endereco||"Endereo no informado"}),f.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1 tracking-widest",children:[m.cidade," - ",m.estado]})]})]})]})]}),f.jsxs("div",{className:"bg-indigo-50/50 rounded-3xl p-8 border border-indigo-100 flex flex-col h-full",children:[f.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[f.jsx(m1,{size:16})," Liquidao Financeira"]}),f.jsx("div",{className:"font-mono text-xs text-indigo-900 font-bold whitespace-pre-wrap uppercase leading-relaxed h-full overflow-y-auto pr-2",children:m.dados_bancarios||"NENHUM DADO BANCRIO REGISTRADO NO SISTEMA"})]})]})})}),f.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center z-20",children:y?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),f.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-indigo-600 hover:bg-indigo-700 flex items-center gap-2",children:[f.jsx(d1,{size:18})," Salvar Alteraes"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>{S(m),N(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[f.jsx(J7,{size:18})," Substituir Dados"]}),f.jsx("div",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-[0.2em]",children:"ltima Sincronizao: Hoje"})]})})]})})]})},mi=async(t,e,n,r,i)=>{var a;if(!(!bt||!t))try{const s={timestamp:new Date().toISOString(),userId:t.uid||"unknown",userEmail:t.email||"unknown",userName:t.displayName||((a=t.email)==null?void 0:a.split("@")[0])||"Unknown User",action:e,entity:n,details:r,metadata:i||{}};await oT(nr(bt,"audit_logs"),s),console.log(`[AUDIT] ${e} ${n}: ${r}`)}catch(s){console.error("Failed to log action:",s)}},rSe=async(t=100)=>{if(!bt)return[];try{const e=gp(nr(bt,"audit_logs"),D5e("timestamp","desc"),Xz(t));return(await wi(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Failed to fetch audit logs:",e),[]}},g$=()=>{try{if(typeof import.meta<"u")return"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"}catch{}return null};let a1=0;const z7=3e4;let qS=!1;function iSe(t){return t.map(e=>({id_ferro:e.id_ferro||"",nome_social:e.nome_social||"",whatsapp:e.whatsapp||"",cpf_cnpj:e.cpf_cnpj||"",telefone_residencial:e.telefone_residencial||"",endereco:e.endereco||"",bairro:e.bairro||"",cidade:e.cidade||"",cep:e.cep||"",limite_credito:String(e.limite_credito||0),saldo_devedor:String(e.saldo_devedor||0),observacoes:e.observacoes||""}))}function aSe(t){return t.map(e=>({id:e.id||"",nome_fantasia:e.nome_fantasia||"",cpf_cnpj:e.cpf_cnpj||"",inscricao_estadual:e.inscricao_estadual||"",telefone:e.telefone||"",endereco:e.endereco||"",cidade:e.cidade||"",estado:e.estado||"",dados_bancarios:e.dados_bancarios||"",observacoes:e.observacoes||""}))}function sSe(t){return t.map(e=>({id_lote:e.id_lote||"",fornecedor:e.fornecedor||"",data_recebimento:e.data_recebimento||"",peso_total_romaneio:String(e.peso_total_romaneio||0),valor_compra_total:String(e.valor_compra_total||0),frete:String(e.frete||0),gastos_extras:String(e.gastos_extras||0),custo_real_kg:String(e.custo_real_kg||0),status:e.status||"",valor_entrada:String(e.valor_entrada||0),observacoes:""}))}function oSe(t){const e={1:"INTEIRO",2:"BANDA_A",3:"BANDA_B"};return t.map(n=>({id_completo:n.id_completo||"",id_lote:n.id_lote||"",sequencia:String(n.sequencia||0),tipo:e[n.tipo]||String(n.tipo),peso_entrada:String(n.peso_entrada||0),status:n.status||"",data_entrada:n.data_entrada||""}))}function lSe(t){return t.map(e=>({id_venda:e.id_venda||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",id_completo:e.id_completo||"",peso_real_saida:String(e.peso_real_saida||0),preco_venda_kg:String(e.preco_venda_kg||0),data_venda:e.data_venda||"",quebra_kg:String(e.quebra_kg||0),custo_extras_total:String(e.custo_extras_total||0),prazo_dias:String(e.prazo_dias||0),data_vencimento:e.data_vencimento||"",forma_pagamento:e.forma_pagamento||"",status_pagamento:e.status_pagamento||""}))}function cSe(t){return t.map(e=>({id:e.id||"",data:e.data||"",descricao:e.descricao||"",tipo:e.tipo||"",categoria:e.categoria||"",valor:String(e.valor||0),referencia_id:e.referencia_id||"",metodo_pagamento:e.metodo_pagamento||""}))}function uSe(t){return t.map(e=>({id:e.id||"",descricao:e.descricao||"",categoria:e.categoria||"",valor:String(e.valor||0),valor_pago:String(e.valor_pago||0),data_vencimento:e.data_vencimento||"",data_pagamento:e.data_pagamento||"",status:e.status||"",fornecedor_id:e.fornecedor_id||"",id_lote:e.id_lote||"",observacoes:e.observacoes||"",recorrente:String(e.recorrente||!1)}))}function dSe(t){return t.map(e=>({id:e.id||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",data_entrega:e.data_entrega||"",hora_entrega:e.hora_entrega||"",itens:e.itens||"",status:e.status||"",data_criacao:e.data_criacao||"",alerta_madrugada:String(e.alerta_madrugada||!1)}))}async function v$(t){const e=g$();if(!e)return{success:!1,message:"VITE_SHEETS_WEBAPP_URL no configurada"};const n=Date.now();if(n-a1<z7)return{success:!1,message:`Throttle: aguarde ${Math.ceil((z7-(n-a1))/1e3)}s`};if(qS)return{success:!1,message:"Sync j em andamento"};qS=!0,a1=n;try{const r={allData:{Clientes:iSe(t.clients),Fornecedores:aSe(t.suppliers),Lotes:sSe(t.batches),Estoque:oSe(t.stock),Vendas:lSe(t.sales),"Fluxo de Caixa":cSe(t.transactions),"Contas a Pagar":uSe(t.payables),Agendamentos:dSe(t.scheduledOrders)}},i=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(r),mode:"no-cors"});return console.log(" Sheets sync: enviado com sucesso"),{success:!0,message:"Dados enviados para a planilha"}}catch(r){return console.warn(" Sheets sync erro:",r.message),{success:!1,message:r.message}}finally{qS=!1}}async function fSe(t){return a1=0,v$(t)}function $7(){return!!g$()}const H7=({isRecording:t,color:e,stream:n})=>{const r=ye.useRef(null),i=ye.useRef();return ye.useEffect(()=>{if(!t||!n||!r.current)return;const a=new(window.AudioContext||window.webkitAudioContext),s=a.createMediaStreamSource(n),l=a.createAnalyser();l.fftSize=64,s.connect(l);const c=l.frequencyBinCount,d=new Uint8Array(c),h=()=>{const m=r.current;if(!m)return;const g=m.getContext("2d");if(!g)return;const y=m.width,N=m.height;l.getByteFrequencyData(d),g.clearRect(0,0,y,N);const A=y/c*1.5;let S=0;for(let C=0;C<c;C++){const R=d[C]/255*N*.8;g.fillStyle=e,g.fillRect(S,(N-R)/2,A-2,R),S+=A}i.current=requestAnimationFrame(h)};return h(),()=>{i.current&&cancelAnimationFrame(i.current),a.close()}},[t,n,e]),t?f.jsx("canvas",{ref:r,width:300,height:60,className:"w-full h-12 animate-reveal"}):null},hSe=({onBack:t,onSubmit:e,reports:n=[]})=>{const[r,i]=ye.useState("normal"),[a,s]=ye.useState(""),[l,c]=ye.useState(!1),[d,h]=ye.useState(!1),[m,g]=ye.useState(null),[y,N]=ye.useState(!1),[A,S]=ye.useState(!1),[C,R]=ye.useState(!1),[P,U]=ye.useState(null),[L,z]=ye.useState(null),[k,O]=ye.useState(null),[V,W]=ye.useState({}),[B,D]=ye.useState(0),[F,Q]=ye.useState(null),oe=ye.useRef(null),K=ye.useRef([]),ee=ye.useRef(null),se=ye.useRef(null),_e=async(X,ue)=>{if(!q7)throw new Error("Firebase Storage no configurado");const we=`reports/${Date.now()}_${ue}.${X.type.split("/")[1]}`,re=XAe(q7,we);W(Se=>({...Se,[ue]:!0}));try{const Se=await KAe(re,X);return await YAe(Se.ref)}finally{W(Se=>({...Se,[ue]:!1}))}},xe=async X=>{try{const ue={audio:!0,video:X==="video"?{facingMode:"user"}:!1},we=await navigator.mediaDevices.getUserMedia(ue);Q(we),X==="video"&&ee.current&&(ee.current.srcObject=we);const re=new MediaRecorder(we);oe.current=re,K.current=[],re.ondataavailable=Se=>{Se.data.size>0&&K.current.push(Se.data)},re.onstop=async()=>{const Se=X==="video"?"video/webm":"audio/webm",Re=new Blob(K.current,{type:Se});try{const Ee=await _e(Re,X);X==="journey"?U(Ee):X==="client"?z(Ee):O(Ee)}catch(Ee){alert("Erro ao salvar no servidor. Tente novamente."),console.error(Ee)}we.getTracks().forEach(Ee=>Ee.stop()),Q(null),ee.current&&(ee.current.srcObject=null)},re.start(),D(0),se.current=setInterval(()=>{D(Se=>Se+1)},1e3),X==="journey"?N(!0):X==="client"?S(!0):R(!0)}catch{alert("Erro ao acessar cmera/microfone. Verifique as permisses.")}},ce=X=>{oe.current&&oe.current.state==="recording"&&(oe.current.stop(),se.current&&clearInterval(se.current),X==="journey"?N(!1):X==="client"?S(!1):R(!1))},M=X=>{const ue=Math.floor(X/60),we=X%60;return`${ue.toString().padStart(2,"0")}:${we.toString().padStart(2,"0")}`},G=async(X,ue)=>{var re;const we=(re=X.target.files)==null?void 0:re[0];if(we)try{const Se=await _e(we,ue);ue==="journey"?U(Se):ue==="client"?z(Se):O(Se)}catch{alert("Erro ao fazer upload do arquivo.")}},Z=async X=>{if(e){h(!0);try{await e({intensity:r,notes:a,type:X,extra_movement:!1,technical_issues:l,audio_url:P||void 0,client_complaint_audio_url:L||void 0,video_url:k||void 0}),g("Sucesso"),s(""),c(!1),i("normal"),U(null),z(null),O(null),setTimeout(()=>g(null),2500)}finally{h(!1)}}},de=[...n].sort((X,ue)=>ue.timestamp.localeCompare(X.timestamp));return m?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-emerald-50 flex items-center justify-center p-8 animate-reveal",children:f.jsxs("div",{className:"bg-white rounded-[48px] p-16 text-center shadow-[0_32px_64px_-16px_rgba(251,191,36,0.2)] max-w-sm w-full border border-yellow-100",children:[f.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-emerald-400 to-teal-500 text-white rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-emerald-200",children:f.jsx(_u,{size:56})}),f.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2 italic",children:"Tudo Certo!"}),f.jsx("p",{className:"text-[11px] font-bold text-emerald-600 uppercase tracking-widest mt-4",children:"Sua jornada multimdia foi registrada "})]})}):f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-gradient-to-b from-slate-50 to-orange-50/30 technical-grid animate-reveal pb-40 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-8",children:[f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-3 px-6 py-2 bg-white/80 backdrop-blur-md border border-amber-100 rounded-full text-[10px] font-black text-amber-600 uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Incio"]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"bg-gradient-to-tr from-amber-400 to-orange-500 p-4 rounded-[28px] text-white shadow-2xl shadow-orange-200 hover:rotate-6 transition-transform",children:f.jsx(JH,{size:32})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-800 leading-none",children:["Meu Dirio de ",f.jsx("span",{className:"text-orange-500 italic",children:"Jornada"})]}),f.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em] mt-2",children:"Registro Multimdia & Energia"})]})]})]}),f.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-[10px] font-black uppercase tracking-widest shadow-xl shadow-blue-200 border-none",children:"Operador Oficial"})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[f.jsx("div",{className:"lg:col-span-12 xl:col-span-5 space-y-10",children:f.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-2xl shadow-orange-100/50 space-y-12 border border-white",children:[f.jsxs("div",{className:"space-y-5",children:[f.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(ja,{size:14,className:"text-emerald-500"})," Como est a operao?"]}),f.jsxs("div",{className:"flex p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:[f.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"text-slate-400 hover:text-emerald-600":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg"}`,children:"Tudo Perfeito"}),f.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"bg-gradient-to-r from-rose-500 to-orange-600 text-white shadow-lg":"text-slate-400 hover:text-rose-600"}`,children:"Houve Falhas"})]})]}),f.jsxs("div",{className:"space-y-5 p-8 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50",children:[f.jsxs("label",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(vR,{size:14})," Registro em Vdeo (Opcional)"]}),C&&f.jsx("div",{className:"rounded-2xl overflow-hidden bg-black aspect-video mb-4 shadow-inner",children:f.jsx("video",{ref:ee,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex flex-col gap-4",children:[C&&f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-indigo-900 rounded-2xl animate-pulse",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-2.5 h-2.5 bg-rose-500 rounded-full animate-ping"}),f.jsx("span",{className:"font-mono text-xs font-bold text-indigo-100 uppercase tracking-widest",children:"Gravando"})]}),f.jsx("span",{className:"font-mono text-sm font-black text-white",children:M(B)})]}),k?f.jsxs("div",{className:"flex-1 space-y-4",children:[f.jsx("video",{src:k,controls:!0,className:"w-full rounded-2xl shadow-lg"}),f.jsxs("button",{onClick:()=>O(null),className:"w-full py-3 rounded-xl bg-orange-50 text-orange-600 text-[10px] font-black uppercase tracking-widest hover:bg-orange-100 flex items-center justify-center gap-2",children:[f.jsx(_s,{size:14})," Trocar Vdeo"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{disabled:V.video,onClick:()=>C?ce("video"):xe("video"),className:`flex-1 min-w-[150px] py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${C?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white shadow-xl shadow-indigo-100"} ${V.video?"opacity-50 cursor-not-allowed":""}`,children:[V.video?f.jsx(Sp,{className:"animate-spin",size:18}):C?f.jsx(oK,{size:18}):f.jsx(vR,{size:18}),V.video?"Salvando...":C?"Parar Vdeo":"Gravar Vdeo"]}),!C&&f.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-indigo-100 text-indigo-600 hover:bg-indigo-50 transition-all ${V.video?"opacity-50":""}`,children:[f.jsx($g,{size:18}),f.jsx("input",{disabled:V.video,type:"file",accept:"video/*",className:"hidden",onChange:X=>G(X,"video")}),f.jsx("span",{className:"ml-2 text-[10px] font-black uppercase tracking-widest",children:"Upload"})]})]})]})]}),f.jsxs("div",{className:"space-y-5 p-8 bg-blue-50/50 rounded-[32px] border border-blue-100/50",children:[f.jsxs("label",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(Ed,{size:14})," Relato da Jornada (udio)"]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[y&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-blue-600 uppercase tracking-widest",children:[f.jsx("span",{children:"Captao Ativa"}),f.jsx("span",{children:M(B)})]}),f.jsx("div",{className:"bg-blue-100/30 rounded-2xl p-4 border border-blue-200/50",children:f.jsx(H7,{isRecording:y,color:"#2563eb",stream:F})})]}),P?f.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[f.jsx("audio",{src:P,controls:!0,className:"flex-1 h-12"}),f.jsx("button",{onClick:()=>U(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:f.jsx(Ed,{size:18})})]}):f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{disabled:V.journey,onClick:()=>y?ce("journey"):xe("journey"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${y?"bg-rose-500 text-white animate-pulse":"bg-blue-600 text-white shadow-xl shadow-blue-100"} ${V.journey?"opacity-50 cursor-not-allowed":""}`,children:[V.journey?f.jsx(Sp,{className:"animate-spin",size:18}):y?f.jsx(sW,{size:18}):f.jsx(Ed,{size:18}),V.journey?"Salvando...":y?"Parar Gravao":"Gravar udio"]}),!y&&f.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-blue-100 text-blue-600 hover:bg-blue-50 transition-all ${V.journey?"opacity-50":""}`,children:[f.jsx($g,{size:18}),f.jsx("input",{disabled:V.journey,type:"file",accept:"audio/*",className:"hidden",onChange:X=>G(X,"journey")})]})]})]})]}),f.jsxs("div",{className:"space-y-5 p-8 bg-rose-50/50 rounded-[32px] border border-rose-100/50",children:[f.jsxs("label",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(Bp,{size:14})," Reclamao de Cliente (udio)"]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[A&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-rose-600 uppercase tracking-widest",children:[f.jsx("span",{children:"Relato Crtico"}),f.jsx("span",{children:M(B)})]}),f.jsx("div",{className:"bg-rose-100/30 rounded-2xl p-4 border border-rose-200/50",children:f.jsx(H7,{isRecording:A,color:"#e11d48",stream:F})})]}),L?f.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[f.jsx("audio",{src:L,controls:!0,className:"flex-1 h-12"}),f.jsx("button",{onClick:()=>z(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:f.jsx(Ed,{size:18})})]}):f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{disabled:V.client,onClick:()=>A?ce("client"):xe("client"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${A?"bg-rose-600 text-white animate-pulse shadow-xl shadow-rose-200":"bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50"} ${V.client?"opacity-50 cursor-not-allowed":""}`,children:[V.client?f.jsx(Sp,{className:"animate-spin",size:18}):A?f.jsx(d1,{size:18}):f.jsx(Ed,{size:18}),V.client?"Salvando...":A?"Parar Cliente":"Gravar Cliente"]}),!A&&f.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50 transition-all ${V.client?"opacity-50":""}`,children:[f.jsx($g,{size:18}),f.jsx("input",{disabled:V.client,type:"file",accept:"audio/*",className:"hidden",onChange:X=>G(X,"client")})]})]})]})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[f.jsx(_s,{size:14,className:"text-amber-500"})," Ritmo de Trabalho"]}),f.jsx("div",{className:"grid grid-cols-3 p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:["tranquilo","normal","intenso"].map(X=>f.jsx("button",{onClick:()=>i(X),className:`py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${r===X?X==="tranquilo"?"bg-emerald-500 text-white shadow-lg shadow-emerald-100":X==="normal"?"bg-amber-500 text-white shadow-lg shadow-amber-100":"bg-orange-600 text-white shadow-lg shadow-orange-100":"text-slate-400 hover:bg-white/50"}`,children:X==="tranquilo"?"Leve":X==="normal"?"Normal":"Intenso"},X))})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsx("div",{className:"flex justify-between items-center px-2",children:f.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Observaes (Texto Opcional)"})}),f.jsx("div",{className:"relative",children:f.jsx("textarea",{value:a,onChange:X=>s(X.target.value),className:"w-full h-40 p-8 rounded-[32px] font-bold text-slate-700 bg-slate-50/50 border-2 border-slate-100 outline-none transition-all placeholder:text-slate-300 focus:border-amber-400 focus:bg-white focus:shadow-xl focus:shadow-amber-100/50",placeholder:"Caso queira escrever algo mais..."})})]}),f.jsx("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:f.jsxs("button",{onClick:()=>Z("RELATORIO"),disabled:d,className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500 text-white py-5 rounded-[24px] hover:shadow-2xl hover:shadow-orange-200 transition-all font-black text-[11px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95",children:[d?f.jsx(ja,{size:18,className:"animate-spin"}):f.jsx(d1,{size:18})," Enviar Jornada Completa "]})})]})}),f.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-8",children:[f.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] px-2 flex items-center gap-3",children:[f.jsx(Wd,{size:18,className:"text-orange-500"})," Histrico Operacional"]}),f.jsx("div",{className:"grid grid-cols-1 gap-6",children:de.length===0?f.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[48px] border-2 border-dashed border-slate-100 shadow-sm",children:[f.jsx(_s,{size:80,className:"mb-6 text-amber-100"}),f.jsx("p",{className:"text-[11px] font-black uppercase text-slate-300 tracking-[0.4em]",children:"Aguardando primeiro registro multimdia"})]}):de.map(X=>f.jsxs("div",{className:"bg-white rounded-[32px] p-8 flex flex-col gap-6 shadow-xl shadow-slate-100 border-l-[8px] border-amber-400 hover:border-orange-500 transition-all hover:-translate-x-1 group",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 text-slate-400 flex items-center justify-center group-hover:from-orange-500 group-hover:to-orange-600 group-hover:text-white transition-all shadow-sm",children:f.jsx(qp,{size:20})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-black text-slate-800 uppercase text-[11px] tracking-tight",children:X.userName||"Operador Feliz"}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx("span",{className:`text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${X.type==="RECLAMACAO"?"bg-orange-100 text-orange-600":"bg-emerald-100 text-emerald-600"}`,children:X.type==="RECLAMACAO"?"Ocorrncia":"Tudo Ok"}),f.jsx("span",{className:"text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest bg-blue-50 text-blue-500",children:X.intensity.toUpperCase()})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[11px] font-black text-slate-700",children:new Date(X.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),f.jsx("p",{className:"text-[9px] font-bold text-slate-300 uppercase",children:new Date(X.timestamp).toLocaleDateString()})]})]}),f.jsxs("div",{className:"space-y-4",children:[X.video_url&&f.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-indigo-100",children:f.jsx("video",{src:X.video_url,controls:!0,className:"w-full"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[X.audio_url&&f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100/50",children:[f.jsx(Ed,{size:14,className:"text-blue-500"}),f.jsx("audio",{src:X.audio_url,controls:!0,className:"flex-1 h-8"})]}),X.client_complaint_audio_url&&f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-rose-50 rounded-2xl border border-rose-100/50",children:[f.jsx(Bp,{size:14,className:"text-rose-500"}),f.jsx("audio",{src:X.client_complaint_audio_url,controls:!0,className:"flex-1 h-8"})]})]})]}),X.notes&&f.jsx("div",{className:"p-6 bg-slate-50/50 rounded-2xl border border-slate-100",children:f.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',X.notes,'"']})})]},X.id))})]})]})]})},pSe=({onBack:t,onAddOrder:e,existingOrders:n})=>{const[r,i]=ye.useState(new Date(Date.now()+864e5).toISOString().split("T")[0]),[a,s]=ye.useState(""),[l,c]=ye.useState(""),[d,h]=ye.useState(""),[m,g]=ye.useState(""),[y,N]=ye.useState(!1),A=25,S=n.filter(z=>z.data_entrega===r&&z.status!=="CANCELADO"),C=S.reduce((z,k)=>{const O=k.itens.match(/(\d+)/);return z+(O?parseInt(O[0]):1)},0),R=Math.max(0,A-C),P=Math.min(100,C/A*100),U=()=>{if(!a||!d)return;const z=`Quero confirmar o agendamento de ${d} novilhas para o abate dia ${new Date(r).toLocaleDateString()}`;g(`https://wa.me/55${a.replace(/\D/g,"")}?text=${encodeURIComponent(z)}`)},L=async()=>{if(!(!e||!l||!d)){N(!0);try{await e({id:`ORD-${Date.now()}`,id_cliente:"TEMP-"+Date.now(),nome_cliente:l,data_entrega:r,hora_entrega:"08:00",itens:`${d} Novilhas (Agendamento Rpido)`,status:"CONFIRMADO",data_criacao:new Date().toISOString(),alerta_madrugada:!1}),c(""),h(""),g("")}finally{N(!1)}}};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-red-700 hover:border-red-100 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"bg-rose-600 p-3 rounded-2xl text-white shadow-xl shadow-rose-100",children:f.jsx(ja,{size:28})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controle de ",f.jsx("span",{className:"text-rose-600",children:"Abate"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento e Escala / ID-ABT"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center",children:f.jsx(vm,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Escala para o dia"}),f.jsx("input",{type:"date",value:r,onChange:z=>i(z.target.value),className:"text-sm font-bold text-slate-900 outline-none bg-transparent cursor-pointer"})]})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[f.jsxs("div",{className:"lg:col-span-12 xl:col-span-5 space-y-8",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative shadow-2xl overflow-hidden min-h-[300px] flex flex-col justify-center",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:f.jsx(_s,{size:200})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] mb-4",children:"Vagas Disponveis no Lote"}),f.jsx("h2",{className:"text-8xl font-black tracking-tighter text-blue-400",children:R}),f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mt-2",children:"Novilhas por alocar"})]}),f.jsx("div",{className:"mt-12 bg-white/5 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 shadow-[0_0_15px_rgba(59,130,246,0.5)]",style:{width:`${P}%`}})}),f.jsxs("div",{className:"flex justify-between mt-4 text-[10px] font-black uppercase tracking-widest",children:[f.jsxs("span",{className:"text-blue-400",children:[C," Alocadas"]}),f.jsxs("span",{className:"text-slate-500",children:[A," Limite Dirio"]})]})]}),f.jsxs("div",{className:"premium-card p-8",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[f.jsx(pT,{size:16,className:"text-rose-600"})," Parceiros Confirmados"]}),f.jsx("div",{className:"grid grid-cols-1 gap-3",children:S.length===0?f.jsx("div",{className:"py-12 flex flex-col items-center justify-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-100",children:f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})}):S.map(z=>f.jsxs("div",{className:"p-4 rounded-2xl bg-white border border-slate-50 flex justify-between items-center group hover:border-rose-100 transition-all shadow-sm",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-extrabold text-slate-900 uppercase text-sm",children:z.nome_cliente}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5",children:z.itens})]}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:f.jsx(s1,{size:14})})]},z.id))})]}),f.jsxs("div",{className:"premium-card p-8 bg-blue-600 text-white border-none shadow-xl shadow-blue-200",children:[f.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(_s,{size:16})," Manual do Colaborador"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"1"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Selecione a **DATA DO ABATE** no topo da tela."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"2"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Verifique o painel **VAGAS DISPONVEIS**. Limite: 25 cabeas/dia."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"3"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Insira o nome do produtor e a quantidade. Clique em **CRIAR LINK**."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"4"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Envie o link via WhatsApp para o produtor confirmar a entrega."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"5"}),f.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Aps a resposta dele, clique em **VALIDAR NO SISTEMA** para reservar a vaga."})]})]})]})]}),f.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 premium-card overflow-hidden h-full",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex items-center gap-4 text-white",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center",children:f.jsx(a0,{size:20})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-black uppercase tracking-tight text-lg",children:"Agendamento Remoto"}),f.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:"Terminal via Web/Whatsapp"})]})]}),f.jsxs("div",{className:"p-10 space-y-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block px-1",children:"Seu nmero de Whatsapp"}),f.jsx("input",{type:"text",placeholder:"DDD + Nmero",value:a,onChange:z=>s(z.target.value),className:"modern-input h-14 font-bold text-lg"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Identificador do Parceiro"}),f.jsx("input",{type:"text",placeholder:"Nome ou ID",value:l,onChange:z=>c(z.target.value),className:"modern-input h-14"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Quantidade de Cabeas"}),f.jsx("input",{type:"number",placeholder:"0",value:d,onChange:z=>h(z.target.value===""?"":parseInt(z.target.value)),className:"modern-input h-14 font-black text-lg"})]})]}),f.jsxs("button",{onClick:U,disabled:!a||!d,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all disabled:opacity-20 active:scale-95",children:[f.jsx(GG,{size:18})," Criar Link de Confirmao"]}),m&&f.jsxs("div",{className:"animate-reveal space-y-6 pt-10 border-t border-slate-50",children:[f.jsx("div",{className:"bg-blue-50/50 rounded-2xl border border-blue-100 p-5 font-mono text-[10px] text-blue-600 break-all leading-relaxed shadow-inner",children:m}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center flex items-center justify-center gap-3 shadow-xl shadow-[rgba(37,211,102,0.2)] hover:bg-[#128C7E] transition-all",children:[f.jsx(a0,{size:18})," Enviar Mensagem"]}),f.jsxs("button",{onClick:L,disabled:y,className:"bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl shadow-[rgba(225,29,72,0.2)] hover:bg-slate-900 transition-all",children:[y?f.jsx(ja,{size:18,className:"animate-spin"}):f.jsx(s1,{size:18})," Validar no Sistema"]})]})]})]})]})]})]})},mSe=({onBack:t,clients:e})=>{const[n,r]=ye.useState("config"),[i,a]=ye.useState([]),[s,l]=ye.useState(!1),[c,d]=ye.useState(0),[h,m]=ye.useState([]),[g,y]=ye.useState("selection"),[N]=ye.useState([{id:"vendas",name:"BOIADEIRO_DIGITAL",prompt:'Voc  o "Boiadeiro Digital", focado em vendas de gado. Seu tom  rstico e negociador. Use grias do campo.'},{id:"cobranca",name:"AGENTE_COBRANA",prompt:"Voc  um assistente financeiro educado, mas firme. Seu objetivo  lembrar o cliente sobre pagamentos pendentes, oferecendo opes de PIX."},{id:"sac",name:"SUPORTE_FG_CORE",prompt:"Voc  o suporte ao cliente. Tire dvidas sobre entregas e notas fiscais com muita pacincia e educao."}]),[A,S]=ye.useState("vendas"),[C,R]=ye.useState({price:"R$ 210,00",stock:"500 cabeas",delivery:"3 DIAS TEIS",payment:" VISTA / 30 DIAS"}),[P,U]=ye.useState("manual"),[L,z]=ye.useState(N[0].prompt);ye.useEffect(()=>{var re;z(((re=N.find(Se=>Se.id===A))==null?void 0:re.prompt)||"")},[A,N]);const[k,O]=ye.useState(""),[V,W]=ye.useState(!1),[B,D]=ye.useState({}),[F,Q]=ye.useState(null),oe=ye.useRef(null),K=ye.useRef([]),[ee,se]=ye.useState([]),[_e,xe]=ye.useState(""),[ce,M]=ye.useState(!1),[G]=ye.useState("6728"),[Z]=ye.useState("TOKEN_B838"),de=re=>{if(A==="vendas"){const Se=["Fala {nome}, O mercado t subindo, mas eu segurei um lote a {price}.  margem pura. Vamos aproveitar?","{nome}, tenho um gado extra que vai dar um rendimento absurdo. Se eu soltar no grupo acaba em 5 minutos. Posso reservar?","Selecionei um lote hoje padro exportao. Acabamento perfeito. T fazendo preo especial pra parceiros VIPS como voc."];return Se[Math.floor(Math.random()*Se.length)].replace("{nome}",re.toUpperCase()).replace("{price}",C.price)+`

 _OPERACAO_PRIORITARIA_`}return`CONTATO_AUTOMATICO: ${re.toUpperCase()} - AGUARDANDO_RETORNO`},X=(re,Se)=>(window.open(`https://wa.me/${re.replace(/\D/g,"")}?text=${encodeURIComponent(Se)}`,"_blank"),!0),ue=async re=>{const Se=await navigator.mediaDevices.getUserMedia({audio:!0}),Re=new MediaRecorder(Se);oe.current=Re,K.current=[],Re.ondataavailable=Ee=>{Ee.data.size>0&&K.current.push(Ee.data)},Re.onstop=()=>D(Ee=>({...Ee,[re]:URL.createObjectURL(new Blob(K.current,{type:"audio/mp3"}))})),Re.start(),Q(re)},we=()=>{oe.current&&(oe.current.stop(),oe.current.stream.getTracks().forEach(re=>re.stop()),Q(null))};return f.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar ao Incio"]}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40 relative group",children:[f.jsx(Pg,{size:28}),f.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agente ",f.jsx("span",{className:"text-blue-600",children:"Cognitivo"})]}),f.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Automao e Inteligncia de Vendas / ID-AI"})]})]})]}),f.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:f.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[{id:"config",icon:IW,label:"Parmetros"},{id:"campaign",icon:e9,label:"Campanha"},{id:"voice",icon:r9,label:"Voz/Media"},{id:"test",icon:a0,label:"Simular"}].map(re=>f.jsxs("button",{onClick:()=>r(re.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${n===re.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[f.jsx(re.icon,{size:14})," ",re.label]},re.id))})})]}),f.jsxs("div",{className:"max-w-7xl mx-auto",children:[n==="config"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[f.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-50",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx(Y7,{size:16,className:"text-blue-600"})," Ncleo de Personalidade"]}),f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-10",children:N.map(re=>f.jsxs("button",{onClick:()=>S(re.id),className:`p-5 rounded-[24px] border-2 transition-all flex flex-col gap-3 text-left ${A===re.id?"border-blue-600 bg-blue-50/30":"border-slate-50 bg-slate-50/20 hover:border-slate-200"}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${A===re.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-slate-200 text-slate-400"}`,children:re.id==="vendas"?f.jsx(_s,{size:16}):re.id==="cobranca"?f.jsx(Hf,{size:16}):f.jsx(ja,{size:16})}),f.jsxs("div",{children:[f.jsx("h4",{className:`font-black text-[10px] uppercase tracking-tighter ${A===re.id?"text-blue-600":"text-slate-400"}`,children:re.id}),f.jsx("p",{className:`font-bold text-xs ${A===re.id?"text-slate-900":"text-slate-400"}`,children:re.name})]})]},re.id))}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Instrues de Sistema (Prompt)"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-4 left-4 text-blue-500 opacity-20",children:f.jsx(mR,{size:20})}),f.jsx("textarea",{value:L,onChange:re=>z(re.target.value),className:"w-full h-40 modern-input p-10 font-medium text-slate-700 bg-slate-50/50"})]})]})]}),f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx(OG,{size:16,className:"text-blue-600"})," Protocolo de Conexo"]}),f.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100 mb-8",children:[f.jsx("button",{onClick:()=>U("manual"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${P==="manual"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Disparo Individual (WA)"}),f.jsx("button",{onClick:()=>U("auto"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${P==="auto"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Z-API Automtico"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Instncia ID"}),f.jsx("input",{type:"text",placeholder:"i.e. 6728",className:"modern-input h-12 text-sm bg-slate-50/30"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Token de Acesso"}),f.jsx("input",{type:"password",placeholder:"",className:"modern-input h-12 text-sm bg-slate-50/30"})]})]})]})]}),f.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:f.jsx(Z7,{size:120})}),f.jsx("h3",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-10",children:"Base de Conhecimento Dinmica"}),f.jsx("div",{className:"space-y-8 relative z-10",children:[{l:"Preo de Referncia (Arroba)",v:C.price,k:"price",icon:Hf},{l:"Capacidade em Estoque",v:C.stock,k:"stock",icon:dh},{l:"Prazo Logstico Mdio",v:C.delivery,k:"delivery",icon:vm},{l:"Flexibilidade de Pagamento",v:C.payment,k:"payment",icon:ja}].map(re=>f.jsxs("div",{className:"group/item",children:[f.jsxs("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest block mb-2 px-1 flex items-center gap-2",children:[f.jsx(re.icon,{size:10,className:"text-blue-500"})," ",re.l]}),f.jsx("input",{type:"text",value:re.v,onChange:Se=>R({...C,[re.k]:Se.target.value}),className:"bg-white/5 border-none w-full px-4 py-3 rounded-xl font-black text-blue-400 uppercase italic tracking-tighter outline-none focus:bg-white/10 transition-all border border-white/5"})]},re.k))})]}),f.jsxs("div",{className:"premium-card p-10 bg-white",children:[f.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[f.jsx($S,{size:16,className:"text-blue-600"})," Ativos Visuais (Mdia)"]}),f.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[32px] p-12 text-center relative group hover:border-blue-600 transition-all bg-slate-50/30",children:[f.jsx("input",{type:"file",onChange:re=>{re.target.files&&(W(!0),setTimeout(()=>{O("https://fg-media.cloud/temp_001.mp4"),W(!1)},1500))},className:"absolute inset-0 opacity-0 cursor-pointer"}),f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-6 text-slate-400 group-hover:scale-110 group-hover:text-blue-600 transition-all",children:f.jsx($g,{size:28})}),f.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:V?"Processando arquivo...":"Arraste uma foto ou vdeo para a campanha"})]}),k&&f.jsxs("div",{className:"mt-6 bg-blue-50 rounded-2xl p-4 flex justify-between items-center border border-blue-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white",children:f.jsx($S,{size:14})}),f.jsx("span",{className:"text-[10px] font-black text-blue-700 truncate max-w-[200px]",children:k})]}),f.jsx("button",{onClick:()=>O(""),className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:f.jsx(Sc,{size:14})})]})]})]})]}),n==="campaign"&&f.jsx("div",{className:"animate-reveal max-w-7xl mx-auto",children:g==="selection"?f.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Seleo de Alvos Ativos"}),f.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:["Sincronizando com Base CRM (",e.length," entidades detectadas)"]})]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Entidades Selecionadas"}),f.jsx("p",{className:"text-2xl font-black text-blue-400 leading-none",children:i.length})]}),f.jsxs("button",{disabled:i.length===0,onClick:()=>{m(i.map(re=>{var Se;return{clientId:re,client:e.find(Re=>Re.id_ferro===re),status:"pending",message:de(((Se=e.find(Re=>Re.id_ferro===re))==null?void 0:Se.nome_social)||"NONE")}})),y("review")},className:"btn-modern bg-blue-600 text-white px-8 py-4 rounded-2xl hover:bg-blue-500 gap-3 shadow-xl shadow-blue-900/40 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-widest",children:["Iniciar Campanha ",f.jsx(Mc,{size:18})]})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"technical-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-16 text-center",children:f.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg accent-blue-600",onChange:re=>a(re.target.checked?e.map(Se=>Se.id_ferro):[]),checked:i.length===e.length&&e.length>0})}),f.jsx("th",{children:"Parceiro de Negcios"}),f.jsx("th",{children:"Protocolo ID"}),f.jsx("th",{children:"Contato Digital"}),f.jsx("th",{className:"text-center",children:"Vnculo"})]})}),f.jsx("tbody",{children:e.map(re=>f.jsxs("tr",{onClick:()=>{const Se=new Set(i);Se.has(re.id_ferro)?Se.delete(re.id_ferro):Se.add(re.id_ferro),a(Array.from(Se))},className:`cursor-pointer transition-colors ${i.includes(re.id_ferro)?"bg-blue-50/30":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:"text-center",children:f.jsx("div",{className:`w-6 h-6 mx-auto rounded-lg border-2 flex items-center justify-center transition-all ${i.includes(re.id_ferro)?"bg-blue-600 border-blue-600 text-white shadow-lg":"bg-white border-slate-200"}`,children:i.includes(re.id_ferro)&&f.jsx(_u,{size:14})})}),f.jsx("td",{className:"font-extrabold text-slate-900 uppercase text-xs",children:re.nome_social}),f.jsxs("td",{className:"font-mono text-[10px] text-slate-400",children:["# ",re.id_ferro]}),f.jsx("td",{className:"font-black text-slate-900 text-[11px]",children:re.whatsapp||"SEM_DADO"}),f.jsx("td",{className:"text-center",children:f.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${re.whatsapp?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-300 border-slate-100"}`,children:re.whatsapp?"Online":"Offline"})})]},re.id_ferro))})]})})]}):f.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-8 text-white flex flex-col md:flex-row justify-between items-center shadow-2xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-emerald-500 to-rose-500 animate-gradient-x"}),f.jsxs("button",{onClick:()=>y("selection"),className:"flex items-center gap-2 text-[10px] font-black uppercase text-slate-500 hover:text-white transition-colors mb-4 md:mb-0",children:[f.jsx(Ma,{size:14})," Voltar  Seleo"]}),f.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Reviso do Manifesto IA"}),f.jsx("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10",children:f.jsxs("span",{className:"text-[10px] font-black text-blue-400",children:[h.filter(re=>re.status==="sent").length," / ",h.length," ENTREGUES"]})})]}),f.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.map((re,Se)=>{var Re,Ee,We;return f.jsxs("div",{className:`premium-card p-8 group transition-all ${re.status==="sent"?"opacity-50 grayscale bg-slate-50/50 cursor-default":"bg-white hover:border-blue-200"}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg ${re.status==="sent"?"bg-emerald-600 text-white":"bg-blue-600 text-white shadow-lg shadow-blue-900/30"}`,children:re.status==="sent"?f.jsx(_u,{size:24}):(Re=re.client)==null?void 0:Re.nome_social.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:(Ee=re.client)==null?void 0:Ee.nome_social}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:((We=re.client)==null?void 0:We.whatsapp)||"PEND_CONNECTION"})]})]}),f.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[f.jsx("button",{onClick:()=>{var ve;const Ge=[...h];Ge[Se].message=de(((ve=re.client)==null?void 0:ve.nome_social)||""),m(Ge)},className:"w-12 h-12 rounded-2xl bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shrink-0 shadow-sm",children:f.jsx(hT,{size:18})}),f.jsx("button",{disabled:re.status==="sent",onClick:()=>{var ve;X(((ve=re.client)==null?void 0:ve.whatsapp)||"",re.message);const Ge=[...h];Ge[Se].status="sent",m(Ge)},className:"flex-1 md:flex-none btn-modern bg-slate-900 text-white px-8 py-3.5 rounded-2xl hover:bg-emerald-600 shadow-xl gap-3 text-xs",children:re.status==="sent"?"Mensagem Entregue":f.jsxs(f.Fragment,{children:[f.jsx(dR,{size:16})," Enviar agora"]})})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:f.jsx(a0,{size:18})}),f.jsx("textarea",{disabled:re.status==="sent",value:re.message,onChange:Ge=>{const ve=[...h];ve[Se].message=Ge.target.value,m(ve)},className:"w-full h-32 modern-input p-10 font-medium text-slate-700 bg-slate-50/30"})]})]},Se)})})]})}),n==="voice"&&f.jsx("div",{className:"animate-reveal max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[{id:"saudacao",l:"Abertura / Saudao",d:"Primeiro contato cognitivo",icon:Ed},{id:"preco",l:"Fluxo de Negociao",d:"Defesa de margens e preos",icon:Hf},{id:"qualidade",l:"Engajamento Tcnico",d:"Rendimento e qualidade de carcaa",icon:ja},{id:"fechamento",l:"Commit de Reserva",d:"Confirmao de abate/compra",icon:Go}].map(re=>f.jsxs("div",{className:"premium-card p-10 group bg-white",children:[f.jsxs("div",{className:"flex justify-between items-start mb-10",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 text-slate-400 flex items-center justify-center transition-all group-hover:bg-blue-600 group-hover:text-white group-hover:scale-110 shadow-sm",children:f.jsx(re.icon,{size:28})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight uppercase",children:re.l}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase mt-0.5",children:re.d})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[F===re.id?f.jsx("button",{onClick:we,className:"flex-1 bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 animate-pulse shadow-xl shadow-rose-900/20",children:"Parar Gravao"}):f.jsx("button",{onClick:()=>ue(re.id),className:"flex-1 bg-white border-2 border-slate-100 text-slate-600 py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all flex items-center justify-center gap-3 shadow-sm",children:"Iniciar Captura"}),B[re.id]&&f.jsx("button",{onClick:()=>new Audio(B[re.id]).play(),className:"w-20 h-[68px] rounded-2xl bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 transition-all shadow-xl shadow-slate-900/20",children:f.jsx(uR,{size:24,fill:"currentColor"})})]}),B[re.id]&&f.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),f.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Ativo Digitalizado"})]})]},re.id))}),n==="test"&&f.jsxs("div",{className:"animate-reveal max-w-4xl mx-auto h-[800px] flex flex-col bg-white rounded-[48px] shadow-2xl border border-slate-100 overflow-hidden relative",children:[f.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white relative",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-600/30"}),f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-900/40",children:f.jsx(Pg,{size:20})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Debug de Simulao"}),f.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Interface Terminal v2.5 / Session Active"})]})]}),f.jsxs("div",{className:"flex gap-1.5 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),f.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Sinc"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 flex flex-col bg-slate-50/30 no-scrollbar",children:[ee.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-05 py-32",children:[f.jsx(Pg,{size:160,className:"text-slate-900"}),f.jsx("p",{className:"mt-8 text-xs font-black uppercase tracking-[0.8em] text-slate-900",children:"Aguardando Input"})]}):ee.map((re,Se)=>f.jsx("div",{className:`flex ${re.role==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`p-6 rounded-[32px] max-w-[85%] shadow-sm ${re.role==="user"?"bg-white text-slate-900 border border-slate-100 font-medium":"bg-slate-900 text-blue-50 font-medium shadow-xl shadow-slate-900/20"}`,children:[f.jsx("div",{className:`flex items-center gap-2 mb-3 text-[8px] font-black uppercase tracking-widest ${re.role==="user"?"text-slate-400":"text-blue-400"}`,children:re.role==="user"?f.jsxs(f.Fragment,{children:[f.jsx(p1,{size:10})," Humano"]}):f.jsxs(f.Fragment,{children:[f.jsx(Pg,{size:10})," Agente Cognitivo"]})}),re.audio?f.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/10",children:[f.jsx("button",{onClick:()=>new Audio(re.audio).play(),className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center hover:scale-110 transition-all",children:f.jsx(uR,{size:16,fill:"currentColor"})}),f.jsx("div",{className:"flex-1 h-0.5 bg-white/10 rounded-full"}),f.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-50",children:"Stream Voz"})]}):f.jsx("p",{className:"leading-relaxed text-sm",children:re.content})]})},Se)),ce&&f.jsxs("div",{className:"flex gap-2 items-center text-blue-600 font-black text-[10px] uppercase tracking-widest animate-pulse ml-2",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.3s]"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.15s]"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce"})]}),"IA Processando..."]})]}),f.jsxs("div",{className:"p-10 bg-white border-t border-slate-100 flex gap-4",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",children:f.jsx(mR,{size:18})}),f.jsx("input",{value:_e,onChange:re=>xe(re.target.value),onKeyDown:re=>re.key==="Enter"&&_e&&(se([...ee,{role:"user",content:_e}]),xe(""),M(!0),setTimeout(()=>{se(Se=>[...Se,{role:"assistant",content:de("Simulador")}]),M(!1)},1500)),placeholder:"Simule uma objeo ou pergunta do cliente...",className:"w-full h-16 modern-input pl-14 text-sm"})]}),f.jsx("button",{onClick:()=>_e&&(se([...ee,{role:"user",content:_e}]),xe(""),M(!0),setTimeout(()=>{se(re=>[...re,{role:"assistant",content:de("Simulador")}]),M(!1)},1500)),className:"w-16 h-16 rounded-[24px] bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 hover:scale-105 transition-all shadow-xl shadow-slate-900/20 shrink-0",children:f.jsx(dR,{size:24})})]})]})]})]})},gSe={CREATE:"CRIOU",UPDATE:"EDITOU",DELETE:"EXCLUIU",LOGIN:"ENTROU",LOGOUT:"SAIU",OTHER:"OUTRO"},vSe={CLIENT:"Cliente",BATCH:"Lote",STOCK:"Estoque",SALE:"Venda",TRANSACTION:"Financeiro",ORDER:"Pedido",SYSTEM:"Sistema",OTHER:"Outro"},ySe=({onBack:t})=>{const[e,n]=ye.useState([]),[r,i]=ye.useState(!0),[a,s]=ye.useState(""),[l,c]=ye.useState("ALL"),[d,h]=ye.useState("ALL"),[m,g]=ye.useState("ALL"),[y,N]=ye.useState("");ye.useEffect(()=>{A()},[]);const A=async()=>{i(!0);const k=await rSe(500);n(k),i(!1)},S=ye.useMemo(()=>{const k=new Map;return e.forEach(O=>{var W;const V=k.get(O.userId);!V||O.timestamp>V.lastActive?k.set(O.userId,{name:O.userName||((W=O.userEmail)==null?void 0:W.split("@")[0])||"Desconhecido",email:O.userEmail,lastActive:O.timestamp,actions:((V==null?void 0:V.actions)||0)+1}):V.actions+=1}),Array.from(k.entries()).map(([O,V])=>({id:O,...V}))},[e]),C=new Date,R=S.filter(k=>(C.getTime()-new Date(k.lastActive).getTime())/1e3/60<15),P=ye.useMemo(()=>e.filter(k=>{const O=!a||k.details.toLowerCase().includes(a.toLowerCase())||k.userName&&k.userName.toLowerCase().includes(a.toLowerCase())||k.userEmail.toLowerCase().includes(a.toLowerCase()),V=l==="ALL"||k.entity===l,W=d==="ALL"||k.userId===d,B=m==="ALL"||k.action===m,D=!y||k.timestamp.startsWith(y);return O&&V&&W&&B&&D}),[e,a,l,d,m,y]),U=k=>{switch(k){case"CREATE":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"UPDATE":return"bg-blue-100 text-blue-700 border-blue-200";case"DELETE":return"bg-rose-100 text-rose-700 border-rose-200";case"LOGIN":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"LOGOUT":return"bg-slate-100 text-slate-600 border-slate-200";default:return"bg-slate-50 text-slate-400 border-slate-100"}},L=k=>{switch(k){case"SALE":return"";case"CLIENT":return"";case"BATCH":return"";case"STOCK":return"";case"TRANSACTION":return"";case"ORDER":return"";case"SYSTEM":return"";default:return""}},z=k=>{const O=(C.getTime()-new Date(k).getTime())/1e3;return O<60?"agora":O<3600?`${Math.floor(O/60)}min`:O<86400?`${Math.floor(O/3600)}h`:`${Math.floor(O/86400)}d`};return f.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[f.jsx(Ma,{size:14})," Voltar"]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:f.jsx(Go,{size:24})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-black tracking-tight text-gray-900",children:["Auditoria ",f.jsx("span",{className:"text-blue-600",children:"Geral"})]}),f.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:"Todas atividades  Todos usurios  Tempo real"})]})]})]}),f.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all shadow-sm",children:[f.jsx(hT,{size:14,className:r?"animate-spin":""})," Atualizar"]})]}),f.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:f.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(pT,{size:16,className:"text-blue-600"}),f.jsx("h3",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Colaboradores"}),f.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[9px] font-black px-2 py-0.5 rounded-full uppercase",children:[R.length," Online"]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.map(k=>{const O=R.some(V=>V.id===k.id);return f.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-xl border transition-all cursor-pointer ${d===k.id?"bg-blue-50 border-blue-300 shadow-md":O?"bg-emerald-50/50 border-emerald-100":"bg-slate-50/50 border-slate-100"}`,onClick:()=>h(d===k.id?"ALL":k.id),children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-black text-white ${O?"bg-emerald-500":"bg-slate-400"}`,children:k.name.charAt(0).toUpperCase()}),O&&f.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white animate-pulse"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:k.name}),f.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[O?f.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-emerald-600 uppercase",children:[f.jsx(mK,{size:8})," Online"]}):f.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-slate-400 uppercase",children:[f.jsx(hK,{size:8})," ",z(k.lastActive)]}),f.jsxs("span",{className:"text-[8px] font-bold text-slate-300",children:[" ",k.actions," aes"]})]})]})]},k.id)}),S.length===0&&f.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase",children:"Nenhum usurio registrado nos logs"})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto mb-4 flex flex-wrap gap-3 items-center",children:[f.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[f.jsx(ym,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),f.jsx("input",{type:"text",placeholder:"Pesquisar atividade, usurio...",className:"w-full bg-white border border-slate-100 rounded-xl py-2 pl-10 pr-4 text-xs font-bold text-slate-700 outline-none focus:border-blue-300 shadow-sm",value:a,onChange:k=>s(k.target.value)})]}),f.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-100 rounded-xl px-2 py-1 shadow-sm",children:[f.jsx(vm,{size:12,className:"text-blue-500 ml-1"}),f.jsx("input",{type:"date",className:"text-[10px] font-bold text-slate-600 bg-transparent outline-none px-1",value:y,onChange:k=>N(k.target.value)}),y&&f.jsx("button",{onClick:()=>N(""),className:"text-[9px] font-black text-rose-400 px-1",children:""})]}),f.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:" Cliente",value:"CLIENT"},{label:" Lote",value:"BATCH"},{label:" Venda",value:"SALE"},{label:" Financeiro",value:"TRANSACTION"},{label:" Estoque",value:"STOCK"},{label:" Sistema",value:"SYSTEM"}].map(k=>f.jsx("button",{onClick:()=>c(k.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${l===k.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:k.label},k.value))}),f.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:"Entrou",value:"LOGIN"},{label:"Criou",value:"CREATE"},{label:"Editou",value:"UPDATE"},{label:"Excluiu",value:"DELETE"}].map(k=>f.jsx("button",{onClick:()=>g(k.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${m===k.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:k.label},k.value))})]}),f.jsx("div",{className:"max-w-7xl mx-auto mb-3 flex items-center gap-3 px-1",children:f.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:[P.length," registros ",d!=="ALL"&&" Filtrando por usurio"," ",y&&` Data: ${y}`]})}),f.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:r?f.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-4",children:[f.jsx(ja,{className:"animate-spin text-blue-600",size:40}),f.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Carregando registros..."})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[f.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider w-36",children:"Quando"}),f.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Quem"}),f.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-24",children:"Ao"}),f.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-28",children:"Mdulo"}),f.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"O que fez"})]})}),f.jsx("tbody",{children:P.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:5,className:"py-20 text-center",children:[f.jsx(qp,{size:48,className:"mx-auto mb-3 text-slate-200"}),f.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Nenhum registro encontrado"})]})}):P.map(k=>{var V,W;const O=R.some(B=>B.id===k.userId);return f.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/30 transition-colors group",children:[f.jsxs("td",{className:"px-4 py-2.5",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:new Date(k.timestamp).toLocaleDateString("pt-BR")}),f.jsxs("p",{className:"text-[9px] font-bold text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(dT,{size:9})," ",new Date(k.timestamp).toLocaleTimeString("pt-BR")]}),f.jsxs("p",{className:"text-[8px] font-bold text-blue-400 mt-0.5",children:[z(k.timestamp)," atrs"]})]}),f.jsx("td",{className:"px-4 py-2.5",children:f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-black text-white ${O?"bg-emerald-500":"bg-slate-400"}`,children:(k.userName||((V=k.userEmail)==null?void 0:V.split("@")[0])||"?").charAt(0).toUpperCase()}),O&&f.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-emerald-400 rounded-full border-2 border-white"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:k.userName||((W=k.userEmail)==null?void 0:W.split("@")[0])||"Sistema"}),f.jsx("p",{className:"text-[8px] font-bold text-slate-400 mt-0.5 truncate max-w-[140px]",children:k.userEmail})]})]})}),f.jsx("td",{className:"px-4 py-2.5 text-center",children:f.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-lg border text-[8px] font-black uppercase tracking-wider ${U(k.action)}`,children:gSe[k.action]||k.action})}),f.jsxs("td",{className:"px-4 py-2.5 text-center",children:[f.jsx("span",{className:"text-sm mr-1",children:L(k.entity)}),f.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase",children:vSe[k.entity]||k.entity})]}),f.jsx("td",{className:"px-4 py-2.5",children:f.jsx("p",{className:"text-xs font-bold text-slate-700 leading-relaxed max-w-xl",children:k.details})})]},k.id)})})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto mt-6 flex flex-wrap justify-between items-center gap-3 border-t border-slate-100 pt-6 opacity-40",children:[f.jsxs("div",{className:"flex gap-4 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," ",R.length," Online Agora"]}),f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," ",e.length," Logs Carregados"]})]}),f.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"THIAGO 704 // Auditoria em Tempo Real"})]})]})},xSe=()=>{const[e,n]=ye.useState(null),[r,i]=ye.useState("menu"),[a,s]=ye.useState(null),[l,c]=ye.useState("checking"),[d,h]=ye.useState({...xK,scheduledOrders:[],suppliers:[],payables:[]}),[m,g]=ye.useState(!0),[y,N]=ye.useState("idle");ye.useEffect(()=>{if(!Fd){n({user:{email:"offline@local"}}),g(!1),c("offline");return}const X=setTimeout(()=>{g(!1)},5e3),ue=bbe(Fd,we=>{n(we?{user:we}:null),g(!1),clearTimeout(X)});return()=>{clearTimeout(X),ue()}},[]);const A=ye.useCallback(async()=>{if(!(!e||!bt)){c("checking");try{const[X,ue,we,re,Se,Re,Ee,We,Ge]=await Promise.all([wi(nr(bt,"clients")),wi(nr(bt,"batches")),wi(nr(bt,"stock_items")),wi(nr(bt,"sales")),wi(nr(bt,"transactions")),wi(nr(bt,"scheduled_orders")),wi(gp(nr(bt,"daily_reports"),Xz(50))),wi(nr(bt,"suppliers")),wi(nr(bt,"payables"))]),ve=X.docs.map(st=>({...st.data()})),le=ue.docs.map(st=>({...st.data()})),lt=we.docs.map(st=>({...st.data()})),nt=re.docs.map(st=>({...st.data()})),Xe=Se.docs.map(st=>({...st.data()})),He=Re.docs.map(st=>({...st.data()})),et=Ee.docs.map(st=>({...st.data()})),Ke=We.docs.map(st=>({...st.data(),id:st.id})),at=((Ge==null?void 0:Ge.docs)||[]).map(st=>{const vt=st.data();return{...vt,id:st.id,valor:vt.valor!==void 0?Number(vt.valor):Number(vt.valor_total||0)}}),Qe=ve.map(st=>{const _t=nt.filter(It=>It.id_cliente===st.id_ferro&&It.status_pagamento==="PENDENTE").reduce((It,Tt)=>{const Wt=Tt.peso_real_saida*Tt.preco_venda_kg,wt=Tt.valor_pago||0;return It+(Wt-wt)},0);return{...st,saldo_devedor:_t}});h({clients:Qe,batches:le,stock:lt,sales:nt,transactions:Xe,scheduledOrders:He,reports:et,suppliers:Ke,payables:at}),c("online"),$7()&&(N("syncing"),v$({clients:Qe,batches:le,stock:lt,sales:nt,transactions:Xe,scheduledOrders:He,reports:et,suppliers:Ke,payables:at}).then(st=>{N(st.success?"ok":"idle"),st.success&&setTimeout(()=>N("idle"),5e3)}).catch(()=>N("error")))}catch(X){console.error(X),c("offline")}}},[e]);ye.useEffect(()=>{if(A(),(async()=>{bt&&setTimeout(async()=>{try{const[ve,le,lt,nt,Xe]=await Promise.all([wi(nr(bt,"batches")),wi(nr(bt,"payables")),wi(nr(bt,"stock_items")),wi(nr(bt,"sales")),wi(nr(bt,"transactions"))]),He=new Set(ve.docs.map(Qe=>Qe.data().id_lote)),et=r0(bt);let Ke=0;le.forEach(Qe=>{const st=Qe.data();if(st.categoria==="COMPRA_GADO"){let vt=st.id_lote;if(!vt&&st.descricao){const _t=st.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);_t&&(vt=_t[1])}vt&&!He.has(vt)&&(et.delete(Qe.ref),Ke++,console.log(` Payable rfo: ${st.descricao}`))}});const at=new Map;le.forEach(Qe=>{const st=Qe.data();if(st.categoria==="COMPRA_GADO"){let vt=st.id_lote;if(!vt&&st.descricao){const _t=st.descricao.match(/Lote (LOTE-[A-Z0-9]+-\d+)/);_t&&(vt=_t[1])}vt&&(at.has(vt)||at.set(vt,[]),at.get(vt).push({ref:Qe.ref,data:st,docId:Qe.id}))}}),at.forEach((Qe,st)=>{Qe.length>1&&Qe.some(_t=>_t.docId.startsWith("PAY-LOTE-"))&&Qe.forEach(_t=>{_t.docId.startsWith("PAY-LOTE-")||(et.delete(_t.ref),Ke++,console.log(` Payable DUPLICADO removido: "${_t.data.descricao}" (ID: ${_t.docId})`))})}),lt.forEach(Qe=>{const st=Qe.data();st.id_lote&&!He.has(st.id_lote)&&(et.delete(Qe.ref),Ke++,console.log(` Estoque rfo: ${st.id_completo}`))}),nt.forEach(Qe=>{const st=Qe.data();if(st.id_completo){const vt=st.id_completo.split("-");if(vt.length>=3){const _t=`${vt[0]}-${vt[1]}-${vt[2]}`;He.has(_t)||(et.delete(Qe.ref),Ke++,console.log(` Venda rf: ${st.id_venda}`))}}}),Xe.forEach(Qe=>{const st=Qe.data();st.referencia_id&&st.categoria==="COMPRA_GADO"&&(He.has(st.referencia_id)||(et.delete(Qe.ref),Ke++,console.log(` Transao rf: ${st.descricao}`)))}),Ke>0&&(await et.commit(),console.log(` ${Ke} registros rfos removidos automaticamente`),A())}catch(ve){console.error("Erro limpando rfos:",ve)}},2e3)})(),!bt)return;const ue=Ad(nr(bt,"clients"),()=>A()),we=Ad(nr(bt,"batches"),()=>A()),re=Ad(nr(bt,"stock_items"),()=>A()),Se=Ad(nr(bt,"sales"),()=>A()),Re=Ad(nr(bt,"transactions"),()=>A()),Ee=Ad(nr(bt,"scheduled_orders"),()=>A()),We=Ad(nr(bt,"daily_reports"),()=>A()),Ge=Ad(nr(bt,"payables"),()=>A());return()=>{ue(),we(),re(),Se(),Re(),Ee(),We(),Ge()}},[A]);const S=async X=>{try{const ue=await oT(nr(bt,"suppliers"),X),we={...X,id:ue.id};await Uo(ue,we),h(re=>({...re,suppliers:[...re.suppliers,we]})),mi(e.user,"CREATE","OTHER",`Novo fornecedor: ${X.nome_fantasia}`,X),alert("Fornecedor cadastrado com sucesso!")}catch(ue){console.error(ue),alert("Erro ao salvar fornecedor.")}},C=async X=>{try{await Uo(En(bt,"suppliers",X.id),X),h(ue=>({...ue,suppliers:ue.suppliers.map(we=>we.id===X.id?X:we)})),mi(e.user,"UPDATE","OTHER",`Fornecedor atualizado: ${X.nome_fantasia}`,X),alert("Fornecedor atualizado!")}catch(ue){console.error(ue),alert("Erro ao atualizar fornecedor.")}},R=async X=>{try{await Al(En(bt,"suppliers",X)),h(ue=>({...ue,suppliers:ue.suppliers.filter(we=>we.id!==X)})),mi(e.user,"DELETE","OTHER",`Fornecedor removido ID: ${X}`,{id:X}),alert("Fornecedor removido.")}catch(ue){console.error(ue),alert("Erro ao remover fornecedor.")}},P=async X=>{try{const ue=await oT(nr(bt,"payables"),X),we={...X,id:ue.id};await Uo(ue,we),h(re=>({...re,payables:[...re.payables,we]})),mi(e.user,"CREATE","OTHER",`Nova conta a pagar: ${X.descricao}`,X)}catch(ue){console.error(ue),alert("Erro ao salvar conta a pagar.")}},U=async X=>{try{await Uo(En(bt,"payables",X.id),X),h(ue=>({...ue,payables:ue.payables.map(we=>we.id===X.id?X:we)})),mi(e.user,"UPDATE","OTHER",`Conta atualizada: ${X.descricao}`,X)}catch(ue){console.error(ue),alert("Erro ao atualizar conta.")}},L=async X=>{try{await Al(En(bt,"payables",X)),h(ue=>({...ue,payables:ue.payables.filter(we=>we.id!==X)})),mi(e.user,"DELETE","OTHER",`Conta excluda ID: ${X}`,{id:X})}catch(ue){console.error(ue),alert("Erro ao remover conta.")}},z=X=>JSON.parse(JSON.stringify(X)),k=ye.useMemo(()=>d.batches.filter(X=>X.status==="FECHADO"),[d.batches]),O=ye.useMemo(()=>new Set(k.map(X=>X.id_lote)),[k]),V=ye.useMemo(()=>d.stock.filter(X=>O.has(X.id_lote)),[d.stock,O]),W=async X=>{const ue={...X};e!=null&&e.user&&mi(e.user,"CREATE","BATCH",`Novo lote criado: ${ue.id_lote} - ${ue.fornecedor}`);const we=ue.forma_pagamento||"OUTROS";if(ue.pagamento_a_vista,delete ue.pagamento_a_vista,delete ue.forma_pagamento,ue.peso_total_romaneio=parseFloat(ue.peso_total_romaneio)||0,ue.valor_compra_total=parseFloat(ue.valor_compra_total)||0,ue.frete=parseFloat(ue.frete)||0,ue.gastos_extras=parseFloat(ue.gastos_extras)||0,ue.custo_real_kg=parseFloat(ue.custo_real_kg)||0,!bt)return{success:!1,error:"Firebase no configurado"};try{await Uo(En(bt,"batches",ue.id_lote),ue);const re=(ue.valor_compra_total||0)+(ue.frete||0)+(ue.gastos_extras||0);if(re>0&&we==="VISTA"){const Se={id:`TR-LOTE-${ue.id_lote}`,data:ue.data_recebimento,descricao:`Compra Lote ${ue.id_lote} - ${ue.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:re,metodo_pagamento:we,referencia_id:ue.id_lote};await Q(Se)}return await A(),{success:!0}}catch(re){return{success:!1,error:re.message}}},B=async X=>{if(bt)try{console.log(` INICIANDO EXCLUSO COMPLETA DO LOTE: ${X}`),await Al(En(bt,"batches",X)),console.log(` Lote ${X} deletado`);const ue=gp(nr(bt,"stock_items")),we=await wi(ue),re=[];let Se=0;we.forEach(at=>{at.data().id_lote===X&&(re.push(Al(En(bt,"stock_items",at.id))),Se++)}),await Promise.all(re),console.log(` ${Se} itens de estoque deletados`);const Re=gp(nr(bt,"payables")),Ee=await wi(Re),We=[];let Ge=0;Ee.forEach(at=>{const Qe=at.data(),st=Qe.id_lote===X,vt=Qe.id&&Qe.id.includes(X),_t=Qe.descricao&&Qe.descricao.includes(X);(st||vt||_t)&&(We.push(Al(En(bt,"payables",at.id))),Ge++)}),await Promise.all(We),console.log(` ${Ge} contas a pagar deletadas`);const ve=gp(nr(bt,"sales")),le=await wi(ve),lt=[];let nt=0;le.forEach(at=>{const Qe=at.data();Qe.id_completo&&Qe.id_completo.startsWith(X)&&(lt.push(Al(En(bt,"sales",at.id))),nt++)}),await Promise.all(lt),console.log(` ${nt} vendas deletadas`);const Xe=gp(nr(bt,"transactions")),He=await wi(Xe),et=[];let Ke=0;He.forEach(at=>{const Qe=at.data();(Qe.referencia_id===X||Qe.descricao&&Qe.descricao.includes(X))&&(et.push(Al(En(bt,"transactions",at.id))),Ke++)}),await Promise.all(et),console.log(` ${Ke} transaes deletadas`),console.log(` LOTE ${X} COMPLETAMENTE ELIMINADO!`),console.log(` RESUMO: Lote + ${Se} estoque + ${Ge} payables + ${nt} vendas + ${Ke} transaes`),e!=null&&e.user&&mi(e.user,"DELETE","BATCH",`Lote COMPLETAMENTE excludo: ${X} (${Se} estoque, ${Ge} payables, ${nt} vendas, ${Ke} transaes)`),A()}catch(ue){console.error(" Erro ao excluir lote:",ue),alert("Erro ao excluir o lote. Verifique o console.")}},D=async X=>{const ue=z(X);if(!bt)return{success:!1,error:"Firebase no configurado"};try{return await Uo(En(bt,"stock_items",ue.id_completo),ue),e!=null&&e.user&&mi(e.user,"CREATE","STOCK",`Item de estoque adicionado: ${ue.id_completo}`),A(),{success:!0}}catch(we){return{success:!1,error:we.message}}},F=async(X,ue)=>{bt&&(await op(En(bt,"stock_items",X),z(ue)),A())},Q=async X=>{bt&&(await Uo(En(bt,"transactions",X.id),z(X)),e!=null&&e.user&&mi(e.user,"CREATE","TRANSACTION",`Transao adicionada: ${X.tipo} ${X.valor} (${X.descricao})`),A())},oe=async X=>{const ue=(X.valor_compra_total||0)+(X.frete||0)+(X.gastos_extras||0);if(ue===0)return;const we={id:`TR-LOTE-${X.id_lote}`,data:X.data_recebimento,descricao:`Compra Lote ${X.id_lote} - ${X.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:ue,metodo_pagamento:X.forma_pagamento||"OUTROS",referencia_id:X.id_lote},re=X.valor_entrada||0,Se=X.forma_pagamento==="VISTA",Re=X.forma_pagamento==="PRAZO";if(Se)await Q(we);else if(Re){if(re>0){const We={...we,id:`TR-LOTE-ENTRADA-${X.id_lote}`,descricao:`Entrada/Adiantamento Lote ${X.id_lote} - ${X.fornecedor}`,valor:re};await Q(We)}const Ee=ue-re;if(Ee>0){if(d.payables.filter(le=>le.id_lote===X.id_lote||le.id===`PAY-LOTE-${X.id_lote}`).length>0){console.log(` Payable j existe para lote ${X.id_lote}, ignorando duplicata.`);return}const Ge={id:`PAY-LOTE-${X.id_lote}`,descricao:`Restante Lote ${X.id_lote} - ${X.fornecedor}`,valor:Ee,data_vencimento:new Date(Date.now()+(X.prazo_dias||30)*24*60*60*1e3).toISOString().split("T")[0],status:"PENDENTE",categoria:"COMPRA_GADO",observacoes:`Compra a Prazo (Entrada: ${re>0?re:"No"})`,fornecedor_id:X.fornecedor,id_lote:X.id_lote},ve=En(bt,"payables",`PAY-LOTE-${X.id_lote}`);await Uo(ve,Ge)}}},K=async X=>{const ue=z(X);if(!bt)return{success:!1,error:"Firebase no configurado"};try{const we=r0(bt);return ue.forEach(re=>{const Se=En(bt,"sales",re.id_venda);we.set(Se,re)}),ue.forEach(re=>{(re.stock_ids_originais&&Array.isArray(re.stock_ids_originais)?re.stock_ids_originais:[re.id_completo]).forEach(Re=>{const Ee=En(bt,"stock_items",Re);we.update(Ee,{status:"VENDIDO"})})}),await we.commit(),e!=null&&e.user&&mi(e.user,"CREATE","SALE",`Venda realizada: ${ue.length} itens para ${ue[0].nome_cliente||"Cliente"}`),A(),{success:!0}}catch(we){return{success:!1,error:we.message}}},ee=async X=>{bt&&(await Al(En(bt,"stock_items",X)),e!=null&&e.user&&mi(e.user,"DELETE","STOCK",`Item removido do estoque: ${X}`),A())},se=async(X,ue)=>{bt&&(await op(En(bt,"sales",X),{custo_extras_total:ue}),A())},_e=async X=>{bt&&(await Al(En(bt,"transactions",X)),A())},xe=async(X,ue,we,re)=>{const Se=d.sales.find(ve=>ve.id_venda===X);if(!Se||!bt)return;const Re=Se.peso_real_saida*Se.preco_venda_kg,We=(Se.valor_pago||0)+ue,Ge=We>=Re?"PAGO":"PENDENTE";try{await op(En(bt,"sales",X),{valor_pago:We,status_pagamento:Ge,forma_pagamento:we}),A()}catch(ve){console.error("Error adding partial payment:",ve)}},ce=async(X,ue,we,re)=>{const Se=d.sales.filter(We=>We.id_cliente===X&&We.status_pagamento==="PENDENTE").sort((We,Ge)=>new Date(We.data_venda).getTime()-new Date(Ge.data_venda).getTime());let Re=ue,Ee=0;for(const We of Se){if(Re<=.01)break;const Ge=We.peso_real_saida*We.preco_venda_kg,ve=We.valor_pago||0,le=Ge-ve,lt=Math.min(le,Re);lt>0&&(await xe(We.id_venda,lt,we),Re-=lt,Ee++)}Ee>0&&(e!=null&&e.user&&mi(e.user,"CREATE","TRANSACTION",`Pagamento recebido de cliente: ${ue} (${we})`),A())},M=async X=>{if(!bt)return;const ue=z(X);await Uo(En(bt,"scheduled_orders",ue.id),ue),e!=null&&e.user&&mi(e.user,"CREATE","ORDER",`Pedido agendado criado para ${ue.nome_cliente}`),A()},G=async(X,ue)=>{bt&&(await op(En(bt,"scheduled_orders",X),z(ue)),A())},Z=async X=>{bt&&(await Al(En(bt,"scheduled_orders",X)),e!=null&&e.user&&mi(e.user,"DELETE","ORDER",`Pedido excludo: ${X}`),A())},de=async()=>{Fd&&(await _be(Fd),e!=null&&e.user&&mi(e.user,"LOGOUT","SYSTEM","Usurio saiu do sistema")),n(null),i("menu")};return m?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx(Sp,{className:"text-blue-600 animate-spin",size:48})}):e?f.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden selection:bg-blue-200",children:[r==="menu"&&f.jsx(yK,{setView:i,onLogout:de,onSyncSheets:$7()?async()=>{N("syncing");const X=await fSe(d);N(X.success?"ok":"error"),X.success&&setTimeout(()=>N("idle"),5e3)}:void 0,sheetsSyncStatus:y}),r==="system_reset"&&f.jsx(V7,{onBack:()=>i("menu"),refreshData:A}),r==="dashboard"&&f.jsx(yde,{sales:d.sales,stock:V,transactions:d.transactions,batches:k,clients:d.clients,onBack:()=>i("menu")}),r==="clients"&&f.jsx(xde,{clients:d.clients,sales:d.sales,addClient:async X=>{bt&&(await Uo(En(bt,"clients",X.id_ferro),z(X)),e!=null&&e.user&&mi(e.user,"CREATE","CLIENT",`Novo cliente: ${X.nome_social}`),A())},updateClient:async X=>{bt&&(await Uo(En(bt,"clients",X.id_ferro),z(X),{merge:!0}),e!=null&&e.user&&mi(e.user,"UPDATE","CLIENT",`Cliente atualizado: ${X.nome_social}`),A())},deleteClient:async X=>{bt&&(await Al(En(bt,"clients",X)),e!=null&&e.user&&mi(e.user,"DELETE","CLIENT",`Cliente excludo: ${X}`),A())},receiveClientPayment:ce,onBack:()=>i("menu")}),r==="suppliers"&&f.jsx(nSe,{suppliers:d.suppliers,addSupplier:S,updateSupplier:C,deleteSupplier:R,onBack:()=>i("menu")}),r==="batches"&&f.jsx(bde,{batches:d.batches,suppliers:d.suppliers,stock:d.stock,addBatch:W,updateBatch:async(X,ue)=>{bt&&(await op(En(bt,"batches",X),z(ue)),e!=null&&e.user&&mi(e.user,"UPDATE","BATCH",`Lote atualizado: ${X}`),A())},deleteBatch:B,addStockItem:D,updateStockItem:F,removeStockItem:ee,registerBatchFinancial:oe,onGoToStock:()=>i("stock"),onBack:()=>i("menu")}),r==="stock"&&f.jsx(_de,{stock:V,batches:k,sales:d.sales,clients:d.clients,updateBatch:async(X,ue)=>{bt&&(await op(En(bt,"batches",X),z(ue)),e!=null&&e.user&&mi(e.user,"UPDATE","BATCH",`Lote atualizado: ${X}`),A())},deleteBatch:B,onBack:()=>i("menu")}),r==="expedition"&&f.jsx(_fe,{clients:d.clients,stock:V,batches:k,salesHistory:d.sales,onConfirmSale:X=>{const{client:ue,items:we,pricePerKg:re,extrasCost:Se}=X,Re=new Map;we.forEach(ve=>{const le=`${ve.id_lote}-${ve.sequencia}`;Re.has(le)||Re.set(le,[]),Re.get(le).push(ve)});const Ee=[];let We=0;const Ge=[...Re.values()].reduce((ve,le)=>ve+le.reduce((lt,nt)=>lt+(nt.peso_saida||nt.peso_entrada),0),0);Re.forEach((ve,le)=>{const lt=ve.length>1,nt=d.batches.find(It=>It.id_lote===ve[0].id_lote),Xe=nt?nt.custo_real_kg:0,He=ve.reduce((It,Tt)=>It+Tt.peso_entrada,0),et=ve.reduce((It,Tt)=>It+(Tt.peso_saida||Tt.peso_entrada),0),Ke=He-et,at=et*re,Qe=et*Xe,st=Ge>0?Se*(et/Ge):0,vt=at-Qe-st,_t=lt?`${ve[0].id_lote}-${ve[0].sequencia}-INTEIRO`:ve[0].id_completo;Ee.push({id_venda:`V-${Date.now()}-${We++}`,id_cliente:ue.id_ferro,nome_cliente:ue.nome_social,id_completo:_t,peso_real_saida:et,preco_venda_kg:re,data_venda:new Date().toISOString().split("T")[0],quebra_kg:Ke,lucro_liquido_unitario:vt,custo_extras_total:st,prazo_dias:30,data_vencimento:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],forma_pagamento:"OUTROS",status_pagamento:"PENDENTE",tipo_venda:lt?"CARCACA_INTEIRA":"BANDA_AVULSA",stock_ids_originais:ve.map(It=>It.id_completo)})}),K(Ee),i("sales_history")},onBack:()=>i("menu")}),r==="sales_history"&&f.jsx(Afe,{stock:V,batches:k,sales:d.sales,clients:d.clients,initialSearchTerm:a==null?void 0:a.searchTerm,onBack:()=>i("menu"),onGoToSales:()=>i("expedition")}),r==="financial"&&f.jsx(wfe,{sales:d.sales,batches:k,stock:V,clients:d.clients,transactions:d.transactions,updateSaleCost:se,addTransaction:Q,deleteTransaction:_e,addPartialPayment:xe,onBack:()=>i("menu"),payables:d.payables,addPayable:P,updatePayable:U,deletePayable:L}),r==="scheduled_orders"&&f.jsx(Lye,{scheduledOrders:d.scheduledOrders,clients:d.clients,addScheduledOrder:M,updateScheduledOrder:G,deleteScheduledOrder:Z,onViewClientHistory:X=>{s({searchTerm:X}),i("sales_history")},onBack:()=>i("menu")}),r==="report"&&f.jsx(hSe,{reports:d.reports,onBack:()=>i("menu"),onSubmit:async X=>{var we,re,Se;if(!bt)return;const ue={id:`REPORT-${Date.now()}`,timestamp:new Date().toISOString(),date:new Date().toISOString().split("T")[0],userId:((we=e==null?void 0:e.user)==null?void 0:we.uid)||"anonymous",userName:((Se=(re=e==null?void 0:e.user)==null?void 0:re.email)==null?void 0:Se.split("@")[0])||"Colaborador",...X};await Uo(En(bt,"daily_reports",ue.id),ue),mi(e==null?void 0:e.user,"CREATE","OTHER",`Relatrio enviado: ${X.type}`),A()}}),r==="heifers"&&f.jsx(pSe,{onBack:()=>i("menu"),existingOrders:d.scheduledOrders,onAddOrder:M}),r==="sales_agent"&&f.jsx(mSe,{onBack:()=>i("menu"),clients:d.clients}),r==="aistudio"&&f.jsx(Dye,{onBack:()=>i("menu")}),r==="audit"&&f.jsx(ySe,{onBack:()=>i("menu")}),r==="system_reset"&&f.jsx(V7,{onBack:()=>i("menu"),refreshData:A}),f.jsxs("div",{className:"fixed bottom-3 left-3 right-3 md:bottom-8 md:left-8 md:right-auto z-[200] flex flex-col md:flex-row gap-2 md:gap-3 pointer-events-none items-stretch md:items-center",children:[l==="online"&&f.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-emerald-50 text-emerald-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-emerald-900/5 animate-reveal",children:[f.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),f.jsx("span",{className:"hidden md:inline",children:"CORE: SINAL_CRIPTOGRAFADO"}),f.jsx("span",{className:"md:hidden",children:"ONLINE"})]}),l==="offline"&&f.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-rose-50 text-rose-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-rose-900/5 animate-reveal",children:[f.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(244,63,94,0.5)]"}),f.jsx("span",{className:"hidden md:inline",children:"CORE: LINK_AUSENTE"}),f.jsx("span",{className:"md:hidden",children:"OFFLINE"})]}),f.jsxs("button",{onClick:()=>{window.confirm(` Atualizar aplicativo?

Isso ir buscar a verso mais recente do app.

 IMPORTANTE: Seus dados (lotes, financeiro, estoque) NO sero afetados!

Deseja continuar?`)&&window.location.reload()},className:"pointer-events-auto bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-2.5 rounded-xl md:rounded-2xl font-black text-[9px] md:text-[10px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl transition-all hover:scale-105 active:scale-95 animate-reveal cursor-pointer",title:"Clique para atualizar o app e carregar a verso mais recente",children:[f.jsx(hT,{size:14,className:"animate-spin-slow"}),f.jsx("span",{children:"Atualizar App"})]}),f.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-[0_20px_40px_rgba(15,23,42,0.3)] animate-reveal",children:[f.jsx(ja,{size:12,className:"text-blue-400"}),f.jsx("span",{className:"hidden md:inline",children:"FG-PRO_v2.5.5"}),f.jsx("span",{className:"md:hidden",children:"v2.5.5"})]})]})]}):f.jsx(tSe,{onLoginSuccess:()=>{}})},y$=document.getElementById("root");if(!y$)throw new Error("Could not find root element to mount to");const bSe=DH.createRoot(y$);bSe.render(f.jsx(Oe.StrictMode,{children:f.jsx(xSe,{})}));export{xr as _,dy as c,Nr as g};
