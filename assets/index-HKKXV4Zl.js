(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f2={exports:{}},gg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4;function kG(){if(Z4)return gg;Z4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return gg.Fragment=e,gg.jsx=n,gg.jsxs=n,gg}var eO;function PG(){return eO||(eO=1,f2.exports=kG()),f2.exports}var u=PG(),h2={exports:{}},hn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function jG(){if(tO)return hn;tO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(re){return re===null||typeof re!="object"?null:(re=g&&re[g]||re["@@iterator"],typeof re=="function"?re:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function I(re,C,H){this.props=re,this.context=C,this.refs=E,this.updater=H||N}I.prototype.isReactComponent={},I.prototype.setState=function(re,C){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,C,"setState")},I.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function O(){}O.prototype=I.prototype;function F(re,C,H){this.props=re,this.context=C,this.refs=E,this.updater=H||N}var U=F.prototype=new O;U.constructor=F,A(U,I.prototype),U.isPureReactComponent=!0;var D=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function $(re,C,H){var W=H.ref;return{$$typeof:t,type:re,key:C,ref:W!==void 0?W:null,props:H}}function G(re,C){return $(re.type,C,re.props)}function V(re){return typeof re=="object"&&re!==null&&re.$$typeof===t}function L(re){var C={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(H){return C[H]})}var k=/\/+/g;function J(re,C){return typeof re=="object"&&re!==null&&re.key!=null?L(""+re.key):C.toString(36)}function ce(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(q,q):(re.status="pending",re.then(function(C){re.status==="pending"&&(re.status="fulfilled",re.value=C)},function(C){re.status==="pending"&&(re.status="rejected",re.reason=C)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function ne(re,C,H,W,K){var Q=typeof re;(Q==="undefined"||Q==="boolean")&&(re=null);var he=!1;if(re===null)he=!0;else switch(Q){case"bigint":case"string":case"number":he=!0;break;case"object":switch(re.$$typeof){case t:case e:he=!0;break;case h:return he=re._init,ne(he(re._payload),C,H,W,K)}}if(he)return K=K(re),he=W===""?"."+J(re,0):W,D(K)?(H="",he!=null&&(H=he.replace(k,"$&/")+"/"),ne(K,C,H,"",function(Ae){return Ae})):K!=null&&(V(K)&&(K=G(K,H+(K.key==null||re&&re.key===K.key?"":(""+K.key).replace(k,"$&/")+"/")+he)),C.push(K)),1;he=0;var _e=W===""?".":W+":";if(D(re))for(var ae=0;ae<re.length;ae++)W=re[ae],Q=_e+J(W,ae),he+=ne(W,C,H,Q,K);else if(ae=y(re),typeof ae=="function")for(re=ae.call(re),ae=0;!(W=re.next()).done;)W=W.value,Q=_e+J(W,ae++),he+=ne(W,C,H,Q,K);else if(Q==="object"){if(typeof re.then=="function")return ne(ce(re),C,H,W,K);throw C=String(re),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return he}function ie(re,C,H){if(re==null)return re;var W=[],K=0;return ne(re,W,"","",function(Q){return C.call(H,Q,K++)}),W}function te(re){if(re._status===-1){var C=re._result;C=C(),C.then(function(H){(re._status===0||re._status===-1)&&(re._status=1,re._result=H)},function(H){(re._status===0||re._status===-1)&&(re._status=2,re._result=H)}),re._status===-1&&(re._status=0,re._result=C)}if(re._status===1)return re._result.default;throw re._result}var fe=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},be={map:ie,forEach:function(re,C,H){ie(re,function(){C.apply(this,arguments)},H)},count:function(re){var C=0;return ie(re,function(){C++}),C},toArray:function(re){return ie(re,function(C){return C})||[]},only:function(re){if(!V(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return hn.Activity=m,hn.Children=be,hn.Component=I,hn.Fragment=n,hn.Profiler=i,hn.PureComponent=F,hn.StrictMode=r,hn.Suspense=c,hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,hn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return P.H.useMemoCache(re)}},hn.cache=function(re){return function(){return re.apply(null,arguments)}},hn.cacheSignal=function(){return null},hn.cloneElement=function(re,C,H){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var W=A({},re.props),K=re.key;if(C!=null)for(Q in C.key!==void 0&&(K=""+C.key),C)!j.call(C,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&C.ref===void 0||(W[Q]=C[Q]);var Q=arguments.length-2;if(Q===1)W.children=H;else if(1<Q){for(var he=Array(Q),_e=0;_e<Q;_e++)he[_e]=arguments[_e+2];W.children=he}return $(re.type,K,W)},hn.createContext=function(re){return re={$$typeof:s,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:a,_context:re},re},hn.createElement=function(re,C,H){var W,K={},Q=null;if(C!=null)for(W in C.key!==void 0&&(Q=""+C.key),C)j.call(C,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=C[W]);var he=arguments.length-2;if(he===1)K.children=H;else if(1<he){for(var _e=Array(he),ae=0;ae<he;ae++)_e[ae]=arguments[ae+2];K.children=_e}if(re&&re.defaultProps)for(W in he=re.defaultProps,he)K[W]===void 0&&(K[W]=he[W]);return $(re,Q,K)},hn.createRef=function(){return{current:null}},hn.forwardRef=function(re){return{$$typeof:l,render:re}},hn.isValidElement=V,hn.lazy=function(re){return{$$typeof:h,_payload:{_status:-1,_result:re},_init:te}},hn.memo=function(re,C){return{$$typeof:f,type:re,compare:C===void 0?null:C}},hn.startTransition=function(re){var C=P.T,H={};P.T=H;try{var W=re(),K=P.S;K!==null&&K(H,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(q,fe)}catch(Q){fe(Q)}finally{C!==null&&H.types!==null&&(C.types=H.types),P.T=C}},hn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},hn.use=function(re){return P.H.use(re)},hn.useActionState=function(re,C,H){return P.H.useActionState(re,C,H)},hn.useCallback=function(re,C){return P.H.useCallback(re,C)},hn.useContext=function(re){return P.H.useContext(re)},hn.useDebugValue=function(){},hn.useDeferredValue=function(re,C){return P.H.useDeferredValue(re,C)},hn.useEffect=function(re,C){return P.H.useEffect(re,C)},hn.useEffectEvent=function(re){return P.H.useEffectEvent(re)},hn.useId=function(){return P.H.useId()},hn.useImperativeHandle=function(re,C,H){return P.H.useImperativeHandle(re,C,H)},hn.useInsertionEffect=function(re,C){return P.H.useInsertionEffect(re,C)},hn.useLayoutEffect=function(re,C){return P.H.useLayoutEffect(re,C)},hn.useMemo=function(re,C){return P.H.useMemo(re,C)},hn.useOptimistic=function(re,C){return P.H.useOptimistic(re,C)},hn.useReducer=function(re,C,H){return P.H.useReducer(re,C,H)},hn.useRef=function(re){return P.H.useRef(re)},hn.useState=function(re){return P.H.useState(re)},hn.useSyncExternalStore=function(re,C,H){return P.H.useSyncExternalStore(re,C,H)},hn.useTransition=function(){return P.H.useTransition()},hn.version="19.2.3",hn}var nO;function fT(){return nO||(nO=1,h2.exports=jG()),h2.exports}var xe=fT();const Le=Er(xe);var p2={exports:{}},vg={},m2={exports:{}},g2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function DG(){return rO||(rO=1,(function(t){function e(ne,ie){var te=ne.length;ne.push(ie);e:for(;0<te;){var fe=te-1>>>1,be=ne[fe];if(0<i(be,ie))ne[fe]=ie,ne[te]=be,te=fe;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ie=ne[0],te=ne.pop();if(te!==ie){ne[0]=te;e:for(var fe=0,be=ne.length,re=be>>>1;fe<re;){var C=2*(fe+1)-1,H=ne[C],W=C+1,K=ne[W];if(0>i(H,te))W<be&&0>i(K,H)?(ne[fe]=K,ne[W]=te,fe=W):(ne[fe]=H,ne[C]=te,fe=C);else if(W<be&&0>i(K,te))ne[fe]=K,ne[W]=te,fe=W;else break e}}return ie}function i(ne,ie){var te=ne.sortIndex-ie.sortIndex;return te!==0?te:ne.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,m=null,g=3,y=!1,N=!1,A=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function U(ne){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ne)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function D(ne){if(A=!1,U(ne),!N)if(n(c)!==null)N=!0,q||(q=!0,L());else{var ie=n(f);ie!==null&&ce(D,ie.startTime-ne)}}var q=!1,P=-1,j=5,$=-1;function G(){return E?!0:!(t.unstable_now()-$<j)}function V(){if(E=!1,q){var ne=t.unstable_now();$=ne;var ie=!0;try{e:{N=!1,A&&(A=!1,O(P),P=-1),y=!0;var te=g;try{t:{for(U(ne),m=n(c);m!==null&&!(m.expirationTime>ne&&G());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,g=m.priorityLevel;var be=fe(m.expirationTime<=ne);if(ne=t.unstable_now(),typeof be=="function"){m.callback=be,U(ne),ie=!0;break t}m===n(c)&&r(c),U(ne)}else r(c);m=n(c)}if(m!==null)ie=!0;else{var re=n(f);re!==null&&ce(D,re.startTime-ne),ie=!1}}break e}finally{m=null,g=te,y=!1}ie=void 0}}finally{ie?L():q=!1}}}var L;if(typeof F=="function")L=function(){F(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,J=k.port2;k.port1.onmessage=V,L=function(){J.postMessage(null)}}else L=function(){I(V,0)};function ce(ne,ie){P=I(function(){ne(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var te=g;g=ie;try{return ne()}finally{g=te}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(ne,ie){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var te=g;g=ne;try{return ie()}finally{g=te}},t.unstable_scheduleCallback=function(ne,ie,te){var fe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,ne){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=te+be,ne={id:h++,callback:ie,priorityLevel:ne,startTime:te,expirationTime:be,sortIndex:-1},te>fe?(ne.sortIndex=te,e(f,ne),n(c)===null&&ne===n(f)&&(A?(O(P),P=-1):A=!0,ce(D,te-fe))):(ne.sortIndex=be,e(c,ne),N||y||(N=!0,q||(q=!0,L()))),ne},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(ne){var ie=g;return function(){var te=g;g=ie;try{return ne.apply(this,arguments)}finally{g=te}}}})(g2)),g2}var iO;function MG(){return iO||(iO=1,m2.exports=DG()),m2.exports}var v2={exports:{}},Ka={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aO;function LG(){if(aO)return Ka;aO=1;var t=fT();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ka.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},Ka.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},Ka.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Ka.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ka.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ka.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Ka.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ka.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Ka.requestFormReset=function(c){r.d.r(c)},Ka.unstable_batchedUpdates=function(c,f){return c(f)},Ka.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},Ka.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ka.version="19.2.3",Ka}var sO;function FG(){if(sO)return v2.exports;sO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v2.exports=LG(),v2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO;function UG(){if(oO)return vg;oO=1;var t=MG(),e=fT(),n=FG();function r(o){var d="https://react.dev/errors/"+o;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var d=o,p=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(p=d.return),o=d.return;while(o)}return d.tag===3?p:null}function s(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function l(o){if(o.tag===31){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var d=o.alternate;if(!d){if(d=a(o),d===null)throw Error(r(188));return d!==o?null:o}for(var p=o,v=d;;){var S=p.return;if(S===null)break;var R=S.alternate;if(R===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===p)return c(S),o;if(R===v)return c(S),d;R=R.sibling}throw Error(r(188))}if(p.return!==v.return)p=S,v=R;else{for(var ee=!1,ve=S.child;ve;){if(ve===p){ee=!0,p=S,v=R;break}if(ve===v){ee=!0,v=S,p=R;break}ve=ve.sibling}if(!ee){for(ve=R.child;ve;){if(ve===p){ee=!0,p=R,v=S;break}if(ve===v){ee=!0,v=R,p=S;break}ve=ve.sibling}if(!ee)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:d}function h(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o;for(o=o.child;o!==null;){if(d=h(o),d!==null)return d;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var k=Symbol.for("react.client.reference");function J(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===k?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case q:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case N:return"Portal";case F:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case U:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return d=o.displayName||null,d!==null?d:J(o.type)||"Memo";case j:d=o._payload,o=o._init;try{return J(o(d))}catch{}}return null}var ce=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},fe=[],be=-1;function re(o){return{current:o}}function C(o){0>be||(o.current=fe[be],fe[be]=null,be--)}function H(o,d){be++,fe[be]=o.current,o.current=d}var W=re(null),K=re(null),Q=re(null),he=re(null);function _e(o,d){switch(H(Q,d),H(K,o),H(W,null),d.nodeType){case 9:case 11:o=(o=d.documentElement)&&(o=o.namespaceURI)?w4(o):0;break;default:if(o=d.tagName,d=d.namespaceURI)d=w4(d),o=A4(d,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}C(W),H(W,o)}function ae(){C(W),C(K),C(Q)}function Ae(o){o.memoizedState!==null&&H(he,o);var d=W.current,p=A4(d,o.type);d!==p&&(H(K,o),H(W,p))}function Ce(o){K.current===o&&(C(W),C(K)),he.current===o&&(C(he),fg._currentValue=te)}var Ne,Se;function Te(o){if(Ne===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Ne=d&&d[1]||"",Se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+o+Se}var se=!1;function X(o,d){if(!o||se)return"";se=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(et){var Qe=et}Reflect.construct(o,[],ft)}else{try{ft.call()}catch(et){Qe=et}o.call(ft.prototype)}}else{try{throw Error()}catch(et){Qe=et}(ft=o())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(et){if(et&&Qe&&typeof et.stack=="string")return[et.stack,Qe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=v.DetermineComponentFrameRoot(),ee=R[0],ve=R[1];if(ee&&ve){var Ie=ee.split(`
`),We=ve.split(`
`);for(S=v=0;v<Ie.length&&!Ie[v].includes("DetermineComponentFrameRoot");)v++;for(;S<We.length&&!We[S].includes("DetermineComponentFrameRoot");)S++;if(v===Ie.length||S===We.length)for(v=Ie.length-1,S=We.length-1;1<=v&&0<=S&&Ie[v]!==We[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Ie[v]!==We[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Ie[v]!==We[S]){var at=`
`+Ie[v].replace(" at new "," at ");return o.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",o.displayName)),at}while(1<=v&&0<=S);break}}}finally{se=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Te(p):""}function De(o,d){switch(o.tag){case 26:case 27:case 5:return Te(o.type);case 16:return Te("Lazy");case 13:return o.child!==d&&d!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return X(o.type,!1);case 11:return X(o.type.render,!1);case 1:return X(o.type,!0);case 31:return Te("Activity");default:return""}}function Ke(o){try{var d="",p=null;do d+=De(o,p),p=o,o=o.return;while(o);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Me=Object.prototype.hasOwnProperty,Ye=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,rt=t.unstable_shouldYield,it=t.unstable_requestPaint,Xe=t.unstable_now,yt=t.unstable_getCurrentPriorityLevel,bt=t.unstable_ImmediatePriority,At=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,Tt=t.unstable_LowPriority,qt=t.unstable_IdlePriority,wt=t.log,Gn=t.unstable_setDisableYieldValue,en=null,Xn=null;function yn(o){if(typeof wt=="function"&&Gn(o),Xn&&typeof Xn.setStrictMode=="function")try{Xn.setStrictMode(en,o)}catch{}}var xn=Math.clz32?Math.clz32:ci,Ma=Math.log,gn=Math.LN2;function ci(o){return o>>>=0,o===0?32:31-(Ma(o)/gn|0)|0}var Bn=256,kr=262144,qr=4194304;function En(o){var d=o&42;if(d!==0)return d;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Mt(o,d,p){var v=o.pendingLanes;if(v===0)return 0;var S=0,R=o.suspendedLanes,ee=o.pingedLanes;o=o.warmLanes;var ve=v&134217727;return ve!==0?(v=ve&~R,v!==0?S=En(v):(ee&=ve,ee!==0?S=En(ee):p||(p=ve&~o,p!==0&&(S=En(p))))):(ve=v&~R,ve!==0?S=En(ve):ee!==0?S=En(ee):p||(p=v&~o,p!==0&&(S=En(p)))),S===0?0:d!==0&&d!==S&&(d&R)===0&&(R=S&-S,p=d&-d,R>=p||R===32&&(p&4194048)!==0)?d:S}function bn(o,d){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&d)===0}function xi(o,d){switch(o){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(){var o=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),o}function ui(o){for(var d=[],p=0;31>p;p++)d.push(o);return d}function bi(o,d){o.pendingLanes|=d,d!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ot(o,d,p,v,S,R){var ee=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var ve=o.entanglements,Ie=o.expirationTimes,We=o.hiddenUpdates;for(p=ee&~p;0<p;){var at=31-xn(p),ft=1<<at;ve[at]=0,Ie[at]=-1;var Qe=We[at];if(Qe!==null)for(We[at]=null,at=0;at<Qe.length;at++){var et=Qe[at];et!==null&&(et.lane&=-536870913)}p&=~ft}v!==0&&Ci(o,v,0),R!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=R&~(ee&~d))}function Ci(o,d,p){o.pendingLanes|=d,o.suspendedLanes&=~d;var v=31-xn(d);o.entangledLanes|=d,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function jr(o,d){var p=o.entangledLanes|=d;for(o=o.entanglements;p;){var v=31-xn(p),S=1<<v;S&d|o[v]&d&&(o[v]|=d),p&=~S}}function Br(o,d){var p=d&-d;return p=(p&42)!==0?1:cr(p),(p&(o.suspendedLanes|d))!==0?0:p}function cr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function pe(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ze(){var o=ie.p;return o!==0?o:(o=window.event,o===void 0?32:H4(o.type))}function Yt(o,d){var p=ie.p;try{return ie.p=o,d()}finally{ie.p=p}}var cn=Math.random().toString(36).slice(2),Gt="__reactFiber$"+cn,$t="__reactProps$"+cn,nn="__reactContainer$"+cn,Be="__reactEvents$"+cn,Ct="__reactListeners$"+cn,Bt="__reactHandles$"+cn,Dr="__reactResources$"+cn,Mr="__reactMarker$"+cn;function jn(o){delete o[Gt],delete o[$t],delete o[Be],delete o[Ct],delete o[Bt]}function Lr(o){var d=o[Gt];if(d)return d;for(var p=o.parentNode;p;){if(d=p[nn]||p[Gt]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(o=R4(o);o!==null;){if(p=o[Gt])return p;o=R4(o)}return d}o=p,p=o.parentNode}return null}function Hn(o){if(o=o[Gt]||o[nn]){var d=o.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return o}return null}function La(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o.stateNode;throw Error(r(33))}function cs(o){var d=o[Dr];return d||(d=o[Dr]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function $r(o){o[Mr]=!0}var Ws=new Set,Ks={};function zi(o,d){Fa(o,d),Fa(o+"Capture",d)}function Fa(o,d){for(Ks[o]=d,o=0;o<d.length;o++)Ws.add(d[o])}var _f=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},$c={};function Qo(o){return Me.call($c,o)?!0:Me.call(Ul,o)?!1:_f.test(o)?$c[o]=!0:(Ul[o]=!0,!1)}function _o(o,d,p){if(Qo(d))if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(d);return}}o.setAttribute(d,""+p)}}function ur(o,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttribute(d,""+p)}}function xa(o,d,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(d,p,""+v)}}function Ii(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function zc(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Gc(o,d,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,d);if(!o.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,R=v.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return S.call(this)},set:function(ee){p=""+ee,R.call(this,ee)}}),Object.defineProperty(o,d,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(ee){p=""+ee},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Vl(o){if(!o._valueTracker){var d=zc(o)?"checked":"value";o._valueTracker=Gc(o,d,""+o[d])}}function ba(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var p=d.getValue(),v="";return o&&(v=zc(o)?o.checked?"true":"false":o.value),o=v,o!==p?(d.setValue(o),!0):!1}function Ys(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Jr=/[\n"\\]/g;function xr(o){return o.replace(Jr,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Xs(o,d,p,v,S,R,ee,ve){o.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.type=ee:o.removeAttribute("type"),d!=null?ee==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+Ii(d)):o.value!==""+Ii(d)&&(o.value=""+Ii(d)):ee!=="submit"&&ee!=="reset"||o.removeAttribute("value"),d!=null?el(o,ee,Ii(d)):p!=null?el(o,ee,Ii(p)):v!=null&&o.removeAttribute("value"),S==null&&R!=null&&(o.defaultChecked=!!R),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?o.name=""+Ii(ve):o.removeAttribute("name")}function Zo(o,d,p,v,S,R,ee,ve){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),d!=null||p!=null){if(!(R!=="submit"&&R!=="reset"||d!=null)){Vl(o);return}p=p!=null?""+Ii(p):"",d=d!=null?""+Ii(d):p,ve||d===o.value||(o.value=d),o.defaultValue=d}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=ve?o.checked:!!v,o.defaultChecked=!!v,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(o.name=ee),Vl(o)}function el(o,d,p){d==="number"&&Ys(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Dn(o,d,p,v){if(o=o.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<o.length;p++)S=d.hasOwnProperty("$"+o[p].value),o[p].selected!==S&&(o[p].selected=S),S&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Ii(p),d=null,S=0;S<o.length;S++){if(o[S].value===p){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}d!==null||o[S].disabled||(d=o[S])}d!==null&&(d.selected=!0)}}function wo(o,d,p){if(d!=null&&(d=""+Ii(d),d!==o.value&&(o.value=d),p==null)){o.defaultValue!==d&&(o.defaultValue=d);return}o.defaultValue=p!=null?""+Ii(p):""}function Ao(o,d,p,v){if(d==null){if(v!=null){if(p!=null)throw Error(r(92));if(ce(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),d=p}p=Ii(d),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),Vl(o)}function ia(o,d){if(d){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=d;return}}o.textContent=d}var wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(o,d,p){var v=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="":v?o.setProperty(d,p):typeof p!="number"||p===0||wf.has(d)?d==="float"?o.cssFloat=p:o[d]=(""+p).trim():o[d]=p+"px"}function Hu(o,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var S in d)v=d[S],d.hasOwnProperty(S)&&p[S]!==v&&Hc(o,S,v)}else for(var R in d)d.hasOwnProperty(R)&&Hc(o,R,d[R])}function us(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(o){return Bl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function $n(){}var $l=null;function tl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ht=null,_a=null;function Wu(o){var d=Hn(o);if(d&&(o=d.stateNode)){var p=o[$t]||null;e:switch(o=d.stateNode,d.type){case"input":if(Xs(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+xr(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var v=p[d];if(v!==o&&v.form===o.form){var S=v[$t]||null;if(!S)throw Error(r(90));Xs(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<p.length;d++)v=p[d],v.form===o.form&&ba(v)}break e;case"textarea":wo(o,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Dn(o,!!p.multiple,d,!1)}}}var Ua=!1;function Wc(o,d,p){if(Ua)return o(d,p);Ua=!0;try{var v=o(d);return v}finally{if(Ua=!1,(Ht!==null||_a!==null)&&(Hv(),Ht&&(d=Ht,o=_a,_a=Ht=null,Wu(d),o)))for(d=0;d<o.length;d++)Wu(o[d])}}function Gi(o,d){var p=o.stateNode;if(p===null)return null;var v=p[$t]||null;if(v===null)return null;p=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=!1;if(aa)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{nl=!1}var wa=null,zl=null,Va=null;function qa(){if(Va)return Va;var o,d=zl,p=d.length,v,S="value"in wa?wa.value:wa.textContent,R=S.length;for(o=0;o<p&&d[o]===S[o];o++);var ee=p-o;for(v=1;v<=ee&&d[p-v]===S[R-v];v++);return Va=S.slice(o,1<v?1-v:void 0)}function Ba(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Eo(){return!0}function Jn(){return!1}function di(o){function d(p,v,S,R,ee){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=R,this.target=ee,this.currentTarget=null;for(var ve in o)o.hasOwnProperty(ve)&&(p=o[ve],this[ve]=p?p(R):R[ve]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Eo:Jn,this.isPropagationStopped=Jn,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),d}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=di($a),Js=m({},$a,{view:0,detail:0}),Kc=di(Js),Qs,Aa,zr,rl=m({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==zr&&(zr&&o.type==="mousemove"?(Qs=o.screenX-zr.screenX,Aa=o.screenY-zr.screenY):Aa=Qs=0,zr=o),Qs)},movementY:function(o){return"movementY"in o?o.movementY:Aa}}),Zs=di(rl),Hi=m({},rl,{dataTransfer:0}),Gl=di(Hi),eo=m({},Js,{relatedTarget:0}),No=di(eo),il=m({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=di(il),Yc=m({},$a,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Wl=di(Yc),To=m({},$a,{data:0}),Co=di(To),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},al={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=Yl[o])?!!d[o]:!1}function fs(){return Ku}var Io=m({},Js,{key:function(o){if(o.key){var d=Kl[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Ba(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?al[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(o){return o.type==="keypress"?Ba(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ba(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xl=di(Io),sa=m({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=di(sa),M=m({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),oe=di(M),Ee=m({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Re=di(Ee),Ve=m({},rl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=di(Ve),mt=m({},$a,{newState:0,oldState:0}),Nt=di(mt),_=[9,13,27,32],z=aa&&"CompositionEvent"in window,Z=null;aa&&"documentMode"in document&&(Z=document.documentMode);var ge=aa&&"TextEvent"in window&&!Z,Fe=aa&&(!z||Z&&8<Z&&11>=Z),Ge=" ",gt=!1;function on(o,d){switch(o){case"keyup":return _.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Jt=!1;function Zn(o,d){switch(o){case"compositionend":return Sn(d);case"keypress":return d.which!==32?null:(gt=!0,Ge);case"textInput":return o=d.data,o===Ge&&gt?null:o;default:return null}}function pr(o,d){if(Jt)return o==="compositionend"||!z&&on(o,d)?(o=qa(),Va=zl=wa=null,Jt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Fe&&d.locale!=="ko"?null:d.data;default:return null}}var to={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!to[o.type]:d==="textarea"}function no(o,d,p,v){Ht?_a?_a.push(v):_a=[v]:Ht=v,d=Zv(d,"onChange"),0<d.length&&(p=new So("onChange","change",null,p,v),o.push({event:p,listeners:d}))}var za=null,ol=null;function Af(o){g4(o,0)}function ll(o){var d=La(o);if(ba(d))return o}function Oi(o,d){if(o==="change")return d}var Xc=!1;if(aa){var Jl;if(aa){var Ql="oninput"in document;if(!Ql){var Yu=document.createElement("div");Yu.setAttribute("oninput","return;"),Ql=typeof Yu.oninput=="function"}Jl=Ql}else Jl=!1;Xc=Jl&&(!document.documentMode||9<document.documentMode)}function Ea(){za&&(za.detachEvent("onpropertychange",Eh),ol=za=null)}function Eh(o){if(o.propertyName==="value"&&ll(ol)){var d=[];no(d,ol,o,tl(o)),Wc(Af,d)}}function Ef(o,d,p){o==="focusin"?(Ea(),za=d,ol=p,za.attachEvent("onpropertychange",Eh)):o==="focusout"&&Ea()}function Sh(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ll(ol)}function Ts(o,d){if(o==="click")return ll(d)}function Xu(o,d){if(o==="input"||o==="change")return ll(d)}function Nh(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var oa=typeof Object.is=="function"?Object.is:Nh;function Cs(o,d){if(oa(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var p=Object.keys(o),v=Object.keys(d);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!Me.call(d,S)||!oa(o[S],d[S]))return!1}return!0}function Zl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Sa(o,d){var p=Zl(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=d&&v>=d)return{node:p,offset:d-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Zl(p)}}function la(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?la(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function cl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var d=Ys(o.document);d instanceof o.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)o=d.contentWindow;else break;d=Ys(o.document)}return d}function ro(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}var ul=aa&&"documentMode"in document&&11>=document.documentMode,io=null,ao=null,Sr=null,Jc=!1;function ca(o,d,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Jc||io==null||io!==Ys(v)||(v=io,"selectionStart"in v&&ro(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Sr&&Cs(Sr,v)||(Sr=v,v=Zv(ao,"onSelect"),0<v.length&&(d=new So("onSelect","select",null,d,p),o.push({event:d,listeners:v}),d.target=io)))}function ki(o,d){var p={};return p[o.toLowerCase()]=d.toLowerCase(),p["Webkit"+o]="webkit"+d,p["Moz"+o]="moz"+d,p}var so={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Ju={},Qu={};aa&&(Qu=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function hs(o){if(Ju[o])return Ju[o];if(!so[o])return o;var d=so[o],p;for(p in d)if(d.hasOwnProperty(p)&&p in Qu)return Ju[o]=d[p];return o}var ec=hs("animationend"),dl=hs("animationiteration"),tc=hs("animationstart"),Zu=hs("transitionrun"),Qc=hs("transitionstart"),nc=hs("transitioncancel"),ed=hs("transitionend"),ps=new Map,Ga="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ga.push("scrollEnd");function Cn(o,d){ps.set(o,d),zi(d,[o])}var sr=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Wn=[],Fr=0,oo=0;function rc(){for(var o=Fr,d=oo=Fr=0;d<o;){var p=Wn[d];Wn[d++]=null;var v=Wn[d];Wn[d++]=null;var S=Wn[d];Wn[d++]=null;var R=Wn[d];if(Wn[d++]=null,v!==null&&S!==null){var ee=v.pending;ee===null?S.next=S:(S.next=ee.next,ee.next=S),v.pending=S}R!==0&&Sf(p,S,R)}}function fl(o,d,p,v){Wn[Fr++]=o,Wn[Fr++]=d,Wn[Fr++]=p,Wn[Fr++]=v,oo|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function td(o,d,p,v){return fl(o,d,p,v),ua(o)}function hl(o,d){return fl(o,null,null,d),ua(o)}function Sf(o,d,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var S=!1,R=o.return;R!==null;)R.childLanes|=p,v=R.alternate,v!==null&&(v.childLanes|=p),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(S=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,S&&d!==null&&(S=31-xn(p),o=R.hiddenUpdates,v=o[S],v===null?o[S]=[d]:v.push(d),d.lane=p|536870912),R):null}function ua(o){if(50<ag)throw ag=0,M_=null,Error(r(185));for(var d=o.return;d!==null;)o=d,d=o.return;return o.tag===3?o.stateNode:null}var Wi={};function Th(o,d,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(o,d,p,v){return new Th(o,d,p,v)}function Ch(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Is(o,d){var p=o.alternate;return p===null?(p=da(o.tag,d,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=d,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,d=o.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Nf(o,d){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=d,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,d=p.dependencies,o.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),o}function nd(o,d,p,v,S,R){var ee=0;if(v=o,typeof o=="function")Ch(o)&&(ee=1);else if(typeof o=="string")ee=bG(o,p,W.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=da(31,p,d,S),o.elementType=$,o.lanes=R,o;case A:return ic(p.children,S,R,d);case E:ee=8,S|=24;break;case I:return o=da(12,p,d,S|2),o.elementType=I,o.lanes=R,o;case D:return o=da(13,p,d,S),o.elementType=D,o.lanes=R,o;case q:return o=da(19,p,d,S),o.elementType=q,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:ee=10;break e;case O:ee=9;break e;case U:ee=11;break e;case P:ee=14;break e;case j:ee=16,v=null;break e}ee=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return d=da(ee,p,d,S),d.elementType=o,d.type=v,d.lanes=R,d}function ic(o,d,p,v){return o=da(7,o,v,d),o.lanes=p,o}function Tf(o,d,p){return o=da(6,o,null,d),o.lanes=p,o}function Ih(o){var d=da(18,null,null,0);return d.stateNode=o,d}function rd(o,d,p){return d=da(4,o.children!==null?o.children:[],o.key,d),d.lanes=p,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}var Rh=new WeakMap;function Rs(o,d){if(typeof o=="object"&&o!==null){var p=Rh.get(o);return p!==void 0?p:(d={value:o,source:d,stack:Ke(d)},Rh.set(o,d),d)}return{value:o,source:d,stack:Ke(d)}}var id=[],Zc=0,Oh=null,Cf=0,Os=[],ks=0,ac=null,Ps=1,js="";function ms(o,d){id[Zc++]=Cf,id[Zc++]=Oh,Oh=o,Cf=d}function Sv(o,d,p){Os[ks++]=Ps,Os[ks++]=js,Os[ks++]=ac,ac=o;var v=Ps;o=js;var S=32-xn(v)-1;v&=~(1<<S),p+=1;var R=32-xn(d)+S;if(30<R){var ee=S-S%5;R=(v&(1<<ee)-1).toString(32),v>>=ee,S-=ee,Ps=1<<32-xn(d)+S|p<<S|v,js=R+o}else Ps=1<<R|p<<S|v,js=o}function Fm(o){o.return!==null&&(ms(o,1),Sv(o,1,0))}function kh(o){for(;o===Oh;)Oh=id[--Zc],id[Zc]=null,Cf=id[--Zc],id[Zc]=null;for(;o===ac;)ac=Os[--ks],Os[ks]=null,js=Os[--ks],Os[ks]=null,Ps=Os[--ks],Os[ks]=null}function Nv(o,d){Os[ks++]=Ps,Os[ks++]=js,Os[ks++]=ac,Ps=d.id,js=d.overflow,ac=o}var Ki=null,Nr=null,In=!1,Na=null,Qr=!1,lo=Error(r(519));function sc(o){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ad(Rs(d,o)),lo}function Um(o){var d=o.stateNode,p=o.type,v=o.memoizedProps;switch(d[Gt]=o,d[$t]=v,p){case"dialog":kn("cancel",d),kn("close",d);break;case"iframe":case"object":case"embed":kn("load",d);break;case"video":case"audio":for(p=0;p<og.length;p++)kn(og[p],d);break;case"source":kn("error",d);break;case"img":case"image":case"link":kn("error",d),kn("load",d);break;case"details":kn("toggle",d);break;case"input":kn("invalid",d),Zo(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":kn("invalid",d);break;case"textarea":kn("invalid",d),Ao(d,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||v.suppressHydrationWarning===!0||b4(d.textContent,p)?(v.popover!=null&&(kn("beforetoggle",d),kn("toggle",d)),v.onScroll!=null&&kn("scroll",d),v.onScrollEnd!=null&&kn("scrollend",d),v.onClick!=null&&(d.onclick=$n),d=!0):d=!1,d||sc(o,!0)}function pl(o){for(Ki=o.return;Ki;)switch(Ki.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Ki=Ki.return}}function Yi(o){if(o!==Ki)return!1;if(!In)return pl(o),In=!0,!1;var d=o.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||J_(o.type,o.memoizedProps)),p=!p),p&&Nr&&sc(o),pl(o),d===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Nr=I4(o)}else if(d===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Nr=I4(o)}else d===27?(d=Nr,xd(o.type)?(o=n2,n2=null,Nr=o):Nr=d):Nr=Ki?Mo(o.stateNode.nextSibling):null;return!0}function eu(){Nr=Ki=null,In=!1}function Vm(){var o=Na;return o!==null&&(Vs===null?Vs=o:Vs.push.apply(Vs,o),Na=null),o}function ad(o){Na===null?Na=[o]:Na.push(o)}var Ph=re(null),oc=null,Ro=null;function lc(o,d,p){H(Ph,d._currentValue),d._currentValue=p}function Ds(o){o._currentValue=Ph.current,C(Ph)}function sd(o,d,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),o===p)break;o=o.return}}function tu(o,d,p,v){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var R=S.dependencies;if(R!==null){var ee=S.child;R=R.firstContext;e:for(;R!==null;){var ve=R;R=S;for(var Ie=0;Ie<d.length;Ie++)if(ve.context===d[Ie]){R.lanes|=p,ve=R.alternate,ve!==null&&(ve.lanes|=p),sd(R.return,p,o),v||(ee=null);break e}R=ve.next}}else if(S.tag===18){if(ee=S.return,ee===null)throw Error(r(341));ee.lanes|=p,R=ee.alternate,R!==null&&(R.lanes|=p),sd(ee,p,o),ee=null}else ee=S.child;if(ee!==null)ee.return=S;else for(ee=S;ee!==null;){if(ee===o){ee=null;break}if(S=ee.sibling,S!==null){S.return=ee.return,ee=S;break}ee=ee.return}S=ee}}function cc(o,d,p,v){o=null;for(var S=d,R=!1;S!==null;){if(!R){if((S.flags&524288)!==0)R=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var ee=S.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var ve=S.type;oa(S.pendingProps.value,ee.value)||(o!==null?o.push(ve):o=[ve])}}else if(S===he.current){if(ee=S.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(fg):o=[fg])}S=S.return}o!==null&&tu(d,o,p,v),d.flags|=262144}function jh(o){for(o=o.firstContext;o!==null;){if(!oa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function uc(o){oc=o,Ro=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Xi(o){return Tv(oc,o)}function Dh(o,d){return oc===null&&uc(o),Tv(o,d)}function Tv(o,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Ro===null){if(o===null)throw Error(r(308));Ro=d,o.dependencies={lanes:0,firstContext:d},o.flags|=524288}else Ro=Ro.next=d;return p}var t_=typeof AbortController<"u"?AbortController:function(){var o=[],d=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){d.aborted=!0,o.forEach(function(p){return p()})}},n_=t.unstable_scheduleCallback,r_=t.unstable_NormalPriority,ai={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new t_,data:new Map,refCount:0}}function If(o){o.refCount--,o.refCount===0&&n_(r_,function(){o.controller.abort()})}var Rf=null,Mh=0,b=0,T=null;function B(o,d){if(Rf===null){var p=Rf=[];Mh=0,b=B_(),T={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Mh++,d.then(Y,Y),d}function Y(){if(--Mh===0&&Rf!==null){T!==null&&(T.status="fulfilled");var o=Rf;Rf=null,b=0,T=null;for(var d=0;d<o.length;d++)(0,o[d])()}}function le(o,d){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return o.then(function(){v.status="fulfilled",v.value=d;for(var S=0;S<p.length;S++)(0,p[S])(d)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var ue=ne.S;ne.S=function(o,d){zR=Xe(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&B(o,d),ue!==null&&ue(o,d)};var de=re(null);function me(){var o=de.current;return o!==null?o:Cr.pooledCache}function ye(o,d){d===null?H(de,de.current):H(de,d.pool)}function we(){var o=me();return o===null?null:{parent:ai._currentValue,pool:o}}var Oe=Error(r(460)),ze=Error(r(474)),$e=Error(r(542)),Ue={then:function(){}};function dt(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tt(o,d,p){switch(p=o[p],p===void 0?o.push(d):p!==d&&(d.then($n,$n),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,pt(o),o;default:if(typeof d.status=="string")d.then($n,$n);else{if(o=Cr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=d,o.status="pending",o.then(function(v){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=v}},function(v){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,pt(o),o}throw je=d,Oe}}function ke(o){try{var d=o._init;return d(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(je=p,Oe):p}}var je=null;function lt(){if(je===null)throw Error(r(459));var o=je;return je=null,o}function pt(o){if(o===Oe||o===$e)throw Error(r(483))}var ot=null,It=0;function Et(o){var d=It;return It+=1,ot===null&&(ot=[]),tt(ot,o,d)}function zt(o,d){d=d.props.ref,o.ref=d!==void 0?d:null}function St(o,d){throw d.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o)))}function Kn(o){function d(qe,Pe){if(o){var He=qe.deletions;He===null?(qe.deletions=[Pe],qe.flags|=16):He.push(Pe)}}function p(qe,Pe){if(!o)return null;for(;Pe!==null;)d(qe,Pe),Pe=Pe.sibling;return null}function v(qe){for(var Pe=new Map;qe!==null;)qe.key!==null?Pe.set(qe.key,qe):Pe.set(qe.index,qe),qe=qe.sibling;return Pe}function S(qe,Pe){return qe=Is(qe,Pe),qe.index=0,qe.sibling=null,qe}function R(qe,Pe,He){return qe.index=He,o?(He=qe.alternate,He!==null?(He=He.index,He<Pe?(qe.flags|=67108866,Pe):He):(qe.flags|=67108866,Pe)):(qe.flags|=1048576,Pe)}function ee(qe){return o&&qe.alternate===null&&(qe.flags|=67108866),qe}function ve(qe,Pe,He,ct){return Pe===null||Pe.tag!==6?(Pe=Tf(He,qe.mode,ct),Pe.return=qe,Pe):(Pe=S(Pe,He),Pe.return=qe,Pe)}function Ie(qe,Pe,He,ct){var Wt=He.type;return Wt===A?at(qe,Pe,He.props.children,ct,He.key):Pe!==null&&(Pe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===j&&ke(Wt)===Pe.type)?(Pe=S(Pe,He.props),zt(Pe,He),Pe.return=qe,Pe):(Pe=nd(He.type,He.key,He.props,null,qe.mode,ct),zt(Pe,He),Pe.return=qe,Pe)}function We(qe,Pe,He,ct){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==He.containerInfo||Pe.stateNode.implementation!==He.implementation?(Pe=rd(He,qe.mode,ct),Pe.return=qe,Pe):(Pe=S(Pe,He.children||[]),Pe.return=qe,Pe)}function at(qe,Pe,He,ct,Wt){return Pe===null||Pe.tag!==7?(Pe=ic(He,qe.mode,ct,Wt),Pe.return=qe,Pe):(Pe=S(Pe,He),Pe.return=qe,Pe)}function ft(qe,Pe,He){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Tf(""+Pe,qe.mode,He),Pe.return=qe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return He=nd(Pe.type,Pe.key,Pe.props,null,qe.mode,He),zt(He,Pe),He.return=qe,He;case N:return Pe=rd(Pe,qe.mode,He),Pe.return=qe,Pe;case j:return Pe=ke(Pe),ft(qe,Pe,He)}if(ce(Pe)||L(Pe))return Pe=ic(Pe,qe.mode,He,null),Pe.return=qe,Pe;if(typeof Pe.then=="function")return ft(qe,Et(Pe),He);if(Pe.$$typeof===F)return ft(qe,Dh(qe,Pe),He);St(qe,Pe)}return null}function Qe(qe,Pe,He,ct){var Wt=Pe!==null?Pe.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Wt!==null?null:ve(qe,Pe,""+He,ct);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return He.key===Wt?Ie(qe,Pe,He,ct):null;case N:return He.key===Wt?We(qe,Pe,He,ct):null;case j:return He=ke(He),Qe(qe,Pe,He,ct)}if(ce(He)||L(He))return Wt!==null?null:at(qe,Pe,He,ct,null);if(typeof He.then=="function")return Qe(qe,Pe,Et(He),ct);if(He.$$typeof===F)return Qe(qe,Pe,Dh(qe,He),ct);St(qe,He)}return null}function et(qe,Pe,He,ct,Wt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return qe=qe.get(He)||null,ve(Pe,qe,""+ct,Wt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case y:return qe=qe.get(ct.key===null?He:ct.key)||null,Ie(Pe,qe,ct,Wt);case N:return qe=qe.get(ct.key===null?He:ct.key)||null,We(Pe,qe,ct,Wt);case j:return ct=ke(ct),et(qe,Pe,He,ct,Wt)}if(ce(ct)||L(ct))return qe=qe.get(He)||null,at(Pe,qe,ct,Wt,null);if(typeof ct.then=="function")return et(qe,Pe,He,Et(ct),Wt);if(ct.$$typeof===F)return et(qe,Pe,He,Dh(Pe,ct),Wt);St(Pe,ct)}return null}function Ft(qe,Pe,He,ct){for(var Wt=null,tr=null,Vt=Pe,_n=Pe=0,Fn=null;Vt!==null&&_n<He.length;_n++){Vt.index>_n?(Fn=Vt,Vt=null):Fn=Vt.sibling;var nr=Qe(qe,Vt,He[_n],ct);if(nr===null){Vt===null&&(Vt=Fn);break}o&&Vt&&nr.alternate===null&&d(qe,Vt),Pe=R(nr,Pe,_n),tr===null?Wt=nr:tr.sibling=nr,tr=nr,Vt=Fn}if(_n===He.length)return p(qe,Vt),In&&ms(qe,_n),Wt;if(Vt===null){for(;_n<He.length;_n++)Vt=ft(qe,He[_n],ct),Vt!==null&&(Pe=R(Vt,Pe,_n),tr===null?Wt=Vt:tr.sibling=Vt,tr=Vt);return In&&ms(qe,_n),Wt}for(Vt=v(Vt);_n<He.length;_n++)Fn=et(Vt,qe,_n,He[_n],ct),Fn!==null&&(o&&Fn.alternate!==null&&Vt.delete(Fn.key===null?_n:Fn.key),Pe=R(Fn,Pe,_n),tr===null?Wt=Fn:tr.sibling=Fn,tr=Fn);return o&&Vt.forEach(function(Ed){return d(qe,Ed)}),In&&ms(qe,_n),Wt}function Zt(qe,Pe,He,ct){if(He==null)throw Error(r(151));for(var Wt=null,tr=null,Vt=Pe,_n=Pe=0,Fn=null,nr=He.next();Vt!==null&&!nr.done;_n++,nr=He.next()){Vt.index>_n?(Fn=Vt,Vt=null):Fn=Vt.sibling;var Ed=Qe(qe,Vt,nr.value,ct);if(Ed===null){Vt===null&&(Vt=Fn);break}o&&Vt&&Ed.alternate===null&&d(qe,Vt),Pe=R(Ed,Pe,_n),tr===null?Wt=Ed:tr.sibling=Ed,tr=Ed,Vt=Fn}if(nr.done)return p(qe,Vt),In&&ms(qe,_n),Wt;if(Vt===null){for(;!nr.done;_n++,nr=He.next())nr=ft(qe,nr.value,ct),nr!==null&&(Pe=R(nr,Pe,_n),tr===null?Wt=nr:tr.sibling=nr,tr=nr);return In&&ms(qe,_n),Wt}for(Vt=v(Vt);!nr.done;_n++,nr=He.next())nr=et(Vt,qe,_n,nr.value,ct),nr!==null&&(o&&nr.alternate!==null&&Vt.delete(nr.key===null?_n:nr.key),Pe=R(nr,Pe,_n),tr===null?Wt=nr:tr.sibling=nr,tr=nr);return o&&Vt.forEach(function(OG){return d(qe,OG)}),In&&ms(qe,_n),Wt}function wr(qe,Pe,He,ct){if(typeof He=="object"&&He!==null&&He.type===A&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case y:e:{for(var Wt=He.key;Pe!==null;){if(Pe.key===Wt){if(Wt=He.type,Wt===A){if(Pe.tag===7){p(qe,Pe.sibling),ct=S(Pe,He.props.children),ct.return=qe,qe=ct;break e}}else if(Pe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===j&&ke(Wt)===Pe.type){p(qe,Pe.sibling),ct=S(Pe,He.props),zt(ct,He),ct.return=qe,qe=ct;break e}p(qe,Pe);break}else d(qe,Pe);Pe=Pe.sibling}He.type===A?(ct=ic(He.props.children,qe.mode,ct,He.key),ct.return=qe,qe=ct):(ct=nd(He.type,He.key,He.props,null,qe.mode,ct),zt(ct,He),ct.return=qe,qe=ct)}return ee(qe);case N:e:{for(Wt=He.key;Pe!==null;){if(Pe.key===Wt)if(Pe.tag===4&&Pe.stateNode.containerInfo===He.containerInfo&&Pe.stateNode.implementation===He.implementation){p(qe,Pe.sibling),ct=S(Pe,He.children||[]),ct.return=qe,qe=ct;break e}else{p(qe,Pe);break}else d(qe,Pe);Pe=Pe.sibling}ct=rd(He,qe.mode,ct),ct.return=qe,qe=ct}return ee(qe);case j:return He=ke(He),wr(qe,Pe,He,ct)}if(ce(He))return Ft(qe,Pe,He,ct);if(L(He)){if(Wt=L(He),typeof Wt!="function")throw Error(r(150));return He=Wt.call(He),Zt(qe,Pe,He,ct)}if(typeof He.then=="function")return wr(qe,Pe,Et(He),ct);if(He.$$typeof===F)return wr(qe,Pe,Dh(qe,He),ct);St(qe,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Pe!==null&&Pe.tag===6?(p(qe,Pe.sibling),ct=S(Pe,He),ct.return=qe,qe=ct):(p(qe,Pe),ct=Tf(He,qe.mode,ct),ct.return=qe,qe=ct),ee(qe)):p(qe,Pe)}return function(qe,Pe,He,ct){try{It=0;var Wt=wr(qe,Pe,He,ct);return ot=null,Wt}catch(Vt){if(Vt===Oe||Vt===$e)throw Vt;var tr=da(29,Vt,null,qe.mode);return tr.lanes=ct,tr.return=qe,tr}finally{}}}var Rn=Kn(!0),Mn=Kn(!1),un=!1;function or(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function er(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function mr(o,d,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(lr&2)!==0){var S=v.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),v.pending=d,d=ua(o),Sf(o,null,p),d}return fl(o,v,d,p),ua(o)}function Pi(o,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var v=d.lanes;v&=o.pendingLanes,p|=v,d.lanes=p,jr(o,p)}}function Zr(o,d){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var ee={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};R===null?S=R=ee:R=R.next=ee,p=p.next}while(p!==null);R===null?S=R=d:R=R.next=d}else S=R=d;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=d}var fa=!1;function zn(){if(fa){var o=T;if(o!==null)throw o}}function Ji(o,d,p,v){fa=!1;var S=o.updateQueue;un=!1;var R=S.firstBaseUpdate,ee=S.lastBaseUpdate,ve=S.shared.pending;if(ve!==null){S.shared.pending=null;var Ie=ve,We=Ie.next;Ie.next=null,ee===null?R=We:ee.next=We,ee=Ie;var at=o.alternate;at!==null&&(at=at.updateQueue,ve=at.lastBaseUpdate,ve!==ee&&(ve===null?at.firstBaseUpdate=We:ve.next=We,at.lastBaseUpdate=Ie))}if(R!==null){var ft=S.baseState;ee=0,at=We=Ie=null,ve=R;do{var Qe=ve.lane&-536870913,et=Qe!==ve.lane;if(et?(Ln&Qe)===Qe:(v&Qe)===Qe){Qe!==0&&Qe===b&&(fa=!0),at!==null&&(at=at.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var Ft=o,Zt=ve;Qe=d;var wr=p;switch(Zt.tag){case 1:if(Ft=Zt.payload,typeof Ft=="function"){ft=Ft.call(wr,ft,Qe);break e}ft=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Zt.payload,Qe=typeof Ft=="function"?Ft.call(wr,ft,Qe):Ft,Qe==null)break e;ft=m({},ft,Qe);break e;case 2:un=!0}}Qe=ve.callback,Qe!==null&&(o.flags|=64,et&&(o.flags|=8192),et=S.callbacks,et===null?S.callbacks=[Qe]:et.push(Qe))}else et={lane:Qe,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},at===null?(We=at=et,Ie=ft):at=at.next=et,ee|=Qe;if(ve=ve.next,ve===null){if(ve=S.shared.pending,ve===null)break;et=ve,ve=et.next,et.next=null,S.lastBaseUpdate=et,S.shared.pending=null}}while(!0);at===null&&(Ie=ft),S.baseState=Ie,S.firstBaseUpdate=We,S.lastBaseUpdate=at,R===null&&(S.shared.lanes=0),pd|=ee,o.lanes=ee,o.memoizedState=ft}}function Ha(o,d){if(typeof o!="function")throw Error(r(191,o));o.call(d)}function _i(o,d){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Ha(p[o],d)}var ei=re(null),ji=re(0);function gs(o,d){o=hu,H(ji,o),H(ei,d),hu=o|d.baseLanes}function Ms(){H(ji,hu),H(ei,ei.current)}function fi(){hu=ji.current,C(ei),C(ji)}var si=re(null),Di=null;function vs(o){var d=o.alternate;H(ti,ti.current&1),H(si,o),Di===null&&(d===null||ei.current!==null||d.memoizedState!==null)&&(Di=o)}function Oo(o){H(ti,ti.current),H(si,o),Di===null&&(Di=o)}function Gr(o){o.tag===22?(H(ti,ti.current),H(si,o),Di===null&&(Di=o)):ko()}function ko(){H(ti,ti.current),H(si,si.current)}function Wa(o){C(si),Di===o&&(Di=null),C(ti)}var ti=re(0);function nu(o){for(var d=o;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||e2(p)||t2(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ys=0,ln=null,An=null,Tr=null,ml=!1,ru=!1,Po=!1,Of=0,dc=0,fc=null,Lh=0;function br(){throw Error(r(321))}function qm(o,d){if(d===null)return!1;for(var p=0;p<d.length&&p<o.length;p++)if(!oa(o[p],d[p]))return!1;return!0}function Bm(o,d,p,v,S,R){return ys=R,ln=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=o===null||o.memoizedState===null?tR:d_,Po=!1,R=p(v,S),Po=!1,ru&&(R=gl(d,p,v,S)),Fh(o),R}function Fh(o){ne.H=Xm;var d=An!==null&&An.next!==null;if(ys=0,Tr=An=ln=null,ml=!1,dc=0,fc=null,d)throw Error(r(300));o===null||Li||(o=o.dependencies,o!==null&&jh(o)&&(Li=!0))}function gl(o,d,p,v){ln=o;var S=0;do{if(ru&&(fc=null),dc=0,ru=!1,25<=S)throw Error(r(301));if(S+=1,Tr=An=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}ne.H=nR,R=d(p,v)}while(ru);return R}function i_(){var o=ne.H,d=o.useState()[0];return d=typeof d.then=="function"?hc(d):d,o=o.useState()[0],(An!==null?An.memoizedState:null)!==o&&(ln.flags|=1024),d}function $m(){var o=Of!==0;return Of=0,o}function zm(o,d,p){d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~p}function Uh(o){if(ml){for(o=o.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}ml=!1}ys=0,Tr=An=ln=null,ru=!1,dc=Of=0,fc=null}function Mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?ln.memoizedState=Tr=o:Tr=Tr.next=o,Tr}function ni(){if(An===null){var o=ln.alternate;o=o!==null?o.memoizedState:null}else o=An.next;var d=Tr===null?ln.memoizedState:Tr.next;if(d!==null)Tr=d,An=o;else{if(o===null)throw ln.alternate===null?Error(r(467)):Error(r(310));An=o,o={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Tr===null?ln.memoizedState=Tr=o:Tr=Tr.next=o}return Tr}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hc(o){var d=dc;return dc+=1,fc===null&&(fc=[]),o=tt(fc,o,d),d=ln,(Tr===null?d.memoizedState:Tr.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?tR:d_),o}function ld(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hc(o);if(o.$$typeof===F)return Xi(o)}throw Error(r(438,String(o)))}function iu(o){var d=null,p=ln.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var v=ln.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=kf(),ln.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(o),v=0;v<o;v++)p[v]=G;return d.index++,p}function jo(o,d){return typeof d=="function"?d(o):d}function Vh(o){var d=ni();return cd(d,An,o)}function cd(o,d,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var S=o.baseQueue,R=v.pending;if(R!==null){if(S!==null){var ee=S.next;S.next=R.next,R.next=ee}d.baseQueue=S=R,v.pending=null}if(R=o.baseState,S===null)o.memoizedState=R;else{d=S.next;var ve=ee=null,Ie=null,We=d,at=!1;do{var ft=We.lane&-536870913;if(ft!==We.lane?(Ln&ft)===ft:(ys&ft)===ft){var Qe=We.revertLane;if(Qe===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),ft===b&&(at=!0);else if((ys&Qe)===Qe){We=We.next,Qe===b&&(at=!0);continue}else ft={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ie===null?(ve=Ie=ft,ee=R):Ie=Ie.next=ft,ln.lanes|=Qe,pd|=Qe;ft=We.action,Po&&p(R,ft),R=We.hasEagerState?We.eagerState:p(R,ft)}else Qe={lane:ft,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ie===null?(ve=Ie=Qe,ee=R):Ie=Ie.next=Qe,ln.lanes|=ft,pd|=ft;We=We.next}while(We!==null&&We!==d);if(Ie===null?ee=R:Ie.next=ve,!oa(R,o.memoizedState)&&(Li=!0,at&&(p=T,p!==null)))throw p;o.memoizedState=R,o.baseState=ee,o.baseQueue=Ie,v.lastRenderedState=R}return S===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function qh(o){var d=ni(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,S=p.pending,R=d.memoizedState;if(S!==null){p.pending=null;var ee=S=S.next;do R=o(R,ee.action),ee=ee.next;while(ee!==S);oa(R,d.memoizedState)||(Li=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),p.lastRenderedState=R}return[R,v]}function Bh(o,d,p){var v=ln,S=ni(),R=In;if(R){if(p===void 0)throw Error(r(407));p=p()}else p=d();var ee=!oa((An||S).memoizedState,p);if(ee&&(S.memoizedState=p,Li=!0),S=S.queue,a_(Hm.bind(null,v,S,o),[o]),S.getSnapshot!==d||ee||Tr!==null&&Tr.memoizedState.tag&1){if(v.flags|=2048,su(9,{destroy:void 0},Gm.bind(null,v,S,p,d),null),Cr===null)throw Error(r(349));R||(ys&127)!==0||vl(v,d,p)}return p}function vl(o,d,p){o.flags|=16384,o={getSnapshot:d,value:p},d=ln.updateQueue,d===null?(d=kf(),ln.updateQueue=d,d.stores=[o]):(p=d.stores,p===null?d.stores=[o]:p.push(o))}function Gm(o,d,p,v){d.value=p,d.getSnapshot=v,Cv(d)&&Wm(o)}function Hm(o,d,p){return p(function(){Cv(d)&&Wm(o)})}function Cv(o){var d=o.getSnapshot;o=o.value;try{var p=d();return!oa(o,p)}catch{return!0}}function Wm(o){var d=hl(o,2);d!==null&&qs(d,o,2)}function pc(o){var d=Mi();if(typeof o=="function"){var p=o;if(o=p(),Po){yn(!0);try{p()}finally{yn(!1)}}}return d.memoizedState=d.baseState=o,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:o},d}function Iv(o,d,p,v){return o.baseState=p,cd(o,An,typeof v=="function"?v:jo)}function Rv(o,d,p,v,S){if(jv(o))throw Error(r(485));if(o=d.action,o!==null){var R={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){R.listeners.push(ee)}};ne.T!==null?p(!0):R.isTransition=!1,v(R),p=d.pending,p===null?(R.next=d.pending=R,Ov(d,R)):(R.next=p.next,d.pending=p.next=R)}}function Ov(o,d){var p=d.action,v=d.payload,S=o.state;if(d.isTransition){var R=ne.T,ee={};ne.T=ee;try{var ve=p(S,v),Ie=ne.S;Ie!==null&&Ie(ee,ve),Km(o,d,ve)}catch(We){au(o,d,We)}finally{R!==null&&ee.types!==null&&(R.types=ee.types),ne.T=R}}else try{R=p(S,v),Km(o,d,R)}catch(We){au(o,d,We)}}function Km(o,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){kv(o,d,v)},function(v){return au(o,d,v)}):kv(o,d,p)}function kv(o,d,p){d.status="fulfilled",d.value=p,$h(d),o.state=p,d=o.pending,d!==null&&(p=d.next,p===d?o.pending=null:(p=p.next,d.next=p,Ov(o,p)))}function au(o,d,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=p,$h(d),d=d.next;while(d!==v)}o.action=null}function $h(o){o=o.listeners;for(var d=0;d<o.length;d++)(0,o[d])()}function Pf(o,d){return d}function Do(o,d){if(In){var p=Cr.formState;if(p!==null){e:{var v=ln;if(In){if(Nr){t:{for(var S=Nr,R=Qr;S.nodeType!==8;){if(!R){S=null;break t}if(S=Mo(S.nextSibling),S===null){S=null;break t}}R=S.data,S=R==="F!"||R==="F"?S:null}if(S){Nr=Mo(S.nextSibling),v=S.data==="F!";break e}}sc(v)}v=!1}v&&(d=p[0])}}return p=Mi(),p.memoizedState=p.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:d},p.queue=v,p=QI.bind(null,ln,v),v.dispatch=p,v=pc(!1),R=u_.bind(null,ln,!1,v.queue),v=Mi(),S={state:d,dispatch:null,action:o,pending:null},v.queue=S,p=Rv.bind(null,ln,S,R,p),S.dispatch=p,v.memoizedState=o,[d,p,!1]}function yl(o){var d=ni();return xl(d,An,o)}function xl(o,d,p){if(d=cd(o,d,Pf)[0],o=Vh(jo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=hc(d)}catch(ee){throw ee===Oe?$e:ee}else v=d;d=ni();var S=d.queue,R=S.dispatch;return p!==d.memoizedState&&(ln.flags|=2048,su(9,{destroy:void 0},zh.bind(null,S,p),null)),[v,R,o]}function zh(o,d){o.action=d}function Gh(o){var d=ni(),p=An;if(p!==null)return xl(d,p,o);ni(),d=d.memoizedState,p=ni();var v=p.queue.dispatch;return p.memoizedState=o,[d,v,!1]}function su(o,d,p,v){return o={tag:o,create:p,deps:v,inst:d,next:null},d=ln.updateQueue,d===null&&(d=kf(),ln.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,d.lastEffect=o),o}function Pv(){return ni().memoizedState}function ud(o,d,p,v){var S=Mi();ln.flags|=o,S.memoizedState=su(1|d,{destroy:void 0},p,v===void 0?null:v)}function dd(o,d,p,v){var S=ni();v=v===void 0?null:v;var R=S.memoizedState.inst;An!==null&&v!==null&&qm(v,An.memoizedState.deps)?S.memoizedState=su(d,R,p,v):(ln.flags|=o,S.memoizedState=su(1|d,R,p,v))}function FI(o,d){ud(8390656,8,o,d)}function a_(o,d){dd(2048,8,o,d)}function Sz(o){ln.flags|=4;var d=ln.updateQueue;if(d===null)d=kf(),ln.updateQueue=d,d.events=[o];else{var p=d.events;p===null?d.events=[o]:p.push(o)}}function UI(o){var d=ni().memoizedState;return Sz({ref:d,nextImpl:o}),function(){if((lr&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function VI(o,d){return dd(4,2,o,d)}function qI(o,d){return dd(4,4,o,d)}function BI(o,d){if(typeof d=="function"){o=o();var p=d(o);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function $I(o,d,p){p=p!=null?p.concat([o]):null,dd(4,4,BI.bind(null,d,o),p)}function s_(){}function zI(o,d){var p=ni();d=d===void 0?null:d;var v=p.memoizedState;return d!==null&&qm(d,v[1])?v[0]:(p.memoizedState=[o,d],o)}function GI(o,d){var p=ni();d=d===void 0?null:d;var v=p.memoizedState;if(d!==null&&qm(d,v[1]))return v[0];if(v=o(),Po){yn(!0);try{o()}finally{yn(!1)}}return p.memoizedState=[v,d],v}function o_(o,d,p){return p===void 0||(ys&1073741824)!==0&&(Ln&261930)===0?o.memoizedState=d:(o.memoizedState=p,o=HR(),ln.lanes|=o,pd|=o,p)}function HI(o,d,p,v){return oa(p,d)?p:ei.current!==null?(o=o_(o,p,v),oa(o,d)||(Li=!0),o):(ys&42)===0||(ys&1073741824)!==0&&(Ln&261930)===0?(Li=!0,o.memoizedState=p):(o=HR(),ln.lanes|=o,pd|=o,d)}function WI(o,d,p,v,S){var R=ie.p;ie.p=R!==0&&8>R?R:8;var ee=ne.T,ve={};ne.T=ve,u_(o,!1,d,p);try{var Ie=S(),We=ne.S;if(We!==null&&We(ve,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var at=le(Ie,v);Ym(o,d,at,fo(o))}else Ym(o,d,v,fo(o))}catch(ft){Ym(o,d,{then:function(){},status:"rejected",reason:ft},fo())}finally{ie.p=R,ee!==null&&ve.types!==null&&(ee.types=ve.types),ne.T=ee}}function Nz(){}function l_(o,d,p,v){if(o.tag!==5)throw Error(r(476));var S=KI(o).queue;WI(o,S,d,te,p===null?Nz:function(){return YI(o),p(v)})}function KI(o){var d=o.memoizedState;if(d!==null)return d;d={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:te},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:p},next:null},o.memoizedState=d,o=o.alternate,o!==null&&(o.memoizedState=d),d}function YI(o){var d=KI(o);d.next===null&&(d=o.alternate.memoizedState),Ym(o,d.next.queue,{},fo())}function c_(){return Xi(fg)}function XI(){return ni().memoizedState}function JI(){return ni().memoizedState}function Tz(o){for(var d=o.return;d!==null;){switch(d.tag){case 24:case 3:var p=fo();o=Qt(p);var v=mr(d,o,p);v!==null&&(qs(v,d,p),Pi(v,d,p)),d={cache:od()},o.payload=d;return}d=d.return}}function Cz(o,d,p){var v=fo();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jv(o)?ZI(d,p):(p=td(o,d,p,v),p!==null&&(qs(p,o,v),eR(p,d,v)))}function QI(o,d,p){var v=fo();Ym(o,d,p,v)}function Ym(o,d,p,v){var S={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(jv(o))ZI(d,S);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var ee=d.lastRenderedState,ve=R(ee,p);if(S.hasEagerState=!0,S.eagerState=ve,oa(ve,ee))return fl(o,d,S,0),Cr===null&&rc(),!1}catch{}finally{}if(p=td(o,d,S,v),p!==null)return qs(p,o,v),eR(p,d,v),!0}return!1}function u_(o,d,p,v){if(v={lane:2,revertLane:B_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},jv(o)){if(d)throw Error(r(479))}else d=td(o,p,v,2),d!==null&&qs(d,o,2)}function jv(o){var d=o.alternate;return o===ln||d!==null&&d===ln}function ZI(o,d){ru=ml=!0;var p=o.pending;p===null?d.next=d:(d.next=p.next,p.next=d),o.pending=d}function eR(o,d,p){if((p&4194048)!==0){var v=d.lanes;v&=o.pendingLanes,p|=v,d.lanes=p,jr(o,p)}}var Xm={readContext:Xi,use:ld,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br};Xm.useEffectEvent=br;var tR={readContext:Xi,use:ld,useCallback:function(o,d){return Mi().memoizedState=[o,d===void 0?null:d],o},useContext:Xi,useEffect:FI,useImperativeHandle:function(o,d,p){p=p!=null?p.concat([o]):null,ud(4194308,4,BI.bind(null,d,o),p)},useLayoutEffect:function(o,d){return ud(4194308,4,o,d)},useInsertionEffect:function(o,d){ud(4,2,o,d)},useMemo:function(o,d){var p=Mi();d=d===void 0?null:d;var v=o();if(Po){yn(!0);try{o()}finally{yn(!1)}}return p.memoizedState=[v,d],v},useReducer:function(o,d,p){var v=Mi();if(p!==void 0){var S=p(d);if(Po){yn(!0);try{p(d)}finally{yn(!1)}}}else S=d;return v.memoizedState=v.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},v.queue=o,o=o.dispatch=Cz.bind(null,ln,o),[v.memoizedState,o]},useRef:function(o){var d=Mi();return o={current:o},d.memoizedState=o},useState:function(o){o=pc(o);var d=o.queue,p=QI.bind(null,ln,d);return d.dispatch=p,[o.memoizedState,p]},useDebugValue:s_,useDeferredValue:function(o,d){var p=Mi();return o_(p,o,d)},useTransition:function(){var o=pc(!1);return o=WI.bind(null,ln,o.queue,!0,!1),Mi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,d,p){var v=ln,S=Mi();if(In){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Cr===null)throw Error(r(349));(Ln&127)!==0||vl(v,d,p)}S.memoizedState=p;var R={value:p,getSnapshot:d};return S.queue=R,FI(Hm.bind(null,v,R,o),[o]),v.flags|=2048,su(9,{destroy:void 0},Gm.bind(null,v,R,p,d),null),p},useId:function(){var o=Mi(),d=Cr.identifierPrefix;if(In){var p=js,v=Ps;p=(v&~(1<<32-xn(v)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Of++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=Lh++,d="_"+d+"r_"+p.toString(32)+"_";return o.memoizedState=d},useHostTransitionStatus:c_,useFormState:Do,useActionState:Do,useOptimistic:function(o){var d=Mi();d.memoizedState=d.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=u_.bind(null,ln,!0,p),p.dispatch=d,[o,d]},useMemoCache:iu,useCacheRefresh:function(){return Mi().memoizedState=Tz.bind(null,ln)},useEffectEvent:function(o){var d=Mi(),p={impl:o};return d.memoizedState=p,function(){if((lr&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},d_={readContext:Xi,use:ld,useCallback:zI,useContext:Xi,useEffect:a_,useImperativeHandle:$I,useInsertionEffect:VI,useLayoutEffect:qI,useMemo:GI,useReducer:Vh,useRef:Pv,useState:function(){return Vh(jo)},useDebugValue:s_,useDeferredValue:function(o,d){var p=ni();return HI(p,An.memoizedState,o,d)},useTransition:function(){var o=Vh(jo)[0],d=ni().memoizedState;return[typeof o=="boolean"?o:hc(o),d]},useSyncExternalStore:Bh,useId:XI,useHostTransitionStatus:c_,useFormState:yl,useActionState:yl,useOptimistic:function(o,d){var p=ni();return Iv(p,An,o,d)},useMemoCache:iu,useCacheRefresh:JI};d_.useEffectEvent=UI;var nR={readContext:Xi,use:ld,useCallback:zI,useContext:Xi,useEffect:a_,useImperativeHandle:$I,useInsertionEffect:VI,useLayoutEffect:qI,useMemo:GI,useReducer:qh,useRef:Pv,useState:function(){return qh(jo)},useDebugValue:s_,useDeferredValue:function(o,d){var p=ni();return An===null?o_(p,o,d):HI(p,An.memoizedState,o,d)},useTransition:function(){var o=qh(jo)[0],d=ni().memoizedState;return[typeof o=="boolean"?o:hc(o),d]},useSyncExternalStore:Bh,useId:XI,useHostTransitionStatus:c_,useFormState:Gh,useActionState:Gh,useOptimistic:function(o,d){var p=ni();return An!==null?Iv(p,An,o,d):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:iu,useCacheRefresh:JI};nR.useEffectEvent=UI;function f_(o,d,p,v){d=o.memoizedState,p=p(v,d),p=p==null?d:m({},d,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var h_={enqueueSetState:function(o,d,p){o=o._reactInternals;var v=fo(),S=Qt(v);S.payload=d,p!=null&&(S.callback=p),d=mr(o,S,v),d!==null&&(qs(d,o,v),Pi(d,o,v))},enqueueReplaceState:function(o,d,p){o=o._reactInternals;var v=fo(),S=Qt(v);S.tag=1,S.payload=d,p!=null&&(S.callback=p),d=mr(o,S,v),d!==null&&(qs(d,o,v),Pi(d,o,v))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var p=fo(),v=Qt(p);v.tag=2,d!=null&&(v.callback=d),d=mr(o,v,p),d!==null&&(qs(d,o,p),Pi(d,o,p))}};function rR(o,d,p,v,S,R,ee){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,R,ee):d.prototype&&d.prototype.isPureReactComponent?!Cs(p,v)||!Cs(S,R):!0}function iR(o,d,p,v){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,v),d.state!==o&&h_.enqueueReplaceState(d,d.state,null)}function jf(o,d){var p=d;if("ref"in d){p={};for(var v in d)v!=="ref"&&(p[v]=d[v])}if(o=o.defaultProps){p===d&&(p=m({},p));for(var S in o)p[S]===void 0&&(p[S]=o[S])}return p}function aR(o){sr(o)}function sR(o){console.error(o)}function oR(o){sr(o)}function Dv(o,d){try{var p=o.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function lR(o,d,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function p_(o,d,p){return p=Qt(p),p.tag=3,p.payload={element:null},p.callback=function(){Dv(o,d)},p}function cR(o){return o=Qt(o),o.tag=3,o}function uR(o,d,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var R=v.value;o.payload=function(){return S(R)},o.callback=function(){lR(d,p,v)}}var ee=p.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(o.callback=function(){lR(d,p,v),typeof S!="function"&&(md===null?md=new Set([this]):md.add(this));var ve=v.stack;this.componentDidCatch(v.value,{componentStack:ve!==null?ve:""})})}function Iz(o,d,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=p.alternate,d!==null&&cc(d,p,S,!0),p=si.current,p!==null){switch(p.tag){case 31:case 13:return Di===null?Wv():p.alternate===null&&hi===0&&(hi=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===Ue?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([v]):d.add(v),U_(o,v,S)),!1;case 22:return p.flags|=65536,v===Ue?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([v]):p.add(v)),U_(o,v,S)),!1}throw Error(r(435,p.tag))}return U_(o,v,S),Wv(),!1}if(In)return d=si.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,v!==lo&&(o=Error(r(422),{cause:v}),ad(Rs(o,p)))):(v!==lo&&(d=Error(r(423),{cause:v}),ad(Rs(d,p))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,v=Rs(v,p),S=p_(o.stateNode,v,S),Zr(o,S),hi!==4&&(hi=2)),!1;var R=Error(r(520),{cause:v});if(R=Rs(R,p),ig===null?ig=[R]:ig.push(R),hi!==4&&(hi=2),d===null)return!0;v=Rs(v,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,o=S&-S,p.lanes|=o,o=p_(p.stateNode,v,o),Zr(p,o),!1;case 1:if(d=p.type,R=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(md===null||!md.has(R))))return p.flags|=65536,S&=-S,p.lanes|=S,S=cR(S),uR(S,o,p,v),Zr(p,S),!1}p=p.return}while(p!==null);return!1}var m_=Error(r(461)),Li=!1;function Ta(o,d,p,v){d.child=o===null?Mn(d,null,p,v):Rn(d,o.child,p,v)}function dR(o,d,p,v,S){p=p.render;var R=d.ref;if("ref"in v){var ee={};for(var ve in v)ve!=="ref"&&(ee[ve]=v[ve])}else ee=v;return uc(d),v=Bm(o,d,p,ee,R,S),ve=$m(),o!==null&&!Li?(zm(o,d,S),ou(o,d,S)):(In&&ve&&Fm(d),d.flags|=1,Ta(o,d,v,S),d.child)}function fR(o,d,p,v,S){if(o===null){var R=p.type;return typeof R=="function"&&!Ch(R)&&R.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=R,hR(o,d,R,v,S)):(o=nd(p.type,null,v,d,d.mode,S),o.ref=d.ref,o.return=d,d.child=o)}if(R=o.child,!A_(o,S)){var ee=R.memoizedProps;if(p=p.compare,p=p!==null?p:Cs,p(ee,v)&&o.ref===d.ref)return ou(o,d,S)}return d.flags|=1,o=Is(R,v),o.ref=d.ref,o.return=d,d.child=o}function hR(o,d,p,v,S){if(o!==null){var R=o.memoizedProps;if(Cs(R,v)&&o.ref===d.ref)if(Li=!1,d.pendingProps=v=R,A_(o,S))(o.flags&131072)!==0&&(Li=!0);else return d.lanes=o.lanes,ou(o,d,S)}return g_(o,d,p,v,S)}function pR(o,d,p,v){var S=v.children,R=o!==null?o.memoizedState:null;if(o===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((d.flags&128)!==0){if(R=R!==null?R.baseLanes|p:p,o!==null){for(v=d.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~R}else v=0,d.child=null;return mR(o,d,R,p,v)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(d,R!==null?R.cachePool:null),R!==null?gs(d,R):Ms(),Gr(d);else return v=d.lanes=536870912,mR(o,d,R!==null?R.baseLanes|p:p,p,v)}else R!==null?(ye(d,R.cachePool),gs(d,R),ko(),d.memoizedState=null):(o!==null&&ye(d,null),Ms(),ko());return Ta(o,d,S,p),d.child}function Jm(o,d){return o!==null&&o.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function mR(o,d,p,v,S){var R=me();return R=R===null?null:{parent:ai._currentValue,pool:R},d.memoizedState={baseLanes:p,cachePool:R},o!==null&&ye(d,null),Ms(),Gr(d),o!==null&&cc(o,d,v,!0),d.childLanes=S,null}function Mv(o,d){return d=Fv({mode:d.mode,children:d.children},o.mode),d.ref=o.ref,o.child=d,d.return=o,d}function gR(o,d,p){return Rn(d,o.child,null,p),o=Mv(d,d.pendingProps),o.flags|=2,Wa(d),d.memoizedState=null,o}function Rz(o,d,p){var v=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,o===null){if(In){if(v.mode==="hidden")return o=Mv(d,v),d.lanes=536870912,Jm(null,o);if(Oo(d),(o=Nr)?(o=C4(o,Qr),o=o!==null&&o.data==="&"?o:null,o!==null&&(d.memoizedState={dehydrated:o,treeContext:ac!==null?{id:Ps,overflow:js}:null,retryLane:536870912,hydrationErrors:null},p=Ih(o),p.return=d,d.child=p,Ki=d,Nr=null)):o=null,o===null)throw sc(d);return d.lanes=536870912,null}return Mv(d,v)}var R=o.memoizedState;if(R!==null){var ee=R.dehydrated;if(Oo(d),S)if(d.flags&256)d.flags&=-257,d=gR(o,d,p);else if(d.memoizedState!==null)d.child=o.child,d.flags|=128,d=null;else throw Error(r(558));else if(Li||cc(o,d,p,!1),S=(p&o.childLanes)!==0,Li||S){if(v=Cr,v!==null&&(ee=Br(v,p),ee!==0&&ee!==R.retryLane))throw R.retryLane=ee,hl(o,ee),qs(v,o,ee),m_;Wv(),d=gR(o,d,p)}else o=R.treeContext,Nr=Mo(ee.nextSibling),Ki=d,In=!0,Na=null,Qr=!1,o!==null&&Nv(d,o),d=Mv(d,v),d.flags|=4096;return d}return o=Is(o.child,{mode:v.mode,children:v.children}),o.ref=d.ref,d.child=o,o.return=d,o}function Lv(o,d){var p=d.ref;if(p===null)o!==null&&o.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(d.flags|=4194816)}}function g_(o,d,p,v,S){return uc(d),p=Bm(o,d,p,v,void 0,S),v=$m(),o!==null&&!Li?(zm(o,d,S),ou(o,d,S)):(In&&v&&Fm(d),d.flags|=1,Ta(o,d,p,S),d.child)}function vR(o,d,p,v,S,R){return uc(d),d.updateQueue=null,p=gl(d,v,p,S),Fh(o),v=$m(),o!==null&&!Li?(zm(o,d,R),ou(o,d,R)):(In&&v&&Fm(d),d.flags|=1,Ta(o,d,p,R),d.child)}function yR(o,d,p,v,S){if(uc(d),d.stateNode===null){var R=Wi,ee=p.contextType;typeof ee=="object"&&ee!==null&&(R=Xi(ee)),R=new p(v,R),d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=h_,d.stateNode=R,R._reactInternals=d,R=d.stateNode,R.props=v,R.state=d.memoizedState,R.refs={},or(d),ee=p.contextType,R.context=typeof ee=="object"&&ee!==null?Xi(ee):Wi,R.state=d.memoizedState,ee=p.getDerivedStateFromProps,typeof ee=="function"&&(f_(d,p,ee,v),R.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(ee=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),ee!==R.state&&h_.enqueueReplaceState(R,R.state,null),Ji(d,v,R,S),zn(),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(o===null){R=d.stateNode;var ve=d.memoizedProps,Ie=jf(p,ve);R.props=Ie;var We=R.context,at=p.contextType;ee=Wi,typeof at=="object"&&at!==null&&(ee=Xi(at));var ft=p.getDerivedStateFromProps;at=typeof ft=="function"||typeof R.getSnapshotBeforeUpdate=="function",ve=d.pendingProps!==ve,at||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ve||We!==ee)&&iR(d,R,v,ee),un=!1;var Qe=d.memoizedState;R.state=Qe,Ji(d,v,R,S),zn(),We=d.memoizedState,ve||Qe!==We||un?(typeof ft=="function"&&(f_(d,p,ft,v),We=d.memoizedState),(Ie=un||rR(d,p,Ie,v,Qe,We,ee))?(at||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(d.flags|=4194308)):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=We),R.props=v,R.state=We,R.context=ee,v=Ie):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{R=d.stateNode,er(o,d),ee=d.memoizedProps,at=jf(p,ee),R.props=at,ft=d.pendingProps,Qe=R.context,We=p.contextType,Ie=Wi,typeof We=="object"&&We!==null&&(Ie=Xi(We)),ve=p.getDerivedStateFromProps,(We=typeof ve=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ee!==ft||Qe!==Ie)&&iR(d,R,v,Ie),un=!1,Qe=d.memoizedState,R.state=Qe,Ji(d,v,R,S),zn();var et=d.memoizedState;ee!==ft||Qe!==et||un||o!==null&&o.dependencies!==null&&jh(o.dependencies)?(typeof ve=="function"&&(f_(d,p,ve,v),et=d.memoizedState),(at=un||rR(d,p,at,v,Qe,et,Ie)||o!==null&&o.dependencies!==null&&jh(o.dependencies))?(We||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,et,Ie),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,et,Ie)),typeof R.componentDidUpdate=="function"&&(d.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof R.componentDidUpdate!="function"||ee===o.memoizedProps&&Qe===o.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&Qe===o.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=et),R.props=v,R.state=et,R.context=Ie,v=at):(typeof R.componentDidUpdate!="function"||ee===o.memoizedProps&&Qe===o.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&Qe===o.memoizedState||(d.flags|=1024),v=!1)}return R=v,Lv(o,d),v=(d.flags&128)!==0,R||v?(R=d.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:R.render(),d.flags|=1,o!==null&&v?(d.child=Rn(d,o.child,null,S),d.child=Rn(d,null,p,S)):Ta(o,d,p,S),d.memoizedState=R.state,o=d.child):o=ou(o,d,S),o}function xR(o,d,p,v){return eu(),d.flags|=256,Ta(o,d,p,v),d.child}var v_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function y_(o){return{baseLanes:o,cachePool:we()}}function x_(o,d,p){return o=o!==null?o.childLanes&~p:0,d&&(o|=uo),o}function bR(o,d,p){var v=d.pendingProps,S=!1,R=(d.flags&128)!==0,ee;if((ee=R)||(ee=o!==null&&o.memoizedState===null?!1:(ti.current&2)!==0),ee&&(S=!0,d.flags&=-129),ee=(d.flags&32)!==0,d.flags&=-33,o===null){if(In){if(S?vs(d):ko(),(o=Nr)?(o=C4(o,Qr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(d.memoizedState={dehydrated:o,treeContext:ac!==null?{id:Ps,overflow:js}:null,retryLane:536870912,hydrationErrors:null},p=Ih(o),p.return=d,d.child=p,Ki=d,Nr=null)):o=null,o===null)throw sc(d);return t2(o)?d.lanes=32:d.lanes=536870912,null}var ve=v.children;return v=v.fallback,S?(ko(),S=d.mode,ve=Fv({mode:"hidden",children:ve},S),v=ic(v,S,p,null),ve.return=d,v.return=d,ve.sibling=v,d.child=ve,v=d.child,v.memoizedState=y_(p),v.childLanes=x_(o,ee,p),d.memoizedState=v_,Jm(null,v)):(vs(d),b_(d,ve))}var Ie=o.memoizedState;if(Ie!==null&&(ve=Ie.dehydrated,ve!==null)){if(R)d.flags&256?(vs(d),d.flags&=-257,d=__(o,d,p)):d.memoizedState!==null?(ko(),d.child=o.child,d.flags|=128,d=null):(ko(),ve=v.fallback,S=d.mode,v=Fv({mode:"visible",children:v.children},S),ve=ic(ve,S,p,null),ve.flags|=2,v.return=d,ve.return=d,v.sibling=ve,d.child=v,Rn(d,o.child,null,p),v=d.child,v.memoizedState=y_(p),v.childLanes=x_(o,ee,p),d.memoizedState=v_,d=Jm(null,v));else if(vs(d),t2(ve)){if(ee=ve.nextSibling&&ve.nextSibling.dataset,ee)var We=ee.dgst;ee=We,v=Error(r(419)),v.stack="",v.digest=ee,ad({value:v,source:null,stack:null}),d=__(o,d,p)}else if(Li||cc(o,d,p,!1),ee=(p&o.childLanes)!==0,Li||ee){if(ee=Cr,ee!==null&&(v=Br(ee,p),v!==0&&v!==Ie.retryLane))throw Ie.retryLane=v,hl(o,v),qs(ee,o,v),m_;e2(ve)||Wv(),d=__(o,d,p)}else e2(ve)?(d.flags|=192,d.child=o.child,d=null):(o=Ie.treeContext,Nr=Mo(ve.nextSibling),Ki=d,In=!0,Na=null,Qr=!1,o!==null&&Nv(d,o),d=b_(d,v.children),d.flags|=4096);return d}return S?(ko(),ve=v.fallback,S=d.mode,Ie=o.child,We=Ie.sibling,v=Is(Ie,{mode:"hidden",children:v.children}),v.subtreeFlags=Ie.subtreeFlags&65011712,We!==null?ve=Is(We,ve):(ve=ic(ve,S,p,null),ve.flags|=2),ve.return=d,v.return=d,v.sibling=ve,d.child=v,Jm(null,v),v=d.child,ve=o.child.memoizedState,ve===null?ve=y_(p):(S=ve.cachePool,S!==null?(Ie=ai._currentValue,S=S.parent!==Ie?{parent:Ie,pool:Ie}:S):S=we(),ve={baseLanes:ve.baseLanes|p,cachePool:S}),v.memoizedState=ve,v.childLanes=x_(o,ee,p),d.memoizedState=v_,Jm(o.child,v)):(vs(d),p=o.child,o=p.sibling,p=Is(p,{mode:"visible",children:v.children}),p.return=d,p.sibling=null,o!==null&&(ee=d.deletions,ee===null?(d.deletions=[o],d.flags|=16):ee.push(o)),d.child=p,d.memoizedState=null,p)}function b_(o,d){return d=Fv({mode:"visible",children:d},o.mode),d.return=o,o.child=d}function Fv(o,d){return o=da(22,o,null,d),o.lanes=0,o}function __(o,d,p){return Rn(d,o.child,null,p),o=b_(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function _R(o,d,p){o.lanes|=d;var v=o.alternate;v!==null&&(v.lanes|=d),sd(o.return,d,p)}function w_(o,d,p,v,S,R){var ee=o.memoizedState;ee===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S,treeForkCount:R}:(ee.isBackwards=d,ee.rendering=null,ee.renderingStartTime=0,ee.last=v,ee.tail=p,ee.tailMode=S,ee.treeForkCount=R)}function wR(o,d,p){var v=d.pendingProps,S=v.revealOrder,R=v.tail;v=v.children;var ee=ti.current,ve=(ee&2)!==0;if(ve?(ee=ee&1|2,d.flags|=128):ee&=1,H(ti,ee),Ta(o,d,v,p),v=In?Cf:0,!ve&&o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_R(o,p,d);else if(o.tag===19)_R(o,p,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(p=d.child,S=null;p!==null;)o=p.alternate,o!==null&&nu(o)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),w_(d,!1,S,p,R,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(o=S.alternate,o!==null&&nu(o)===null){d.child=S;break}o=S.sibling,S.sibling=p,p=S,S=o}w_(d,!0,p,null,R,v);break;case"together":w_(d,!1,null,null,void 0,v);break;default:d.memoizedState=null}return d.child}function ou(o,d,p){if(o!==null&&(d.dependencies=o.dependencies),pd|=d.lanes,(p&d.childLanes)===0)if(o!==null){if(cc(o,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,p=Is(o,o.pendingProps),d.child=p,p.return=d;o.sibling!==null;)o=o.sibling,p=p.sibling=Is(o,o.pendingProps),p.return=d;p.sibling=null}return d.child}function A_(o,d){return(o.lanes&d)!==0?!0:(o=o.dependencies,!!(o!==null&&jh(o)))}function Oz(o,d,p){switch(d.tag){case 3:_e(d,d.stateNode.containerInfo),lc(d,ai,o.memoizedState.cache),eu();break;case 27:case 5:Ae(d);break;case 4:_e(d,d.stateNode.containerInfo);break;case 10:lc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,Oo(d),null;break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(vs(d),d.flags|=128,null):(p&d.child.childLanes)!==0?bR(o,d,p):(vs(d),o=ou(o,d,p),o!==null?o.sibling:null);vs(d);break;case 19:var S=(o.flags&128)!==0;if(v=(p&d.childLanes)!==0,v||(cc(o,d,p,!1),v=(p&d.childLanes)!==0),S){if(v)return wR(o,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),H(ti,ti.current),v)break;return null;case 22:return d.lanes=0,pR(o,d,p,d.pendingProps);case 24:lc(d,ai,o.memoizedState.cache)}return ou(o,d,p)}function AR(o,d,p){if(o!==null)if(o.memoizedProps!==d.pendingProps)Li=!0;else{if(!A_(o,p)&&(d.flags&128)===0)return Li=!1,Oz(o,d,p);Li=(o.flags&131072)!==0}else Li=!1,In&&(d.flags&1048576)!==0&&Sv(d,Cf,d.index);switch(d.lanes=0,d.tag){case 16:e:{var v=d.pendingProps;if(o=ke(d.elementType),d.type=o,typeof o=="function")Ch(o)?(v=jf(o,v),d.tag=1,d=yR(null,d,o,v,p)):(d.tag=0,d=g_(null,d,o,v,p));else{if(o!=null){var S=o.$$typeof;if(S===U){d.tag=11,d=dR(null,d,o,v,p);break e}else if(S===P){d.tag=14,d=fR(null,d,o,v,p);break e}}throw d=J(o)||o,Error(r(306,d,""))}}return d;case 0:return g_(o,d,d.type,d.pendingProps,p);case 1:return v=d.type,S=jf(v,d.pendingProps),yR(o,d,v,S,p);case 3:e:{if(_e(d,d.stateNode.containerInfo),o===null)throw Error(r(387));v=d.pendingProps;var R=d.memoizedState;S=R.element,er(o,d),Ji(d,v,null,p);var ee=d.memoizedState;if(v=ee.cache,lc(d,ai,v),v!==R.cache&&tu(d,[ai],p,!0),zn(),v=ee.element,R.isDehydrated)if(R={element:v,isDehydrated:!1,cache:ee.cache},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){d=xR(o,d,v,p);break e}else if(v!==S){S=Rs(Error(r(424)),d),ad(S),d=xR(o,d,v,p);break e}else{switch(o=d.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Nr=Mo(o.firstChild),Ki=d,In=!0,Na=null,Qr=!0,p=Mn(d,null,v,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(eu(),v===S){d=ou(o,d,p);break e}Ta(o,d,v,p)}d=d.child}return d;case 26:return Lv(o,d),o===null?(p=j4(d.type,null,d.pendingProps,null))?d.memoizedState=p:In||(p=d.type,o=d.pendingProps,v=ey(Q.current).createElement(p),v[Gt]=d,v[$t]=o,Ca(v,p,o),$r(v),d.stateNode=v):d.memoizedState=j4(d.type,o.memoizedProps,d.pendingProps,o.memoizedState),null;case 27:return Ae(d),o===null&&In&&(v=d.stateNode=O4(d.type,d.pendingProps,Q.current),Ki=d,Qr=!0,S=Nr,xd(d.type)?(n2=S,Nr=Mo(v.firstChild)):Nr=S),Ta(o,d,d.pendingProps.children,p),Lv(o,d),o===null&&(d.flags|=4194304),d.child;case 5:return o===null&&In&&((S=v=Nr)&&(v=oG(v,d.type,d.pendingProps,Qr),v!==null?(d.stateNode=v,Ki=d,Nr=Mo(v.firstChild),Qr=!1,S=!0):S=!1),S||sc(d)),Ae(d),S=d.type,R=d.pendingProps,ee=o!==null?o.memoizedProps:null,v=R.children,J_(S,R)?v=null:ee!==null&&J_(S,ee)&&(d.flags|=32),d.memoizedState!==null&&(S=Bm(o,d,i_,null,null,p),fg._currentValue=S),Lv(o,d),Ta(o,d,v,p),d.child;case 6:return o===null&&In&&((o=p=Nr)&&(p=lG(p,d.pendingProps,Qr),p!==null?(d.stateNode=p,Ki=d,Nr=null,o=!0):o=!1),o||sc(d)),null;case 13:return bR(o,d,p);case 4:return _e(d,d.stateNode.containerInfo),v=d.pendingProps,o===null?d.child=Rn(d,null,v,p):Ta(o,d,v,p),d.child;case 11:return dR(o,d,d.type,d.pendingProps,p);case 7:return Ta(o,d,d.pendingProps,p),d.child;case 8:return Ta(o,d,d.pendingProps.children,p),d.child;case 12:return Ta(o,d,d.pendingProps.children,p),d.child;case 10:return v=d.pendingProps,lc(d,d.type,v.value),Ta(o,d,v.children,p),d.child;case 9:return S=d.type._context,v=d.pendingProps.children,uc(d),S=Xi(S),v=v(S),d.flags|=1,Ta(o,d,v,p),d.child;case 14:return fR(o,d,d.type,d.pendingProps,p);case 15:return hR(o,d,d.type,d.pendingProps,p);case 19:return wR(o,d,p);case 31:return Rz(o,d,p);case 22:return pR(o,d,p,d.pendingProps);case 24:return uc(d),v=Xi(ai),o===null?(S=me(),S===null&&(S=Cr,R=od(),S.pooledCache=R,R.refCount++,R!==null&&(S.pooledCacheLanes|=p),S=R),d.memoizedState={parent:v,cache:S},or(d),lc(d,ai,S)):((o.lanes&p)!==0&&(er(o,d),Ji(d,null,null,p),zn()),S=o.memoizedState,R=d.memoizedState,S.parent!==v?(S={parent:v,cache:v},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),lc(d,ai,v)):(v=R.cache,lc(d,ai,v),v!==S.cache&&tu(d,[ai],p,!0))),Ta(o,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function lu(o){o.flags|=4}function E_(o,d,p,v,S){if((d=(o.mode&32)!==0)&&(d=!1),d){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(XR())o.flags|=8192;else throw je=Ue,ze}else o.flags&=-16777217}function ER(o,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!U4(d))if(XR())o.flags|=8192;else throw je=Ue,ze}function Uv(o,d){d!==null&&(o.flags|=4),o.flags&16384&&(d=o.tag!==22?Pr():536870912,o.lanes|=d,Yh|=d)}function Qm(o,d){if(!In)switch(o.tailMode){case"hidden":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Hr(o){var d=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(d)for(var S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=p,d}function kz(o,d,p){var v=d.pendingProps;switch(kh(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(d),null;case 1:return Hr(d),null;case 3:return p=d.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Ds(ai),ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Yi(d)?lu(d):o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Vm())),Hr(d),null;case 26:var S=d.type,R=d.memoizedState;return o===null?(lu(d),R!==null?(Hr(d),ER(d,R)):(Hr(d),E_(d,S,null,v,p))):R?R!==o.memoizedState?(lu(d),Hr(d),ER(d,R)):(Hr(d),d.flags&=-16777217):(o=o.memoizedProps,o!==v&&lu(d),Hr(d),E_(d,S,o,v,p)),null;case 27:if(Ce(d),p=Q.current,S=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==v&&lu(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return Hr(d),null}o=W.current,Yi(d)?Um(d):(o=O4(S,v,p),d.stateNode=o,lu(d))}return Hr(d),null;case 5:if(Ce(d),S=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==v&&lu(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return Hr(d),null}if(R=W.current,Yi(d))Um(d);else{var ee=ey(Q.current);switch(R){case 1:R=ee.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:R=ee.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":R=ee.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":R=ee.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":R=ee.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof v.is=="string"?ee.createElement("select",{is:v.is}):ee.createElement("select"),v.multiple?R.multiple=!0:v.size&&(R.size=v.size);break;default:R=typeof v.is=="string"?ee.createElement(S,{is:v.is}):ee.createElement(S)}}R[Gt]=d,R[$t]=v;e:for(ee=d.child;ee!==null;){if(ee.tag===5||ee.tag===6)R.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===d)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===d)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}d.stateNode=R;e:switch(Ca(R,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&lu(d)}}return Hr(d),E_(d,d.type,o===null?null:o.memoizedProps,d.pendingProps,p),null;case 6:if(o&&d.stateNode!=null)o.memoizedProps!==v&&lu(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(r(166));if(o=Q.current,Yi(d)){if(o=d.stateNode,p=d.memoizedProps,v=null,S=Ki,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}o[Gt]=d,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||b4(o.nodeValue,p)),o||sc(d,!0)}else o=ey(o).createTextNode(v),o[Gt]=d,d.stateNode=o}return Hr(d),null;case 31:if(p=d.memoizedState,o===null||o.memoizedState!==null){if(v=Yi(d),p!==null){if(o===null){if(!v)throw Error(r(318));if(o=d.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Gt]=d}else eu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Hr(d),o=!1}else p=Vm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return d.flags&256?(Wa(d),d):(Wa(d),null);if((d.flags&128)!==0)throw Error(r(558))}return Hr(d),null;case 13:if(v=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=Yi(d),v!==null&&v.dehydrated!==null){if(o===null){if(!S)throw Error(r(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Gt]=d}else eu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Hr(d),S=!1}else S=Vm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(Wa(d),d):(Wa(d),null)}return Wa(d),(d.flags&128)!==0?(d.lanes=p,d):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=d.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),R=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),R!==S&&(v.flags|=2048)),p!==o&&p&&(d.child.flags|=8192),Uv(d,d.updateQueue),Hr(d),null);case 4:return ae(),o===null&&H_(d.stateNode.containerInfo),Hr(d),null;case 10:return Ds(d.type),Hr(d),null;case 19:if(C(ti),v=d.memoizedState,v===null)return Hr(d),null;if(S=(d.flags&128)!==0,R=v.rendering,R===null)if(S)Qm(v,!1);else{if(hi!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(R=nu(o),R!==null){for(d.flags|=128,Qm(v,!1),o=R.updateQueue,d.updateQueue=o,Uv(d,o),d.subtreeFlags=0,o=p,p=d.child;p!==null;)Nf(p,o),p=p.sibling;return H(ti,ti.current&1|2),In&&ms(d,v.treeForkCount),d.child}o=o.sibling}v.tail!==null&&Xe()>zv&&(d.flags|=128,S=!0,Qm(v,!1),d.lanes=4194304)}else{if(!S)if(o=nu(R),o!==null){if(d.flags|=128,S=!0,o=o.updateQueue,d.updateQueue=o,Uv(d,o),Qm(v,!0),v.tail===null&&v.tailMode==="hidden"&&!R.alternate&&!In)return Hr(d),null}else 2*Xe()-v.renderingStartTime>zv&&p!==536870912&&(d.flags|=128,S=!0,Qm(v,!1),d.lanes=4194304);v.isBackwards?(R.sibling=d.child,d.child=R):(o=v.last,o!==null?o.sibling=R:d.child=R,v.last=R)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,p=ti.current,H(ti,S?p&1|2:p&1),In&&ms(d,v.treeForkCount),o):(Hr(d),null);case 22:case 23:return Wa(d),fi(),v=d.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(p&536870912)!==0&&(d.flags&128)===0&&(Hr(d),d.subtreeFlags&6&&(d.flags|=8192)):Hr(d),p=d.updateQueue,p!==null&&Uv(d,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048),o!==null&&C(de),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Ds(ai),Hr(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function Pz(o,d){switch(kh(d),d.tag){case 1:return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Ds(ai),ae(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 26:case 27:case 5:return Ce(d),null;case 31:if(d.memoizedState!==null){if(Wa(d),d.alternate===null)throw Error(r(340));eu()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 13:if(Wa(d),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));eu()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return C(ti),null;case 4:return ae(),null;case 10:return Ds(d.type),null;case 22:case 23:return Wa(d),fi(),o!==null&&C(de),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 24:return Ds(ai),null;case 25:return null;default:return null}}function SR(o,d){switch(kh(d),d.tag){case 3:Ds(ai),ae();break;case 26:case 27:case 5:Ce(d);break;case 4:ae();break;case 31:d.memoizedState!==null&&Wa(d);break;case 13:Wa(d);break;case 19:C(ti);break;case 10:Ds(d.type);break;case 22:case 23:Wa(d),fi(),o!==null&&C(de);break;case 24:Ds(ai)}}function Zm(o,d){try{var p=d.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&o)===o){v=void 0;var R=p.create,ee=p.inst;v=R(),ee.destroy=v}p=p.next}while(p!==S)}}catch(ve){vr(d,d.return,ve)}}function fd(o,d,p){try{var v=d.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var R=S.next;v=R;do{if((v.tag&o)===o){var ee=v.inst,ve=ee.destroy;if(ve!==void 0){ee.destroy=void 0,S=d;var Ie=p,We=ve;try{We()}catch(at){vr(S,Ie,at)}}}v=v.next}while(v!==R)}}catch(at){vr(d,d.return,at)}}function NR(o){var d=o.updateQueue;if(d!==null){var p=o.stateNode;try{_i(d,p)}catch(v){vr(o,o.return,v)}}}function TR(o,d,p){p.props=jf(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){vr(o,d,v)}}function eg(o,d){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(S){vr(o,d,S)}}function mc(o,d){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){vr(o,d,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){vr(o,d,S)}else p.current=null}function CR(o){var d=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){vr(o,o.return,S)}}function S_(o,d,p){try{var v=o.stateNode;tG(v,o.type,p,d),v[$t]=d}catch(S){vr(o,o.return,S)}}function IR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xd(o.type)||o.tag===4}function N_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function T_(o,d,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(o),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=$n));else if(v!==4&&(v===27&&xd(o.type)&&(p=o.stateNode,d=null),o=o.child,o!==null))for(T_(o,d,p),o=o.sibling;o!==null;)T_(o,d,p),o=o.sibling}function Vv(o,d,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,d?p.insertBefore(o,d):p.appendChild(o);else if(v!==4&&(v===27&&xd(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Vv(o,d,p),o=o.sibling;o!==null;)Vv(o,d,p),o=o.sibling}function RR(o){var d=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Ca(d,v,p),d[Gt]=o,d[$t]=p}catch(R){vr(o,o.return,R)}}var cu=!1,Fi=!1,C_=!1,OR=typeof WeakSet=="function"?WeakSet:Set,ha=null;function jz(o,d){if(o=o.containerInfo,Y_=oy,o=cl(o),ro(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,R=v.focusNode;v=v.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var ee=0,ve=-1,Ie=-1,We=0,at=0,ft=o,Qe=null;t:for(;;){for(var et;ft!==p||S!==0&&ft.nodeType!==3||(ve=ee+S),ft!==R||v!==0&&ft.nodeType!==3||(Ie=ee+v),ft.nodeType===3&&(ee+=ft.nodeValue.length),(et=ft.firstChild)!==null;)Qe=ft,ft=et;for(;;){if(ft===o)break t;if(Qe===p&&++We===S&&(ve=ee),Qe===R&&++at===v&&(Ie=ee),(et=ft.nextSibling)!==null)break;ft=Qe,Qe=ft.parentNode}ft=et}p=ve===-1||Ie===-1?null:{start:ve,end:Ie}}else p=null}p=p||{start:0,end:0}}else p=null;for(X_={focusedElem:o,selectionRange:p},oy=!1,ha=d;ha!==null;)if(d=ha,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,ha=o;else for(;ha!==null;){switch(d=ha,R=d.alternate,o=d.flags,d.tag){case 0:if((o&4)!==0&&(o=d.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)S=o[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,p=d,S=R.memoizedProps,R=R.memoizedState,v=p.stateNode;try{var Ft=jf(p.type,S);o=v.getSnapshotBeforeUpdate(Ft,R),v.__reactInternalSnapshotBeforeUpdate=o}catch(Zt){vr(p,p.return,Zt)}}break;case 3:if((o&1024)!==0){if(o=d.stateNode.containerInfo,p=o.nodeType,p===9)Z_(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Z_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=d.sibling,o!==null){o.return=d.return,ha=o;break}ha=d.return}}function kR(o,d,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:du(o,p),v&4&&Zm(5,p);break;case 1:if(du(o,p),v&4)if(o=p.stateNode,d===null)try{o.componentDidMount()}catch(ee){vr(p,p.return,ee)}else{var S=jf(p.type,d.memoizedProps);d=d.memoizedState;try{o.componentDidUpdate(S,d,o.__reactInternalSnapshotBeforeUpdate)}catch(ee){vr(p,p.return,ee)}}v&64&&NR(p),v&512&&eg(p,p.return);break;case 3:if(du(o,p),v&64&&(o=p.updateQueue,o!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{_i(o,d)}catch(ee){vr(p,p.return,ee)}}break;case 27:d===null&&v&4&&RR(p);case 26:case 5:du(o,p),d===null&&v&4&&CR(p),v&512&&eg(p,p.return);break;case 12:du(o,p);break;case 31:du(o,p),v&4&&DR(o,p);break;case 13:du(o,p),v&4&&MR(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=$z.bind(null,p),cG(o,p))));break;case 22:if(v=p.memoizedState!==null||cu,!v){d=d!==null&&d.memoizedState!==null||Fi,S=cu;var R=Fi;cu=v,(Fi=d)&&!R?fu(o,p,(p.subtreeFlags&8772)!==0):du(o,p),cu=S,Fi=R}break;case 30:break;default:du(o,p)}}function PR(o){var d=o.alternate;d!==null&&(o.alternate=null,PR(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&jn(d)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ri=null,Ls=!1;function uu(o,d,p){for(p=p.child;p!==null;)jR(o,d,p),p=p.sibling}function jR(o,d,p){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(en,p)}catch{}switch(p.tag){case 26:Fi||mc(p,d),uu(o,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Fi||mc(p,d);var v=ri,S=Ls;xd(p.type)&&(ri=p.stateNode,Ls=!1),uu(o,d,p),cg(p.stateNode),ri=v,Ls=S;break;case 5:Fi||mc(p,d);case 6:if(v=ri,S=Ls,ri=null,uu(o,d,p),ri=v,Ls=S,ri!==null)if(Ls)try{(ri.nodeType===9?ri.body:ri.nodeName==="HTML"?ri.ownerDocument.body:ri).removeChild(p.stateNode)}catch(R){vr(p,d,R)}else try{ri.removeChild(p.stateNode)}catch(R){vr(p,d,R)}break;case 18:ri!==null&&(Ls?(o=ri,N4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),rp(o)):N4(ri,p.stateNode));break;case 4:v=ri,S=Ls,ri=p.stateNode.containerInfo,Ls=!0,uu(o,d,p),ri=v,Ls=S;break;case 0:case 11:case 14:case 15:fd(2,p,d),Fi||fd(4,p,d),uu(o,d,p);break;case 1:Fi||(mc(p,d),v=p.stateNode,typeof v.componentWillUnmount=="function"&&TR(p,d,v)),uu(o,d,p);break;case 21:uu(o,d,p);break;case 22:Fi=(v=Fi)||p.memoizedState!==null,uu(o,d,p),Fi=v;break;default:uu(o,d,p)}}function DR(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{rp(o)}catch(p){vr(d,d.return,p)}}}function MR(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{rp(o)}catch(p){vr(d,d.return,p)}}function Dz(o){switch(o.tag){case 31:case 13:case 19:var d=o.stateNode;return d===null&&(d=o.stateNode=new OR),d;case 22:return o=o.stateNode,d=o._retryCache,d===null&&(d=o._retryCache=new OR),d;default:throw Error(r(435,o.tag))}}function qv(o,d){var p=Dz(o);d.forEach(function(v){if(!p.has(v)){p.add(v);var S=zz.bind(null,o,v);v.then(S,S)}})}function Fs(o,d){var p=d.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],R=o,ee=d,ve=ee;e:for(;ve!==null;){switch(ve.tag){case 27:if(xd(ve.type)){ri=ve.stateNode,Ls=!1;break e}break;case 5:ri=ve.stateNode,Ls=!1;break e;case 3:case 4:ri=ve.stateNode.containerInfo,Ls=!0;break e}ve=ve.return}if(ri===null)throw Error(r(160));jR(R,ee,S),ri=null,Ls=!1,R=S.alternate,R!==null&&(R.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)LR(d,o),d=d.sibling}var bl=null;function LR(o,d){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Fs(d,o),Us(o),v&4&&(fd(3,o,o.return),Zm(3,o),fd(5,o,o.return));break;case 1:Fs(d,o),Us(o),v&512&&(Fi||p===null||mc(p,p.return)),v&64&&cu&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=bl;if(Fs(d,o),Us(o),v&512&&(Fi||p===null||mc(p,p.return)),v&4){var R=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":R=S.getElementsByTagName("title")[0],(!R||R[Mr]||R[Gt]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=S.createElement(v),S.head.insertBefore(R,S.querySelector("head > title"))),Ca(R,v,p),R[Gt]=o,$r(R),v=R;break e;case"link":var ee=L4("link","href",S).get(v+(p.href||""));if(ee){for(var ve=0;ve<ee.length;ve++)if(R=ee[ve],R.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&R.getAttribute("rel")===(p.rel==null?null:p.rel)&&R.getAttribute("title")===(p.title==null?null:p.title)&&R.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ee.splice(ve,1);break t}}R=S.createElement(v),Ca(R,v,p),S.head.appendChild(R);break;case"meta":if(ee=L4("meta","content",S).get(v+(p.content||""))){for(ve=0;ve<ee.length;ve++)if(R=ee[ve],R.getAttribute("content")===(p.content==null?null:""+p.content)&&R.getAttribute("name")===(p.name==null?null:p.name)&&R.getAttribute("property")===(p.property==null?null:p.property)&&R.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&R.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ee.splice(ve,1);break t}}R=S.createElement(v),Ca(R,v,p),S.head.appendChild(R);break;default:throw Error(r(468,v))}R[Gt]=o,$r(R),v=R}o.stateNode=v}else F4(S,o.type,o.stateNode);else o.stateNode=M4(S,v,o.memoizedProps);else R!==v?(R===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):R.count--,v===null?F4(S,o.type,o.stateNode):M4(S,v,o.memoizedProps)):v===null&&o.stateNode!==null&&S_(o,o.memoizedProps,p.memoizedProps)}break;case 27:Fs(d,o),Us(o),v&512&&(Fi||p===null||mc(p,p.return)),p!==null&&v&4&&S_(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Fs(d,o),Us(o),v&512&&(Fi||p===null||mc(p,p.return)),o.flags&32){S=o.stateNode;try{ia(S,"")}catch(Ft){vr(o,o.return,Ft)}}v&4&&o.stateNode!=null&&(S=o.memoizedProps,S_(o,S,p!==null?p.memoizedProps:S)),v&1024&&(C_=!0);break;case 6:if(Fs(d,o),Us(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(Ft){vr(o,o.return,Ft)}}break;case 3:if(ry=null,S=bl,bl=ty(d.containerInfo),Fs(d,o),bl=S,Us(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{rp(d.containerInfo)}catch(Ft){vr(o,o.return,Ft)}C_&&(C_=!1,FR(o));break;case 4:v=bl,bl=ty(o.stateNode.containerInfo),Fs(d,o),Us(o),bl=v;break;case 12:Fs(d,o),Us(o);break;case 31:Fs(d,o),Us(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,qv(o,v)));break;case 13:Fs(d,o),Us(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&($v=Xe()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,qv(o,v)));break;case 22:S=o.memoizedState!==null;var Ie=p!==null&&p.memoizedState!==null,We=cu,at=Fi;if(cu=We||S,Fi=at||Ie,Fs(d,o),Fi=at,cu=We,Us(o),v&8192)e:for(d=o.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(p===null||Ie||cu||Fi||Df(o)),p=null,d=o;;){if(d.tag===5||d.tag===26){if(p===null){Ie=p=d;try{if(R=Ie.stateNode,S)ee=R.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{ve=Ie.stateNode;var ft=Ie.memoizedProps.style,Qe=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;ve.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Ft){vr(Ie,Ie.return,Ft)}}}else if(d.tag===6){if(p===null){Ie=d;try{Ie.stateNode.nodeValue=S?"":Ie.memoizedProps}catch(Ft){vr(Ie,Ie.return,Ft)}}}else if(d.tag===18){if(p===null){Ie=d;try{var et=Ie.stateNode;S?T4(et,!0):T4(Ie.stateNode,!1)}catch(Ft){vr(Ie,Ie.return,Ft)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===o)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break e;for(;d.sibling===null;){if(d.return===null||d.return===o)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,qv(o,p))));break;case 19:Fs(d,o),Us(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,qv(o,v)));break;case 30:break;case 21:break;default:Fs(d,o),Us(o)}}function Us(o){var d=o.flags;if(d&2){try{for(var p,v=o.return;v!==null;){if(IR(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var S=p.stateNode,R=N_(o);Vv(o,R,S);break;case 5:var ee=p.stateNode;p.flags&32&&(ia(ee,""),p.flags&=-33);var ve=N_(o);Vv(o,ve,ee);break;case 3:case 4:var Ie=p.stateNode.containerInfo,We=N_(o);T_(o,We,Ie);break;default:throw Error(r(161))}}catch(at){vr(o,o.return,at)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function FR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var d=o;FR(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),o=o.sibling}}function du(o,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)kR(o,d.alternate,d),d=d.sibling}function Df(o){for(o=o.child;o!==null;){var d=o;switch(d.tag){case 0:case 11:case 14:case 15:fd(4,d,d.return),Df(d);break;case 1:mc(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&TR(d,d.return,p),Df(d);break;case 27:cg(d.stateNode);case 26:case 5:mc(d,d.return),Df(d);break;case 22:d.memoizedState===null&&Df(d);break;case 30:Df(d);break;default:Df(d)}o=o.sibling}}function fu(o,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,S=o,R=d,ee=R.flags;switch(R.tag){case 0:case 11:case 15:fu(S,R,p),Zm(4,R);break;case 1:if(fu(S,R,p),v=R,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(We){vr(v,v.return,We)}if(v=R,S=v.updateQueue,S!==null){var ve=v.stateNode;try{var Ie=S.shared.hiddenCallbacks;if(Ie!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ie.length;S++)Ha(Ie[S],ve)}catch(We){vr(v,v.return,We)}}p&&ee&64&&NR(R),eg(R,R.return);break;case 27:RR(R);case 26:case 5:fu(S,R,p),p&&v===null&&ee&4&&CR(R),eg(R,R.return);break;case 12:fu(S,R,p);break;case 31:fu(S,R,p),p&&ee&4&&DR(S,R);break;case 13:fu(S,R,p),p&&ee&4&&MR(S,R);break;case 22:R.memoizedState===null&&fu(S,R,p),eg(R,R.return);break;case 30:break;default:fu(S,R,p)}d=d.sibling}}function I_(o,d){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(o=d.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&If(p))}function R_(o,d){o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&If(o))}function _l(o,d,p,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)UR(o,d,p,v),d=d.sibling}function UR(o,d,p,v){var S=d.flags;switch(d.tag){case 0:case 11:case 15:_l(o,d,p,v),S&2048&&Zm(9,d);break;case 1:_l(o,d,p,v);break;case 3:_l(o,d,p,v),S&2048&&(o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&If(o)));break;case 12:if(S&2048){_l(o,d,p,v),o=d.stateNode;try{var R=d.memoizedProps,ee=R.id,ve=R.onPostCommit;typeof ve=="function"&&ve(ee,d.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ie){vr(d,d.return,Ie)}}else _l(o,d,p,v);break;case 31:_l(o,d,p,v);break;case 13:_l(o,d,p,v);break;case 23:break;case 22:R=d.stateNode,ee=d.alternate,d.memoizedState!==null?R._visibility&2?_l(o,d,p,v):tg(o,d):R._visibility&2?_l(o,d,p,v):(R._visibility|=2,Hh(o,d,p,v,(d.subtreeFlags&10256)!==0||!1)),S&2048&&I_(ee,d);break;case 24:_l(o,d,p,v),S&2048&&R_(d.alternate,d);break;default:_l(o,d,p,v)}}function Hh(o,d,p,v,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var R=o,ee=d,ve=p,Ie=v,We=ee.flags;switch(ee.tag){case 0:case 11:case 15:Hh(R,ee,ve,Ie,S),Zm(8,ee);break;case 23:break;case 22:var at=ee.stateNode;ee.memoizedState!==null?at._visibility&2?Hh(R,ee,ve,Ie,S):tg(R,ee):(at._visibility|=2,Hh(R,ee,ve,Ie,S)),S&&We&2048&&I_(ee.alternate,ee);break;case 24:Hh(R,ee,ve,Ie,S),S&&We&2048&&R_(ee.alternate,ee);break;default:Hh(R,ee,ve,Ie,S)}d=d.sibling}}function tg(o,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=o,v=d,S=v.flags;switch(v.tag){case 22:tg(p,v),S&2048&&I_(v.alternate,v);break;case 24:tg(p,v),S&2048&&R_(v.alternate,v);break;default:tg(p,v)}d=d.sibling}}var ng=8192;function Wh(o,d,p){if(o.subtreeFlags&ng)for(o=o.child;o!==null;)VR(o,d,p),o=o.sibling}function VR(o,d,p){switch(o.tag){case 26:Wh(o,d,p),o.flags&ng&&o.memoizedState!==null&&_G(p,bl,o.memoizedState,o.memoizedProps);break;case 5:Wh(o,d,p);break;case 3:case 4:var v=bl;bl=ty(o.stateNode.containerInfo),Wh(o,d,p),bl=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=ng,ng=16777216,Wh(o,d,p),ng=v):Wh(o,d,p));break;default:Wh(o,d,p)}}function qR(o){var d=o.alternate;if(d!==null&&(o=d.child,o!==null)){d.child=null;do d=o.sibling,o.sibling=null,o=d;while(o!==null)}}function rg(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];ha=v,$R(v,o)}qR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)BR(o),o=o.sibling}function BR(o){switch(o.tag){case 0:case 11:case 15:rg(o),o.flags&2048&&fd(9,o,o.return);break;case 3:rg(o);break;case 12:rg(o);break;case 22:var d=o.stateNode;o.memoizedState!==null&&d._visibility&2&&(o.return===null||o.return.tag!==13)?(d._visibility&=-3,Bv(o)):rg(o);break;default:rg(o)}}function Bv(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];ha=v,$R(v,o)}qR(o)}for(o=o.child;o!==null;){switch(d=o,d.tag){case 0:case 11:case 15:fd(8,d,d.return),Bv(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,Bv(d));break;default:Bv(d)}o=o.sibling}}function $R(o,d){for(;ha!==null;){var p=ha;switch(p.tag){case 0:case 11:case 15:fd(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:If(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,ha=v;else e:for(p=o;ha!==null;){v=ha;var S=v.sibling,R=v.return;if(PR(v),v===p){ha=null;break e}if(S!==null){S.return=R,ha=S;break e}ha=R}}}var Mz={getCacheForType:function(o){var d=Xi(ai),p=d.data.get(o);return p===void 0&&(p=o(),d.data.set(o,p)),p},cacheSignal:function(){return Xi(ai).controller.signal}},Lz=typeof WeakMap=="function"?WeakMap:Map,lr=0,Cr=null,On=null,Ln=0,gr=0,co=null,hd=!1,Kh=!1,O_=!1,hu=0,hi=0,pd=0,Mf=0,k_=0,uo=0,Yh=0,ig=null,Vs=null,P_=!1,$v=0,zR=0,zv=1/0,Gv=null,md=null,Qi=0,gd=null,Xh=null,pu=0,j_=0,D_=null,GR=null,ag=0,M_=null;function fo(){return(lr&2)!==0&&Ln!==0?Ln&-Ln:ne.T!==null?B_():Ze()}function HR(){if(uo===0)if((Ln&536870912)===0||In){var o=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),uo=o}else uo=536870912;return o=si.current,o!==null&&(o.flags|=32),uo}function qs(o,d,p){(o===Cr&&(gr===2||gr===9)||o.cancelPendingCommit!==null)&&(Jh(o,0),vd(o,Ln,uo,!1)),bi(o,p),((lr&2)===0||o!==Cr)&&(o===Cr&&((lr&2)===0&&(Mf|=p),hi===4&&vd(o,Ln,uo,!1)),gc(o))}function WR(o,d,p){if((lr&6)!==0)throw Error(r(327));var v=!p&&(d&127)===0&&(d&o.expiredLanes)===0||bn(o,d),S=v?Vz(o,d):F_(o,d,!0),R=v;do{if(S===0){Kh&&!v&&vd(o,d,0,!1);break}else{if(p=o.current.alternate,R&&!Fz(p)){S=F_(o,d,!1),R=!1;continue}if(S===2){if(R=d,o.errorRecoveryDisabledLanes&R)var ee=0;else ee=o.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){d=ee;e:{var ve=o;S=ig;var Ie=ve.current.memoizedState.isDehydrated;if(Ie&&(Jh(ve,ee).flags|=256),ee=F_(ve,ee,!1),ee!==2){if(O_&&!Ie){ve.errorRecoveryDisabledLanes|=R,Mf|=R,S=4;break e}R=Vs,Vs=S,R!==null&&(Vs===null?Vs=R:Vs.push.apply(Vs,R))}S=ee}if(R=!1,S!==2)continue}}if(S===1){Jh(o,0),vd(o,d,0,!0);break}e:{switch(v=o,R=S,R){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:vd(v,d,uo,!hd);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(S=$v+300-Xe(),10<S)){if(vd(v,d,uo,!hd),Mt(v,0,!0)!==0)break e;pu=d,v.timeoutHandle=E4(KR.bind(null,v,p,Vs,Gv,P_,d,uo,Mf,Yh,hd,R,"Throttled",-0,0),S);break e}KR(v,p,Vs,Gv,P_,d,uo,Mf,Yh,hd,R,null,-0,0)}}break}while(!0);gc(o)}function KR(o,d,p,v,S,R,ee,ve,Ie,We,at,ft,Qe,et){if(o.timeoutHandle=-1,ft=d.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},VR(d,R,ft);var Ft=(R&62914560)===R?$v-Xe():(R&4194048)===R?zR-Xe():0;if(Ft=wG(ft,Ft),Ft!==null){pu=R,o.cancelPendingCommit=Ft(n4.bind(null,o,d,R,p,v,S,ee,ve,Ie,at,ft,null,Qe,et)),vd(o,R,ee,!We);return}}n4(o,d,R,p,v,S,ee,ve,Ie)}function Fz(o){for(var d=o;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],R=S.getSnapshot;S=S.value;try{if(!oa(R(),S))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function vd(o,d,p,v){d&=~k_,d&=~Mf,o.suspendedLanes|=d,o.pingedLanes&=~d,v&&(o.warmLanes|=d),v=o.expirationTimes;for(var S=d;0<S;){var R=31-xn(S),ee=1<<R;v[R]=-1,S&=~ee}p!==0&&Ci(o,p,d)}function Hv(){return(lr&6)===0?(sg(0),!1):!0}function L_(){if(On!==null){if(gr===0)var o=On.return;else o=On,Ro=oc=null,Uh(o),ot=null,It=0,o=On;for(;o!==null;)SR(o.alternate,o),o=o.return;On=null}}function Jh(o,d){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,iG(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),pu=0,L_(),Cr=o,On=p=Is(o.current,null),Ln=d,gr=0,co=null,hd=!1,Kh=bn(o,d),O_=!1,Yh=uo=k_=Mf=pd=hi=0,Vs=ig=null,P_=!1,(d&8)!==0&&(d|=d&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=d;0<v;){var S=31-xn(v),R=1<<S;d|=o[S],v&=~R}return hu=d,rc(),p}function YR(o,d){ln=null,ne.H=Xm,d===Oe||d===$e?(d=lt(),gr=3):d===ze?(d=lt(),gr=4):gr=d===m_?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,co=d,On===null&&(hi=1,Dv(o,Rs(d,o.current)))}function XR(){var o=si.current;return o===null?!0:(Ln&4194048)===Ln?Di===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?o===Di:!1}function JR(){var o=ne.H;return ne.H=Xm,o===null?Xm:o}function QR(){var o=ne.A;return ne.A=Mz,o}function Wv(){hi=4,hd||(Ln&4194048)!==Ln&&si.current!==null||(Kh=!0),(pd&134217727)===0&&(Mf&134217727)===0||Cr===null||vd(Cr,Ln,uo,!1)}function F_(o,d,p){var v=lr;lr|=2;var S=JR(),R=QR();(Cr!==o||Ln!==d)&&(Gv=null,Jh(o,d)),d=!1;var ee=hi;e:do try{if(gr!==0&&On!==null){var ve=On,Ie=co;switch(gr){case 8:L_(),ee=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(d=!0);var We=gr;if(gr=0,co=null,Qh(o,ve,Ie,We),p&&Kh){ee=0;break e}break;default:We=gr,gr=0,co=null,Qh(o,ve,Ie,We)}}Uz(),ee=hi;break}catch(at){YR(o,at)}while(!0);return d&&o.shellSuspendCounter++,Ro=oc=null,lr=v,ne.H=S,ne.A=R,On===null&&(Cr=null,Ln=0,rc()),ee}function Uz(){for(;On!==null;)ZR(On)}function Vz(o,d){var p=lr;lr|=2;var v=JR(),S=QR();Cr!==o||Ln!==d?(Gv=null,zv=Xe()+500,Jh(o,d)):Kh=bn(o,d);e:do try{if(gr!==0&&On!==null){d=On;var R=co;t:switch(gr){case 1:gr=0,co=null,Qh(o,d,R,1);break;case 2:case 9:if(dt(R)){gr=0,co=null,e4(d);break}d=function(){gr!==2&&gr!==9||Cr!==o||(gr=7),gc(o)},R.then(d,d);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:dt(R)?(gr=0,co=null,e4(d)):(gr=0,co=null,Qh(o,d,R,7));break;case 5:var ee=null;switch(On.tag){case 26:ee=On.memoizedState;case 5:case 27:var ve=On;if(ee?U4(ee):ve.stateNode.complete){gr=0,co=null;var Ie=ve.sibling;if(Ie!==null)On=Ie;else{var We=ve.return;We!==null?(On=We,Kv(We)):On=null}break t}}gr=0,co=null,Qh(o,d,R,5);break;case 6:gr=0,co=null,Qh(o,d,R,6);break;case 8:L_(),hi=6;break e;default:throw Error(r(462))}}qz();break}catch(at){YR(o,at)}while(!0);return Ro=oc=null,ne.H=v,ne.A=S,lr=p,On!==null?0:(Cr=null,Ln=0,rc(),hi)}function qz(){for(;On!==null&&!rt();)ZR(On)}function ZR(o){var d=AR(o.alternate,o,hu);o.memoizedProps=o.pendingProps,d===null?Kv(o):On=d}function e4(o){var d=o,p=d.alternate;switch(d.tag){case 15:case 0:d=vR(p,d,d.pendingProps,d.type,void 0,Ln);break;case 11:d=vR(p,d,d.pendingProps,d.type.render,d.ref,Ln);break;case 5:Uh(d);default:SR(p,d),d=On=Nf(d,hu),d=AR(p,d,hu)}o.memoizedProps=o.pendingProps,d===null?Kv(o):On=d}function Qh(o,d,p,v){Ro=oc=null,Uh(d),ot=null,It=0;var S=d.return;try{if(Iz(o,S,d,p,Ln)){hi=1,Dv(o,Rs(p,o.current)),On=null;return}}catch(R){if(S!==null)throw On=S,R;hi=1,Dv(o,Rs(p,o.current)),On=null;return}d.flags&32768?(In||v===1?o=!0:Kh||(Ln&536870912)!==0?o=!1:(hd=o=!0,(v===2||v===9||v===3||v===6)&&(v=si.current,v!==null&&v.tag===13&&(v.flags|=16384))),t4(d,o)):Kv(d)}function Kv(o){var d=o;do{if((d.flags&32768)!==0){t4(d,hd);return}o=d.return;var p=kz(d.alternate,d,hu);if(p!==null){On=p;return}if(d=d.sibling,d!==null){On=d;return}On=d=o}while(d!==null);hi===0&&(hi=5)}function t4(o,d){do{var p=Pz(o.alternate,o);if(p!==null){p.flags&=32767,On=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(o=o.sibling,o!==null)){On=o;return}On=o=p}while(o!==null);hi=6,On=null}function n4(o,d,p,v,S,R,ee,ve,Ie){o.cancelPendingCommit=null;do Yv();while(Qi!==0);if((lr&6)!==0)throw Error(r(327));if(d!==null){if(d===o.current)throw Error(r(177));if(R=d.lanes|d.childLanes,R|=oo,Ot(o,p,R,ee,ve,Ie),o===Cr&&(On=Cr=null,Ln=0),Xh=d,gd=o,pu=p,j_=R,D_=S,GR=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Gz(Dt,function(){return o4(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null,S=ie.p,ie.p=2,ee=lr,lr|=4;try{jz(o,d,p)}finally{lr=ee,ie.p=S,ne.T=v}}Qi=1,r4(),i4(),a4()}}function r4(){if(Qi===1){Qi=0;var o=gd,d=Xh,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=ne.T,ne.T=null;var v=ie.p;ie.p=2;var S=lr;lr|=4;try{LR(d,o);var R=X_,ee=cl(o.containerInfo),ve=R.focusedElem,Ie=R.selectionRange;if(ee!==ve&&ve&&ve.ownerDocument&&la(ve.ownerDocument.documentElement,ve)){if(Ie!==null&&ro(ve)){var We=Ie.start,at=Ie.end;if(at===void 0&&(at=We),"selectionStart"in ve)ve.selectionStart=We,ve.selectionEnd=Math.min(at,ve.value.length);else{var ft=ve.ownerDocument||document,Qe=ft&&ft.defaultView||window;if(Qe.getSelection){var et=Qe.getSelection(),Ft=ve.textContent.length,Zt=Math.min(Ie.start,Ft),wr=Ie.end===void 0?Zt:Math.min(Ie.end,Ft);!et.extend&&Zt>wr&&(ee=wr,wr=Zt,Zt=ee);var qe=Sa(ve,Zt),Pe=Sa(ve,wr);if(qe&&Pe&&(et.rangeCount!==1||et.anchorNode!==qe.node||et.anchorOffset!==qe.offset||et.focusNode!==Pe.node||et.focusOffset!==Pe.offset)){var He=ft.createRange();He.setStart(qe.node,qe.offset),et.removeAllRanges(),Zt>wr?(et.addRange(He),et.extend(Pe.node,Pe.offset)):(He.setEnd(Pe.node,Pe.offset),et.addRange(He))}}}}for(ft=[],et=ve;et=et.parentNode;)et.nodeType===1&&ft.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<ft.length;ve++){var ct=ft[ve];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}oy=!!Y_,X_=Y_=null}finally{lr=S,ie.p=v,ne.T=p}}o.current=d,Qi=2}}function i4(){if(Qi===2){Qi=0;var o=gd,d=Xh,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=ne.T,ne.T=null;var v=ie.p;ie.p=2;var S=lr;lr|=4;try{kR(o,d.alternate,d)}finally{lr=S,ie.p=v,ne.T=p}}Qi=3}}function a4(){if(Qi===4||Qi===3){Qi=0,it();var o=gd,d=Xh,p=pu,v=GR;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Qi=5:(Qi=0,Xh=gd=null,s4(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(md=null),pe(p),d=d.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(en,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=ne.T,S=ie.p,ie.p=2,ne.T=null;try{for(var R=o.onRecoverableError,ee=0;ee<v.length;ee++){var ve=v[ee];R(ve.value,{componentStack:ve.stack})}}finally{ne.T=d,ie.p=S}}(pu&3)!==0&&Yv(),gc(o),S=o.pendingLanes,(p&261930)!==0&&(S&42)!==0?o===M_?ag++:(ag=0,M_=o):ag=0,sg(0)}}function s4(o,d){(o.pooledCacheLanes&=d)===0&&(d=o.pooledCache,d!=null&&(o.pooledCache=null,If(d)))}function Yv(){return r4(),i4(),a4(),o4()}function o4(){if(Qi!==5)return!1;var o=gd,d=j_;j_=0;var p=pe(pu),v=ne.T,S=ie.p;try{ie.p=32>p?32:p,ne.T=null,p=D_,D_=null;var R=gd,ee=pu;if(Qi=0,Xh=gd=null,pu=0,(lr&6)!==0)throw Error(r(331));var ve=lr;if(lr|=4,BR(R.current),UR(R,R.current,ee,p),lr=ve,sg(0,!1),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(en,R)}catch{}return!0}finally{ie.p=S,ne.T=v,s4(o,d)}}function l4(o,d,p){d=Rs(p,d),d=p_(o.stateNode,d,2),o=mr(o,d,2),o!==null&&(bi(o,2),gc(o))}function vr(o,d,p){if(o.tag===3)l4(o,o,p);else for(;d!==null;){if(d.tag===3){l4(d,o,p);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(md===null||!md.has(v))){o=Rs(p,o),p=cR(2),v=mr(d,p,2),v!==null&&(uR(p,v,d,o),bi(v,2),gc(v));break}}d=d.return}}function U_(o,d,p){var v=o.pingCache;if(v===null){v=o.pingCache=new Lz;var S=new Set;v.set(d,S)}else S=v.get(d),S===void 0&&(S=new Set,v.set(d,S));S.has(p)||(O_=!0,S.add(p),o=Bz.bind(null,o,d,p),d.then(o,o))}function Bz(o,d,p){var v=o.pingCache;v!==null&&v.delete(d),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Cr===o&&(Ln&p)===p&&(hi===4||hi===3&&(Ln&62914560)===Ln&&300>Xe()-$v?(lr&2)===0&&Jh(o,0):k_|=p,Yh===Ln&&(Yh=0)),gc(o)}function c4(o,d){d===0&&(d=Pr()),o=hl(o,d),o!==null&&(bi(o,d),gc(o))}function $z(o){var d=o.memoizedState,p=0;d!==null&&(p=d.retryLane),c4(o,p)}function zz(o,d){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(d),c4(o,p)}function Gz(o,d){return Ye(o,d)}var Xv=null,Zh=null,V_=!1,Jv=!1,q_=!1,yd=0;function gc(o){o!==Zh&&o.next===null&&(Zh===null?Xv=Zh=o:Zh=Zh.next=o),Jv=!0,V_||(V_=!0,Wz())}function sg(o,d){if(!q_&&Jv){q_=!0;do for(var p=!1,v=Xv;v!==null;){if(o!==0){var S=v.pendingLanes;if(S===0)var R=0;else{var ee=v.suspendedLanes,ve=v.pingedLanes;R=(1<<31-xn(42|o)+1)-1,R&=S&~(ee&~ve),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(p=!0,h4(v,R))}else R=Ln,R=Mt(v,v===Cr?R:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(R&3)===0||bn(v,R)||(p=!0,h4(v,R));v=v.next}while(p);q_=!1}}function Hz(){u4()}function u4(){Jv=V_=!1;var o=0;yd!==0&&rG()&&(o=yd);for(var d=Xe(),p=null,v=Xv;v!==null;){var S=v.next,R=d4(v,d);R===0?(v.next=null,p===null?Xv=S:p.next=S,S===null&&(Zh=p)):(p=v,(o!==0||(R&3)!==0)&&(Jv=!0)),v=S}Qi!==0&&Qi!==5||sg(o),yd!==0&&(yd=0)}function d4(o,d){for(var p=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var ee=31-xn(R),ve=1<<ee,Ie=S[ee];Ie===-1?((ve&p)===0||(ve&v)!==0)&&(S[ee]=xi(ve,d)):Ie<=d&&(o.expiredLanes|=ve),R&=~ve}if(d=Cr,p=Ln,p=Mt(o,o===d?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===d&&(gr===2||gr===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Je(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||bn(o,p)){if(d=p&-p,d===o.callbackPriority)return d;switch(v!==null&&Je(v),pe(p)){case 2:case 8:p=At;break;case 32:p=Dt;break;case 268435456:p=qt;break;default:p=Dt}return v=f4.bind(null,o),p=Ye(p,v),o.callbackPriority=d,o.callbackNode=p,d}return v!==null&&v!==null&&Je(v),o.callbackPriority=2,o.callbackNode=null,2}function f4(o,d){if(Qi!==0&&Qi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Yv()&&o.callbackNode!==p)return null;var v=Ln;return v=Mt(o,o===Cr?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(WR(o,v,d),d4(o,Xe()),o.callbackNode!=null&&o.callbackNode===p?f4.bind(null,o):null)}function h4(o,d){if(Yv())return null;WR(o,d,!0)}function Wz(){aG(function(){(lr&6)!==0?Ye(bt,Hz):u4()})}function B_(){if(yd===0){var o=b;o===0&&(o=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),yd=o}return yd}function p4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ds(""+o)}function m4(o,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,o.id&&p.setAttribute("form",o.id),d.parentNode.insertBefore(p,d),o=new FormData(o),p.parentNode.removeChild(p),o}function Kz(o,d,p,v,S){if(d==="submit"&&p&&p.stateNode===S){var R=p4((S[$t]||null).action),ee=v.submitter;ee&&(d=(d=ee[$t]||null)?p4(d.formAction):ee.getAttribute("formAction"),d!==null&&(R=d,ee=null));var ve=new So("action","action",null,v,S);o.push({event:ve,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(yd!==0){var Ie=ee?m4(S,ee):new FormData(S);l_(p,{pending:!0,data:Ie,method:S.method,action:R},null,Ie)}}else typeof R=="function"&&(ve.preventDefault(),Ie=ee?m4(S,ee):new FormData(S),l_(p,{pending:!0,data:Ie,method:S.method,action:R},R,Ie))},currentTarget:S}]})}}for(var $_=0;$_<Ga.length;$_++){var z_=Ga[$_],Yz=z_.toLowerCase(),Xz=z_[0].toUpperCase()+z_.slice(1);Cn(Yz,"on"+Xz)}Cn(ec,"onAnimationEnd"),Cn(dl,"onAnimationIteration"),Cn(tc,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Zu,"onTransitionRun"),Cn(Qc,"onTransitionStart"),Cn(nc,"onTransitionCancel"),Cn(ed,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(og));function g4(o,d){d=(d&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],S=v.event;v=v.listeners;e:{var R=void 0;if(d)for(var ee=v.length-1;0<=ee;ee--){var ve=v[ee],Ie=ve.instance,We=ve.currentTarget;if(ve=ve.listener,Ie!==R&&S.isPropagationStopped())break e;R=ve,S.currentTarget=We;try{R(S)}catch(at){sr(at)}S.currentTarget=null,R=Ie}else for(ee=0;ee<v.length;ee++){if(ve=v[ee],Ie=ve.instance,We=ve.currentTarget,ve=ve.listener,Ie!==R&&S.isPropagationStopped())break e;R=ve,S.currentTarget=We;try{R(S)}catch(at){sr(at)}S.currentTarget=null,R=Ie}}}}function kn(o,d){var p=d[Be];p===void 0&&(p=d[Be]=new Set);var v=o+"__bubble";p.has(v)||(v4(d,o,2,!1),p.add(v))}function G_(o,d,p){var v=0;d&&(v|=4),v4(p,o,v,d)}var Qv="_reactListening"+Math.random().toString(36).slice(2);function H_(o){if(!o[Qv]){o[Qv]=!0,Ws.forEach(function(p){p!=="selectionchange"&&(Jz.has(p)||G_(p,!1,o),G_(p,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[Qv]||(d[Qv]=!0,G_("selectionchange",!1,d))}}function v4(o,d,p,v){switch(H4(d)){case 2:var S=SG;break;case 8:S=NG;break;default:S=o2}p=S.bind(null,d,p,o),S=void 0,!nl||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(d,p,{capture:!0,passive:S}):o.addEventListener(d,p,!0):S!==void 0?o.addEventListener(d,p,{passive:S}):o.addEventListener(d,p,!1)}function W_(o,d,p,v,S){var R=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var ee=v.tag;if(ee===3||ee===4){var ve=v.stateNode.containerInfo;if(ve===S)break;if(ee===4)for(ee=v.return;ee!==null;){var Ie=ee.tag;if((Ie===3||Ie===4)&&ee.stateNode.containerInfo===S)return;ee=ee.return}for(;ve!==null;){if(ee=Lr(ve),ee===null)return;if(Ie=ee.tag,Ie===5||Ie===6||Ie===26||Ie===27){v=R=ee;continue e}ve=ve.parentNode}}v=v.return}Wc(function(){var We=R,at=tl(p),ft=[];e:{var Qe=ps.get(o);if(Qe!==void 0){var et=So,Ft=o;switch(o){case"keypress":if(Ba(p)===0)break e;case"keydown":case"keyup":et=Xl;break;case"focusin":Ft="focus",et=No;break;case"focusout":Ft="blur",et=No;break;case"beforeblur":case"afterblur":et=No;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=oe;break;case ec:case dl:case tc:et=Hl;break;case ed:et=Re;break;case"scroll":case"scrollend":et=Kc;break;case"wheel":et=nt;break;case"copy":case"cut":case"paste":et=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=sl;break;case"toggle":case"beforetoggle":et=Nt}var Zt=(d&4)!==0,wr=!Zt&&(o==="scroll"||o==="scrollend"),qe=Zt?Qe!==null?Qe+"Capture":null:Qe;Zt=[];for(var Pe=We,He;Pe!==null;){var ct=Pe;if(He=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||He===null||qe===null||(ct=Gi(Pe,qe),ct!=null&&Zt.push(lg(Pe,ct,He))),wr)break;Pe=Pe.return}0<Zt.length&&(Qe=new et(Qe,Ft,null,p,at),ft.push({event:Qe,listeners:Zt}))}}if((d&7)===0){e:{if(Qe=o==="mouseover"||o==="pointerover",et=o==="mouseout"||o==="pointerout",Qe&&p!==$l&&(Ft=p.relatedTarget||p.fromElement)&&(Lr(Ft)||Ft[nn]))break e;if((et||Qe)&&(Qe=at.window===at?at:(Qe=at.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,et?(Ft=p.relatedTarget||p.toElement,et=We,Ft=Ft?Lr(Ft):null,Ft!==null&&(wr=a(Ft),Zt=Ft.tag,Ft!==wr||Zt!==5&&Zt!==27&&Zt!==6)&&(Ft=null)):(et=null,Ft=We),et!==Ft)){if(Zt=Zs,ct="onMouseLeave",qe="onMouseEnter",Pe="mouse",(o==="pointerout"||o==="pointerover")&&(Zt=sl,ct="onPointerLeave",qe="onPointerEnter",Pe="pointer"),wr=et==null?Qe:La(et),He=Ft==null?Qe:La(Ft),Qe=new Zt(ct,Pe+"leave",et,p,at),Qe.target=wr,Qe.relatedTarget=He,ct=null,Lr(at)===We&&(Zt=new Zt(qe,Pe+"enter",Ft,p,at),Zt.target=He,Zt.relatedTarget=wr,ct=Zt),wr=ct,et&&Ft)t:{for(Zt=Qz,qe=et,Pe=Ft,He=0,ct=qe;ct;ct=Zt(ct))He++;ct=0;for(var Wt=Pe;Wt;Wt=Zt(Wt))ct++;for(;0<He-ct;)qe=Zt(qe),He--;for(;0<ct-He;)Pe=Zt(Pe),ct--;for(;He--;){if(qe===Pe||Pe!==null&&qe===Pe.alternate){Zt=qe;break t}qe=Zt(qe),Pe=Zt(Pe)}Zt=null}else Zt=null;et!==null&&y4(ft,Qe,et,Zt,!1),Ft!==null&&wr!==null&&y4(ft,wr,Ft,Zt,!0)}}e:{if(Qe=We?La(We):window,et=Qe.nodeName&&Qe.nodeName.toLowerCase(),et==="select"||et==="input"&&Qe.type==="file")var tr=Oi;else if(Ri(Qe))if(Xc)tr=Xu;else{tr=Sh;var Vt=Ef}else et=Qe.nodeName,!et||et.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?We&&us(We.elementType)&&(tr=Oi):tr=Ts;if(tr&&(tr=tr(o,We))){no(ft,tr,p,at);break e}Vt&&Vt(o,Qe,We),o==="focusout"&&We&&Qe.type==="number"&&We.memoizedProps.value!=null&&el(Qe,"number",Qe.value)}switch(Vt=We?La(We):window,o){case"focusin":(Ri(Vt)||Vt.contentEditable==="true")&&(io=Vt,ao=We,Sr=null);break;case"focusout":Sr=ao=io=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,ca(ft,p,at);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":ca(ft,p,at)}var _n;if(z)e:{switch(o){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else Jt?on(o,p)&&(Fn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Fn="onCompositionStart");Fn&&(Fe&&p.locale!=="ko"&&(Jt||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&Jt&&(_n=qa()):(wa=at,zl="value"in wa?wa.value:wa.textContent,Jt=!0)),Vt=Zv(We,Fn),0<Vt.length&&(Fn=new Co(Fn,o,null,p,at),ft.push({event:Fn,listeners:Vt}),_n?Fn.data=_n:(_n=Sn(p),_n!==null&&(Fn.data=_n)))),(_n=ge?Zn(o,p):pr(o,p))&&(Fn=Zv(We,"onBeforeInput"),0<Fn.length&&(Vt=new Co("onBeforeInput","beforeinput",null,p,at),ft.push({event:Vt,listeners:Fn}),Vt.data=_n)),Kz(ft,o,We,p,at)}g4(ft,d)})}function lg(o,d,p){return{instance:o,listener:d,currentTarget:p}}function Zv(o,d){for(var p=d+"Capture",v=[];o!==null;){var S=o,R=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||R===null||(S=Gi(o,p),S!=null&&v.unshift(lg(o,S,R)),S=Gi(o,d),S!=null&&v.push(lg(o,S,R))),o.tag===3)return v;o=o.return}return[]}function Qz(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function y4(o,d,p,v,S){for(var R=d._reactName,ee=[];p!==null&&p!==v;){var ve=p,Ie=ve.alternate,We=ve.stateNode;if(ve=ve.tag,Ie!==null&&Ie===v)break;ve!==5&&ve!==26&&ve!==27||We===null||(Ie=We,S?(We=Gi(p,R),We!=null&&ee.unshift(lg(p,We,Ie))):S||(We=Gi(p,R),We!=null&&ee.push(lg(p,We,Ie)))),p=p.return}ee.length!==0&&o.push({event:d,listeners:ee})}var Zz=/\r\n?/g,eG=/\u0000|\uFFFD/g;function x4(o){return(typeof o=="string"?o:""+o).replace(Zz,`
`).replace(eG,"")}function b4(o,d){return d=x4(d),x4(o)===d}function _r(o,d,p,v,S,R){switch(p){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||ia(o,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&ia(o,""+v);break;case"className":ur(o,"class",v);break;case"tabIndex":ur(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(o,p,v);break;case"style":Hu(o,v,R);break;case"data":if(d!=="object"){ur(o,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=ds(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(p==="formAction"?(d!=="input"&&_r(o,d,"name",S.name,S,null),_r(o,d,"formEncType",S.formEncType,S,null),_r(o,d,"formMethod",S.formMethod,S,null),_r(o,d,"formTarget",S.formTarget,S,null)):(_r(o,d,"encType",S.encType,S,null),_r(o,d,"method",S.method,S,null),_r(o,d,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=ds(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=$n);break;case"onScroll":v!=null&&kn("scroll",o);break;case"onScrollEnd":v!=null&&kn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=ds(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":kn("beforetoggle",o),kn("toggle",o),_o(o,"popover",v);break;case"xlinkActuate":xa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":xa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":xa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":xa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":xa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":xa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":xa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":xa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":xa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":_o(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ql.get(p)||p,_o(o,p,v))}}function K_(o,d,p,v,S,R){switch(p){case"style":Hu(o,v,R);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?ia(o,v):(typeof v=="number"||typeof v=="bigint")&&ia(o,""+v);break;case"onScroll":v!=null&&kn("scroll",o);break;case"onScrollEnd":v!=null&&kn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),d=p.slice(2,S?p.length-7:void 0),R=o[$t]||null,R=R!=null?R[p]:null,typeof R=="function"&&o.removeEventListener(d,R,S),typeof v=="function")){typeof R!="function"&&R!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(d,v,S);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):_o(o,p,v)}}}function Ca(o,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",o),kn("load",o);var v=!1,S=!1,R;for(R in p)if(p.hasOwnProperty(R)){var ee=p[R];if(ee!=null)switch(R){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:_r(o,d,R,ee,p,null)}}S&&_r(o,d,"srcSet",p.srcSet,p,null),v&&_r(o,d,"src",p.src,p,null);return;case"input":kn("invalid",o);var ve=R=ee=S=null,Ie=null,We=null;for(v in p)if(p.hasOwnProperty(v)){var at=p[v];if(at!=null)switch(v){case"name":S=at;break;case"type":ee=at;break;case"checked":Ie=at;break;case"defaultChecked":We=at;break;case"value":R=at;break;case"defaultValue":ve=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,d));break;default:_r(o,d,v,at,p,null)}}Zo(o,R,ve,Ie,We,ee,S,!1);return;case"select":kn("invalid",o),v=ee=R=null;for(S in p)if(p.hasOwnProperty(S)&&(ve=p[S],ve!=null))switch(S){case"value":R=ve;break;case"defaultValue":ee=ve;break;case"multiple":v=ve;default:_r(o,d,S,ve,p,null)}d=R,p=ee,o.multiple=!!v,d!=null?Dn(o,!!v,d,!1):p!=null&&Dn(o,!!v,p,!0);return;case"textarea":kn("invalid",o),R=S=v=null;for(ee in p)if(p.hasOwnProperty(ee)&&(ve=p[ee],ve!=null))switch(ee){case"value":v=ve;break;case"defaultValue":S=ve;break;case"children":R=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(91));break;default:_r(o,d,ee,ve,p,null)}Ao(o,v,S,R);return;case"option":for(Ie in p)if(p.hasOwnProperty(Ie)&&(v=p[Ie],v!=null))switch(Ie){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:_r(o,d,Ie,v,p,null)}return;case"dialog":kn("beforetoggle",o),kn("toggle",o),kn("cancel",o),kn("close",o);break;case"iframe":case"object":kn("load",o);break;case"video":case"audio":for(v=0;v<og.length;v++)kn(og[v],o);break;case"image":kn("error",o),kn("load",o);break;case"details":kn("toggle",o);break;case"embed":case"source":case"link":kn("error",o),kn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in p)if(p.hasOwnProperty(We)&&(v=p[We],v!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:_r(o,d,We,v,p,null)}return;default:if(us(d)){for(at in p)p.hasOwnProperty(at)&&(v=p[at],v!==void 0&&K_(o,d,at,v,p,void 0));return}}for(ve in p)p.hasOwnProperty(ve)&&(v=p[ve],v!=null&&_r(o,d,ve,v,p,null))}function tG(o,d,p,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,R=null,ee=null,ve=null,Ie=null,We=null,at=null;for(et in p){var ft=p[et];if(p.hasOwnProperty(et)&&ft!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Ie=ft;default:v.hasOwnProperty(et)||_r(o,d,et,null,v,ft)}}for(var Qe in v){var et=v[Qe];if(ft=p[Qe],v.hasOwnProperty(Qe)&&(et!=null||ft!=null))switch(Qe){case"type":R=et;break;case"name":S=et;break;case"checked":We=et;break;case"defaultChecked":at=et;break;case"value":ee=et;break;case"defaultValue":ve=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,d));break;default:et!==ft&&_r(o,d,Qe,et,v,ft)}}Xs(o,ee,ve,Ie,We,at,R,S);return;case"select":et=ee=ve=Qe=null;for(R in p)if(Ie=p[R],p.hasOwnProperty(R)&&Ie!=null)switch(R){case"value":break;case"multiple":et=Ie;default:v.hasOwnProperty(R)||_r(o,d,R,null,v,Ie)}for(S in v)if(R=v[S],Ie=p[S],v.hasOwnProperty(S)&&(R!=null||Ie!=null))switch(S){case"value":Qe=R;break;case"defaultValue":ve=R;break;case"multiple":ee=R;default:R!==Ie&&_r(o,d,S,R,v,Ie)}d=ve,p=ee,v=et,Qe!=null?Dn(o,!!p,Qe,!1):!!v!=!!p&&(d!=null?Dn(o,!!p,d,!0):Dn(o,!!p,p?[]:"",!1));return;case"textarea":et=Qe=null;for(ve in p)if(S=p[ve],p.hasOwnProperty(ve)&&S!=null&&!v.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:_r(o,d,ve,null,v,S)}for(ee in v)if(S=v[ee],R=p[ee],v.hasOwnProperty(ee)&&(S!=null||R!=null))switch(ee){case"value":Qe=S;break;case"defaultValue":et=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==R&&_r(o,d,ee,S,v,R)}wo(o,Qe,et);return;case"option":for(var Ft in p)if(Qe=p[Ft],p.hasOwnProperty(Ft)&&Qe!=null&&!v.hasOwnProperty(Ft))switch(Ft){case"selected":o.selected=!1;break;default:_r(o,d,Ft,null,v,Qe)}for(Ie in v)if(Qe=v[Ie],et=p[Ie],v.hasOwnProperty(Ie)&&Qe!==et&&(Qe!=null||et!=null))switch(Ie){case"selected":o.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:_r(o,d,Ie,Qe,v,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in p)Qe=p[Zt],p.hasOwnProperty(Zt)&&Qe!=null&&!v.hasOwnProperty(Zt)&&_r(o,d,Zt,null,v,Qe);for(We in v)if(Qe=v[We],et=p[We],v.hasOwnProperty(We)&&Qe!==et&&(Qe!=null||et!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,d));break;default:_r(o,d,We,Qe,v,et)}return;default:if(us(d)){for(var wr in p)Qe=p[wr],p.hasOwnProperty(wr)&&Qe!==void 0&&!v.hasOwnProperty(wr)&&K_(o,d,wr,void 0,v,Qe);for(at in v)Qe=v[at],et=p[at],!v.hasOwnProperty(at)||Qe===et||Qe===void 0&&et===void 0||K_(o,d,at,Qe,v,et);return}}for(var qe in p)Qe=p[qe],p.hasOwnProperty(qe)&&Qe!=null&&!v.hasOwnProperty(qe)&&_r(o,d,qe,null,v,Qe);for(ft in v)Qe=v[ft],et=p[ft],!v.hasOwnProperty(ft)||Qe===et||Qe==null&&et==null||_r(o,d,ft,Qe,v,et)}function _4(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nG(){if(typeof performance.getEntriesByType=="function"){for(var o=0,d=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var S=p[v],R=S.transferSize,ee=S.initiatorType,ve=S.duration;if(R&&ve&&_4(ee)){for(ee=0,ve=S.responseEnd,v+=1;v<p.length;v++){var Ie=p[v],We=Ie.startTime;if(We>ve)break;var at=Ie.transferSize,ft=Ie.initiatorType;at&&_4(ft)&&(Ie=Ie.responseEnd,ee+=at*(Ie<ve?1:(ve-We)/(Ie-We)))}if(--v,d+=8*(R+ee)/(S.duration/1e3),o++,10<o)break}}if(0<o)return d/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Y_=null,X_=null;function ey(o){return o.nodeType===9?o:o.ownerDocument}function w4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A4(o,d){if(o===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&d==="foreignObject"?0:o}function J_(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Q_=null;function rG(){var o=window.event;return o&&o.type==="popstate"?o===Q_?!1:(Q_=o,!0):(Q_=null,!1)}var E4=typeof setTimeout=="function"?setTimeout:void 0,iG=typeof clearTimeout=="function"?clearTimeout:void 0,S4=typeof Promise=="function"?Promise:void 0,aG=typeof queueMicrotask=="function"?queueMicrotask:typeof S4<"u"?function(o){return S4.resolve(null).then(o).catch(sG)}:E4;function sG(o){setTimeout(function(){throw o})}function xd(o){return o==="head"}function N4(o,d){var p=d,v=0;do{var S=p.nextSibling;if(o.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(S),rp(d);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")cg(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,cg(p);for(var R=p.firstChild;R;){var ee=R.nextSibling,ve=R.nodeName;R[Mr]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&R.rel.toLowerCase()==="stylesheet"||p.removeChild(R),R=ee}}else p==="body"&&cg(o.ownerDocument.body);p=S}while(p);rp(d)}function T4(o,d){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function Z_(o){var d=o.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Z_(p),jn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function oG(o,d,p,v){for(;o.nodeType===1;){var S=p;if(o.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Mr])switch(d){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(d==="input"&&o.type==="hidden"){var R=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=Mo(o.nextSibling),o===null)break}return null}function lG(o,d,p){if(d==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Mo(o.nextSibling),o===null))return null;return o}function C4(o,d){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Mo(o.nextSibling),o===null))return null;return o}function e2(o){return o.data==="$?"||o.data==="$~"}function t2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function cG(o,d){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=d;else if(o.data!=="$?"||p.readyState!=="loading")d();else{var v=function(){d(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Mo(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return o}var n2=null;function I4(o){o=o.nextSibling;for(var d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(d===0)return Mo(o.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}o=o.nextSibling}return null}function R4(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return o;d--}else p!=="/$"&&p!=="/&"||d++}o=o.previousSibling}return null}function O4(o,d,p){switch(d=ey(p),o){case"html":if(o=d.documentElement,!o)throw Error(r(452));return o;case"head":if(o=d.head,!o)throw Error(r(453));return o;case"body":if(o=d.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function cg(o){for(var d=o.attributes;d.length;)o.removeAttributeNode(d[0]);jn(o)}var Lo=new Map,k4=new Set;function ty(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var mu=ie.d;ie.d={f:uG,r:dG,D:fG,C:hG,L:pG,m:mG,X:vG,S:gG,M:yG};function uG(){var o=mu.f(),d=Hv();return o||d}function dG(o){var d=Hn(o);d!==null&&d.tag===5&&d.type==="form"?YI(d):mu.r(o)}var ep=typeof document>"u"?null:document;function P4(o,d,p){var v=ep;if(v&&typeof d=="string"&&d){var S=xr(d);S='link[rel="'+o+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),k4.has(S)||(k4.add(S),o={rel:o,crossOrigin:p,href:d},v.querySelector(S)===null&&(d=v.createElement("link"),Ca(d,"link",o),$r(d),v.head.appendChild(d)))}}function fG(o){mu.D(o),P4("dns-prefetch",o,null)}function hG(o,d){mu.C(o,d),P4("preconnect",o,d)}function pG(o,d,p){mu.L(o,d,p);var v=ep;if(v&&o&&d){var S='link[rel="preload"][as="'+xr(d)+'"]';d==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+xr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+xr(p.imageSizes)+'"]')):S+='[href="'+xr(o)+'"]';var R=S;switch(d){case"style":R=tp(o);break;case"script":R=np(o)}Lo.has(R)||(o=m({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:o,as:d},p),Lo.set(R,o),v.querySelector(S)!==null||d==="style"&&v.querySelector(ug(R))||d==="script"&&v.querySelector(dg(R))||(d=v.createElement("link"),Ca(d,"link",o),$r(d),v.head.appendChild(d)))}}function mG(o,d){mu.m(o,d);var p=ep;if(p&&o){var v=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+xr(v)+'"][href="'+xr(o)+'"]',R=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=np(o)}if(!Lo.has(R)&&(o=m({rel:"modulepreload",href:o},d),Lo.set(R,o),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(dg(R)))return}v=p.createElement("link"),Ca(v,"link",o),$r(v),p.head.appendChild(v)}}}function gG(o,d,p){mu.S(o,d,p);var v=ep;if(v&&o){var S=cs(v).hoistableStyles,R=tp(o);d=d||"default";var ee=S.get(R);if(!ee){var ve={loading:0,preload:null};if(ee=v.querySelector(ug(R)))ve.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":d},p),(p=Lo.get(R))&&r2(o,p);var Ie=ee=v.createElement("link");$r(Ie),Ca(Ie,"link",o),Ie._p=new Promise(function(We,at){Ie.onload=We,Ie.onerror=at}),Ie.addEventListener("load",function(){ve.loading|=1}),Ie.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,ny(ee,d,v)}ee={type:"stylesheet",instance:ee,count:1,state:ve},S.set(R,ee)}}}function vG(o,d){mu.X(o,d);var p=ep;if(p&&o){var v=cs(p).hoistableScripts,S=np(o),R=v.get(S);R||(R=p.querySelector(dg(S)),R||(o=m({src:o,async:!0},d),(d=Lo.get(S))&&i2(o,d),R=p.createElement("script"),$r(R),Ca(R,"link",o),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},v.set(S,R))}}function yG(o,d){mu.M(o,d);var p=ep;if(p&&o){var v=cs(p).hoistableScripts,S=np(o),R=v.get(S);R||(R=p.querySelector(dg(S)),R||(o=m({src:o,async:!0,type:"module"},d),(d=Lo.get(S))&&i2(o,d),R=p.createElement("script"),$r(R),Ca(R,"link",o),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},v.set(S,R))}}function j4(o,d,p,v){var S=(S=Q.current)?ty(S):null;if(!S)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=tp(p.href),p=cs(S).hoistableStyles,v=p.get(d),v||(v={type:"style",instance:null,count:0,state:null},p.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=tp(p.href);var R=cs(S).hoistableStyles,ee=R.get(o);if(ee||(S=S.ownerDocument||S,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,ee),(R=S.querySelector(ug(o)))&&!R._p&&(ee.instance=R,ee.state.loading=5),Lo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Lo.set(o,p),R||xG(S,o,p,ee.state))),d&&v===null)throw Error(r(528,""));return ee}if(d&&v!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=np(p),p=cs(S).hoistableScripts,v=p.get(d),v||(v={type:"script",instance:null,count:0,state:null},p.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function tp(o){return'href="'+xr(o)+'"'}function ug(o){return'link[rel="stylesheet"]['+o+"]"}function D4(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function xG(o,d,p,v){o.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=o.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Ca(d,"link",p),$r(d),o.head.appendChild(d))}function np(o){return'[src="'+xr(o)+'"]'}function dg(o){return"script[async]"+o}function M4(o,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var v=o.querySelector('style[data-href~="'+xr(p.href)+'"]');if(v)return d.instance=v,$r(v),v;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),$r(v),Ca(v,"style",S),ny(v,p.precedence,o),d.instance=v;case"stylesheet":S=tp(p.href);var R=o.querySelector(ug(S));if(R)return d.state.loading|=4,d.instance=R,$r(R),R;v=D4(p),(S=Lo.get(S))&&r2(v,S),R=(o.ownerDocument||o).createElement("link"),$r(R);var ee=R;return ee._p=new Promise(function(ve,Ie){ee.onload=ve,ee.onerror=Ie}),Ca(R,"link",v),d.state.loading|=4,ny(R,p.precedence,o),d.instance=R;case"script":return R=np(p.src),(S=o.querySelector(dg(R)))?(d.instance=S,$r(S),S):(v=p,(S=Lo.get(R))&&(v=m({},p),i2(v,S)),o=o.ownerDocument||o,S=o.createElement("script"),$r(S),Ca(S,"link",v),o.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,ny(v,p.precedence,o));return d.instance}function ny(o,d,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,R=S,ee=0;ee<v.length;ee++){var ve=v[ee];if(ve.dataset.precedence===d)R=ve;else if(R!==S)break}R?R.parentNode.insertBefore(o,R.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(o,d.firstChild))}function r2(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.title==null&&(o.title=d.title)}function i2(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.integrity==null&&(o.integrity=d.integrity)}var ry=null;function L4(o,d,p){if(ry===null){var v=new Map,S=ry=new Map;S.set(p,v)}else S=ry,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),S=0;S<p.length;S++){var R=p[S];if(!(R[Mr]||R[Gt]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=R.getAttribute(d)||"";ee=o+ee;var ve=v.get(ee);ve?ve.push(R):v.set(ee,[R])}}return v}function F4(o,d,p){o=o.ownerDocument||o,o.head.insertBefore(p,d==="title"?o.querySelector("head > title"):null)}function bG(o,d,p){if(p===1||d.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return o=d.disabled,typeof d.precedence=="string"&&o==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function U4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function _G(o,d,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=tp(v.href),R=d.querySelector(ug(S));if(R){d=R._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(o.count++,o=iy.bind(o),d.then(o,o)),p.state.loading|=4,p.instance=R,$r(R);return}R=d.ownerDocument||d,v=D4(v),(S=Lo.get(S))&&r2(v,S),R=R.createElement("link"),$r(R);var ee=R;ee._p=new Promise(function(ve,Ie){ee.onload=ve,ee.onerror=Ie}),Ca(R,"link",v),p.instance=R}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=iy.bind(o),d.addEventListener("load",p),d.addEventListener("error",p))}}var a2=0;function wG(o,d){return o.stylesheets&&o.count===0&&sy(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&sy(o,o.stylesheets),o.unsuspend){var R=o.unsuspend;o.unsuspend=null,R()}},6e4+d);0<o.imgBytes&&a2===0&&(a2=62500*nG());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&sy(o,o.stylesheets),o.unsuspend)){var R=o.unsuspend;o.unsuspend=null,R()}},(o.imgBytes>a2?50:800)+d);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function iy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ay=null;function sy(o,d){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ay=new Map,d.forEach(AG,o),ay=null,iy.call(o))}function AG(o,d){if(!(d.state.loading&4)){var p=ay.get(o);if(p)var v=p.get(null);else{p=new Map,ay.set(o,p);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<S.length;R++){var ee=S[R];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(p.set(ee.dataset.precedence,ee),v=ee)}v&&p.set(null,v)}S=d.instance,ee=S.getAttribute("data-precedence"),R=p.get(ee)||v,R===v&&p.set(null,S),p.set(ee,S),this.count++,v=iy.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),R?R.parentNode.insertBefore(S,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),d.state.loading|=4}}var fg={$$typeof:F,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function EG(o,d,p,v,S,R,ee,ve,Ie){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=R,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ie,this.incompleteTransitions=new Map}function V4(o,d,p,v,S,R,ee,ve,Ie,We,at,ft){return o=new EG(o,d,p,ee,Ie,We,at,ft,ve),d=1,R===!0&&(d|=24),R=da(3,null,null,d),o.current=R,R.stateNode=o,d=od(),d.refCount++,o.pooledCache=d,d.refCount++,R.memoizedState={element:v,isDehydrated:p,cache:d},or(R),o}function q4(o){return o?(o=Wi,o):Wi}function B4(o,d,p,v,S,R){S=q4(S),v.context===null?v.context=S:v.pendingContext=S,v=Qt(d),v.payload={element:p},R=R===void 0?null:R,R!==null&&(v.callback=R),p=mr(o,v,d),p!==null&&(qs(p,o,d),Pi(p,o,d))}function $4(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<d?p:d}}function s2(o,d){$4(o,d),(o=o.alternate)&&$4(o,d)}function z4(o){if(o.tag===13||o.tag===31){var d=hl(o,67108864);d!==null&&qs(d,o,67108864),s2(o,67108864)}}function G4(o){if(o.tag===13||o.tag===31){var d=fo();d=cr(d);var p=hl(o,d);p!==null&&qs(p,o,d),s2(o,d)}}var oy=!0;function SG(o,d,p,v){var S=ne.T;ne.T=null;var R=ie.p;try{ie.p=2,o2(o,d,p,v)}finally{ie.p=R,ne.T=S}}function NG(o,d,p,v){var S=ne.T;ne.T=null;var R=ie.p;try{ie.p=8,o2(o,d,p,v)}finally{ie.p=R,ne.T=S}}function o2(o,d,p,v){if(oy){var S=l2(v);if(S===null)W_(o,d,v,ly,p),W4(o,v);else if(CG(S,o,d,p,v))v.stopPropagation();else if(W4(o,v),d&4&&-1<TG.indexOf(o)){for(;S!==null;){var R=Hn(S);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var ee=En(R.pendingLanes);if(ee!==0){var ve=R;for(ve.pendingLanes|=2,ve.entangledLanes|=2;ee;){var Ie=1<<31-xn(ee);ve.entanglements[1]|=Ie,ee&=~Ie}gc(R),(lr&6)===0&&(zv=Xe()+500,sg(0))}}break;case 31:case 13:ve=hl(R,2),ve!==null&&qs(ve,R,2),Hv(),s2(R,2)}if(R=l2(v),R===null&&W_(o,d,v,ly,p),R===S)break;S=R}S!==null&&v.stopPropagation()}else W_(o,d,v,null,p)}}function l2(o){return o=tl(o),c2(o)}var ly=null;function c2(o){if(ly=null,o=Lr(o),o!==null){var d=a(o);if(d===null)o=null;else{var p=d.tag;if(p===13){if(o=s(d),o!==null)return o;o=null}else if(p===31){if(o=l(d),o!==null)return o;o=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null)}}return ly=o,null}function H4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case bt:return 2;case At:return 8;case Dt:case Tt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var u2=!1,bd=null,_d=null,wd=null,hg=new Map,pg=new Map,Ad=[],TG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W4(o,d){switch(o){case"focusin":case"focusout":bd=null;break;case"dragenter":case"dragleave":_d=null;break;case"mouseover":case"mouseout":wd=null;break;case"pointerover":case"pointerout":hg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":pg.delete(d.pointerId)}}function mg(o,d,p,v,S,R){return o===null||o.nativeEvent!==R?(o={blockedOn:d,domEventName:p,eventSystemFlags:v,nativeEvent:R,targetContainers:[S]},d!==null&&(d=Hn(d),d!==null&&z4(d)),o):(o.eventSystemFlags|=v,d=o.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),o)}function CG(o,d,p,v,S){switch(d){case"focusin":return bd=mg(bd,o,d,p,v,S),!0;case"dragenter":return _d=mg(_d,o,d,p,v,S),!0;case"mouseover":return wd=mg(wd,o,d,p,v,S),!0;case"pointerover":var R=S.pointerId;return hg.set(R,mg(hg.get(R)||null,o,d,p,v,S)),!0;case"gotpointercapture":return R=S.pointerId,pg.set(R,mg(pg.get(R)||null,o,d,p,v,S)),!0}return!1}function K4(o){var d=Lr(o.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=s(p),d!==null){o.blockedOn=d,Yt(o.priority,function(){G4(p)});return}}else if(d===31){if(d=l(p),d!==null){o.blockedOn=d,Yt(o.priority,function(){G4(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cy(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var p=l2(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);$l=v,p.target.dispatchEvent(v),$l=null}else return d=Hn(p),d!==null&&z4(d),o.blockedOn=p,!1;d.shift()}return!0}function Y4(o,d,p){cy(o)&&p.delete(d)}function IG(){u2=!1,bd!==null&&cy(bd)&&(bd=null),_d!==null&&cy(_d)&&(_d=null),wd!==null&&cy(wd)&&(wd=null),hg.forEach(Y4),pg.forEach(Y4)}function uy(o,d){o.blockedOn===d&&(o.blockedOn=null,u2||(u2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IG)))}var dy=null;function X4(o){dy!==o&&(dy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dy===o&&(dy=null);for(var d=0;d<o.length;d+=3){var p=o[d],v=o[d+1],S=o[d+2];if(typeof v!="function"){if(c2(v||p)===null)continue;break}var R=Hn(p);R!==null&&(o.splice(d,3),d-=3,l_(R,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function rp(o){function d(Ie){return uy(Ie,o)}bd!==null&&uy(bd,o),_d!==null&&uy(_d,o),wd!==null&&uy(wd,o),hg.forEach(d),pg.forEach(d);for(var p=0;p<Ad.length;p++){var v=Ad[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Ad.length&&(p=Ad[0],p.blockedOn===null);)K4(p),p.blockedOn===null&&Ad.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],R=p[v+1],ee=S[$t]||null;if(typeof R=="function")ee||X4(p);else if(ee){var ve=null;if(R&&R.hasAttribute("formAction")){if(S=R,ee=R[$t]||null)ve=ee.formAction;else if(c2(S)!==null)continue}else ve=ee.action;typeof ve=="function"?p[v+1]=ve:(p.splice(v,3),v-=3),X4(p)}}}function J4(){function o(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(ee){return S=ee})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function d2(o){this._internalRoot=o}fy.prototype.render=d2.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,v=fo();B4(p,v,o,d,null,null)},fy.prototype.unmount=d2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;B4(o.current,2,null,o,null,null),Hv(),d[nn]=null}};function fy(o){this._internalRoot=o}fy.prototype.unstable_scheduleHydration=function(o){if(o){var d=Ze();o={blockedOn:null,target:o,priority:d};for(var p=0;p<Ad.length&&d!==0&&d<Ad[p].priority;p++);Ad.splice(p,0,o),p===0&&K4(o)}};var Q4=e.version;if(Q4!=="19.2.3")throw Error(r(527,Q4,"19.2.3"));ie.findDOMNode=function(o){var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(d),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var RG={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hy.isDisabled&&hy.supportsFiber)try{en=hy.inject(RG),Xn=hy}catch{}}return vg.createRoot=function(o,d){if(!i(o))throw Error(r(299));var p=!1,v="",S=aR,R=sR,ee=oR;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(ee=d.onRecoverableError)),d=V4(o,1,!1,null,null,p,v,null,S,R,ee,J4),o[nn]=d.current,H_(o),new d2(d)},vg.hydrateRoot=function(o,d,p){if(!i(o))throw Error(r(299));var v=!1,S="",R=aR,ee=sR,ve=oR,Ie=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(R=p.onUncaughtError),p.onCaughtError!==void 0&&(ee=p.onCaughtError),p.onRecoverableError!==void 0&&(ve=p.onRecoverableError),p.formState!==void 0&&(Ie=p.formState)),d=V4(o,1,!0,d,p??null,v,S,Ie,R,ee,ve,J4),d.context=q4(null),p=d.current,v=fo(),v=cr(v),S=Qt(v),S.callback=null,mr(p,S,v),p=v,d.current.lanes=p,bi(d,p),gc(d),o[nn]=d.current,H_(o),new fy(d)},vg.version="19.2.3",vg}var lO;function VG(){if(lO)return p2.exports;lO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p2.exports=UG(),p2.exports}var qG=VG();const BG=Er(qG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=xe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>xe.createElement("svg",{ref:c,...zG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:J7("lucide",i),...l},[...s.map(([f,h])=>xe.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=xe.forwardRef(({className:r,...i},a)=>xe.createElement(GG,{ref:a,iconNode:e,className:J7(`lucide-${$G(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],As=vt("Activity",HG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],cO=vt("Archive",WG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ja=vt("ArrowLeft",KG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Q7=vt("Award",YG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],JG=vt("Barcode",XG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]],GE=vt("Beef",QG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],HE=vt("Bell",ZG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],kg=vt("Bot",eH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],nH=vt("BrainCircuit",tH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],WE=vt("Brain",rH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],aH=vt("Calculator",iH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vm=vt("Calendar",sH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lH=vt("ChartColumn",oH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],uH=vt("ChartNoAxesColumn",cH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Z7=vt("ChartPie",dH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ux=vt("Check",fH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dc=vt("ChevronRight",hH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],s0=vt("CircleAlert",pH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Go=vt("CircleCheckBig",mH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uO=vt("CircleCheck",gH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],e9=vt("CircleX",vH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],o0=vt("Clock",yH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],bH=vt("Contact",xH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],t9=vt("Cpu",_H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],n9=vt("CreditCard",wH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],EH=vt("Crown",AH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dx=vt("Database",SH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],TH=vt("Dna",NH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Au=vt("DollarSign",CH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],RH=vt("Download",IH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kH=vt("ExternalLink",OH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jH=vt("Eye",PH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Up=vt("FileText",DH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],dO=vt("Filter",MH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],FH=vt("Fingerprint",LH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],VH=vt("Flame",UH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],BH=vt("FolderOpen",qH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],zH=vt("Folder",$H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HH=vt("Globe",GH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Cu=vt("History",WH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],fO=vt("Image",KH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],XH=vt("Info",YH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],hO=vt("Landmark",JH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ZH=vt("Layers",QH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tW=vt("LayoutDashboard",eW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rW=vt("LayoutGrid",nW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],aW=vt("Link",iW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Eu=vt("LoaderCircle",sW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],lW=vt("LockOpen",oW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fx=vt("Lock",cW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dW=vt("LogOut",uW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],hW=vt("Mail",fW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hx=vt("MapPin",pW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],gW=vt("Medal",mW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],l0=vt("MessageCircle",vW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],xW=vt("MicOff",yW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Rd=vt("Mic",bW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M5 12h14",key:"1ays0h"}]],px=vt("Minus",_W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],AW=vt("Navigation",wW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],SW=vt("PackagePlus",EW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Mc=vt("Package",NW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],r9=vt("PenLine",TW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Gg=vt("Pencil",CW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pO=vt("Play",IW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xf=vt("Plus",RW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mx=vt("Printer",OW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hT=vt("RefreshCw",kW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Vp=vt("RotateCcw",PW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gx=vt("Save",jW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Ep=vt("Scale",DW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],LW=vt("ScanFace",MW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ym=vt("Search",FW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mO=vt("Send",UW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i9=vt("Settings",VW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],BW=vt("Sheet",qW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],a9=vt("ShieldAlert",$W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lc=vt("ShieldCheck",zW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HW=vt("Shield",GW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],KW=vt("ShoppingBag",WW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gO=vt("ShoppingCart",YW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],vO=vt("Smartphone",XW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Pg=vt("Sparkles",JW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yO=vt("Star",QW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],eK=vt("Sword",ZW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nK=vt("Tag",tK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iK=vt("Target",rK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],xO=vt("Terminal",aK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],oK=vt("Thermometer",sK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pT=vt("Trash2",lK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],vx=vt("TrendingDown",cK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],qp=vt("TrendingUp",uK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qd=vt("TriangleAlert",dK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ec=vt("Truck",fK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Hy=vt("Upload",hK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s9=vt("UserPlus",pK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yx=vt("User",mK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],mT=vt("Users",gK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yK=vt("VideoOff",vK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],bO=vt("Video",xK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],c0=vt("Wallet",bK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],o9=vt("Waves",_K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AK=vt("WifiOff",wK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],SK=vt("Wifi",EK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iu=vt("X",NK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],os=vt("Zap",TK);var vn=(t=>(t[t.INTEIRO=1]="INTEIRO",t[t.BANDA_A=2]="BANDA_A",t[t.BANDA_B=3]="BANDA_B",t))(vn||{});const _O=[{raca:"Nelore",rendimento_min:48,rendimento_max:62,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2.5,peso_medio_min:240,peso_medio_max:280,observacoes:"Raa predominante no Brasil. Referncia EMBRAPA Gado de Corte."},{raca:"Angus  Nelore (F1)",rendimento_min:50,rendimento_max:55,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:270,observacoes:"Cruzamento industrial mais popular. EMBRAPA/UNESP."},{raca:"Senepol  Nelore (F1)",rendimento_min:53,rendimento_max:57,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:300,observacoes:"Excelente acabamento precoce. Gene pelo zero. EMBRAPA."},{raca:"Senepol (puro)",rendimento_min:53,rendimento_max:54,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:260,peso_medio_max:265,observacoes:"Adaptado ao trpico. FATEC BT."},{raca:"Angus (puro)",rendimento_min:52,rendimento_max:56,quebra_resfriamento_min:1,quebra_resfriamento_max:1.8,peso_medio_min:260,peso_medio_max:290,observacoes:"Referncia em marmoreio. UNESP."},{raca:"Hereford  Nelore",rendimento_min:52,rendimento_max:55,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:240,peso_medio_max:260,observacoes:"Boa cobertura de gordura. EMBRAPA."},{raca:"Brangus",rendimento_min:51,rendimento_max:55,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:280,observacoes:"3/8 Angus + 5/8 Nelore. EMBRAPA."},{raca:"Tabapu",rendimento_min:49,rendimento_max:53,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2.5,peso_medio_min:230,peso_medio_max:260,observacoes:"Zebuno mocho brasileiro. EMBRAPA."},{raca:"Guzer",rendimento_min:48,rendimento_max:52,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2.5,peso_medio_min:220,peso_medio_max:250,observacoes:"Dupla aptitude (leite e corte). EMBRAPA."},{raca:"Brahman  Nelore",rendimento_min:50,rendimento_max:54,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:240,peso_medio_max:270,observacoes:"Vigor hbrido zebuno. EMBRAPA."},{raca:"Charols  Nelore",rendimento_min:53,rendimento_max:57,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:260,peso_medio_max:300,observacoes:"Alto rendimento muscular. EMBRAPA."},{raca:"Simental  Nelore",rendimento_min:52,rendimento_max:56,quebra_resfriamento_min:1.5,quebra_resfriamento_max:2,peso_medio_min:250,peso_medio_max:290,observacoes:"Bom crescimento e precocidade. EMBRAPA."}],l9="2.9.1",CK="2026-02-24",IK=`FG-PRO_v${l9}`,gT=`v${l9}`,jg=new Date().toISOString().split("T")[0],RK={clients:[],batches:[],stock:[],sales:[],transactions:[],scheduledOrders:[],reports:[],suppliers:[],payables:[]},wO=t=>{switch(t){case vn.INTEIRO:return"Carcaa Inteira";case vn.BANDA_A:return"Banda A (Dir)";case vn.BANDA_B:return"Banda B (Esq)";default:return"Desconhecido"}},OK=({setView:t,onLogout:e,onSyncSheets:n,sheetsSyncStatus:r})=>{const i=[{id:"dashboard",label:"Painel Geral",description:"Viso Macro & KPIs",icon:tW,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"clients",label:"Clientes",description:"Agenda & Contatos",icon:mT,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"suppliers",label:"Fornecedores",description:"Cadastro Rural",icon:Ec,color:"text-blue-600",bg:"bg-blue-50",glow:"group-hover:shadow-lg"},{id:"batches",label:"Cadastro de Lotes",description:"Entrada de Gado",icon:Mc,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"stock",label:"Estoque",description:"Auditoria Fria",icon:GE,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"expedition",label:"Vendas",description:"Venda de Peas",icon:Ep,color:"text-amber-600",bg:"bg-amber-50",glow:"group-hover:shadow-lg"},{id:"sales_history",label:"Histrico",description:"Relatrios de Venda",icon:Up,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"},{id:"financial",label:"Financeiro",description:"Fluxo de Caixa",icon:Au,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"scheduled_orders",label:"Agendamentos",description:"Pedidos Futuros",icon:vm,color:"text-indigo-600",bg:"bg-indigo-50",glow:"group-hover:shadow-lg"},{id:"heifers",label:"Gesto Abate",description:"Novilhas Dirias",icon:GE,color:"text-emerald-700",bg:"bg-emerald-100",glow:"group-hover:shadow-lg"},{id:"ai_agents",label:"Central IA",description:"Agentes Inteligentes",icon:WE,color:"text-purple-600",bg:"bg-purple-50",glow:"group-hover:shadow-lg"},{id:"sales_agent",label:"Agente IA",description:"Rob de Vendas",icon:kg,color:"text-purple-600",bg:"bg-purple-100",glow:"group-hover:shadow-lg"},{id:"report",label:"Relatrio",description:"Resumo Dirio",icon:Up,color:"text-emerald-600",bg:"bg-emerald-50",glow:"group-hover:shadow-lg"},{id:"audit",label:"Auditoria",description:"Quem Fez O Qu",icon:Lc,color:"text-rose-600",bg:"bg-rose-50",glow:"group-hover:shadow-lg"}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex flex-col items-center justify-center p-6 lg:p-12 relative overflow-hidden font-sans text-white",children:[u.jsx("div",{className:"absolute inset-0 opacity-[0.08] pointer-events-none",style:{backgroundImage:"linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px)",backgroundSize:"60px 60px"}}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/10 rounded-full blur-[120px] pointer-events-none"}),u.jsxs("div",{className:"w-full max-w-6xl z-10 animate-fade-in flex flex-col items-center gap-12",children:[u.jsxs("div",{className:"text-center space-y-4 relative",children:[u.jsx("div",{className:"absolute -top-6 -right-12 bg-white/20 text-white text-[8px] font-black px-2 py-0.5 rounded border border-white/30 uppercase tracking-[0.2em] animate-pulse",children:"Sistema Ativo"}),u.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/10 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/20 mb-4 transform hover:scale-110 transition-all duration-700 group cursor-default",children:[u.jsx(Ec,{size:48,className:"text-white group-hover:text-blue-100 transition-colors"}),u.jsx("div",{className:"absolute inset-0 rounded-[2rem] border border-white/20 animate-ping opacity-20"})]}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter uppercase italic leading-none drop-shadow-2xl",children:["Frigo",u.jsx("span",{className:"text-blue-200 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]",children:"Gest"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4",children:[u.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-transparent to-white/30"}),u.jsxs("p",{className:"text-white/70 font-black text-[10px] uppercase tracking-[0.4em] flex items-center gap-2",children:[u.jsx(os,{size:12,className:"text-blue-200"})," Sistema Avanado ",gT,"  ",CK]}),u.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-l from-transparent to-white/30"})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 w-full",children:i.map(a=>{const s=a.icon;return u.jsxs("button",{onClick:()=>t(a.id),className:`group relative flex flex-col items-start justify-between p-8 h-48 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-[2.5rem] hover:border-white/40 hover:bg-white/15 transition-all duration-500 shadow-2xl active:scale-[0.98] text-left overflow-hidden ${a.glow}`,children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),u.jsx("div",{className:`w-14 h-14 rounded-2xl ${a.bg} flex items-center justify-center ${a.color} group-hover:scale-110 transition-all duration-500 border border-white/10 shadow-lg`,children:u.jsx(s,{size:28})}),u.jsxs("div",{className:"relative z-10 transition-transform duration-500 group-hover:translate-x-1",children:[u.jsx("h3",{className:"text-lg font-black text-white group-hover:text-blue-100 transition-colors uppercase tracking-tight",children:a.label}),u.jsx("p",{className:"text-[10px] text-white/60 font-black mt-1 tracking-widest uppercase opacity-60 group-hover:opacity-100",children:a.description})]}),u.jsxs("div",{className:"absolute bottom-8 right-8 flex items-center gap-2 opacity-20 group-hover:opacity-100 transition-all",children:[u.jsx("div",{className:"h-[1px] w-4 bg-white/30 group-hover:bg-white/60 transition-colors"}),u.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 group-hover:text-white/80 transition-colors",children:["0",i.indexOf(a)+1]})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},a.id)})}),u.jsxs("div",{className:"mt-4 flex flex-col items-center gap-8 relative",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>{confirm(` Atualizar para nova verso?

Seus dados no sero perdidos!`)&&window.location.reload()},className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-emerald-500/20 backdrop-blur-md border border-emerald-400/30 hover:border-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/30 transition-all hover:shadow-lg active:scale-95 group",children:[u.jsx(os,{size:16,className:"group-hover:rotate-180 transition-transform"}),"ATUALIZAR"]}),n&&u.jsxs("button",{onClick:n,disabled:r==="syncing",className:`flex items-center gap-3 px-8 py-5 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] backdrop-blur-md border transition-all hover:shadow-lg active:scale-95 group ${r==="syncing"?"text-amber-300/80 bg-amber-500/20 border-amber-400/30 cursor-wait":r==="ok"?"text-emerald-300/80 bg-emerald-500/20 border-emerald-400/30":r==="error"?"text-rose-300/80 bg-rose-500/20 border-rose-400/30":"text-white/80 bg-white/10 border-white/20 hover:border-blue-400 hover:text-blue-300 hover:bg-blue-500/20"}`,children:[u.jsx(BW,{size:16,className:r==="syncing"?"animate-spin":"group-hover:scale-110 transition-transform"}),r==="syncing"?"SINCRONIZANDO...":r==="ok"?" SINCRONIZADO":"SYNC PLANILHA"]}),u.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-8 py-5 rounded-[2rem] text-white/80 font-black text-xs uppercase tracking-[0.2em] bg-white/10 backdrop-blur-md border border-white/20 hover:border-rose-400 hover:text-rose-300 hover:bg-rose-500/20 transition-all hover:shadow-lg active:scale-95 group",children:[u.jsx(dW,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"SAIR"]})]}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-4 text-white/40 font-bold text-[8px] uppercase tracking-[0.5em]",children:[u.jsx("span",{children:"Status: Online"}),u.jsx("span",{className:"w-1 h-1 bg-emerald-400 rounded-full animate-pulse"}),u.jsx("span",{children:"Enc: 256-Bit"})]}),u.jsx("p",{className:"text-[9px] text-white/30 font-black uppercase tracking-[0.4em]",children:" FRIGOGEST 2026  SYS_ID: FG-PRO-X"})]})]})]})]})},kK=t=>{const e=new Date(t),n=new Date(jg),r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))},PK=t=>t<=1?{label:"Resfriamento",color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-100",status:"fresh"}:t<=4?{label:"Pronto (pice)",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",status:"prime"}:t<=7?{label:"Alerta Venda",color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",status:"warning"}:{label:"Risco Quebra",color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",status:"critical"},Pt=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),Rr=t=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)+" kg",KE=(t,e,n,r)=>r===0?0:(t+e+n)/r,jK=(t,e)=>{if(!t||!t.length)return;const n=";",r=Object.keys(t[0]),i=r.join(n)+`
`+t.map(l=>r.map(c=>{let f=l[c]===null||l[c]===void 0?"":l[c];return f=f instanceof Date?f.toLocaleString():f.toString().replace(/"/g,'""'),f.search(new RegExp(`("|${n}|
)`))>=0&&(f=`"${f}"`),f}).join(n)).join(`
`),a=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){const l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},AO=(t,e,n)=>{const r=e.filter(g=>g.id_cliente===t.id_ferro),a=r.filter(g=>g.status_pagamento==="PENDENTE").filter(g=>g.data_vencimento<n),s=r.reduce((g,y)=>g+y.peso_real_saida*y.preco_venda_kg,0),l=t.limite_credito>0?t.saldo_devedor/t.limite_credito:0;let c=5,f="AAA",h="Cliente Exemplar";return a.length>0&&(c-=2,f="C",h="Faturas em Atraso"),l>.8&&(c-=1,f==="AAA"&&(f="A"),h="Limite Prximo ao Fim"),t.saldo_devedor>t.limite_credito&&t.limite_credito>0&&(c-=2,f="C",h="Limite Excedido"),a.reduce((g,y)=>{const N=Math.ceil((new Date(n).getTime()-new Date(y.data_vencimento).getTime())/864e5);return Math.max(g,N)},0)>10&&(c=1,f="F",h="Risco Iminente (Fumo)"),s>1e5&&a.length===0&&l<.6&&(f="AAA",c=5,h="Parceiro Estratgico (Ouro)"),{stars:Math.max(1,Math.min(5,c)),tier:f,reason:h,color:f==="AAA"?"text-emerald-500":f==="A"?"text-blue-500":f==="C"?"text-orange-600":f==="F"?"text-rose-600":"text-slate-600",border:f==="F"?"border-rose-100":"border-slate-100",bg:f==="F"?"bg-rose-50":"bg-slate-50"}};function c9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=c9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=c9(t))&&(r&&(r+=" "),r+=e);return r}var y2,EO;function Gs(){if(EO)return y2;EO=1;var t=Array.isArray;return y2=t,y2}var x2,SO;function u9(){if(SO)return x2;SO=1;var t=typeof py=="object"&&py&&py.Object===Object&&py;return x2=t,x2}var b2,NO;function Vc(){if(NO)return b2;NO=1;var t=u9(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return b2=n,b2}var _2,TO;function rv(){if(TO)return _2;TO=1;var t=Vc(),e=t.Symbol;return _2=e,_2}var w2,CO;function DK(){if(CO)return w2;CO=1;var t=rv(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return w2=a,w2}var A2,IO;function MK(){if(IO)return A2;IO=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return A2=n,A2}var E2,RO;function Vu(){if(RO)return E2;RO=1;var t=rv(),e=DK(),n=MK(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return E2=s,E2}var S2,OO;function qu(){if(OO)return S2;OO=1;function t(e){return e!=null&&typeof e=="object"}return S2=t,S2}var N2,kO;function xm(){if(kO)return N2;kO=1;var t=Vu(),e=qu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return N2=r,N2}var T2,PO;function vT(){if(PO)return T2;PO=1;var t=Gs(),e=xm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return T2=i,T2}var C2,jO;function uf(){if(jO)return C2;jO=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return C2=t,C2}var I2,DO;function yT(){if(DO)return I2;DO=1;var t=Vu(),e=uf(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return I2=s,I2}var R2,MO;function LK(){if(MO)return R2;MO=1;var t=Vc(),e=t["__core-js_shared__"];return R2=e,R2}var O2,LO;function FK(){if(LO)return O2;LO=1;var t=LK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return O2=n,O2}var k2,FO;function d9(){if(FO)return k2;FO=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return k2=n,k2}var P2,UO;function UK(){if(UO)return P2;UO=1;var t=yT(),e=FK(),n=uf(),r=d9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var y=t(g)?h:a;return y.test(r(g))}return P2=m,P2}var j2,VO;function VK(){if(VO)return j2;VO=1;function t(e,n){return e==null?void 0:e[n]}return j2=t,j2}var D2,qO;function ph(){if(qO)return D2;qO=1;var t=UK(),e=VK();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return D2=n,D2}var M2,BO;function G1(){if(BO)return M2;BO=1;var t=ph(),e=t(Object,"create");return M2=e,M2}var L2,$O;function qK(){if($O)return L2;$O=1;var t=G1();function e(){this.__data__=t?t(null):{},this.size=0}return L2=e,L2}var F2,zO;function BK(){if(zO)return F2;zO=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return F2=t,F2}var U2,GO;function $K(){if(GO)return U2;GO=1;var t=G1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var l=s[a];return l===e?void 0:l}return r.call(s,a)?s[a]:void 0}return U2=i,U2}var V2,HO;function zK(){if(HO)return V2;HO=1;var t=G1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return V2=r,V2}var q2,WO;function GK(){if(WO)return q2;WO=1;var t=G1(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return q2=n,q2}var B2,KO;function HK(){if(KO)return B2;KO=1;var t=qK(),e=BK(),n=$K(),r=zK(),i=GK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,B2=a,B2}var $2,YO;function WK(){if(YO)return $2;YO=1;function t(){this.__data__=[],this.size=0}return $2=t,$2}var z2,XO;function xT(){if(XO)return z2;XO=1;function t(e,n){return e===n||e!==e&&n!==n}return z2=t,z2}var G2,JO;function H1(){if(JO)return G2;JO=1;var t=xT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return G2=e,G2}var H2,QO;function KK(){if(QO)return H2;QO=1;var t=H1(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return H2=r,H2}var W2,ZO;function YK(){if(ZO)return W2;ZO=1;var t=H1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return W2=e,W2}var K2,e3;function XK(){if(e3)return K2;e3=1;var t=H1();function e(n){return t(this.__data__,n)>-1}return K2=e,K2}var Y2,t3;function JK(){if(t3)return Y2;t3=1;var t=H1();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Y2=e,Y2}var X2,n3;function W1(){if(n3)return X2;n3=1;var t=WK(),e=KK(),n=YK(),r=XK(),i=JK();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,X2=a,X2}var J2,r3;function bT(){if(r3)return J2;r3=1;var t=ph(),e=Vc(),n=t(e,"Map");return J2=n,J2}var Q2,i3;function QK(){if(i3)return Q2;i3=1;var t=HK(),e=W1(),n=bT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Q2=r,Q2}var Z2,a3;function ZK(){if(a3)return Z2;a3=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Z2=t,Z2}var ew,s3;function K1(){if(s3)return ew;s3=1;var t=ZK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return ew=e,ew}var tw,o3;function eY(){if(o3)return tw;o3=1;var t=K1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return tw=e,tw}var nw,l3;function tY(){if(l3)return nw;l3=1;var t=K1();function e(n){return t(this,n).get(n)}return nw=e,nw}var rw,c3;function nY(){if(c3)return rw;c3=1;var t=K1();function e(n){return t(this,n).has(n)}return rw=e,rw}var iw,u3;function rY(){if(u3)return iw;u3=1;var t=K1();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return iw=e,iw}var aw,d3;function _T(){if(d3)return aw;d3=1;var t=QK(),e=eY(),n=tY(),r=nY(),i=rY();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,aw=a,aw}var sw,f3;function f9(){if(f3)return sw;f3=1;var t=_T(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return a.cache=c.set(l,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,sw=n,sw}var ow,h3;function iY(){if(h3)return ow;h3=1;var t=f9(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return ow=n,ow}var lw,p3;function aY(){if(p3)return lw;p3=1;var t=iY(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,f){a.push(c?f.replace(n,"$1"):l||s)}),a});return lw=r,lw}var cw,m3;function wT(){if(m3)return cw;m3=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return cw=t,cw}var uw,g3;function sY(){if(g3)return uw;g3=1;var t=rv(),e=wT(),n=Gs(),r=xm(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return uw=s,uw}var dw,v3;function h9(){if(v3)return dw;v3=1;var t=sY();function e(n){return n==null?"":t(n)}return dw=e,dw}var fw,y3;function p9(){if(y3)return fw;y3=1;var t=Gs(),e=vT(),n=aY(),r=h9();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return fw=i,fw}var hw,x3;function Y1(){if(x3)return hw;x3=1;var t=xm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return hw=e,hw}var pw,b3;function AT(){if(b3)return pw;b3=1;var t=p9(),e=Y1();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return pw=n,pw}var mw,_3;function m9(){if(_3)return mw;_3=1;var t=AT();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return mw=e,mw}var oY=m9();const Wo=Er(oY);var gw,w3;function lY(){if(w3)return gw;w3=1;function t(e){return e==null}return gw=t,gw}var cY=lY();const qn=Er(cY);var vw,A3;function uY(){if(A3)return vw;A3=1;var t=Vu(),e=Gs(),n=qu(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return vw=i,vw}var dY=uY();const rh=Er(dY);var fY=yT();const wn=Er(fY);var hY=uf();const bm=Er(hY);var yw={exports:{}},dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3;function pY(){if(E3)return dr;E3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function A(E){if(typeof E=="object"&&E!==null){var I=E.$$typeof;switch(I){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:return E;default:switch(E=E&&E.$$typeof,E){case l:case s:case c:case g:case m:case a:return E;default:return I}}case e:return I}}}return dr.ContextConsumer=s,dr.ContextProvider=a,dr.Element=t,dr.ForwardRef=c,dr.Fragment=n,dr.Lazy=g,dr.Memo=m,dr.Portal=e,dr.Profiler=i,dr.StrictMode=r,dr.Suspense=f,dr.SuspenseList=h,dr.isAsyncMode=function(){return!1},dr.isConcurrentMode=function(){return!1},dr.isContextConsumer=function(E){return A(E)===s},dr.isContextProvider=function(E){return A(E)===a},dr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},dr.isForwardRef=function(E){return A(E)===c},dr.isFragment=function(E){return A(E)===n},dr.isLazy=function(E){return A(E)===g},dr.isMemo=function(E){return A(E)===m},dr.isPortal=function(E){return A(E)===e},dr.isProfiler=function(E){return A(E)===i},dr.isStrictMode=function(E){return A(E)===r},dr.isSuspense=function(E){return A(E)===f},dr.isSuspenseList=function(E){return A(E)===h},dr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===a||E.$$typeof===s||E.$$typeof===c||E.$$typeof===N||E.getModuleId!==void 0)},dr.typeOf=A,dr}var S3;function mY(){return S3||(S3=1,yw.exports=pY()),yw.exports}var gY=mY(),xw,N3;function g9(){if(N3)return xw;N3=1;var t=Vu(),e=qu(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return xw=r,xw}var bw,T3;function vY(){if(T3)return bw;T3=1;var t=g9();function e(n){return t(n)&&n!=+n}return bw=e,bw}var yY=vY();const _m=Er(yY);var xY=g9();const bY=Er(xY);var Cl=function(e){return e===0?0:e>0?1:-1},zf=function(e){return rh(e)&&e.indexOf("%")===e.length-1},_t=function(e){return bY(e)&&!_m(e)},_Y=function(e){return qn(e)},ta=function(e){return _t(e)||rh(e)},wY=0,iv=function(e){var n=++wY;return"".concat(e||"").concat(n)},ih=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(e)&&!rh(e))return r;var a;if(zf(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return _m(a)&&(a=r),i&&a>n&&(a=n),a},kd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},AY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Bo=function(e,n){return _t(e)&&_t(n)?function(r){return e+r*(n-e)}:function(){return n}};function xx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wo(r,e))===n})}var EY=function(e,n){return _t(e)&&_t(n)?e-n:rh(e)&&rh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Sp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function YE(t){"@babel/helpers - typeof";return YE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YE(t)}var SY=["viewBox","children"],NY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],C3=["points","pathLength"],_w={svg:SY,polygon:C3,polyline:C3},ET=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(xe.isValidElement(e)&&(r=e.props),!bm(r))return null;var i={};return Object.keys(r).forEach(function(a){ET.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},TY=function(e,n,r){return function(i){return e(n,r,i),null}},_x=function(e,n,r){if(!bm(e)||YE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];ET.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=TY(s,n,r))}),i},CY=["children"],IY=["children"];function I3(t,e){if(t==null)return{};var n=RY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XE(t){"@babel/helpers - typeof";return XE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XE(t)}var R3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Su=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},O3=null,ww=null,ST=function t(e){if(e===O3&&Array.isArray(ww))return ww;var n=[];return xe.Children.forEach(e,function(r){qn(r)||(gY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ww=n,O3=e,n};function Rl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Su(i)}):r=[Su(e)],ST(t).forEach(function(i){var a=Wo(i,"type.displayName")||Wo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function po(t,e){var n=Rl(t,e);return n&&n[0]}var k3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_t(r)||r<=0||!_t(i)||i<=0)},OY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kY=function(e){return e&&e.type&&rh(e.type)&&OY.indexOf(e.type)>=0},PY=function(e){return e&&XE(e)==="object"&&"clipDot"in e},jY=function(e,n,r,i){var a,s=(a=_w==null?void 0:_w[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!wn(e)&&(i&&s.includes(n)||NY.includes(n))||r&&ET.includes(n)},Pn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(xe.isValidElement(e)&&(i=e.props),!bm(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;jY((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},JE=function t(e,n){if(e===n)return!0;var r=xe.Children.count(e);if(r!==xe.Children.count(n))return!1;if(r===0)return!0;if(r===1)return P3(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!P3(a,s))return!1}return!0},P3=function(e,n){if(qn(e)&&qn(n))return!0;if(!qn(e)&&!qn(n)){var r=e.props||{},i=r.children,a=I3(r,CY),s=n.props||{},l=s.children,c=I3(s,IY);return i&&l?Sp(a,c)&&JE(i,l):!i&&!l?Sp(a,c):!1}return!1},j3=function(e,n){var r=[],i={};return ST(e).forEach(function(a,s){if(kY(a))r.push(a);else if(a){var l=Su(a.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(a,l,s);r.push(m),i[l]=!0}}}),r},DY=function(e){var n=e&&e.type;return n&&R3[n]?R3[n]:null},MY=function(e,n){return ST(n).indexOf(e)},LY=["children","width","height","viewBox","className","style","title","desc"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(this,arguments)}function FY(t,e){if(t==null)return{};var n=UY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,f=FY(t,LY),h=i||{width:n,height:r,x:0,y:0},m=Qn("recharts-surface",a);return Le.createElement("svg",QE({},Pn(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Le.createElement("title",null,l),Le.createElement("desc",null,c),e)}var VY=["children","className"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function qY(t,e){if(t==null)return{};var n=BY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oi=Le.forwardRef(function(t,e){var n=t.children,r=t.className,i=qY(t,VY),a=Qn("recharts-layer",r);return Le.createElement("g",eS({className:a},Pn(i,!0),{ref:e}),n)}),Nu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Aw,D3;function $Y(){if(D3)return Aw;D3=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return Aw=t,Aw}var Ew,M3;function zY(){if(M3)return Ew;M3=1;var t=$Y();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return Ew=e,Ew}var Sw,L3;function v9(){if(L3)return Sw;L3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+a+"]");function c(f){return l.test(f)}return Sw=c,Sw}var Nw,F3;function GY(){if(F3)return Nw;F3=1;function t(e){return e.split("")}return Nw=t,Nw}var Tw,U3;function HY(){if(U3)return Tw;U3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",N=f+"?",A="["+a+"]?",E="(?:"+y+"(?:"+[h,m,g].join("|")+")"+A+N+")*",I=A+N+E,O="(?:"+[h+l+"?",l,m,g,s].join("|")+")",F=RegExp(c+"(?="+c+")|"+O+I,"g");function U(D){return D.match(F)||[]}return Tw=U,Tw}var Cw,V3;function WY(){if(V3)return Cw;V3=1;var t=GY(),e=v9(),n=HY();function r(i){return e(i)?n(i):t(i)}return Cw=r,Cw}var Iw,q3;function KY(){if(q3)return Iw;q3=1;var t=zY(),e=v9(),n=WY(),r=h9();function i(a){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[a]()+f}}return Iw=i,Iw}var Rw,B3;function YY(){if(B3)return Rw;B3=1;var t=KY(),e=t("toUpperCase");return Rw=e,Rw}var XY=YY();const X1=Er(XY);function Ur(t){return function(){return t}}const y9=Math.cos,wx=Math.sin,Dl=Math.sqrt,Ax=Math.PI,J1=2*Ax,tS=Math.PI,nS=2*tS,Ff=1e-6,JY=nS-Ff;function x9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ZY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x9:QY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,m=l-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Ff)if(!(Math.abs(m*c-f*h)>Ff)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,N=i-l,A=c*c+f*f,E=y*y+N*N,I=Math.sqrt(A),O=Math.sqrt(g),F=a*Math.tan((tS-Math.acos((A+g-E)/(2*I*O)))/2),U=F/O,D=F/I;Math.abs(U-1)>Ff&&this._append`L${e+U*h},${n+U*m}`,this._append`A${a},${a},0,0,${+(m*y>h*N)},${this._x1=e+D*c},${this._y1=n+D*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,m=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ff||Math.abs(this._y1-h)>Ff)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%nS+nS),g>JY?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:g>Ff&&this._append`A${r},${r},0,${+(g>=tS)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ZY(e)}function TT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b9(t){this._context=t}b9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Q1(t){return new b9(t)}function _9(t){return t[0]}function w9(t){return t[1]}function A9(t,e){var n=Ur(!0),r=null,i=Q1,a=null,s=NT(l);t=typeof t=="function"?t:t===void 0?_9:Ur(t),e=typeof e=="function"?e:e===void 0?w9:Ur(e);function l(c){var f,h=(c=TT(c)).length,m,g=!1,y;for(r==null&&(a=i(y=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(m,f,c),+e(m,f,c));if(y)return a=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ur(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ur(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ur(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function my(t,e,n){var r=null,i=Ur(!0),a=null,s=Q1,l=null,c=NT(f);t=typeof t=="function"?t:t===void 0?_9:Ur(+t),e=typeof e=="function"?e:Ur(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w9:Ur(+n);function f(m){var g,y,N,A=(m=TT(m)).length,E,I=!1,O,F=new Array(A),U=new Array(A);for(a==null&&(l=s(O=c())),g=0;g<=A;++g){if(!(g<A&&i(E=m[g],g,m))===I)if(I=!I)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=g-1;N>=y;--N)l.point(F[N],U[N]);l.lineEnd(),l.areaEnd()}I&&(F[g]=+t(E,g,m),U[g]=+e(E,g,m),l.point(r?+r(E,g,m):F[g],n?+n(E,g,m):U[g]))}if(O)return l=null,O+""||null}function h(){return A9().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ur(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ur(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ur(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ur(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ur(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ur(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ur(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),f):a},f}class E9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function eX(t){return new E9(t,!0)}function tX(t){return new E9(t,!1)}const CT={draw(t,e){const n=Dl(e/Ax);t.moveTo(n,0),t.arc(0,0,n,0,J1)}},nX={draw(t,e){const n=Dl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},S9=Dl(1/3),rX=S9*2,iX={draw(t,e){const n=Dl(e/rX),r=n*S9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},aX={draw(t,e){const n=Dl(e),r=-n/2;t.rect(r,r,n,n)}},sX=.8908130915292852,N9=wx(Ax/10)/wx(7*Ax/10),oX=wx(J1/10)*N9,lX=-y9(J1/10)*N9,cX={draw(t,e){const n=Dl(e*sX),r=oX*n,i=lX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=J1*a/5,l=y9(s),c=wx(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Ow=Dl(3),uX={draw(t,e){const n=-Dl(e/(Ow*3));t.moveTo(0,n*2),t.lineTo(-Ow*n,-n),t.lineTo(Ow*n,-n),t.closePath()}},Fo=-.5,Uo=Dl(3)/2,rS=1/Dl(12),dX=(rS/2+1)*3,fX={draw(t,e){const n=Dl(e/dX),r=n/2,i=n*rS,a=r,s=n*rS+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Fo*r-Uo*i,Uo*r+Fo*i),t.lineTo(Fo*a-Uo*s,Uo*a+Fo*s),t.lineTo(Fo*l-Uo*c,Uo*l+Fo*c),t.lineTo(Fo*r+Uo*i,Fo*i-Uo*r),t.lineTo(Fo*a+Uo*s,Fo*s-Uo*a),t.lineTo(Fo*l+Uo*c,Fo*c-Uo*l),t.closePath()}};function hX(t,e){let n=null,r=NT(i);t=typeof t=="function"?t:Ur(t||CT),e=typeof e=="function"?e:Ur(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ur(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ex(){}function Sx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T9(t){this._context=t}T9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pX(t){return new T9(t)}function C9(t){this._context=t}C9.prototype={areaStart:Ex,areaEnd:Ex,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mX(t){return new C9(t)}function I9(t){this._context=t}I9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gX(t){return new I9(t)}function R9(t){this._context=t}R9.prototype={areaStart:Ex,areaEnd:Ex,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vX(t){return new R9(t)}function $3(t){return t<0?-1:1}function z3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return($3(a)+$3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function G3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function kw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function Nx(t){this._context=t}Nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kw(this,this._t0,G3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,kw(this,G3(this,n=z3(this,t,e)),n);break;default:kw(this,this._t0,n=z3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O9(t){this._context=new k9(t)}(O9.prototype=Object.create(Nx.prototype)).point=function(t,e){Nx.prototype.point.call(this,e,t)};function k9(t){this._context=t}k9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yX(t){return new Nx(t)}function xX(t){return new O9(t)}function P9(t){this._context=t}P9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=H3(t),i=H3(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function H3(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bX(t){return new P9(t)}function Z1(t,e){this._context=t,this._t=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _X(t){return new Z1(t,.5)}function wX(t){return new Z1(t,0)}function AX(t){return new Z1(t,1)}function Bp(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function EX(t,e){return t[e]}function SX(t){const e=[];return e.key=t,e}function NX(){var t=Ur([]),e=iS,n=Bp,r=EX;function i(a){var s=Array.from(t.apply(this,arguments),SX),l,c=s.length,f=-1,h;for(const m of a)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(m,s[l].key,f,a)]).data=m;for(l=0,h=TT(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ur(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?iS:typeof a=="function"?a:Ur(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Bp,i):n},i}function TX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Bp(t,e)}}function CX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Bp(t,e)}}function IX(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,g=h[r-1][1]||0,y=(m-g)/2,N=0;N<l;++N){var A=t[e[N]],E=A[r][1]||0,I=A[r-1][1]||0;y+=E-I}c+=m,f+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Bp(t,e)}}function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}var RX=["type","size","sizeType"];function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){OX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OX(t,e,n){return e=kX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kX(t){var e=PX(t,"string");return u0(e)=="symbol"?e:e+""}function PX(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jX(t,e){if(t==null)return{};var n=DX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var j9={symbolCircle:CT,symbolCross:nX,symbolDiamond:iX,symbolSquare:aX,symbolStar:cX,symbolTriangle:uX,symbolWye:fX},MX=Math.PI/180,LX=function(e){var n="symbol".concat(X1(e));return j9[n]||CT},FX=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*MX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UX=function(e,n){j9["symbol".concat(X1(e))]=n},IT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=jX(e,RX),f=K3(K3({},c),{},{type:r,size:a,sizeType:l}),h=function(){var E=LX(r),I=hX().type(E).size(FX(a,l,r));return I()},m=f.className,g=f.cx,y=f.cy,N=Pn(f,!0);return g===+g&&y===+y&&a===+a?Le.createElement("path",aS({},N,{className:Qn("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};IT.registerSymbol=UX;function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){d0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function $X(t,e,n){return e&&BX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zX(t,e,n){return e=Tx(e),GX(t,D9()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function GX(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(t)}function HX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D9=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function WX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function d0(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=KX(t,"string");return $p(e)=="symbol"?e:e+""}function KX(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vo=32,RT=(function(t){function e(){return qX(this,e),zX(this,e,arguments)}return WX(e,t),$X(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Vo/2,s=Vo/6,l=Vo/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Le.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Vo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Le.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Vo,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Le.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vo/8,"h").concat(Vo,"v").concat(Vo*3/4,"h").concat(-Vo,"z"),className:"recharts-legend-icon"});if(Le.isValidElement(r.legendIcon)){var f=VX({},r);return delete f.legendIcon,Le.cloneElement(r.legendIcon,f)}return Le.createElement(IT,{fill:c,cx:a,cy:a,size:Vo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Vo,height:Vo},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,N){var A=y.formatter||c,E=Qn(d0(d0({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",y.inactive));if(y.type==="none")return null;var I=wn(y.value)?null:y.value;Nu(!wn(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=y.inactive?f:y.color;return Le.createElement("li",sS({className:E,style:m,key:"legend-item-".concat(N)},_x(r.props,y,N)),Le.createElement(ZE,{width:s,height:s,viewBox:h,style:g},r.renderIcon(y)),Le.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},A?A(I,y,N):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Le.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(xe.PureComponent);d0(RT,"displayName","Legend");d0(RT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Pw,X3;function YX(){if(X3)return Pw;X3=1;var t=W1();function e(){this.__data__=new t,this.size=0}return Pw=e,Pw}var jw,J3;function XX(){if(J3)return jw;J3=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return jw=t,jw}var Dw,Q3;function JX(){if(Q3)return Dw;Q3=1;function t(e){return this.__data__.get(e)}return Dw=t,Dw}var Mw,Z3;function QX(){if(Z3)return Mw;Z3=1;function t(e){return this.__data__.has(e)}return Mw=t,Mw}var Lw,ek;function ZX(){if(ek)return Lw;ek=1;var t=W1(),e=bT(),n=_T(),r=200;function i(a,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return Lw=i,Lw}var Fw,tk;function L9(){if(tk)return Fw;tk=1;var t=W1(),e=YX(),n=XX(),r=JX(),i=QX(),a=ZX();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,Fw=s,Fw}var Uw,nk;function eJ(){if(nk)return Uw;nk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Uw=e,Uw}var Vw,rk;function tJ(){if(rk)return Vw;rk=1;function t(e){return this.__data__.has(e)}return Vw=t,Vw}var qw,ik;function F9(){if(ik)return qw;ik=1;var t=_T(),e=eJ(),n=tJ();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,qw=r,qw}var Bw,ak;function U9(){if(ak)return Bw;ak=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Bw=t,Bw}var $w,sk;function V9(){if(sk)return $w;sk=1;function t(e,n){return e.has(n)}return $w=t,$w}var zw,ok;function q9(){if(ok)return zw;ok=1;var t=F9(),e=U9(),n=V9(),r=1,i=2;function a(s,l,c,f,h,m){var g=c&r,y=s.length,N=l.length;if(y!=N&&!(g&&N>y))return!1;var A=m.get(s),E=m.get(l);if(A&&E)return A==l&&E==s;var I=-1,O=!0,F=c&i?new t:void 0;for(m.set(s,l),m.set(l,s);++I<y;){var U=s[I],D=l[I];if(f)var q=g?f(D,U,I,l,s,m):f(U,D,I,s,l,m);if(q!==void 0){if(q)continue;O=!1;break}if(F){if(!e(l,function(P,j){if(!n(F,j)&&(U===P||h(U,P,c,f,m)))return F.push(j)})){O=!1;break}}else if(!(U===D||h(U,D,c,f,m))){O=!1;break}}return m.delete(s),m.delete(l),O}return zw=a,zw}var Gw,lk;function nJ(){if(lk)return Gw;lk=1;var t=Vc(),e=t.Uint8Array;return Gw=e,Gw}var Hw,ck;function rJ(){if(ck)return Hw;ck=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Hw=t,Hw}var Ww,uk;function OT(){if(uk)return Ww;uk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Ww=t,Ww}var Kw,dk;function iJ(){if(dk)return Kw;dk=1;var t=rv(),e=nJ(),n=xT(),r=q9(),i=rJ(),a=OT(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",N="[object Set]",A="[object String]",E="[object Symbol]",I="[object ArrayBuffer]",O="[object DataView]",F=t?t.prototype:void 0,U=F?F.valueOf:void 0;function D(q,P,j,$,G,V,L){switch(j){case O:if(q.byteLength!=P.byteLength||q.byteOffset!=P.byteOffset)return!1;q=q.buffer,P=P.buffer;case I:return!(q.byteLength!=P.byteLength||!V(new e(q),new e(P)));case c:case f:case g:return n(+q,+P);case h:return q.name==P.name&&q.message==P.message;case y:case A:return q==P+"";case m:var k=i;case N:var J=$&s;if(k||(k=a),q.size!=P.size&&!J)return!1;var ce=L.get(q);if(ce)return ce==P;$|=l,L.set(q,P);var ne=r(k(q),k(P),$,G,V,L);return L.delete(q),ne;case E:if(U)return U.call(q)==U.call(P)}return!1}return Kw=D,Kw}var Yw,fk;function B9(){if(fk)return Yw;fk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Yw=t,Yw}var Xw,hk;function aJ(){if(hk)return Xw;hk=1;var t=B9(),e=Gs();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Xw=n,Xw}var Jw,pk;function sJ(){if(pk)return Jw;pk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[a++]=l)}return s}return Jw=t,Jw}var Qw,mk;function oJ(){if(mk)return Qw;mk=1;function t(){return[]}return Qw=t,Qw}var Zw,gk;function lJ(){if(gk)return Zw;gk=1;var t=sJ(),e=oJ(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return Zw=a,Zw}var eA,vk;function cJ(){if(vk)return eA;vk=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return eA=t,eA}var tA,yk;function uJ(){if(yk)return tA;yk=1;var t=Vu(),e=qu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return tA=r,tA}var nA,xk;function kT(){if(xk)return nA;xk=1;var t=uJ(),e=qu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return nA=a,nA}var Dg={exports:{}},rA,bk;function dJ(){if(bk)return rA;bk=1;function t(){return!1}return rA=t,rA}Dg.exports;var _k;function $9(){return _k||(_k=1,(function(t,e){var n=Vc(),r=dJ(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(Dg,Dg.exports)),Dg.exports}var iA,wk;function PT(){if(wk)return iA;wk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return iA=n,iA}var aA,Ak;function jT(){if(Ak)return aA;Ak=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return aA=e,aA}var sA,Ek;function fJ(){if(Ek)return sA;Ek=1;var t=Vu(),e=jT(),n=qu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",N="[object String]",A="[object WeakMap]",E="[object ArrayBuffer]",I="[object DataView]",O="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",q="[object Int32Array]",P="[object Uint8Array]",j="[object Uint8ClampedArray]",$="[object Uint16Array]",G="[object Uint32Array]",V={};V[O]=V[F]=V[U]=V[D]=V[q]=V[P]=V[j]=V[$]=V[G]=!0,V[r]=V[i]=V[E]=V[a]=V[I]=V[s]=V[l]=V[c]=V[f]=V[h]=V[m]=V[g]=V[y]=V[N]=V[A]=!1;function L(k){return n(k)&&e(k.length)&&!!V[t(k)]}return sA=L,sA}var oA,Sk;function z9(){if(Sk)return oA;Sk=1;function t(e){return function(n){return e(n)}}return oA=t,oA}var Mg={exports:{}};Mg.exports;var Nk;function hJ(){return Nk||(Nk=1,(function(t,e){var n=u9(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Mg,Mg.exports)),Mg.exports}var lA,Tk;function G9(){if(Tk)return lA;Tk=1;var t=fJ(),e=z9(),n=hJ(),r=n&&n.isTypedArray,i=r?e(r):t;return lA=i,lA}var cA,Ck;function pJ(){if(Ck)return cA;Ck=1;var t=cJ(),e=kT(),n=Gs(),r=$9(),i=PT(),a=G9(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var m=n(f),g=!m&&e(f),y=!m&&!g&&r(f),N=!m&&!g&&!y&&a(f),A=m||g||y||N,E=A?t(f.length,String):[],I=E.length;for(var O in f)(h||l.call(f,O))&&!(A&&(O=="length"||y&&(O=="offset"||O=="parent")||N&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,I)))&&E.push(O);return E}return cA=c,cA}var uA,Ik;function mJ(){if(Ik)return uA;Ik=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return uA=e,uA}var dA,Rk;function H9(){if(Rk)return dA;Rk=1;function t(e,n){return function(r){return e(n(r))}}return dA=t,dA}var fA,Ok;function gJ(){if(Ok)return fA;Ok=1;var t=H9(),e=t(Object.keys,Object);return fA=e,fA}var hA,kk;function vJ(){if(kk)return hA;kk=1;var t=mJ(),e=gJ(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return hA=i,hA}var pA,Pk;function av(){if(Pk)return pA;Pk=1;var t=yT(),e=jT();function n(r){return r!=null&&e(r.length)&&!t(r)}return pA=n,pA}var mA,jk;function eb(){if(jk)return mA;jk=1;var t=pJ(),e=vJ(),n=av();function r(i){return n(i)?t(i):e(i)}return mA=r,mA}var gA,Dk;function yJ(){if(Dk)return gA;Dk=1;var t=aJ(),e=lJ(),n=eb();function r(i){return t(i,n,e)}return gA=r,gA}var vA,Mk;function xJ(){if(Mk)return vA;Mk=1;var t=yJ(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,f,h){var m=l&e,g=t(a),y=g.length,N=t(s),A=N.length;if(y!=A&&!m)return!1;for(var E=y;E--;){var I=g[E];if(!(m?I in s:r.call(s,I)))return!1}var O=h.get(a),F=h.get(s);if(O&&F)return O==s&&F==a;var U=!0;h.set(a,s),h.set(s,a);for(var D=m;++E<y;){I=g[E];var q=a[I],P=s[I];if(c)var j=m?c(P,q,I,s,a,h):c(q,P,I,a,s,h);if(!(j===void 0?q===P||f(q,P,l,c,h):j)){U=!1;break}D||(D=I=="constructor")}if(U&&!D){var $=a.constructor,G=s.constructor;$!=G&&"constructor"in a&&"constructor"in s&&!(typeof $=="function"&&$ instanceof $&&typeof G=="function"&&G instanceof G)&&(U=!1)}return h.delete(a),h.delete(s),U}return vA=i,vA}var yA,Lk;function bJ(){if(Lk)return yA;Lk=1;var t=ph(),e=Vc(),n=t(e,"DataView");return yA=n,yA}var xA,Fk;function _J(){if(Fk)return xA;Fk=1;var t=ph(),e=Vc(),n=t(e,"Promise");return xA=n,xA}var bA,Uk;function W9(){if(Uk)return bA;Uk=1;var t=ph(),e=Vc(),n=t(e,"Set");return bA=n,bA}var _A,Vk;function wJ(){if(Vk)return _A;Vk=1;var t=ph(),e=Vc(),n=t(e,"WeakMap");return _A=n,_A}var wA,qk;function AJ(){if(qk)return wA;qk=1;var t=bJ(),e=bT(),n=_J(),r=W9(),i=wJ(),a=Vu(),s=d9(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",y=s(t),N=s(e),A=s(n),E=s(r),I=s(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=g||e&&O(new e)!=l||n&&O(n.resolve())!=f||r&&O(new r)!=h||i&&O(new i)!=m)&&(O=function(F){var U=a(F),D=U==c?F.constructor:void 0,q=D?s(D):"";if(q)switch(q){case y:return g;case N:return l;case A:return f;case E:return h;case I:return m}return U}),wA=O,wA}var AA,Bk;function EJ(){if(Bk)return AA;Bk=1;var t=L9(),e=q9(),n=iJ(),r=xJ(),i=AJ(),a=Gs(),s=$9(),l=G9(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function N(A,E,I,O,F,U){var D=a(A),q=a(E),P=D?h:i(A),j=q?h:i(E);P=P==f?m:P,j=j==f?m:j;var $=P==m,G=j==m,V=P==j;if(V&&s(A)){if(!s(E))return!1;D=!0,$=!1}if(V&&!$)return U||(U=new t),D||l(A)?e(A,E,I,O,F,U):n(A,E,P,I,O,F,U);if(!(I&c)){var L=$&&y.call(A,"__wrapped__"),k=G&&y.call(E,"__wrapped__");if(L||k){var J=L?A.value():A,ce=k?E.value():E;return U||(U=new t),F(J,ce,I,O,U)}}return V?(U||(U=new t),r(A,E,I,O,F,U)):!1}return AA=N,AA}var EA,$k;function DT(){if($k)return EA;$k=1;var t=EJ(),e=qu();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,l)}return EA=n,EA}var SA,zk;function SJ(){if(zk)return SA;zk=1;var t=L9(),e=DT(),n=1,r=2;function i(a,s,l,c){var f=l.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var g=l[f];if(m&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<h;){g=l[f];var y=g[0],N=a[y],A=g[1];if(m&&g[2]){if(N===void 0&&!(y in a))return!1}else{var E=new t;if(c)var I=c(N,A,y,a,s,E);if(!(I===void 0?e(A,N,n|r,c,E):I))return!1}}return!0}return SA=i,SA}var NA,Gk;function K9(){if(Gk)return NA;Gk=1;var t=uf();function e(n){return n===n&&!t(n)}return NA=e,NA}var TA,Hk;function NJ(){if(Hk)return TA;Hk=1;var t=K9(),e=eb();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,t(l)]}return i}return TA=n,TA}var CA,Wk;function Y9(){if(Wk)return CA;Wk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return CA=t,CA}var IA,Kk;function TJ(){if(Kk)return IA;Kk=1;var t=SJ(),e=NJ(),n=Y9();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return IA=r,IA}var RA,Yk;function CJ(){if(Yk)return RA;Yk=1;function t(e,n){return e!=null&&n in Object(e)}return RA=t,RA}var OA,Xk;function IJ(){if(Xk)return OA;Xk=1;var t=p9(),e=kT(),n=Gs(),r=PT(),i=jT(),a=Y1();function s(l,c,f){c=t(c,l);for(var h=-1,m=c.length,g=!1;++h<m;){var y=a(c[h]);if(!(g=l!=null&&f(l,y)))break;l=l[y]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&i(m)&&r(y,m)&&(n(l)||e(l)))}return OA=s,OA}var kA,Jk;function RJ(){if(Jk)return kA;Jk=1;var t=CJ(),e=IJ();function n(r,i){return r!=null&&e(r,i,t)}return kA=n,kA}var PA,Qk;function OJ(){if(Qk)return PA;Qk=1;var t=DT(),e=m9(),n=RJ(),r=vT(),i=K9(),a=Y9(),s=Y1(),l=1,c=2;function f(h,m){return r(h)&&i(m)?a(s(h),m):function(g){var y=e(g,h);return y===void 0&&y===m?n(g,h):t(m,y,l|c)}}return PA=f,PA}var jA,Zk;function wm(){if(Zk)return jA;Zk=1;function t(e){return e}return jA=t,jA}var DA,eP;function kJ(){if(eP)return DA;eP=1;function t(e){return function(n){return n==null?void 0:n[e]}}return DA=t,DA}var MA,tP;function PJ(){if(tP)return MA;tP=1;var t=AT();function e(n){return function(r){return t(r,n)}}return MA=e,MA}var LA,nP;function jJ(){if(nP)return LA;nP=1;var t=kJ(),e=PJ(),n=vT(),r=Y1();function i(a){return n(a)?t(r(a)):e(a)}return LA=i,LA}var FA,rP;function df(){if(rP)return FA;rP=1;var t=TJ(),e=OJ(),n=wm(),r=Gs(),i=jJ();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return FA=a,FA}var UA,iP;function X9(){if(iP)return UA;iP=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return UA=t,UA}var VA,aP;function DJ(){if(aP)return VA;aP=1;function t(e){return e!==e}return VA=t,VA}var qA,sP;function MJ(){if(sP)return qA;sP=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return qA=t,qA}var BA,oP;function LJ(){if(oP)return BA;oP=1;var t=X9(),e=DJ(),n=MJ();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return BA=r,BA}var $A,lP;function FJ(){if(lP)return $A;lP=1;var t=LJ();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return $A=e,$A}var zA,cP;function UJ(){if(cP)return zA;cP=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return zA=t,zA}var GA,uP;function VJ(){if(uP)return GA;uP=1;function t(){}return GA=t,GA}var HA,dP;function qJ(){if(dP)return HA;dP=1;var t=W9(),e=VJ(),n=OT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return HA=i,HA}var WA,fP;function BJ(){if(fP)return WA;fP=1;var t=F9(),e=FJ(),n=UJ(),r=V9(),i=qJ(),a=OT(),s=200;function l(c,f,h){var m=-1,g=e,y=c.length,N=!0,A=[],E=A;if(h)N=!1,g=n;else if(y>=s){var I=f?null:i(c);if(I)return a(I);N=!1,g=r,E=new t}else E=f?[]:A;e:for(;++m<y;){var O=c[m],F=f?f(O):O;if(O=h||O!==0?O:0,N&&F===F){for(var U=E.length;U--;)if(E[U]===F)continue e;f&&E.push(F),A.push(O)}else g(E,F,h)||(E!==A&&E.push(F),A.push(O))}return A}return WA=l,WA}var KA,hP;function $J(){if(hP)return KA;hP=1;var t=df(),e=BJ();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return KA=n,KA}var zJ=$J();const pP=Er(zJ);function J9(t,e,n){return e===!0?pP(t,n):wn(e)?pP(t,e):t}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var GJ=["ref"];function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z9(r.key),r)}}function WJ(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KJ(t,e,n){return e=Cx(e),YJ(t,Q9()?Reflect.construct(e,n||[],Cx(t).constructor):e.apply(t,n))}function YJ(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XJ(t)}function XJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q9=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(t)}function JJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function tb(t,e,n){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z9(t){var e=QJ(t,"string");return zp(e)=="symbol"?e:e+""}function QJ(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZJ(t,e){if(t==null)return{};var n=eQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tQ(t){return t.value}function nQ(t,e){if(Le.isValidElement(t))return Le.cloneElement(t,e);if(typeof t=="function")return Le.createElement(t,e);e.ref;var n=ZJ(e,GJ);return Le.createElement(RT,n)}var vP=1,Np=(function(t){function e(){var n;HJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=KJ(this,e,[].concat(i)),tb(n,"lastBoundingBox",{width:-1,height:-1}),n}return JJ(e,t),WJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vP||Math.abs(i.height-this.lastBoundingBox.height)>vP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();m={left:((f||0)-y.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();g={top:((h||0)-N.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gu(gu({},m),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=gu(gu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Le.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){r.wrapperNode=y}},nQ(a,gu(gu({},this.props),{},{payload:J9(h,f,tQ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=gu(gu({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&_t(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(xe.PureComponent);tb(Np,"displayName","Legend");tb(Np,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YA,yP;function rQ(){if(yP)return YA;yP=1;var t=rv(),e=kT(),n=Gs(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return YA=i,YA}var XA,xP;function eF(){if(xP)return XA;xP=1;var t=B9(),e=rQ();function n(r,i,a,s,l){var c=-1,f=r.length;for(a||(a=e),l||(l=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,l):t(l,h):s||(l[l.length]=h)}return l}return XA=n,XA}var JA,bP;function iQ(){if(bP)return JA;bP=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return JA=t,JA}var QA,_P;function aQ(){if(_P)return QA;_P=1;var t=iQ(),e=t();return QA=e,QA}var ZA,wP;function tF(){if(wP)return ZA;wP=1;var t=aQ(),e=eb();function n(r,i){return r&&t(r,i,e)}return ZA=n,ZA}var e5,AP;function sQ(){if(AP)return e5;AP=1;var t=av();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return e5=e,e5}var t5,EP;function MT(){if(EP)return t5;EP=1;var t=tF(),e=sQ(),n=e(t);return t5=n,t5}var n5,SP;function nF(){if(SP)return n5;SP=1;var t=MT(),e=av();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++a]=i(l,c,f)}),s}return n5=n,n5}var r5,NP;function oQ(){if(NP)return r5;NP=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return r5=t,r5}var i5,TP;function lQ(){if(TP)return i5;TP=1;var t=xm();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!l&&n>r||l&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!m&&n<r||m&&i&&s&&!a&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return i5=e,i5}var a5,CP;function cQ(){if(CP)return a5;CP=1;var t=lQ();function e(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],l[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return a5=e,a5}var s5,IP;function uQ(){if(IP)return s5;IP=1;var t=wT(),e=AT(),n=df(),r=nF(),i=oQ(),a=z9(),s=cQ(),l=wm(),c=Gs();function f(h,m,g){m.length?m=t(m,function(A){return c(A)?function(E){return e(E,A.length===1?A[0]:A)}:A}):m=[l];var y=-1;m=t(m,a(n));var N=r(h,function(A,E,I){var O=t(m,function(F){return F(A)});return{criteria:O,index:++y,value:A}});return i(N,function(A,E){return s(A,E,g)})}return s5=f,s5}var o5,RP;function dQ(){if(RP)return o5;RP=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return o5=t,o5}var l5,OP;function fQ(){if(OP)return l5;OP=1;var t=dQ(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(f),t(r,this,h)}}return l5=n,l5}var c5,kP;function hQ(){if(kP)return c5;kP=1;function t(e){return function(){return e}}return c5=t,c5}var u5,PP;function rF(){if(PP)return u5;PP=1;var t=ph(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return u5=e,u5}var d5,jP;function pQ(){if(jP)return d5;jP=1;var t=hQ(),e=rF(),n=wm(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return d5=r,d5}var f5,DP;function mQ(){if(DP)return f5;DP=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return f5=r,f5}var h5,MP;function gQ(){if(MP)return h5;MP=1;var t=pQ(),e=mQ(),n=e(t);return h5=n,h5}var p5,LP;function vQ(){if(LP)return p5;LP=1;var t=wm(),e=fQ(),n=gQ();function r(i,a){return n(e(i,a,t),i+"")}return p5=r,p5}var m5,FP;function nb(){if(FP)return m5;FP=1;var t=xT(),e=av(),n=PT(),r=uf();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],a):!1}return m5=i,m5}var g5,UP;function yQ(){if(UP)return g5;UP=1;var t=eF(),e=uQ(),n=vQ(),r=nb(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return g5=i,g5}var xQ=yQ();const LT=Er(xQ);function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function bQ(t,e){return EQ(t)||AQ(t,e)||wQ(t,e)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){if(t){if(typeof t=="string")return VP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(t,e)}}function VP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function EQ(t){if(Array.isArray(t))return t}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=TQ(t,"string");return f0(e)=="symbol"?e:e+""}function TQ(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CQ(t){return Array.isArray(t)&&ta(t[0])&&ta(t[1])?t.join(" ~ "):t}var IQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,g=e.itemSorter,y=e.wrapperClassName,N=e.labelClassName,A=e.label,E=e.labelFormatter,I=e.accessibilityLayer,O=I===void 0?!1:I,F=function(){if(h&&h.length){var L={padding:0,margin:0},k=(g?LT(h,g):h).map(function(J,ce){if(J.type==="none")return null;var ne=v5({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},l),ie=J.formatter||m||CQ,te=J.value,fe=J.name,be=te,re=fe;if(ie&&be!=null&&re!=null){var C=ie(te,fe,J,ce,h);if(Array.isArray(C)){var H=bQ(C,2);be=H[0],re=H[1]}else be=C}return Le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ce),style:ne},ta(re)?Le.createElement("span",{className:"recharts-tooltip-item-name"},re):null,ta(re)?Le.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Le.createElement("span",{className:"recharts-tooltip-item-value"},be),Le.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return Le.createElement("ul",{className:"recharts-tooltip-item-list",style:L},k)}return null},U=v5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),D=v5({margin:0},f),q=!qn(A),P=q?A:"",j=Qn("recharts-default-tooltip",y),$=Qn("recharts-tooltip-label",N);q&&E&&h!==void 0&&h!==null&&(P=E(A,h));var G=O?{role:"status","aria-live":"assertive"}:{};return Le.createElement("div",cS({className:j,style:U},G),Le.createElement("p",{className:$,style:D},Le.isValidElement(P)?P:"".concat(P)),F())};function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function gy(t,e,n){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=OQ(t,"string");return h0(e)=="symbol"?e:e+""}function OQ(t,e){if(h0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg="recharts-tooltip-wrapper",kQ={visibility:"hidden"};function PQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Qn(yg,gy(gy(gy(gy({},"".concat(yg,"-right"),_t(n)&&e&&_t(e.x)&&n>=e.x),"".concat(yg,"-left"),_t(n)&&e&&_t(e.x)&&n<e.x),"".concat(yg,"-bottom"),_t(r)&&e&&_t(e.y)&&r>=e.y),"".concat(yg,"-top"),_t(r)&&e&&_t(e.y)&&r<e.y))}function BP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&_t(a[r]))return a[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return s[r]?h:m;if(s[r]){var g=h,y=c[r];return g<y?Math.max(m,c[r]):Math.max(h,c[r])}var N=m+l,A=c[r]+f;return N>A?Math.max(h,c[r]):Math.max(m,c[r])}function jQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function DQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=BP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=BP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=jQ({translateX:h,translateY:m,useTranslate3d:l})):f=kQ,{cssProperties:f,cssClasses:PQ({translateX:h,translateY:m,coordinate:n})}}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){dS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aF(r.key),r)}}function FQ(t,e,n){return e&&LQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UQ(t,e,n){return e=Ix(e),VQ(t,iF()?Reflect.construct(e,n||[],Ix(t).constructor):e.apply(t,n))}function VQ(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQ(t)}function qQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(t)}function BQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function dS(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=$Q(t,"string");return Gp(e)=="symbol"?e:e+""}function $Q(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GP=1,zQ=(function(t){function e(){var n;MQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=UQ(this,e,[].concat(i)),dS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dS(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return BQ(e,t),FQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>GP||Math.abs(r.height-this.state.lastBoundingBox.height)>GP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,y=i.offset,N=i.position,A=i.reverseDirection,E=i.useTranslate3d,I=i.viewBox,O=i.wrapperStyle,F=DQ({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:y,position:N,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:E,viewBox:I}),U=F.cssClasses,D=F.cssProperties,q=zP(zP({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},O);return Le.createElement("div",{tabIndex:-1,className:U,style:q,ref:function(j){r.wrapperNode=j}},f)}}])})(xe.PureComponent),GQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Am={isSsr:GQ()};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){FT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oF(r.key),r)}}function KQ(t,e,n){return e&&WQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YQ(t,e,n){return e=Rx(e),XQ(t,sF()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function XQ(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JQ(t)}function JQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function QQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fS(t,e)}function FT(t,e,n){return e=oF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oF(t){var e=ZQ(t,"string");return Hp(e)=="symbol"?e:e+""}function ZQ(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eZ(t){return t.dataKey}function tZ(t,e){return Le.isValidElement(t)?Le.cloneElement(t,e):typeof t=="function"?Le.createElement(t,e):Le.createElement(IQ,e)}var yc=(function(t){function e(){return HQ(this,e),YQ(this,e,arguments)}return QQ(e,t),KQ(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,g=i.isAnimationActive,y=i.offset,N=i.payload,A=i.payloadUniqBy,E=i.position,I=i.reverseDirection,O=i.useTranslate3d,F=i.viewBox,U=i.wrapperStyle,D=N??[];m&&D.length&&(D=J9(N.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,eZ));var q=D.length>0;return Le.createElement(zQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:q,offset:y,position:E,reverseDirection:I,useTranslate3d:O,viewBox:F,wrapperStyle:U},tZ(f,WP(WP({},this.props),{},{payload:D})))}}])})(xe.PureComponent);FT(yc,"displayName","Tooltip");FT(yc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Am.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var y5,KP;function nZ(){if(KP)return y5;KP=1;var t=Vc(),e=function(){return t.Date.now()};return y5=e,y5}var x5,YP;function rZ(){if(YP)return x5;YP=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return x5=e,x5}var b5,XP;function iZ(){if(XP)return b5;XP=1;var t=rZ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return b5=n,b5}var _5,JP;function lF(){if(JP)return _5;JP=1;var t=iZ(),e=uf(),n=xm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return _5=c,_5}var w5,QP;function aZ(){if(QP)return w5;QP=1;var t=uf(),e=nZ(),n=lF(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,f){var h,m,g,y,N,A,E=0,I=!1,O=!1,F=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(I=!!f.leading,O="maxWait"in f,g=O?i(n(f.maxWait)||0,c):g,F="trailing"in f?!!f.trailing:F);function U(k){var J=h,ce=m;return h=m=void 0,E=k,y=l.apply(ce,J),y}function D(k){return E=k,N=setTimeout(j,c),I?U(k):y}function q(k){var J=k-A,ce=k-E,ne=c-J;return O?a(ne,g-ce):ne}function P(k){var J=k-A,ce=k-E;return A===void 0||J>=c||J<0||O&&ce>=g}function j(){var k=e();if(P(k))return $(k);N=setTimeout(j,q(k))}function $(k){return N=void 0,F&&h?U(k):(h=m=void 0,y)}function G(){N!==void 0&&clearTimeout(N),E=0,h=A=m=N=void 0}function V(){return N===void 0?y:$(e())}function L(){var k=e(),J=P(k);if(h=arguments,m=this,A=k,J){if(N===void 0)return D(A);if(O)return clearTimeout(N),N=setTimeout(j,c),U(A)}return N===void 0&&(N=setTimeout(j,c)),y}return L.cancel=G,L.flush=V,L}return w5=s,w5}var A5,ZP;function sZ(){if(ZP)return A5;ZP=1;var t=aZ(),e=uf(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return A5=r,A5}var oZ=sZ();const cF=Er(oZ);function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=uZ(t,"string");return p0(e)=="symbol"?e:e+""}function uZ(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t,e){return mZ(t)||pZ(t,e)||hZ(t,e)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(t,e){if(t){if(typeof t=="string")return t6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t6(t,e)}}function t6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function mZ(t){if(Array.isArray(t))return t}var gZ=xe.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,g=t.maxHeight,y=t.children,N=t.debounce,A=N===void 0?0:N,E=t.id,I=t.className,O=t.onResize,F=t.style,U=F===void 0?{}:F,D=xe.useRef(null),q=xe.useRef();q.current=O,xe.useImperativeHandle(e,function(){return Object.defineProperty(D.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),D.current},configurable:!0})});var P=xe.useState({containerWidth:i.width,containerHeight:i.height}),j=dZ(P,2),$=j[0],G=j[1],V=xe.useCallback(function(k,J){G(function(ce){var ne=Math.round(k),ie=Math.round(J);return ce.containerWidth===ne&&ce.containerHeight===ie?ce:{containerWidth:ne,containerHeight:ie}})},[]);xe.useEffect(function(){var k=function(fe){var be,re=fe[0].contentRect,C=re.width,H=re.height;V(C,H),(be=q.current)===null||be===void 0||be.call(q,C,H)};A>0&&(k=cF(k,A,{trailing:!0,leading:!1}));var J=new ResizeObserver(k),ce=D.current.getBoundingClientRect(),ne=ce.width,ie=ce.height;return V(ne,ie),J.observe(D.current),function(){J.disconnect()}},[V,A]);var L=xe.useMemo(function(){var k=$.containerWidth,J=$.containerHeight;if(k<0||J<0)return null;Nu(zf(s)||zf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Nu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ce=zf(s)?k:s,ne=zf(c)?J:c;n&&n>0&&(ce?ne=ce/n:ne&&(ce=ne*n),g&&ne>g&&(ne=g)),Nu(ce>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ce,ne,s,c,h,m,n);var ie=!Array.isArray(y)&&Su(y.type).endsWith("Chart");return Le.Children.map(y,function(te){return Le.isValidElement(te)?xe.cloneElement(te,vy({width:ce,height:ne},ie?{style:vy({height:"100%",width:"100%",maxHeight:ne,maxWidth:ce},te.props.style)}:{})):te})},[n,y,c,g,m,h,$,s]);return Le.createElement("div",{id:E?"".concat(E):void 0,className:Qn("recharts-responsive-container",I),style:vy(vy({},U),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:g}),ref:D},L)}),uF=function(e){return null};uF.displayName="Cell";function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function n6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vZ(t,e,n){return e=yZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=xZ(t,"string");return m0(e)=="symbol"?e:e+""}function xZ(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ip={widthCache:{},cacheCount:0},bZ=2e3,_Z={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r6="recharts_measurement_span";function wZ(t){var e=hS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Hg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Am.isSsr)return{width:0,height:0};var r=wZ(n),i=JSON.stringify({text:e,copyStyle:r});if(ip.widthCache[i])return ip.widthCache[i];try{var a=document.getElementById(r6);a||(a=document.createElement("span"),a.setAttribute("id",r6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=hS(hS({},_Z),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return ip.widthCache[i]=c,++ip.cacheCount>bZ&&(ip.cacheCount=0,ip.widthCache={}),c}catch{return{width:0,height:0}}},AZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}function Ox(t,e){return TZ(t)||NZ(t,e)||SZ(t,e)||EZ()}function EZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(t,e){if(t){if(typeof t=="string")return i6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i6(t,e)}}function i6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function TZ(t){if(Array.isArray(t))return t}function CZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RZ(r.key),r)}}function IZ(t,e,n){return e&&a6(t.prototype,e),n&&a6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t){var e=OZ(t,"string");return g0(e)=="symbol"?e:e+""}function OZ(t,e){if(g0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jZ=Object.keys(dF),vp="NaN";function DZ(t,e){return t*dF[e]}var yy=(function(){function t(e,n){CZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!kZ.test(n)&&(this.num=NaN,this.unit=""),jZ.includes(n)&&(this.num=DZ(e,n),this.unit="px")}return IZ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=PZ.exec(n))!==null&&r!==void 0?r:[],a=Ox(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])})();function fF(t){if(t.includes(vp))return vp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=s6.exec(e))!==null&&n!==void 0?n:[],i=Ox(r,4),a=i[1],s=i[2],l=i[3],c=yy.parse(a??""),f=yy.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return vp;e=e.replace(s6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=o6.exec(e))!==null&&m!==void 0?m:[],y=Ox(g,4),N=y[1],A=y[2],E=y[3],I=yy.parse(N??""),O=yy.parse(E??""),F=A==="+"?I.add(O):I.subtract(O);if(F.isNaN())return vp;e=e.replace(o6,F.toString())}return e}var l6=/\(([^()]*)\)/;function MZ(t){for(var e=t;e.includes("(");){var n=l6.exec(e),r=Ox(n,2),i=r[1];e=e.replace(l6,fF(i))}return e}function LZ(t){var e=t.replace(/\s+/g,"");return e=MZ(e),e=fF(e),e}function FZ(t){try{return LZ(t)}catch{return vp}}function E5(t){var e=FZ(t.slice(5,-1));return e===vp?"":e}var UZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VZ=["dx","dy","angle","className","breakAll"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}function c6(t,e){if(t==null)return{};var n=qZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u6(t,e){return GZ(t)||zZ(t,e)||$Z(t,e)||BZ()}function BZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(t,e){if(t){if(typeof t=="string")return d6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d6(t,e)}}function d6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function GZ(t){if(Array.isArray(t))return t}var hF=/[ \f\n\r\t\v\u2028\u2029]+/,pF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];qn(n)||(r?a=n.toString().split(""):a=n.toString().split(hF));var s=a.map(function(c){return{word:c,width:Hg(c,i).width}}),l=r?0:Hg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},HZ=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=_t(s),m=l,g=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce(function(ne,ie){var te=ie.word,fe=ie.width,be=ne[ne.length-1];if(be&&(i==null||a||be.width+fe+r<Number(i)))be.words.push(te),be.width+=fe+r;else{var re={words:[te],width:fe};ne.push(re)}return ne},[])},y=g(n),N=function(ce){return ce.reduce(function(ne,ie){return ne.width>ie.width?ne:ie})};if(!h)return y;for(var A="",E=function(ce){var ne=m.slice(0,ce),ie=pF({breakAll:f,style:c,children:ne+A}).wordsWithComputedWidth,te=g(ie),fe=te.length>s||N(te).width>Number(i);return[fe,te]},I=0,O=m.length-1,F=0,U;I<=O&&F<=m.length-1;){var D=Math.floor((I+O)/2),q=D-1,P=E(q),j=u6(P,2),$=j[0],G=j[1],V=E(D),L=u6(V,1),k=L[0];if(!$&&!k&&(I=D+1),$&&k&&(O=D-1),!$&&k){U=G;break}F++}return U||y},f6=function(e){var n=qn(e)?[]:e.toString().split(hF);return[{words:n}]},WZ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Am.isSsr){var c,f,h=pF({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;c=m,f=g}else return f6(i);return HZ({breakAll:s,children:i,maxLines:l,style:a},c,f,n,r)}return f6(i)},h6="#808080",kx=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,N=e.verticalAnchor,A=N===void 0?"end":N,E=e.fill,I=E===void 0?h6:E,O=c6(e,UZ),F=xe.useMemo(function(){return WZ({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:m,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,m,O.style,O.width]),U=O.dx,D=O.dy,q=O.angle,P=O.className,j=O.breakAll,$=c6(O,VZ);if(!ta(r)||!ta(a))return null;var G=r+(_t(U)?U:0),V=a+(_t(D)?D:0),L;switch(A){case"start":L=E5("calc(".concat(f,")"));break;case"middle":L=E5("calc(".concat((F.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:L=E5("calc(".concat(F.length-1," * -").concat(l,")"));break}var k=[];if(m){var J=F[0].width,ce=O.width;k.push("scale(".concat((_t(ce)?ce/J:1)/J,")"))}return q&&k.push("rotate(".concat(q,", ").concat(G,", ").concat(V,")")),k.length&&($.transform=k.join(" ")),Le.createElement("text",pS({},Pn($,!0),{x:G,y:V,className:Qn("recharts-text",P),textAnchor:y,fill:I.includes("url")?h6:I}),F.map(function(ne,ie){var te=ne.words.join(j?"":" ");return Le.createElement("tspan",{x:G,dy:ie===0?L:l,key:"".concat(te,"-").concat(ie)},te)}))};function zd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UT(t){let e,n,r;t.length!==2?(e=zd,n=(l,c)=>zd(t(l),c),r=(l,c)=>t(l)-c):(e=t===zd||t===KZ?t:YZ,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function YZ(){return 0}function mF(t){return t===null?NaN:+t}function*XZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const JZ=UT(zd),sv=JZ.right;UT(mF).center;class p6 extends Map{constructor(e,n=eee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(m6(this,e))}has(e){return super.has(m6(this,e))}set(e,n){return super.set(QZ(this,e),n)}delete(e){return super.delete(ZZ(this,e))}}function m6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function QZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ZZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function eee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tee(t=zd){if(t===zd)return gF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nee=Math.sqrt(50),ree=Math.sqrt(10),iee=Math.sqrt(2);function Px(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=nee?10:a>=ree?5:a>=iee?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Px(t,e,n*2):[l,c,f]}function mS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Px(e,t,n):Px(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(a-f)/-s;else for(let f=0;f<l;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function gS(t,e,n){return e=+e,t=+t,n=+n,Px(t,e,n)[2]}function vS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gS(e,t,n):gS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function g6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function v6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gF:tee(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/c+g)),N=Math.min(r,Math.floor(e+(c-f)*m/c+g));vF(t,e,y,N,i)}const a=t[e];let s=n,l=r;for(xg(t,n,e),i(t[r],a)>0&&xg(t,n,r);s<l;){for(xg(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?xg(t,n,l):(++l,xg(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function xg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function aee(t,e,n){if(t=Float64Array.from(XZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return v6(t);if(e>=1)return g6(t);var r,i=(r-1)*e,a=Math.floor(i),s=g6(vF(t,a).subarray(0,a+1)),l=v6(t.subarray(a+1));return s+(l-s)*(i-a)}}function see(t,e,n=mF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function oee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Jo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yS=Symbol("implicit");function VT(){var t=new p6,e=[],n=[],r=yS;function i(a){let s=t.get(a);if(s===void 0){if(r!==yS)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new p6;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VT(e,n).unknown(r)},Jo.apply(i,arguments),i}function v0(){var t=VT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var g=e().length,y=i<r,N=y?i:r,A=y?r:i;a=(A-N)/Math.max(1,g-c+f*2),l&&(a=Math.floor(a)),N+=(A-N-a*(g-c))*h,s=a*(1-c),l&&(N=Math.round(N),s=Math.round(s));var E=oee(g).map(function(I){return N+a*I});return n(y?E.reverse():E)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return v0(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Jo.apply(m(),arguments)}function yF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yF(e())},t}function Wg(){return yF(v0.apply(null,arguments).paddingInner(1))}function qT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ov(){}var y0=.7,jx=1/y0,Tp="\\s*([+-]?\\d+)\\s*",x0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lee=/^#([0-9a-f]{3,8})$/,cee=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),uee=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),dee=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${x0}\\)$`),fee=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${x0}\\)$`),hee=new RegExp(`^hsl\\(${x0},${Sc},${Sc}\\)$`),pee=new RegExp(`^hsla\\(${x0},${Sc},${Sc},${x0}\\)$`),y6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qT(ov,b0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:x6,formatHex:x6,formatHex8:mee,formatHsl:gee,formatRgb:b6,toString:b6});function x6(){return this.rgb().formatHex()}function mee(){return this.rgb().formatHex8()}function gee(){return bF(this).formatHsl()}function b6(){return this.rgb().formatRgb()}function b0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_6(e):n===3?new zs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cee.exec(t))?new zs(e[1],e[2],e[3],1):(e=uee.exec(t))?new zs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dee.exec(t))?xy(e[1],e[2],e[3],e[4]):(e=fee.exec(t))?xy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hee.exec(t))?E6(e[1],e[2]/100,e[3]/100,1):(e=pee.exec(t))?E6(e[1],e[2]/100,e[3]/100,e[4]):y6.hasOwnProperty(t)?_6(y6[t]):t==="transparent"?new zs(NaN,NaN,NaN,0):null}function _6(t){return new zs(t>>16&255,t>>8&255,t&255,1)}function xy(t,e,n,r){return r<=0&&(t=e=n=NaN),new zs(t,e,n,r)}function vee(t){return t instanceof ov||(t=b0(t)),t?(t=t.rgb(),new zs(t.r,t.g,t.b,t.opacity)):new zs}function xS(t,e,n,r){return arguments.length===1?vee(t):new zs(t,e,n,r??1)}function zs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qT(zs,xS,xF(ov,{brighter(t){return t=t==null?jx:Math.pow(jx,t),new zs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?y0:Math.pow(y0,t),new zs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zs(Jf(this.r),Jf(this.g),Jf(this.b),Dx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w6,formatHex:w6,formatHex8:yee,formatRgb:A6,toString:A6}));function w6(){return`#${Gf(this.r)}${Gf(this.g)}${Gf(this.b)}`}function yee(){return`#${Gf(this.r)}${Gf(this.g)}${Gf(this.b)}${Gf((isNaN(this.opacity)?1:this.opacity)*255)}`}function A6(){const t=Dx(this.opacity);return`${t===1?"rgb(":"rgba("}${Jf(this.r)}, ${Jf(this.g)}, ${Jf(this.b)}${t===1?")":`, ${t})`}`}function Dx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gf(t){return t=Jf(t),(t<16?"0":"")+t.toString(16)}function E6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tl(t,e,n,r)}function bF(t){if(t instanceof Tl)return new Tl(t.h,t.s,t.l,t.opacity);if(t instanceof ov||(t=b0(t)),!t)return new Tl;if(t instanceof Tl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Tl(s,l,c,t.opacity)}function xee(t,e,n,r){return arguments.length===1?bF(t):new Tl(t,e,n,r??1)}function Tl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qT(Tl,xee,xF(ov,{brighter(t){return t=t==null?jx:Math.pow(jx,t),new Tl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?y0:Math.pow(y0,t),new Tl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zs(S5(t>=240?t-240:t+120,i,r),S5(t,i,r),S5(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tl(S6(this.h),by(this.s),by(this.l),Dx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dx(this.opacity);return`${t===1?"hsl(":"hsla("}${S6(this.h)}, ${by(this.s)*100}%, ${by(this.l)*100}%${t===1?")":`, ${t})`}`}}));function S6(t){return t=(t||0)%360,t<0?t+360:t}function by(t){return Math.max(0,Math.min(1,t||0))}function S5(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const BT=t=>()=>t;function bee(t,e){return function(n){return t+n*e}}function _ee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wee(t){return(t=+t)==1?_F:function(e,n){return n-e?_ee(e,n,t):BT(isNaN(e)?n:e)}}function _F(t,e){var n=e-t;return n?bee(t,n):BT(isNaN(t)?e:t)}const N6=(function t(e){var n=wee(e);function r(i,a){var s=n((i=xS(i)).r,(a=xS(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=_F(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function Aee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Eee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function See(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Em(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Nee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Em(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var bS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N5=new RegExp(bS.source,"g");function Cee(t){return function(){return t}}function Iee(t){return function(e){return t(e)+""}}function Ree(t,e){var n=bS.lastIndex=N5.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=bS.exec(t))&&(i=N5.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Mx(r,i)})),n=N5.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Iee(c[0].x):Cee(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function Em(t,e){var n=typeof e,r;return e==null||n==="boolean"?BT(e):(n==="number"?Mx:n==="string"?(r=b0(e))?(e=r,N6):Ree:e instanceof b0?N6:e instanceof Date?Nee:Eee(e)?Aee:Array.isArray(e)?See:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tee:Mx)(t,e)}function $T(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Oee(t,e){e===void 0&&(e=t,t=Em);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function kee(t){return function(){return t}}function Lx(t){return+t}var T6=[0,1];function ws(t){return t}function _S(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kee(isNaN(e)?NaN:.5)}function Pee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jee(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=_S(i,r),a=n(s,a)):(r=_S(r,i),a=n(a,s)),function(l){return a(r(l))}}function Dee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=_S(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=sv(t,l,1,r)-1;return a[c](i[c](l))}}function lv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rb(){var t=T6,e=T6,n=Em,r,i,a,s=ws,l,c,f;function h(){var g=Math.min(t.length,e.length);return s!==ws&&(s=Pee(t[0],t[g-1])),l=g>2?Dee:jee,c=f=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(r),e,n)))(r(s(g)))}return m.invert=function(g){return s(i((f||(f=l(e,t.map(r),Mx)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Lx),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=$T,h()},m.clamp=function(g){return arguments.length?(s=g?!0:ws,h()):s!==ws},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,y){return r=g,i=y,h()}}function zT(){return rb()(ws,ws)}function Mee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fx(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wp(t){return t=Fx(Math.abs(t)),t?t[1]:NaN}function Lee(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Fee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Uee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _0(t){if(!(e=Uee.exec(t)))throw new Error("invalid format: "+t);var e;return new GT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_0.prototype=GT.prototype;function GT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ux;function qee(t,e){var n=Fx(t,e);if(!n)return Ux=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Ux=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fx(t,Math.max(0,e+a-1))[0]}function C6(t,e){var n=Fx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const I6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>C6(t*100,e),r:C6,s:qee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function R6(t){return t}var O6=Array.prototype.map,k6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bee(t){var e=t.grouping===void 0||t.thousands===void 0?R6:Lee(O6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?R6:Fee(O6.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m,g){m=_0(m);var y=m.fill,N=m.align,A=m.sign,E=m.symbol,I=m.zero,O=m.width,F=m.comma,U=m.precision,D=m.trim,q=m.type;q==="n"?(F=!0,q="g"):I6[q]||(U===void 0&&(U=12),D=!0,q="g"),(I||y==="0"&&N==="=")&&(I=!0,y="0",N="=");var P=(g&&g.prefix!==void 0?g.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():""),j=(E==="$"?r:/[%p]/.test(q)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),$=I6[q],G=/[defgprs%]/.test(q);U=U===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function V(L){var k=P,J=j,ce,ne,ie;if(q==="c")J=$(L)+J,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?c:$(Math.abs(L),U),D&&(L=Vee(L)),te&&+L==0&&A!=="+"&&(te=!1),k=(te?A==="("?A:l:A==="-"||A==="("?"":A)+k,J=(q==="s"&&!isNaN(L)&&Ux!==void 0?k6[8+Ux/3]:"")+J+(te&&A==="("?")":""),G){for(ce=-1,ne=L.length;++ce<ne;)if(ie=L.charCodeAt(ce),48>ie||ie>57){J=(ie===46?i+L.slice(ce+1):L.slice(ce))+J,L=L.slice(0,ce);break}}}F&&!I&&(L=e(L,1/0));var fe=k.length+L.length+J.length,be=fe<O?new Array(O-fe+1).join(y):"";switch(F&&I&&(L=e(be+L,be.length?O-J.length:1/0),be=""),N){case"<":L=k+L+J+be;break;case"=":L=k+be+L+J;break;case"^":L=be.slice(0,fe=be.length>>1)+k+L+J+be.slice(fe);break;default:L=be+k+L+J;break}return a(L)}return V.toString=function(){return m+""},V}function h(m,g){var y=Math.max(-8,Math.min(8,Math.floor(Wp(g)/3)))*3,N=Math.pow(10,-y),A=f((m=_0(m),m.type="f",m),{suffix:k6[8+y/3]});return function(E){return A(N*E)}}return{format:f,formatPrefix:h}}var _y,HT,wF;$ee({thousands:",",grouping:[3],currency:["$",""]});function $ee(t){return _y=Bee(t),HT=_y.format,wF=_y.formatPrefix,_y}function zee(t){return Math.max(0,-Wp(Math.abs(t)))}function Gee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wp(e)/3)))*3-Wp(Math.abs(t)))}function Hee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wp(e)-Wp(t))+1}function AF(t,e,n,r){var i=vS(t,e,n),a;switch(r=_0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Gee(i,s))&&(r.precision=a),wF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zee(i))&&(r.precision=a-(r.type==="%")*2);break}}return HT(r)}function ff(t){var e=t.domain;return t.ticks=function(n){var r=e();return mS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return AF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=gS(s,l,n),f===c)return r[i]=s,r[a]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Vx(){var t=zT();return t.copy=function(){return lv(t,Vx())},Jo.apply(t,arguments),ff(t)}function EF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return EF(t).unknown(e)},t=arguments.length?Array.from(t,Lx):[0,1],ff(n)}function SF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function P6(t){return Math.log(t)}function j6(t){return Math.exp(t)}function Wee(t){return-Math.log(-t)}function Kee(t){return-Math.exp(-t)}function Yee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xee(t){return t===10?Yee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function D6(t){return(e,n)=>-t(-e,n)}function WT(t){const e=t(P6,j6),n=e.domain;let r=10,i,a;function s(){return i=Jee(r),a=Xee(r),n()[0]<0?(i=D6(i),a=D6(a),t(Wee,Kee)):t(P6,j6),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=i(f),y=i(h),N,A;const E=l==null?10:+l;let I=[];if(!(r%1)&&y-g<E){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(N=1;N<r;++N)if(A=g<0?N/a(-g):N*a(g),!(A<f)){if(A>h)break;I.push(A)}}else for(;g<=y;++g)for(N=r-1;N>=1;--N)if(A=g>0?N/a(-g):N*a(g),!(A<f)){if(A>h)break;I.push(A)}I.length*2<E&&(I=mS(f,h,E))}else I=mS(g,y,Math.min(y-g,E)).map(a);return m?I.reverse():I},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=_0(c)).precision==null&&(c.trim=!0),c=HT(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(SF(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function NF(){const t=WT(rb()).domain([1,10]);return t.copy=()=>lv(t,NF()).base(t.base()),Jo.apply(t,arguments),t}function M6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function L6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KT(t){var e=1,n=t(M6(e),L6(e));return n.constant=function(r){return arguments.length?t(M6(e=+r),L6(e)):e},ff(n)}function TF(){var t=KT(rb());return t.copy=function(){return lv(t,TF()).constant(t.constant())},Jo.apply(t,arguments)}function F6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zee(t){return t<0?-t*t:t*t}function YT(t){var e=t(ws,ws),n=1;function r(){return n===1?t(ws,ws):n===.5?t(Qee,Zee):t(F6(n),F6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ff(e)}function XT(){var t=YT(rb());return t.copy=function(){return lv(t,XT()).exponent(t.exponent())},Jo.apply(t,arguments),t}function ete(){return XT.apply(null,arguments).exponent(.5)}function U6(t){return Math.sign(t)*t*t}function tte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CF(){var t=zT(),e=[0,1],n=!1,r;function i(a){var s=tte(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(U6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Lx)).map(U6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return CF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Jo.apply(i,arguments),ff(i)}function IF(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=see(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[sv(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(zd),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return IF().domain(t).range(e).unknown(r)},Jo.apply(a,arguments)}function RF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[sv(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return RF().domain([t,e]).range(i).unknown(a)},Jo.apply(ff(s),arguments)}function OF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[sv(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OF().domain(t).range(e).unknown(n)},Jo.apply(i,arguments)}const T5=new Date,C5=new Date;function ra(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return c},i.filter=a=>ra(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(T5.setTime(+a),C5.setTime(+s),t(T5),t(C5),Math.floor(n(T5,C5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const qx=ra(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ra(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qx);qx.range;const yu=1e3,Ho=yu*60,xu=Ho*60,Ru=xu*24,JT=Ru*7,V6=Ru*30,I5=Ru*365,Hf=ra(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yu)},(t,e)=>(e-t)/yu,t=>t.getUTCSeconds());Hf.range;const QT=ra(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yu)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getMinutes());QT.range;const ZT=ra(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCMinutes());ZT.range;const eC=ra(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yu-t.getMinutes()*Ho)},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getHours());eC.range;const tC=ra(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getUTCHours());tC.range;const cv=ra(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ho)/Ru,t=>t.getDate()-1);cv.range;const ib=ra(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ru,t=>t.getUTCDate()-1);ib.range;const kF=ra(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ru,t=>Math.floor(t/Ru));kF.range;function mh(t){return ra(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ho)/JT)}const ab=mh(0),Bx=mh(1),nte=mh(2),rte=mh(3),Kp=mh(4),ite=mh(5),ate=mh(6);ab.range;Bx.range;nte.range;rte.range;Kp.range;ite.range;ate.range;function gh(t){return ra(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JT)}const sb=gh(0),$x=gh(1),ste=gh(2),ote=gh(3),Yp=gh(4),lte=gh(5),cte=gh(6);sb.range;$x.range;ste.range;ote.range;Yp.range;lte.range;cte.range;const nC=ra(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nC.range;const rC=ra(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rC.range;const Ou=ra(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ou.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ra(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ou.range;const ku=ra(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ku.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ra(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ku.range;function PF(t,e,n,r,i,a){const s=[[Hf,1,yu],[Hf,5,5*yu],[Hf,15,15*yu],[Hf,30,30*yu],[a,1,Ho],[a,5,5*Ho],[a,15,15*Ho],[a,30,30*Ho],[i,1,xu],[i,3,3*xu],[i,6,6*xu],[i,12,12*xu],[r,1,Ru],[r,2,2*Ru],[n,1,JT],[e,1,V6],[e,3,3*V6],[t,1,I5]];function l(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const y=m&&typeof m.range=="function"?m:c(f,h,m),N=y?y.range(f,+h+1):[];return g?N.reverse():N}function c(f,h,m){const g=Math.abs(h-f)/m,y=UT(([,,E])=>E).right(s,g);if(y===s.length)return t.every(vS(f/I5,h/I5,m));if(y===0)return qx.every(Math.max(vS(f,h,m),1));const[N,A]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return N.every(A)}return[l,c]}const[ute,dte]=PF(ku,rC,sb,kF,tC,ZT),[fte,hte]=PF(Ou,nC,ab,cv,eC,QT);function R5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function O5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function pte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=_g(i),h=wg(i),m=_g(a),g=wg(a),y=_g(s),N=wg(s),A=_g(l),E=wg(l),I=_g(c),O=wg(c),F={a:ie,A:te,b:fe,B:be,c:null,d:H6,e:H6,f:Lte,g:Wte,G:Yte,H:jte,I:Dte,j:Mte,L:jF,m:Fte,M:Ute,p:re,q:C,Q:Y6,s:X6,S:Vte,u:qte,U:Bte,V:$te,w:zte,W:Gte,x:null,X:null,y:Hte,Y:Kte,Z:Xte,"%":K6},U={a:H,A:W,b:K,B:Q,c:null,d:W6,e:W6,f:ene,g:une,G:fne,H:Jte,I:Qte,j:Zte,L:MF,m:tne,M:nne,p:he,q:_e,Q:Y6,s:X6,S:rne,u:ine,U:ane,V:sne,w:one,W:lne,x:null,X:null,y:cne,Y:dne,Z:hne,"%":K6},D={a:G,A:V,b:L,B:k,c:J,d:z6,e:z6,f:Rte,g:$6,G:B6,H:G6,I:G6,j:Nte,L:Ite,m:Ste,M:Tte,p:$,q:Ete,Q:kte,s:Pte,S:Cte,u:xte,U:bte,V:_te,w:yte,W:wte,x:ce,X:ne,y:$6,Y:B6,Z:Ate,"%":Ote};F.x=q(n,F),F.X=q(r,F),F.c=q(e,F),U.x=q(n,U),U.X=q(r,U),U.c=q(e,U);function q(ae,Ae){return function(Ce){var Ne=[],Se=-1,Te=0,se=ae.length,X,De,Ke;for(Ce instanceof Date||(Ce=new Date(+Ce));++Se<se;)ae.charCodeAt(Se)===37&&(Ne.push(ae.slice(Te,Se)),(De=q6[X=ae.charAt(++Se)])!=null?X=ae.charAt(++Se):De=X==="e"?" ":"0",(Ke=Ae[X])&&(X=Ke(Ce,De)),Ne.push(X),Te=Se+1);return Ne.push(ae.slice(Te,Se)),Ne.join("")}}function P(ae,Ae){return function(Ce){var Ne=bg(1900,void 0,1),Se=j(Ne,ae,Ce+="",0),Te,se;if(Se!=Ce.length)return null;if("Q"in Ne)return new Date(Ne.Q);if("s"in Ne)return new Date(Ne.s*1e3+("L"in Ne?Ne.L:0));if(Ae&&!("Z"in Ne)&&(Ne.Z=0),"p"in Ne&&(Ne.H=Ne.H%12+Ne.p*12),Ne.m===void 0&&(Ne.m="q"in Ne?Ne.q:0),"V"in Ne){if(Ne.V<1||Ne.V>53)return null;"w"in Ne||(Ne.w=1),"Z"in Ne?(Te=O5(bg(Ne.y,0,1)),se=Te.getUTCDay(),Te=se>4||se===0?$x.ceil(Te):$x(Te),Te=ib.offset(Te,(Ne.V-1)*7),Ne.y=Te.getUTCFullYear(),Ne.m=Te.getUTCMonth(),Ne.d=Te.getUTCDate()+(Ne.w+6)%7):(Te=R5(bg(Ne.y,0,1)),se=Te.getDay(),Te=se>4||se===0?Bx.ceil(Te):Bx(Te),Te=cv.offset(Te,(Ne.V-1)*7),Ne.y=Te.getFullYear(),Ne.m=Te.getMonth(),Ne.d=Te.getDate()+(Ne.w+6)%7)}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),se="Z"in Ne?O5(bg(Ne.y,0,1)).getUTCDay():R5(bg(Ne.y,0,1)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+Ne.W*7-(se+5)%7:Ne.w+Ne.U*7-(se+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,O5(Ne)):R5(Ne)}}function j(ae,Ae,Ce,Ne){for(var Se=0,Te=Ae.length,se=Ce.length,X,De;Se<Te;){if(Ne>=se)return-1;if(X=Ae.charCodeAt(Se++),X===37){if(X=Ae.charAt(Se++),De=D[X in q6?Ae.charAt(Se++):X],!De||(Ne=De(ae,Ce,Ne))<0)return-1}else if(X!=Ce.charCodeAt(Ne++))return-1}return Ne}function $(ae,Ae,Ce){var Ne=f.exec(Ae.slice(Ce));return Ne?(ae.p=h.get(Ne[0].toLowerCase()),Ce+Ne[0].length):-1}function G(ae,Ae,Ce){var Ne=y.exec(Ae.slice(Ce));return Ne?(ae.w=N.get(Ne[0].toLowerCase()),Ce+Ne[0].length):-1}function V(ae,Ae,Ce){var Ne=m.exec(Ae.slice(Ce));return Ne?(ae.w=g.get(Ne[0].toLowerCase()),Ce+Ne[0].length):-1}function L(ae,Ae,Ce){var Ne=I.exec(Ae.slice(Ce));return Ne?(ae.m=O.get(Ne[0].toLowerCase()),Ce+Ne[0].length):-1}function k(ae,Ae,Ce){var Ne=A.exec(Ae.slice(Ce));return Ne?(ae.m=E.get(Ne[0].toLowerCase()),Ce+Ne[0].length):-1}function J(ae,Ae,Ce){return j(ae,e,Ae,Ce)}function ce(ae,Ae,Ce){return j(ae,n,Ae,Ce)}function ne(ae,Ae,Ce){return j(ae,r,Ae,Ce)}function ie(ae){return s[ae.getDay()]}function te(ae){return a[ae.getDay()]}function fe(ae){return c[ae.getMonth()]}function be(ae){return l[ae.getMonth()]}function re(ae){return i[+(ae.getHours()>=12)]}function C(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return s[ae.getUTCDay()]}function W(ae){return a[ae.getUTCDay()]}function K(ae){return c[ae.getUTCMonth()]}function Q(ae){return l[ae.getUTCMonth()]}function he(ae){return i[+(ae.getUTCHours()>=12)]}function _e(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ae=q(ae+="",F);return Ae.toString=function(){return ae},Ae},parse:function(ae){var Ae=P(ae+="",!1);return Ae.toString=function(){return ae},Ae},utcFormat:function(ae){var Ae=q(ae+="",U);return Ae.toString=function(){return ae},Ae},utcParse:function(ae){var Ae=P(ae+="",!0);return Ae.toString=function(){return ae},Ae}}}var q6={"-":"",_:" ",0:"0"},va=/^\s*\d+/,mte=/^%/,gte=/[\\^$*+?|[\]().{}]/g;function ir(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function vte(t){return t.replace(gte,"\\$&")}function _g(t){return new RegExp("^(?:"+t.map(vte).join("|")+")","i")}function wg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yte(t,e,n){var r=va.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xte(t,e,n){var r=va.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _te(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function B6(t,e,n){var r=va.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $6(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ate(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ete(t,e,n){var r=va.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ste(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function z6(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nte(t,e,n){var r=va.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function G6(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Cte(t,e,n){var r=va.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ite(t,e,n){var r=va.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Rte(t,e,n){var r=va.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ote(t,e,n){var r=mte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kte(t,e,n){var r=va.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Pte(t,e,n){var r=va.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function H6(t,e){return ir(t.getDate(),e,2)}function jte(t,e){return ir(t.getHours(),e,2)}function Dte(t,e){return ir(t.getHours()%12||12,e,2)}function Mte(t,e){return ir(1+cv.count(Ou(t),t),e,3)}function jF(t,e){return ir(t.getMilliseconds(),e,3)}function Lte(t,e){return jF(t,e)+"000"}function Fte(t,e){return ir(t.getMonth()+1,e,2)}function Ute(t,e){return ir(t.getMinutes(),e,2)}function Vte(t,e){return ir(t.getSeconds(),e,2)}function qte(t){var e=t.getDay();return e===0?7:e}function Bte(t,e){return ir(ab.count(Ou(t)-1,t),e,2)}function DF(t){var e=t.getDay();return e>=4||e===0?Kp(t):Kp.ceil(t)}function $te(t,e){return t=DF(t),ir(Kp.count(Ou(t),t)+(Ou(t).getDay()===4),e,2)}function zte(t){return t.getDay()}function Gte(t,e){return ir(Bx.count(Ou(t)-1,t),e,2)}function Hte(t,e){return ir(t.getFullYear()%100,e,2)}function Wte(t,e){return t=DF(t),ir(t.getFullYear()%100,e,2)}function Kte(t,e){return ir(t.getFullYear()%1e4,e,4)}function Yte(t,e){var n=t.getDay();return t=n>=4||n===0?Kp(t):Kp.ceil(t),ir(t.getFullYear()%1e4,e,4)}function Xte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ir(e/60|0,"0",2)+ir(e%60,"0",2)}function W6(t,e){return ir(t.getUTCDate(),e,2)}function Jte(t,e){return ir(t.getUTCHours(),e,2)}function Qte(t,e){return ir(t.getUTCHours()%12||12,e,2)}function Zte(t,e){return ir(1+ib.count(ku(t),t),e,3)}function MF(t,e){return ir(t.getUTCMilliseconds(),e,3)}function ene(t,e){return MF(t,e)+"000"}function tne(t,e){return ir(t.getUTCMonth()+1,e,2)}function nne(t,e){return ir(t.getUTCMinutes(),e,2)}function rne(t,e){return ir(t.getUTCSeconds(),e,2)}function ine(t){var e=t.getUTCDay();return e===0?7:e}function ane(t,e){return ir(sb.count(ku(t)-1,t),e,2)}function LF(t){var e=t.getUTCDay();return e>=4||e===0?Yp(t):Yp.ceil(t)}function sne(t,e){return t=LF(t),ir(Yp.count(ku(t),t)+(ku(t).getUTCDay()===4),e,2)}function one(t){return t.getUTCDay()}function lne(t,e){return ir($x.count(ku(t)-1,t),e,2)}function cne(t,e){return ir(t.getUTCFullYear()%100,e,2)}function une(t,e){return t=LF(t),ir(t.getUTCFullYear()%100,e,2)}function dne(t,e){return ir(t.getUTCFullYear()%1e4,e,4)}function fne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yp(t):Yp.ceil(t),ir(t.getUTCFullYear()%1e4,e,4)}function hne(){return"+0000"}function K6(){return"%"}function Y6(t){return+t}function X6(t){return Math.floor(+t/1e3)}var ap,FF,UF;pne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pne(t){return ap=pte(t),FF=ap.format,ap.parse,UF=ap.utcFormat,ap.utcParse,ap}function mne(t){return new Date(t)}function gne(t){return t instanceof Date?+t:+new Date(+t)}function iC(t,e,n,r,i,a,s,l,c,f){var h=zT(),m=h.invert,g=h.domain,y=f(".%L"),N=f(":%S"),A=f("%I:%M"),E=f("%I %p"),I=f("%a %d"),O=f("%b %d"),F=f("%B"),U=f("%Y");function D(q){return(c(q)<q?y:l(q)<q?N:s(q)<q?A:a(q)<q?E:r(q)<q?i(q)<q?I:O:n(q)<q?F:U)(q)}return h.invert=function(q){return new Date(m(q))},h.domain=function(q){return arguments.length?g(Array.from(q,gne)):g().map(mne)},h.ticks=function(q){var P=g();return t(P[0],P[P.length-1],q??10)},h.tickFormat=function(q,P){return P==null?D:f(P)},h.nice=function(q){var P=g();return(!q||typeof q.range!="function")&&(q=e(P[0],P[P.length-1],q??10)),q?g(SF(P,q)):h},h.copy=function(){return lv(h,iC(t,e,n,r,i,a,s,l,c,f))},h}function vne(){return Jo.apply(iC(fte,hte,Ou,nC,ab,cv,eC,QT,Hf,FF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yne(){return Jo.apply(iC(ute,dte,ku,rC,sb,ib,tC,ZT,Hf,UF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ob(){var t=0,e=1,n,r,i,a,s=ws,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(g){var y,N;return arguments.length?([y,N]=g,s=m(y,N),f):[s(0),s(1)]}}return f.range=h(Em),f.rangeRound=h($T),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function hf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VF(){var t=ff(ob()(ws));return t.copy=function(){return hf(t,VF())},Bu.apply(t,arguments)}function qF(){var t=WT(ob()).domain([1,10]);return t.copy=function(){return hf(t,qF()).base(t.base())},Bu.apply(t,arguments)}function BF(){var t=KT(ob());return t.copy=function(){return hf(t,BF()).constant(t.constant())},Bu.apply(t,arguments)}function aC(){var t=YT(ob());return t.copy=function(){return hf(t,aC()).exponent(t.exponent())},Bu.apply(t,arguments)}function xne(){return aC.apply(null,arguments).exponent(.5)}function $F(){var t=[],e=ws;function n(r){if(r!=null&&!isNaN(r=+r))return e((sv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>aee(t,a/r))},n.copy=function(){return $F(e).domain(t)},Bu.apply(n,arguments)}function lb(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,f=ws,h,m=!1,g;function y(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-a)*(r*A<r*a?l:c),f(m?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(A){return arguments.length?(m=!!A,y):m},y.interpolator=function(A){return arguments.length?(f=A,y):f};function N(A){return function(E){var I,O,F;return arguments.length?([I,O,F]=E,f=Oee(A,[I,O,F]),y):[f(0),f(.5),f(1)]}}return y.range=N(Em),y.rangeRound=N($T),y.unknown=function(A){return arguments.length?(g=A,y):g},function(A){return h=A,i=A(t),a=A(e),s=A(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function zF(){var t=ff(lb()(ws));return t.copy=function(){return hf(t,zF())},Bu.apply(t,arguments)}function GF(){var t=WT(lb()).domain([.1,1,10]);return t.copy=function(){return hf(t,GF()).base(t.base())},Bu.apply(t,arguments)}function HF(){var t=KT(lb());return t.copy=function(){return hf(t,HF()).constant(t.constant())},Bu.apply(t,arguments)}function sC(){var t=YT(lb());return t.copy=function(){return hf(t,sC()).exponent(t.exponent())},Bu.apply(t,arguments)}function bne(){return sC.apply(null,arguments).exponent(.5)}const J6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v0,scaleDiverging:zF,scaleDivergingLog:GF,scaleDivergingPow:sC,scaleDivergingSqrt:bne,scaleDivergingSymlog:HF,scaleIdentity:EF,scaleImplicit:yS,scaleLinear:Vx,scaleLog:NF,scaleOrdinal:VT,scalePoint:Wg,scalePow:XT,scaleQuantile:IF,scaleQuantize:RF,scaleRadial:CF,scaleSequential:VF,scaleSequentialLog:qF,scaleSequentialPow:aC,scaleSequentialQuantile:$F,scaleSequentialSqrt:xne,scaleSequentialSymlog:BF,scaleSqrt:ete,scaleSymlog:TF,scaleThreshold:OF,scaleTime:vne,scaleUtc:yne,tickFormat:AF},Symbol.toStringTag,{value:"Module"}));var k5,Q6;function WF(){if(Q6)return k5;Q6=1;var t=xm();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return k5=e,k5}var P5,Z6;function _ne(){if(Z6)return P5;Z6=1;function t(e,n){return e>n}return P5=t,P5}var j5,ej;function wne(){if(ej)return j5;ej=1;var t=WF(),e=_ne(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return j5=r,j5}var Ane=wne();const Fd=Er(Ane);var D5,tj;function Ene(){if(tj)return D5;tj=1;function t(e,n){return e<n}return D5=t,D5}var M5,nj;function Sne(){if(nj)return M5;nj=1;var t=WF(),e=Ene(),n=wm();function r(i){return i&&i.length?t(i,n,e):void 0}return M5=r,M5}var Nne=Sne();const cb=Er(Nne);var L5,rj;function Tne(){if(rj)return L5;rj=1;var t=wT(),e=df(),n=nF(),r=Gs();function i(a,s){var l=r(a)?t:n;return l(a,e(s,3))}return L5=i,L5}var F5,ij;function Cne(){if(ij)return F5;ij=1;var t=eF(),e=Tne();function n(r,i){return t(e(r,i),1)}return F5=n,F5}var Ine=Cne();const Rne=Er(Ine);var U5,aj;function One(){if(aj)return U5;aj=1;var t=DT();function e(n,r){return t(n,r)}return U5=e,U5}var kne=One();const w0=Er(kne);var Sm=1e9,Pne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lC,ii=!0,Yo="[DecimalError] ",Qf=Yo+"Invalid argument: ",oC=Yo+"Exponent out of range: ",Nm=Math.floor,Uf=Math.pow,jne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mo,pa=1e7,Wr=7,KF=9007199254740991,zx=Nm(KF/Wr),Lt={};Lt.absoluteValue=Lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Lt.comparedTo=Lt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Lt.decimalPlaces=Lt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Lt.dividedBy=Lt.div=function(t){return Tu(this,new this.constructor(t))};Lt.dividedToIntegerBy=Lt.idiv=function(t){var e=this,n=e.constructor;return Or(Tu(e,new n(t),0,1),n.precision)};Lt.equals=Lt.eq=function(t){return!this.cmp(t)};Lt.exponent=function(){return $i(this)};Lt.greaterThan=Lt.gt=function(t){return this.cmp(t)>0};Lt.greaterThanOrEqualTo=Lt.gte=function(t){return this.cmp(t)>=0};Lt.isInteger=Lt.isint=function(){return this.e>this.d.length-2};Lt.isNegative=Lt.isneg=function(){return this.s<0};Lt.isPositive=Lt.ispos=function(){return this.s>0};Lt.isZero=function(){return this.s===0};Lt.lessThan=Lt.lt=function(t){return this.cmp(t)<0};Lt.lessThanOrEqualTo=Lt.lte=function(t){return this.cmp(t)<1};Lt.logarithm=Lt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mo))throw Error(Yo+"NaN");if(n.s<1)throw Error(Yo+(n.s?"NaN":"-Infinity"));return n.eq(mo)?new r(0):(ii=!1,e=Tu(A0(n,a),A0(t,a),a),ii=!0,Or(e,i))};Lt.minus=Lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JF(e,t):YF(e,(t.s=-t.s,t))};Lt.modulo=Lt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Yo+"NaN");return n.s?(ii=!1,e=Tu(n,t,0,1).times(t),ii=!0,n.minus(e)):Or(new r(n),i)};Lt.naturalExponential=Lt.exp=function(){return XF(this)};Lt.naturalLogarithm=Lt.ln=function(){return A0(this)};Lt.negated=Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Lt.plus=Lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YF(e,t):JF(e,(t.s=-t.s,t))};Lt.precision=Lt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qf+t);if(e=$i(i)+1,r=i.d.length-1,n=r*Wr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Lt.squareRoot=Lt.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yo+"NaN")}for(t=$i(l),ii=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=bc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Tu(l,a,s+2)).times(.5),bc(a.d).slice(0,s)===(e=bc(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Or(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ii=!0,Or(r,n)};Lt.times=Lt.mul=function(t){var e,n,r,i,a,s,l,c,f,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=y.length,c<f&&(a=g,g=y,y=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+y[r]*g[i-r-1]+e,a[i--]=l%pa|0,e=l/pa|0;a[i]=(a[i]+e)%pa|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ii?Or(t,m.precision):t};Lt.toDecimalPlaces=Lt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fc(t,0,Sm),e===void 0?e=r.rounding:Fc(e,0,8),Or(n,t+$i(n)+1,e))};Lt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ah(r,!0):(Fc(t,0,Sm),e===void 0?e=i.rounding:Fc(e,0,8),r=Or(new i(r),t+1,e),n=ah(r,!0,t+1)),n};Lt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ah(i):(Fc(t,0,Sm),e===void 0?e=a.rounding:Fc(e,0,8),r=Or(new a(i),t+$i(i)+1,e),n=ah(r.abs(),!1,t+$i(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Lt.toInteger=Lt.toint=function(){var t=this,e=t.constructor;return Or(new e(t),$i(t)+1,e.rounding)};Lt.toNumber=function(){return+this};Lt.toPower=Lt.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(mo);if(l=new c(l),!l.s){if(t.s<1)throw Error(Yo+"Infinity");return l}if(l.eq(mo))return l;if(r=c.precision,t.eq(mo))return Or(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=KF){for(i=new c(mo),e=Math.ceil(r/Wr+4),ii=!1;n%2&&(i=i.times(l),oj(i.d,e)),n=Nm(n/2),n!==0;)l=l.times(l),oj(l.d,e);return ii=!0,t.s<0?new c(mo).div(i):Or(i,r)}}else if(a<0)throw Error(Yo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ii=!1,i=t.times(A0(l,r+f)),ii=!0,i=XF(i),i.s=a,i};Lt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=$i(i),r=ah(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fc(t,1,Sm),e===void 0?e=a.rounding:Fc(e,0,8),i=Or(new a(i),t,e),n=$i(i),r=ah(i,t<=n||n<=a.toExpNeg,t)),r};Lt.toSignificantDigits=Lt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fc(t,1,Sm),e===void 0?e=r.rounding:Fc(e,0,8)),Or(new r(n),t,e)};Lt.toString=Lt.valueOf=Lt.val=Lt.toJSON=Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$i(t),n=t.constructor;return ah(t,e<=n.toExpNeg||e>=n.toExpPos)};function YF(t,e){var n,r,i,a,s,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ii?Or(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(m/Wr),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/pa|0,c[a]%=pa;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ii?Or(e,m):e}function Fc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qf+t)}function bc(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Wr-r.length,n&&(a+=Od(n)),a+=r;s=t[e],r=s+"",n=Wr-r.length,n&&(a+=Od(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Tu=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%pa|0,s=a/pa|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*pa+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,f,h,m,g,y,N,A,E,I,O,F,U,D,q,P,j,$=r.constructor,G=r.s==i.s?1:-1,V=r.d,L=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Yo+"Division by zero");for(c=r.e-i.e,P=L.length,D=V.length,y=new $(G),N=y.d=[],f=0;L[f]==(V[f]||0);)++f;if(L[f]>(V[f]||0)&&--c,a==null?O=a=$.precision:s?O=a+($i(r)-$i(i))+1:O=a,O<0)return new $(0);if(O=O/Wr+2|0,f=0,P==1)for(h=0,L=L[0],O++;(f<D||h)&&O--;f++)F=h*pa+(V[f]||0),N[f]=F/L|0,h=F%L|0;else{for(h=pa/(L[0]+1)|0,h>1&&(L=t(L,h),V=t(V,h),P=L.length,D=V.length),U=P,A=V.slice(0,P),E=A.length;E<P;)A[E++]=0;j=L.slice(),j.unshift(0),q=L[0],L[1]>=pa/2&&++q;do h=0,l=e(L,A,P,E),l<0?(I=A[0],P!=E&&(I=I*pa+(A[1]||0)),h=I/q|0,h>1?(h>=pa&&(h=pa-1),m=t(L,h),g=m.length,E=A.length,l=e(m,A,g,E),l==1&&(h--,n(m,P<g?j:L,g))):(h==0&&(l=h=1),m=L.slice()),g=m.length,g<E&&m.unshift(0),n(A,m,E),l==-1&&(E=A.length,l=e(L,A,P,E),l<1&&(h++,n(A,P<E?j:L,E))),E=A.length):l===0&&(h++,A=[0]),N[f++]=h,l&&A[0]?A[E++]=V[U]||0:(A=[V[U]],E=1);while((U++<D||A[0]!==void 0)&&O--)}return N[0]||N.shift(),y.e=c,Or(y,s?a+$i(y)+1:a)}})();function XF(t,e){var n,r,i,a,s,l,c=0,f=0,h=t.constructor,m=h.precision;if($i(t)>16)throw Error(oC+$i(t));if(!t.s)return new h(mo);for(ii=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Uf(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(mo),h.precision=l;;){if(i=Or(i.times(t),l),n=n.times(++c),s=a.plus(Tu(i,n,l)),bc(s.d).slice(0,l)===bc(a.d).slice(0,l)){for(;f--;)a=Or(a.times(a),l);return h.precision=m,e==null?(ii=!0,Or(a,m)):a}a=s}}function $i(t){for(var e=t.e*Wr,n=t.d[0];n>=10;n/=10)e++;return e}function V5(t,e,n){if(e>t.LN10.sd())throw ii=!0,n&&(t.precision=n),Error(Yo+"LN10 precision limit exceeded");return Or(new t(t.LN10),e)}function Od(t){for(var e="";t--;)e+="0";return e}function A0(t,e){var n,r,i,a,s,l,c,f,h,m=1,g=10,y=t,N=y.d,A=y.constructor,E=A.precision;if(y.s<1)throw Error(Yo+(y.s?"NaN":"-Infinity"));if(y.eq(mo))return new A(0);if(e==null?(ii=!1,f=E):f=e,y.eq(10))return e==null&&(ii=!0),V5(A,f);if(f+=g,A.precision=f,n=bc(N),r=n.charAt(0),a=$i(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=bc(y.d),r=n.charAt(0),m++;a=$i(y),r>1?(y=new A("0."+n),a++):y=new A(r+"."+n.slice(1))}else return c=V5(A,f+2,E).times(a+""),y=A0(new A(r+"."+n.slice(1)),f-g).plus(c),A.precision=E,e==null?(ii=!0,Or(y,E)):y;for(l=s=y=Tu(y.minus(mo),y.plus(mo),f),h=Or(y.times(y),f),i=3;;){if(s=Or(s.times(h),f),c=l.plus(Tu(s,new A(i),f)),bc(c.d).slice(0,f)===bc(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(V5(A,f+2,E).times(a+""))),l=Tu(l,new A(m),f),A.precision=E,e==null?(ii=!0,Or(l,E)):l;l=c,i+=2}}function sj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Nm(n/Wr),t.d=[],r=(n+1)%Wr,n<0&&(r+=Wr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wr;r<i;)t.d.push(+e.slice(r,r+=Wr));e=e.slice(r),r=Wr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ii&&(t.e>zx||t.e<-zx))throw Error(oC+n)}else t.s=0,t.e=0,t.d=[0];return t}function Or(t,e,n){var r,i,a,s,l,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Wr,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Wr),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;r%=Wr,i=r-Wr+s}if(n!==void 0&&(a=Uf(10,s-i-1),l=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Uf(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=$i(t),m.length=1,e=e-a-1,m[0]=Uf(10,(Wr-e%Wr)%Wr),t.e=Nm(-e/Wr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Uf(10,Wr-r),m[h]=i>0?(f/Uf(10,s-i)%Uf(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==pa&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=pa)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(ii&&(t.e>zx||t.e<-zx))throw Error(oC+$i(t));return t}function JF(t,e){var n,r,i,a,s,l,c,f,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ii?Or(e,y):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(y/Wr),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=pa-1;--c[a],c[i]+=pa}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,ii?Or(e,y):e):new g(0)}function ah(t,e,n){var r,i=$i(t),a=bc(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Od(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Od(-i-1)+a,n&&(r=n-s)>0&&(a+=Od(r))):i>=s?(a+=Od(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Od(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Od(r))),t.s<0?"-"+a:a}function oj(t,e){if(t.length>e)return t.length=e,!0}function QF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return sj(s,a.toString())}else if(typeof a!="string")throw Error(Qf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,jne.test(a))sj(s,a);else throw Error(Qf+a)}if(i.prototype=Lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QF,i.config=i.set=Dne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Dne(t){if(!t||typeof t!="object")throw Error(Yo+"Object expected");var e,n,r,i=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Nm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qf+n+": "+r);return this}var lC=QF(Pne);mo=new lC(1);const Ar=lC;function Mne(t){return Vne(t)||Une(t)||Fne(t)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(t,e){if(t){if(typeof t=="string")return wS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(t,e)}}function Une(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vne(t){if(Array.isArray(t))return wS(t)}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qne=function(e){return e},ZF={},eU=function(e){return e===ZF},lj=function(e){return function n(){return arguments.length===0||arguments.length===1&&eU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Bne=function t(e,n){return e===1?n:lj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==ZF}).length;return s>=e?n.apply(void 0,i):t(e-s,lj(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return eU(m)?c.shift():m});return n.apply(void 0,Mne(h).concat(c))}))})},ub=function(e){return Bne(e.length,e)},AS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},$ne=ub(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),zne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qne;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},ES=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function Gne(t){var e;return t===0?e=1:e=Math.floor(new Ar(t).abs().log(10).toNumber())+1,e}function Hne(t,e,n){for(var r=new Ar(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Wne=ub(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Kne=ub(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Yne=ub(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const db={rangeStep:Hne,getDigitCount:Gne,interpolateNumber:Wne,uninterpolateNumber:Kne,uninterpolateTruncation:Yne};function SS(t){return Qne(t)||Jne(t)||nU(t)||Xne()}function Xne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qne(t){if(Array.isArray(t))return NS(t)}function E0(t,e){return tre(t)||ere(t,e)||nU(t,e)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(t,e){if(t){if(typeof t=="string")return NS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NS(t,e)}}function NS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ere(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function tre(t){if(Array.isArray(t))return t}function rU(t){var e=E0(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function iU(t,e,n){if(t.lte(0))return new Ar(0);var r=db.getDigitCount(t.toNumber()),i=new Ar(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Ar(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new Ar(Math.ceil(c))}function nre(t,e,n){var r=1,i=new Ar(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ar(10).pow(db.getDigitCount(t)-1),i=new Ar(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ar(Math.floor(t)))}else t===0?i=new Ar(Math.floor((e-1)/2)):n||(i=new Ar(Math.floor(t)));var s=Math.floor((e-1)/2),l=zne($ne(function(c){return i.add(new Ar(c-s).mul(r)).toNumber()}),AS);return l(0,e)}function aU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var a=iU(new Ar(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ar(0):(s=new Ar(t).add(e).div(2),s=s.sub(new Ar(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Ar(e).sub(s).div(a).toNumber()),f=l+c+1;return f>n?aU(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:a,tickMin:s.sub(new Ar(l).mul(a)),tickMax:s.add(new Ar(c).mul(a))})}function rre(t){var e=E0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=rU([n,r]),c=E0(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(SS(AS(0,i-1).map(function(){return 1/0}))):[].concat(SS(AS(0,i-1).map(function(){return-1/0})),[h]);return n>r?ES(m):m}if(f===h)return nre(f,i,a);var g=aU(f,h,s,a),y=g.step,N=g.tickMin,A=g.tickMax,E=db.rangeStep(N,A.add(new Ar(.1).mul(y)),y);return n>r?ES(E):E}function ire(t,e){var n=E0(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=rU([r,i]),l=E0(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=iU(new Ar(f).sub(c).div(h-1),a,0),g=[].concat(SS(db.rangeStep(new Ar(c),new Ar(f).sub(new Ar(.99).mul(m)),m)),[f]);return r>i?ES(g):g}var are=tU(rre),sre=tU(ire),ore="Invariant failed";function sh(t,e){throw new Error(ore)}var lre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function cre(t,e){return hre(t)||fre(t,e)||dre(t,e)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(t,e){if(t){if(typeof t=="string")return cj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cj(t,e)}}function cj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function hre(t){if(Array.isArray(t))return t}function pre(t,e){if(t==null)return{};var n=mre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lU(r.key),r)}}function yre(t,e,n){return e&&vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xre(t,e,n){return e=Hx(e),bre(t,sU()?Reflect.construct(e,n||[],Hx(t).constructor):e.apply(t,n))}function bre(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _re(t)}function _re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hx(t)}function wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TS(t,e)}function oU(t,e,n){return e=lU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lU(t){var e=Are(t,"string");return Xp(e)=="symbol"?e:e+""}function Are(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fb=(function(t){function e(){return gre(this,e),xre(this,e,arguments)}return wre(e,t),yre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,g=pre(r,lre),y=Pn(g,!1);this.props.direction==="x"&&h.type!=="number"&&sh();var N=c.map(function(A){var E=f(A,l),I=E.x,O=E.y,F=E.value,U=E.errorVal;if(!U)return null;var D=[],q,P;if(Array.isArray(U)){var j=cre(U,2);q=j[0],P=j[1]}else q=P=U;if(a==="vertical"){var $=h.scale,G=O+i,V=G+s,L=G-s,k=$(F-q),J=$(F+P);D.push({x1:J,y1:V,x2:J,y2:L}),D.push({x1:k,y1:G,x2:J,y2:G}),D.push({x1:k,y1:V,x2:k,y2:L})}else if(a==="horizontal"){var ce=m.scale,ne=I+i,ie=ne-s,te=ne+s,fe=ce(F-q),be=ce(F+P);D.push({x1:ie,y1:be,x2:te,y2:be}),D.push({x1:ne,y1:fe,x2:ne,y2:be}),D.push({x1:ie,y1:fe,x2:te,y2:fe})}return Le.createElement(oi,Gx({className:"recharts-errorBar",key:"bar-".concat(D.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},y),D.map(function(re){return Le.createElement("line",Gx({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return Le.createElement(oi,{className:"recharts-errorBars"},N)}}])})(Le.Component);oU(fb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oU(fb,"displayName","ErrorBar");function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){Ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e,n){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Nre(t,"string");return S0(e)=="symbol"?e:e+""}function Nre(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=po(n,Np);if(!s)return null;var l=Np.defaultProps,c=l!==void 0?Lf(Lf({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(h,m){var g=m.item,y=m.props,N=y.sectors||y.data||[];return h.concat(N.map(function(A){return{type:s.props.iconType||g.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):f=(r||[]).map(function(h){var m=h.item,g=m.type.defaultProps,y=g!==void 0?Lf(Lf({},g),m.props):{},N=y.dataKey,A=y.name,E=y.legendType,I=y.hide;return{inactive:I,dataKey:N,type:c.iconType||E||"square",color:cC(m),value:A||N,payload:y}}),Lf(Lf(Lf({},c),Np.getWithHeight(s,i)),{},{payload:f,item:s})};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function dj(t){return Rre(t)||Ire(t)||Cre(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return CS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CS(t,e)}}function Ire(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rre(t){if(Array.isArray(t))return CS(t)}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){Cp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cp(t,e,n){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=kre(t,"string");return N0(e)=="symbol"?e:e+""}function kre(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bo(t,e,n){return qn(t)||qn(e)?n:ta(e)?Wo(t,e,n):wn(e)?e(t):n}function Kg(t,e,n,r){var i=Rne(t,function(l){return bo(l,e)});if(n==="number"){var a=i.filter(function(l){return _t(l)||parseFloat(l)});return a.length?[cb(a),Fd(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!qn(l)}):i;return s.map(function(l){return ta(l)||l instanceof Date?l:""})}var Pre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,g=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(Cl(m-h)!==Cl(g-m)){var N=[];if(Cl(g-m)===Cl(c[1]-c[0])){y=g;var A=m+c[1]-c[0];N[0]=Math.min(A,(A+h)/2),N[1]=Math.max(A,(A+h)/2)}else{y=h;var E=g+c[1]-c[0];N[0]=Math.min(m,(E+m)/2),N[1]=Math.max(m,(E+m)/2)}var I=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>I[0]&&e<=I[1]||e>=N[0]&&e<=N[1]){s=i[f].index;break}}else{var O=Math.min(h,g),F=Math.max(h,g);if(e>(O+m)/2&&e<=(F+m)/2){s=i[f].index;break}}}else for(var U=0;U<l;U++)if(U===0&&e<=(r[U].coordinate+r[U+1].coordinate)/2||U>0&&U<l-1&&e>(r[U].coordinate+r[U-1].coordinate)/2&&e<=(r[U].coordinate+r[U+1].coordinate)/2||U===l-1&&e>(r[U].coordinate+r[U-1].coordinate)/2){s=r[U].index;break}return s},cC=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gi(gi({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},jre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,f=l.length;c<f;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),g=0,y=m.length;g<y;g++){var N=h[m[g]],A=N.items,E=N.cateAxisId,I=A.filter(function(P){return Su(P.type).indexOf("Bar")>=0});if(I&&I.length){var O=I[0].type.defaultProps,F=O!==void 0?gi(gi({},O),I[0].props):I[0].props,U=F.barSize,D=F[E];s[D]||(s[D]=[]);var q=qn(U)?n:U;s[D].push({item:I[0],stackList:I.slice(1),barSize:qn(q)?void 0:ih(q,r,0)})}}return s},Dre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=ih(n,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var g=!1,y=i/c,N=s.reduce(function(U,D){return U+D.barSize||0},0);N+=(c-1)*f,N>=i&&(N-=(c-1)*f,f=0),N>=i&&y>0&&(g=!0,y*=.9,N=c*y);var A=(i-N)/2>>0,E={offset:A-f,size:0};h=s.reduce(function(U,D){var q={item:D.item,position:{offset:E.offset+E.size+f,size:g?y:D.barSize}},P=[].concat(dj(U),[q]);return E=P[P.length-1].position,D.stackList&&D.stackList.length&&D.stackList.forEach(function(j){P.push({item:j,position:E})}),P},m)}else{var I=ih(r,i,0,!0);i-2*I-(c-1)*f<=0&&(f=0);var O=(i-2*I-(c-1)*f)/c;O>1&&(O>>=0);var F=l===+l?Math.min(O,l):O;h=s.reduce(function(U,D,q){var P=[].concat(dj(U),[{item:D.item,position:{offset:I+(O+f)*q+(O-F)/2,size:F}}]);return D.stackList&&D.stackList.length&&D.stackList.forEach(function(j){P.push({item:j,position:P[P.length-1].position})}),P},m)}return h},Mre=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=cU({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,g=h.height,y=f.align,N=f.verticalAlign,A=f.layout;if((A==="vertical"||A==="horizontal"&&N==="middle")&&y!=="center"&&_t(e[y]))return gi(gi({},e),{},Cp({},y,e[y]+(m||0)));if((A==="horizontal"||A==="vertical"&&y==="center")&&N!=="middle"&&_t(e[N]))return gi(gi({},e),{},Cp({},N,e[N]+(g||0)))}return e},Lre=function(e,n,r){return qn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},uU=function(e,n,r,i,a){var s=n.props.children,l=Rl(s,fb).filter(function(f){return Lre(i,a,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=bo(h,r);if(qn(m))return f;var g=Array.isArray(m)?[cb(m),Fd(m)]:[m,m],y=c.reduce(function(N,A){var E=bo(h,A,0),I=g[0]-Math.abs(Array.isArray(E)?E[0]:E),O=g[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(I,N[0]),Math.max(O,N[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},Fre=function(e,n,r,i,a){var s=n.map(function(l){return uU(e,l,r,a,i)}).filter(function(l){return!qn(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dU=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&uU(e,c,f,i)||Kg(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},fU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},hU=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},bu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cl(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=a?a.indexOf(m):m;return{coordinate:i(g)+f,value:m,offset:f}});return h.filter(function(m){return!_m(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+f,value:m,index:g,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,g){return{coordinate:i(m)+f,value:a?a[m]:m,index:g,offset:f}})},q5=new WeakMap,wy=function(e,n){if(typeof n!="function")return e;q5.has(e)||q5.set(e,new WeakMap);var r=q5.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Ure=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:v0(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Vx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Wg(),realScaleType:"point"}:a==="category"?{scale:v0(),realScaleType:"band"}:{scale:Vx(),realScaleType:"linear"};if(rh(i)){var c="scale".concat(X1(i));return{scale:(J6[c]||Wg)(),realScaleType:J6[c]?c:"point"}}return wn(i)?{scale:i}:{scale:Wg(),realScaleType:"point"}},hj=1e-4,Vre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-hj,s=Math.max(i[0],i[1])+hj,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},qre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Bre=function(e,n){if(!n||n.length!==2||!_t(n[0])||!_t(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!_t(e[0])||e[0]<r)&&(a[0]=r),(!_t(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},$re=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=_m(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},zre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=_m(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Gre={sign:$re,expand:TX,none:Bp,silhouette:CX,wiggle:IX,positive:zre},Hre=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=Gre[r],s=NX().keys(i).value(function(l,c){return+bo(l,c,0)}).order(iS).offset(a);return s(e)},Wre=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(m,g){var y,N=(y=g.type)!==null&&y!==void 0&&y.defaultProps?gi(gi({},g.type.defaultProps),g.props):g.props,A=N.stackId,E=N.hide;if(E)return m;var I=N[r],O=m[I]||{hasStack:!1,stackGroups:{}};if(ta(A)){var F=O.stackGroups[A]||{numericAxisId:r,cateAxisId:i,items:[]};F.items.push(g),O.hasStack=!0,O.stackGroups[A]=F}else O.stackGroups[iv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return gi(gi({},m),{},Cp({},I,O))},c),h={};return Object.keys(f).reduce(function(m,g){var y=f[g];if(y.hasStack){var N={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(A,E){var I=y.stackGroups[E];return gi(gi({},A),{},Cp({},E,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:Hre(e,I.items,a)}))},N)}return gi(gi({},m),{},Cp({},g,y))},h)},Kre=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=are(f,a,l);return e.domain([cb(h),Fd(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),g=sre(m,a,l);return{niceTicks:g}}return null};function pj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qn(i[e.dataKey])){var l=xx(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=bo(i,qn(s)?e.dataKey:s);return qn(c)?null:e.scale(c)}var mj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=bo(s,n.dataKey,n.domain[l]);return qn(c)?null:n.scale(c)-a/2+i},Yre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Xre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gi(gi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ta(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Jre=function(e){return e.reduce(function(n,r){return[cb(r.concat([n[0]]).filter(_t)),Fd(r.concat([n[1]]).filter(_t))]},[1/0,-1/0])},pU=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(f,h){var m=Jre(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IS=function(e,n,r){if(wn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_t(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(gj.test(e[0])){var a=+gj.exec(e[0])[1];i[0]=n[0]-a}else wn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_t(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(vj.test(e[1])){var s=+vj.exec(e[1])[1];i[1]=n[1]+s}else wn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=LT(n,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var f=a[l],h=a[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},yj=function(e,n,r){return!e||!e.length||w0(e,Wo(r,"type.defaultProps.domain"))?n:e},mU=function(e,n){var r=e.type.defaultProps?gi(gi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return gi(gi({},Pn(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:cC(e),value:bo(n,i),type:c,payload:n,chartType:f,hide:h})};function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return e=Zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eie(t,"string");return T0(e)=="symbol"?e:e+""}function eie(t,e){if(T0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kx=Math.PI/180,tie=function(e){return e*180/Math.PI},Pa=function(e,n,r,i){return{x:e+Math.cos(-Kx*i)*r,y:n+Math.sin(-Kx*i)*r}},nie=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},rie=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=nie({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:tie(f),angleInRadian:f}},iie=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},aie=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},_j=function(e,n){var r=e.x,i=e.y,a=rie({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=iie(n),m=h.startAngle,g=h.endAngle,y=l,N;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;N=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;N=y>=g&&y<=m}return N?bj(bj({},n),{},{radius:s,angle:aie(y,n)}):null};function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var sie=["offset"];function oie(t){return die(t)||uie(t)||cie(t)||lie()}function lie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(t,e){if(t){if(typeof t=="string")return RS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(t,e)}}function uie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function die(t){if(Array.isArray(t))return RS(t)}function RS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fie(t,e){if(t==null)return{};var n=hie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return e=mie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mie(t){var e=gie(t,"string");return C0(e)=="symbol"?e:e+""}function gie(t,e){if(C0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}var vie=function(e){var n=e.value,r=e.formatter,i=qn(e.children)?n:e.children;return wn(r)?r(i):i},yie=function(e,n){var r=Cl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},xie=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,g=c.outerRadius,y=c.startAngle,N=c.endAngle,A=c.clockWise,E=(m+g)/2,I=yie(y,N),O=I>=0?1:-1,F,U;i==="insideStart"?(F=y+O*s,U=A):i==="insideEnd"?(F=N-O*s,U=!A):i==="end"&&(F=N+O*s,U=A),U=I<=0?U:!U;var D=Pa(f,h,E,F),q=Pa(f,h,E,F+(U?1:-1)*359),P="M".concat(D.x,",").concat(D.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(U?0:1,`,
    `).concat(q.x,",").concat(q.y),j=qn(e.id)?iv("recharts-radial-line-"):e.id;return Le.createElement("text",I0({},r,{dominantBaseline:"central",className:Qn("recharts-radial-bar-label",l)}),Le.createElement("defs",null,Le.createElement("path",{id:j,d:P})),Le.createElement("textPath",{xlinkHref:"#".concat(j)},n))},bie=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,g=(h+m)/2;if(i==="outside"){var y=Pa(s,l,f+r,g),N=y.x,A=y.y;return{x:N,y:A,textAnchor:N>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var E=(c+f)/2,I=Pa(s,l,E,g),O=I.x,F=I.y;return{x:O,y:F,textAnchor:"middle",verticalAnchor:"middle"}},_ie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,g=m*i,y=m>0?"end":"start",N=m>0?"start":"end",A=f>=0?1:-1,E=A*i,I=A>0?"end":"start",O=A>0?"start":"end";if(a==="top"){var F={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:y};return ea(ea({},F),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var U={x:l+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:N};return ea(ea({},U),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var D={x:l-E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return ea(ea({},D),r?{width:Math.max(D.x-r.x,0),height:h}:{})}if(a==="right"){var q={x:l+f+E,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return ea(ea({},q),r?{width:Math.max(r.x+r.width-q.x,0),height:h}:{})}var P=r?{width:f,height:h}:{};return a==="insideLeft"?ea({x:l+E,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},P):a==="insideRight"?ea({x:l+f-E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},P):a==="insideTop"?ea({x:l+f/2,y:c+g,textAnchor:"middle",verticalAnchor:N},P):a==="insideBottom"?ea({x:l+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:y},P):a==="insideTopLeft"?ea({x:l+E,y:c+g,textAnchor:O,verticalAnchor:N},P):a==="insideTopRight"?ea({x:l+f-E,y:c+g,textAnchor:I,verticalAnchor:N},P):a==="insideBottomLeft"?ea({x:l+E,y:c+h-g,textAnchor:O,verticalAnchor:y},P):a==="insideBottomRight"?ea({x:l+f-E,y:c+h-g,textAnchor:I,verticalAnchor:y},P):bm(a)&&(_t(a.x)||zf(a.x))&&(_t(a.y)||zf(a.y))?ea({x:l+ih(a.x,f),y:c+ih(a.y,h),textAnchor:"end",verticalAnchor:"end"},P):ea({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},wie=function(e){return"cx"in e&&_t(e.cx)};function ns(t){var e=t.offset,n=e===void 0?5:e,r=fie(t,sie),i=ea({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,g=i.textBreakAll;if(!a||qn(l)&&qn(c)&&!xe.isValidElement(f)&&!wn(f))return null;if(xe.isValidElement(f))return xe.cloneElement(f,i);var y;if(wn(f)){if(y=xe.createElement(f,i),xe.isValidElement(y))return y}else y=vie(i);var N=wie(a),A=Pn(i,!0);if(N&&(s==="insideStart"||s==="insideEnd"||s==="end"))return xie(i,y,A);var E=N?bie(i):_ie(i);return Le.createElement(kx,I0({className:Qn("recharts-label",m)},A,E,{breakAll:g}),y)}ns.displayName="Label";var gU=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,y=e.top,N=e.left,A=e.width,E=e.height,I=e.clockWise,O=e.labelViewBox;if(O)return O;if(_t(A)&&_t(E)){if(_t(m)&&_t(g))return{x:m,y:g,width:A,height:E};if(_t(y)&&_t(N))return{x:y,y:N,width:A,height:E}}return _t(m)&&_t(g)?{x:m,y:g,width:0,height:0}:_t(n)&&_t(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:I}:e.viewBox?e.viewBox:{}},Aie=function(e,n){return e?e===!0?Le.createElement(ns,{key:"label-implicit",viewBox:n}):ta(e)?Le.createElement(ns,{key:"label-implicit",viewBox:n,value:e}):xe.isValidElement(e)?e.type===ns?xe.cloneElement(e,{key:"label-implicit",viewBox:n}):Le.createElement(ns,{key:"label-implicit",content:e,viewBox:n}):wn(e)?Le.createElement(ns,{key:"label-implicit",content:e,viewBox:n}):bm(e)?Le.createElement(ns,I0({viewBox:n},e,{key:"label-implicit"})):null:null},Eie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=gU(e),s=Rl(i,ns).map(function(c,f){return xe.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var l=Aie(e.label,n||a);return[l].concat(oie(s))};ns.parseViewBox=gU;ns.renderCallByParent=Eie;var B5,Aj;function Sie(){if(Aj)return B5;Aj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return B5=t,B5}var Nie=Sie();const Tie=Er(Nie);function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}var Cie=["valueAccessor"],Iie=["data","dataKey","clockWise","id","textBreakAll"];function Rie(t){return jie(t)||Pie(t)||kie(t)||Oie()}function Oie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function Pie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jie(t){if(Array.isArray(t))return OS(t)}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=Lie(t,"string");return R0(e)=="symbol"?e:e+""}function Lie(t,e){if(R0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nj(t,e){if(t==null)return{};var n=Fie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uie=function(e){return Array.isArray(e.value)?Tie(e.value):e.value};function Gd(t){var e=t.valueAccessor,n=e===void 0?Uie:e,r=Nj(t,Cie),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=Nj(r,Iie);return!i||!i.length?null:Le.createElement(oi,{className:"recharts-label-list"},i.map(function(h,m){var g=qn(a)?n(h,m):bo(h&&h.payload,a),y=qn(l)?{}:{id:"".concat(l,"-").concat(m)};return Le.createElement(ns,Yx({},Pn(h,!0),f,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:ns.parseViewBox(qn(s)?h:Sj(Sj({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Gd.displayName="LabelList";function Vie(t,e){return t?t===!0?Le.createElement(Gd,{key:"labelList-implicit",data:e}):Le.isValidElement(t)||wn(t)?Le.createElement(Gd,{key:"labelList-implicit",data:e,content:t}):bm(t)?Le.createElement(Gd,Yx({data:e},t,{key:"labelList-implicit"})):null:null}function qie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Rl(r,Gd).map(function(s,l){return xe.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Vie(t.label,e);return[a].concat(Rie(i))}Gd.renderCallByParent=qie;function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){Bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e,n){return e=$ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=zie(t,"string");return O0(e)=="symbol"?e:e+""}function zie(t,e){if(O0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gie=function(e,n){var r=Cl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ay=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/Kx,g=f?a:a+s*m,y=Pa(n,r,h,g),N=Pa(n,r,i,g),A=f?a-s*m:a,E=Pa(n,r,h*Math.cos(m*Kx),A);return{center:y,circleTangency:N,lineTangency:E,theta:m}},vU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=Gie(s,l),f=s+c,h=Pa(n,r,a,s),m=Pa(n,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var y=Pa(n,r,i,s),N=Pa(n,r,i,f);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},Hie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Cl(h-f),g=Ay({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),y=g.circleTangency,N=g.lineTangency,A=g.theta,E=Ay({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),I=E.circleTangency,O=E.lineTangency,F=E.theta,U=c?Math.abs(f-h):Math.abs(f-h)-A-F;if(U<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var D="M ".concat(N.x,",").concat(N.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var q=Ay({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=q.circleTangency,j=q.lineTangency,$=q.theta,G=Ay({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),V=G.circleTangency,L=G.lineTangency,k=G.theta,J=c?Math.abs(f-h):Math.abs(f-h)-$-k;if(J<0&&s===0)return"".concat(D,"L").concat(n,",").concat(r,"Z");D+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,"Z")}else D+="L".concat(n,",").concat(r,"Z");return D},Wie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yU=function(e){var n=Cj(Cj({},Wie),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,g=n.className;if(s<a||h===m)return null;var y=Qn("recharts-sector",g),N=s-a,A=ih(l,N,0,!0),E;return A>0&&Math.abs(h-m)<360?E=Hie({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(A,N/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):E=vU({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),Le.createElement("path",kS({},Pn(n,!0),{className:y,d:E,role:"img"}))};function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(this,arguments)}function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(n),!0).forEach(function(r){Kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kie(t,e,n){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Xie(t,"string");return k0(e)=="symbol"?e:e+""}function Xie(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oj={curveBasisClosed:mX,curveBasisOpen:gX,curveBasis:pX,curveBumpX:eX,curveBumpY:tX,curveLinearClosed:vX,curveLinear:Q1,curveMonotoneX:yX,curveMonotoneY:xX,curveNatural:bX,curveStep:_X,curveStepAfter:AX,curveStepBefore:wX},Ey=function(e){return e.x===+e.x&&e.y===+e.y},Ag=function(e){return e.x},Eg=function(e){return e.y},Jie=function(e,n){if(wn(e))return e;var r="curve".concat(X1(e));return(r==="curveMonotone"||r==="curveBump")&&n?Oj["".concat(r).concat(n==="vertical"?"Y":"X")]:Oj[r]||Q1},Qie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=Jie(r,l),m=f?a.filter(function(A){return Ey(A)}):a,g;if(Array.isArray(s)){var y=f?s.filter(function(A){return Ey(A)}):s,N=m.map(function(A,E){return Rj(Rj({},A),{},{base:y[E]})});return l==="vertical"?g=my().y(Eg).x1(Ag).x0(function(A){return A.base.x}):g=my().x(Ag).y1(Eg).y0(function(A){return A.base.y}),g.defined(Ey).curve(h),g(N)}return l==="vertical"&&_t(s)?g=my().y(Eg).x1(Ag).x0(s):_t(s)?g=my().x(Ag).y1(Eg).y0(s):g=A9().x(Ag).y(Eg),g.defined(Ey).curve(h),g(m)},Yg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Qie(e):i;return xe.createElement("path",PS({},Pn(e,!1),bx(e),{className:Qn("recharts-curve",n),d:s,ref:a}))},$5={exports:{}},z5,kj;function Zie(){if(kj)return z5;kj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return z5=t,z5}var G5,Pj;function eae(){if(Pj)return G5;Pj=1;var t=Zie();function e(){}function n(){}return n.resetWarningCache=e,G5=function(){function r(s,l,c,f,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},G5}var jj;function tae(){return jj||(jj=1,$5.exports=eae()()),$5.exports}var nae=tae();const fr=Er(nae),{getOwnPropertyNames:rae,getOwnPropertySymbols:iae}=Object,{hasOwnProperty:aae}=Object.prototype;function H5(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Sy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function sae(t){return t!=null?t[Symbol.toStringTag]:void 0}function Dj(t){return rae(t).concat(iae(t))}const oae=Object.hasOwn||((t,e)=>aae.call(t,e));function vh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const lae="__v",cae="__o",uae="_owner",{getOwnPropertyDescriptor:Mj,keys:Lj}=Object;function dae(t,e){return t.byteLength===e.byteLength&&Xx(new Uint8Array(t),new Uint8Array(e))}function fae(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function hae(t,e){return t.byteLength===e.byteLength&&Xx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function pae(t,e){return vh(t.getTime(),e.getTime())}function mae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function gae(t,e){return t===e}function Fj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let h=!1,m=0;for(;(l=f.next())&&!l.done;){if(i[m]){m++;continue}const g=s.value,y=l.value;if(n.equals(g[0],y[0],c,m,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}const vae=vh;function yae(t,e,n){const r=Lj(t);let i=r.length;if(Lj(e).length!==i)return!1;for(;i-- >0;)if(!xU(t,e,n,r[i]))return!1;return!0}function Sg(t,e,n){const r=Dj(t);let i=r.length;if(Dj(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!xU(t,e,n,a)||(s=Mj(t,a),l=Mj(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function xae(t,e){return vh(t.valueOf(),e.valueOf())}function bae(t,e){return t.source===e.source&&t.flags===e.flags}function Uj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Xx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function _ae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xU(t,e,n,r){return(r===uae||r===cae||r===lae)&&(t.$$typeof||e.$$typeof)?!0:oae(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const wae="[object ArrayBuffer]",Aae="[object Arguments]",Eae="[object Boolean]",Sae="[object DataView]",Nae="[object Date]",Tae="[object Error]",Cae="[object Map]",Iae="[object Number]",Rae="[object Object]",Oae="[object RegExp]",kae="[object Set]",Pae="[object String]",jae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Dae="[object URL]",Mae=Object.prototype.toString;function Lae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:N}){return function(E,I,O){if(E===I)return!0;if(E==null||I==null)return!1;const F=typeof E;if(F!==typeof I)return!1;if(F!=="object")return F==="number"?l(E,I,O):F==="function"?a(E,I,O):!1;const U=E.constructor;if(U!==I.constructor)return!1;if(U===Object)return c(E,I,O);if(Array.isArray(E))return e(E,I,O);if(U===Date)return r(E,I,O);if(U===RegExp)return h(E,I,O);if(U===Map)return s(E,I,O);if(U===Set)return m(E,I,O);const D=Mae.call(E);if(D===Nae)return r(E,I,O);if(D===Oae)return h(E,I,O);if(D===Cae)return s(E,I,O);if(D===kae)return m(E,I,O);if(D===Rae)return typeof E.then!="function"&&typeof I.then!="function"&&c(E,I,O);if(D===Dae)return y(E,I,O);if(D===Tae)return i(E,I,O);if(D===Aae)return c(E,I,O);if(jae[D])return g(E,I,O);if(D===wae)return t(E,I,O);if(D===Sae)return n(E,I,O);if(D===Eae||D===Iae||D===Pae)return f(E,I,O);if(N){let q=N[D];if(!q){const P=sae(E);P&&(q=N[P])}if(q)return q(E,I,O)}return!1}}function Fae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:dae,areArraysEqual:n?Sg:fae,areDataViewsEqual:hae,areDatesEqual:pae,areErrorsEqual:mae,areFunctionsEqual:gae,areMapsEqual:n?H5(Fj,Sg):Fj,areNumbersEqual:vae,areObjectsEqual:n?Sg:yae,arePrimitiveWrappersEqual:xae,areRegExpsEqual:bae,areSetsEqual:n?H5(Uj,Sg):Uj,areTypedArraysEqual:n?H5(Xx,Sg):Xx,areUrlsEqual:_ae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sy(r.areArraysEqual),a=Sy(r.areMapsEqual),s=Sy(r.areObjectsEqual),l=Sy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function Uae(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function Vae({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const qae=pf();pf({strict:!0});pf({circular:!0});pf({circular:!0,strict:!0});pf({createInternalComparator:()=>vh});pf({strict:!0,createInternalComparator:()=>vh});pf({circular:!0,createInternalComparator:()=>vh});pf({circular:!0,createInternalComparator:()=>vh,strict:!0});function pf(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Fae(t),s=Lae(a),l=n?n(s):Uae(s);return Vae({circular:e,comparator:s,createState:r,equals:l,strict:i})}function Bae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Vj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Bae(i)};requestAnimationFrame(r)}function jS(t){"@babel/helpers - typeof";return jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jS(t)}function $ae(t){return Wae(t)||Hae(t)||Gae(t)||zae()}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(t,e){if(t){if(typeof t=="string")return qj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(t,e)}}function qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wae(t){if(Array.isArray(t))return t}function Kae(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=$ae(s),c=l[0],f=l.slice(1);if(typeof c=="number"){Vj(i.bind(null,f),c);return}i(c),Vj(i.bind(null,f));return}jS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function Bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(n),!0).forEach(function(r){bU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bU(t,e,n){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Xae(t,"string");return P0(e)==="symbol"?e:String(e)}function Xae(t,e){if(P0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Qae=function(e){return e},Zae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xg=function(e,n){return Object.keys(n).reduce(function(r,i){return $j($j({},r),{},bU({},i,e(i,n[i])))},{})},zj=function(e,n,r){return e.map(function(i){return"".concat(Zae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ese(t,e){return rse(t)||nse(t,e)||_U(t,e)||tse()}function tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function rse(t){if(Array.isArray(t))return t}function ise(t){return ose(t)||sse(t)||_U(t)||ase()}function ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _U(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ose(t){if(Array.isArray(t))return DS(t)}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jx=1e-4,wU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},AU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Gj=function(e,n){return function(r){var i=wU(e,n);return AU(i,r)}},lse=function(e,n){return function(r){var i=wU(e,n),a=[].concat(ise(i.map(function(s,l){return s*l}).slice(1)),[0]);return AU(a,r)}},Hj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),h=ese(f,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var m=Gj(i,s),g=Gj(a,l),y=lse(i,s),N=function(I){return I>1?1:I<0?0:I},A=function(I){for(var O=I>1?1:I,F=O,U=0;U<8;++U){var D=m(F)-O,q=y(F);if(Math.abs(D-O)<Jx||q<Jx)return g(F);F=N(F-D/q)}return g(F)};return A.isStepper=!1,A},cse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,m,g){var y=-(h-m)*r,N=g*a,A=g+(y-N)*l/1e3,E=g*l/1e3+h;return Math.abs(E-m)<Jx&&Math.abs(A)<Jx?[m,0]:[E,A]};return c.isStepper=!0,c.dt=l,c},use=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hj(i);case"spring":return cse();default:if(i.split("(")[0]==="cubic-bezier")return Hj(i)}return typeof i=="function"?i:null};function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function Wj(t){return hse(t)||fse(t)||EU(t)||dse()}function dse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hse(t){if(Array.isArray(t))return LS(t)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){MS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MS(t,e,n){return e=pse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pse(t){var e=mse(t,"string");return j0(e)==="symbol"?e:String(e)}function mse(t,e){if(j0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gse(t,e){return xse(t)||yse(t,e)||EU(t,e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function xse(t){if(Array.isArray(t))return t}var Qx=function(e,n,r){return e+(n-e)*r},FS=function(e){var n=e.from,r=e.to;return n!==r},bse=function t(e,n,r){var i=Xg(function(a,s){if(FS(s)){var l=e(s.from,s.to,s.velocity),c=gse(l,2),f=c[0],h=c[1];return Ia(Ia({},s),{},{from:f,velocity:h})}return s},n);return r<1?Xg(function(a,s){return FS(s)?Ia(Ia({},s),{},{velocity:Qx(s.velocity,i[a].velocity,r),from:Qx(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const _se=(function(t,e,n,r,i){var a=Jae(t,e),s=a.reduce(function(E,I){return Ia(Ia({},E),{},MS({},I,[t[I],e[I]]))},{}),l=a.reduce(function(E,I){return Ia(Ia({},E),{},MS({},I,{from:t[I],velocity:0,to:e[I]}))},{}),c=-1,f,h,m=function(){return null},g=function(){return Xg(function(I,O){return O.from},l)},y=function(){return!Object.values(l).filter(FS).length},N=function(I){f||(f=I);var O=I-f,F=O/n.dt;l=bse(n,l,F),i(Ia(Ia(Ia({},t),e),g())),f=I,y()||(c=requestAnimationFrame(m))},A=function(I){h||(h=I);var O=(I-h)/r,F=Xg(function(D,q){return Qx.apply(void 0,Wj(q).concat([n(O)]))},s);if(i(Ia(Ia(Ia({},t),e),F)),O<1)c=requestAnimationFrame(m);else{var U=Xg(function(D,q){return Qx.apply(void 0,Wj(q).concat([n(1)]))},s);i(Ia(Ia(Ia({},t),e),U))}};return m=n.isStepper?N:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var wse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ase(t,e){if(t==null)return{};var n=Ese(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ese(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W5(t){return Cse(t)||Tse(t)||Nse(t)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nse(t,e){if(t){if(typeof t=="string")return US(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return US(t,e)}}function Tse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cse(t){if(Array.isArray(t))return US(t)}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){Lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lg(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function Ose(t,e,n){return e&&Rse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SU(t){var e=kse(t,"string");return Jp(e)==="symbol"?e:String(e)}function kse(t,e){if(Jp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(t,e)}function jse(t){var e=Dse();return function(){var r=Zx(t),i;if(e){var a=Zx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return qS(this,i)}}function qS(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BS(t)}function BS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zx(t)}var Pu=(function(t){Pse(n,t);var e=jse(n);function n(r,i){var a;Ise(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,g=s.children,y=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(BS(a)),a.changeStyle=a.changeStyle.bind(BS(a)),!l||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),qS(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof g=="function")return a.state={style:f},qS(a);a.state={style:c?Lg({},c,f):f}}else a.state={style:{}};return a}return Ose(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,g=this.state.style;if(l){if(!s){var y={style:c?Lg({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(y);return}if(!(qae(i.to,h)&&i.canBegin&&i.isActive)){var N=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=N||f?m:i.to;if(this.state&&g){var E={style:c?Lg({},c,A):A};(c&&g[c]!==A||!c&&g!==A)&&this.setState(E)}this.runAnimation(wl(wl({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,y=_se(s,l,use(f),c,this.changeStyle),N=function(){a.stopJSAnimation=y()};this.manager.start([g,h,N,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,g=m===void 0?0:m,y=function(A,E,I){if(I===0)return A;var O=E.duration,F=E.easing,U=F===void 0?"ease":F,D=E.style,q=E.properties,P=E.onAnimationEnd,j=I>0?s[I-1]:E,$=q||Object.keys(D);if(typeof U=="function"||U==="spring")return[].concat(W5(A),[a.runJSAnimation.bind(a,{from:j.style,to:D,duration:O,easing:U}),O]);var G=zj($,O,U),V=wl(wl(wl({},j.style),D),{},{transition:G});return[].concat(W5(A),[V,O,P]).filter(Qae)};return this.manager.start([c].concat(W5(s.reduce(y,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kae());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,y=i.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var A=l?Lg({},l,c):c,E=zj(Object.keys(A),s,f);N.start([h,a,wl(wl({},A),{},{transition:E}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Ase(i,wse),f=xe.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||f===0||s<=0)return a;var m=function(y){var N=y.props,A=N.style,E=A===void 0?{}:A,I=N.className,O=xe.cloneElement(y,wl(wl({},c),{},{style:wl(wl({},E),h),className:I}));return O};return f===1?m(xe.Children.only(a)):Le.createElement("div",null,xe.Children.map(a,function(g){return m(g)}))}}]),n})(xe.PureComponent);Pu.displayName="Animate";Pu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pu.propTypes={from:fr.oneOfType([fr.object,fr.string]),to:fr.oneOfType([fr.object,fr.string]),attributeName:fr.string,duration:fr.number,begin:fr.number,easing:fr.oneOfType([fr.string,fr.func]),steps:fr.arrayOf(fr.shape({duration:fr.number.isRequired,style:fr.object.isRequired,easing:fr.oneOfType([fr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fr.func]),properties:fr.arrayOf("string"),onAnimationEnd:fr.func})),children:fr.oneOfType([fr.node,fr.func]),isActive:fr.bool,canBegin:fr.bool,onAnimationEnd:fr.func,shouldReAnimate:fr.bool,onAnimationStart:fr.func,onAnimationReStart:fr.func};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e1.apply(this,arguments)}function Mse(t,e){return Vse(t)||Use(t,e)||Fse(t,e)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(t,e){if(t){if(typeof t=="string")return Xj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xj(t,e)}}function Xj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Use(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Vse(t){if(Array.isArray(t))return t}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e,n){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=$se(t,"string");return D0(e)=="symbol"?e:e+""}function $se(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zj=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var N=Math.min(s,a);h="M ".concat(e,",").concat(n+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+c*N,",").concat(n,`
            L `).concat(e+r-c*N,",").concat(n,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*N,`
            L `).concat(e+r,",").concat(n+i-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+r-c*N,",").concat(n+i,`
            L `).concat(e+c*N,",").concat(n+i,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*N," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},zse=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(s,s+c),g=Math.max(s,s+c);return r>=f&&r<=h&&i>=m&&i<=g}return!1},Gse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uC=function(e){var n=Qj(Qj({},Gse),e),r=xe.useRef(),i=xe.useState(-1),a=Mse(i,2),s=a[0],l=a[1];xe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&l(U)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,g=n.radius,y=n.className,N=n.animationEasing,A=n.animationDuration,E=n.animationBegin,I=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var F=Qn("recharts-rectangle",y);return O?Le.createElement(Pu,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:A,animationEasing:N,isActive:O},function(U){var D=U.width,q=U.height,P=U.x,j=U.y;return Le.createElement(Pu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:A,isActive:I,easing:N},Le.createElement("path",e1({},Pn(n,!0),{className:F,d:Zj(P,j,D,q,g),ref:r})))}):Le.createElement("path",e1({},Pn(n,!0),{className:F,d:Zj(c,f,h,m,g)}))};function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(this,arguments)}var dC=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Qn("recharts-dot",a);return n===+n&&r===+r&&i===+i?xe.createElement("circle",$S({},Pn(e,!1),bx(e),{className:s,cx:n,cy:r,r:i})):null};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}var Hse=["x","y","top","left","width","height","className"];function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e,n){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Xse(t,"string");return M0(e)=="symbol"?e:e+""}function Xse(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jse(t,e){if(t==null)return{};var n=Qse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zse=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},eoe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,g=e.height,y=g===void 0?0:g,N=e.className,A=Jse(e,Hse),E=Wse({x:r,y:a,top:l,left:f,width:m,height:y},A);return!_t(r)||!_t(a)||!_t(m)||!_t(y)||!_t(l)||!_t(f)?null:Le.createElement("path",zS({},Pn(E,!0),{className:Qn("recharts-cross",N),d:Zse(r,a,m,y,l,f)}))},K5,tD;function toe(){if(tD)return K5;tD=1;var t=H9(),e=t(Object.getPrototypeOf,Object);return K5=e,K5}var Y5,nD;function noe(){if(nD)return Y5;nD=1;var t=Vu(),e=toe(),n=qu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return Y5=f,Y5}var roe=noe();const ioe=Er(roe);var X5,rD;function aoe(){if(rD)return X5;rD=1;var t=Vu(),e=qu(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return X5=r,X5}var soe=aoe();const ooe=Er(soe);function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}function loe(t,e){return foe(t)||doe(t,e)||uoe(t,e)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return iD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iD(t,e)}}function iD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function doe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function foe(t){if(Array.isArray(t))return t}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return e=poe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=moe(t,"string");return L0(e)=="symbol"?e:e+""}function moe(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oD=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},goe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},voe=function(e){var n=sD(sD({},goe),e),r=xe.useRef(),i=xe.useState(-1),a=loe(i,2),s=a[0],l=a[1];xe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&l(F)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,g=n.height,y=n.className,N=n.animationEasing,A=n.animationDuration,E=n.animationBegin,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var O=Qn("recharts-trapezoid",y);return I?Le.createElement(Pu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:g,x:c,y:f},duration:A,animationEasing:N,isActive:I},function(F){var U=F.upperWidth,D=F.lowerWidth,q=F.height,P=F.x,j=F.y;return Le.createElement(Pu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:A,easing:N},Le.createElement("path",t1({},Pn(n,!0),{className:O,d:oD(P,j,U,D,q),ref:r})))}):Le.createElement("g",null,Le.createElement("path",t1({},Pn(n,!0),{className:O,d:oD(c,f,h,m,g)})))},yoe=["option","shapeType","propTransformer","activeClassName","isActive"];function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function xoe(t,e){if(t==null)return{};var n=boe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function boe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){_oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e,n){return e=woe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=Aoe(t,"string");return F0(e)=="symbol"?e:e+""}function Aoe(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t,e){return n1(n1({},e),t)}function Soe(t,e){return t==="symbols"}function cD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Le.createElement(uC,n);case"trapezoid":return Le.createElement(voe,n);case"sector":return Le.createElement(yU,n);case"symbols":if(Soe(e))return Le.createElement(IT,n);break;default:return null}}function Noe(t){return xe.isValidElement(t)?t.props:t}function Toe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Eoe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=xoe(t,yoe),f;if(xe.isValidElement(e))f=xe.cloneElement(e,n1(n1({},c),Noe(e)));else if(wn(e))f=e(c);else if(ioe(e)&&!ooe(e)){var h=i(e,c);f=Le.createElement(cD,{shapeType:n,elementProps:h})}else{var m=c;f=Le.createElement(cD,{shapeType:n,elementProps:m})}return l?Le.createElement(oi,{className:s},f):f}function hb(t,e){return e!=null&&"trapezoids"in t.props}function pb(t,e){return e!=null&&"sectors"in t.props}function U0(t,e){return e!=null&&"points"in t.props}function Coe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Ioe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Roe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ooe(t,e){var n;return hb(t,e)?n=Coe:pb(t,e)?n=Ioe:U0(t,e)&&(n=Roe),n}function koe(t,e){var n;return hb(t,e)?n="trapezoids":pb(t,e)?n="sectors":U0(t,e)&&(n="points"),n}function Poe(t,e){if(hb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(pb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return U0(t,e)?e.payload:{}}function joe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=koe(n,e),a=Poe(n,e),s=r.filter(function(c,f){var h=w0(a,c),m=n.props[i].filter(function(N){var A=Ooe(n,e);return A(N,e)}),g=n.props[i].indexOf(m[m.length-1]),y=f===g;return h&&y}),l=r.indexOf(s[s.length-1]);return l}var J5,uD;function Doe(){if(uD)return J5;uD=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var l=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=a;return f}return J5=n,J5}var Q5,dD;function NU(){if(dD)return Q5;dD=1;var t=lF(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return Q5=r,Q5}var Z5,fD;function Moe(){if(fD)return Z5;fD=1;var t=Doe(),e=nb(),n=NU();function r(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),t(a,s,l,i)}}return Z5=r,Z5}var eE,hD;function Loe(){if(hD)return eE;hD=1;var t=Moe(),e=t();return eE=e,eE}var Foe=Loe();const r1=Er(Foe);function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){TU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TU(t,e,n){return e=Uoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=Voe(t,"string");return V0(e)=="symbol"?e:e+""}function Voe(t,e){if(V0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=["Webkit","Moz","O","ms"],Boe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=qoe.reduce(function(a,s){return mD(mD({},a),{},TU({},s+r,n))},{});return i[e]=n,i};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(this,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IU(r.key),r)}}function zoe(t,e,n){return e&&vD(t.prototype,e),n&&vD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Goe(t,e,n){return e=a1(e),Hoe(t,CU()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function Hoe(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Woe(t)}function Woe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function Koe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}function GS(t,e){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GS(t,e)}function ho(t,e,n){return e=IU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IU(t){var e=Yoe(t,"string");return Qp(e)=="symbol"?e:e+""}function Yoe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xoe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Wg().domain(r1(0,c)).range([a,a+s-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},yD=function(e){return e.changedTouches&&!!e.changedTouches.length},Zp=(function(t){function e(n){var r;return $oe(this,e),r=Goe(this,e,[n]),ho(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ho(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ho(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),ho(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ho(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ho(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ho(r,"handleSlideDragStart",function(i){var a=yD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Koe(e,t),zoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(s,m),N=e.getIndexInRange(s,g);return{startIndex:y-y%c,endIndex:N===h?h:N-N%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=bo(a[r],l,r);return wn(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,g=c.startIndex,y=c.endIndex,N=c.onChange,A=r.pageX-a;A>0?A=Math.min(A,f+h-m-l,f+h-m-s):A<0&&(A=Math.max(A,f-s,f-l));var E=this.getIndex({startX:s+A,endX:l+A});(E.startIndex!==g||E.endIndex!==y)&&N&&N(E),this.setState({startX:s+A,endX:l+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=yD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,g=h.width,y=h.travellerWidth,N=h.onChange,A=h.gap,E=h.data,I={startX:this.state.startX,endX:this.state.endX},O=r.pageX-a;O>0?O=Math.min(O,m+g-y-f):O<0&&(O=Math.max(O,m-f)),I[s]=f+O;var F=this.getIndex(I),U=F.startIndex,D=F.endIndex,q=function(){var j=E.length-1;return s==="startX"&&(l>c?U%A===0:D%A===0)||l<c&&D===j||s==="endX"&&(l>c?D%A===0:U%A===0)||l>c&&D===j};this.setState(ho(ho({},s,f+O),"brushMoveStartX",r.pageX),function(){N&&q()&&N(F)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var g=m+r;if(!(g===-1||g>=l.length)){var y=l[g];i==="startX"&&y>=f||i==="endX"&&y<=c||this.setState(ho({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return Le.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,m=xe.Children.only(f);return m?Le.cloneElement(m,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,g=c.traveller,y=c.ariaLabel,N=c.data,A=c.startIndex,E=c.endIndex,I=Math.max(r,this.props.x),O=tE(tE({},Pn(this.props,!1)),{},{x:I,y:f,width:h,height:m}),F=y||"Min value: ".concat((a=N[A])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=N[E])===null||s===void 0?void 0:s.name);return Le.createElement(oi,{tabIndex:0,role:"slider","aria-label":F,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(D){["ArrowLeft","ArrowRight"].includes(D.key)&&(D.preventDefault(),D.stopPropagation(),l.handleTravellerMoveKeyboard(D.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,O))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return Le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,g=h.endX,y=5,N={pointerEvents:"none",fill:f};return Le.createElement(oi,{className:"recharts-brush-texts"},Le.createElement(kx,i1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:s+l/2},N),this.getTextOfTick(i)),Le.createElement(kx,i1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+y,y:s+l/2},N),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,g=this.state,y=g.startX,N=g.endX,A=g.isTextActive,E=g.isSlideMoving,I=g.isTravellerMoving,O=g.isTravellerFocused;if(!i||!i.length||!_t(l)||!_t(c)||!_t(f)||!_t(h)||f<=0||h<=0)return null;var F=Qn("recharts-brush",a),U=Le.Children.count(s)===1,D=Boe("userSelect","none");return Le.createElement(oi,{className:F,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),U&&this.renderPanorama(),this.renderSlide(y,N),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(N,"endX"),(A||E||I||O||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(a+l/2)-1;return Le.createElement(Le.Fragment,null,Le.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),Le.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),Le.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Le.isValidElement(r)?a=Le.cloneElement(r,i):wn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return tE({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?Xoe({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(xe.PureComponent);ho(Zp,"displayName","Brush");ho(Zp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nE,xD;function Joe(){if(xD)return nE;xD=1;var t=MT();function e(n,r){var i;return t(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return nE=e,nE}var rE,bD;function Qoe(){if(bD)return rE;bD=1;var t=U9(),e=df(),n=Joe(),r=Gs(),i=nb();function a(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return rE=a,rE}var Zoe=Qoe();const ele=Er(Zoe);var Nc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},iE,_D;function tle(){if(_D)return iE;_D=1;var t=rF();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return iE=e,iE}var aE,wD;function nle(){if(wD)return aE;wD=1;var t=tle(),e=tF(),n=df();function r(i,a){var s={};return a=n(a,3),e(i,function(l,c,f){t(s,c,a(l,c,f))}),s}return aE=r,aE}var rle=nle();const ile=Er(rle);var sE,AD;function ale(){if(AD)return sE;AD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return sE=t,sE}var oE,ED;function sle(){if(ED)return oE;ED=1;var t=MT();function e(n,r){var i=!0;return t(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return oE=e,oE}var lE,SD;function ole(){if(SD)return lE;SD=1;var t=ale(),e=sle(),n=df(),r=Gs(),i=nb();function a(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return lE=a,lE}var lle=ole();const RU=Er(lle);var cle=["x","y"];function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(this,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=fle(t,"string");return q0(e)=="symbol"?e:e+""}function fle(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t,e){if(t==null)return{};var n=ple(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ple(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mle(t,e){var n=t.x,r=t.y,i=hle(t,cle),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),g=parseInt(m,10);return Ng(Ng(Ng(Ng(Ng({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function TD(t){return Le.createElement(Toe,HS({shapeType:"rectangle",propTransformer:mle,activeClassName:"recharts-active-bar"},t))}var gle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=_t(r)||_Y(r);return a?e(r,i):(a||sh(),n)}},vle=["value","background"],OU;function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function yle(t,e){if(t==null)return{};var n=xle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Ud(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ID(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PU(r.key),r)}}function _le(t,e,n){return e&&ID(t.prototype,e),n&&ID(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wle(t,e,n){return e=o1(e),Ale(t,kU()?Reflect.construct(e,n||[],o1(t).constructor):e.apply(t,n))}function Ale(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ele(t)}function Ele(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kU=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function Sle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function Ud(t,e,n){return e=PU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PU(t){var e=Nle(t,"string");return em(e)=="symbol"?e:e+""}function Nle(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uv=(function(t){function e(){var n;ble(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wle(this,e,[].concat(i)),Ud(n,"state",{isAnimationFinished:!1}),Ud(n,"id",iv("recharts-bar-")),Ud(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ud(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Sle(e,t),_le(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Pn(this.props,!1);return r&&r.map(function(m,g){var y=g===c,N=y?f:s,A=Vi(Vi(Vi({},h),m),{},{isActive:y,option:N,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Le.createElement(oi,s1({className:"recharts-bar-rectangle"},_x(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),Le.createElement(TD,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,g=this.state.prevData;return Le.createElement(Pu,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var N=y.t,A=a.map(function(E,I){var O=g&&g[I];if(O){var F=Bo(O.x,E.x),U=Bo(O.y,E.y),D=Bo(O.width,E.width),q=Bo(O.height,E.height);return Vi(Vi({},E),{},{x:F(N),y:U(N),width:D(N),height:q(N)})}if(s==="horizontal"){var P=Bo(0,E.height),j=P(N);return Vi(Vi({},E),{},{y:E.y+E.height-j,height:j})}var $=Bo(0,E.width),G=$(N);return Vi(Vi({},E),{},{width:G})});return Le.createElement(oi,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!w0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=Pn(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,g=yle(f,vle);if(!m)return null;var y=Vi(Vi(Vi(Vi(Vi({},g),{},{fill:"#eee"},m),c),_x(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return Le.createElement(TD,s1({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=Rl(h,fb);if(!m)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,y=function(E,I){var O=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:O,errorVal:bo(E,I)}},N={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Le.createElement(oi,N,m.map(function(A){return Le.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,g=r.height,y=r.isAnimationActive,N=r.background,A=r.id;if(i||!a||!a.length)return null;var E=this.state.isAnimationFinished,I=Qn("recharts-bar",s),O=l&&l.allowDataOverflow,F=c&&c.allowDataOverflow,U=O||F,D=qn(A)?this.id:A;return Le.createElement(oi,{className:I},O||F?Le.createElement("defs",null,Le.createElement("clipPath",{id:"clipPath-".concat(D)},Le.createElement("rect",{x:O?f:f-m/2,y:F?h:h-g/2,width:O?m:m*2,height:F?g:g*2}))):null,Le.createElement(oi,{className:"recharts-bar-rectangles",clipPath:U?"url(#clipPath-".concat(D,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(U,D),(!y||E)&&Gd.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(xe.PureComponent);OU=uv;Ud(uv,"displayName","Bar");Ud(uv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Am.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ud(uv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=qre(r,n);if(!y)return null;var N=e.layout,A=n.type.defaultProps,E=A!==void 0?Vi(Vi({},A),n.props):n.props,I=E.dataKey,O=E.children,F=E.minPointSize,U=N==="horizontal"?s:a,D=f?U.scale.domain():null,q=Yre({numericAxis:U}),P=Rl(O,uF),j=m.map(function($,G){var V,L,k,J,ce,ne;f?V=Bre(f[h+G],D):(V=bo($,I),Array.isArray(V)||(V=[q,V]));var ie=gle(F,OU.defaultProps.minPointSize)(V[1],G);if(N==="horizontal"){var te,fe=[s.scale(V[0]),s.scale(V[1])],be=fe[0],re=fe[1];L=mj({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:$,index:G}),k=(te=re??be)!==null&&te!==void 0?te:void 0,J=y.size;var C=be-re;if(ce=Number.isNaN(C)?0:C,ne={x:L,y:s.y,width:J,height:s.height},Math.abs(ie)>0&&Math.abs(ce)<Math.abs(ie)){var H=Cl(ce||ie)*(Math.abs(ie)-Math.abs(ce));k-=H,ce+=H}}else{var W=[a.scale(V[0]),a.scale(V[1])],K=W[0],Q=W[1];if(L=K,k=mj({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:$,index:G}),J=Q-K,ce=y.size,ne={x:a.x,y:k,width:a.width,height:ce},Math.abs(ie)>0&&Math.abs(J)<Math.abs(ie)){var he=Cl(J||ie)*(Math.abs(ie)-Math.abs(J));J+=he}}return Vi(Vi(Vi({},$),{},{x:L,y:k,width:J,height:ce,value:f?V:V[1],payload:$,background:ne},P&&P[G]&&P[G].props),{},{tooltipPayload:[mU(n,$)],tooltipPosition:{x:L+J/2,y:k+ce/2}})});return Vi({data:j,layout:N},g)});function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function Tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jU(r.key),r)}}function Cle(t,e,n){return e&&RD(t.prototype,e),n&&RD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e,n){return e=jU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jU(t){var e=Ile(t,"string");return B0(e)=="symbol"?e:e+""}function Ile(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rle=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!po(f,uv);return h.reduce(function(y,N){var A=n[N],E=A.orientation,I=A.domain,O=A.padding,F=O===void 0?{}:O,U=A.mirror,D=A.reversed,q="".concat(E).concat(U?"Mirror":""),P,j,$,G,V;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var L=I[1]-I[0],k=1/0,J=A.categoricalDomain.sort(EY);if(J.forEach(function(W,K){K>0&&(k=Math.min((W||0)-(J[K-1]||0),k))}),Number.isFinite(k)){var ce=k/L,ne=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=ce*ne/2),A.padding==="no-gap"){var ie=ih(e.barCategoryGap,ce*ne),te=ce*ne/2;P=te-ie-(te-ie)/ne*ie}}}i==="xAxis"?j=[r.left+(F.left||0)+(P||0),r.left+r.width-(F.right||0)-(P||0)]:i==="yAxis"?j=c==="horizontal"?[r.top+r.height-(F.bottom||0),r.top+(F.top||0)]:[r.top+(F.top||0)+(P||0),r.top+r.height-(F.bottom||0)-(P||0)]:j=A.range,D&&(j=[j[1],j[0]]);var fe=Ure(A,a,g),be=fe.scale,re=fe.realScaleType;be.domain(I).range(j),Vre(be);var C=Kre(be,Nl(Nl({},A),{},{realScaleType:re}));i==="xAxis"?(V=E==="top"&&!U||E==="bottom"&&U,$=r.left,G=m[q]-V*A.height):i==="yAxis"&&(V=E==="left"&&!U||E==="right"&&U,$=m[q]-V*A.width,G=r.top);var H=Nl(Nl(Nl({},A),C),{},{realScaleType:re,x:$,y:G,scale:be,width:i==="xAxis"?r.width:A.width,height:i==="yAxis"?r.height:A.height});return H.bandSize=Wx(H,C),!A.hide&&i==="xAxis"?m[q]+=(V?-1:1)*H.height:A.hide||(m[q]+=(V?-1:1)*H.width),Nl(Nl({},y),{},mb({},N,H))},{})},DU=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Ole=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return DU({x:n,y:r},{x:i,y:a})},MU=(function(){function t(e){Tle(this,t),this.scale=e}return Cle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();mb(MU,"EPS",1e-4);var fC=function(e){var n=Object.keys(e).reduce(function(r,i){return Nl(Nl({},r),{},mb({},i,MU.create(e[i])))},{});return Nl(Nl({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return ile(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return RU(i,function(a,s){return n[s].isInRange(a)})}})};function kle(t){return(t%180+180)%180}var Ple=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kle(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},cE,kD;function jle(){if(kD)return cE;kD=1;var t=df(),e=av(),n=eb();function r(i){return function(a,s,l){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,l);return h>-1?c[f?a[h]:h]:void 0}}return cE=r,cE}var uE,PD;function Dle(){if(PD)return uE;PD=1;var t=NU();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return uE=e,uE}var dE,jD;function Mle(){if(jD)return dE;jD=1;var t=X9(),e=df(),n=Dle(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return dE=i,dE}var fE,DD;function Lle(){if(DD)return fE;DD=1;var t=jle(),e=Mle(),n=t(e);return fE=n,fE}var Fle=Lle();const Ule=Er(Fle);var Vle=f9();const qle=Er(Vle);var Ble=qle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hC=xe.createContext(void 0),pC=xe.createContext(void 0),LU=xe.createContext(void 0),FU=xe.createContext({}),UU=xe.createContext(void 0),VU=xe.createContext(0),qU=xe.createContext(0),MD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=Ble(a);return Le.createElement(hC.Provider,{value:r},Le.createElement(pC.Provider,{value:i},Le.createElement(FU.Provider,{value:a},Le.createElement(LU.Provider,{value:h},Le.createElement(UU.Provider,{value:s},Le.createElement(VU.Provider,{value:f},Le.createElement(qU.Provider,{value:c},l)))))))},$le=function(){return xe.useContext(UU)},BU=function(e){var n=xe.useContext(hC);n==null&&sh();var r=n[e];return r==null&&sh(),r},zle=function(){var e=xe.useContext(hC);return kd(e)},Gle=function(){var e=xe.useContext(pC),n=Ule(e,function(r){return RU(r.domain,Number.isFinite)});return n||kd(e)},$U=function(e){var n=xe.useContext(pC);n==null&&sh();var r=n[e];return r==null&&sh(),r},Hle=function(){var e=xe.useContext(LU);return e},Wle=function(){return xe.useContext(FU)},mC=function(){return xe.useContext(qU)},gC=function(){return xe.useContext(VU)};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function Xle(t,e,n){return e&&Yle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,n){return e=l1(e),Qle(t,zU()?Reflect.construct(e,n||[],l1(t).constructor):e.apply(t,n))}function Qle(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zle(t)}function Zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l1(t)}function ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KS(t,e)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){vC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vC(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=tce(t,"string");return tm(e)=="symbol"?e:e+""}function tce(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nce(t,e){return sce(t)||ace(t,e)||ice(t,e)||rce()}function rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return UD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ace(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function sce(t){if(Array.isArray(t))return t}function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}var oce=function(e,n){var r;return Le.isValidElement(e)?r=Le.cloneElement(e,n):wn(e)?r=e(n):r=Le.createElement("line",YS({},n,{className:"recharts-reference-line-line"})),r},lce=function(e,n,r,i,a,s,l,c,f){var h=a.x,m=a.y,g=a.width,y=a.height;if(r){var N=f.y,A=e.y.apply(N,{position:s});if(Nc(f,"discard")&&!e.y.isInRange(A))return null;var E=[{x:h+g,y:A},{x:h,y:A}];return c==="left"?E.reverse():E}if(n){var I=f.x,O=e.x.apply(I,{position:s});if(Nc(f,"discard")&&!e.x.isInRange(O))return null;var F=[{x:O,y:m+y},{x:O,y:m}];return l==="top"?F.reverse():F}if(i){var U=f.segment,D=U.map(function(q){return e.apply(q,{position:s})});return Nc(f,"discard")&&ele(D,function(q){return!e.isInRange(q)})?null:D}return null};function cce(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=$le(),h=BU(i),m=$U(a),g=Hle();if(!f||!g)return null;Nu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=fC({x:h.scale,y:m.scale}),N=ta(e),A=ta(n),E=r&&r.length===2,I=lce(y,N,A,E,g,t.position,h.orientation,m.orientation,t);if(!I)return null;var O=nce(I,2),F=O[0],U=F.x,D=F.y,q=O[1],P=q.x,j=q.y,$=Nc(t,"hidden")?"url(#".concat(f,")"):void 0,G=FD(FD({clipPath:$},Pn(t,!0)),{},{x1:U,y1:D,x2:P,y2:j});return Le.createElement(oi,{className:Qn("recharts-reference-line",l)},oce(s,G),ns.renderCallByParent(t,Ole({x1:U,y1:D,x2:P,y2:j})))}var yC=(function(t){function e(){return Kle(this,e),Jle(this,e,arguments)}return ece(e,t),Xle(e,[{key:"render",value:function(){return Le.createElement(cce,this.props)}}])})(Le.Component);vC(yC,"displayName","ReferenceLine");vC(yC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WU(r.key),r)}}function fce(t,e,n){return e&&dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,n){return e=c1(e),pce(t,HU()?Reflect.construct(e,n||[],c1(t).constructor):e.apply(t,n))}function pce(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c1(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JS(t,e)}function JS(t,e){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JS(t,e)}function gb(t,e,n){return e=WU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WU(t){var e=vce(t,"string");return nm(e)=="symbol"?e:e+""}function vce(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yce=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=fC({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Nc(e,"discard")&&!s.isInRange(l)?null:l},vb=(function(t){function e(){return uce(this,e),hce(this,e,arguments)}return gce(e,t),fce(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=ta(i),h=ta(a);if(Nu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=yce(this.props);if(!m)return null;var g=m.x,y=m.y,N=this.props,A=N.shape,E=N.className,I=Nc(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=qD(qD({clipPath:I},Pn(this.props,!0)),{},{cx:g,cy:y});return Le.createElement(oi,{className:Qn("recharts-reference-dot",E)},e.renderDot(A,O),ns.renderCallByParent(this.props,{x:g-s,y:y-s,width:2*s,height:2*s}))}}])})(Le.Component);gb(vb,"displayName","ReferenceDot");gb(vb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gb(vb,"renderDot",function(t,e){var n;return Le.isValidElement(t)?n=Le.cloneElement(t,e):wn(t)?n=t(e):n=Le.createElement(dC,XS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YU(r.key),r)}}function _ce(t,e,n){return e&&bce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wce(t,e,n){return e=u1(e),Ace(t,KU()?Reflect.construct(e,n||[],u1(t).constructor):e.apply(t,n))}function Ace(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ece(t)}function Ece(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u1(t)}function Sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(t,e)}function yb(t,e,n){return e=YU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){var e=Nce(t,"string");return rm(e)=="symbol"?e:e+""}function Nce(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tce=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var g=fC({x:h.scale,y:m.scale}),y={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},N={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Nc(a,"discard")&&(!g.isInRange(y)||!g.isInRange(N))?null:DU(y,N)},xb=(function(t){function e(){return xce(this,e),wce(this,e,arguments)}return Sce(e,t),_ce(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Nu(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ta(i),g=ta(a),y=ta(s),N=ta(l),A=this.props.shape;if(!m&&!g&&!y&&!N&&!A)return null;var E=Tce(m,g,y,N,this.props);if(!E&&!A)return null;var I=Nc(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Le.createElement(oi,{className:Qn("recharts-reference-area",c)},e.renderRect(A,$D($D({clipPath:I},Pn(this.props,!0)),E)),ns.renderCallByParent(this.props,E))}}])})(Le.Component);yb(xb,"displayName","ReferenceArea");yb(xb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yb(xb,"renderRect",function(t,e){var n;return Le.isValidElement(t)?n=Le.cloneElement(t,e):wn(t)?n=t(e):n=Le.createElement(uC,QS({},e,{className:"recharts-reference-area-rect"})),n});function XU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Cce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ple(r,n)}function Ice(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function d1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Rce(t,e){return XU(t,e+1)}function Oce(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,m=function(){var N=r==null?void 0:r[c];if(N===void 0)return{v:XU(r,f)};var A=c,E,I=function(){return E===void 0&&(E=n(N,A)),E},O=N.coordinate,F=c===0||d1(t,O,I,h,l);F||(c=0,h=s,f+=1),F&&(h=O+t*(I()/2+i),c+=f)},g;f<=a.length;)if(g=m(),g)return g.v;return[]}function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return e=Pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=jce(t,"string");return $0(e)=="symbol"?e:e+""}function jce(t,e){if($0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dce(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,f=function(g){var y=a[g],N,A=function(){return N===void 0&&(N=n(y,g)),N};if(g===s-1){var E=t*(y.coordinate+t*A()/2-c);a[g]=y=es(es({},y),{},{tickCoord:E>0?y.coordinate-E*t:y.coordinate})}else a[g]=y=es(es({},y),{},{tickCoord:y.coordinate});var I=d1(t,y.tickCoord,A,l,c);I&&(c=y.tickCoord-t*(A()/2+i),a[g]=es(es({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Mce(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(a){var h=r[l-1],m=n(h,l-1),g=t*(h.coordinate+t*m/2-f);s[l-1]=h=es(es({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var y=d1(t,h.tickCoord,function(){return m},c,f);y&&(f=h.tickCoord-t*(m/2+i),s[l-1]=es(es({},h),{},{isShow:!0}))}for(var N=a?l-1:l,A=function(O){var F=s[O],U,D=function(){return U===void 0&&(U=n(F,O)),U};if(O===0){var q=t*(F.coordinate-t*D()/2-c);s[O]=F=es(es({},F),{},{tickCoord:q<0?F.coordinate-q*t:F.coordinate})}else s[O]=F=es(es({},F),{},{tickCoord:F.coordinate});var P=d1(t,F.tickCoord,D,c,f);P&&(c=F.tickCoord+t*(D()/2+i),s[O]=es(es({},F),{},{isShow:!0}))},E=0;E<N;E++)A(E);return s}function xC(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(_t(c)||Am.isSsr)return Rce(i,typeof c=="number"&&_t(c)?c:0);var g=[],y=l==="top"||l==="bottom"?"width":"height",N=h&&y==="width"?Hg(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(F,U){var D=wn(f)?f(F.value,U):F.value;return y==="width"?Cce(Hg(D,{fontSize:e,letterSpacing:n}),N,m):Hg(D,{fontSize:e,letterSpacing:n})[y]},E=i.length>=2?Cl(i[1].coordinate-i[0].coordinate):1,I=Ice(a,E,y);return c==="equidistantPreserveStart"?Oce(E,I,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Mce(E,I,A,i,s,c==="preserveStartEnd"):g=Dce(E,I,A,i,s),g.filter(function(O){return O.isShow}))}var Lce=["viewBox"],Fce=["viewBox"],Uce=["ticks"];function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){bC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hE(t,e){if(t==null)return{};var n=Vce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QU(r.key),r)}}function Bce(t,e,n){return e&&HD(t.prototype,e),n&&HD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ce(t,e,n){return e=f1(e),zce(t,JU()?Reflect.construct(e,n||[],f1(t).constructor):e.apply(t,n))}function zce(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gce(t)}function Gce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}function Hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eN(t,e)}function bC(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=Wce(t,"string");return im(e)=="symbol"?e:e+""}function Wce(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tm=(function(t){function e(n){var r;return qce(this,e),r=$ce(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Hce(e,t),Bce(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=hE(r,Lce),l=this.props,c=l.viewBox,f=hE(l,Fce);return!Sp(a,c)||!Sp(s,f)||!Sp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,g=i.tickMargin,y,N,A,E,I,O,F=m?-1:1,U=r.tickSize||h,D=_t(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":y=N=r.coordinate,E=s+ +!m*c,A=E-F*U,O=A-F*g,I=D;break;case"left":A=E=r.coordinate,N=a+ +!m*l,y=N-F*U,I=y-F*g,O=D;break;case"right":A=E=r.coordinate,N=a+ +m*l,y=N+F*U,I=y+F*g,O=D;break;default:y=N=r.coordinate,E=s+ +m*c,A=E+F*U,O=A+F*g,I=D;break}return{line:{x1:y,y1:A,x2:N,y2:E},tick:{x:I,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=Zi(Zi(Zi({},Pn(this.props,!1)),Pn(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!f||c==="bottom"&&f);m=Zi(Zi({},m),{},{x1:i,y1:a+g*l,x2:i+s,y2:a+g*l})}else{var y=+(c==="left"&&!f||c==="right"&&f);m=Zi(Zi({},m),{},{x1:i+y*s,y1:a,x2:i+y*s,y2:a+l})}return Le.createElement("line",yp({},m,{className:Qn("recharts-cartesian-axis-line",Wo(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,y=xC(Zi(Zi({},this.props),{},{ticks:r}),i,a),N=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),E=Pn(this.props,!1),I=Pn(h,!1),O=Zi(Zi({},E),{},{fill:"none"},Pn(c,!1)),F=y.map(function(U,D){var q=s.getTickLineCoord(U),P=q.line,j=q.tick,$=Zi(Zi(Zi(Zi({textAnchor:N,verticalAnchor:A},E),{},{stroke:"none",fill:f},I),j),{},{index:D,payload:U,visibleTicksCount:y.length,tickFormatter:m});return Le.createElement(oi,yp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},_x(s.props,U,D)),c&&Le.createElement("line",yp({},O,P,{className:Qn("recharts-cartesian-axis-tick-line",Wo(c,"className"))})),h&&e.renderTickItem(h,$,"".concat(wn(m)?m(U.value,D):U.value).concat(g||"")))});return Le.createElement("g",{className:"recharts-cartesian-axis-ticks"},F)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,g=m.ticks,y=hE(m,Uce),N=g;return wn(c)&&(N=g&&g.length>0?c(this.props):c(y)),s<=0||l<=0||!N||!N.length?null:Le.createElement(oi,{className:Qn("recharts-cartesian-axis",f),ref:function(E){r.layerReference=E}},a&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),ns.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=Qn(i.className,"recharts-cartesian-axis-tick-value");return Le.isValidElement(r)?s=Le.cloneElement(r,Zi(Zi({},i),{},{className:l})):wn(r)?s=r(Zi(Zi({},i),{},{className:l})):s=Le.createElement(kx,yp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(xe.Component);bC(Tm,"displayName","CartesianAxis");bC(Tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Kce=["x1","y1","x2","y2","key"],Yce=["offset"];function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Qce(t,"string");return oh(e)=="symbol"?e:e+""}function Qce(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function KD(t,e){if(t==null)return{};var n=Zce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return Le.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZU(t,e){var n;if(Le.isValidElement(t))n=Le.cloneElement(t,e);else if(wn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=KD(e,Kce),f=Pn(c,!1);f.offset;var h=KD(f,Yce);n=Le.createElement("line",Wf({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function tue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=rs(rs({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return ZU(i,f)});return Le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function nue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=rs(rs({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return ZU(i,f)});return Le.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function rue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var N=!h[y+1],A=N?i+s-g:h[y+1]-g;if(A<=0)return null;var E=y%e.length;return Le.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:A,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function iue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var N=!h[y+1],A=N?a+l-g:h[y+1]-g;if(A<=0)return null;var E=y%r.length;return Le.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:A,height:c,stroke:"none",fill:r[E],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var aue=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return hU(xC(rs(rs(rs({},Tm.defaultProps),r),{},{ticks:bu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},sue=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return hU(xC(rs(rs(rs({},Tm.defaultProps),r),{},{ticks:bu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},sp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eV(t){var e,n,r,i,a,s,l=mC(),c=gC(),f=Wle(),h=rs(rs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:sp.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sp.verticalFill,x:_t(t.x)?t.x:f.left,y:_t(t.y)?t.y:f.top,width:_t(t.width)?t.width:f.width,height:_t(t.height)?t.height:f.height}),m=h.x,g=h.y,y=h.width,N=h.height,A=h.syncWithTicks,E=h.horizontalValues,I=h.verticalValues,O=zle(),F=Gle();if(!_t(y)||y<=0||!_t(N)||N<=0||!_t(m)||m!==+m||!_t(g)||g!==+g)return null;var U=h.verticalCoordinatesGenerator||aue,D=h.horizontalCoordinatesGenerator||sue,q=h.horizontalPoints,P=h.verticalPoints;if((!q||!q.length)&&wn(D)){var j=E&&E.length,$=D({yAxis:F?rs(rs({},F),{},{ticks:j?E:F.ticks}):void 0,width:l,height:c,offset:f},j?!0:A);Nu(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oh($),"]")),Array.isArray($)&&(q=$)}if((!P||!P.length)&&wn(U)){var G=I&&I.length,V=U({xAxis:O?rs(rs({},O),{},{ticks:G?I:O.ticks}):void 0,width:l,height:c,offset:f},G?!0:A);Nu(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oh(V),"]")),Array.isArray(V)&&(P=V)}return Le.createElement("g",{className:"recharts-cartesian-grid"},Le.createElement(eue,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Le.createElement(tue,Wf({},h,{offset:f,horizontalPoints:q,xAxis:O,yAxis:F})),Le.createElement(nue,Wf({},h,{offset:f,verticalPoints:P,xAxis:O,yAxis:F})),Le.createElement(rue,Wf({},h,{horizontalPoints:q})),Le.createElement(iue,Wf({},h,{verticalPoints:P})))}eV.displayName="CartesianGrid";var oue=["layout","type","stroke","connectNulls","isRange","ref"],lue=["key"],tV;function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function nV(t,e){if(t==null)return{};var n=cue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){_c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iV(r.key),r)}}function due(t,e,n){return e&&XD(t.prototype,e),n&&XD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fue(t,e,n){return e=h1(e),hue(t,rV()?Reflect.construct(e,n||[],h1(t).constructor):e.apply(t,n))}function hue(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pue(t)}function pue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h1(t)}function mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tN(t,e)}function tN(t,e){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tN(t,e)}function _c(t,e,n){return e=iV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iV(t){var e=gue(t,"string");return am(e)=="symbol"?e:e+""}function gue(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mf=(function(t){function e(){var n;uue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fue(this,e,[].concat(i)),_c(n,"state",{isAnimationFinished:!0}),_c(n,"id",iv("recharts-area-")),_c(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wn(s)&&s()}),_c(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wn(s)&&s()}),n}return mue(e,t),due(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,h=c.points,m=c.dataKey,g=Pn(this.props,!1),y=Pn(f,!0),N=h.map(function(E,I){var O=Id(Id(Id({key:"dot-".concat(I),r:3},g),y),{},{index:I,cx:E.x,cy:E.y,dataKey:m,value:E.value,payload:E.payload,points:h});return e.renderDotItem(f,O)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Le.createElement(oi,Kf({className:"recharts-area-dots"},A),N)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,h=r*Math.abs(c-f),m=Fd(s.map(function(g){return g.y||0}));return _t(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Fd(a.map(function(g){return g.y||0})),m)),_t(m)?Le.createElement("rect",{x:c<f?c:c-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,h=r*Math.abs(c-f),m=Fd(s.map(function(g){return g.x||0}));return _t(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Fd(a.map(function(g){return g.x||0})),m)),_t(m)?Le.createElement("rect",{x:0,y:c<f?c:c-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,f=l.type,h=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var y=nV(l,oue);return Le.createElement(oi,{clipPath:a?"url(#clipPath-".concat(s,")"):null},Le.createElement(Yg,Kf({},Pn(y,!0),{points:r,connectNulls:m,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Le.createElement(Yg,Kf({},Pn(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:m,fill:"none",points:r})),h!=="none"&&g&&Le.createElement(Yg,Kf({},Pn(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,g=s.animationEasing,y=s.animationId,N=this.state,A=N.prevPoints,E=N.prevBaseLine;return Le.createElement(Pu,{begin:h,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var O=I.t;if(A){var F=A.length/l.length,U=l.map(function(j,$){var G=Math.floor($*F);if(A[G]){var V=A[G],L=Bo(V.x,j.x),k=Bo(V.y,j.y);return Id(Id({},j),{},{x:L(O),y:k(O)})}return j}),D;if(_t(c)&&typeof c=="number"){var q=Bo(E,c);D=q(O)}else if(qn(c)||_m(c)){var P=Bo(E,0);D=P(O)}else D=c.map(function(j,$){var G=Math.floor($*F);if(E[G]){var V=E[G],L=Bo(V.x,j.x),k=Bo(V.y,j.y);return Id(Id({},j),{},{x:L(O),y:k(O)})}return j});return a.renderAreaStatically(U,D,r,i)}return Le.createElement(oi,null,Le.createElement("defs",null,Le.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(O))),Le.createElement(oi,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,g=f.totalLength;return c&&s&&s.length&&(!h&&g>0||!w0(h,s)||!w0(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,h=i.left,m=i.xAxis,g=i.yAxis,y=i.width,N=i.height,A=i.isAnimationActive,E=i.id;if(a||!l||!l.length)return null;var I=this.state.isAnimationFinished,O=l.length===1,F=Qn("recharts-area",c),U=m&&m.allowDataOverflow,D=g&&g.allowDataOverflow,q=U||D,P=qn(E)?this.id:E,j=(r=Pn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=j.r,G=$===void 0?3:$,V=j.strokeWidth,L=V===void 0?2:V,k=PY(s)?s:{},J=k.clipDot,ce=J===void 0?!0:J,ne=G*2+L;return Le.createElement(oi,{className:F},U||D?Le.createElement("defs",null,Le.createElement("clipPath",{id:"clipPath-".concat(P)},Le.createElement("rect",{x:U?h:h-y/2,y:D?f:f-N/2,width:U?y:y*2,height:D?N:N*2})),!ce&&Le.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Le.createElement("rect",{x:h-ne/2,y:f-ne/2,width:y+ne,height:N+ne}))):null,O?null:this.renderArea(q,P),(s||O)&&this.renderDots(q,ce,P),(!A||I)&&Gd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(xe.PureComponent);tV=mf;_c(mf,"displayName","Area");_c(mf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Am.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_c(mf,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(_t(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});_c(mf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=e.layout,N=f&&f.length,A=tV.getBaseValue(e,n,r,i),E=y==="horizontal",I=!1,O=m.map(function(U,D){var q;N?q=f[h+D]:(q=bo(U,c),Array.isArray(q)?I=!0:q=[A,q]);var P=q[1]==null||N&&bo(U,c)==null;return E?{x:pj({axis:r,ticks:a,bandSize:l,entry:U,index:D}),y:P?null:i.scale(q[1]),value:q,payload:U}:{x:P?null:r.scale(q[1]),y:pj({axis:i,ticks:s,bandSize:l,entry:U,index:D}),value:q,payload:U}}),F;return N||I?F=O.map(function(U){var D=Array.isArray(U.value)?U.value[0]:null;return E?{x:U.x,y:D!=null&&U.y!=null?i.scale(D):null}:{x:D!=null?r.scale(D):null,y:U.y}}):F=E?i.scale(A):r.scale(A),Id({points:O,baseLine:F,layout:y,isRange:I},g)});_c(mf,"renderDotItem",function(t,e){var n;if(Le.isValidElement(t))n=Le.cloneElement(t,e);else if(wn(t))n=t(e);else{var r=Qn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=nV(e,lue);n=Le.createElement(dC,Kf({},a,{key:i,className:r}))}return n});function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function xue(t,e,n){return e&&yue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t,e,n){return e=p1(e),_ue(t,aV()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function _ue(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p1(t)}function Aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nN(t,e)}function sV(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=Eue(t,"string");return sm(e)=="symbol"?e:e+""}function Eue(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rN.apply(this,arguments)}function Sue(t){var e=t.xAxisId,n=mC(),r=gC(),i=BU(e);return i==null?null:xe.createElement(Tm,rN({},i,{className:Qn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return bu(s,!0)}}))}var bb=(function(t){function e(){return vue(this,e),bue(this,e,arguments)}return Aue(e,t),xue(e,[{key:"render",value:function(){return xe.createElement(Sue,this.props)}}])})(xe.Component);sV(bb,"displayName","XAxis");sV(bb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function Nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function Cue(t,e,n){return e&&Tue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iue(t,e,n){return e=m1(e),Rue(t,lV()?Reflect.construct(e,n||[],m1(t).constructor):e.apply(t,n))}function Rue(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m1(t)}function kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iN(t,e)}function iN(t,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iN(t,e)}function cV(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=Pue(t,"string");return om(e)=="symbol"?e:e+""}function Pue(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aN.apply(this,arguments)}var jue=function(e){var n=e.yAxisId,r=mC(),i=gC(),a=$U(n);return a==null?null:xe.createElement(Tm,aN({},a,{className:Qn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return bu(l,!0)}}))},_b=(function(t){function e(){return Nue(this,e),Iue(this,e,arguments)}return kue(e,t),Cue(e,[{key:"render",value:function(){return xe.createElement(jue,this.props)}}])})(xe.Component);cV(_b,"displayName","YAxis");cV(_b,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JD(t){return Fue(t)||Lue(t)||Mue(t)||Due()}function Due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mue(t,e){if(t){if(typeof t=="string")return sN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(t,e)}}function Lue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fue(t){if(Array.isArray(t))return sN(t)}function sN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oN=function(e,n,r,i,a){var s=Rl(e,yC),l=Rl(e,vb),c=[].concat(JD(s),JD(l)),f=Rl(e,xb),h="".concat(i,"Id"),m=i[0],g=n;if(c.length&&(g=c.reduce(function(A,E){if(E.props[h]===r&&Nc(E.props,"extendDomain")&&_t(E.props[m])){var I=E.props[m];return[Math.min(A[0],I),Math.max(A[1],I)]}return A},g)),f.length){var y="".concat(m,"1"),N="".concat(m,"2");g=f.reduce(function(A,E){if(E.props[h]===r&&Nc(E.props,"extendDomain")&&_t(E.props[y])&&_t(E.props[N])){var I=E.props[y],O=E.props[N];return[Math.min(A[0],I,O),Math.max(A[1],I,O)]}return A},g)}return a&&a.length&&(g=a.reduce(function(A,E){return _t(E)?[Math.min(A[0],E),Math.max(A[1],E)]:A},g)),g},pE={exports:{}},QD;function Uue(){return QD||(QD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,m||c,g),N=n?n+f:f;return c._events[N]?c._events[N].fn?c._events[N]=[c._events[N],y]:c._events[N].push(y):(c._events[N]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,N=new Array(y);g<y;g++)N[g]=m[g].fn;return N},l.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,g,y,N){var A=n?n+f:f;if(!this._events[A])return!1;var E=this._events[A],I=arguments.length,O,F;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),I){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,m),!0;case 4:return E.fn.call(E.context,h,m,g),!0;case 5:return E.fn.call(E.context,h,m,g,y),!0;case 6:return E.fn.call(E.context,h,m,g,y,N),!0}for(F=1,O=new Array(I-1);F<I;F++)O[F-1]=arguments[F];E.fn.apply(E.context,O)}else{var U=E.length,D;for(F=0;F<U;F++)switch(E[F].once&&this.removeListener(f,E[F].fn,void 0,!0),I){case 1:E[F].fn.call(E[F].context);break;case 2:E[F].fn.call(E[F].context,h);break;case 3:E[F].fn.call(E[F].context,h,m);break;case 4:E[F].fn.call(E[F].context,h,m,g);break;default:if(!O)for(D=1,O=new Array(I-1);D<I;D++)O[D-1]=arguments[D];E[F].fn.apply(E[F].context,O)}}return!0},l.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,g){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var N=this._events[y];if(N.fn)N.fn===h&&(!g||N.once)&&(!m||N.context===m)&&s(this,y);else{for(var A=0,E=[],I=N.length;A<I;A++)(N[A].fn!==h||g&&!N[A].once||m&&N[A].context!==m)&&E.push(N[A]);E.length?this._events[y]=E.length===1?E[0]:E:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(pE)),pE.exports}var Vue=Uue();const que=Er(Vue);var mE=new que,gE="recharts.syncMouseEvents";function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function Bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function zue(t,e,n){return e&&$ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vE(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=Gue(t,"string");return z0(e)=="symbol"?e:e+""}function Gue(t,e){if(z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hue=(function(){function t(){Bue(this,t),vE(this,"activeIndex",0),vE(this,"coordinateList",[]),vE(this,"layout","horizontal")}return zue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+f,g=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function Wue(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&_t(r)&&_t(i))return!0}return!1}function Kue(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Pa(e,n,r,i),l=Pa(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Yue(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,g=Pa(l,c,f,m),y=Pa(l,c,h,m);r=g.x,i=g.y,a=y.x,s=y.y}else return fV(e);return[{x:r,y:i},{x:a,y:s}]}function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Que(t,"string");return G0(e)=="symbol"?e:e+""}function Que(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zue(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var N,A=Yg;if(g==="ScatterChart")N=s,A=eoe;else if(g==="BarChart")N=Kue(m,s,c,h),A=uC;else if(m==="radial"){var E=fV(s),I=E.cx,O=E.cy,F=E.radius,U=E.startAngle,D=E.endAngle;N={cx:I,cy:O,startAngle:U,endAngle:D,innerRadius:F,outerRadius:F},A=yU}else N={points:Yue(m,s,c)},A=Yg;var q=Ny(Ny(Ny(Ny({stroke:"#ccc",pointerEvents:"none"},c),N),Pn(y,!1)),{},{payload:l,payloadIndex:f,className:Qn("recharts-tooltip-cursor",y.className)});return xe.isValidElement(y)?xe.cloneElement(y,q):xe.createElement(A,q)}var ede=["item"],tde=["children","className","width","height","style","compact","title","desc"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function eM(t,e){return ide(t)||rde(t,e)||pV(t,e)||nde()}function nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ide(t){if(Array.isArray(t))return t}function tM(t,e){if(t==null)return{};var n=ade(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ade(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ode(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mV(r.key),r)}}function lde(t,e,n){return e&&ode(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cde(t,e,n){return e=g1(e),ude(t,hV()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function ude(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dde(t)}function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lN(t,e)}function lN(t,e){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lN(t,e)}function cm(t){return mde(t)||pde(t)||pV(t)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pV(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function pde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mde(t){if(Array.isArray(t))return cN(t)}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tn(t,e,n){return e=mV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mV(t){var e=gde(t,"string");return lm(e)=="symbol"?e:e+""}function gde(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vde={xAxis:["bottom","top"],yAxis:["left","right"]},yde={width:"100%",height:"100%"},gV={x:0,y:0};function Ty(t){return t}var xde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},bde=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return st(st(st({},i),Pa(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,f=i.angle;return st(st(st({},i),Pa(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return gV},wb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(cm(l),cm(f)):l},[]);return s.length>0?s:e&&e.length&&_t(i)&&_t(a)?e.slice(i,a+1):[]};function vV(t){return t==="number"?[0,"auto"]:void 0}var uN=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=wb(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var y=m===void 0?l:m;g=xx(y,s.dataKey,i)}else g=m&&m[r]||l[r];return g?[].concat(cm(c),[mU(f,g)]):c},[])},rM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=xde(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=Pre(s,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,g=uN(e,n,h,m),y=bde(r,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},_de=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,y=fU(h,a);return r.reduce(function(N,A){var E,I=A.type.defaultProps!==void 0?st(st({},A.type.defaultProps),A.props):A.props,O=I.type,F=I.dataKey,U=I.allowDataOverflow,D=I.allowDuplicatedCategory,q=I.scale,P=I.ticks,j=I.includeHidden,$=I[s];if(N[$])return N;var G=wb(e.data,{graphicalItems:i.filter(function(C){var H,W=s in C.props?C.props[s]:(H=C.type.defaultProps)===null||H===void 0?void 0:H[s];return W===$}),dataStartIndex:c,dataEndIndex:f}),V=G.length,L,k,J;Wue(I.domain,U,O)&&(L=IS(I.domain,null,U),y&&(O==="number"||q!=="auto")&&(J=Kg(G,F,"category")));var ce=vV(O);if(!L||L.length===0){var ne,ie=(ne=I.domain)!==null&&ne!==void 0?ne:ce;if(F){if(L=Kg(G,F,O),O==="category"&&y){var te=AY(L);D&&te?(k=L,L=r1(0,V)):D||(L=yj(ie,L,A).reduce(function(C,H){return C.indexOf(H)>=0?C:[].concat(cm(C),[H])},[]))}else if(O==="category")D?L=L.filter(function(C){return C!==""&&!qn(C)}):L=yj(ie,L,A).reduce(function(C,H){return C.indexOf(H)>=0||H===""||qn(H)?C:[].concat(cm(C),[H])},[]);else if(O==="number"){var fe=Fre(G,i.filter(function(C){var H,W,K=s in C.props?C.props[s]:(H=C.type.defaultProps)===null||H===void 0?void 0:H[s],Q="hide"in C.props?C.props.hide:(W=C.type.defaultProps)===null||W===void 0?void 0:W.hide;return K===$&&(j||!Q)}),F,a,h);fe&&(L=fe)}y&&(O==="number"||q!=="auto")&&(J=Kg(G,F,"category"))}else y?L=r1(0,V):l&&l[$]&&l[$].hasStack&&O==="number"?L=g==="expand"?[0,1]:pU(l[$].stackGroups,c,f):L=dU(G,i.filter(function(C){var H=s in C.props?C.props[s]:C.type.defaultProps[s],W="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return H===$&&(j||!W)}),O,h,!0);if(O==="number")L=oN(m,L,$,a,P),ie&&(L=IS(ie,L,U));else if(O==="category"&&ie){var be=ie,re=L.every(function(C){return be.indexOf(C)>=0});re&&(L=be)}}return st(st({},N),{},tn({},$,st(st({},I),{},{axisType:a,domain:L,categoricalDomain:J,duplicateDomain:k,originalDomain:(E=I.domain)!==null&&E!==void 0?E:ce,isCategorical:y,layout:h})))},{})},wde=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,g=wb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),y=g.length,N=fU(h,a),A=-1;return r.reduce(function(E,I){var O=I.type.defaultProps!==void 0?st(st({},I.type.defaultProps),I.props):I.props,F=O[s],U=vV("number");if(!E[F]){A++;var D;return N?D=r1(0,y):l&&l[F]&&l[F].hasStack?(D=pU(l[F].stackGroups,c,f),D=oN(m,D,F,a)):(D=IS(U,dU(g,r.filter(function(q){var P,j,$=s in q.props?q.props[s]:(P=q.type.defaultProps)===null||P===void 0?void 0:P[s],G="hide"in q.props?q.props.hide:(j=q.type.defaultProps)===null||j===void 0?void 0:j.hide;return $===F&&!G}),"number",h),i.defaultProps.allowDataOverflow),D=oN(m,D,F,a)),st(st({},E),{},tn({},F,st(st({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wo(vde,"".concat(a,".").concat(A%2),null),domain:D,originalDomain:U,isCategorical:N,layout:h})))}return E},{})},Ade=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),g=Rl(h,a),y={};return g&&g.length?y=_de(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(y=wde(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),y},Ede=function(e){var n=kd(e),r=bu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:LT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wx(n,r)}},iM=function(e){var n=e.children,r=e.defaultShowTooltip,i=po(n,Zp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Sde=function(e){return!e||!e.length?!1:e.some(function(n){var r=Su(n&&n.type);return r&&r.indexOf("Bar")>=0})},aM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nde=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,m=r.children,g=r.margin||{},y=po(m,Zp),N=po(m,Np),A=Object.keys(c).reduce(function(D,q){var P=c[q],j=P.orientation;return!P.mirror&&!P.hide?st(st({},D),{},tn({},j,D[j]+P.width)):D},{left:g.left||0,right:g.right||0}),E=Object.keys(s).reduce(function(D,q){var P=s[q],j=P.orientation;return!P.mirror&&!P.hide?st(st({},D),{},tn({},j,Wo(D,"".concat(j))+P.height)):D},{top:g.top||0,bottom:g.bottom||0}),I=st(st({},E),A),O=I.bottom;y&&(I.bottom+=y.props.height||Zp.defaultProps.height),N&&n&&(I=Mre(I,i,r,n));var F=f-I.left-I.right,U=h-I.top-I.bottom;return st(st({brushBottom:O},I),{},{width:Math.max(F,0),height:Math.max(U,0)})},Tde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Cde=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(I,O){var F=O.graphicalItems,U=O.stackGroups,D=O.offset,q=O.updateId,P=O.dataStartIndex,j=O.dataEndIndex,$=I.barSize,G=I.layout,V=I.barGap,L=I.barCategoryGap,k=I.maxBarSize,J=aM(G),ce=J.numericAxisName,ne=J.cateAxisName,ie=Sde(F),te=[];return F.forEach(function(fe,be){var re=wb(I.data,{graphicalItems:[fe],dataStartIndex:P,dataEndIndex:j}),C=fe.type.defaultProps!==void 0?st(st({},fe.type.defaultProps),fe.props):fe.props,H=C.dataKey,W=C.maxBarSize,K=C["".concat(ce,"Id")],Q=C["".concat(ne,"Id")],he={},_e=c.reduce(function(Je,rt){var it=O["".concat(rt.axisType,"Map")],Xe=C["".concat(rt.axisType,"Id")];it&&it[Xe]||rt.axisType==="zAxis"||sh();var yt=it[Xe];return st(st({},Je),{},tn(tn({},rt.axisType,yt),"".concat(rt.axisType,"Ticks"),bu(yt)))},he),ae=_e[ne],Ae=_e["".concat(ne,"Ticks")],Ce=U&&U[K]&&U[K].hasStack&&Xre(fe,U[K].stackGroups),Ne=Su(fe.type).indexOf("Bar")>=0,Se=Wx(ae,Ae),Te=[],se=ie&&jre({barSize:$,stackGroups:U,totalSize:Tde(_e,ne)});if(Ne){var X,De,Ke=qn(W)?k:W,Me=(X=(De=Wx(ae,Ae,!0))!==null&&De!==void 0?De:Ke)!==null&&X!==void 0?X:0;Te=Dre({barGap:V,barCategoryGap:L,bandSize:Me!==Se?Me:Se,sizeList:se[Q],maxBarSize:Ke}),Me!==Se&&(Te=Te.map(function(Je){return st(st({},Je),{},{position:st(st({},Je.position),{},{offset:Je.position.offset-Me/2})})}))}var Ye=fe&&fe.type&&fe.type.getComposedData;Ye&&te.push({props:st(st({},Ye(st(st({},_e),{},{displayedData:re,props:I,dataKey:H,item:fe,bandSize:Se,barPosition:Te,offset:D,stackedData:Ce,layout:G,dataStartIndex:P,dataEndIndex:j}))),{},tn(tn(tn({key:fe.key||"item-".concat(be)},ce,_e[ce]),ne,_e[ne]),"animationId",q)),childIndex:MY(fe,I.children),item:fe})}),te},y=function(I,O){var F=I.props,U=I.dataStartIndex,D=I.dataEndIndex,q=I.updateId;if(!k3({props:F}))return null;var P=F.children,j=F.layout,$=F.stackOffset,G=F.data,V=F.reverseStackOrder,L=aM(j),k=L.numericAxisName,J=L.cateAxisName,ce=Rl(P,r),ne=Wre(G,ce,"".concat(k,"Id"),"".concat(J,"Id"),$,V),ie=c.reduce(function(C,H){var W="".concat(H.axisType,"Map");return st(st({},C),{},tn({},W,Ade(F,st(st({},H),{},{graphicalItems:ce,stackGroups:H.axisType===k&&ne,dataStartIndex:U,dataEndIndex:D}))))},{}),te=Nde(st(st({},ie),{},{props:F,graphicalItems:ce}),O==null?void 0:O.legendBBox);Object.keys(ie).forEach(function(C){ie[C]=h(F,ie[C],te,C.replace("Map",""),n)});var fe=ie["".concat(J,"Map")],be=Ede(fe),re=g(F,st(st({},ie),{},{dataStartIndex:U,dataEndIndex:D,updateId:q,graphicalItems:ce,stackGroups:ne,offset:te}));return st(st({formattedGraphicalItems:re,graphicalItems:ce,offset:te,stackGroups:ne},be),ie)},N=(function(E){function I(O){var F,U,D;return sde(this,I),D=cde(this,I,[O]),tn(D,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tn(D,"accessibilityManager",new Hue),tn(D,"handleLegendBBoxUpdate",function(q){if(q){var P=D.state,j=P.dataStartIndex,$=P.dataEndIndex,G=P.updateId;D.setState(st({legendBBox:q},y({props:D.props,dataStartIndex:j,dataEndIndex:$,updateId:G},st(st({},D.state),{},{legendBBox:q}))))}}),tn(D,"handleReceiveSyncEvent",function(q,P,j){if(D.props.syncId===q){if(j===D.eventEmitterSymbol&&typeof D.props.syncMethod!="function")return;D.applySyncEvent(P)}}),tn(D,"handleBrushChange",function(q){var P=q.startIndex,j=q.endIndex;if(P!==D.state.dataStartIndex||j!==D.state.dataEndIndex){var $=D.state.updateId;D.setState(function(){return st({dataStartIndex:P,dataEndIndex:j},y({props:D.props,dataStartIndex:P,dataEndIndex:j,updateId:$},D.state))}),D.triggerSyncEvent({dataStartIndex:P,dataEndIndex:j})}}),tn(D,"handleMouseEnter",function(q){var P=D.getMouseInfo(q);if(P){var j=st(st({},P),{},{isTooltipActive:!0});D.setState(j),D.triggerSyncEvent(j);var $=D.props.onMouseEnter;wn($)&&$(j,q)}}),tn(D,"triggeredAfterMouseMove",function(q){var P=D.getMouseInfo(q),j=P?st(st({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};D.setState(j),D.triggerSyncEvent(j);var $=D.props.onMouseMove;wn($)&&$(j,q)}),tn(D,"handleItemMouseEnter",function(q){D.setState(function(){return{isTooltipActive:!0,activeItem:q,activePayload:q.tooltipPayload,activeCoordinate:q.tooltipPosition||{x:q.cx,y:q.cy}}})}),tn(D,"handleItemMouseLeave",function(){D.setState(function(){return{isTooltipActive:!1}})}),tn(D,"handleMouseMove",function(q){q.persist(),D.throttleTriggeredAfterMouseMove(q)}),tn(D,"handleMouseLeave",function(q){D.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};D.setState(P),D.triggerSyncEvent(P);var j=D.props.onMouseLeave;wn(j)&&j(P,q)}),tn(D,"handleOuterEvent",function(q){var P=DY(q),j=Wo(D.props,"".concat(P));if(P&&wn(j)){var $,G;/.*touch.*/i.test(P)?G=D.getMouseInfo(q.changedTouches[0]):G=D.getMouseInfo(q),j(($=G)!==null&&$!==void 0?$:{},q)}}),tn(D,"handleClick",function(q){var P=D.getMouseInfo(q);if(P){var j=st(st({},P),{},{isTooltipActive:!0});D.setState(j),D.triggerSyncEvent(j);var $=D.props.onClick;wn($)&&$(j,q)}}),tn(D,"handleMouseDown",function(q){var P=D.props.onMouseDown;if(wn(P)){var j=D.getMouseInfo(q);P(j,q)}}),tn(D,"handleMouseUp",function(q){var P=D.props.onMouseUp;if(wn(P)){var j=D.getMouseInfo(q);P(j,q)}}),tn(D,"handleTouchMove",function(q){q.changedTouches!=null&&q.changedTouches.length>0&&D.throttleTriggeredAfterMouseMove(q.changedTouches[0])}),tn(D,"handleTouchStart",function(q){q.changedTouches!=null&&q.changedTouches.length>0&&D.handleMouseDown(q.changedTouches[0])}),tn(D,"handleTouchEnd",function(q){q.changedTouches!=null&&q.changedTouches.length>0&&D.handleMouseUp(q.changedTouches[0])}),tn(D,"handleDoubleClick",function(q){var P=D.props.onDoubleClick;if(wn(P)){var j=D.getMouseInfo(q);P(j,q)}}),tn(D,"handleContextMenu",function(q){var P=D.props.onContextMenu;if(wn(P)){var j=D.getMouseInfo(q);P(j,q)}}),tn(D,"triggerSyncEvent",function(q){D.props.syncId!==void 0&&mE.emit(gE,D.props.syncId,q,D.eventEmitterSymbol)}),tn(D,"applySyncEvent",function(q){var P=D.props,j=P.layout,$=P.syncMethod,G=D.state.updateId,V=q.dataStartIndex,L=q.dataEndIndex;if(q.dataStartIndex!==void 0||q.dataEndIndex!==void 0)D.setState(st({dataStartIndex:V,dataEndIndex:L},y({props:D.props,dataStartIndex:V,dataEndIndex:L,updateId:G},D.state)));else if(q.activeTooltipIndex!==void 0){var k=q.chartX,J=q.chartY,ce=q.activeTooltipIndex,ne=D.state,ie=ne.offset,te=ne.tooltipTicks;if(!ie)return;if(typeof $=="function")ce=$(te,q);else if($==="value"){ce=-1;for(var fe=0;fe<te.length;fe++)if(te[fe].value===q.activeLabel){ce=fe;break}}var be=st(st({},ie),{},{x:ie.left,y:ie.top}),re=Math.min(k,be.x+be.width),C=Math.min(J,be.y+be.height),H=te[ce]&&te[ce].value,W=uN(D.state,D.props.data,ce),K=te[ce]?{x:j==="horizontal"?te[ce].coordinate:re,y:j==="horizontal"?C:te[ce].coordinate}:gV;D.setState(st(st({},q),{},{activeLabel:H,activeCoordinate:K,activePayload:W,activeTooltipIndex:ce}))}else D.setState(q)}),tn(D,"renderCursor",function(q){var P,j=D.state,$=j.isTooltipActive,G=j.activeCoordinate,V=j.activePayload,L=j.offset,k=j.activeTooltipIndex,J=j.tooltipAxisBandSize,ce=D.getTooltipEventType(),ne=(P=q.props.active)!==null&&P!==void 0?P:$,ie=D.props.layout,te=q.key||"_recharts-cursor";return Le.createElement(Zue,{key:te,activeCoordinate:G,activePayload:V,activeTooltipIndex:k,chartName:n,element:q,isActive:ne,layout:ie,offset:L,tooltipAxisBandSize:J,tooltipEventType:ce})}),tn(D,"renderPolarAxis",function(q,P,j){var $=Wo(q,"type.axisType"),G=Wo(D.state,"".concat($,"Map")),V=q.type.defaultProps,L=V!==void 0?st(st({},V),q.props):q.props,k=G&&G[L["".concat($,"Id")]];return xe.cloneElement(q,st(st({},k),{},{className:Qn($,k.className),key:q.key||"".concat(P,"-").concat(j),ticks:bu(k,!0)}))}),tn(D,"renderPolarGrid",function(q){var P=q.props,j=P.radialLines,$=P.polarAngles,G=P.polarRadius,V=D.state,L=V.radiusAxisMap,k=V.angleAxisMap,J=kd(L),ce=kd(k),ne=ce.cx,ie=ce.cy,te=ce.innerRadius,fe=ce.outerRadius;return xe.cloneElement(q,{polarAngles:Array.isArray($)?$:bu(ce,!0).map(function(be){return be.coordinate}),polarRadius:Array.isArray(G)?G:bu(J,!0).map(function(be){return be.coordinate}),cx:ne,cy:ie,innerRadius:te,outerRadius:fe,key:q.key||"polar-grid",radialLines:j})}),tn(D,"renderLegend",function(){var q=D.state.formattedGraphicalItems,P=D.props,j=P.children,$=P.width,G=P.height,V=D.props.margin||{},L=$-(V.left||0)-(V.right||0),k=cU({children:j,formattedGraphicalItems:q,legendWidth:L,legendContent:f});if(!k)return null;var J=k.item,ce=tM(k,ede);return xe.cloneElement(J,st(st({},ce),{},{chartWidth:$,chartHeight:G,margin:V,onBBoxUpdate:D.handleLegendBBoxUpdate}))}),tn(D,"renderTooltip",function(){var q,P=D.props,j=P.children,$=P.accessibilityLayer,G=po(j,yc);if(!G)return null;var V=D.state,L=V.isTooltipActive,k=V.activeCoordinate,J=V.activePayload,ce=V.activeLabel,ne=V.offset,ie=(q=G.props.active)!==null&&q!==void 0?q:L;return xe.cloneElement(G,{viewBox:st(st({},ne),{},{x:ne.left,y:ne.top}),active:ie,label:ce,payload:ie?J:[],coordinate:k,accessibilityLayer:$})}),tn(D,"renderBrush",function(q){var P=D.props,j=P.margin,$=P.data,G=D.state,V=G.offset,L=G.dataStartIndex,k=G.dataEndIndex,J=G.updateId;return xe.cloneElement(q,{key:q.key||"_recharts-brush",onChange:wy(D.handleBrushChange,q.props.onChange),data:$,x:_t(q.props.x)?q.props.x:V.left,y:_t(q.props.y)?q.props.y:V.top+V.height+V.brushBottom-(j.bottom||0),width:_t(q.props.width)?q.props.width:V.width,startIndex:L,endIndex:k,updateId:"brush-".concat(J)})}),tn(D,"renderReferenceElement",function(q,P,j){if(!q)return null;var $=D,G=$.clipPathId,V=D.state,L=V.xAxisMap,k=V.yAxisMap,J=V.offset,ce=q.type.defaultProps||{},ne=q.props,ie=ne.xAxisId,te=ie===void 0?ce.xAxisId:ie,fe=ne.yAxisId,be=fe===void 0?ce.yAxisId:fe;return xe.cloneElement(q,{key:q.key||"".concat(P,"-").concat(j),xAxis:L[te],yAxis:k[be],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:G})}),tn(D,"renderActivePoints",function(q){var P=q.item,j=q.activePoint,$=q.basePoint,G=q.childIndex,V=q.isRange,L=[],k=P.props.key,J=P.item.type.defaultProps!==void 0?st(st({},P.item.type.defaultProps),P.item.props):P.item.props,ce=J.activeDot,ne=J.dataKey,ie=st(st({index:G,dataKey:ne,cx:j.x,cy:j.y,r:4,fill:cC(P.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Pn(ce,!1)),bx(ce));return L.push(I.renderActiveDot(ce,ie,"".concat(k,"-activePoint-").concat(G))),$?L.push(I.renderActiveDot(ce,st(st({},ie),{},{cx:$.x,cy:$.y}),"".concat(k,"-basePoint-").concat(G))):V&&L.push(null),L}),tn(D,"renderGraphicChild",function(q,P,j){var $=D.filterFormatItem(q,P,j);if(!$)return null;var G=D.getTooltipEventType(),V=D.state,L=V.isTooltipActive,k=V.tooltipAxis,J=V.activeTooltipIndex,ce=V.activeLabel,ne=D.props.children,ie=po(ne,yc),te=$.props,fe=te.points,be=te.isRange,re=te.baseLine,C=$.item.type.defaultProps!==void 0?st(st({},$.item.type.defaultProps),$.item.props):$.item.props,H=C.activeDot,W=C.hide,K=C.activeBar,Q=C.activeShape,he=!!(!W&&L&&ie&&(H||K||Q)),_e={};G!=="axis"&&ie&&ie.props.trigger==="click"?_e={onClick:wy(D.handleItemMouseEnter,q.props.onClick)}:G!=="axis"&&(_e={onMouseLeave:wy(D.handleItemMouseLeave,q.props.onMouseLeave),onMouseEnter:wy(D.handleItemMouseEnter,q.props.onMouseEnter)});var ae=xe.cloneElement(q,st(st({},$.props),_e));function Ae(rt){return typeof k.dataKey=="function"?k.dataKey(rt.payload):null}if(he)if(J>=0){var Ce,Ne;if(k.dataKey&&!k.allowDuplicatedCategory){var Se=typeof k.dataKey=="function"?Ae:"payload.".concat(k.dataKey.toString());Ce=xx(fe,Se,ce),Ne=be&&re&&xx(re,Se,ce)}else Ce=fe==null?void 0:fe[J],Ne=be&&re&&re[J];if(Q||K){var Te=q.props.activeIndex!==void 0?q.props.activeIndex:J;return[xe.cloneElement(q,st(st(st({},$.props),_e),{},{activeIndex:Te})),null,null]}if(!qn(Ce))return[ae].concat(cm(D.renderActivePoints({item:$,activePoint:Ce,basePoint:Ne,childIndex:J,isRange:be})))}else{var se,X=(se=D.getItemByXY(D.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:ae},De=X.graphicalItem,Ke=De.item,Me=Ke===void 0?q:Ke,Ye=De.childIndex,Je=st(st(st({},$.props),_e),{},{activeIndex:Ye});return[xe.cloneElement(Me,Je),null,null]}return be?[ae,null,null]:[ae,null]}),tn(D,"renderCustomized",function(q,P,j){return xe.cloneElement(q,st(st({key:"recharts-customized-".concat(j)},D.props),D.state))}),tn(D,"renderMap",{CartesianGrid:{handler:Ty,once:!0},ReferenceArea:{handler:D.renderReferenceElement},ReferenceLine:{handler:Ty},ReferenceDot:{handler:D.renderReferenceElement},XAxis:{handler:Ty},YAxis:{handler:Ty},Brush:{handler:D.renderBrush,once:!0},Bar:{handler:D.renderGraphicChild},Line:{handler:D.renderGraphicChild},Area:{handler:D.renderGraphicChild},Radar:{handler:D.renderGraphicChild},RadialBar:{handler:D.renderGraphicChild},Scatter:{handler:D.renderGraphicChild},Pie:{handler:D.renderGraphicChild},Funnel:{handler:D.renderGraphicChild},Tooltip:{handler:D.renderCursor,once:!0},PolarGrid:{handler:D.renderPolarGrid,once:!0},PolarAngleAxis:{handler:D.renderPolarAxis},PolarRadiusAxis:{handler:D.renderPolarAxis},Customized:{handler:D.renderCustomized}}),D.clipPathId="".concat((F=O.id)!==null&&F!==void 0?F:iv("recharts"),"-clip"),D.throttleTriggeredAfterMouseMove=cF(D.triggeredAfterMouseMove,(U=O.throttleDelay)!==null&&U!==void 0?U:1e3/60),D.state={},D}return fde(I,E),lde(I,[{key:"componentDidMount",value:function(){var F,U;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(F=this.props.margin.left)!==null&&F!==void 0?F:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var F=this.props,U=F.children,D=F.data,q=F.height,P=F.layout,j=po(U,yc);if(j){var $=j.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,V=uN(this.state,D,$,G),L=this.state.tooltipTicks[$].coordinate,k=(this.state.offset.top+q)/2,J=P==="horizontal",ce=J?{x:L,y:k}:{y:L,x:k},ne=this.state.formattedGraphicalItems.find(function(te){var fe=te.item;return fe.type.name==="Scatter"});ne&&(ce=st(st({},ce),ne.props.points[$].tooltipPosition),V=ne.props.points[$].tooltipPayload);var ie={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:G,activePayload:V,activeCoordinate:ce};this.setState(ie),this.renderCursor(j),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(F,U){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==U.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==F.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==F.margin){var D,q;this.accessibilityManager.setDetails({offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:(q=this.props.margin.top)!==null&&q!==void 0?q:0}})}return null}},{key:"componentDidUpdate",value:function(F){JE([po(F.children,yc)],[po(this.props.children,yc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var F=po(this.props.children,yc);if(F&&typeof F.props.shared=="boolean"){var U=F.props.shared?"axis":"item";return l.indexOf(U)>=0?U:a}return a}},{key:"getMouseInfo",value:function(F){if(!this.container)return null;var U=this.container,D=U.getBoundingClientRect(),q=AZ(D),P={chartX:Math.round(F.pageX-q.left),chartY:Math.round(F.pageY-q.top)},j=D.width/U.offsetWidth||1,$=this.inRange(P.chartX,P.chartY,j);if(!$)return null;var G=this.state,V=G.xAxisMap,L=G.yAxisMap,k=this.getTooltipEventType(),J=rM(this.state,this.props.data,this.props.layout,$);if(k!=="axis"&&V&&L){var ce=kd(V).scale,ne=kd(L).scale,ie=ce&&ce.invert?ce.invert(P.chartX):null,te=ne&&ne.invert?ne.invert(P.chartY):null;return st(st({},P),{},{xValue:ie,yValue:te},J)}return J?st(st({},P),J):null}},{key:"inRange",value:function(F,U){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,q=this.props.layout,P=F/D,j=U/D;if(q==="horizontal"||q==="vertical"){var $=this.state.offset,G=P>=$.left&&P<=$.left+$.width&&j>=$.top&&j<=$.top+$.height;return G?{x:P,y:j}:null}var V=this.state,L=V.angleAxisMap,k=V.radiusAxisMap;if(L&&k){var J=kd(L);return _j({x:P,y:j},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var F=this.props.children,U=this.getTooltipEventType(),D=po(F,yc),q={};D&&U==="axis"&&(D.props.trigger==="click"?q={onClick:this.handleClick}:q={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=bx(this.props,this.handleOuterEvent);return st(st({},P),q)}},{key:"addListener",value:function(){mE.on(gE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mE.removeListener(gE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(F,U,D){for(var q=this.state.formattedGraphicalItems,P=0,j=q.length;P<j;P++){var $=q[P];if($.item===F||$.props.key===F.key||U===Su($.item.type)&&D===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var F=this.clipPathId,U=this.state.offset,D=U.left,q=U.top,P=U.height,j=U.width;return Le.createElement("defs",null,Le.createElement("clipPath",{id:F},Le.createElement("rect",{x:D,y:q,height:P,width:j})))}},{key:"getXScales",value:function(){var F=this.state.xAxisMap;return F?Object.entries(F).reduce(function(U,D){var q=eM(D,2),P=q[0],j=q[1];return st(st({},U),{},tn({},P,j.scale))},{}):null}},{key:"getYScales",value:function(){var F=this.state.yAxisMap;return F?Object.entries(F).reduce(function(U,D){var q=eM(D,2),P=q[0],j=q[1];return st(st({},U),{},tn({},P,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(F){var U;return(U=this.state.xAxisMap)===null||U===void 0||(U=U[F])===null||U===void 0?void 0:U.scale}},{key:"getYScaleByAxisId",value:function(F){var U;return(U=this.state.yAxisMap)===null||U===void 0||(U=U[F])===null||U===void 0?void 0:U.scale}},{key:"getItemByXY",value:function(F){var U=this.state,D=U.formattedGraphicalItems,q=U.activeItem;if(D&&D.length)for(var P=0,j=D.length;P<j;P++){var $=D[P],G=$.props,V=$.item,L=V.type.defaultProps!==void 0?st(st({},V.type.defaultProps),V.props):V.props,k=Su(V.type);if(k==="Bar"){var J=(G.data||[]).find(function(te){return zse(F,te)});if(J)return{graphicalItem:$,payload:J}}else if(k==="RadialBar"){var ce=(G.data||[]).find(function(te){return _j(F,te)});if(ce)return{graphicalItem:$,payload:ce}}else if(hb($,q)||pb($,q)||U0($,q)){var ne=joe({graphicalItem:$,activeTooltipItem:q,itemData:L.data}),ie=L.activeIndex===void 0?ne:L.activeIndex;return{graphicalItem:st(st({},$),{},{childIndex:ie}),payload:U0($,q)?L.data[ne]:$.props.data[ne]}}}return null}},{key:"render",value:function(){var F=this;if(!k3(this))return null;var U=this.props,D=U.children,q=U.className,P=U.width,j=U.height,$=U.style,G=U.compact,V=U.title,L=U.desc,k=tM(U,tde),J=Pn(k,!1);if(G)return Le.createElement(MD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Le.createElement(ZE,xp({},J,{width:P,height:j,title:V,desc:L}),this.renderClipPath(),j3(D,this.renderMap)));if(this.props.accessibilityLayer){var ce,ne;J.tabIndex=(ce=this.props.tabIndex)!==null&&ce!==void 0?ce:0,J.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",J.onKeyDown=function(te){F.accessibilityManager.keyboardEvent(te)},J.onFocus=function(){F.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return Le.createElement(MD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Le.createElement("div",xp({className:Qn("recharts-wrapper",q),style:st({position:"relative",cursor:"default",width:P,height:j},$)},ie,{ref:function(fe){F.container=fe}}),Le.createElement(ZE,xp({},J,{width:P,height:j,title:V,desc:L,style:yde}),this.renderClipPath(),j3(D,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(xe.Component);tn(N,"displayName",n),tn(N,"defaultProps",st({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),tn(N,"getDerivedStateFromProps",function(E,I){var O=E.dataKey,F=E.data,U=E.children,D=E.width,q=E.height,P=E.layout,j=E.stackOffset,$=E.margin,G=I.dataStartIndex,V=I.dataEndIndex;if(I.updateId===void 0){var L=iM(E);return st(st(st({},L),{},{updateId:0},y(st(st({props:E},L),{},{updateId:0}),I)),{},{prevDataKey:O,prevData:F,prevWidth:D,prevHeight:q,prevLayout:P,prevStackOffset:j,prevMargin:$,prevChildren:U})}if(O!==I.prevDataKey||F!==I.prevData||D!==I.prevWidth||q!==I.prevHeight||P!==I.prevLayout||j!==I.prevStackOffset||!Sp($,I.prevMargin)){var k=iM(E),J={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},ce=st(st({},rM(I,F,P)),{},{updateId:I.updateId+1}),ne=st(st(st({},k),J),ce);return st(st(st({},ne),y(st({props:E},ne),I)),{},{prevDataKey:O,prevData:F,prevWidth:D,prevHeight:q,prevLayout:P,prevStackOffset:j,prevMargin:$,prevChildren:U})}if(!JE(U,I.prevChildren)){var ie,te,fe,be,re=po(U,Zp),C=re&&(ie=(te=re.props)===null||te===void 0?void 0:te.startIndex)!==null&&ie!==void 0?ie:G,H=re&&(fe=(be=re.props)===null||be===void 0?void 0:be.endIndex)!==null&&fe!==void 0?fe:V,W=C!==G||H!==V,K=!qn(F),Q=K&&!W?I.updateId:I.updateId+1;return st(st({updateId:Q},y(st(st({props:E},I),{},{updateId:Q,dataStartIndex:C,dataEndIndex:H}),I)),{},{prevChildren:U,dataStartIndex:C,dataEndIndex:H})}return null}),tn(N,"renderActiveDot",function(E,I,O){var F;return xe.isValidElement(E)?F=xe.cloneElement(E,I):wn(E)?F=E(I):F=Le.createElement(dC,I),Le.createElement(oi,{className:"recharts-active-dot",key:O},F)});var A=xe.forwardRef(function(I,O){return Le.createElement(N,xp({},I,{ref:O}))});return A.displayName=N.displayName,A},Ide=Cde({chartName:"AreaChart",GraphicalChild:mf,axisComponents:[{axisType:"xAxis",AxisComp:bb},{axisType:"yAxis",AxisComp:_b}],formatAxisMap:Rle});const Rde=({sales:t,stock:e,transactions:n,batches:r,clients:i,onBack:a})=>{const[s,l]=xe.useState(null),[c,f]=xe.useState(!1),[h,m]=xe.useState(new Set),[g,y]=xe.useState("commercial"),[N,A]=xe.useState(!1),E=Array.isArray(t)?t:[],I=Array.isArray(e)?e:[],O=Array.isArray(r)?r:[],F=Array.isArray(i)?i:[],U=E.reduce((k,J)=>k+J.peso_real_saida*J.preco_venda_kg,0),D=E.reduce((k,J)=>k+J.peso_real_saida,0),q=E.reduce((k,J)=>k+(J.quebra_kg||0),0),P=E.filter(k=>k.status_pagamento==="PENDENTE").reduce((k,J)=>{const ce=J.peso_real_saida*J.preco_venda_kg,ne=J.valor_pago||0;return k+(ce-ne)},0),j=E.slice(-12).map((k,J)=>({name:`V${J+1}`,lucro:(k.lucro_liquido_unitario||0)*k.peso_real_saida,valor:k.peso_real_saida*k.preco_venda_kg})),$=xe.useMemo(()=>{const k=new Map;return E.forEach(J=>{const ce=I.find(H=>H.id_completo===J.id_completo),ne=ce?O.find(H=>H.id_lote===ce.id_lote):null,ie=F.find(H=>H.id_ferro===J.id_cliente),te=(ne==null?void 0:ne.id_lote)||"sem-lote";k.has(te)||k.set(te,[]);const fe=J.peso_real_saida*J.preco_venda_kg,be=ne&&Number(ne.custo_real_kg)||0,re=J.peso_real_saida*be+(J.custo_extras_total||0),C=fe-re;k.get(te).push({sale:J,item:ce,batch:ne,client:ie,revenue:fe,cost:re,profit:C})}),Array.from(k.entries()).map(([J,ce])=>{const ne=ce[0].batch,ie=ce.reduce((be,re)=>be+re.revenue,0),te=ce.reduce((be,re)=>be+re.cost,0),fe=ce.reduce((be,re)=>be+re.profit,0);return{batchId:J,batch:ne,items:ce,totalRevenue:ie,totalCost:te,totalProfit:fe,supplier:(ne==null?void 0:ne.fornecedor)||"Desconhecido"}}).sort((J,ce)=>ce.totalRevenue-J.totalRevenue)},[E,I,O,F]),G=xe.useMemo(()=>{const k=[];$.forEach(ce=>{const ne=ce.items.reduce((fe,be)=>{var re;return fe+(((re=be.item)==null?void 0:re.peso_entrada)||0)},0),ie=ce.items.reduce((fe,be)=>fe+be.sale.peso_real_saida,0),te=ne>0?ie/ne*100:100;te<95&&k.push({type:"critical",message:`Quebra Crtica: Lote ${ce.batchId.slice(0,8)}`,detail:`Rendimento de ${te.toFixed(1)}% detectado. Verifique cmara fria.`})}),i.forEach(ce=>{(ce.tier==="F"||ce.score<300)&&k.push({type:"critical",message:`Risco de Crdito: ${ce.nome_social}`,detail:"Cliente em Nvel F detectado. Operaes de venda devem ser bloqueadas."})});const J=new Date;return e.filter(ce=>ce.status==="DISPONIVEL").forEach(ce=>{const ne=new Date(ce.data_entrada),ie=Math.floor((J.getTime()-ne.getTime())/(1e3*3600*24));ie>12&&k.push({type:"warning",message:`Item Envelhecido: ${ce.id_completo}`,detail:`Pea com ${ie} dias em estoque. Prioritize sada para evitar perda de peso.`})}),k},[$,i,e]),V=k=>{const J=new Set(h);J.has(k)?J.delete(k):J.add(k),m(J)},L=async()=>{f(!0),await new Promise(k=>setTimeout(k,800)),A(!0),G.length>0?l(`Core IA detectou ${G.length} pontos de ateno operacional. Recomendamos auditoria imediata nos lotes com quebra acentuada.`):l("Integridade operacional verificada. Sem anomalias crticas no ciclo atual."),f(!1)};return u.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:g==="commercial"?u.jsx(Z7,{size:28}):u.jsx(As,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:[g==="commercial"?"Performance ":"Analtico de ",u.jsx("span",{className:"text-blue-600",children:g==="commercial"?"Comercial":"Rendimento"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:g==="commercial"?"Painel Analtico de Fluxo Industrial":"Monitoramento de Yield e Queba Industrial"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[u.jsx("button",{onClick:()=>y("commercial"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="commercial"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Comercial"}),u.jsx("button",{onClick:()=>y("yield"),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g==="yield"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Rendimento"})]}),u.jsxs("button",{onClick:L,disabled:c,className:"bg-white border border-gray-200 text-gray-700 px-6 py-3 rounded-2xl font-bold text-xs uppercase tracking-widest hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm flex items-center gap-3 disabled:opacity-50",children:[c?u.jsx(As,{className:"animate-spin text-blue-600",size:16}):u.jsx(t9,{className:"text-blue-600",size:16}),"IA Insight"]})]})]}),N&&u.jsxs("div",{className:"mb-10 grid grid-cols-1 lg:grid-cols-3 gap-6 animate-reveal",children:[u.jsxs("div",{className:"lg:col-span-1 bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:u.jsx(HE,{size:80})}),u.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400 mb-6 flex items-center gap-2",children:[u.jsx(os,{size:14,className:"fill-blue-400"})," IA Insights Operacionais"]}),u.jsxs("p",{className:"text-sm font-medium leading-relaxed italic border-l-2 border-blue-500 pl-4",children:['"',s,'"']}),u.jsx("button",{onClick:()=>A(!1),className:"mt-8 text-[9px] font-black uppercase text-slate-500 hover:text-white transition-colors",children:"OCULTAR PAINEL IA"})]}),u.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[G.slice(0,4).map((k,J)=>u.jsxs("div",{className:`p-6 rounded-[24px] border-l-4 shadow-sm flex items-start gap-4 animate-reveal ${k.type==="critical"?"bg-rose-50 border-rose-500":k.type==="warning"?"bg-orange-50 border-orange-500":"bg-blue-50 border-blue-500"}`,children:[u.jsx("div",{className:`p-2 rounded-xl ${k.type==="critical"?"bg-rose-500 text-white":k.type==="warning"?"bg-orange-500 text-white":"bg-blue-500 text-white"}`,children:k.type==="critical"?u.jsx(Qd,{size:16}):u.jsx(XH,{size:16})}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-[11px] font-black text-slate-900 uppercase italic mb-1",children:k.message}),u.jsx("p",{className:"text-[10px] font-medium text-slate-500 leading-tight",children:k.detail})]})]},J)),G.length===0&&u.jsxs("div",{className:"md:col-span-2 p-10 bg-emerald-50 rounded-[24px] border-l-4 border-emerald-500 flex flex-col items-center justify-center text-center",children:[u.jsx(Lc,{size:40,className:"text-emerald-500 mb-2"}),u.jsx("h5",{className:"text-xs font-black text-emerald-900 uppercase",children:"Ambiente Seguro"}),u.jsx("p",{className:"text-[10px] font-medium text-emerald-600",children:"Nenhum risco detectado pelo monitor IA."})]})]})]}),g==="commercial"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{label:"Receita Total",val:U,icon:Au,color:"text-blue-600",bg:"bg-blue-50"},{label:"Fluxo Pendente",val:P,icon:n9,color:"text-amber-600",bg:"bg-amber-50"},{label:"Volume Expedido",val:D,icon:Mc,color:"text-emerald-600",bg:"bg-emerald-50",fmt:"w"},{label:"ndice de Quebra",val:q,icon:vx,color:"text-rose-600",bg:"bg-rose-50",fmt:"w"}].map((k,J)=>u.jsxs("div",{className:"premium-card bg-white p-6 rounded-3xl group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("div",{className:`${k.bg} ${k.color} p-3 rounded-2xl`,children:u.jsx(k.icon,{size:20})}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-100 group-hover:bg-blue-500 transition-colors"})]}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:k.label}),u.jsx("p",{className:"text-2xl font-extrabold text-gray-900",children:k.fmt==="w"?Rr(k.val):Pt(k.val)})]},J))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[u.jsxs("div",{className:"lg:col-span-2 premium-card bg-white p-6 rounded-3xl h-[400px] flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Monitoramento de Vendas"}),u.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"Fluxo de caixa das ltimas 12 operaes"})]}),u.jsx("div",{className:"bg-blue-50 px-3 py-1 rounded-full text-blue-600 font-bold text-[9px] uppercase tracking-widest",children:"Tempo Real"})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(gZ,{width:"100%",height:"100%",children:u.jsxs(Ide,{data:j,margin:{top:0,right:0,left:-20,bottom:0},children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorBrand",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.15}),u.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),u.jsx(eV,{strokeDasharray:"4 4",stroke:"#f1f5f9",vertical:!1}),u.jsx(bb,{dataKey:"name",stroke:"#94a3b8",tick:{fontSize:10,fontWeight:600},axisLine:!1,tickLine:!1}),u.jsx(_b,{tick:{fontSize:10,fontWeight:600,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:k=>`R$${k/1e3}k`}),u.jsx(yc,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontSize:"11px",fontWeight:"bold"}}),u.jsx(mf,{type:"monotone",dataKey:"valor",stroke:"#2563eb",strokeWidth:3,fill:"url(#colorBrand)"})]})})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-8",children:"Estado do Sistema"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold",children:"L"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lotes Totais"}),u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[O.length," Registros"]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center font-bold",children:"V"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Unidades Vendidas"}),u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[E.length," Itens"]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold",children:"C"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Base de Clientes"}),u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[F.length," Ativos"]})]})]})]}),u.jsx("div",{className:"mt-auto pt-6 border-t border-gray-50",children:u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(os,{size:10,className:"text-amber-500 fill-amber-500"}),u.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Otimizao de Custos"})]}),u.jsx("div",{className:"w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-emerald-500 h-full w-[85%]"})})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(Cu,{size:16,className:"text-blue-600"}),"Detalhamento por Lote"]}),u.jsxs("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[$.length," Entradas"]})]}),u.jsxs("div",{className:"divide-y divide-gray-50",children:[$.map(({batchId:k,batch:J,items:ce,totalRevenue:ne,totalCost:ie,totalProfit:te,supplier:fe})=>{const be=h.has(k);return u.jsxs("div",{className:"group",children:[u.jsxs("div",{onClick:()=>V(k),className:`p-6 flex flex-col md:flex-row items-start md:items-center justify-between cursor-pointer transition-all gap-6 ${be?"bg-blue-50/30":"hover:bg-gray-50/50"}`,children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-bold uppercase tracking-wider",children:k.slice(0,8)}),u.jsx("h4",{className:"text-md font-bold text-gray-800",children:J?J.id_lote:"Lote Avulso"})]}),u.jsxs("p",{className:"text-[11px] text-gray-400 font-medium",children:["Fornecedor: ",fe,"  Itens: ",ce.length]})]}),u.jsxs("div",{className:"flex items-center gap-10",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Venda Bruta"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:Pt(ne)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tighter",children:"Lucro Lquido"}),u.jsx("p",{className:`text-sm font-extrabold ${te>=0?"text-emerald-600":"text-rose-600"}`,children:Pt(te)})]}),u.jsx("div",{className:`p-2 rounded-xl transition-all ${be?"bg-blue-100 text-blue-600 rotate-90":"text-gray-300"}`,children:u.jsx(Dc,{size:18})})]})]}),be&&u.jsx("div",{className:"bg-[#fcfdff] border-t border-blue-50 px-6 py-4",children:u.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Venda"}),u.jsx("th",{children:"Cliente"}),u.jsx("th",{children:"Item"}),u.jsx("th",{className:"text-right",children:"Peso"}),u.jsx("th",{className:"text-right",children:"Valor"}),u.jsx("th",{className:"text-right",children:"Lucro"})]})}),u.jsx("tbody",{children:ce.map((re,C)=>{var H,W;return u.jsxs("tr",{children:[u.jsx("td",{className:"text-[10px] font-bold text-gray-500 uppercase",children:new Date(re.sale.data_venda).toLocaleDateString()}),u.jsx("td",{className:"font-bold text-gray-800",children:((H=re.client)==null?void 0:H.nome_social)||re.sale.nome_cliente||"Varejo"}),u.jsx("td",{children:u.jsx("span",{className:"font-mono text-[9px] text-blue-600 font-bold",children:((W=re.item)==null?void 0:W.id_completo)||re.sale.id_completo})}),u.jsx("td",{className:"text-right font-medium text-gray-600",children:Rr(re.sale.peso_real_saida)}),u.jsx("td",{className:"text-right font-bold text-gray-900",children:Pt(re.revenue)}),u.jsx("td",{className:`text-right font-bold ${re.profit>=0?"text-emerald-600":"text-rose-600"}`,children:Pt(re.profit)})]},C)})})]})})})]},k)}),$.length===0&&u.jsxs("div",{className:"text-center py-20 text-gray-300",children:[u.jsx(Cu,{size:48,className:"mx-auto mb-4 opacity-10"}),u.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})]})]})]}):u.jsxs("div",{className:"animate-reveal space-y-10",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(()=>{const k=$.reduce((ne,ie)=>{const te=ie.items.reduce((fe,be)=>{var re;return fe+(((re=be.item)==null?void 0:re.peso_entrada)||0)},0);return ne+te},0),J=$.reduce((ne,ie)=>ne+ie.items.reduce((te,fe)=>te+fe.sale.peso_real_saida,0),0),ce=k>0?J/k*100:0;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"premium-card p-10 bg-slate-900 text-white relative flex flex-col justify-center",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:u.jsx(As,{size:80})}),u.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-4",children:"Yield Industrial Global"}),u.jsxs("h3",{className:"text-6xl font-black tracking-tighter",children:[ce.toFixed(1),"%"]}),u.jsx("p",{className:"text-xs font-bold text-slate-500 mt-4 uppercase tracking-widest",children:"Aproveitamento Mdio"})]}),u.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Total Quebra Detectada"}),u.jsx("h3",{className:"text-4xl font-black text-rose-600 tracking-tight",children:Rr(q)}),u.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[u.jsx(vx,{size:14,className:"text-rose-600"}),u.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Impacto direto na margem"})]})]}),u.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col justify-center",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Eficincia de Resfriamento"}),u.jsx("h3",{className:"text-4xl font-black text-emerald-600 tracking-tight",children:"97.8%"}),u.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[u.jsx(qp,{size:14,className:"text-emerald-600"}),u.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Status Operacional: Estvel"})]})]})]})})()}),u.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-slate-50/50",children:[u.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Auditria de Rendimento por Lote"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),u.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:[">"," 97% Bom"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),u.jsxs("span",{className:"text-[8px] font-black uppercase text-slate-400",children:["<"," 95% Crtico"]})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Identificao"}),u.jsx("th",{children:"Entrada Bruta"}),u.jsx("th",{children:"Sada Lquida"}),u.jsx("th",{className:"text-right",children:"Quebra (kg)"}),u.jsx("th",{className:"text-right",children:"Rendimento %"}),u.jsx("th",{className:"w-40 text-center",children:"Status Industrial"})]})}),u.jsx("tbody",{children:$.map(k=>{const J=k.items.reduce((te,fe)=>{var be;return te+(((be=fe.item)==null?void 0:be.peso_entrada)||0)},0),ce=k.items.reduce((te,fe)=>te+fe.sale.peso_real_saida,0),ne=J-ce,ie=J>0?ce/J*100:0;return u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[u.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:["Lote ",k.batchId.slice(0,8),"  ",k.supplier]}),u.jsx("td",{className:"font-bold text-slate-500",children:Rr(J)}),u.jsx("td",{className:"font-black text-slate-900",children:Rr(ce)}),u.jsx("td",{className:"text-right font-black text-rose-500",children:Rr(ne)}),u.jsxs("td",{className:`text-right font-black text-lg ${ie>97?"text-emerald-600":ie<95?"text-rose-600":"text-slate-900"}`,children:[ie.toFixed(2),"%"]}),u.jsx("td",{className:"text-center",children:u.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${ie>97?"bg-emerald-50 text-emerald-600 border border-emerald-100":ie<95?"bg-rose-50 text-rose-600 border border-rose-100":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:ie>97?"ALTA EFICINCIA":ie<95?"QUEBA ACENTUADA":"ESTVEL"})})]},k.batchId)})})]})})]}),u.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100",children:[u.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-8",children:u.jsx(uH,{size:40,className:"text-slate-200"})}),u.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.6em]",children:"Projeo de Curva de Perda Industrial"}),u.jsx("p",{className:"text-[9px] font-bold text-slate-200 mt-4 uppercase",children:"IA est processando variaes sazonais..."})]})]})]})})},Ode=({clients:t,addClient:e,updateClient:n,onBack:r,onGoToFinancial:i,sales:a,transactions:s,batches:l})=>{const[c,f]=xe.useState(""),[h,m]=xe.useState(!1),[g,y]=xe.useState({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}),[N,A]=xe.useState(null),[E,I]=xe.useState(!1),[O,F]=xe.useState(null),[U,D]=xe.useState("overview"),q=t.filter(k=>k.status!=="INATIVO"&&(k.id_ferro.includes(c)||k.nome_social.toLowerCase().includes(c.toLowerCase()))).sort((k,J)=>k.nome_social.localeCompare(J.nome_social)),P=k=>{k.preventDefault(),g.id_ferro&&g.nome_social&&(e(g),m(!1),y({id_ferro:"",nome_social:"",whatsapp:"",cpf_cnpj:"",telefone_residencial:"",endereco:"",bairro:"",cidade:"",cep:"",observacoes:"",limite_credito:0,saldo_devedor:0}))},j=k=>{k.preventDefault(),O&&n&&(n(O),A(O),I(!1))},$=k=>`https://wa.me/55${k.replace(/\D/g,"")}`,G=xe.useMemo(()=>{var Se;if(!N)return null;const k=N.id_ferro,J=a.filter(Te=>Te.id_cliente===k&&Te.status_pagamento!=="ESTORNADO"),ce=J.reduce((Te,se)=>Te+se.peso_real_saida*se.preco_venda_kg,0),ne=J.reduce((Te,se)=>Te+(se.valor_pago||0),0),ie=ce-ne,te=J.reduce((Te,se)=>{const X=se.peso_real_saida*se.preco_venda_kg,De=l.find(Je=>se.id_completo.startsWith(Je.id_lote)),Ke=De&&De.custo_real_kg||0,Me=se.peso_real_saida*Ke,Ye=se.custo_extras_total||0;return Te+(X-Me-Ye)},0),fe=J.reduce((Te,se)=>Te+se.peso_real_saida,0),be=J.filter(Te=>Te.status_pagamento==="PAGO"),re=J.filter(Te=>Te.status_pagamento==="PENDENTE"),C=new Date(jg);let H=0,W=0,K=0;be.forEach(Te=>{const se=s.find(Ke=>(Ke.referencia_id===Te.id_venda||Ke.id.includes(Te.id_venda))&&Ke.tipo==="ENTRADA"&&Ke.categoria==="VENDA"),X=se?new Date(se.data):C,De=new Date(Te.data_vencimento||Te.data_venda);X<=De?H++:(W++,K+=Math.ceil((X.getTime()-De.getTime())/(1e3*60*60*24)))});const Q=re.filter(Te=>Te.data_vencimento&&Te.data_vencimento<jg),he=be.length>0?H/be.length*100:100,_e=W>0?K/W:0,ae={};s.filter(Te=>Te.tipo==="ENTRADA"&&Te.categoria==="VENDA"&&J.some(se=>Te.referencia_id===se.id_venda||Te.id.includes(se.id_venda))).forEach(Te=>{const se=Te.metodo_pagamento||"OUTROS";ae[se]=(ae[se]||0)+1});const Ce=((Se=Object.entries(ae).sort((Te,se)=>se[1]-Te[1])[0])==null?void 0:Se[0])||"N/A",Ne=Object.values(ae).reduce((Te,se)=>Te+se,0);return{clientSales:J.sort((Te,se)=>new Date(se.data_venda).getTime()-new Date(Te.data_venda).getTime()),totalFaturado:ce,totalPago:ne,saldoDevedor:ie,totalLucro:te,totalKg:fe,salesPagas:be.length,salesPendentes:re.length,pagasEmDia:H,pagasAtrasadas:W,percEmDia:he,mediaDiasAtraso:_e,vendasVencidas:Q.length,metodos:ae,metodoPreferido:Ce,totalTxMetodo:Ne,totalVendas:J.length}},[N,a,s,l]),V=k=>{const J=a.filter(ie=>ie.id_cliente===k&&ie.status_pagamento!=="ESTORNADO"),ce=J.reduce((ie,te)=>ie+te.peso_real_saida*te.preco_venda_kg,0),ne=J.reduce((ie,te)=>ie+(te.valor_pago||0),0);return ce-ne},L=k=>`${k.toFixed(1)} kg`;return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:r,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-emerald-600 p-3 rounded-2xl text-white shadow-xl shadow-emerald-100",children:u.jsx(bH,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",u.jsx("span",{className:"text-emerald-600",children:"Clientes"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Central de Relacionamento e Crdito / ID-CRM"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[u.jsxs("div",{className:"relative group w-full sm:w-80",children:[u.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:16}),u.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou ID...",className:"modern-input pl-12 bg-white",value:c,onChange:k=>f(k.target.value)})]}),u.jsxs("button",{onClick:()=>m(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 shadow-lg shadow-blue-100",children:[u.jsx(s9,{size:18})," Novo Cliente"]})]})]}),h&&u.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[u.jsxs("div",{className:"bg-emerald-600 p-8 text-white flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Cadastro de Entidade"}),u.jsx("p",{className:"text-[10px] text-emerald-100 font-bold uppercase tracking-widest mt-1",children:"Mdulo de Entrada Segura / CRM-01"})]}),u.jsx("button",{onClick:()=>m(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:u.jsx(Iu,{size:20})})]}),u.jsxs("form",{onSubmit:P,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"ID / Marca"}),u.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: 77",value:g.id_ferro,onChange:k=>y({...g,id_ferro:k.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"md:col-span-8",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Nome Social / Razo Social"}),u.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"NOME COMPLETO DO CLIENTE",value:g.nome_social,onChange:k=>y({...g,nome_social:k.target.value.toUpperCase()})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CPF / CNPJ"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:g.cpf_cnpj,onChange:k=>y({...g,cpf_cnpj:k.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"WhatsApp"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:g.whatsapp,onChange:k=>y({...g,whatsapp:k.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Telefone Fixo"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 0000-0000",value:g.telefone_residencial,onChange:k=>y({...g,telefone_residencial:k.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4 border-t border-gray-50",children:[u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"CEP"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"00000-000",value:g.cep,onChange:k=>y({...g,cep:k.target.value})})]}),u.jsxs("div",{className:"md:col-span-5",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Endereo"}),u.jsx("input",{type:"text",className:"modern-input",value:g.endereco,onChange:k=>y({...g,endereco:k.target.value})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Bairro"}),u.jsx("input",{type:"text",className:"modern-input",value:g.bairro,onChange:k=>y({...g,bairro:k.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Cidade / UF"}),u.jsx("input",{type:"text",className:"modern-input",value:g.cidade,onChange:k=>y({...g,cidade:k.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest mb-2 block",children:"Limite de Crdito"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-bold text-emerald-600 text-sm",children:"R$"}),u.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input pl-12 bg-emerald-50 border-emerald-100 text-emerald-700 font-bold",placeholder:"Limite",value:g.limite_credito||"",onChange:k=>{const J=k.target.value.replace(",",".");(J===""||/^\d*\.?\d*$/.test(J))&&y({...g,limite_credito:Number(J)||0})}})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[u.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-emerald-600 hover:bg-emerald-700",children:"Finalizar Registro"})]})]})]})}),u.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-24 text-center",children:"ID"}),u.jsx("th",{children:"Titular / Razo Social"}),u.jsx("th",{className:"hidden md:table-cell",children:"Localizao"}),u.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),u.jsx("th",{className:"text-center",children:"Score de Crdito"}),u.jsx("th",{className:"text-right",children:"Saldo Devedor"}),u.jsx("th",{className:"w-16"})]})}),u.jsx("tbody",{children:q.map(k=>{const J=V(k.id_ferro);return u.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[u.jsx("td",{className:"text-center",children:u.jsx("div",{onClick:()=>{A(k),I(!1),D("overview")},className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center font-mono font-bold text-gray-500 group-hover:bg-blue-600 group-hover:text-white transition-all cursor-pointer mx-auto",children:k.id_ferro})}),u.jsx("td",{children:u.jsxs("div",{onClick:()=>{A(k),I(!1),D("overview")},className:"cursor-pointer",children:[u.jsx("p",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:k.nome_social}),u.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:k.cpf_cnpj||"SEM DOCUMENTO"})]})}),u.jsx("td",{className:"hidden md:table-cell",children:k.cidade?u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[u.jsx(hx,{size:12,className:"text-blue-500"})," ",k.cidade]}),u.jsx("span",{className:"text-[10px] text-gray-400",children:k.bairro})]}):u.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO DEFINIDO"})}),u.jsx("td",{className:"hidden sm:table-cell",children:k.whatsapp?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-xs font-bold text-gray-700",children:k.whatsapp}),u.jsx("a",{href:$(k.whatsapp),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):u.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),u.jsx("td",{className:"text-center",children:(()=>{const ce=AO(k,a,jg);return u.jsxs("div",{className:"flex flex-col items-center gap-1",children:[u.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((ne,ie)=>u.jsx(yO,{size:10,className:ie<ce.stars?"fill-amber-400 text-amber-400":"text-slate-200"},ie))}),u.jsxs("span",{className:`text-[9px] font-black px-2 py-0.5 rounded-md border ${ce.color} ${ce.bg} ${ce.border}`,children:["NVEL ",ce.tier]})]})})()}),u.jsx("td",{className:"text-right",children:u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:`text-sm font-bold ${J>.01?"text-rose-600":"text-emerald-600"}`,children:Pt(J)}),J>.01&&u.jsx("span",{className:"text-[9px] font-bold text-rose-300 uppercase tracking-tighter",children:"Em Aberto"})]})}),u.jsx("td",{className:"text-center",children:u.jsx(Dc,{size:18,className:"text-gray-300 group-hover:text-blue-500 transition-all transform group-hover:translate-x-1"})})]},k.id_ferro)})})]})})}),N&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden flex flex-col relative border border-white",children:[u.jsxs("div",{className:`p-8 flex justify-between items-center ${E?"bg-amber-50":"bg-slate-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 font-black text-3xl shadow-sm border border-slate-100",children:N.id_ferro}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:N.nome_social}),u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:E?"Editor de Registro Master":`Matrcula #${N.cpf_cnpj||"---"}`})]})]}),u.jsx("button",{onClick:()=>A(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:u.jsx(Iu,{size:24})})]}),!E&&u.jsx("div",{className:"px-8 pt-4 flex gap-2 border-b border-slate-100",children:["overview","history","behavior"].map(k=>u.jsx("button",{onClick:()=>D(k),className:`px-5 py-3 rounded-t-2xl text-[10px] font-black uppercase tracking-widest transition-all ${U===k?"bg-white text-slate-900 border border-b-0 border-slate-100 -mb-px":"text-slate-400 hover:text-slate-600"}`,children:k==="overview"?" Viso Geral":k==="history"?" Histrico":" Comportamento"},k))}),u.jsx("div",{className:"p-8 overflow-y-auto bg-white flex-1",children:E?u.jsxs("form",{id:"edit-form",onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Razo Social"}),u.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(O==null?void 0:O.nome_social)||"",onChange:k=>F(J=>J?{...J,nome_social:k.target.value.toUpperCase()}:null)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Documento"}),u.jsx("input",{type:"text",className:"modern-input",value:(O==null?void 0:O.cpf_cnpj)||"",onChange:k=>F(J=>J?{...J,cpf_cnpj:k.target.value}:null)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"WhatsApp"}),u.jsx("input",{type:"text",className:"modern-input",value:(O==null?void 0:O.whatsapp)||"",onChange:k=>F(J=>J?{...J,whatsapp:k.target.value}:null)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase",children:"Limite de Crdito"}),u.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input bg-emerald-50 border-emerald-100 font-bold text-emerald-700",placeholder:"Limite",value:(O==null?void 0:O.limite_credito)||"",onChange:k=>{const J=k.target.value.replace(",",".");(J===""||/^\d*\.?\d*$/.test(J))&&F(ce=>ce?{...ce,limite_credito:Number(J)||0}:null)}})]})]}):G&&u.jsxs(u.Fragment,{children:[U==="overview"&&u.jsxs("div",{className:"space-y-8 animate-reveal",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-emerald-50/80 rounded-3xl p-6 border border-emerald-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Au,{size:14,className:"text-emerald-600"}),u.jsx("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Total Faturado"})]}),u.jsx("p",{className:"text-2xl font-extrabold text-emerald-700",children:Pt(G.totalFaturado)}),u.jsxs("p",{className:"text-[9px] font-bold text-emerald-500 mt-1",children:[G.totalVendas," vendas  ",L(G.totalKg)]})]}),u.jsxs("div",{className:"bg-blue-50/80 rounded-3xl p-6 border border-blue-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(qp,{size:14,className:"text-blue-600"}),u.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest",children:"Lucro Gerado"})]}),u.jsx("p",{className:"text-2xl font-extrabold text-blue-700",children:Pt(G.totalLucro)}),u.jsxs("p",{className:"text-[9px] font-bold text-blue-500 mt-1",children:[G.totalFaturado>0?(G.totalLucro/G.totalFaturado*100).toFixed(1):0,"% margem"]})]}),u.jsxs("div",{className:`rounded-3xl p-6 border ${G.saldoDevedor>.01?"bg-rose-50/80 border-rose-100":"bg-emerald-50/80 border-emerald-100"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(c0,{size:14,className:G.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}),u.jsx("p",{className:`text-[9px] font-black uppercase tracking-widest ${G.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}`,children:"Saldo Devedor"})]}),u.jsx("p",{className:`text-2xl font-extrabold ${G.saldoDevedor>.01?"text-rose-700":"text-emerald-700"}`,children:Pt(G.saldoDevedor)}),u.jsxs("p",{className:`text-[9px] font-bold mt-1 ${G.saldoDevedor>.01?"text-rose-500":"text-emerald-500"}`,children:[G.salesPendentes," venda(s) pendente(s)"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(uO,{size:14,className:"text-emerald-500"}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Em Dia"})]}),u.jsxs("p",{className:"text-xl font-black text-slate-900",children:[G.percEmDia.toFixed(0),"%"]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(o0,{size:14,className:"text-amber-500"}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Mdia Atraso"})]}),u.jsxs("p",{className:"text-xl font-black text-slate-900",children:[G.mediaDiasAtraso.toFixed(0)," dias"]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(n9,{size:14,className:"text-blue-500"}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Mtodo Preferido"})]}),u.jsx("p",{className:"text-xl font-black text-slate-900",children:G.metodoPreferido})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Mc,{size:14,className:"text-purple-500"}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Volume Total"})]}),u.jsx("p",{className:"text-xl font-black text-slate-900",children:L(G.totalKg)})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Canais de Contato"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:u.jsx(vO,{size:18})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-slate-700",children:N.whatsapp||"No cadastrado"}),u.jsx("a",{href:$(N.whatsapp),target:"_blank",className:"text-[10px] text-blue-500 font-bold hover:underline",children:"Abrir WhatsApp"})]})]}),N.telefone_residencial&&u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:u.jsx(vO,{size:18})}),u.jsx("p",{className:"text-sm font-bold text-slate-700",children:N.telefone_residencial})]}),N.endereco&&u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:u.jsx(hx,{size:18})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-slate-700",children:N.endereco}),u.jsxs("p",{className:"text-[10px] text-slate-400",children:[N.bairro,N.cidade?`, ${N.cidade}`:""]})]})]})]})]}),u.jsxs("div",{className:"bg-slate-900 rounded-[24px] p-6 text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:u.jsx(Lc,{size:60})}),(()=>{const k=AO(N,a,jg);return u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.4em] mb-3",children:"Anlise de Crdito"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("h3",{className:"text-3xl font-black italic",children:["CLASSE ",k.tier]}),k.tier==="F"&&u.jsx(VH,{className:"text-rose-500 animate-pulse",size:20}),k.tier==="AAA"&&u.jsx(Q7,{className:"text-amber-500",size:20})]}),u.jsx("p",{className:`text-xs font-bold ${k.tier==="F"?"text-rose-400":"text-slate-400"}`,children:k.reason}),u.jsx("div",{className:"flex gap-1.5 mt-3",children:[...Array(5)].map((J,ce)=>u.jsx(yO,{size:18,className:ce<k.stars?"fill-amber-400 text-amber-400":"text-white/10"},ce))}),k.tier==="F"&&u.jsxs("div",{className:"bg-rose-500/20 border border-rose-500/30 p-3 rounded-xl flex items-center gap-3 mt-3",children:[u.jsx(Qd,{className:"text-rose-500",size:16}),u.jsx("span",{className:"text-[9px] font-black uppercase text-rose-100",children:"Crdito Bloqueado"})]})]})})()]})]}),G.totalTxMetodo>0&&u.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[u.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(lH,{size:14})," Distribuio de Mtodos"]}),u.jsx("div",{className:"space-y-3",children:Object.entries(G.metodos).sort((k,J)=>J[1]-k[1]).map(([k,J])=>{const ce=J/G.totalTxMetodo*100,ne=k==="PIX"?"bg-emerald-500":k==="DINHEIRO"?"bg-amber-500":k==="TRANSFERENCIA"?"bg-blue-500":"bg-slate-400";return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-[10px] font-black text-slate-600 uppercase w-28",children:k}),u.jsx("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden border border-slate-100",children:u.jsx("div",{className:`h-full ${ne} rounded-full transition-all duration-700`,style:{width:`${ce}%`}})}),u.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-16 text-right",children:[J,"x (",ce.toFixed(0),"%)"]})]},k)})})]})]}),U==="history"&&u.jsxs("div",{className:"space-y-4 animate-reveal",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Cu,{size:14})," Histrico de Compras"]}),u.jsxs("span",{className:"text-[10px] font-black text-slate-300",children:[G.totalVendas," registro(s)"]})]}),G.clientSales.length===0?u.jsxs("div",{className:"text-center py-16 text-slate-300",children:[u.jsx(Mc,{size:48,className:"mx-auto mb-4 opacity-30"}),u.jsx("p",{className:"text-sm font-bold",children:"Nenhuma venda registrada"})]}):u.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-100",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50",children:[u.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase",children:"Data"}),u.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase",children:"Item"}),u.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Peso"}),u.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Valor"}),u.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-right",children:"Pago"}),u.jsx("th",{className:"px-4 py-3 text-[9px] font-black text-slate-400 uppercase text-center",children:"Status"})]})}),u.jsx("tbody",{children:G.clientSales.map((k,J)=>{const ce=k.peso_real_saida*k.preco_venda_kg,ne=k.valor_pago||0,ie=k.status_pagamento;return u.jsxs("tr",{className:"border-t border-slate-50 hover:bg-blue-50/30 transition-colors",children:[u.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600",children:new Date(k.data_venda).toLocaleDateString("pt-BR")}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("p",{className:"text-xs font-bold text-slate-700",children:k.id_completo}),u.jsxs("p",{className:"text-[9px] text-slate-400",children:[k.preco_venda_kg.toFixed(2),"/kg"]})]}),u.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-600 text-right",children:L(k.peso_real_saida)}),u.jsx("td",{className:"px-4 py-3 text-xs font-bold text-slate-800 text-right",children:Pt(ce)}),u.jsx("td",{className:"px-4 py-3 text-xs font-bold text-emerald-600 text-right",children:Pt(ne)}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${ie==="PAGO"?"bg-emerald-50 text-emerald-600":ie==="PENDENTE"?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-400"}`,children:ie})})]},J)})})]})})]}),U==="behavior"&&u.jsxs("div",{className:"space-y-8 animate-reveal",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-emerald-50/80 rounded-3xl p-6 border border-emerald-100 text-center",children:[u.jsx(uO,{size:32,className:"text-emerald-500 mx-auto mb-3"}),u.jsx("p",{className:"text-4xl font-black text-emerald-700",children:G.pagasEmDia}),u.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase mt-1",children:"Pagas em Dia"})]}),u.jsxs("div",{className:"bg-rose-50/80 rounded-3xl p-6 border border-rose-100 text-center",children:[u.jsx(e9,{size:32,className:"text-rose-500 mx-auto mb-3"}),u.jsx("p",{className:"text-4xl font-black text-rose-700",children:G.pagasAtrasadas}),u.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase mt-1",children:"Pagas com Atraso"})]}),u.jsxs("div",{className:"bg-amber-50/80 rounded-3xl p-6 border border-amber-100 text-center",children:[u.jsx(o0,{size:32,className:"text-amber-500 mx-auto mb-3"}),u.jsx("p",{className:"text-4xl font-black text-amber-700",children:G.mediaDiasAtraso.toFixed(0)}),u.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase mt-1",children:"Mdia Dias Atraso"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Taxa de Pontualidade"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1 h-6 bg-slate-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${G.percEmDia}%`}})}),u.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[G.percEmDia.toFixed(0),"%"]})]}),u.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:G.percEmDia>=90?" Excelente pagador  confiana mxima":G.percEmDia>=70?" Bom pagador  pequenos atrasos":G.percEmDia>=50?" Ateno  atrasos frequentes":" Alto risco  maioria das vendas com atraso"})]}),G.vendasVencidas>0&&u.jsxs("div",{className:"bg-rose-50 rounded-2xl p-6 border border-rose-200 flex items-center gap-4",children:[u.jsx(Qd,{size:24,className:"text-rose-500"}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-black text-rose-700",children:[G.vendasVencidas," venda(s) vencida(s) agora"]}),u.jsx("p",{className:"text-[10px] text-rose-500 mt-1",children:"Cobrar imediatamente ou renegociar"})]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Resumo Financeiro"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Total Faturado"}),u.jsx("span",{className:"text-sm font-black text-slate-900",children:Pt(G.totalFaturado)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-bold text-emerald-500",children:"Total Pago"}),u.jsxs("span",{className:"text-sm font-black text-emerald-600",children:["-",Pt(G.totalPago)]})]}),u.jsxs("div",{className:"border-t border-slate-200 pt-3 flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-black text-slate-700",children:"Saldo Devedor"}),u.jsx("span",{className:`text-lg font-black ${G.saldoDevedor>.01?"text-rose-600":"text-emerald-600"}`,children:Pt(G.saldoDevedor)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-bold text-blue-500",children:"Lucro Gerado"}),u.jsx("span",{className:"text-sm font-black text-blue-600",children:Pt(G.totalLucro)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Limite de Crdito"}),u.jsx("span",{className:"text-sm font-black text-slate-600",children:Pt(N.limite_credito)})]})]})]})]})]})}),u.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:E?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),u.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-amber-600 hover:bg-amber-700 flex items-center gap-2",children:[u.jsx(gx,{size:18})," Salvar Alteraes"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{F(N),I(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[u.jsx(r9,{size:18})," Editar Cadastro"]}),G&&G.saldoDevedor>.01&&i&&u.jsxs("button",{onClick:()=>{A(null),i()},className:"btn-modern btn-brand px-10 bg-blue-600 hover:bg-blue-700 flex items-center gap-3 shadow-lg shadow-blue-100",children:[u.jsx(c0,{size:20})," Receber Pagamento",u.jsx(kH,{size:14,className:"opacity-60"})]})]})})]})})]})},Ra=({value:t,onValueChange:e,onFocus:n,onBlur:r,...i})=>{const[a,s]=xe.useState(t?String(t):""),l=xe.useRef(!1);return xe.useEffect(()=>{l.current||s(t?String(t):"")},[t]),u.jsx("input",{...i,type:"text",inputMode:"decimal",value:a,onFocus:c=>{l.current=!0,n==null||n(c)},onChange:c=>{const f=c.target.value.replace(",",".");if(f===""||/^\d*\.?\d*$/.test(f)){s(f);const h=parseFloat(f);isNaN(h)?f===""&&e(0):e(h)}},onBlur:c=>{l.current=!1;const f=parseFloat(a)||0;s(f?String(f):""),e(f),r==null||r(c)}})},yE=window.SpeechRecognition||window.webkitSpeechRecognition,kde=({batches:t=[],suppliers:e=[],stock:n=[],addBatch:r,updateBatch:i,deleteBatch:a,addStockItem:s,updateStockItem:l,removeStockItem:c,registerBatchFinancial:f,onBack:h,onGoToStock:m})=>{const g=t||[],y=e||[],N=n||[],A=xe.useRef(null);xe.useRef(null);const[E,I]=xe.useState(!1),[O,F]=xe.useState(!1),[U,D]=xe.useState(null),[q,P]=xe.useState(!1),[j,$]=xe.useState(null),[G,V]=xe.useState(null),[L,k]=xe.useState(!1),J=xe.useRef(null),ce=xe.useRef(!1);xe.useEffect(()=>{if(yE){const X=new yE;X.lang="pt-BR",X.continuous=!1,X.interimResults=!1,X.onresult=De=>{const Me=De.results[0][0].transcript.toLowerCase().match(/\d+([.,]\d+)?/g);if(Me&&Me.length>0){const Ye=Me[0].replace(",",".");Q(Je=>({...Je,peso:Ye})),k(!1),ce.current&&setTimeout(()=>{J.current&&ce.current&&(k(!0),J.current.start())},300)}else k(!1),setTimeout(()=>{J.current&&ce.current&&(k(!0),J.current.start())},500)},X.onerror=De=>{k(!1),De.error!=="aborted"&&De.error!=="no-speech"&&ce.current&&setTimeout(()=>{J.current&&ce.current&&(k(!0),J.current.start())},500)},X.onend=()=>k(!1),J.current=X}},[]);const ne=()=>{var X,De;L||ce.current?(ce.current=!1,k(!1),(X=J.current)==null||X.stop()):(ce.current=!0,k(!0),(De=J.current)==null||De.start())},[ie,te]=xe.useState({id_lote:"",fornecedor:"",data_recebimento:new Date().toISOString().split("T")[0],peso_total_romaneio:0,valor_compra_total:0,frete:0,gastos_extras:0,forma_pagamento:"PRAZO",valor_entrada:0,prazo_dias:30,status:"ABERTO",id_sequencia:1,raca:"",qtd_cabecas:0,peso_vivo_medio:0,peso_gancho:0,toalete_kg:0,preco_arroba:0}),fe=xe.useMemo(()=>{var De;const X=ie.raca||(j?(De=g.find(Ke=>Ke.id_lote===j))==null?void 0:De.raca:"");return _O.find(Ke=>Ke.raca===X)||null},[ie.raca,j,g]),be=X=>{let De="LOTE";if(ie&&ie.fornecedor&&typeof ie.fornecedor=="string")try{const Xe=ie.fornecedor.toUpperCase().trim();if(Xe.length>0){const yt={:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"I",:"I",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"C",:"N"},At=Xe.replace(/[^\w\s]/g,Dt=>yt[Dt]||"").split(" ").filter(Dt=>Dt.length>0);if(At.length>0){const Dt=At[0],Tt=Dt.length>=3?Dt.substring(0,3):Dt.padEnd(3,"X");let qt="";At.length>1&&(qt=At[At.length-1].charAt(0)),De=`${Tt}${qt}`.replace(/[^A-Z0-9]/g,"")}}}catch{De="LOTE"}const Ke=new Date,Me=String(Ke.getDate()).padStart(2,"0"),Ye=String(Ke.getMonth()+1).padStart(2,"0"),Je=`${Me}${Ye}`,rt=`${De}-${Je}-`;let it=X;if(it===void 0){const Xe=g.filter(bt=>bt.id_lote&&bt.id_lote.startsWith(rt));let yt=0;Xe.length>0&&(yt=Xe.reduce((bt,At)=>{try{const Dt=At.id_lote.split("-"),Tt=Dt[Dt.length-1],qt=parseInt(Tt);return isNaN(qt)?bt:Math.max(bt,qt)}catch{return bt}},0)),it=yt+1}return`${rt}${String(it).padStart(2,"0")}`};xe.useEffect(()=>{!j&&ie.id_lote===""&&te(X=>({...X,id_lote:be()}))},[j]);const re=xe.useMemo(()=>G&&G.id_lote===j?G:g.find(X=>X.id_lote===j),[j,g,G]),[C,H]=xe.useState([]),W=xe.useMemo(()=>{if(!j||!re)return null;const De=[...N.filter(it=>it.id_lote===j),...C.filter(it=>it.id_lote===j)],Ke=De.reduce((it,Xe)=>{const yt=Xe.sequencia;return it[yt]||(it[yt]={bandaA:null,bandaB:null,inteiro:null}),Xe.tipo===vn.BANDA_A?it[yt].bandaA=Xe:Xe.tipo===vn.BANDA_B?it[yt].bandaB=Xe:Xe.tipo===vn.INTEIRO&&(it[yt].inteiro=Xe),it},{}),Me=Object.values(Ke).reduce((it,Xe)=>{var qt,wt,Gn;const yt=((qt=Xe.bandaA)==null?void 0:qt.peso_entrada)||0,bt=((wt=Xe.bandaB)==null?void 0:wt.peso_entrada)||0,At=((Gn=Xe.inteiro)==null?void 0:Gn.peso_entrada)||0,Dt=yt>0&&bt>0?3:0,Tt=At>0?At:yt+bt-Dt;return it+Tt},0),Ye=re.peso_total_romaneio,Je=Me-Ye,rt=Ye>0?Me/Ye*100:0;return{totalWeighed:Me,nfWeight:Ye,diff:Je,percent:rt,count:De.length}},[j,re,N,C]),[K,Q]=xe.useState({sequencia:"1",tipo:vn.BANDA_A.toString(),peso:"",pesoA:"",pesoB:""});xe.useEffect(()=>{if(j&&C.length===0){const X=N.filter(De=>De.id_lote===j);if(X.length>0){const De=[...X].sort((Ye,Je)=>Je.sequencia!==Ye.sequencia?Je.sequencia-Ye.sequencia:Je.tipo-Ye.tipo)[0];let Ke=De.sequencia,Me=De.tipo;De.tipo===vn.INTEIRO?Ke=De.sequencia+1:De.tipo===vn.BANDA_A?Me=vn.BANDA_B:De.tipo===vn.BANDA_B&&(Ke=De.sequencia+1,Me=vn.BANDA_A),Q(Ye=>({...Ye,sequencia:Ke.toString(),tipo:Me.toString()}))}}},[j]);const he=(re==null?void 0:re.status)==="FECHADO";xe.useEffect(()=>{j&&A.current&&setTimeout(()=>{var X;return(X=A.current)==null?void 0:X.focus()},500)},[j]);const _e=KE(ie.valor_compra_total||0,ie.frete||0,ie.gastos_extras||0,ie.peso_total_romaneio||0),ae=async X=>{X.preventDefault();const De=ie.id_lote||be();if(!ie.peso_total_romaneio)return;const Ke={...ie,id_lote:De,custo_real_kg:_e,status:"ABERTO"};V(Ke),$(De)},Ae=async X=>{if(!j||he||!K.sequencia||!K.peso)return;const De=parseInt(K.sequencia),Ke=parseInt(K.tipo),Me=Ke===vn.BANDA_A?"BANDA_A":Ke===vn.BANDA_B?"BANDA_B":"INTEIRO",Ye=parseFloat(K.peso),rt={id_completo:`${j}-${String(De).padStart(3,"0")}-${Me}`,id_lote:j,sequencia:De,tipo:Ke,peso_entrada:Ye,status:"DISPONIVEL",data_entrada:(re==null?void 0:re.data_recebimento)||new Date().toISOString().split("T")[0]};H(yt=>[...yt,rt]);let it=De,Xe=Ke;Ke===vn.INTEIRO?(it=De+1,Xe=vn.INTEIRO):Ke===vn.BANDA_A?(it=De,Xe=vn.BANDA_B):Ke===vn.BANDA_B&&(it=De+1,Xe=vn.BANDA_A),Q({sequencia:it.toString(),tipo:Xe.toString(),peso:"",pesoA:"",pesoB:""}),setTimeout(()=>{var yt;return(yt=A.current)==null?void 0:yt.focus()},50)},Ce=X=>{if(he)return;C.some(Ke=>Ke.id_completo===X)?H(Ke=>Ke.filter(Me=>Me.id_completo!==X)):c&&c(X)},Ne=async()=>{if(!j)return;const X=C.filter(De=>De.id_lote===j);if(X.length===0){alert("  necessrio cadastrar pelo menos uma pea antes de finalizar!");return}try{if(G&&G.id_lote===j){const De={...G,status:"FECHADO"},Ke=await r(De);if(!Ke||!Ke.success){alert(" Erro ao salvar o lote: "+((Ke==null?void 0:Ke.error)||"Erro desconhecido"));return}await f(De)}else re&&i&&(await f(re),await i(re.id_lote,{status:"FECHADO"}));for(const De of X)await s(De);H(De=>De.filter(Ke=>Ke.id_lote!==j)),V(null),I(!1),alert(" Lote finalizado com sucesso!"),m()}catch(De){console.error("Erro ao finalizar:",De),alert(" Erro ao finalizar o lote.")}},Se=X=>{D({...X}),F(!0)},Te=async()=>{if(!(!U||!i))try{await i(U.id_lote,U),F(!1),D(null)}catch(X){console.error("Erro ao salvar lote:",X)}},se=async()=>{if(!(!U||!a||!window.confirm(` ESTORNO DE LOTE

Lote: ${U.id_lote} - ${U.fornecedor}

Esta ao ir ESTORNAR o lote inteiro:
 O lote ser marcado como ESTORNADO
 Itens do estoque sero marcados como ESTORNADO
 Contas a pagar sero canceladas/estornadas
 Vendas vinculadas sero estornadas
 Transaes financeiras sero revertidas

 Nenhum dado ser APAGADO  tudo fica registrado como estorno.

Confirma o ESTORNO?`)))try{await a(U.id_lote),alert(" Lote estornado com sucesso! Todos os registros vinculados foram revertidos."),F(!1),D(null)}catch(De){console.error("Erro ao estornar lote:",De),alert(" Erro ao estornar o lote.")}};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:h,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:`p-3 rounded-2xl text-white shadow-xl ${he?"bg-slate-400":"bg-orange-600 shadow-orange-100"}`,children:u.jsx(SW,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Recepo de ",u.jsx("span",{className:"text-orange-600",children:"Lotes"})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Fluxo de Entrada / ID-LOG"}),re&&u.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${he?"bg-slate-100 text-slate-500":"bg-orange-50 text-orange-600"}`,children:[he?u.jsx(fx,{size:10}):u.jsx(lW,{size:10}),he?"Lote Travado":"Acesso Liberado"]})]})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[!he&&re&&u.jsxs("button",{onClick:()=>I(!0),className:"btn-modern bg-slate-900 text-white hover:bg-orange-600 px-8 py-4 gap-3 shadow-xl",children:[u.jsx(Go,{size:20})," Finalizar Operao"]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"btn-modern bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 gap-3 shadow-xl",children:[u.jsx(Gg,{size:18})," Editar Lotes"]}),u.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 w-80 max-h-96 overflow-y-auto z-50",children:u.jsx("div",{className:"p-2",children:g.length===0?u.jsx("p",{className:"text-xs text-slate-400 text-center py-8",children:"Nenhum lote cadastrado"}):g.filter(X=>X.status!=="ESTORNADO").map(X=>u.jsx("button",{onClick:()=>Se(X),className:"w-full text-left p-3 hover:bg-blue-50 rounded-xl transition-colors group/item",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-xs text-slate-900",children:X.id_lote}),u.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:X.fornecedor})]}),u.jsx("div",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase ${X.status==="FECHADO"?"bg-slate-100 text-slate-500":"bg-green-50 text-green-600"}`,children:X.status})]})},X.id_lote))})})]})]})]}),u.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[u.jsx("div",{className:"lg:col-span-4 space-y-6",children:u.jsxs("div",{className:"premium-card p-8",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[u.jsx(Up,{size:14,className:"text-orange-500"})," Parmetros do Lote"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-orange-50/50 rounded-2xl p-5 border border-orange-50",children:[u.jsx("label",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Identificador do Lote"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-2xl font-black text-slate-900 tracking-tight",children:re?re.id_lote:ie.id_lote}),!re&&u.jsxs("div",{className:"flex items-center bg-white rounded-xl border border-orange-100 p-1",children:[u.jsx("button",{onClick:()=>{const X=Math.max(1,ie.id_sequencia-1);te({...ie,id_sequencia:X,id_lote:be(X)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:u.jsx(px,{size:16})}),u.jsx("span",{className:"font-bold text-xs w-10 text-center text-slate-600",children:ie.id_sequencia}),u.jsx("button",{onClick:()=>{const X=ie.id_sequencia+1;te({...ie,id_sequencia:X,id_lote:be(X)})},className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-orange-50 text-orange-600 font-bold transition-colors",children:u.jsx(Xf,{size:16})})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Fornecedor / Fazenda"}),u.jsx("input",{disabled:!!re,type:"text",className:"modern-input",value:re?re.fornecedor:ie.fornecedor,onChange:X=>{te(De=>({...De,fornecedor:X.target.value.toUpperCase()})),P(!0)},onBlur:()=>setTimeout(()=>{P(!1),te(X=>({...X,id_lote:be()}))},200),onFocus:()=>P(!0),placeholder:"BUSCAR FORNECEDOR"}),!re&&q&&ie.fornecedor&&String(ie.fornecedor).length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-2xl rounded-2xl border border-slate-100 z-50 mt-2 p-2 max-h-48 overflow-y-auto animate-reveal",children:y.filter(X=>X.nome_fantasia.toUpperCase().includes(ie.fornecedor.toUpperCase())).map(X=>u.jsx("div",{className:"p-3 hover:bg-orange-50 hover:text-orange-700 rounded-xl cursor-pointer font-bold text-xs text-slate-600 transition-colors",onClick:()=>{const De={...ie,fornecedor:X.nome_fantasia.toUpperCase()};te(De),P(!1),setTimeout(()=>{te(Ke=>({...Ke,id_lote:be()}))},100)},children:X.nome_fantasia},X.id))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Recebimento"}),u.jsx("input",{disabled:!!re,type:"date",className:"modern-input text-xs",value:re?re.data_recebimento:ie.data_recebimento,onChange:X=>te({...ie,data_recebimento:X.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Romaneio (kg)"}),u.jsx(Ra,{disabled:!!re,className:"modern-input font-bold text-lg",placeholder:"Peso em kg",value:re?re.peso_total_romaneio:ie.peso_total_romaneio||0,onValueChange:X=>te({...ie,peso_total_romaneio:X})})]})]}),u.jsxs("div",{className:"pt-4 border-t border-slate-50 space-y-4",children:[u.jsx("h4",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-[0.2em] flex items-center gap-1.5",children:" Dados da Produo"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Raa do Lote"}),u.jsxs("select",{disabled:!!re,className:"modern-input text-xs",value:re?re.raca||"":ie.raca,onChange:X=>te({...ie,raca:X.target.value}),children:[u.jsx("option",{value:"",children:"Selecionar raa..."}),_O.map(X=>u.jsxs("option",{value:X.raca,children:[X.raca," (",X.rendimento_min,"-",X.rendimento_max,"%)"]},X.raca))]}),fe&&u.jsxs("div",{className:"mt-2 px-3 py-2 bg-emerald-50 rounded-xl text-[10px] text-emerald-700 font-medium",children:[" Rendimento esperado: ",u.jsxs("strong",{children:[fe.rendimento_min,"",fe.rendimento_max,"%"]}),"  Peso carcaa: ",fe.peso_medio_min,"",fe.peso_medio_max,"kg  Quebra frio: ",fe.quebra_resfriamento_min,"",fe.quebra_resfriamento_max,"%"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Qtd Cabeas"}),u.jsx(Ra,{disabled:!!re,className:"modern-input",placeholder:"N",value:re?re.qtd_cabecas||0:ie.qtd_cabecas||0,onValueChange:X=>te({...ie,qtd_cabecas:X})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Gancho (kg)"}),u.jsx(Ra,{disabled:!!re,className:"modern-input",placeholder:"Peso total gancho",value:re?re.peso_gancho||0:ie.peso_gancho||0,onValueChange:X=>te({...ie,peso_gancho:X})})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Peso Vivo Mdio"}),u.jsx(Ra,{disabled:!!re,className:"modern-input text-xs",placeholder:"kg/cab",value:re?re.peso_vivo_medio||0:ie.peso_vivo_medio||0,onValueChange:X=>te({...ie,peso_vivo_medio:X})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Toalete (kg)"}),u.jsx(Ra,{disabled:!!re,className:"modern-input text-xs",placeholder:"kg",value:re?re.toalete_kg||0:ie.toalete_kg||0,onValueChange:X=>te({...ie,toalete_kg:X})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"R$/Arroba"}),u.jsx(Ra,{disabled:!!re,className:"modern-input text-xs",placeholder:"R$",value:re?re.preco_arroba||0:ie.preco_arroba||0,onValueChange:X=>te({...ie,preco_arroba:X})})]})]})]})]}),!re&&u.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[u.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"Configurao Financeira"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Valor do Gado (R$)"}),u.jsx(Ra,{className:"modern-input text-xl font-black bg-slate-50 border-slate-100",placeholder:"Valor total",value:ie.valor_compra_total||0,onValueChange:X=>te({...ie,valor_compra_total:X})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Frete (R$)"}),u.jsx(Ra,{className:"modern-input",placeholder:"Frete",value:ie.frete||0,onValueChange:X=>te({...ie,frete:X})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2 px-1",children:"Extras (R$)"}),u.jsx(Ra,{className:"modern-input",placeholder:"Extras",value:ie.gastos_extras||0,onValueChange:X=>te({...ie,gastos_extras:X})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 p-1 bg-slate-100 rounded-2xl",children:[u.jsx("button",{onClick:()=>te({...ie,forma_pagamento:"VISTA"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ie.forma_pagamento==="VISTA"?"bg-white text-orange-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Vista"}),u.jsx("button",{onClick:()=>te({...ie,forma_pagamento:"PRAZO"}),className:`py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ie.forma_pagamento==="PRAZO"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:" Prazo"})]})]}),u.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 flex justify-between items-center text-white",children:[u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),u.jsx("span",{className:"text-2xl font-black text-orange-400",children:Pt(_e)})]}),u.jsxs("button",{onClick:ae,className:"w-full btn-modern btn-brand py-5 bg-orange-600 hover:bg-orange-700 shadow-lg shadow-orange-100",children:[u.jsx(os,{size:18})," Iniciar Recepo"]})]})]})]})}),re&&u.jsxs("div",{className:"lg:col-span-8 space-y-8 animate-reveal",children:[W&&u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Peso Real",value:Rr(W.totalWeighed),icon:Ep,color:"blue"},{label:"NF Esperado",value:Rr(W.nfWeight),icon:Up,color:"slate"},{label:"Variao",value:`${W.diff>0?"+":""}${Rr(W.diff)}`,icon:aH,color:W.diff>=0?"emerald":"rose"},{label:"Contagem",value:`${W.count} Un`,icon:Mc,color:"orange"}].map((X,De)=>u.jsxs("div",{className:"premium-card p-6 flex flex-col gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-xl bg-${X.color}-50 text-${X.color}-600 flex items-center justify-center shadow-sm`,children:u.jsx(X.icon,{size:16})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-1",children:X.label}),u.jsx("p",{className:"text-xl font-black text-slate-900",children:X.value})]})]},De))}),!he&&u.jsxs("div",{className:"premium-card overflow-hidden",children:[u.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Ep,{size:14,className:"text-orange-500"})," Pesagem Rpida"]}),u.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"A  B  Prxima | 3kg/carcaa"})]}),u.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-900 to-slate-800",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 items-center",children:[u.jsxs("div",{className:"md:col-span-2 text-center",children:[u.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Seq"}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("button",{type:"button",onClick:()=>Q(X=>({...X,sequencia:Math.max(1,parseInt(X.sequencia)-1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:u.jsx(px,{size:12})}),u.jsx("div",{className:"bg-white rounded-xl px-3 py-2 shadow-lg",children:u.jsx("span",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight",children:String(K.sequencia).padStart(3,"0")})}),u.jsx("button",{type:"button",onClick:()=>Q(X=>({...X,sequencia:(parseInt(X.sequencia||"0")+1).toString()})),className:"w-7 h-7 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:u.jsx(Xf,{size:12})})]})]}),u.jsxs("div",{className:"md:col-span-3 text-center",children:[u.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tipo"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{type:"button",onClick:()=>Q({...K,tipo:vn.BANDA_A.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${K.tipo===vn.BANDA_A.toString()?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"A"}),u.jsx("button",{type:"button",onClick:()=>Q({...K,tipo:vn.BANDA_B.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${K.tipo===vn.BANDA_B.toString()?"bg-emerald-600 text-white shadow-lg shadow-emerald-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"B"}),u.jsx("button",{type:"button",onClick:()=>Q({...K,tipo:vn.INTEIRO.toString()}),className:`flex-1 py-2 md:py-3 rounded-xl text-xs font-black uppercase transition-all ${K.tipo===vn.INTEIRO.toString()?"bg-orange-600 text-white shadow-lg shadow-orange-900/50":"bg-slate-700 text-slate-400 hover:text-white"}`,children:"INT"})]})]}),u.jsxs("div",{className:"md:col-span-7",children:[u.jsxs("div",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest mb-1 flex items-center justify-between",children:[u.jsx("span",{children:"Peso (KG)"}),yE&&u.jsxs("button",{type:"button",onClick:ne,className:`flex items-center gap-1 px-2 py-1 rounded-lg text-[8px] transition-all ${L?"bg-rose-600 text-white animate-pulse":"bg-slate-700 text-slate-400 hover:text-white"}`,children:[L?u.jsx(o9,{size:10}):u.jsx(Rd,{size:10}),L?"OUVINDO":"VOZ"]})]}),u.jsxs("div",{className:"w-full bg-white rounded-xl py-3 px-4 shadow-xl mb-2 flex items-center justify-between min-h-[60px]",children:[u.jsx("button",{type:"button",onClick:()=>Q(X=>({...X,peso:X.peso.slice(0,-1)})),className:"w-10 h-10 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-500 transition-all active:scale-90",children:""}),u.jsxs("div",{className:"text-4xl md:text-5xl font-black text-slate-900 text-right flex-1 px-2",children:[K.peso||"0",u.jsx("span",{className:"text-xl text-slate-400 ml-1",children:"kg"})]}),u.jsx("button",{type:"button",onClick:()=>Q({...K,peso:""}),className:"w-10 h-10 rounded-lg bg-rose-100 hover:bg-rose-200 flex items-center justify-center text-rose-500 font-black text-sm transition-all active:scale-90",children:"C"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-1.5",children:[["1","2","3","4","5","6","7","8","9"].map(X=>u.jsx("button",{type:"button",onClick:()=>Q(De=>({...De,peso:De.peso+X})),className:"h-14 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:X},X)),u.jsx("button",{type:"button",onClick:()=>{K.peso.includes(".")||Q(X=>({...X,peso:(X.peso||"0")+"."}))},className:"h-14 rounded-xl font-black text-2xl bg-slate-300 text-slate-700 hover:bg-slate-400 transition-all active:scale-95 shadow-sm",children:","}),u.jsx("button",{type:"button",onClick:()=>Q(X=>({...X,peso:X.peso+"0"})),className:"h-14 rounded-xl font-black text-2xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:"0"}),u.jsx("button",{type:"button",onClick:()=>Q(X=>({...X,peso:X.peso+"00"})),className:"h-14 rounded-xl font-black text-xl bg-slate-100 text-slate-800 hover:bg-slate-200 transition-all active:scale-95 shadow-sm",children:"00"})]}),u.jsxs("button",{type:"button",onClick:()=>Ae(),className:"w-full h-14 mt-2 rounded-xl font-black text-xl bg-orange-600 text-white hover:bg-orange-500 transition-all active:scale-95 shadow-xl shadow-orange-900/30 flex items-center justify-center gap-2",children:[u.jsx(Xf,{size:24})," ADICIONAR PEA"]})]})]})})]}),u.jsxs("div",{className:"premium-card overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(Cu,{size:16,className:"text-orange-500"})," Registros Lanados"]}),u.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1.5 rounded-full uppercase",children:[(()=>{const X=N.filter(Me=>Me.id_lote===j),De=C.filter(Me=>Me.id_lote===j);return new Set([...X,...De].map(Me=>Me.sequencia)).size})()," Carcaas"]})]}),u.jsx("div",{className:"overflow-x-auto max-h-[400px]",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"sticky top-0",children:u.jsxs("tr",{className:"bg-slate-800 text-white",children:[u.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider w-16",children:"Seq"}),u.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-black uppercase tracking-wider",children:"ID"}),u.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-blue-800",children:"Banda A"}),u.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-emerald-800",children:"Banda B"}),u.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-rose-800 w-20",children:"Desc."}),u.jsx("th",{className:"px-3 py-2 text-center text-[10px] font-black uppercase tracking-wider bg-orange-700 w-24",children:"Total"}),u.jsx("th",{className:"px-3 py-2 w-24 text-center text-[10px] font-black uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{children:(()=>{const X=N.filter(Je=>Je.id_lote===j),De=C.filter(Je=>Je.id_lote===j),Ke=[...X,...De],Me={};Ke.forEach(Je=>{Me[Je.sequencia]||(Me[Je.sequencia]={}),Je.tipo===vn.BANDA_A?Me[Je.sequencia].bandaA=Je:Je.tipo===vn.BANDA_B?Me[Je.sequencia].bandaB=Je:Je.tipo===vn.INTEIRO&&(Me[Je.sequencia].inteiro=Je)});const Ye=Object.keys(Me).map(Number).sort((Je,rt)=>rt-Je);return Ye.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"py-16 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[u.jsx(Ep,{size:48}),u.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})]})})}):Ye.map(Je=>{var wt,Gn,en;const rt=Me[Je],it=((wt=rt.bandaA)==null?void 0:wt.peso_entrada)||0,Xe=((Gn=rt.bandaB)==null?void 0:Gn.peso_entrada)||0,yt=((en=rt.inteiro)==null?void 0:en.peso_entrada)||0,At=it>0&&Xe>0?3:0,Dt=yt>0?yt:it+Xe-At,Tt=De.some(Xn=>Xn.sequencia===Je),qt=`${j}-${String(Je).padStart(3,"0")}`;return u.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${Tt?"bg-orange-50/50":""}`,children:[u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"bg-slate-200 px-2 py-1 rounded font-mono font-black text-slate-600",children:String(Je).padStart(2,"0")})}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:"font-mono text-xs text-slate-500",children:qt})}),u.jsx("td",{className:"px-3 py-2 text-center bg-blue-50",children:u.jsx("span",{className:"font-bold text-blue-700",children:it>0?it.toFixed(2).replace(".",","):"-"})}),u.jsx("td",{className:"px-3 py-2 text-center bg-emerald-50",children:u.jsx("span",{className:"font-bold text-emerald-700",children:Xe>0?Xe.toFixed(2).replace(".",","):yt>0?"INT":"-"})}),u.jsx("td",{className:"px-3 py-2 text-center bg-rose-50",children:u.jsx("span",{className:"font-bold text-rose-600",children:At>0?At.toFixed(2).replace(".",","):"-"})}),u.jsx("td",{className:"px-3 py-2 text-center bg-orange-50",children:u.jsx("span",{className:"font-black text-orange-700 text-lg",children:Dt.toFixed(2).replace(".",",")})}),u.jsx("td",{className:"px-3 py-2",children:!he&&u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("button",{onClick:()=>{Q({sequencia:Je.toString(),tipo:vn.BANDA_A.toString(),peso:"",pesoA:it>0?it.toString():"",pesoB:Xe>0?Xe.toString():""}),rt.bandaA&&Ce(rt.bandaA.id_completo),rt.bandaB&&Ce(rt.bandaB.id_completo),rt.inteiro&&Ce(rt.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Editar",children:u.jsx(Gg,{size:14})}),u.jsx("button",{onClick:()=>{rt.bandaA&&Ce(rt.bandaA.id_completo),rt.bandaB&&Ce(rt.bandaB.id_completo),rt.inteiro&&Ce(rt.inteiro.id_completo)},className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir",children:u.jsx(pT,{size:14})})]})})]},Je)})})()})]})})]})]})]}),E&&re&&(()=>{const X=(re.valor_compra_total||0)+(re.frete||0)+(re.gastos_extras||0),De=re.peso_total_romaneio>0?X/re.peso_total_romaneio:0,Ke=re.forma_pagamento||(G==null?void 0:G.forma_pagamento)||"PRAZO",Me=re.valor_entrada||(G==null?void 0:G.valor_entrada)||0,Ye=(W==null?void 0:W.totalWeighed)||0,Je=re.peso_total_romaneio,rt=Ye-Je,it=Je>0?(rt/Je*100).toFixed(1):"0";return u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-lg w-full overflow-hidden border border-white my-4",children:[u.jsxs("div",{className:"bg-orange-600 p-8 md:p-12 text-white text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-[28px] flex items-center justify-center mx-auto mb-6",children:u.jsx(Go,{size:40})}),u.jsx("h3",{className:"text-2xl md:text-3xl font-black tracking-tight leading-none uppercase",children:"Conferncia Final"}),u.jsxs("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-3 uppercase text-orange-100 opacity-60",children:[re.id_lote,"  ",re.fornecedor]})]}),u.jsxs("div",{className:"p-6 md:p-10 space-y-5",children:[u.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-3",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Peso: NF vs Pesado"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"NF (Romaneio)"}),u.jsx("p",{className:"text-xl font-black text-slate-700",children:Rr(Je)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Peso Real"}),u.jsx("p",{className:"text-xl font-black text-slate-900",children:Rr(Ye)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Diferena"}),u.jsxs("p",{className:`text-xl font-black ${rt>=0?"text-emerald-600":"text-rose-600"}`,children:[rt>=0?"+":"",rt.toFixed(2)," kg"]}),u.jsxs("p",{className:`text-[9px] font-bold ${rt>=0?"text-emerald-500":"text-rose-500"}`,children:["(",it,"%)"]})]})]}),u.jsx("div",{className:"text-center pt-2 border-t border-slate-200",children:u.jsxs("span",{className:"text-[10px] font-black bg-slate-900 text-white px-3 py-1 rounded-full uppercase",children:[(W==null?void 0:W.count)||0," peas"]})})]}),u.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-3",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Financeiro"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-slate-500",children:"Valor do Gado"}),u.jsx("span",{className:"font-bold text-slate-800",children:Pt(re.valor_compra_total)})]}),re.frete>0&&u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-slate-500",children:"Frete"}),u.jsx("span",{className:"font-bold text-slate-800",children:Pt(re.frete)})]}),re.gastos_extras>0&&u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-slate-500",children:"Extras"}),u.jsx("span",{className:"font-bold text-slate-800",children:Pt(re.gastos_extras)})]}),u.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-200",children:[u.jsx("span",{className:"font-bold text-slate-700",children:"TOTAL CUSTO"}),u.jsx("span",{className:"font-black text-lg text-slate-900",children:Pt(X)})]}),u.jsxs("div",{className:"bg-orange-100 rounded-xl p-3 flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-orange-700 uppercase",children:"Custo/kg"}),u.jsx("span",{className:"font-black text-orange-700",children:Pt(De)})]})]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-2",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pagamento"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:`text-xs font-black px-3 py-1 rounded-full uppercase ${Ke==="VISTA"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:Ke==="VISTA"?"  Vista":" A Prazo"})}),Ke!=="VISTA"&&u.jsxs("div",{className:"space-y-1 pt-2",children:[Me>0&&u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-slate-500",children:"Entrada"}),u.jsx("span",{className:"font-bold text-emerald-600",children:Pt(Me)})]}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsx("span",{className:"text-slate-500",children:"Restante (A Pagar)"}),u.jsx("span",{className:"font-bold text-rose-600",children:Pt(X-Me)})]})]})]}),u.jsxs("p",{className:"text-[10px] font-medium text-slate-400 leading-relaxed text-center px-4",children:["Ao confirmar, este lote ser ",u.jsx("span",{className:"text-slate-700 font-bold",children:"travado"})," e os itens entraro no estoque."]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("button",{onClick:Ne,className:"btn-modern bg-slate-900 text-white w-full py-5 rounded-2xl hover:bg-orange-600 shadow-xl transition-all font-black uppercase tracking-wider text-sm",children:[u.jsx(Go,{size:20,className:"inline mr-2"}),"Confirmar e Finalizar"]}),u.jsx("button",{onClick:()=>I(!1),className:"btn-modern bg-slate-100 text-slate-600 w-full py-4 rounded-2xl hover:bg-slate-200 transition-all font-black uppercase tracking-wider text-[10px]",children:" Voltar e Corrigir"})]})]})]})})})(),O&&U&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[u.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:u.jsx(Gg,{size:48})}),u.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),u.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:U.id_lote})]}),u.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),u.jsx("input",{type:"text",className:"modern-input w-full",value:U.fornecedor,onChange:X=>D({...U,fornecedor:X.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),u.jsx(Ra,{className:"modern-input w-full font-bold text-lg",placeholder:"Peso em kg",value:U.peso_total_romaneio||0,onValueChange:X=>D({...U,peso_total_romaneio:X})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),u.jsx("input",{type:"date",className:"modern-input w-full",value:U.data_recebimento,onChange:X=>D({...U,data_recebimento:X.target.value})})]})]}),u.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[u.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),U.status==="FECHADO"&&u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 mb-4 flex items-start gap-2",children:[u.jsx(fx,{size:14,className:"text-amber-600 mt-0.5 shrink-0"}),u.jsx("p",{className:"text-[10px] font-bold text-amber-700",children:"Lote FECHADO  valores financeiros bloqueados. Para corrigir, faa o ESTORNO do lote e recadastre."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),u.jsx(Ra,{className:`modern-input w-full text-xl font-black ${U.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Valor total",value:U.valor_compra_total||0,disabled:U.status==="FECHADO",onValueChange:X=>D({...U,valor_compra_total:X})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),u.jsx(Ra,{className:`modern-input w-full ${U.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Frete",value:U.frete||0,disabled:U.status==="FECHADO",onValueChange:X=>D({...U,frete:X})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),u.jsx(Ra,{className:`modern-input w-full ${U.status==="FECHADO"?"opacity-50 cursor-not-allowed bg-slate-100":""}`,placeholder:"Extras",value:U.gastos_extras||0,disabled:U.status==="FECHADO",onValueChange:X=>D({...U,gastos_extras:X})})]})]}),u.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),u.jsx("span",{className:"text-xl font-black text-orange-400",children:Pt(KE(U.valor_compra_total,U.frete,U.gastos_extras,U.peso_total_romaneio))})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[u.jsxs("button",{onClick:Te,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[u.jsx(Go,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),u.jsxs("button",{onClick:se,className:"btn-modern bg-amber-500 text-white w-full py-4 rounded-2xl hover:bg-amber-600 shadow-xl transition-all border-2 border-amber-600",children:[u.jsx(Vp,{size:18,className:"inline mr-2"}),"Estornar Lote"]}),u.jsx("button",{onClick:()=>{F(!1),D(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},Pde=({stock:t,batches:e,sales:n,clients:r,updateBatch:i,deleteBatch:a,onBack:s})=>{const[l,c]=xe.useState("available"),[f,h]=xe.useState(""),[m,g]=xe.useState([]),y=t.filter(L=>L.status==="DISPONIVEL"),N=t.filter(L=>L.status==="VENDIDO"),A=xe.useMemo(()=>{const L=new Map;return y.forEach(k=>{if(f&&!k.id_completo.toLowerCase().includes(f.toLowerCase())&&!k.id_lote.toLowerCase().includes(f.toLowerCase()))return;if(!L.has(k.id_lote)){const ce=e.find(ne=>ne.id_lote===k.id_lote);if(!ce||ce.status!=="FECHADO")return;L.set(k.id_lote,{batch:ce,items:[],sequences:new Map})}const J=L.get(k.id_lote);J.items.push(k),J.sequences.has(k.sequencia)||J.sequences.set(k.sequencia,[]),J.sequences.get(k.sequencia).push(k)}),Array.from(L.values()).sort((k,J)=>{const ce=k.batch?new Date(k.batch.data_recebimento).getTime():0;return(J.batch?new Date(J.batch.data_recebimento).getTime():0)-ce})},[y,e,f]),E=L=>{g(k=>k.includes(L)?k.filter(J=>J!==L):[...k,L])},[I,O]=xe.useState(!1),[F,U]=xe.useState(null),D=L=>{U({...L}),O(!0)},q=async()=>{if(!(!F||!i))try{await i(F.id_lote,F),O(!1),U(null)}catch(L){console.error("Erro ao salvar lote:",L)}},P=async()=>{if(!(!F||!a||!window.confirm(` ESTORNO DE LOTE

Voc est prestes a ESTORNAR o lote:
${F.id_lote} - ${F.fornecedor}

Esta ao ir:
 Marcar o lote como ESTORNADO
 Estornar vendas e devolver estoque
 Criar transaes inversas no financeiro
 Manter histrico completo para auditoria

Deseja continuar?`)))try{await a(F.id_lote),alert(" Lote estornado com sucesso!"),O(!1),U(null)}catch(k){console.error("Erro ao estornar lote:",k),alert(" Erro ao estornar o lote.")}},j=xe.useMemo(()=>N.map(L=>{const k=n.find(ce=>ce.id_completo===L.id_completo),J=k?r.find(ce=>ce.id_ferro===k.id_cliente):null;return{item:L,sale:k,client:J}}).sort((L,k)=>L.sale&&k.sale?new Date(k.sale.data_venda).getTime()-new Date(L.sale.data_venda).getTime():0),[N,n,r]),$=xe.useMemo(()=>{const L=new Map;return j.forEach(({item:k,sale:J,client:ce})=>{if(!(f&&!k.id_completo.toLowerCase().includes(f.toLowerCase())&&!k.id_lote.toLowerCase().includes(f.toLowerCase()))){if(!L.has(k.id_lote)){const ne=e.find(ie=>ie.id_lote===k.id_lote);if(!ne||ne.status!=="FECHADO")return;L.set(k.id_lote,{batch:ne,items:[]})}L.get(k.id_lote).items.push({item:k,sale:J,client:ce})}}),Array.from(L.values()).sort((k,J)=>{const ce=k.batch?new Date(k.batch.data_recebimento).getTime():0;return(J.batch?new Date(J.batch.data_recebimento).getTime():0)-ce})},[j,e,f]),G=xe.useMemo(()=>{const L=new Map;n.forEach(J=>{const ce=t.find(fe=>fe.id_completo===J.id_completo),ne=ce?e.find(fe=>fe.id_lote===ce.id_lote):null,ie=(ne==null?void 0:ne.fornecedor)||"Desconhecido";L.has(ie)||L.set(ie,{totalWeight:0,totalBreakage:0,count:0});const te=L.get(ie);te.totalWeight+=J.peso_real_saida,te.totalBreakage+=J.quebra_kg||0,te.count+=1});const k=new Map;return L.forEach((J,ce)=>{const ne=J.totalWeight+J.totalBreakage,ie=ne>0?J.totalBreakage/ne*100:0;let te="regular";ie<1.5?te="top":ie>3&&(te="poor"),k.set(ce,{avgBreakagePct:ie,quality:te})}),k},[n,e,t]),V=j.reduce((L,k)=>L+(k.sale?k.sale.peso_real_saida*k.sale.preco_venda_kg:0),0);return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:s,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:u.jsx(dx,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",u.jsx("span",{className:"text-blue-600",children:"Estoque"})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Controle de Inventrio / ID-INV"}),u.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full text-[9px] font-black uppercase",children:[u.jsx(Lc,{size:10})," Unidade Sincronizada"]})]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[u.jsxs("div",{className:"relative group w-full sm:w-80",children:[u.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:16}),u.jsx("input",{type:"text",placeholder:"Buscar por Lote ou ID...",className:"modern-input pl-12 bg-white",value:f,onChange:L=>h(L.target.value)})]}),u.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl shadow-sm",children:[u.jsxs("button",{onClick:()=>c("available"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="available"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[u.jsx(ZH,{size:14})," Disponvel"]}),u.jsxs("button",{onClick:()=>c("sold"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l==="sold"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[u.jsx(cO,{size:14})," Vendido"]})]})]})]}),l==="available"?u.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[A.length===0&&u.jsxs("div",{className:"py-32 text-center premium-card",children:[u.jsx(dx,{size:64,className:"mx-auto mb-6 text-slate-100"}),u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"O estoque est vazio no momento"})]}),A.map(({batch:L,items:k,sequences:J})=>{var be,re,C;const ce=L?L.id_lote:k[0].id_lote,ne=m.includes(ce)||f.length>0,ie=k.reduce((H,W)=>{const K=W.sequencia;return H[K]||(H[K]={bandaA:null,bandaB:null,inteiro:null}),W.tipo===vn.BANDA_A?H[K].bandaA=W:W.tipo===vn.BANDA_B?H[K].bandaB=W:W.tipo===vn.INTEIRO&&(H[K].inteiro=W),H},{}),te=Object.values(ie).reduce((H,W)=>{var Ae,Ce,Ne;const K=((Ae=W.bandaA)==null?void 0:Ae.peso_entrada)||0,Q=((Ce=W.bandaB)==null?void 0:Ce.peso_entrada)||0,he=((Ne=W.inteiro)==null?void 0:Ne.peso_entrada)||0,_e=K>0&&Q>0?3:0,ae=he>0?he:K+Q-_e;return H+ae},0),fe=L?kK(L.data_recebimento):0;return u.jsxs("div",{className:"premium-card overflow-hidden",children:[u.jsxs("div",{onClick:()=>E(ce),className:`p-6 flex flex-col lg:flex-row items-center justify-between cursor-pointer transition-all gap-6 ${ne?"bg-slate-50/50":"hover:bg-slate-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all shadow-sm ${ne?"bg-blue-600 text-white":"bg-slate-50 text-slate-400"}`,children:ne?u.jsx(BH,{size:24}):u.jsx(zH,{size:24})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsx("h3",{className:"text-xl font-extrabold tracking-tight text-slate-900",children:(L==null?void 0:L.fornecedor)||"Fornecedor N/A"}),L&&u.jsxs("div",{className:"flex gap-2",children:[(()=>{const H=PK(fe);return u.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black ${H.color} ${H.bg} px-2.5 py-1 rounded-full uppercase tracking-widest border ${H.border} shadow-sm`,children:[H.status==="fresh"&&u.jsx(oK,{size:10}),H.status==="prime"&&u.jsx(Q7,{size:10}),H.status==="warning"&&u.jsx(o0,{size:10}),H.status==="critical"&&u.jsx(s0,{size:10}),H.label," (",fe,"d)"]})})(),(L==null?void 0:L.fornecedor)&&G.has(L.fornecedor)&&u.jsxs("span",{className:`flex items-center gap-1.5 text-[9px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest border shadow-sm ${((be=G.get(L.fornecedor))==null?void 0:be.quality)==="top"?"bg-indigo-50 text-indigo-600 border-indigo-100":((re=G.get(L.fornecedor))==null?void 0:re.quality)==="poor"?"bg-orange-50 text-orange-600 border-orange-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:[u.jsx(TH,{size:10})," ",((C=G.get(L.fornecedor))==null?void 0:C.quality)==="top"?"Gentica Premium":"Gado Regular"]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[u.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["ID-LOTE: ",u.jsx("span",{className:"text-slate-900",children:ce})]}),u.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),u.jsxs("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:["Entrada: ",L!=null&&L.data_recebimento?new Date(L.data_recebimento).toLocaleDateString():"N/A"]})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between w-full lg:w-auto gap-10",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peas"}),u.jsxs("p",{className:"text-xl font-extrabold text-slate-800",children:[k.length," UN"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Peso Total"}),u.jsx("div",{className:"bg-emerald-50 px-4 py-2 rounded-xl border border-emerald-100",children:u.jsx("p",{className:"text-xl font-extrabold text-emerald-700",children:Rr(te)})})]}),u.jsx("div",{className:"flex items-center gap-2",children:L&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:H=>{H.stopPropagation(),D(L)},className:"w-10 h-10 rounded-xl bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Editar lote",children:u.jsx(Gg,{size:16})}),u.jsx("button",{onClick:H=>{H.stopPropagation(),D(L)},className:"w-10 h-10 rounded-xl bg-amber-500 hover:bg-amber-600 text-white flex items-center justify-center transition-all shadow-lg hover:scale-110",title:"Estornar lote",children:u.jsx(Vp,{size:16})})]})}),u.jsx("div",{className:`transition-all duration-300 ${ne?"rotate-90 text-blue-600":"text-slate-300"}`,children:u.jsx(Dc,{size:24})})]})]}),ne&&u.jsx("div",{className:"p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 bg-white border-t border-slate-50 animate-reveal",children:Array.from(J.entries()).sort((H,W)=>H[0]-W[0]).map(([H,W])=>{const K=W.some(Ae=>Ae.tipo===vn.INTEIRO),Q=W.some(Ae=>Ae.tipo===vn.BANDA_A),he=W.some(Ae=>Ae.tipo===vn.BANDA_B),_e=K||Q&&he,ae=W.reduce((Ae,Ce)=>Ae+Ce.peso_entrada,0);return u.jsxs("div",{className:"group p-5 rounded-2xl border border-slate-100 hover:border-blue-100 hover:bg-blue-50/20 transition-all flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("span",{className:"text-[10px] font-black bg-slate-100 text-slate-500 px-2 py-0.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors uppercase",children:["#",String(H).padStart(3,"0")]}),u.jsx("span",{className:"text-lg font-black text-slate-800",children:Rr(ae)})]}),u.jsxs("div",{className:"space-y-2 flex-1",children:[W.map(Ae=>u.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[u.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ae.tipo===vn.BANDA_A?"bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.4)]":Ae.tipo===vn.BANDA_B?"bg-blue-500 shadow-[0_0_8px_rgba(37,99,235,0.4)]":"bg-slate-900 shadow-[0_0_8px_rgba(15,23,42,0.4)]"}`}),wO(Ae.tipo).toUpperCase()]}),u.jsx("span",{className:"text-slate-900 bg-slate-50 px-2 py-0.5 rounded-lg",children:Rr(Ae.peso_entrada)})]},Ae.id_completo)),!_e&&!K&&u.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 text-[8px] text-orange-600 font-black flex items-center gap-1.5 uppercase tracking-widest animate-pulse",children:[u.jsx(Qd,{size:10})," Parcial / Incompleto"]})]})]},H)})})]},ce)})]}):u.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[u.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl shadow-slate-200 overflow-hidden",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:u.jsx(cO,{size:200})}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-10 relative z-10",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full shadow-[0_0_12px_rgba(249,115,22,0.8)]"}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Acumulado em Vendas"})]}),u.jsx("h3",{className:"text-6xl md:text-7xl font-black tracking-tighter",children:Pt(V)})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 min-w-[240px] border border-white/10",children:[u.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Despachos Efetuados"}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("p",{className:"text-5xl font-black",children:N.length}),u.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Unidades"})]})]})]})]}),u.jsx("div",{className:"space-y-8",children:$.map(({batch:L,items:k})=>{const J=k.reduce((ie,{sale:te})=>ie+(te?te.peso_real_saida*te.preco_venda_kg:0),0),ce=k.reduce((ie,{sale:te,item:fe})=>!te||!L?ie:ie+te.peso_real_saida*(Number(L.custo_real_kg)||0)+(te.custo_extras_total||0),0),ne=J-ce;return u.jsxs("div",{className:"premium-card overflow-hidden",children:[u.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-center gap-10 bg-slate-50/50 border-b border-slate-50",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center text-slate-900",children:u.jsx(JG,{size:28})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-2xl font-black tracking-tight text-slate-900",children:L?`Lote ${L.id_lote}`:"Lote no vinculado"}),u.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[u.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:(L==null?void 0:L.fornecedor)||"Desconhecido"}),u.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),u.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest",children:["Custo Base: ",Pt((L==null?void 0:L.custo_real_kg)||0),"/kg"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-10 bg-white px-8 py-5 rounded-3xl border border-slate-100 shadow-sm",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Lucro Operacional"}),u.jsx("p",{className:`text-2xl font-black ${ne>=0?"text-emerald-600":"text-rose-600"}`,children:Pt(ne)})]}),u.jsx("div",{className:"w-px h-10 bg-slate-100"}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Qtd Vendida"}),u.jsxs("span",{className:"text-2xl font-black text-slate-800",children:[k.length," PC"]})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Data"}),u.jsx("th",{children:"ID / Especificao"}),u.jsx("th",{children:"Cliente / Destino"}),u.jsx("th",{className:"text-right",children:"Peso Sada"}),u.jsx("th",{className:"text-right",children:"Total Venda"}),u.jsx("th",{className:"text-right",children:"Margem"})]})}),u.jsx("tbody",{children:k.map(({item:ie,sale:te,client:fe})=>{const be=te?te.peso_real_saida*te.preco_venda_kg:0,re=L&&Number(L.custo_real_kg)||0,C=te?te.peso_real_saida*re+(te.custo_extras_total||0):0,H=be-C;return u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[u.jsx("td",{className:"text-[10px] font-medium text-slate-400 uppercase",children:te?new Date(te.data_venda).toLocaleDateString():"N/A"}),u.jsxs("td",{children:[u.jsx("div",{className:"text-[10px] font-black text-slate-900 tracking-tighter uppercase",children:ie.id_completo}),u.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-0.5 uppercase tracking-widest",children:wO(ie.tipo)})]}),u.jsx("td",{children:fe?u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight text-slate-700",children:fe.nome_social}):u.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:(te==null?void 0:te.nome_cliente)||"Direto"})}),u.jsx("td",{className:"text-right font-black text-slate-900",children:te?Rr(te.peso_real_saida):"-"}),u.jsx("td",{className:"text-right font-black text-blue-600",children:Pt(be)}),u.jsx("td",{className:"text-right",children:u.jsx("div",{className:`inline-flex px-3 py-1 rounded-lg font-black text-sm ${H>=0?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:Pt(H)})})]},ie.id_completo)})})]})})]},L?L.id_lote:"unknown")})})]}),I&&F&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-reveal overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-[48px] shadow-2xl max-w-2xl w-full overflow-hidden border border-white my-8",children:[u.jsxs("div",{className:"bg-blue-600 p-12 text-white text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-[32px] flex items-center justify-center mx-auto mb-8",children:u.jsx(Gg,{size:48})}),u.jsx("h3",{className:"text-3xl font-black tracking-tight leading-none uppercase",children:"Editar Lote"}),u.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] mt-4 uppercase text-blue-100 opacity-60",children:F.id_lote})]}),u.jsxs("div",{className:"p-12 space-y-6 max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Fornecedor"}),u.jsx("input",{type:"text",className:"modern-input w-full",value:F.fornecedor,onChange:L=>U({...F,fornecedor:L.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Peso Romaneio (kg)"}),u.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full font-bold text-lg",placeholder:"Peso em kg",value:F.peso_total_romaneio||"",onChange:L=>{const k=L.target.value.replace(",",".");(k===""||/^\d*\.?\d*$/.test(k))&&U({...F,peso_total_romaneio:parseFloat(k)||0})}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Data Recebimento"}),u.jsx("input",{type:"date",className:"modern-input w-full",value:F.data_recebimento,onChange:L=>U({...F,data_recebimento:L.target.value})})]})]}),u.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[u.jsx("h4",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.2em] mb-4",children:"Valores Financeiros"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Valor do Gado (R$)"}),u.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full text-xl font-black",placeholder:"Valor total",value:F.valor_compra_total||"",onChange:L=>{const k=L.target.value.replace(",",".");(k===""||/^\d*\.?\d*$/.test(k))&&U({...F,valor_compra_total:parseFloat(k)||0})}})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Frete (R$)"}),u.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full",placeholder:"Frete",value:F.frete||"",onChange:L=>{const k=L.target.value.replace(",",".");(k===""||/^\d*\.?\d*$/.test(k))&&U({...F,frete:parseFloat(k)||0})}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"Extras (R$)"}),u.jsx("input",{type:"text",inputMode:"decimal",className:"modern-input w-full",placeholder:"Extras",value:F.gastos_extras||"",onChange:L=>{const k=L.target.value.replace(",",".");(k===""||/^\d*\.?\d*$/.test(k))&&U({...F,gastos_extras:parseFloat(k)||0})}})]})]}),u.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Custo Real/Kg:"}),u.jsx("span",{className:"text-xl font-black text-orange-400",children:Pt(KE(F.valor_compra_total,F.frete,F.gastos_extras,F.peso_total_romaneio))})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[u.jsxs("button",{onClick:q,className:"btn-modern bg-blue-600 text-white w-full py-5 rounded-2xl hover:bg-blue-700 shadow-xl transition-all",children:[u.jsx(ux,{size:20,className:"inline mr-2"}),"Salvar Alteraes"]}),u.jsxs("button",{onClick:P,className:"btn-modern bg-amber-500 text-white w-full py-4 rounded-2xl hover:bg-amber-600 shadow-xl transition-all border-2 border-amber-600",children:[u.jsx(Vp,{size:18,className:"inline mr-2"}),"Estornar Lote"]}),u.jsx("button",{onClick:()=>{O(!1),U(null)},className:"text-[10px] font-black text-slate-400 hover:text-slate-600 uppercase tracking-[0.2em] py-2",children:"Cancelar"})]})]})]})})]})},jde="modulepreload",Dde=function(t){return"/"+t},sM={},dN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(f=>{if(f=Dde(f),f in sM)return;sM[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":jde,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,N)=>{g.addEventListener("load",y),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function yr(t){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(t)}var as=Uint8Array,go=Uint16Array,_C=Int32Array,Ab=new as([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Eb=new as([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fN=new as([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yV=function(t,e){for(var n=new go(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new _C(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},xV=yV(Ab,2),bV=xV.b,hN=xV.r;bV[28]=258,hN[258]=28;var _V=yV(Eb,0),Mde=_V.b,oM=_V.r,pN=new go(32768);for(var Yr=0;Yr<32768;++Yr){var Sd=(Yr&43690)>>1|(Yr&21845)<<1;Sd=(Sd&52428)>>2|(Sd&13107)<<2,Sd=(Sd&61680)>>4|(Sd&3855)<<4,pN[Yr]=((Sd&65280)>>8|(Sd&255)<<8)>>1}var Tc=(function(t,e,n){for(var r=t.length,i=0,a=new go(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new go(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new go(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],h=e-t[i],m=s[t[i]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)l[pN[m]>>c]=f}else for(l=new go(r),i=0;i<r;++i)t[i]&&(l[i]=pN[s[t[i]-1]++]>>15-t[i]);return l}),Zd=new as(288);for(var Yr=0;Yr<144;++Yr)Zd[Yr]=8;for(var Yr=144;Yr<256;++Yr)Zd[Yr]=9;for(var Yr=256;Yr<280;++Yr)Zd[Yr]=7;for(var Yr=280;Yr<288;++Yr)Zd[Yr]=8;var H0=new as(32);for(var Yr=0;Yr<32;++Yr)H0[Yr]=5;var Lde=Tc(Zd,9,0),Fde=Tc(Zd,9,1),Ude=Tc(H0,5,0),Vde=Tc(H0,5,1),xE=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Al=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},bE=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},wC=function(t){return(t+7)/8|0},wV=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new as(t.subarray(e,n))},qde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Sl=function(t,e,n){var r=new Error(e||qde[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Sl),!n)throw r;return r},Bde=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new as(0);var s=!n,l=s||e.i!=2,c=e.i;s&&(n=new as(i*3));var f=function(Ce){var Ne=n.length;if(Ce>Ne){var Se=new as(Math.max(Ne*2,Ce));Se.set(n),n=Se}},h=e.f||0,m=e.p||0,g=e.b||0,y=e.l,N=e.d,A=e.m,E=e.n,I=i*8;do{if(!y){h=Al(t,m,1);var O=Al(t,m+1,3);if(m+=3,O)if(O==1)y=Fde,N=Vde,A=9,E=5;else if(O==2){var q=Al(t,m,31)+257,P=Al(t,m+10,15)+4,j=q+Al(t,m+5,31)+1;m+=14;for(var $=new as(j),G=new as(19),V=0;V<P;++V)G[fN[V]]=Al(t,m+V*3,7);m+=P*3;for(var L=xE(G),k=(1<<L)-1,J=Tc(G,L,1),V=0;V<j;){var ce=J[Al(t,m,k)];m+=ce&15;var F=ce>>4;if(F<16)$[V++]=F;else{var ne=0,ie=0;for(F==16?(ie=3+Al(t,m,3),m+=2,ne=$[V-1]):F==17?(ie=3+Al(t,m,7),m+=3):F==18&&(ie=11+Al(t,m,127),m+=7);ie--;)$[V++]=ne}}var te=$.subarray(0,q),fe=$.subarray(q);A=xE(te),E=xE(fe),y=Tc(te,A,1),N=Tc(fe,E,1)}else Sl(1);else{var F=wC(m)+4,U=t[F-4]|t[F-3]<<8,D=F+U;if(D>i){c&&Sl(0);break}l&&f(g+U),n.set(t.subarray(F,D),g),e.b=g+=U,e.p=m=D*8,e.f=h;continue}if(m>I){c&&Sl(0);break}}l&&f(g+131072);for(var be=(1<<A)-1,re=(1<<E)-1,C=m;;C=m){var ne=y[bE(t,m)&be],H=ne>>4;if(m+=ne&15,m>I){c&&Sl(0);break}if(ne||Sl(2),H<256)n[g++]=H;else if(H==256){C=m,y=null;break}else{var W=H-254;if(H>264){var V=H-257,K=Ab[V];W=Al(t,m,(1<<K)-1)+bV[V],m+=K}var Q=N[bE(t,m)&re],he=Q>>4;Q||Sl(3),m+=Q&15;var fe=Mde[he];if(he>3){var K=Eb[he];fe+=bE(t,m)&(1<<K)-1,m+=K}if(m>I){c&&Sl(0);break}l&&f(g+131072);var _e=g+W;if(g<fe){var ae=a-fe,Ae=Math.min(fe,_e);for(ae+g<0&&Sl(3);g<Ae;++g)n[g]=r[ae+g]}for(;g<_e;++g)n[g]=n[g-fe]}}e.l=y,e.p=C,e.b=g,e.f=h,y&&(h=1,e.m=A,e.d=N,e.n=E)}while(!h);return g!=n.length&&s?wV(n,0,g):n.subarray(0,g)},vu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Tg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},_E=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:EV,l:0};if(i==1){var s=new as(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(D,q){return D.f-q.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],f=0,h=1,m=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[f].f<n[m].f?f++:m++],c=n[f!=h&&n[f].f<n[m].f?f++:m++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var y=new go(g+1),N=mN(n[h-1],y,0);if(N>e){var r=0,A=0,E=N-e,I=1<<E;for(a.sort(function(q,P){return y[P.s]-y[q.s]||q.f-P.f});r<i;++r){var O=a[r].s;if(y[O]>e)A+=I-(1<<N-y[O]),y[O]=e;else break}for(A>>=E;A>0;){var F=a[r].s;y[F]<e?A-=1<<e-y[F]++-1:++r}for(;r>=0&&A;--r){var U=a[r].s;y[U]==e&&(--y[U],++A)}N=e}return{t:new as(y),l:N}},mN=function(t,e,n){return t.s==-1?Math.max(mN(t.l,e,n+1),mN(t.r,e,n+1)):e[t.s]=n},lM=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new go(++e),r=0,i=t[0],a=1,s=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},Cg=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},AV=function(t,e,n){var r=n.length,i=wC(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},cM=function(t,e,n,r,i,a,s,l,c,f,h){vu(e,h++,n),++i[256];for(var m=_E(i,15),g=m.t,y=m.l,N=_E(a,15),A=N.t,E=N.l,I=lM(g),O=I.c,F=I.n,U=lM(A),D=U.c,q=U.n,P=new go(19),j=0;j<O.length;++j)++P[O[j]&31];for(var j=0;j<D.length;++j)++P[D[j]&31];for(var $=_E(P,7),G=$.t,V=$.l,L=19;L>4&&!G[fN[L-1]];--L);var k=f+5<<3,J=Cg(i,Zd)+Cg(a,H0)+s,ce=Cg(i,g)+Cg(a,A)+s+14+3*L+Cg(P,G)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&k<=J&&k<=ce)return AV(e,h,t.subarray(c,c+f));var ne,ie,te,fe;if(vu(e,h,1+(ce<J)),h+=2,ce<J){ne=Tc(g,y,0),ie=g,te=Tc(A,E,0),fe=A;var be=Tc(G,V,0);vu(e,h,F-257),vu(e,h+5,q-1),vu(e,h+10,L-4),h+=14;for(var j=0;j<L;++j)vu(e,h+3*j,G[fN[j]]);h+=3*L;for(var re=[O,D],C=0;C<2;++C)for(var H=re[C],j=0;j<H.length;++j){var W=H[j]&31;vu(e,h,be[W]),h+=G[W],W>15&&(vu(e,h,H[j]>>5&127),h+=H[j]>>12)}}else ne=Lde,ie=Zd,te=Ude,fe=H0;for(var j=0;j<l;++j){var K=r[j];if(K>255){var W=K>>18&31;Tg(e,h,ne[W+257]),h+=ie[W+257],W>7&&(vu(e,h,K>>23&31),h+=Ab[W]);var Q=K&31;Tg(e,h,te[Q]),h+=fe[Q],Q>3&&(Tg(e,h,K>>5&8191),h+=Eb[Q])}else Tg(e,h,ne[K]),h+=ie[K]}return Tg(e,h,ne[256]),h+ie[256]},$de=new _C([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),EV=new as(0),zde=function(t,e,n,r,i,a){var s=a.z||t.length,l=new as(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var m=$de[e-1],g=m>>13,y=m&8191,N=(1<<n)-1,A=a.p||new go(32768),E=a.h||new go(N+1),I=Math.ceil(n/3),O=2*I,F=function(Te){return(t[Te]^t[Te+1]<<I^t[Te+2]<<O)&N},U=new _C(25e3),D=new go(288),q=new go(32),P=0,j=0,$=a.i||0,G=0,V=a.w||0,L=0;$+2<s;++$){var k=F($),J=$&32767,ce=E[k];if(A[J]=ce,E[k]=J,V<=$){var ne=s-$;if((P>7e3||G>24576)&&(ne>423||!f)){h=cM(t,c,0,U,D,q,j,G,L,$-L,h),G=P=j=0,L=$;for(var ie=0;ie<286;++ie)D[ie]=0;for(var ie=0;ie<30;++ie)q[ie]=0}var te=2,fe=0,be=y,re=J-ce&32767;if(ne>2&&k==F($-re))for(var C=Math.min(g,ne)-1,H=Math.min(32767,$),W=Math.min(258,ne);re<=H&&--be&&J!=ce;){if(t[$+te]==t[$+te-re]){for(var K=0;K<W&&t[$+K]==t[$+K-re];++K);if(K>te){if(te=K,fe=re,K>C)break;for(var Q=Math.min(re,K-2),he=0,ie=0;ie<Q;++ie){var _e=$-re+ie&32767,ae=A[_e],Ae=_e-ae&32767;Ae>he&&(he=Ae,ce=_e)}}}J=ce,ce=A[J],re+=J-ce&32767}if(fe){U[G++]=268435456|hN[te]<<18|oM[fe];var Ce=hN[te]&31,Ne=oM[fe]&31;j+=Ab[Ce]+Eb[Ne],++D[257+Ce],++q[Ne],V=$+te,++P}else U[G++]=t[$],++D[t[$]]}}for($=Math.max($,V);$<s;++$)U[G++]=t[$],++D[t[$]];h=cM(t,c,f,U,D,q,j,G,L,$-L,h),f||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=E,a.p=A,a.i=$,a.w=V)}else{for(var $=a.w||0;$<s+f;$+=65535){var Se=$+65535;Se>=s&&(c[h/8|0]=f,Se=s),h=AV(c,h+1,t.subarray($,Se))}a.i=s}return wV(l,0,r+wC(h)+i)},SV=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Gde=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new as(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return zde(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},NV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Hde=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=SV();i.p(e.dictionary),NV(t,2,i.d())}},Wde=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Sl(6,"invalid zlib data"),(t[1]>>5&1)==1&&Sl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function gN(t,e){e||(e={});var n=SV();n.p(t);var r=Gde(t,e,e.dictionary?6:2,4);return Hde(r,e),NV(r,r.length-4,n.d()),r}function Kde(t,e){return Bde(t.subarray(Wde(t),-4),{i:2},e,e)}var Yde=typeof TextDecoder<"u"&&new TextDecoder,Xde=0;try{Yde.decode(EV,{stream:!0}),Xde=1}catch{}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wE(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var Ir={log:wE,warn:function(t){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):wE.call(null,arguments))},error:function(t){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):wE(t))}};function AE(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Vf(r.response,e,n)},r.onerror=function(){Ir.error("could not download file")},r.send()}function uM(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Jg,vN,Vf=rn.saveAs||((typeof window>"u"?"undefined":yr(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=rn.URL||rn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?uM(i.href)?AE(t,e,n):Cy(i,i.target="_blank"):Cy(i)):(i.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Cy(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(uM(t))AE(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){Cy(r)}))}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:yr(a)!=="object"&&(Ir.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return AE(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(rn.HTMLElement)||rn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(t)}else{var c=rn.URL||rn.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout((function(){c.revokeObjectURL(f)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function TV(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function EE(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ya(n,r,i,a,e[0],7,-680876936),a=Ya(a,n,r,i,e[1],12,-389564586),i=Ya(i,a,n,r,e[2],17,606105819),r=Ya(r,i,a,n,e[3],22,-1044525330),n=Ya(n,r,i,a,e[4],7,-176418897),a=Ya(a,n,r,i,e[5],12,1200080426),i=Ya(i,a,n,r,e[6],17,-1473231341),r=Ya(r,i,a,n,e[7],22,-45705983),n=Ya(n,r,i,a,e[8],7,1770035416),a=Ya(a,n,r,i,e[9],12,-1958414417),i=Ya(i,a,n,r,e[10],17,-42063),r=Ya(r,i,a,n,e[11],22,-1990404162),n=Ya(n,r,i,a,e[12],7,1804603682),a=Ya(a,n,r,i,e[13],12,-40341101),i=Ya(i,a,n,r,e[14],17,-1502002290),n=Xa(n,r=Ya(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Xa(a,n,r,i,e[6],9,-1069501632),i=Xa(i,a,n,r,e[11],14,643717713),r=Xa(r,i,a,n,e[0],20,-373897302),n=Xa(n,r,i,a,e[5],5,-701558691),a=Xa(a,n,r,i,e[10],9,38016083),i=Xa(i,a,n,r,e[15],14,-660478335),r=Xa(r,i,a,n,e[4],20,-405537848),n=Xa(n,r,i,a,e[9],5,568446438),a=Xa(a,n,r,i,e[14],9,-1019803690),i=Xa(i,a,n,r,e[3],14,-187363961),r=Xa(r,i,a,n,e[8],20,1163531501),n=Xa(n,r,i,a,e[13],5,-1444681467),a=Xa(a,n,r,i,e[2],9,-51403784),i=Xa(i,a,n,r,e[7],14,1735328473),n=Ja(n,r=Xa(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ja(a,n,r,i,e[8],11,-2022574463),i=Ja(i,a,n,r,e[11],16,1839030562),r=Ja(r,i,a,n,e[14],23,-35309556),n=Ja(n,r,i,a,e[1],4,-1530992060),a=Ja(a,n,r,i,e[4],11,1272893353),i=Ja(i,a,n,r,e[7],16,-155497632),r=Ja(r,i,a,n,e[10],23,-1094730640),n=Ja(n,r,i,a,e[13],4,681279174),a=Ja(a,n,r,i,e[0],11,-358537222),i=Ja(i,a,n,r,e[3],16,-722521979),r=Ja(r,i,a,n,e[6],23,76029189),n=Ja(n,r,i,a,e[9],4,-640364487),a=Ja(a,n,r,i,e[12],11,-421815835),i=Ja(i,a,n,r,e[15],16,530742520),n=Qa(n,r=Ja(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Qa(a,n,r,i,e[7],10,1126891415),i=Qa(i,a,n,r,e[14],15,-1416354905),r=Qa(r,i,a,n,e[5],21,-57434055),n=Qa(n,r,i,a,e[12],6,1700485571),a=Qa(a,n,r,i,e[3],10,-1894986606),i=Qa(i,a,n,r,e[10],15,-1051523),r=Qa(r,i,a,n,e[1],21,-2054922799),n=Qa(n,r,i,a,e[8],6,1873313359),a=Qa(a,n,r,i,e[15],10,-30611744),i=Qa(i,a,n,r,e[6],15,-1560198380),r=Qa(r,i,a,n,e[13],21,1309151649),n=Qa(n,r,i,a,e[4],6,-145523070),a=Qa(a,n,r,i,e[11],10,-1120210379),i=Qa(i,a,n,r,e[2],15,718787259),r=Qa(r,i,a,n,e[9],21,-343485551),t[0]=Vd(n,t[0]),t[1]=Vd(r,t[1]),t[2]=Vd(i,t[2]),t[3]=Vd(a,t[3])}function Sb(t,e,n,r,i,a){return e=Vd(Vd(e,t),Vd(r,a)),Vd(e<<i|e>>>32-i,n)}function Ya(t,e,n,r,i,a,s){return Sb(e&n|~e&r,t,e,i,a,s)}function Xa(t,e,n,r,i,a,s){return Sb(e&r|n&~r,t,e,i,a,s)}function Ja(t,e,n,r,i,a,s){return Sb(e^n^r,t,e,i,a,s)}function Qa(t,e,n,r,i,a,s){return Sb(n^(e|~r),t,e,i,a,s)}function CV(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)EE(r,Jde(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(EE(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,EE(r,i),r}function Jde(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Jg=rn.atob.bind(rn),vN=rn.btoa.bind(rn);var dM="0123456789abcdef".split("");function Qde(t){for(var e="",n=0;n<4;n++)e+=dM[t>>8*n+4&15]+dM[t>>8*n&15];return e}function Zde(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function yN(t){return CV(t).map(Zde).join("")}var efe=(function(t){for(var e=0;e<t.length;e++)t[e]=Qde(t[e]);return t.join("")})(CV("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vd(t,e){if(efe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function xN(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var h=l[c];f=(f+h+s.charCodeAt(c))%256,l[c]=l[f],l[f]=h}n=t,r=l}else l=r;var m=e.length,g=0,y=0,N="";for(c=0;c<m;c++)y=(y+(h=l[g=(g+1)%256]))%256,l[g]=l[y],l[y]=h,s=l[(l[g]+l[y])%256],N+=String.fromCharCode(e.charCodeAt(c)^s);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fM={print:4,modify:8,copy:16,"annot-forms":32};function up(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach((function(l){if(fM.perm!==void 0)throw new Error("Invalid permission: "+l);i+=fM[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=yN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=xN(this.encryptionKey,this.padding)}function dp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function hM(t){if(yr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(l){rn.console&&Ir.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function v1(t){if(!(this instanceof v1))return new v1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function IV(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $f(t,e,n,r,i){if(!(this instanceof $f))return new $f(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,IV.call(this,r,i)}function bp(t,e,n,r,i){if(!(this instanceof bp))return new bp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,IV.call(this,r,i)}function Xt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,f="S",h=null;yr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=hM;var N="1.3",A=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(M){N=M};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return E};var I=y.__private__.getPageFormat=function(M){return E[M]};i=i||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},F=O.COMPAT;function U(){this.saveGraphicsState(),X(new Ot(wt,0,0,-wt,0,sa()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),f="n",F=O.ADVANCED}function D(){this.restoreGraphicsState(),f="S",F=O.COMPAT}var q=y.__private__.combineFontStyleAndFontWeight=function(M,oe){if(M=="bold"&&oe=="normal"||M=="bold"&&oe==400||M=="normal"&&oe=="italic"||M=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(M=oe==400||oe==="normal"?M==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||M!=="normal"?(oe==700?"bold":oe)+""+M:"bold"),M};y.advancedAPI=function(M){var oe=F===O.COMPAT;return oe&&U.call(this),typeof M!="function"||(M(this),oe&&D.call(this)),this},y.compatAPI=function(M){var oe=F===O.ADVANCED;return oe&&D.call(this),typeof M!="function"||(M(this),oe&&U.call(this)),this},y.isAdvancedAPI=function(){return F===O.ADVANCED};var P,j=function(M){if(F!==O.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=y.roundToPrecision=y.__private__.roundToPrecision=function(M,oe){var Ee=e||oe;if(isNaN(M)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ee).replace(/0+$/,"")};P=y.hpf=y.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return $(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return $(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return $(M,16)};var G=y.f2=y.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return $(M,2)},V=y.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return $(M,3)},L=y.scale=y.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return F===O.COMPAT?M*wt:F===O.ADVANCED?M:void 0},k=function(M){return F===O.COMPAT?sa()-M:F===O.ADVANCED?M:void 0},J=function(M){return L(k(M))};y.__private__.setPrecision=y.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ce,ne="00000000000000000000000000000000",ie=y.__private__.getFileId=function(){return ne},te=y.__private__.setFileId=function(M){return ne=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():ne.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&($n=new up(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};y.setFileId=function(M){return te(M),this},y.getFileId=function(){return ie()};var fe=y.__private__.convertDateToPDFDate=function(M){var oe=M.getTimezoneOffset(),Ee=oe<0?"+":"-",Re=Math.floor(Math.abs(oe/60)),Ve=Math.abs(oe%60),nt=[Ee,W(Re),"'",W(Ve),"'"].join("");return["D:",M.getFullYear(),W(M.getMonth()+1),W(M.getDate()),W(M.getHours()),W(M.getMinutes()),W(M.getSeconds()),nt].join("")},be=y.__private__.convertPDFDateToDate=function(M){var oe=parseInt(M.substr(2,4),10),Ee=parseInt(M.substr(6,2),10)-1,Re=parseInt(M.substr(8,2),10),Ve=parseInt(M.substr(10,2),10),nt=parseInt(M.substr(12,2),10),mt=parseInt(M.substr(14,2),10);return new Date(oe,Ee,Re,Ve,nt,mt,0)},re=y.__private__.setCreationDate=function(M){var oe;if(M===void 0&&(M=new Date),M instanceof Date)oe=fe(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=M}return ce=oe},C=y.__private__.getCreationDate=function(M){var oe=ce;return M==="jsDate"&&(oe=be(ce)),oe};y.setCreationDate=function(M){return re(M),this},y.getCreationDate=function(M){return C(M)};var H,W=y.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},K=y.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Q=0,he=[],_e=[],ae=0,Ae=[],Ce=[],Ne=!1,Se=_e,Te=function(){Q=0,ae=0,_e=[],he=[],Ae=[],cn=pe(),Gt=pe()};y.__private__.setCustomOutputDestination=function(M){Ne=!0,Se=M};var se=function(M){Ne||(Se=M)};y.__private__.resetCustomOutputDestination=function(){Ne=!1,Se=_e};var X=y.__private__.out=function(M){return M=M.toString(),ae+=M.length+1,Se.push(M),Se},De=y.__private__.write=function(M){return X(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Ke=y.__private__.getArrayBuffer=function(M){for(var oe=M.length,Ee=new ArrayBuffer(oe),Re=new Uint8Array(Ee);oe--;)Re[oe]=M.charCodeAt(oe);return Ee},Me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Me};var Ye=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(M){return Ye=F===O.ADVANCED?M/wt:M,this};var Je,rt=y.__private__.getFontSize=y.getFontSize=function(){return F===O.COMPAT?Ye:Ye*wt},it=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(M){return it=M,this},y.__private__.getR2L=y.getR2L=function(){return it};var Xe,yt=y.__private__.setZoomMode=function(M){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Je=M;else if(isNaN(M)){if(oe.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Je=M}else Je=parseInt(M,10)};y.__private__.getZoomMode=function(){return Je};var bt,At=y.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Xe=M};y.__private__.getPageMode=function(){return Xe};var Dt=y.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');bt=M};y.__private__.getLayoutMode=function(){return bt},y.__private__.setDisplayMode=y.setDisplayMode=function(M,oe,Ee){return yt(M),Dt(oe),At(Ee),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(M){if(Object.keys(Tt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[M]},y.__private__.getDocumentProperties=function(){return Tt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(M){for(var oe in Tt)Tt.hasOwnProperty(oe)&&M[oe]&&(Tt[oe]=M[oe]);return this},y.__private__.setDocumentProperty=function(M,oe){if(Object.keys(Tt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[M]=oe};var qt,wt,Gn,en,Xn,yn={},xn={},Ma=[],gn={},ci={},Bn={},kr={},qr=null,En=0,Mt=[],bn=new hM(y),xi=t.hotfixes||[],Pr={},ui={},bi=[],Ot=function M(oe,Ee,Re,Ve,nt,mt){if(!(this instanceof M))return new M(oe,Ee,Re,Ve,nt,mt);isNaN(oe)&&(oe=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),isNaN(Ve)&&(Ve=1),isNaN(nt)&&(nt=0),isNaN(mt)&&(mt=0),this._matrix=[oe,Ee,Re,Ve,nt,mt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(M)},Ot.prototype.multiply=function(M){var oe=M.sx*this.sx+M.shy*this.shx,Ee=M.sx*this.shy+M.shy*this.sy,Re=M.shx*this.sx+M.sy*this.shx,Ve=M.shx*this.shy+M.sy*this.sy,nt=M.tx*this.sx+M.ty*this.shx+this.tx,mt=M.tx*this.shy+M.ty*this.sy+this.ty;return new Ot(oe,Ee,Re,Ve,nt,mt)},Ot.prototype.decompose=function(){var M=this.sx,oe=this.shy,Ee=this.shx,Re=this.sy,Ve=this.tx,nt=this.ty,mt=Math.sqrt(M*M+oe*oe),Nt=(M/=mt)*Ee+(oe/=mt)*Re;Ee-=M*Nt,Re-=oe*Nt;var _=Math.sqrt(Ee*Ee+Re*Re);return Nt/=_,M*(Re/=_)<oe*(Ee/=_)&&(M=-M,oe=-oe,Nt=-Nt,mt=-mt),{scale:new Ot(mt,0,0,_,0,0),translate:new Ot(1,0,0,1,Ve,nt),rotate:new Ot(M,oe,-oe,M,0,0),skew:new Ot(1,0,Nt,1,0,0)}},Ot.prototype.toString=function(M){return this.join(" ")},Ot.prototype.inversed=function(){var M=this.sx,oe=this.shy,Ee=this.shx,Re=this.sy,Ve=this.tx,nt=this.ty,mt=1/(M*Re-oe*Ee),Nt=Re*mt,_=-oe*mt,z=-Ee*mt,Z=M*mt;return new Ot(Nt,_,z,Z,-Nt*Ve-z*nt,-_*Ve-Z*nt)},Ot.prototype.applyToPoint=function(M){var oe=M.x*this.sx+M.y*this.shx+this.tx,Ee=M.x*this.shy+M.y*this.sy+this.ty;return new Co(oe,Ee)},Ot.prototype.applyToRectangle=function(M){var oe=this.applyToPoint(M),Ee=this.applyToPoint(new Co(M.x+M.w,M.y+M.h));return new Kl(oe.x,oe.y,Ee.x-oe.x,Ee.y-oe.y)},Ot.prototype.clone=function(){var M=this.sx,oe=this.shy,Ee=this.shx,Re=this.sy,Ve=this.tx,nt=this.ty;return new Ot(M,oe,Ee,Re,Ve,nt)},y.Matrix=Ot;var Ci=y.matrixMult=function(M,oe){return oe.multiply(M)},jr=new Ot(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=jr;var Br=function(M,oe){if(!ci[M]){var Ee=(oe instanceof $f?"Sh":"P")+(Object.keys(gn).length+1).toString(10);oe.id=Ee,ci[M]=Ee,gn[Ee]=oe,bn.publish("addPattern",oe)}};y.ShadingPattern=$f,y.TilingPattern=bp,y.addShadingPattern=function(M,oe){return j("addShadingPattern()"),Br(M,oe),this},y.beginTilingPattern=function(M){j("beginTilingPattern()"),Yl(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},y.endTilingPattern=function(M,oe){j("endTilingPattern()"),oe.stream=Ce[H].join(`
`),Br(M,oe),bn.publish("endTilingPattern",oe),bi.pop().restore()};var cr=y.__private__.newObject=function(){var M=pe();return Ze(M,!0),M},pe=y.__private__.newObjectDeferred=function(){return Q++,he[Q]=function(){return ae},Q},Ze=function(M,oe){return oe=typeof oe=="boolean"&&oe,he[M]=ae,oe&&X(M+" 0 obj"),M},Yt=y.__private__.newAdditionalObject=function(){var M={objId:pe(),content:""};return Ae.push(M),M},cn=pe(),Gt=pe(),$t=y.__private__.decodeColorString=function(M){var oe=M.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Ee=parseFloat(oe[0]);oe=[Ee,Ee,Ee,"r"]}for(var Re="#",Ve=0;Ve<3;Ve++)Re+=("0"+Math.floor(255*parseFloat(oe[Ve])).toString(16)).slice(-2);return Re},nn=y.__private__.encodeColorString=function(M){var oe;typeof M=="string"&&(M={ch1:M});var Ee=M.ch1,Re=M.ch2,Ve=M.ch3,nt=M.ch4,mt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Nt=new TV(Ee);if(Nt.ok)Ee=Nt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var _=parseInt(Ee.substr(1),16);Ee=_>>16&255,Re=_>>8&255,Ve=255&_}if(Re===void 0||nt===void 0&&Ee===Re&&Re===Ve)if(typeof Ee=="string")oe=Ee+" "+mt[0];else switch(M.precision){case 2:oe=G(Ee/255)+" "+mt[0];break;case 3:default:oe=V(Ee/255)+" "+mt[0]}else if(nt===void 0||yr(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return oe=["1.","1.","1.",mt[1]].join(" ");if(typeof Ee=="string")oe=[Ee,Re,Ve,mt[1]].join(" ");else switch(M.precision){case 2:oe=[G(Ee/255),G(Re/255),G(Ve/255),mt[1]].join(" ");break;default:case 3:oe=[V(Ee/255),V(Re/255),V(Ve/255),mt[1]].join(" ")}}else if(typeof Ee=="string")oe=[Ee,Re,Ve,nt,mt[2]].join(" ");else switch(M.precision){case 2:oe=[G(Ee),G(Re),G(Ve),G(nt),mt[2]].join(" ");break;case 3:default:oe=[V(Ee),V(Re),V(Ve),V(nt),mt[2]].join(" ")}return oe},Be=y.__private__.getFilters=function(){return s},Ct=y.__private__.putStream=function(M){var oe=(M=M||{}).data||"",Ee=M.filters||Be(),Re=M.alreadyAppliedFilters||[],Ve=M.addLength1||!1,nt=oe.length,mt=M.objectId,Nt=function(on){return on};if(h!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Nt=$n.encryptor(mt,0));var _={};Ee===!0&&(Ee=["FlateEncode"]);var z=M.additionalKeyValues||[],Z=(_=Xt.API.processDataByFilters!==void 0?Xt.API.processDataByFilters(oe,Ee):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(_.data.length!==0&&(z.push({key:"Length",value:_.data.length}),Ve===!0&&z.push({key:"Length1",value:nt})),Z.length!=0)if(Z.split("/").length-1==1)z.push({key:"Filter",value:Z});else{z.push({key:"Filter",value:"["+Z+"]"});for(var ge=0;ge<z.length;ge+=1)if(z[ge].key==="DecodeParms"){for(var Fe=[],Ge=0;Ge<_.reverseChain.split("/").length-1;Ge+=1)Fe.push("null");Fe.push(z[ge].value),z[ge].value="["+Fe.join(" ")+"]"}}X("<<");for(var gt=0;gt<z.length;gt++)X("/"+z[gt].key+" "+z[gt].value);X(">>"),_.data.length!==0&&(X("stream"),X(Nt(_.data)),X("endstream"))},Bt=y.__private__.putPage=function(M){var oe=M.number,Ee=M.data,Re=M.objId,Ve=M.contentsObjId;Ze(Re,!0),X("<</Type /Page"),X("/Parent "+M.rootDictionaryObjId+" 0 R"),X("/Resources "+M.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(P(M.mediaBox.bottomLeftX))+" "+parseFloat(P(M.mediaBox.bottomLeftY))+" "+P(M.mediaBox.topRightX)+" "+P(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&X("/CropBox ["+P(M.cropBox.bottomLeftX)+" "+P(M.cropBox.bottomLeftY)+" "+P(M.cropBox.topRightX)+" "+P(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&X("/BleedBox ["+P(M.bleedBox.bottomLeftX)+" "+P(M.bleedBox.bottomLeftY)+" "+P(M.bleedBox.topRightX)+" "+P(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&X("/TrimBox ["+P(M.trimBox.bottomLeftX)+" "+P(M.trimBox.bottomLeftY)+" "+P(M.trimBox.topRightX)+" "+P(M.trimBox.topRightY)+"]"),M.artBox!==null&&X("/ArtBox ["+P(M.artBox.bottomLeftX)+" "+P(M.artBox.bottomLeftY)+" "+P(M.artBox.topRightX)+" "+P(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&X("/UserUnit "+M.userUnit),bn.publish("putPage",{objId:Re,pageContext:Mt[oe],pageNumber:oe,page:Ee}),X("/Contents "+Ve+" 0 R"),X(">>"),X("endobj");var nt=Ee.join(`
`);return F===O.ADVANCED&&(nt+=`
Q`),Ze(Ve,!0),Ct({data:nt,filters:Be(),objectId:Ve}),X("endobj"),Re},Dr=y.__private__.putPages=function(){var M,oe,Ee=[];for(M=1;M<=En;M++)Mt[M].objId=pe(),Mt[M].contentsObjId=pe();for(M=1;M<=En;M++)Ee.push(Bt({number:M,data:Ce[M],objId:Mt[M].objId,contentsObjId:Mt[M].contentsObjId,mediaBox:Mt[M].mediaBox,cropBox:Mt[M].cropBox,bleedBox:Mt[M].bleedBox,trimBox:Mt[M].trimBox,artBox:Mt[M].artBox,userUnit:Mt[M].userUnit,rootDictionaryObjId:cn,resourceDictionaryObjId:Gt}));Ze(cn,!0),X("<</Type /Pages");var Re="/Kids [";for(oe=0;oe<En;oe++)Re+=Ee[oe]+" 0 R ";X(Re+"]"),X("/Count "+En),X(">>"),X("endobj"),bn.publish("postPutPages")},Mr=function(M){bn.publish("putFont",{font:M,out:X,newObject:cr,putStream:Ct}),M.isAlreadyPutted!==!0&&(M.objectNumber=cr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+dp(M.postScriptName)),X("/Subtype /Type1"),typeof M.encoding=="string"&&X("/Encoding /"+M.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},jn=function(){for(var M in yn)yn.hasOwnProperty(M)&&(m===!1||m===!0&&g.hasOwnProperty(M))&&Mr(yn[M])},Lr=function(M){M.objectNumber=cr();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[P(M.x),P(M.y),P(M.x+M.width),P(M.y+M.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ee=M.pages[1].join(`
`);Ct({data:Ee,additionalKeyValues:oe,objectId:M.objectNumber}),X("endobj")},Hn=function(){for(var M in Pr)Pr.hasOwnProperty(M)&&Lr(Pr[M])},La=function(M,oe){var Ee,Re=[],Ve=1/(oe-1);for(Ee=0;Ee<1;Ee+=Ve)Re.push(Ee);if(Re.push(1),M[0].offset!=0){var nt={offset:0,color:M[0].color};M.unshift(nt)}if(M[M.length-1].offset!=1){var mt={offset:1,color:M[M.length-1].color};M.push(mt)}for(var Nt="",_=0,z=0;z<Re.length;z++){for(Ee=Re[z];Ee>M[_+1].offset;)_++;var Z=M[_].offset,ge=(Ee-Z)/(M[_+1].offset-Z),Fe=M[_].color,Ge=M[_+1].color;Nt+=K(Math.round((1-ge)*Fe[0]+ge*Ge[0]).toString(16))+K(Math.round((1-ge)*Fe[1]+ge*Ge[1]).toString(16))+K(Math.round((1-ge)*Fe[2]+ge*Ge[2]).toString(16))}return Nt.trim()},cs=function(M,oe){oe||(oe=21);var Ee=cr(),Re=La(M.colors,oe),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+oe+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct({data:Re,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),X("endobj"),M.objectNumber=cr(),X("<< /ShadingType "+M.type),X("/ColorSpace /DeviceRGB");var nt="/Coords ["+P(parseFloat(M.coords[0]))+" "+P(parseFloat(M.coords[1]))+" ";M.type===2?nt+=P(parseFloat(M.coords[2]))+" "+P(parseFloat(M.coords[3])):nt+=P(parseFloat(M.coords[2]))+" "+P(parseFloat(M.coords[3]))+" "+P(parseFloat(M.coords[4]))+" "+P(parseFloat(M.coords[5])),X(nt+="]"),M.matrix&&X("/Matrix ["+M.matrix.toString()+"]"),X("/Function "+Ee+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},$r=function(M,oe){var Ee=pe(),Re=cr();oe.push({resourcesOid:Ee,objectOid:Re}),M.objectNumber=Re;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+M.boundingBox.map(P).join(" ")+"]"}),Ve.push({key:"XStep",value:P(M.xStep)}),Ve.push({key:"YStep",value:P(M.yStep)}),Ve.push({key:"Resources",value:Ee+" 0 R"}),M.matrix&&Ve.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ct({data:M.stream,additionalKeyValues:Ve,objectId:M.objectNumber}),X("endobj")},Ws=function(M){var oe;for(oe in gn)gn.hasOwnProperty(oe)&&(gn[oe]instanceof $f?cs(gn[oe]):gn[oe]instanceof bp&&$r(gn[oe],M))},Ks=function(M){for(var oe in M.objectNumber=cr(),X("<<"),M)switch(oe){case"opacity":X("/ca "+G(M[oe]));break;case"stroke-opacity":X("/CA "+G(M[oe]))}X(">>"),X("endobj")},zi=function(){var M;for(M in Bn)Bn.hasOwnProperty(M)&&Ks(Bn[M])},Fa=function(){for(var M in X("/XObject <<"),Pr)Pr.hasOwnProperty(M)&&Pr[M].objectNumber>=0&&X("/"+M+" "+Pr[M].objectNumber+" 0 R");bn.publish("putXobjectDict"),X(">>")},_f=function(){$n.oid=cr(),X("<<"),X("/Filter /Standard"),X("/V "+$n.v),X("/R "+$n.r),X("/U <"+$n.toHexString($n.U)+">"),X("/O <"+$n.toHexString($n.O)+">"),X("/P "+$n.P),X(">>"),X("endobj")},Ul=function(){for(var M in X("/Font <<"),yn)yn.hasOwnProperty(M)&&(m===!1||m===!0&&g.hasOwnProperty(M))&&X("/"+M+" "+yn[M].objectNumber+" 0 R");X(">>")},$c=function(){if(Object.keys(gn).length>0){for(var M in X("/Shading <<"),gn)gn.hasOwnProperty(M)&&gn[M]instanceof $f&&gn[M].objectNumber>=0&&X("/"+M+" "+gn[M].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),X(">>")}},Qo=function(M){if(Object.keys(gn).length>0){for(var oe in X("/Pattern <<"),gn)gn.hasOwnProperty(oe)&&gn[oe]instanceof y.TilingPattern&&gn[oe].objectNumber>=0&&gn[oe].objectNumber<M&&X("/"+oe+" "+gn[oe].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),X(">>")}},_o=function(){if(Object.keys(Bn).length>0){var M;for(M in X("/ExtGState <<"),Bn)Bn.hasOwnProperty(M)&&Bn[M].objectNumber>=0&&X("/"+M+" "+Bn[M].objectNumber+" 0 R");bn.publish("putGStateDict"),X(">>")}},ur=function(M){Ze(M.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ul(),$c(),Qo(M.objectOid),_o(),Fa(),X(">>"),X("endobj")},xa=function(){var M=[];jn(),zi(),Hn(),Ws(M),bn.publish("putResources"),M.forEach(ur),ur({resourcesOid:Gt,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources")},Ii=function(){bn.publish("putAdditionalObjects");for(var M=0;M<Ae.length;M++){var oe=Ae[M];Ze(oe.objId,!0),X(oe.content),X("endobj")}bn.publish("postPutAdditionalObjects")},zc=function(M){xn[M.fontName]=xn[M.fontName]||{},xn[M.fontName][M.fontStyle]=M.id},Gc=function(M,oe,Ee,Re,Ve){var nt={id:"F"+(Object.keys(yn).length+1).toString(10),postScriptName:M,fontName:oe,fontStyle:Ee,encoding:Re,isStandardFont:Ve||!1,metadata:{}};return bn.publish("addFont",{font:nt,instance:this}),yn[nt.id]=nt,zc(nt),nt.id},Vl=function(M){for(var oe=0,Ee=Me.length;oe<Ee;oe++){var Re=Gc.call(this,M[oe][0],M[oe][1],M[oe][2],Me[oe][3],!0);m===!1&&(g[Re]=!0);var Ve=M[oe][0].split("-");zc({id:Re,fontName:Ve[0],fontStyle:Ve[1]||""})}bn.publish("addFonts",{fonts:yn,dictionary:xn})},ba=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Re){var oe=Re.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Ee="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Re.message;if(!rn.console)throw new Error(Ee);rn.console.error(Ee,Re),rn.alert&&alert(Ee)}},M.foo.bar=M,M.foo},Ys=function(M,oe){var Ee,Re,Ve,nt,mt,Nt,_,z,Z;if(Ve=(oe=oe||{}).sourceEncoding||"Unicode",mt=oe.outputEncoding,(oe.autoencode||mt)&&yn[qt].metadata&&yn[qt].metadata[Ve]&&yn[qt].metadata[Ve].encoding&&(nt=yn[qt].metadata[Ve].encoding,!mt&&yn[qt].encoding&&(mt=yn[qt].encoding),!mt&&nt.codePages&&(mt=nt.codePages[0]),typeof mt=="string"&&(mt=nt[mt]),mt)){for(_=!1,Nt=[],Ee=0,Re=M.length;Ee<Re;Ee++)(z=mt[M.charCodeAt(Ee)])?Nt.push(String.fromCharCode(z)):Nt.push(M[Ee]),Nt[Ee].charCodeAt(0)>>8&&(_=!0);M=Nt.join("")}for(Ee=M.length;_===void 0&&Ee!==0;)M.charCodeAt(Ee-1)>>8&&(_=!0),Ee--;if(!_)return M;for(Nt=oe.noBOM?[]:[254,255],Ee=0,Re=M.length;Ee<Re;Ee++){if((Z=(z=M.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Z),Nt.push(z-(Z<<8))}return String.fromCharCode.apply(void 0,Nt)},Jr=y.__private__.pdfEscape=y.pdfEscape=function(M,oe){return Ys(M,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xr=y.__private__.beginPage=function(M){Ce[++En]=[],Mt[En]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},el(En),se(Ce[H])},Xs=function(M,oe){var Ee,Re,Ve;switch(n=oe||n,typeof M=="string"&&(Ee=I(M.toLowerCase()),Array.isArray(Ee)&&(Re=Ee[0],Ve=Ee[1])),Array.isArray(M)&&(Re=M[0]*wt,Ve=M[1]*wt),isNaN(Re)&&(Re=i[0],Ve=i[1]),(Re>14400||Ve>14400)&&(Ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Ve=Math.min(14400,Ve)),i=[Re,Ve],n.substr(0,1)){case"l":Ve>Re&&(i=[Ve,Re]);break;case"p":Re>Ve&&(i=[Ve,Re])}xr(i),So(di),X(Hi),Yc!==0&&X(Yc+" J"),Wl!==0&&X(Wl+" j"),bn.publish("addPage",{pageNumber:En})},Zo=function(M){M>0&&M<=En&&(Ce.splice(M,1),Mt.splice(M,1),En--,H>En&&(H=En),this.setPage(H))},el=function(M){M>0&&M<=En&&(H=M)},Dn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ce.length-1},wo=function(M,oe,Ee){var Re,Ve=void 0;return Ee=Ee||{},M=M!==void 0?M:yn[qt].fontName,oe=oe!==void 0?oe:yn[qt].fontStyle,Re=M.toLowerCase(),xn[Re]!==void 0&&xn[Re][oe]!==void 0?Ve=xn[Re][oe]:xn[M]!==void 0&&xn[M][oe]!==void 0?Ve=xn[M][oe]:Ee.disableWarning===!1&&Ir.warn("Unable to look up font label for font '"+M+"', '"+oe+"'. Refer to getFontList() for available fonts."),Ve||Ee.noFallback||(Ve=xn.times[oe])==null&&(Ve=xn.times.normal),Ve},Ao=y.__private__.putInfo=function(){var M=cr(),oe=function(Re){return Re};for(var Ee in h!==null&&(oe=$n.encryptor(M,0)),X("<<"),X("/Producer ("+Jr(oe("jsPDF "+Xt.version))+")"),Tt)Tt.hasOwnProperty(Ee)&&Tt[Ee]&&X("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Jr(oe(Tt[Ee]))+")");X("/CreationDate ("+Jr(oe(ce))+")"),X(">>"),X("endobj")},ia=y.__private__.putCatalog=function(M){var oe=(M=M||{}).rootDictionaryObjId||cn;switch(cr(),X("<<"),X("/Type /Catalog"),X("/Pages "+oe+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Je;Ee.substr(Ee.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&X("/OpenAction [3 0 R /XYZ null null "+G(Je)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Xe&&X("/PageMode /"+Xe),bn.publish("putCatalog"),X(">>"),X("endobj")},wf=y.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(Q+1)),X("/Root "+Q+" 0 R"),X("/Info "+(Q-1)+" 0 R"),h!==null&&X("/Encrypt "+$n.oid+" 0 R"),X("/ID [ <"+ne+"> <"+ne+"> ]"),X(">>")},Hc=y.__private__.putHeader=function(){X("%PDF-"+N),X("%")},Hu=y.__private__.putXRef=function(){var M="0000000000";X("xref"),X("0 "+(Q+1)),X("0000000000 65535 f ");for(var oe=1;oe<=Q;oe++)typeof he[oe]=="function"?X((M+he[oe]()).slice(-10)+" 00000 n "):he[oe]!==void 0?X((M+he[oe]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},us=y.__private__.buildDocument=function(){Te(),se(_e),bn.publish("buildDocument"),Hc(),Dr(),Ii(),xa(),h!==null&&_f(),Ao(),ia();var M=ae;return Hu(),wf(),X("startxref"),X(""+M),X("%%EOF"),se(Ce[H]),_e.join(`
`)},ql=y.__private__.getBlob=function(M){return new Blob([Ke(M)],{type:"application/pdf"})},Bl=y.output=y.__private__.output=ba((function(M,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",M){case void 0:return us();case"save":y.save(oe.filename);break;case"arraybuffer":return Ke(us());case"blob":return ql(us());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(ql(us()))||void 0;Ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Re=us();try{Ee=vN(Re)}catch{Ee=vN(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Ve=oe.pdfObjectUrl,nt="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",Nt=rn.open();return Nt!==null&&Nt.document.write(mt),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',z=rn.open();if(z!==null){z.document.write(_);var Z=this;z.document.documentElement.querySelector("#pdfViewer").onload=function(){z.document.title=oe.filename,z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Z.output("bloburl"))}}return z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',Fe=rn.open();if(Fe!==null&&(Fe.document.write(ge),Fe.document.title=oe.filename),Fe||typeof safari>"u")return Fe;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",oe);default:return null}})),ds=function(M){return Array.isArray(xi)===!0&&xi.indexOf(M)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var $n=null;re(),te();var $l=function(M){return h!==null?$n.encryptor(M,0):function(oe){return oe}},tl=y.__private__.getPageInfo=y.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[M].objId,pageNumber:M,pageContext:Mt[M]}},Ht=y.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in Mt)if(Mt[oe].objId===M)break;return tl(oe)},_a=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Mt[H].objId,pageNumber:H,pageContext:Mt[H]}};y.addPage=function(){return Xs.apply(this,arguments),this},y.setPage=function(){return el.apply(this,arguments),se.call(this,Ce[H]),this},y.insertPage=function(M){return this.addPage(),this.movePage(H,M),this},y.movePage=function(M,oe){var Ee,Re;if(M>oe){Ee=Ce[M],Re=Mt[M];for(var Ve=M;Ve>oe;Ve--)Ce[Ve]=Ce[Ve-1],Mt[Ve]=Mt[Ve-1];Ce[oe]=Ee,Mt[oe]=Re,this.setPage(oe)}else if(M<oe){Ee=Ce[M],Re=Mt[M];for(var nt=M;nt<oe;nt++)Ce[nt]=Ce[nt+1],Mt[nt]=Mt[nt+1];Ce[oe]=Ee,Mt[oe]=Re,this.setPage(oe)}return this},y.deletePage=function(){return Zo.apply(this,arguments),this},y.__private__.text=y.text=function(M,oe,Ee,Re,Ve){var nt,mt,Nt,_,z,Z,ge,Fe,Ge,gt=(Re=Re||{}).scope||this;if(typeof M=="number"&&typeof oe=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var on=Ee;Ee=oe,oe=M,M=on}if(arguments[3]instanceof Ot?(j("The transform parameter of text() with a Matrix value"),Ge=Ve):(Nt=arguments[4],_=arguments[5],yr(ge=arguments[3])==="object"&&ge!==null||(typeof Nt=="string"&&(_=Nt,Nt=null),typeof ge=="string"&&(_=ge,ge=null),typeof ge=="number"&&(Nt=ge,ge=null),Re={flags:ge,angle:Nt,align:_})),isNaN(oe)||isNaN(Ee)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return gt;var Sn="",Jt=!1,Zn=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Jn,pr=gt.internal.scaleFactor;function to(Cn){return Cn=Cn.split("	").join(Array(Re.TabLen||9).join(" ")),Jr(Cn,ge)}function Ri(Cn){for(var sr,Wn=Cn.concat(),Fr=[],oo=Wn.length;oo--;)typeof(sr=Wn.shift())=="string"?Fr.push(sr):Array.isArray(Cn)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?Fr.push(sr[0]):Fr.push([sr[0],sr[1],sr[2]]);return Fr}function no(Cn,sr){var Wn;if(typeof Cn=="string")Wn=sr(Cn)[0];else if(Array.isArray(Cn)){for(var Fr,oo,rc=Cn.concat(),fl=[],td=rc.length;td--;)typeof(Fr=rc.shift())=="string"?fl.push(sr(Fr)[0]):Array.isArray(Fr)&&typeof Fr[0]=="string"&&(oo=sr(Fr[0],Fr[1],Fr[2]),fl.push([oo[0],oo[1],oo[2]]));Wn=fl}return Wn}var za=!1,ol=!0;if(typeof M=="string")za=!0;else if(Array.isArray(M)){var Af=M.concat();mt=[];for(var ll,Oi=Af.length;Oi--;)(typeof(ll=Af.shift())!="string"||Array.isArray(ll)&&typeof ll[0]!="string")&&(ol=!1);za=ol}if(za===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Xc=Ye/gt.internal.scaleFactor,Jl=Xc*(Zn-1);switch(Re.baseline){case"bottom":Ee-=Jl;break;case"top":Ee+=Xc-Jl;break;case"hanging":Ee+=Xc-2*Jl;break;case"middle":Ee+=Xc/2-Jl}if((Z=Re.maxWidth||0)>0&&(typeof M=="string"?M=gt.splitTextToSize(M,Z):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce((function(Cn,sr){return Cn.concat(gt.splitTextToSize(sr,Z))}),[]))),nt={text:M,x:oe,y:Ee,options:Re,mutex:{pdfEscape:Jr,activeFontKey:qt,fonts:yn,activeFontSize:Ye}},bn.publish("preProcessText",nt),M=nt.text,Nt=(Re=nt.options).angle,!(Ge instanceof Ot)&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,Re.rotationDirection===0&&(Nt=-Nt),F===O.ADVANCED&&(Nt=-Nt);var Ql=Math.cos(Nt),Yu=Math.sin(Nt);Ge=new Ot(Ql,Yu,-Yu,Ql,0,0)}else Nt&&Nt instanceof Ot&&(Ge=Nt);F!==O.ADVANCED||Ge||(Ge=jr),(z=Re.charSpace||il)!==void 0&&(Sn+=P(L(z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fe=Re.horizontalScale)!==void 0&&(Sn+=P(100*Fe)+` Tz
`),Re.lang;var Ea=-1,Eh=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,Ef=gt.internal.getCurrentPageInfo().pageContext;switch(Eh){case 0:case!1:case"fill":Ea=0;break;case 1:case!0:case"stroke":Ea=1;break;case 2:case"fillThenStroke":Ea=2;break;case 3:case"invisible":Ea=3;break;case 4:case"fillAndAddForClipping":Ea=4;break;case 5:case"strokeAndAddPathForClipping":Ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ea=6;break;case 7:case"addToPathForClipping":Ea=7}var Sh=Ef.usedRenderingMode!==void 0?Ef.usedRenderingMode:-1;Ea!==-1?Sn+=Ea+` Tr
`:Sh!==-1&&(Sn+=`0 Tr
`),Ea!==-1&&(Ef.usedRenderingMode=Ea),_=Re.align||"left";var Ts,Xu=Ye*Zn,Nh=gt.internal.pageSize.getWidth(),oa=yn[qt];z=Re.charSpace||il,Z=Re.maxWidth||0,ge=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Cs=[],Zl=function(Cn){return gt.getStringUnitWidth(Cn,{font:oa,charSpace:z,fontSize:Ye,doKerning:!1})*Ye/pr};if(Object.prototype.toString.call(M)==="[object Array]"){var Sa;mt=Ri(M),_!=="left"&&(Ts=mt.map(Zl));var la,cl=0;if(_==="right"){oe-=Ts[0],M=[],Oi=mt.length;for(var ro=0;ro<Oi;ro++)ro===0?(la=Aa(oe),Sa=zr(Ee)):(la=L(cl-Ts[ro]),Sa=-Xu),M.push([mt[ro],la,Sa]),cl=Ts[ro]}else if(_==="center"){oe-=Ts[0]/2,M=[],Oi=mt.length;for(var ul=0;ul<Oi;ul++)ul===0?(la=Aa(oe),Sa=zr(Ee)):(la=L((cl-Ts[ul])/2),Sa=-Xu),M.push([mt[ul],la,Sa]),cl=Ts[ul]}else if(_==="left"){M=[],Oi=mt.length;for(var io=0;io<Oi;io++)M.push(mt[io])}else if(_==="justify"&&oa.encoding==="Identity-H"){M=[],Oi=mt.length,Z=Z!==0?Z:Nh;for(var ao=0,Sr=0;Sr<Oi;Sr++)if(Sa=Sr===0?zr(Ee):-Xu,la=Sr===0?Aa(oe):ao,Sr<Oi-1){var Jc=L((Z-Ts[Sr])/(mt[Sr].split(" ").length-1)),ca=mt[Sr].split(" ");M.push([ca[0]+" ",la,Sa]),ao=0;for(var ki=1;ki<ca.length;ki++){var so=(Zl(ca[ki-1]+" "+ca[ki])-Zl(ca[ki]))*pr+Jc;ki==ca.length-1?M.push([ca[ki],so,0]):M.push([ca[ki]+" ",so,0]),ao-=so}}else M.push([mt[Sr],la,Sa]);M.push(["",ao,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],Oi=mt.length,Z=Z!==0?Z:Nh,Sr=0;Sr<Oi;Sr++)Sa=Sr===0?zr(Ee):-Xu,la=Sr===0?Aa(oe):0,Sr<Oi-1?Cs.push(P(L((Z-Ts[Sr])/(mt[Sr].split(" ").length-1)))):Cs.push(0),M.push([mt[Sr],la,Sa])}}var Ju=typeof Re.R2L=="boolean"?Re.R2L:it;Ju===!0&&(M=no(M,(function(Cn,sr,Wn){return[Cn.split("").reverse().join(""),sr,Wn]}))),nt={text:M,x:oe,y:Ee,options:Re,mutex:{pdfEscape:Jr,activeFontKey:qt,fonts:yn,activeFontSize:Ye}},bn.publish("postProcessText",nt),M=nt.text,Jt=nt.mutex.isHex||!1;var Qu=yn[qt].encoding;Qu!=="WinAnsiEncoding"&&Qu!=="StandardEncoding"||(M=no(M,(function(Cn,sr,Wn){return[to(Cn),sr,Wn]}))),mt=Ri(M),M=[];for(var hs,ec,dl,tc=0,Zu=1,Qc=Array.isArray(mt[0])?Zu:tc,nc="",ed=function(Cn,sr,Wn){var Fr="";return Wn instanceof Ot?(Wn=typeof Re.angle=="number"?Ci(Wn,new Ot(1,0,0,1,Cn,sr)):Ci(new Ot(1,0,0,1,Cn,sr),Wn),F===O.ADVANCED&&(Wn=Ci(new Ot(1,0,0,-1,0,0),Wn)),Fr=Wn.join(" ")+` Tm
`):Fr=P(Cn)+" "+P(sr)+` Td
`,Fr},ps=0;ps<mt.length;ps++){switch(nc="",Qc){case Zu:dl=(Jt?"<":"(")+mt[ps][0]+(Jt?">":")"),hs=parseFloat(mt[ps][1]),ec=parseFloat(mt[ps][2]);break;case tc:dl=(Jt?"<":"(")+mt[ps]+(Jt?">":")"),hs=Aa(oe),ec=zr(Ee)}Cs!==void 0&&Cs[ps]!==void 0&&(nc=Cs[ps]+` Tw
`),ps===0?M.push(nc+ed(hs,ec,Ge)+dl):Qc===tc?M.push(nc+dl):Qc===Zu&&M.push(nc+ed(hs,ec,Ge)+dl)}M=Qc===tc?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Ga=`BT
/`;return Ga+=qt+" "+Ye+` Tf
`,Ga+=P(Ye*Zn)+` TL
`,Ga+=eo+`
`,Ga+=Sn,Ga+=M,X(Ga+="ET"),g[qt]=!0,gt};var Wu=y.__private__.clip=y.clip=function(M){return X(M==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Wu("evenodd")},y.__private__.discardPath=y.discardPath=function(){return X("n"),this};var Ua=y.__private__.isValidStyle=function(M){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(oe=!0),oe};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(M){return Ua(M)&&(f=M),this};var Wc=y.__private__.getStyle=y.getStyle=function(M){var oe=f;switch(M){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=M}return oe},Gi=y.close=function(){return X("h"),this};y.stroke=function(){return X("S"),this},y.fill=function(M){return aa("f",M),this},y.fillEvenOdd=function(M){return aa("f*",M),this},y.fillStroke=function(M){return aa("B",M),this},y.fillStrokeEvenOdd=function(M){return aa("B*",M),this};var aa=function(M,oe){yr(oe)==="object"?wa(oe,M):X(M)},nl=function(M){M===null||F===O.ADVANCED&&M===void 0||(M=Wc(M),X(M))};function Ns(M,oe,Ee,Re,Ve){var nt=new bp(oe||this.boundingBox,Ee||this.xStep,Re||this.yStep,this.gState,Ve||this.matrix);nt.stream=this.stream;var mt=M+"$$"+this.cloneIndex+++"$$";return Br(mt,nt),nt}var wa=function(M,oe){var Ee=ci[M.key],Re=gn[Ee];if(Re instanceof $f)X("q"),X(zl(oe)),Re.gState&&y.setGState(Re.gState),X(M.matrix.toString()+" cm"),X("/"+Ee+" sh"),X("Q");else if(Re instanceof bp){var Ve=new Ot(1,0,0,-1,0,sa());M.matrix&&(Ve=Ve.multiply(M.matrix||jr),Ee=Ns.call(Re,M.key,M.boundingBox,M.xStep,M.yStep,Ve).id),X("q"),X("/Pattern cs"),X("/"+Ee+" scn"),Re.gState&&y.setGState(Re.gState),X(oe),X("Q")}},zl=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Va=y.moveTo=function(M,oe){return X(P(L(M))+" "+P(J(oe))+" m"),this},qa=y.lineTo=function(M,oe){return X(P(L(M))+" "+P(J(oe))+" l"),this},Ba=y.curveTo=function(M,oe,Ee,Re,Ve,nt){return X([P(L(M)),P(J(oe)),P(L(Ee)),P(J(Re)),P(L(Ve)),P(J(nt)),"c"].join(" ")),this};y.__private__.line=y.line=function(M,oe,Ee,Re,Ve){if(isNaN(M)||isNaN(oe)||isNaN(Ee)||isNaN(Re)||!Ua(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return F===O.COMPAT?this.lines([[Ee-M,Re-oe]],M,oe,[1,1],Ve||"S"):this.lines([[Ee-M,Re-oe]],M,oe,[1,1]).stroke()},y.__private__.lines=y.lines=function(M,oe,Ee,Re,Ve,nt){var mt,Nt,_,z,Z,ge,Fe,Ge,gt,on,Sn,Jt;if(typeof M=="number"&&(Jt=Ee,Ee=oe,oe=M,M=Jt),Re=Re||[1,1],nt=nt||!1,isNaN(oe)||isNaN(Ee)||!Array.isArray(M)||!Array.isArray(Re)||!Ua(Ve)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Va(oe,Ee),mt=Re[0],Nt=Re[1],z=M.length,on=oe,Sn=Ee,_=0;_<z;_++)(Z=M[_]).length===2?(on=Z[0]*mt+on,Sn=Z[1]*Nt+Sn,qa(on,Sn)):(ge=Z[0]*mt+on,Fe=Z[1]*Nt+Sn,Ge=Z[2]*mt+on,gt=Z[3]*Nt+Sn,on=Z[4]*mt+on,Sn=Z[5]*Nt+Sn,Ba(ge,Fe,Ge,gt,on,Sn));return nt&&Gi(),nl(Ve),this},y.path=function(M){for(var oe=0;oe<M.length;oe++){var Ee=M[oe],Re=Ee.c;switch(Ee.op){case"m":Va(Re[0],Re[1]);break;case"l":qa(Re[0],Re[1]);break;case"c":Ba.apply(this,Re);break;case"h":Gi()}}return this},y.__private__.rect=y.rect=function(M,oe,Ee,Re,Ve){if(isNaN(M)||isNaN(oe)||isNaN(Ee)||isNaN(Re)||!Ua(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return F===O.COMPAT&&(Re=-Re),X([P(L(M)),P(J(oe)),P(L(Ee)),P(L(Re)),"re"].join(" ")),nl(Ve),this},y.__private__.triangle=y.triangle=function(M,oe,Ee,Re,Ve,nt,mt){if(isNaN(M)||isNaN(oe)||isNaN(Ee)||isNaN(Re)||isNaN(Ve)||isNaN(nt)||!Ua(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-M,Re-oe],[Ve-Ee,nt-Re],[M-Ve,oe-nt]],M,oe,[1,1],mt,!0),this},y.__private__.roundedRect=y.roundedRect=function(M,oe,Ee,Re,Ve,nt,mt){if(isNaN(M)||isNaN(oe)||isNaN(Ee)||isNaN(Re)||isNaN(Ve)||isNaN(nt)||!Ua(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ee),nt=Math.min(nt,.5*Re),this.lines([[Ee-2*Ve,0],[Ve*Nt,0,Ve,nt-nt*Nt,Ve,nt],[0,Re-2*nt],[0,nt*Nt,-Ve*Nt,nt,-Ve,nt],[2*Ve-Ee,0],[-Ve*Nt,0,-Ve,-nt*Nt,-Ve,-nt],[0,2*nt-Re],[0,-nt*Nt,Ve*Nt,-nt,Ve,-nt]],M+Ve,oe,[1,1],mt,!0),this},y.__private__.ellipse=y.ellipse=function(M,oe,Ee,Re,Ve){if(isNaN(M)||isNaN(oe)||isNaN(Ee)||isNaN(Re)||!Ua(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*Ee,mt=4/3*(Math.SQRT2-1)*Re;return Va(M+Ee,oe),Ba(M+Ee,oe-mt,M+nt,oe-Re,M,oe-Re),Ba(M-nt,oe-Re,M-Ee,oe-mt,M-Ee,oe),Ba(M-Ee,oe+mt,M-nt,oe+Re,M,oe+Re),Ba(M+nt,oe+Re,M+Ee,oe+mt,M+Ee,oe),nl(Ve),this},y.__private__.circle=y.circle=function(M,oe,Ee,Re){if(isNaN(M)||isNaN(oe)||isNaN(Ee)||!Ua(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,oe,Ee,Ee,Re)},y.setFont=function(M,oe,Ee){return Ee&&(oe=q(oe,Ee)),qt=wo(M,oe,{disableWarning:!1}),this};var Eo=y.__private__.getFont=y.getFont=function(){return yn[wo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var M,oe,Ee={};for(M in xn)if(xn.hasOwnProperty(M))for(oe in Ee[M]=[],xn[M])xn[M].hasOwnProperty(oe)&&Ee[M].push(oe);return Ee},y.addFont=function(M,oe,Ee,Re,Ve){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(Ee=q(Ee,Re)),Ve=Ve||"Identity-H",Gc.call(this,M,oe,Ee,Ve)};var Jn,di=t.lineWidth||.200025,$a=y.__private__.getLineWidth=y.getLineWidth=function(){return di},So=y.__private__.setLineWidth=y.setLineWidth=function(M){return di=M,X(P(L(M))+" w"),this};y.__private__.setLineDash=Xt.API.setLineDash=Xt.API.setLineDashPattern=function(M,oe){if(M=M||[],oe=oe||0,isNaN(oe)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map((function(Ee){return P(L(Ee))})).join(" "),oe=P(L(oe)),X("["+M+"] "+oe+" d"),this};var Js=y.__private__.getLineHeight=y.getLineHeight=function(){return Ye*Jn};y.__private__.getLineHeight=y.getLineHeight=function(){return Ye*Jn};var Kc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Jn=M),this},Qs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Jn};Kc(t.lineHeight);var Aa=y.__private__.getHorizontalCoordinate=function(M){return L(M)},zr=y.__private__.getVerticalCoordinate=function(M){return F===O.ADVANCED?M:Mt[H].mediaBox.topRightY-Mt[H].mediaBox.bottomLeftY-L(M)},rl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(M){return P(Aa(M))},Zs=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(M){return P(zr(M))},Hi=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return $t(Hi)},y.__private__.setStrokeColor=y.setDrawColor=function(M,oe,Ee,Re){return Hi=nn({ch1:M,ch2:oe,ch3:Ee,ch4:Re,pdfColorType:"draw",precision:2}),X(Hi),this};var Gl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return $t(Gl)},y.__private__.setFillColor=y.setFillColor=function(M,oe,Ee,Re){return Gl=nn({ch1:M,ch2:oe,ch3:Ee,ch4:Re,pdfColorType:"fill",precision:2}),X(Gl),this};var eo=t.textColor||"0 g",No=y.__private__.getTextColor=y.getTextColor=function(){return $t(eo)};y.__private__.setTextColor=y.setTextColor=function(M,oe,Ee,Re){return eo=nn({ch1:M,ch2:oe,ch3:Ee,ch4:Re,pdfColorType:"text",precision:3}),this};var il=t.charSpace,Hl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(il||0)};y.__private__.setCharSpace=y.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return il=M,this};var Yc=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(M){var oe=y.CapJoinStyles[M];if(oe===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yc=oe,X(oe+" J"),this};var Wl=0;y.__private__.setLineJoin=y.setLineJoin=function(M){var oe=y.CapJoinStyles[M];if(oe===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wl=oe,X(oe+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(P(L(M))+" M"),this},y.GState=v1,y.setGState=function(M){(M=typeof M=="string"?Bn[kr[M]]:To(null,M)).equals(qr)||(X("/"+M.id+" gs"),qr=M)};var To=function(M,oe){if(!M||!kr[M]){var Ee=!1;for(var Re in Bn)if(Bn.hasOwnProperty(Re)&&Bn[Re].equals(oe)){Ee=!0;break}if(Ee)oe=Bn[Re];else{var Ve="GS"+(Object.keys(Bn).length+1).toString(10);Bn[Ve]=oe,oe.id=Ve}return M&&(kr[M]=oe.id),bn.publish("addGState",oe),oe}};y.addGState=function(M,oe){return To(M,oe),this},y.saveGraphicsState=function(){return X("q"),Ma.push({key:qt,size:Ye,color:eo}),this},y.restoreGraphicsState=function(){X("Q");var M=Ma.pop();return qt=M.key,Ye=M.size,eo=M.color,qr=null,this},y.setCurrentTransformationMatrix=function(M){return X(M.toString()+" cm"),this},y.comment=function(M){return X("#"+M),this};var Co=function(M,oe){var Ee=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(nt){isNaN(nt)||(Ee=parseFloat(nt))}});var Re=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(nt){isNaN(nt)||(Re=parseFloat(nt))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(nt){Ve=nt.toString()}}),this},Kl=function(M,oe,Ee,Re){Co.call(this,M,oe),this.type="rect";var Ve=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(mt){isNaN(mt)||(Ve=parseFloat(mt))}});var nt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(mt){isNaN(mt)||(nt=parseFloat(mt))}}),this},al=function(){this.page=En,this.currentPage=H,this.pages=Ce.slice(0),this.pagesContext=Mt.slice(0),this.x=Gn,this.y=en,this.matrix=Xn,this.width=Io(H),this.height=sa(H),this.outputDestination=Se,this.id="",this.objectNumber=-1};al.prototype.restore=function(){En=this.page,H=this.currentPage,Mt=this.pagesContext,Ce=this.pages,Gn=this.x,en=this.y,Xn=this.matrix,Xl(H,this.width),sl(H,this.height),Se=this.outputDestination};var Yl=function(M,oe,Ee,Re,Ve){bi.push(new al),En=H=0,Ce=[],Gn=M,en=oe,Xn=Ve,xr([Ee,Re])},Ku=function(M){if(ui[M])bi.pop().restore();else{var oe=new al,Ee="Xo"+(Object.keys(Pr).length+1).toString(10);oe.id=Ee,ui[M]=Ee,Pr[Ee]=oe,bn.publish("addFormObject",oe),bi.pop().restore()}};for(var fs in y.beginFormObject=function(M,oe,Ee,Re,Ve){return Yl(M,oe,Ee,Re,Ve),this},y.endFormObject=function(M){return Ku(M),this},y.doFormObject=function(M,oe){var Ee=Pr[ui[M]];return X("q"),X(oe.toString()+" cm"),X("/"+Ee.id+" Do"),X("Q"),this},y.getFormObject=function(M){var oe=Pr[ui[M]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},y.save=function(M,oe){return M=M||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(Vf(ql(us()),M),typeof Vf.unload=="function"&&rn.setTimeout&&setTimeout(Vf.unload,911),this):new Promise((function(Ee,Re){try{var Ve=Vf(ql(us()),M);typeof Vf.unload=="function"&&rn.setTimeout&&setTimeout(Vf.unload,911),Ee(Ve)}catch(nt){Re(nt.message)}}))},Xt.API)Xt.API.hasOwnProperty(fs)&&(fs==="events"&&Xt.API.events.length?(function(M,oe){var Ee,Re,Ve;for(Ve=oe.length-1;Ve!==-1;Ve--)Ee=oe[Ve][0],Re=oe[Ve][1],M.subscribe.apply(M,[Ee].concat(typeof Re=="function"?[Re]:Re))})(bn,Xt.API.events):y[fs]=Xt.API[fs]);var Io=y.getPageWidth=function(M){return(Mt[M=M||H].mediaBox.topRightX-Mt[M].mediaBox.bottomLeftX)/wt},Xl=y.setPageWidth=function(M,oe){Mt[M].mediaBox.topRightX=oe*wt+Mt[M].mediaBox.bottomLeftX},sa=y.getPageHeight=function(M){return(Mt[M=M||H].mediaBox.topRightY-Mt[M].mediaBox.bottomLeftY)/wt},sl=y.setPageHeight=function(M,oe){Mt[M].mediaBox.topRightY=oe*wt+Mt[M].mediaBox.bottomLeftY};return y.internal={pdfEscape:Jr,getStyle:Wc,getFont:Eo,getFontSize:rt,getCharSpace:Hl,getTextColor:No,getLineHeight:Js,getLineHeightFactor:Qs,getLineWidth:$a,write:De,getHorizontalCoordinate:Aa,getVerticalCoordinate:zr,getCoordinateString:rl,getVerticalCoordinateString:Zs,collections:{},newObject:cr,newAdditionalObject:Yt,newObjectDeferred:pe,newObjectDeferredBegin:Ze,getFilters:Be,putStream:Ct,events:bn,scaleFactor:wt,pageSize:{getWidth:function(){return Io(H)},setWidth:function(M){Xl(H,M)},getHeight:function(){return sa(H)},setHeight:function(M){sl(H,M)}},encryptionOptions:h,encryption:$n,getEncryptor:$l,output:Bl,getNumberOfPages:Dn,pages:Ce,out:X,f2:G,f3:V,getPageInfo:tl,getPageInfoByObjId:Ht,getCurrentPageInfo:_a,getPDFVersion:A,Point:Co,Rectangle:Kl,Matrix:Ot,hasHotfix:ds},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Io(H)},set:function(M){Xl(H,M)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return sa(H)},set:function(M){sl(H,M)},enumerable:!0,configurable:!0}),Vl.call(y,Me),qt="F1",Xs(i,n),bn.publish("initialized"),y}up.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},up.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},up.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},up.prototype.processOwnerPassword=function(t,e){return xN(yN(e).substr(0,5),t)},up.prototype.encryptor=function(t,e){var n=yN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return xN(n,r)}},v1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||yr(t)!==yr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Xt.API={events:[]},Xt.version="2.5.2";var mi=Xt.API,AC=1,yh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},op=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(t){return t.toFixed(2)},Nd=function(t){return t.toFixed(5)};mi.__acroform__={};var Hs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pM=function(t){return t*AC},vc=function(t){var e=new OV,n=Ut.internal.getHeight(t)||0,r=Ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(pn(r)),Number(pn(n))],e},tfe=mi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},nfe=mi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},rfe=mi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Ei=mi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rfe(t,e-1)},Si=mi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tfe(t,e-1)},Ni=mi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nfe(t,e-1)},ife=mi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(a)||0,[Number(pn(c.lowerLeft_X)),Number(pn(c.lowerLeft_Y)),Number(pn(c.upperRight_X)),Number(pn(c.upperRight_Y))]},afe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=bN(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+pn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=vc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},bN=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map((function(V){return V.split(`
`)})):i.map((function(V){return[V]}));var a=n,s=Ut.internal.getHeight(t)||0;s=s<0?-s:s;var l=Ut.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(V,L,k){if(V+1<i.length){var J=L+" "+i[V+1][0];return Iy(J,t,k).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,h,m=Iy("3",t,a).height,g=t.multiline?s-a:(s-m)/2,y=g+=2,N=0,A=0,E=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Iy(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var I="",O=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var U=!1;if(i[F].length!==1&&E!==i[F].length-1){if((m+2)*(O+2)+2>s)continue e;I+=i[F][E],U=!0,A=F,F--}else{I=(I+=i[F][E]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var D=parseInt(F),q=c(D,I,a),P=F>=i.length-1;if(q&&!P){I+=" ",E=0;continue}if(q||P){if(P)A=D;else if(t.multiline&&(m+2)*(O+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(O+2)+2>s)continue e;A=D}}for(var j="",$=N;$<=A;$++){var G=i[$];if(t.multiline){if($===A){j+=G[E]+" ",E=(E+1)%G.length;continue}if($===N){j+=G[G.length-1]+" ";continue}}j+=G[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,h=Iy(j,t,a).width,t.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;case"left":default:f=2}e+=pn(f)+" "+pn(y)+` Td
`,e+="("+yh(j)+`) Tj
`,e+=-pn(f)+` 0 Td
`,y=-(a+2),h=0,N=U?A:A+1,O++,I=""}break}return r.text=e,r.fontSize=a,r},Iy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},sfe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ofe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},lfe=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),yr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},cfe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ml.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(sfe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");AC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kV,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&ofe(a,n)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],f=l.Rect;if(l.Rect&&(l.Rect=ife(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ut.createDefaultAppearanceStream(l),yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=afe(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var y=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var s in y)if(y.hasOwnProperty(s)){var N=y[s];typeof N=="function"&&(N=N.call(i,l)),m+="/"+s+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(i,l)),m+="/"+s+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&lfe(i.internal.acroformPlugin.xForms,i)})(n,t)})),t.internal.acroformPlugin.isInitialized=!0}},RV=mi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),yr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+yh(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},SE=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+yh(r(t))+")"},wc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wc.prototype.toString=function(){return this.objId+" 0 R"},wc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:RV(i,this.objId,this.scope)}):i instanceof wc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var OV=function(){wc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Hs(OV,wc);var kV=function(){wc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yh(n(t))+")"}},set:function(n){t=n}})};Hs(kV,wc);var Ml=function t(){wc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ei(e,3)},set:function(I){I?this.F=Si(e,3):this.F=Ni(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof y1)return;a="FieldObject"+t.FieldNum++}var I=function(O){return O};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+yh(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(I){s=I}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/AC:f},set:function(I){f=I}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof y1||this instanceof Zf))return SE(m,this.objId,this.scope)},set:function(I){I=I.toString(),m=I}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ga?g:SE(g,this.objId,this.scope)},set:function(I){I=I.toString(),g=this instanceof ga?I:I.substr(0,1)==="("?op(I.substr(1,I.length-2)):op(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga?op(g.substr(1,g.length-1)):g},set:function(I){I=I.toString(),g=this instanceof ga?"/"+I:I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ga?y:SE(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof ga?I:I.substr(0,1)==="("?op(I.substr(1,I.length-2)):op(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga?op(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof ga?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(I){I=!!I,A=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(I){N=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,1)},set:function(I){I?this.Ff=Si(this.Ff,1):this.Ff=Ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,2)},set:function(I){I?this.Ff=Si(this.Ff,2):this.Ff=Ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,3)},set:function(I){I?this.Ff=Si(this.Ff,3):this.Ff=Ni(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');E=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(E){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Hs(Ml,wc);var Ip=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RV(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,f=[];c=s.exec(a);)f.push(c[l]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,18)},set:function(n){n?this.Ff=Si(this.Ff,18):this.Ff=Ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Si(this.Ff,19):this.Ff=Ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,20)},set:function(n){n?(this.Ff=Si(this.Ff,20),e.sort()):this.Ff=Ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,22)},set:function(n){n?this.Ff=Si(this.Ff,22):this.Ff=Ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,23)},set:function(n){n?this.Ff=Si(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,27)},set:function(n){n?this.Ff=Si(this.Ff,27):this.Ff=Ni(this.Ff,27)}}),this.hasAppearanceStream=!1};Hs(Ip,Ml);var Rp=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};Hs(Rp,Ip);var Op=function(){Rp.call(this),this.combo=!0};Hs(Op,Rp);var Wy=function(){Op.call(this),this.edit=!0};Hs(Wy,Op);var ga=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,15)},set:function(n){n?this.Ff=Si(this.Ff,15):this.Ff=Ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,16)},set:function(n){n?this.Ff=Si(this.Ff,16):this.Ff=Ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,17)},set:function(n){n?this.Ff=Si(this.Ff,17):this.Ff=Ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,26)},set:function(n){n?this.Ff=Si(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){yr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Hs(ga,Ml);var Ky=function(){ga.call(this),this.pushButton=!0};Hs(Ky,ga);var kp=function(){ga.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Hs(kp,ga);var y1=function(){var t,e;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+yh(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){yr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hs(y1,Ml),kp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},kp.prototype.createOption=function(t){var e=new y1;return e.Parent=this,e.optionName=t,this.Kids.push(e),ufe.call(this.scope,e),e};var Yy=function(){ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};Hs(Yy,ga);var Zf=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,13)},set:function(e){e?this.Ff=Si(this.Ff,13):this.Ff=Ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,21)},set:function(e){e?this.Ff=Si(this.Ff,21):this.Ff=Ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,23)},set:function(e){e?this.Ff=Si(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,24)},set:function(e){e?this.Ff=Si(this.Ff,24):this.Ff=Ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,25)},set:function(e){e?this.Ff=Si(this.Ff,25):this.Ff=Ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,26)},set:function(e){e?this.Ff=Si(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hs(Zf,Ml);var Xy=function(){Zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,14)},set:function(t){t?this.Ff=Si(this.Ff,14):this.Ff=Ni(this.Ff,14)}}),this.password=!0};Hs(Xy,Zf);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=vc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=bN(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=vc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Ut.internal.getHeight(t),s=Ut.internal.getWidth(t),l=bN(t,t.caption);return i.push("1 g"),i.push("0 0 "+pn(s)+" "+pn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pn(s-1)+" "+pn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+pn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=vc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Circle.YesNormal,e.D[t]=Ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=vc(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ut.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=vc(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ut.internal.Bezier_C).toFixed(5)),s=Number((r*Ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=vc(t);e.scope=t.scope;var n=[],r=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nd(Ut.internal.getWidth(t)/2)+" "+Nd(Ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Cross.YesNormal,e.D[t]=Ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=vc(t);e.scope=t.scope;var n=[],r=Ut.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+pn(Ut.internal.getWidth(t)-2)+" "+pn(Ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),n.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),n.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),n.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=vc(t);e.scope=t.scope;var n=Ut.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pn(Ut.internal.getWidth(t)-2)+" "+pn(Ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(n.x1.x)+" "+pn(n.x1.y)+" m"),r.push(pn(n.x2.x)+" "+pn(n.x2.y)+" l"),r.push(pn(n.x4.x)+" "+pn(n.x4.y)+" m"),r.push(pn(n.x3.x)+" "+pn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=vc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Ut.internal.getWidth(t))+" "+pn(Ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ut.internal.getWidth(t),n=Ut.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ut.internal.getWidth=function(t){var e=0;return yr(t)==="object"&&(e=pM(t.Rect[2])),e},Ut.internal.getHeight=function(t){var e=0;return yr(t)==="object"&&(e=pM(t.Rect[3])),e};var ufe=mi.addField=function(t){if(cfe(this,t),!(t instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=Ip,mi.AcroFormListBox=Rp,mi.AcroFormComboBox=Op,mi.AcroFormEditBox=Wy,mi.AcroFormButton=ga,mi.AcroFormPushButton=Ky,mi.AcroFormRadioButton=kp,mi.AcroFormCheckBox=Yy,mi.AcroFormTextField=Zf,mi.AcroFormPasswordField=Xy,mi.AcroFormAppearance=Ut,mi.AcroForm={ChoiceField:Ip,ListBox:Rp,ComboBox:Op,EditBox:Wy,Button:ga,PushButton:Ky,RadioButton:kp,CheckBox:Yy,TextField:Zf,PasswordField:Xy,Appearance:Ut},Xt.AcroForm={ChoiceField:Ip,ListBox:Rp,ComboBox:Op,EditBox:Wy,Button:ga,PushButton:Ky,RadioButton:kp,CheckBox:Yy,TextField:Zf,PasswordField:Xy,Appearance:Ut};Xt.AcroForm;function PV(t){return t.reduce((function(e,n,r){return e[n]=r,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(V,L){var k,J,ce,ne,ie,te=e;if((L=L||e)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(q(V))for(ie in n)for(ce=n[ie],k=0;k<ce.length;k+=1){for(ne=!0,J=0;J<ce[k].length;J+=1)if(ce[k][J]!==void 0&&ce[k][J]!==V[J]){ne=!1;break}if(ne===!0){te=ie;break}}else for(ie in n)for(ce=n[ie],k=0;k<ce.length;k+=1){for(ne=!0,J=0;J<ce[k].length;J+=1)if(ce[k][J]!==void 0&&ce[k][J]!==V.charCodeAt(J)){ne=!1;break}if(ne===!0){te=ie;break}}return te===e&&L!==e&&(te=L),te},i=function V(L){for(var k=this.internal.write,J=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:L.width}),ne.push({key:"Height",value:L.height}),L.colorSpace===E.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===E.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var ie="",te=0,fe=L.transparency.length;te<fe;te++)ie+=L.transparency[te]+" "+L.transparency[te]+" ";ne.push({key:"Mask",value:"["+ie+"]"})}L.sMask!==void 0&&ne.push({key:"SMask",value:L.objectId+1+" 0 R"});var be=L.filter!==void 0?["/"+L.filter]:void 0;if(J({data:L.data,additionalKeyValues:ne,alreadyAppliedFilters:be,objectId:L.objectId}),k("endobj"),"sMask"in L&&L.sMask!==void 0){var re="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,C={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:re,data:L.sMask};"filter"in L&&(C.filter=L.filter),V.call(this,C)}if(L.colorSpace===E.INDEXED){var H=this.internal.newObject();J({data:j(new Uint8Array(L.palette)),objectId:H}),k("endobj")}},a=function(){var V=this.internal.collections.addImage_images;for(var L in V)i.call(this,V[L])},s=function(){var V,L=this.internal.collections.addImage_images,k=this.internal.write;for(var J in L)k("/I"+(V=L[J]).index,V.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var V=this.internal.collections.addImage_images;return l.call(this),V},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(V){return typeof t["process"+V.toUpperCase()]=="function"},m=function(V){return yr(V)==="object"&&V.nodeType===1},g=function(V,L){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var k=""+V.getAttribute("src");if(k.indexOf("data:image/")===0)return Jg(unescape(k).split("base64,").pop());var J=t.loadFile(k,!0);if(J!==void 0)return J}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var ce;switch(L){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Jg(V.toDataURL(ce,1).split("base64,").pop())}},y=function(V){var L=this.internal.collections.addImage_images;if(L){for(var k in L)if(V===L[k].alias)return L[k]}},N=function(V,L,k){return V||L||(V=-96,L=-96),V<0&&(V=-1*k.width*72/V/this.internal.scaleFactor),L<0&&(L=-1*k.height*72/L/this.internal.scaleFactor),V===0&&(V=L*k.width/k.height),L===0&&(L=V*k.height/k.width),[V,L]},A=function(V,L,k,J,ce,ne){var ie=N.call(this,k,J,ce),te=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,be=c.call(this);if(k=ie[0],J=ie[1],be[ce.index]=ce,ne){ne*=Math.PI/180;var re=Math.cos(ne),C=Math.sin(ne),H=function(K){return K.toFixed(4)},W=[H(re),H(C),H(-1*C),H(re),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,te(V),fe(L+J),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([te(k),"0","0",te(J),"0","0","cm"].join(" "))):this.internal.write([te(k),"0","0",te(J),te(V),fe(L+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=t.__addimage__.sHashCode=function(V){var L,k,J=0;if(typeof V=="string")for(k=V.length,L=0;L<k;L++)J=(J<<5)-J+V.charCodeAt(L),J|=0;else if(q(V))for(k=V.byteLength/2,L=0;L<k;L++)J=(J<<5)-J+V[L],J|=0;return J},F=t.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var L=!0;return V.length===0&&(L=!1),V.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(L=!1),L},U=t.__addimage__.extractImageFromDataUrl=function(V){var L=(V=V||"").split("base64,"),k=null;if(L.length===2){var J=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(J)&&(k={mimeType:J[1],charset:J[2],data:L[1]})}return k},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(V){return D()&&V instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(V){return D()&&typeof Uint32Array<"u"&&(V instanceof Int8Array||V instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(V){for(var L=V.length,k=new Uint8Array(L),J=0;J<L;J++)k[J]=V.charCodeAt(J);return k},j=t.__addimage__.arrayBufferToBinaryString=function(V){for(var L="",k=q(V)?V:new Uint8Array(V),J=0;J<k.length;J+=8192)L+=String.fromCharCode.apply(null,k.subarray(J,J+8192));return L};t.addImage=function(){var V,L,k,J,ce,ne,ie,te,fe;if(typeof arguments[1]=="number"?(L=e,k=arguments[1],J=arguments[2],ce=arguments[3],ne=arguments[4],ie=arguments[5],te=arguments[6],fe=arguments[7]):(L=arguments[1],k=arguments[2],J=arguments[3],ce=arguments[4],ne=arguments[5],ie=arguments[6],te=arguments[7],fe=arguments[8]),yr(V=arguments[0])==="object"&&!m(V)&&"imageData"in V){var be=V;V=be.imageData,L=be.format||L||e,k=be.x||k||0,J=be.y||J||0,ce=be.w||be.width||ce,ne=be.h||be.height||ne,ie=be.alias||ie,te=be.compression||te,fe=be.rotation||be.angle||fe}var re=this.internal.getFilters();if(te===void 0&&re.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(k)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=$.call(this,V,L,ie,te);return A.call(this,k,J,ce,ne,C,fe),this};var $=function(V,L,k,J){var ce,ne,ie;if(typeof V=="string"&&r(V)===e){V=unescape(V);var te=G(V,!1);(te!==""||(te=t.loadFile(V,!0))!==void 0)&&(V=te)}if(m(V)&&(V=g(V,L)),L=r(V,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ie=k)==null||ie.length===0)&&(k=(function(fe){return typeof fe=="string"||q(fe)?O(fe):q(fe.data)?O(fe.data):null})(V)),(ce=y.call(this,k))||(D()&&(V instanceof Uint8Array||L==="RGBA"||(ne=V,V=P(V))),ce=this["process"+L.toUpperCase()](V,f.call(this),k,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in t.image_compression?fe:I.NONE})(J),ne)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},G=t.__addimage__.convertBase64ToBinaryString=function(V,L){var k;L=typeof L!="boolean"||L;var J,ce="";if(typeof V=="string"){J=(k=U(V))!==null?k.data:V;try{ce=Jg(J)}catch(ne){if(L)throw F(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(V){var L,k,J="";if(m(V)&&(V=g(V)),typeof V=="string"&&r(V)===e&&((J=G(V,!1))===""&&(J=t.loadFile(V)||""),V=J),k=r(V),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!D()||V instanceof Uint8Array||(V=P(V)),!(L=this["process"+k.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=k,L}})(Xt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Xt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((r=f[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(A.objId),O=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+y(I(r.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+y(I(O))+") >>",A.content=a;var F=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(A.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(N(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+i),h:f(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,l,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;s=Math.ceil(f*h)}else l=c,s=f;return this.text(n,r,i,a),i+=.2*f,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-f,l,s,a),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Xt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(A){return s(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(A){var E=0,I=n,O="",F=0;for(E=0;E<A.length;E+=1)I[A.charCodeAt(E)]!==void 0?(F++,typeof(I=I[A.charCodeAt(E)])=="number"&&(O+=String.fromCharCode(I),I=n,F=0),E===A.length-1&&(I=n,O+=A.charAt(E-(F-1)),E-=F-1,F=0)):(I=n,O+=A.charAt(E-F),E-=F,F=0);return O};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(A,E,I){return s(A)?a(A)===!1?-1:!f(A)||!s(E)&&!s(I)||!s(I)&&l(E)||l(A)&&!s(E)||l(A)&&c(E)||l(A)&&l(E)?0:h(A)&&s(E)&&!l(E)&&s(I)&&f(I)?3:l(A)||!s(I)?1:2:-1},y=function(A){var E=0,I=0,O=0,F="",U="",D="",q=(A=A||"").split("\\s+"),P=[];for(E=0;E<q.length;E+=1){for(P.push(""),I=0;I<q[E].length;I+=1)F=q[E][I],U=q[E][I-1],D=q[E][I+1],s(F)?(O=g(F,U,D),P[E]+=O!==-1?String.fromCharCode(e[F.charCodeAt(0)][O]):F):P[E]+=F;P[E]=m(P[E])}return P.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var A,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(E)){var O=0;for(I=[],O=0;O<E.length;O+=1)Array.isArray(E[O])?I.push([y(E[O][0]),E[O][1],E[O][2]]):I.push([y(E[O])]);A=I}else A=y(E);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",N])})(Xt.API),Xt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Xt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,y=0,N=0,A=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var I=f.maxWidth;I>0?typeof c=="string"?c=this.splitTextToSize(c,I):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(F,U){return F.concat(E.splitTextToSize(U,I))}),[])):c=Array.isArray(c)?c:[c];for(var O=0;O<c.length;O++)y<(A=this.getStringUnitWidth(c[O],{font:m})*h)&&(y=A);return y!==0&&(N=c.length),{w:y/=g,h:Math.max((N*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,h,m,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var y,N,A,E,I=[],O=[],F=[],U={},D={},q=[],P=[],j=(g=g||{}).autoSize||!1,$=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,V=g.margins||Object.assign({width:this.getPageWidth()},e),L=typeof g.padding=="number"?g.padding:3,k=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=J,this.setFontSize(G),m==null)O=I=Object.keys(h[0]),F=I.map((function(){return"left"}));else if(Array.isArray(m)&&yr(m[0])==="object")for(I=m.map((function(be){return be.name})),O=m.map((function(be){return be.prompt||be.name||""})),F=m.map((function(be){return be.align||"left"})),y=0;y<m.length;y+=1)D[m[y].name]=m[y].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(O=I=m,F=I.map((function(){return"left"})));if(j||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<I.length;y+=1){for(U[E=I[y]]=h.map((function(be){return be[E]})),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(O[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=U[E],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)q.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[E]=Math.max.apply(null,q)+L+L,q=[]}if($){var ce={};for(y=0;y<I.length;y+=1)ce[I[y]]={},ce[I[y]].text=O[y],ce[I[y]].align=F[y];var ne=l.call(this,ce,D);P=I.map((function(be){return new a(c,f,D[be],ne,ce[be].text,void 0,ce[be].align)})),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ie=m.reduce((function(be,re){return be[re.name]=re.align,be}),{});for(y=0;y<h.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:h[y]},this);var te=l.call(this,h[y],D);for(A=0;A<I.length;A+=1){var fe=h[y][I[A]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:A,data:fe},this),s.call(this,new a(c,f,D[I[A]],te,fe,y+2,ie[I[A]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map((function(y){var N=c[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[y]-h-h)}),this).map((function(y){return this.getLineHeightFactor()*y.length*m/g+h+h}),this).reduce((function(y,N){return Math.max(y,N)}),0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){h=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(Xt.API);var jV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},DV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_N=PV(DV),MV=[100,200,300,400,500,600,700,800,900],dfe=PV(MV);function wN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return jV[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(t.weight),i=(function(a){return typeof _N[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function mM(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var ffe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vM(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function hfe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},ffe,n.genericFontFamilies||{}),a=null,s=null,l=0;l<e.length;++l)if(i[(a=wN(e[l])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+vM(a)+"' and default family '"+r+"'.");if(s=(function(c,f){if(f[c])return f[c];var h=_N[c],m=h<=_N.normal?-1:1,g=mM(f,DV,h,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g})(a.stretch,s),s=(function(c,f){if(f[c])return f[c];for(var h=jV[c],m=0;m<h.length;++m)if(f[h[m]])return f[h[m]];throw new Error("Could not find a matching font-style for "+c)})(a.style,s),!(s=(function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var h=dfe[c],m=mM(f,MV,h,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m})(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+vM(a)+"'.");return s}function yM(t){return t.trimLeft()}function pfe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mfe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ry,xM,bM,NE=["times"];(function(t){var e,n,r,i,a,s,l,c,f,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new c,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var m=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=C;Object.defineProperty(this,"pdf",{get:function(){return H}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(se){W=!!se}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(se){K=!!se}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(se){isNaN(se)||(Q=se)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(se){isNaN(se)||(he=se)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(se){var X;typeof se=="number"?X=[se,se,se,se]:((X=new Array(4))[0]=se[0],X[1]=se.length>=2?se[1]:X[0],X[2]=se.length>=3?se[2]:X[0],X[3]=se.length>=4?se[3]:X[1]),f.margin=X}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(se){_e=se}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(se){ae=se}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(se){Ae=se}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(se){se instanceof h&&(f=se)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(se){f.path=se}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(se){Ce=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var X;X=g(se),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var X=g(se);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var Ne=null;function Se(se,X){if(Ne===null){var De=(function(Ke){var Me=[];return Object.keys(Ke).forEach((function(Ye){Ke[Ye].forEach((function(Je){var rt=null;switch(Je){case"bold":rt={family:Ye,weight:"bold"};break;case"italic":rt={family:Ye,style:"italic"};break;case"bolditalic":rt={family:Ye,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:Ye}}rt!==null&&(rt.ref={name:Ye,style:Je},Me.push(rt))}))})),Me})(se.getFontList());Ne=(function(Ke){for(var Me={},Ye=0;Ye<Ke.length;++Ye){var Je=wN(Ke[Ye]),rt=Je.family,it=Je.stretch,Xe=Je.style,yt=Je.weight;Me[rt]=Me[rt]||{},Me[rt][it]=Me[rt][it]||{},Me[rt][it][Xe]=Me[rt][it][Xe]||{},Me[rt][it][Xe][yt]=Je}return Me})(De.concat(X))}return Ne}var Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(se){Ne=null,Te=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var X;if(this.ctx.font=se,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(se))!==null){var De=X[1],Ke=(X[2],X[3]),Me=X[4],Ye=(X[5],X[6]),Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(Je==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var rt=(function(Tt){var qt,wt,Gn=[],en=Tt.trim();if(en==="")return NE;if(en in gM)return[gM[en]];for(;en!=="";){switch(wt=null,qt=(en=yM(en)).charAt(0)){case'"':case"'":wt=pfe(en.substring(1),qt);break;default:wt=mfe(en)}if(wt===null||(Gn.push(wt[0]),(en=yM(wt[1]))!==""&&en.charAt(0)!==","))return NE;en=en.replace(/^,/,"")}return Gn})(Ye);if(this.fontFaces){var it=hfe(Se(this.pdf,this.fontFaces),rt.map((function(Tt){return{family:Tt,stretch:"normal",weight:Ke,style:De}})));this.pdf.setFont(it.ref.name,it.ref.style)}else{var Xe="";(Ke==="bold"||parseInt(Ke,10)>=700||De==="bold")&&(Xe="bold"),De==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var yt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<rt.length;At++){if(this.pdf.internal.getFont(rt[At],Xe,{noFallback:!0,disableWarning:!0})!==void 0){yt=rt[At];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(rt[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=rt[At],Xe="bold";else if(this.pdf.internal.getFont(rt[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=rt[At],Xe="normal";break}}if(yt===""){for(var Dt=0;Dt<rt.length;Dt++)if(bt[rt[Dt]]){yt=bt[rt[Dt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};m.prototype.setLineDash=function(C){this.lineDash=C},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){U.call(this,"fill",!1)},m.prototype.stroke=function(){U.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(C,H){if(isNaN(C)||isNaN(H))throw Ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new s(C,H));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new s(C,H)},m.prototype.closePath=function(){var C=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&yr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){C=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},m.prototype.lineTo=function(C,H){if(isNaN(C)||isNaN(H))throw Ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new s(C,H));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new s(W.x,W.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},m.prototype.quadraticCurveTo=function(C,H,W,K){if(isNaN(W)||isNaN(K)||isNaN(C)||isNaN(H))throw Ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(W,K)),he=this.ctx.transform.applyToPoint(new s(C,H));this.path.push({type:"qct",x1:he.x,y1:he.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},m.prototype.bezierCurveTo=function(C,H,W,K,Q,he){if(isNaN(Q)||isNaN(he)||isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K))throw Ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new s(Q,he)),ae=this.ctx.transform.applyToPoint(new s(C,H)),Ae=this.ctx.transform.applyToPoint(new s(W,K));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Ae.x,y2:Ae.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new s(_e.x,_e.y)},m.prototype.arc=function(C,H,W,K,Q,he){if(isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K)||isNaN(Q))throw Ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new s(C,H));C=_e.x,H=_e.y;var ae=this.ctx.transform.applyToPoint(new s(0,W)),Ae=this.ctx.transform.applyToPoint(new s(0,0));W=Math.sqrt(Math.pow(ae.x-Ae.x,2)+Math.pow(ae.y-Ae.y,2))}Math.abs(Q-K)>=2*Math.PI&&(K=0,Q=2*Math.PI),this.path.push({type:"arc",x:C,y:H,radius:W,startAngle:K,endAngle:Q,counterclockwise:he})},m.prototype.arcTo=function(C,H,W,K,Q){throw new Error("arcTo not implemented.")},m.prototype.rect=function(C,H,W,K){if(isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K))throw Ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,H),this.lineTo(C+W,H),this.lineTo(C+W,H+K),this.lineTo(C,H+K),this.lineTo(C,H),this.lineTo(C+W,H),this.lineTo(C,H)},m.prototype.fillRect=function(C,H,W,K){if(isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K))throw Ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,H,W,K),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},m.prototype.strokeRect=function(C,H,W,K){if(isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K))throw Ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(C,H,W,K),this.stroke())},m.prototype.clearRect=function(C,H,W,K){if(isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K))throw Ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,H,W,K))},m.prototype.save=function(C){C=typeof C!="boolean"||C;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(H),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var H,W,K,Q;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))H=0,W=0,K=0,Q=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(he!==null)H=parseInt(he[1]),W=parseInt(he[2]),K=parseInt(he[3]),Q=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)H=parseInt(he[1]),W=parseInt(he[2]),K=parseInt(he[3]),Q=parseFloat(he[4]);else{if(Q=1,typeof C=="string"&&C.charAt(0)!=="#"){var _e=new TV(C);C=_e.ok?_e.toHex():"#000000"}C.length===4?(H=C.substring(1,2),H+=H,W=C.substring(2,3),W+=W,K=C.substring(3,4),K+=K):(H=C.substring(1,3),W=C.substring(3,5),K=C.substring(5,7)),H=parseInt(H,16),W=parseInt(W,16),K=parseInt(K,16)}}return{r:H,g:W,b:K,a:Q,style:C}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(C,H,W,K){if(isNaN(H)||isNaN(W)||typeof C!="string")throw Ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!y.call(this)){var Q=te(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;L.call(this,{text:C,x:H,y:W,scale:he,angle:Q,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(C,H,W,K){if(isNaN(H)||isNaN(W)||typeof C!="string")throw Ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){K=isNaN(K)?void 0:K;var Q=te(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;L.call(this,{text:C,x:H,y:W,scale:he,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(C){if(typeof C!="string")throw Ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,W=this.pdf.internal.scaleFactor,K=H.internal.getFontSize(),Q=H.getStringUnitWidth(C)*K/H.internal.scaleFactor,he=function(_e){var ae=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new he({width:Q*=Math.round(96*W/72*1e4)/1e4})},m.prototype.scale=function(C,H){if(isNaN(C)||isNaN(H))throw Ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(C,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.rotate=function(C){if(isNaN(C))throw Ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(C,H){if(isNaN(C)||isNaN(H))throw Ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,C,H);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.transform=function(C,H,W,K,Q,he){if(isNaN(C)||isNaN(H)||isNaN(W)||isNaN(K)||isNaN(Q)||isNaN(he))throw Ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new c(C,H,W,K,Q,he);this.ctx.transform=this.ctx.transform.multiply(_e)},m.prototype.setTransform=function(C,H,W,K,Q,he){C=isNaN(C)?1:C,H=isNaN(H)?0:H,W=isNaN(W)?0:W,K=isNaN(K)?1:K,Q=isNaN(Q)?0:Q,he=isNaN(he)?0:he,this.ctx.transform=new c(C,H,W,K,Q,he)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(C,H,W,K,Q,he,_e,ae,Ae){var Ce=this.pdf.getImageProperties(C),Ne=1,Se=1,Te=1,se=1;K!==void 0&&ae!==void 0&&(Te=ae/K,se=Ae/Q,Ne=Ce.width/K*ae/K,Se=Ce.height/Q*Ae/Q),he===void 0&&(he=H,_e=W,H=0,W=0),K!==void 0&&ae===void 0&&(ae=K,Ae=Q),K===void 0&&ae===void 0&&(ae=Ce.width,Ae=Ce.height);for(var X,De=this.ctx.transform.decompose(),Ke=te(De.rotate.shx),Me=new c,Ye=(Me=(Me=(Me=Me.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new l(he-H*Te,_e-W*se,K*Ne,Q*Se)),Je=E.call(this,Ye),rt=[],it=0;it<Je.length;it+=1)rt.indexOf(Je[it])===-1&&rt.push(Je[it]);if(F(rt),this.autoPaging)for(var Xe=rt[0],yt=rt[rt.length-1],bt=Xe;bt<yt+1;bt++){this.pdf.setPage(bt);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=bt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=bt===1?0:Tt+(bt-2)*qt;if(this.ctx.clip_path.length!==0){var Gn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(X,this.posX+this.margin[3],-wt+Dt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Gn}var en=JSON.parse(JSON.stringify(Ye));en=O([en],this.posX+this.margin[3],-wt+Dt+this.ctx.prevPageLastElemOffset)[0];var Xn=(bt>Xe||bt<yt)&&A.call(this);Xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,qt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",en.x,en.y,en.w,en.h,null,null,Ke),Xn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,Ke)};var E=function(C,H,W){var K=[];H=H||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":K.push(Math.floor((C.y+Q)/W)+1);break;case"arc":K.push(Math.floor((C.y+Q-C.radius)/W)+1),K.push(Math.floor((C.y+Q+C.radius)/W)+1);break;case"qct":var he=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);K.push(Math.floor((he.y+Q)/W)+1),K.push(Math.floor((he.y+he.h+Q)/W)+1);break;case"bct":var _e=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);K.push(Math.floor((_e.y+Q)/W)+1),K.push(Math.floor((_e.y+_e.h+Q)/W)+1);break;case"rect":K.push(Math.floor((C.y+Q)/W)+1),K.push(Math.floor((C.y+C.h+Q)/W)+1)}for(var ae=0;ae<K.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<K[ae];)I.call(this);return K},I=function(){var C=this.fillStyle,H=this.strokeStyle,W=this.font,K=this.lineCap,Q=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=H,this.font=W,this.lineCap=K,this.lineWidth=Q,this.lineJoin=he},O=function(C,H,W){for(var K=0;K<C.length;K++)switch(C[K].type){case"bct":C[K].x2+=H,C[K].y2+=W;case"qct":C[K].x1+=H,C[K].y1+=W;case"mt":case"lt":case"arc":default:C[K].x+=H,C[K].y+=W}return C},F=function(C){return C.sort((function(H,W){return H-W}))},U=function(C,H){for(var W,K,Q=this.fillStyle,he=this.strokeStyle,_e=this.lineCap,ae=this.lineWidth,Ae=Math.abs(ae*this.ctx.transform.scaleX),Ce=this.lineJoin,Ne=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),Te=[],se=0;se<Se.length;se++)if(Se[se].x!==void 0)for(var X=E.call(this,Se[se]),De=0;De<X.length;De+=1)Te.indexOf(X[De])===-1&&Te.push(X[De]);for(var Ke=0;Ke<Te.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<Te[Ke];)I.call(this);if(F(Te),this.autoPaging)for(var Me=Te[0],Ye=Te[Te.length-1],Je=Me;Je<Ye+1;Je++){this.pdf.setPage(Je),this.fillStyle=Q,this.strokeStyle=he,this.lineCap=_e,this.lineWidth=Ae,this.lineJoin=Ce;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Je===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Je===1?0:Xe+(Je-2)*yt;if(this.ctx.clip_path.length!==0){var At=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(W,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),D.call(this,C,!0),this.path=At}if(K=JSON.parse(JSON.stringify(Ne)),this.path=O(K,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),H===!1||Je===0){var Dt=(Je>Me||Je<Ye)&&A.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,yt,null).clip().discardPath()),D.call(this,C,H),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Ae,D.call(this,C,H),this.lineWidth=ae;this.path=Ne},D=function(C,H){if((C!=="stroke"||H||!N.call(this))&&(C==="stroke"||H||!y.call(this))){for(var W,K,Q=[],he=this.path,_e=0;_e<he.length;_e++){var ae=he[_e];switch(ae.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ae,deltas:[],abs:[]});break;case"lt":var Ae=Q.length;if(he[_e-1]&&!isNaN(he[_e-1].x)&&(W=[ae.x-he[_e-1].x,ae.y-he[_e-1].y],Ae>0)){for(;Ae>=0;Ae--)if(Q[Ae-1].close!==!0&&Q[Ae-1].begin!==!0){Q[Ae-1].deltas.push(W),Q[Ae-1].abs.push(ae);break}}break;case"bct":W=[ae.x1-he[_e-1].x,ae.y1-he[_e-1].y,ae.x2-he[_e-1].x,ae.y2-he[_e-1].y,ae.x-he[_e-1].x,ae.y-he[_e-1].y],Q[Q.length-1].deltas.push(W);break;case"qct":var Ce=he[_e-1].x+2/3*(ae.x1-he[_e-1].x),Ne=he[_e-1].y+2/3*(ae.y1-he[_e-1].y),Se=ae.x+2/3*(ae.x1-ae.x),Te=ae.y+2/3*(ae.y1-ae.y),se=ae.x,X=ae.y;W=[Ce-he[_e-1].x,Ne-he[_e-1].y,Se-he[_e-1].x,Te-he[_e-1].y,se-he[_e-1].x,X-he[_e-1].y],Q[Q.length-1].deltas.push(W);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ae)}}K=H?null:C==="stroke"?"stroke":"fill";for(var De=!1,Ke=0;Ke<Q.length;Ke++)if(Q[Ke].arc)for(var Me=Q[Ke].abs,Ye=0;Ye<Me.length;Ye++){var Je=Me[Ye];Je.type==="arc"?j.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,H,!De):k.call(this,Je.x,Je.y),De=!0}else if(Q[Ke].close===!0)this.pdf.internal.out("h"),De=!1;else if(Q[Ke].begin!==!0){var rt=Q[Ke].start.x,it=Q[Ke].start.y;J.call(this,Q[Ke].deltas,rt,it),De=!0}K&&$.call(this,K),H&&G.call(this)}},q=function(C){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-W;case"top":return C+H-W;case"hanging":return C+H-2*W;case"middle":return C+H/2-W;case"ideographic":return C;case"alphabetic":default:return C}},P=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(H,W){this.colorStops.push([H,W])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(C,H,W,K,Q,he,_e,ae,Ae){for(var Ce=ne.call(this,W,K,Q,he),Ne=0;Ne<Ce.length;Ne++){var Se=Ce[Ne];Ne===0&&(Ae?V.call(this,Se.x1+C,Se.y1+H):k.call(this,Se.x1+C,Se.y1+H)),ce.call(this,C,H,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}ae?G.call(this):$.call(this,_e)},$=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(C,H){this.pdf.internal.out(n(C)+" "+r(H)+" m")},L=function(C){var H;switch(C.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var W=this.pdf.getTextDimensions(C.text),K=q.call(this,C.y),Q=P.call(this,K)-W.h,he=this.ctx.transform.applyToPoint(new s(C.x,K)),_e=this.ctx.transform.decompose(),ae=new c;ae=(ae=(ae=ae.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ae,Ce,Ne,Se=this.ctx.transform.applyToRectangle(new l(C.x,K,W.w,W.h)),Te=ae.applyToRectangle(new l(C.x,Q,W.w,W.h)),se=E.call(this,Te),X=[],De=0;De<se.length;De+=1)X.indexOf(se[De])===-1&&X.push(se[De]);if(F(X),this.autoPaging)for(var Ke=X[0],Me=X[X.length-1],Ye=Ke;Ye<Me+1;Ye++){this.pdf.setPage(Ye);var Je=Ye===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],Xe=it-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],bt=yt-this.margin[3],At=Ye===1?0:rt+(Ye-2)*Xe;if(this.ctx.clip_path.length!==0){var Dt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Ae,this.posX+this.margin[3],-1*At+Je),D.call(this,"fill",!0),this.path=Dt}var Tt=O([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-At+Je+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*C.scale),Ne=this.lineWidth,this.lineWidth=Ne*C.scale);var qt=this.autoPaging!=="text";if(qt||Tt.y+Tt.h<=it){if(qt||Tt.y>=Je&&Tt.x<=yt){var wt=qt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||yt-Tt.x)[0],Gn=O([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-At+Je+this.ctx.prevPageLastElemOffset)[0],en=qt&&(Ye>Ke||Ye<Me)&&A.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Xe,null).clip().discardPath()),this.pdf.text(wt,Gn.x,Gn.y,{angle:C.angle,align:H,renderingMode:C.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else Tt.y<it&&(this.ctx.prevPageLastElemOffset+=it-Tt.y);C.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Ne)}else C.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*C.scale),Ne=this.lineWidth,this.lineWidth=Ne*C.scale),this.pdf.text(C.text,he.x+this.posX,he.y+this.posY,{angle:C.angle,align:H,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Ne)},k=function(C,H,W,K){W=W||0,K=K||0,this.pdf.internal.out(n(C+W)+" "+r(H+K)+" l")},J=function(C,H,W){return this.pdf.lines(C,H,W,null,null)},ce=function(C,H,W,K,Q,he,_e,ae){this.pdf.internal.out([e(i(W+C)),e(a(K+H)),e(i(Q+C)),e(a(he+H)),e(i(_e+C)),e(a(ae+H)),"c"].join(" "))},ne=function(C,H,W,K){for(var Q=2*Math.PI,he=Math.PI/2;H>W;)H-=Q;var _e=Math.abs(W-H);_e<Q&&K&&(_e=Q-_e);for(var ae=[],Ae=K?-1:1,Ce=H;_e>1e-5;){var Ne=Ce+Ae*Math.min(_e,he);ae.push(ie.call(this,C,Ce,Ne)),_e-=Math.abs(Ne-Ce),Ce=Ne}return ae},ie=function(C,H,W){var K=(W-H)/2,Q=C*Math.cos(K),he=C*Math.sin(K),_e=Q,ae=-he,Ae=_e*_e+ae*ae,Ce=Ae+_e*Q+ae*he,Ne=4/3*(Math.sqrt(2*Ae*Ce)-Ce)/(_e*he-ae*Q),Se=_e-Ne*ae,Te=ae+Ne*_e,se=Se,X=-Te,De=K+H,Ke=Math.cos(De),Me=Math.sin(De);return{x1:C*Math.cos(H),y1:C*Math.sin(H),x2:Se*Ke-Te*Me,y2:Se*Me+Te*Ke,x3:se*Ke-X*Me,y3:se*Me+X*Ke,x4:C*Math.cos(W),y4:C*Math.sin(W)}},te=function(C){return 180*C/Math.PI},fe=function(C,H,W,K,Q,he){var _e=C+.5*(W-C),ae=H+.5*(K-H),Ae=Q+.5*(W-Q),Ce=he+.5*(K-he),Ne=Math.min(C,Q,_e,Ae),Se=Math.max(C,Q,_e,Ae),Te=Math.min(H,he,ae,Ce),se=Math.max(H,he,ae,Ce);return new l(Ne,Te,Se-Ne,se-Te)},be=function(C,H,W,K,Q,he,_e,ae){var Ae,Ce,Ne,Se,Te,se,X,De,Ke,Me,Ye,Je,rt,it,Xe=W-C,yt=K-H,bt=Q-W,At=he-K,Dt=_e-Q,Tt=ae-he;for(Ce=0;Ce<41;Ce++)Ke=(X=(Ne=C+(Ae=Ce/40)*Xe)+Ae*((Te=W+Ae*bt)-Ne))+Ae*(Te+Ae*(Q+Ae*Dt-Te)-X),Me=(De=(Se=H+Ae*yt)+Ae*((se=K+Ae*At)-Se))+Ae*(se+Ae*(he+Ae*Tt-se)-De),Ce==0?(Ye=Ke,Je=Me,rt=Ke,it=Me):(Ye=Math.min(Ye,Ke),Je=Math.min(Je,Me),rt=Math.max(rt,Ke),it=Math.max(it,Me));return new l(Math.round(Ye),Math.round(Je),Math.round(rt-Ye),Math.round(it-Je))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,H,W=(C=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:H}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Xt.API),(function(t){var e=function(a){var s,l,c,f,h,m,g,y,N,A;for(l=[],c=0,f=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;f>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(h=((h=((h=((h=(h-(A=h%85))/85)-(N=h%85))/85)-(y=h%85))/85)-(g=h%85))/85)%85,l.push(m+33,g+33,y+33,N+33,A+33)):l.push(122);return(function(E,I){for(var O=I;O>0;O--)E.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,c,f,h,m=String,g="length",y=255,N="charCodeAt",A="slice",E="replace";for(a[A](-2),a=a[A](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),c=[],f=0,h=(a+=s="uuuuu"[A](a[g]%5||5))[g];h>f;f+=5)l=52200625*(a[N](f)-33)+614125*(a[N](f+1)-33)+7225*(a[N](f+2)-33)+85*(a[N](f+3)-33)+(a[N](f+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(I,O){for(var F=O;F>0;F--)I.pop()})(c,s[g]),m.fromCharCode.apply(m,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=gN(s)).reduce((function(c,f){return c+String.fromCharCode(f)}),"")};t.processDataByFilters=function(a,s){var l=0,c=a||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}})(Xt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,f,h){var m=new XMLHttpRequest,g=0,y=function(N){var A=N.length,E=[],I=String.fromCharCode;for(g=0;g<A;g+=1)E.push(I(255&N.charCodeAt(g)));return E.join("")};if(m.open("GET",c,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(y(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)})(i,a,s)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(Xt.API),(function(t){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):dN(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function n(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):dN(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var r=function(s){var l=yr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var f in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[f]=l.style[f];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then((function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(n).then((function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(f,h){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),g=f.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",(function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft}),!0)),m})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(l){var c=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var y=f[g],N=y.src.find((function(A){return A.format==="truetype"}));N&&c.addFont(N.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,l)}))},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map((function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}}),this);return this.then((function(){return this.thenList(l)}))},a.prototype.get=function(s,l){return this.then((function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c}))},a.prototype.setMargin=function(s){return this.then((function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,f){return Math.floor(c*f/72*96)}return this.then((function(){(s=s||Xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},a.prototype.setProgress=function(s,l,c,f){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,f){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,(function(f,h){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,(function(m){return c.updateProgress(null,f),m})).then(f,h).then((function(m){return c.updateProgress(1),m}))}))},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(f,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach((function(c){l=l.thenCore(c)})),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Xt.getPageSize=function(s,l,c){if(yr(s)==="object"){var f=s;s=f.orientation,l=f.unit||l,c=f.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,m=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,N=0,A=0;if(g.hasOwnProperty(m))N=g[m][1]/h,A=g[m][0]/h;else try{N=c[1],A=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",A>N&&(y=A,A=N,N=y);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>A&&(y=A,A=N,N=y)}return{width:A,height:N,unit:l,k:h,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(wN):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}})(Xt.API),Xt.API.addJS=function(t){return bM=t,this.internal.events.subscribe("postPutResources",(function(){Ry=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ry+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bM+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Ry!==void 0&&xM!==void 0&&this.internal.out("/Names <</JavaScript "+Ry+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var m=n.internal.newObject();h.push(m);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Xt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,l){var c,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=(function(m){for(var g,y=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,A={width:0,height:0,numcomponents:1},E=4;E<N;E+=2){if(E+=y,e.indexOf(m.charCodeAt(E+1))!==-1){g=256*m.charCodeAt(E+5)+m.charCodeAt(E+6),A={width:256*m.charCodeAt(E+7)+m.charCodeAt(E+8),height:g,numcomponents:m.charCodeAt(E+9)};break}y=256*m.charCodeAt(E+2)+m.charCodeAt(E+3)}return A})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}})(Xt.API);var lp,Oy,_M,wM,AM,gfe=(function(){var t,e,n;function r(a){var s,l,c,f,h,m,g,y,N,A,E,I,O,F;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),N=(function(){var U,D;for(D=[],U=0;U<4;++U)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*h/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,I=0;0<=s?I<s:I>s;0<=s?++I:--I)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((A=c-this.transparency.indexed.length)>0)for(O=0;0<=A?O<A:O>A;0<=A?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(E=this.read(s)).indexOf(0),y=String.fromCharCode.apply(String,E.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,E.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(m,g,y,N){var A,E,I,O,F,U,D,q,P,j,$,G,V,L,k,J,ce,ne,ie,te,fe,be=Math.ceil((f.width-m)/y),re=Math.ceil((f.height-g)/N),C=f.width==be&&f.height==re;for(L=s*be,G=C?l:new Uint8Array(L*re),U=a.length,V=0,E=0;V<re&&c<U;){switch(a[c++]){case 0:for(O=ce=0;ce<L;O=ce+=1)G[E++]=a[c++];break;case 1:for(O=ne=0;ne<L;O=ne+=1)A=a[c++],F=O<s?0:G[E-s],G[E++]=(A+F)%256;break;case 2:for(O=ie=0;ie<L;O=ie+=1)A=a[c++],I=(O-O%s)/s,k=V&&G[(V-1)*L+I*s+O%s],G[E++]=(k+A)%256;break;case 3:for(O=te=0;te<L;O=te+=1)A=a[c++],I=(O-O%s)/s,F=O<s?0:G[E-s],k=V&&G[(V-1)*L+I*s+O%s],G[E++]=(A+Math.floor((F+k)/2))%256;break;case 4:for(O=fe=0;fe<L;O=fe+=1)A=a[c++],I=(O-O%s)/s,F=O<s?0:G[E-s],V===0?k=J=0:(k=G[(V-1)*L+I*s+O%s],J=I&&G[(V-1)*L+(I-1)*s+O%s]),D=F+k-J,q=Math.abs(D-F),j=Math.abs(D-k),$=Math.abs(D-J),P=q<=j&&q<=$?F:j<=$?k:J,G[E++]=(A+P)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!C){var H=((g+V*N)*f.width+m)*s,W=V*L;for(O=0;O<be;O+=1){for(var K=0;K<s;K+=1)l[H++]=G[W++];H+=(y-1)*s}}V++}}return a=Kde(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,f,h,m,g,y;for(l=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=m=0,g=l.length;m<g;s=m+=3)f[c++]=l[s],f[c++]=l[s+1],f[c++]=l[s+2],f[c++]=(y=h[a++])!=null?y:255;return f},r.prototype.copyToImageData=function(a,s){var l,c,f,h,m,g,y,N,A,E,I;if(c=this.colors,A=null,l=this.hasAlphaChannel,this.palette.length&&(A=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),c=4,l=!0),N=(f=a.data||a).length,m=A||s,h=g=0,c===1)for(;h<N;)y=A?4*s[h/4]:g,E=m[y++],f[h++]=E,f[h++]=E,f[h++]=E,f[h++]=l?m[y++]:255,g=y;else for(;h<N;)y=A?4*s[h/4]:g,f[h++]=m[y++],f[h++]=m[y++],f[h++]=m[y++],f[h++]=l?m[y++]:255,g=y},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(rn)==="[object Window]"){try{e=rn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,f,h,m,g,y;if(this.animation){for(y=[],l=h=0,m=(g=this.animation.frames).length;h<m;l=++h)s=g[l],c=a.createImageData(s.width,s.height),f=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,f),s.imageData=c,y.push(s.image=t(c));return y}},r.prototype.renderFrame=function(a,s){var l,c,f;return l=(c=this.animation.frames)[s],f=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,f,h,m,g=this;return l=0,m=this.animation,f=m.numFrames,c=m.frames,h=m.numPlays,(s=function(){var y,N;if(y=l++%f,N=c[y],g.renderFrame(a,y),f>1&&l/f<h)return g.animation._timeout=setTimeout(s,N.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function vfe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var f=!0,h=[],m=0,g=null,y=0,N=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],(1&A)==0&&(g=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,U=t[e++],D=U>>6&1,q=1<<(7&U)+1,P=l,j=c,$=!1;U>>7&&($=!0,P=e,j=q,e+=3*q);var G=e;for(e++;;){var V;if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}h.push({x:E,y:I,width:O,height:F,has_local_palette:$,palette_offset:P,palette_size:j,data_offset:G,data_length:e-G,transparent_index:g,interlaced:!!D,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return N},this.frameInfo=function(L){if(L<0||L>=h.length)throw new Error("Frame index out of range.");return h[L]},this.decodeAndBlitFrameBGRA=function(L,k){var J=this.frameInfo(L),ce=J.width*J.height,ne=new Uint8Array(ce);EM(t,J.data_offset,ne,ce);var ie=J.palette_offset,te=J.transparent_index;te===null&&(te=256);var fe=J.width,be=n-fe,re=fe,C=4*(J.y*n+J.x),H=4*((J.y+J.height)*n+J.x),W=C,K=4*be;J.interlaced===!0&&(K+=4*n*7);for(var Q=8,he=0,_e=ne.length;he<_e;++he){var ae=ne[he];if(re===0&&(re=fe,(W+=K)>=H&&(K=4*be+4*n*(Q-1),W=C+(fe+be)*(Q<<1),Q>>=1)),ae===te)W+=4;else{var Ae=t[ie+3*ae],Ce=t[ie+3*ae+1],Ne=t[ie+3*ae+2];k[W++]=Ne,k[W++]=Ce,k[W++]=Ae,k[W++]=255}--re}},this.decodeAndBlitFrameRGBA=function(L,k){var J=this.frameInfo(L),ce=J.width*J.height,ne=new Uint8Array(ce);EM(t,J.data_offset,ne,ce);var ie=J.palette_offset,te=J.transparent_index;te===null&&(te=256);var fe=J.width,be=n-fe,re=fe,C=4*(J.y*n+J.x),H=4*((J.y+J.height)*n+J.x),W=C,K=4*be;J.interlaced===!0&&(K+=4*n*7);for(var Q=8,he=0,_e=ne.length;he<_e;++he){var ae=ne[he];if(re===0&&(re=fe,(W+=K)>=H&&(K=4*be+4*n*(Q-1),W=C+(fe+be)*(Q<<1),Q>>=1)),ae===te)W+=4;else{var Ae=t[ie+3*ae],Ce=t[ie+3*ae+1],Ne=t[ie+3*ae+2];k[W++]=Ae,k[W++]=Ce,k[W++]=Ne,k[W++]=255}--re}}}function EM(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,f=(1<<c)-1,h=0,m=0,g=0,y=t[e++],N=new Int32Array(4096),A=null;;){for(;h<16&&y!==0;)m|=t[e++]<<h,h+=8,y===1?y=t[e++]:--y;if(h<c)break;var E=m&f;if(m>>=c,h-=c,E!==a){if(E===s)break;for(var I=E<l?E:A,O=0,F=I;F>a;)F=N[F]>>8,++O;var U=F;if(g+O+(I!==E?1:0)>r)return void Ir.log("Warning, gif stream longer than expected.");n[g++]=U;var D=g+=O;for(I!==E&&(n[g++]=U),F=I;O--;)F=N[F],n[--D]=255&F,F>>=8;A!==null&&l<4096&&(N[l++]=A<<8|U,l>=f+1&&c<12&&(++c,f=f<<1|1)),A=E}else l=s+1,f=(1<<(c=i+1))-1,A=null}return g!==r&&Ir.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function TE(t){var e,n,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),y=new Array(64),N=new Array(64),A=[],E=0,I=7,O=new Array(64),F=new Array(64),U=new Array(64),D=new Array(256),q=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(C,H){for(var W=0,K=0,Q=new Array,he=1;he<=16;he++){for(var _e=1;_e<=C[he];_e++)Q[H[K]]=[],Q[H[K]][0]=W,Q[H[K]][1]=he,K++,W++;W*=2}return Q}function ie(C){for(var H=C[0],W=C[1]-1;W>=0;)H&1<<W&&(E|=1<<I),W--,--I<0&&(E==255?(te(255),te(0)):te(E),I=7,E=0)}function te(C){A.push(C)}function fe(C){te(C>>8&255),te(255&C)}function be(C,H,W,K,Q){for(var he,_e=Q[0],ae=Q[240],Ae=(function(Me,Ye){var Je,rt,it,Xe,yt,bt,At,Dt,Tt,qt,wt=0;for(Tt=0;Tt<8;++Tt){Je=Me[wt],rt=Me[wt+1],it=Me[wt+2],Xe=Me[wt+3],yt=Me[wt+4],bt=Me[wt+5],At=Me[wt+6];var Gn=Je+(Dt=Me[wt+7]),en=Je-Dt,Xn=rt+At,yn=rt-At,xn=it+bt,Ma=it-bt,gn=Xe+yt,ci=Xe-yt,Bn=Gn+gn,kr=Gn-gn,qr=Xn+xn,En=Xn-xn;Me[wt]=Bn+qr,Me[wt+4]=Bn-qr;var Mt=.707106781*(En+kr);Me[wt+2]=kr+Mt,Me[wt+6]=kr-Mt;var bn=.382683433*((Bn=ci+Ma)-(En=yn+en)),xi=.5411961*Bn+bn,Pr=1.306562965*En+bn,ui=.707106781*(qr=Ma+yn),bi=en+ui,Ot=en-ui;Me[wt+5]=Ot+xi,Me[wt+3]=Ot-xi,Me[wt+1]=bi+Pr,Me[wt+7]=bi-Pr,wt+=8}for(wt=0,Tt=0;Tt<8;++Tt){Je=Me[wt],rt=Me[wt+8],it=Me[wt+16],Xe=Me[wt+24],yt=Me[wt+32],bt=Me[wt+40],At=Me[wt+48];var Ci=Je+(Dt=Me[wt+56]),jr=Je-Dt,Br=rt+At,cr=rt-At,pe=it+bt,Ze=it-bt,Yt=Xe+yt,cn=Xe-yt,Gt=Ci+Yt,$t=Ci-Yt,nn=Br+pe,Be=Br-pe;Me[wt]=Gt+nn,Me[wt+32]=Gt-nn;var Ct=.707106781*(Be+$t);Me[wt+16]=$t+Ct,Me[wt+48]=$t-Ct;var Bt=.382683433*((Gt=cn+Ze)-(Be=cr+jr)),Dr=.5411961*Gt+Bt,Mr=1.306562965*Be+Bt,jn=.707106781*(nn=Ze+cr),Lr=jr+jn,Hn=jr-jn;Me[wt+40]=Hn+Dr,Me[wt+24]=Hn-Dr,Me[wt+8]=Lr+Mr,Me[wt+56]=Lr-Mr,wt++}for(Tt=0;Tt<64;++Tt)qt=Me[Tt]*Ye[Tt],y[Tt]=qt>0?qt+.5|0:qt-.5|0;return y})(C,H),Ce=0;Ce<64;++Ce)N[P[Ce]]=Ae[Ce];var Ne=N[0]-W;W=N[0],Ne==0?ie(K[0]):(ie(K[g[he=32767+Ne]]),ie(m[he]));for(var Se=63;Se>0&&N[Se]==0;)Se--;if(Se==0)return ie(_e),W;for(var Te,se=1;se<=Se;){for(var X=se;N[se]==0&&se<=Se;)++se;var De=se-X;if(De>=16){Te=De>>4;for(var Ke=1;Ke<=Te;++Ke)ie(ae);De&=15}he=32767+N[se],ie(Q[(De<<4)+g[he]]),ie(m[he]),se++}return Se!=63&&ie(_e),W}function re(C){C=Math.min(Math.max(C,1),100),a!=C&&((function(H){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Q=s((W[K]*H+50)/100);Q=Math.min(Math.max(Q,1),255),l[P[K]]=Q}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ae=s((he[_e]*H+50)/100);ae=Math.min(Math.max(ae,1),255),c[P[_e]]=ae}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Ne=0;Ne<8;Ne++)for(var Se=0;Se<8;Se++)f[Ce]=1/(l[P[Ce]]*Ae[Ne]*Ae[Se]*8),h[Ce]=1/(c[P[Ce]]*Ae[Ne]*Ae[Se]*8),Ce++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),a=C)}this.encode=function(C,H){H&&re(H),A=new Array,E=0,I=7,fe(65496),fe(65504),fe(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),fe(1),fe(1),te(0),te(0),(function(){fe(65499),fe(132),te(0);for(var rt=0;rt<64;rt++)te(l[rt]);te(1);for(var it=0;it<64;it++)te(c[it])})(),(function(rt,it){fe(65472),fe(17),te(8),fe(it),fe(rt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(C.width,C.height),(function(){fe(65476),fe(418),te(0);for(var rt=0;rt<16;rt++)te(j[rt+1]);for(var it=0;it<=11;it++)te($[it]);te(16);for(var Xe=0;Xe<16;Xe++)te(G[Xe+1]);for(var yt=0;yt<=161;yt++)te(V[yt]);te(1);for(var bt=0;bt<16;bt++)te(L[bt+1]);for(var At=0;At<=11;At++)te(k[At]);te(17);for(var Dt=0;Dt<16;Dt++)te(J[Dt+1]);for(var Tt=0;Tt<=161;Tt++)te(ce[Tt])})(),fe(65498),fe(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var W=0,K=0,Q=0;E=0,I=7,this.encode.displayName="_encode_";for(var he,_e,ae,Ae,Ce,Ne,Se,Te,se,X=C.data,De=C.width,Ke=C.height,Me=4*De,Ye=0;Ye<Ke;){for(he=0;he<Me;){for(Ce=Me*Ye+he,Se=-1,Te=0,se=0;se<64;se++)Ne=Ce+(Te=se>>3)*Me+(Se=4*(7&se)),Ye+Te>=Ke&&(Ne-=Me*(Ye+1+Te-Ke)),he+Se>=Me&&(Ne-=he+Se-Me+4),_e=X[Ne++],ae=X[Ne++],Ae=X[Ne++],O[se]=(q[_e]+q[ae+256>>0]+q[Ae+512>>0]>>16)-128,F[se]=(q[_e+768>>0]+q[ae+1024>>0]+q[Ae+1280>>0]>>16)-128,U[se]=(q[_e+1280>>0]+q[ae+1536>>0]+q[Ae+1792>>0]>>16)-128;W=be(O,f,W,e,r),K=be(F,h,K,n,i),Q=be(U,h,Q,n,i),he+=32}Ye+=8}if(I>=0){var Je=[];Je[1]=I+1,Je[0]=(1<<I+1)-1,ie(Je)}return fe(65497),new Uint8Array(A)},t=t||50,(function(){for(var C=String.fromCharCode,H=0;H<256;H++)D[H]=C(H)})(),e=ne(j,$),n=ne(L,k),r=ne(G,V),i=ne(J,ce),(function(){for(var C=1,H=2,W=1;W<=15;W++){for(var K=C;K<H;K++)g[32767+K]=W,m[32767+K]=[],m[32767+K][1]=W,m[32767+K][0]=K;for(var Q=-(H-1);Q<=-C;Q++)g[32767+Q]=W,m[32767+Q]=[],m[32767+Q][1]=W,m[32767+Q][0]=H-1+Q;C<<=1,H<<=1}})(),(function(){for(var C=0;C<256;C++)q[C]=19595*C,q[C+256>>0]=38470*C,q[C+512>>0]=7471*C+32768,q[C+768>>0]=-11059*C,q[C+1024>>0]=-21709*C,q[C+1280>>0]=32768*C+8421375,q[C+1536>>0]=-27439*C,q[C+1792>>0]=-5329*C})(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function El(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SM(t){function e(j){if(!j)throw Error("assert :P")}function n(j,$,G){for(var V=0;4>V;V++)if(j[$+V]!=G.charCodeAt(V))return!0;return!1}function r(j,$,G,V,L){for(var k=0;k<L;k++)j[$+k]=G[V+k]}function i(j,$,G,V){for(var L=0;L<V;L++)j[$+L]=G}function a(j){return new Int32Array(j)}function s(j,$){for(var G=[],V=0;V<j;V++)G.push(new $);return G}function l(j,$){var G=[];return(function V(L,k,J){for(var ce=J[k],ne=0;ne<ce&&(L.push(J.length>k+1?[]:new $),!(J.length<k+1));ne++)V(L[ne],k+1,J)})(G,0,j),G}var c=function(){var j=this;function $(b,T){for(var B=1<<T-1>>>0;b&B;)B>>>=1;return B?(b&B-1)+B:b}function G(b,T,B,Y,le){e(!(Y%B));do b[T+(Y-=B)]=le;while(0<Y)}function V(b,T,B,Y,le){if(e(2328>=le),512>=le)var ue=a(512);else if((ue=a(le))==null)return 0;return(function(de,me,ye,we,Oe,ze){var $e,Ue,dt=me,tt=1<<ye,ke=a(16),je=a(16);for(e(Oe!=0),e(we!=null),e(de!=null),e(0<ye),Ue=0;Ue<Oe;++Ue){if(15<we[Ue])return 0;++ke[we[Ue]]}if(ke[0]==Oe)return 0;for(je[1]=0,$e=1;15>$e;++$e){if(ke[$e]>1<<$e)return 0;je[$e+1]=je[$e]+ke[$e]}for(Ue=0;Ue<Oe;++Ue)$e=we[Ue],0<we[Ue]&&(ze[je[$e]++]=Ue);if(je[15]==1)return(we=new L).g=0,we.value=ze[0],G(de,dt,1,tt,we),tt;var lt,pt=-1,ot=tt-1,It=0,Et=1,zt=1,St=1<<ye;for(Ue=0,$e=1,Oe=2;$e<=ye;++$e,Oe<<=1){if(Et+=zt<<=1,0>(zt-=ke[$e]))return 0;for(;0<ke[$e];--ke[$e])(we=new L).g=$e,we.value=ze[Ue++],G(de,dt+It,Oe,St,we),It=$(It,$e)}for($e=ye+1,Oe=2;15>=$e;++$e,Oe<<=1){if(Et+=zt<<=1,0>(zt-=ke[$e]))return 0;for(;0<ke[$e];--ke[$e]){if(we=new L,(It&ot)!=pt){for(dt+=St,lt=1<<(pt=$e)-ye;15>pt&&!(0>=(lt-=ke[pt]));)++pt,lt<<=1;tt+=St=1<<(lt=pt-ye),de[me+(pt=It&ot)].g=lt+ye,de[me+pt].value=dt-me-pt}we.g=$e-ye,we.value=ze[Ue++],G(de,dt+(It>>ye),Oe,St,we),It=$(It,$e)}}return Et!=2*je[15]-1?0:tt})(b,T,B,Y,le,ue)}function L(){this.value=this.g=0}function k(){this.value=this.g=0}function J(){this.G=s(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Oi,k)}function ce(b,T,B,Y){e(b!=null),e(T!=null),e(2147483648>Y),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=B,b.Jd=T,b.Yc=B+Y,b.Zc=4<=Y?B+Y-4+1:B,he(b)}function ne(b,T){for(var B=0;0<T--;)B|=ae(b,128)<<T;return B}function ie(b,T){var B=ne(b,T);return _e(b)?-B:B}function te(b,T,B,Y){var le,ue=0;for(e(b!=null),e(T!=null),e(4294967288>Y),b.Sb=Y,b.Ra=0,b.u=0,b.h=0,4<Y&&(Y=4),le=0;le<Y;++le)ue+=T[B+le]<<8*le;b.Ra=ue,b.bb=Y,b.oa=T,b.pa=B}function fe(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Ql-8>>>0,++b.bb,b.u-=8;W(b)&&(b.h=1,b.u=0)}function be(b,T){if(e(0<=T),!b.h&&T<=Jl){var B=H(b)&Xc[T];return b.u+=T,fe(b),B}return b.h=1,b.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(b){return b.Ra>>>(b.u&Ql-1)>>>0}function W(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Ql}function K(b,T){b.u=T,b.h=W(b)}function Q(b){b.u>=Yu&&(e(b.u>=Yu),fe(b))}function he(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function _e(b){return ne(b,1)}function ae(b,T){var B=b.Ca;0>b.b&&he(b);var Y=b.b,le=B*T>>>8,ue=(b.I>>>Y>le)+0;for(ue?(B-=le,b.I-=le+1<<Y>>>0):B=le+1,Y=B,le=0;256<=Y;)le+=8,Y>>=8;return Y=7^le+Ea[Y],b.b-=Y,b.Ca=(B<<Y)-1,ue}function Ae(b,T,B){b[T+0]=B>>24&255,b[T+1]=B>>16&255,b[T+2]=B>>8&255,b[T+3]=B>>0&255}function Ce(b,T){return b[T+0]<<0|b[T+1]<<8}function Ne(b,T){return Ce(b,T)|b[T+2]<<16}function Se(b,T){return Ce(b,T)|Ce(b,T+2)<<16}function Te(b,T){var B=1<<T;return e(b!=null),e(0<T),b.X=a(B),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function se(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),r(T.X,0,b.X,0,1<<T.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function De(b,T,B,Y){e(B!=null),e(Y!=null);var le=B[0],ue=Y[0];return le==0&&(le=(b*ue+T/2)/T),ue==0&&(ue=(T*le+b/2)/b),0>=le||0>=ue?0:(B[0]=le,Y[0]=ue,1)}function Ke(b,T){return b+(1<<T)-1>>>T}function Me(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function Ye(b,T){j[T]=function(B,Y,le,ue,de,me,ye){var we;for(we=0;we<de;++we){var Oe=j[b](me[ye+we-1],le,ue+we);me[ye+we]=Me(B[Y+we],Oe)}}}function Je(){this.ud=this.hd=this.jd=0}function rt(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function it(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Xe(b,T){return it(b+(b-T+.5>>1))}function yt(b,T,B){return Math.abs(T-B)-Math.abs(b-B)}function bt(b,T,B,Y,le,ue,de){for(Y=ue[de-1],B=0;B<le;++B)ue[de+B]=Y=Me(b[T+B],Y)}function At(b,T,B,Y,le){var ue;for(ue=0;ue<B;++ue){var de=b[T+ue],me=de>>8&255,ye=16711935&(ye=(ye=16711935&de)+((me<<16)+me));Y[le+ue]=(4278255360&de)+ye>>>0}}function Dt(b,T){T.jd=b>>0&255,T.hd=b>>8&255,T.ud=b>>16&255}function Tt(b,T,B,Y,le,ue){var de;for(de=0;de<Y;++de){var me=T[B+de],ye=me>>>8,we=me,Oe=255&(Oe=(Oe=me>>>16)+((b.jd<<24>>24)*(ye<<24>>24)>>>5));we=255&(we=(we=we+((b.hd<<24>>24)*(ye<<24>>24)>>>5))+((b.ud<<24>>24)*(Oe<<24>>24)>>>5)),le[ue+de]=(4278255360&me)+(Oe<<16)+we}}function qt(b,T,B,Y,le){j[T]=function(ue,de,me,ye,we,Oe,ze,$e,Ue){for(ye=ze;ye<$e;++ye)for(ze=0;ze<Ue;++ze)we[Oe++]=le(me[Y(ue[de++])])},j[b]=function(ue,de,me,ye,we,Oe,ze){var $e=8>>ue.b,Ue=ue.Ea,dt=ue.K[0],tt=ue.w;if(8>$e)for(ue=(1<<ue.b)-1,tt=(1<<$e)-1;de<me;++de){var ke,je=0;for(ke=0;ke<Ue;++ke)ke&ue||(je=Y(ye[we++])),Oe[ze++]=le(dt[je&tt]),je>>=$e}else j["VP8LMapColor"+B](ye,we,dt,tt,Oe,ze,de,me,Ue)}}function wt(b,T,B,Y,le){for(B=T+B;T<B;){var ue=b[T++];Y[le++]=ue>>16&255,Y[le++]=ue>>8&255,Y[le++]=ue>>0&255}}function Gn(b,T,B,Y,le){for(B=T+B;T<B;){var ue=b[T++];Y[le++]=ue>>16&255,Y[le++]=ue>>8&255,Y[le++]=ue>>0&255,Y[le++]=ue>>24&255}}function en(b,T,B,Y,le){for(B=T+B;T<B;){var ue=(de=b[T++])>>16&240|de>>12&15,de=de>>0&240|de>>28&15;Y[le++]=ue,Y[le++]=de}}function Xn(b,T,B,Y,le){for(B=T+B;T<B;){var ue=(de=b[T++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;Y[le++]=ue,Y[le++]=de}}function yn(b,T,B,Y,le){for(B=T+B;T<B;){var ue=b[T++];Y[le++]=ue>>0&255,Y[le++]=ue>>8&255,Y[le++]=ue>>16&255}}function xn(b,T,B,Y,le,ue){if(ue==0)for(B=T+B;T<B;)Ae(Y,((ue=b[T++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),le+=32;else r(Y,le,b,T,B)}function Ma(b,T){j[T][0]=j[b+"0"],j[T][1]=j[b+"1"],j[T][2]=j[b+"2"],j[T][3]=j[b+"3"],j[T][4]=j[b+"4"],j[T][5]=j[b+"5"],j[T][6]=j[b+"6"],j[T][7]=j[b+"7"],j[T][8]=j[b+"8"],j[T][9]=j[b+"9"],j[T][10]=j[b+"10"],j[T][11]=j[b+"11"],j[T][12]=j[b+"12"],j[T][13]=j[b+"13"],j[T][14]=j[b+"0"],j[T][15]=j[b+"0"]}function gn(b){return b==Tf||b==Ih||b==rd||b==Rh}function ci(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ci,this.f.kb=new Bn,this.sd=null}function qr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function En(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function bn(b,T){var B=b.T,Y=T.ba.f.RGBA,le=Y.eb,ue=Y.fb+b.ka*Y.A,de=Yi[T.ba.S],me=b.y,ye=b.O,we=b.f,Oe=b.N,ze=b.ea,$e=b.W,Ue=T.cc,dt=T.dc,tt=T.Mc,ke=T.Nc,je=b.ka,lt=b.ka+b.T,pt=b.U,ot=pt+1>>1;for(je==0?de(me,ye,null,null,we,Oe,ze,$e,we,Oe,ze,$e,le,ue,null,null,pt):(de(T.ec,T.fc,me,ye,Ue,dt,tt,ke,we,Oe,ze,$e,le,ue-Y.A,le,ue,pt),++B);je+2<lt;je+=2)Ue=we,dt=Oe,tt=ze,ke=$e,Oe+=b.Rc,$e+=b.Rc,ue+=2*Y.A,de(me,(ye+=2*b.fa)-b.fa,me,ye,Ue,dt,tt,ke,we,Oe,ze,$e,le,ue-Y.A,le,ue,pt);return ye+=b.fa,b.j+lt<b.o?(r(T.ec,T.fc,me,ye,pt),r(T.cc,T.dc,we,Oe,ot),r(T.Mc,T.Nc,ze,$e,ot),B--):1&lt||de(me,ye,null,null,we,Oe,ze,$e,we,Oe,ze,$e,le,ue+Y.A,null,null,pt),B}function xi(b,T,B){var Y=b.F,le=[b.J];if(Y!=null){var ue=b.U,de=T.ba.S,me=de==Nf||de==rd;T=T.ba.f.RGBA;var ye=[0],we=b.ka;ye[0]=b.T,b.Kb&&(we==0?--ye[0]:(--we,le[0]-=b.width),b.j+b.ka+b.T==b.o&&(ye[0]=b.o-b.j-we));var Oe=T.eb;we=T.fb+we*T.A,b=sr(Y,le[0],b.width,ue,ye,Oe,we+(me?0:3),T.A),e(B==ye),b&&gn(de)&&Ga(Oe,we,me,ue,ye,T.A)}return 0}function Pr(b){var T=b.ma,B=T.ba.S,Y=11>B,le=B==da||B==Is||B==Nf||B==nd||B==12||gn(B);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!ol(T.Oa,b,le?11:12))return 0;if(le&&gn(B)&&mt(),b.da)alert("todo:use_scaling");else{if(Y){if(T.Ib=Mt,b.Kb){if(B=b.U+1>>1,T.memory=a(b.U+2*B),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+B,T.Ib=bn,mt()}}else alert("todo:EmitYUV");le&&(T.Jb=xi,Y&&Ve())}if(Y&&!uc){for(b=0;256>b;++b)Xi[b]=89858*(b-128)+sd>>Ds,t_[b]=-22014*(b-128)+sd,Tv[b]=-45773*(b-128),Dh[b]=113618*(b-128)+sd>>Ds;for(b=tu;b<cc;++b)T=76283*(b-16)+sd>>Ds,n_[b-tu]=Zn(T,255),r_[b-tu]=Zn(T+8>>4,15);uc=1}return 1}function ui(b){var T=b.ma,B=b.U,Y=b.T;return e(!(1&b.ka)),0>=B||0>=Y?0:(B=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,B),T.Dc+=B,1)}function bi(b){b.ma.memory=null}function Ot(b,T,B,Y){return be(b,8)!=47?0:(T[0]=be(b,14)+1,B[0]=be(b,14)+1,Y[0]=be(b,1),be(b,3)!=0?0:!b.h)}function Ci(b,T){if(4>b)return b+1;var B=b-2>>1;return(2+(1&b)<<B)+be(T,B)+1}function jr(b,T){return 120<T?T-120:1<=(B=((B=Os[T-1])>>4)*b+(8-(15&B)))?B:1;var B}function Br(b,T,B){var Y=H(B),le=b[T+=255&Y].g-8;return 0<le&&(K(B,B.u+8),Y=H(B),T+=b[T].value,T+=Y&(1<<le)-1),K(B,B.u+b[T].g),b[T].value}function cr(b,T,B){return B.g+=b.g,B.value+=b.value<<T>>>0,e(8>=B.g),b.g}function pe(b,T,B){var Y=b.xc;return e((T=Y==0?0:b.vc[b.md*(B>>Y)+(T>>Y)])<b.Wb),b.Ya[T]}function Ze(b,T,B,Y){var le=b.ab,ue=b.c*T,de=b.C;T=de+T;var me=B,ye=Y;for(Y=b.Ta,B=b.Ua;0<le--;){var we=b.gc[le],Oe=de,ze=T,$e=me,Ue=ye,dt=(ye=Y,me=B,we.Ea);switch(e(Oe<ze),e(ze<=we.nc),we.hc){case 2:Sh($e,Ue,(ze-Oe)*dt,ye,me);break;case 0:var tt=Oe,ke=ze,je=ye,lt=me,pt=(St=we).Ea;tt==0&&(Eh($e,Ue,null,null,1,je,lt),bt($e,Ue+1,0,0,pt-1,je,lt+1),Ue+=pt,lt+=pt,++tt);for(var ot=1<<St.b,It=ot-1,Et=Ke(pt,St.b),zt=St.K,St=St.w+(tt>>St.b)*Et;tt<ke;){var Kn=zt,Rn=St,Mn=1;for(Ef($e,Ue,je,lt-pt,1,je,lt);Mn<pt;){var un=(Mn&~It)+ot;un>pt&&(un=pt),(0,Cs[Kn[Rn++]>>8&15])($e,Ue+ +Mn,je,lt+Mn-pt,un-Mn,je,lt+Mn),Mn=un}Ue+=pt,lt+=pt,++tt&It||(St+=Et)}ze!=we.nc&&r(ye,me-dt,ye,me+(ze-Oe-1)*dt,dt);break;case 1:for(dt=$e,ke=Ue,pt=($e=we.Ea)-(lt=$e&~(je=(Ue=1<<we.b)-1)),tt=Ke($e,we.b),ot=we.K,we=we.w+(Oe>>we.b)*tt;Oe<ze;){for(It=ot,Et=we,zt=new Je,St=ke+lt,Kn=ke+$e;ke<St;)Dt(It[Et++],zt),Zl(zt,dt,ke,Ue,ye,me),ke+=Ue,me+=Ue;ke<Kn&&(Dt(It[Et++],zt),Zl(zt,dt,ke,pt,ye,me),ke+=pt,me+=pt),++Oe&je||(we+=tt)}break;case 3:if($e==ye&&Ue==me&&0<we.b){for(ke=ye,$e=dt=me+(ze-Oe)*dt-(lt=(ze-Oe)*Ke(we.Ea,we.b)),Ue=ye,je=me,tt=[],lt=(pt=lt)-1;0<=lt;--lt)tt[lt]=Ue[je+lt];for(lt=pt-1;0<=lt;--lt)ke[$e+lt]=tt[lt];Ts(we,Oe,ze,ye,dt,ye,me)}else Ts(we,Oe,ze,$e,Ue,ye,me)}me=Y,ye=B}ye!=B&&r(Y,B,me,ye,ue)}function Yt(b,T){var B=b.V,Y=b.Ba+b.c*b.C,le=T-b.C;if(e(T<=b.l.o),e(16>=le),0<le){var ue=b.l,de=b.Ta,me=b.Ua,ye=ue.width;if(Ze(b,le,B,Y),le=me=[me],e((B=b.C)<(Y=T)),e(ue.v<ue.va),Y>ue.o&&(Y=ue.o),B<ue.j){var we=ue.j-B;B=ue.j,le[0]+=we*ye}if(B>=Y?B=0:(le[0]+=4*ue.v,ue.ka=B-ue.j,ue.U=ue.va-ue.v,ue.T=Y-B,B=1),B){if(me=me[0],11>(B=b.ca).S){var Oe=B.f.RGBA,ze=(Y=B.S,le=ue.U,ue=ue.T,we=Oe.eb,Oe.A),$e=ue;for(Oe=Oe.fb+b.Ma*Oe.A;0<$e--;){var Ue=de,dt=me,tt=le,ke=we,je=Oe;switch(Y){case Th:Sa(Ue,dt,tt,ke,je);break;case da:la(Ue,dt,tt,ke,je);break;case Tf:la(Ue,dt,tt,ke,je),Ga(ke,je,0,tt,1,0);break;case Ch:ul(Ue,dt,tt,ke,je);break;case Is:xn(Ue,dt,tt,ke,je,1);break;case Ih:xn(Ue,dt,tt,ke,je,1),Ga(ke,je,0,tt,1,0);break;case Nf:xn(Ue,dt,tt,ke,je,0);break;case rd:xn(Ue,dt,tt,ke,je,0),Ga(ke,je,1,tt,1,0);break;case nd:cl(Ue,dt,tt,ke,je);break;case Rh:cl(Ue,dt,tt,ke,je),Cn(ke,je,tt,1,0);break;case ic:ro(Ue,dt,tt,ke,je);break;default:e(0)}me+=ye,Oe+=ze}b.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=B.height)}}b.C=T,e(b.C<=b.i)}function cn(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var B=b.Ya[T].G,Y=b.Ya[T].H;if(0<B[1][Y[1]+0].g||0<B[2][Y[2]+0].g||0<B[3][Y[3]+0].g)return 0}return 1}function Gt(b,T,B,Y,le,ue){if(b.Z!=0){var de=b.qd,me=b.rd;for(e(pl[b.Z]!=null);T<B;++T)pl[b.Z](de,me,Y,le,Y,le,ue),de=Y,me=le,le+=ue;b.qd=de,b.rd=me}}function $t(b,T){var B=b.l.ma,Y=B.Z==0||B.Z==1?b.l.j:b.C;if(Y=b.C<Y?Y:b.C,e(T<=b.l.o),T>Y){var le=b.l.width,ue=B.ca,de=B.tb+le*Y,me=b.V,ye=b.Ba+b.c*Y,we=b.gc;e(b.ab==1),e(we[0].hc==3),Nh(we[0],Y,T,me,ye,ue,de),Gt(B,Y,T,ue,de,le)}b.C=b.Ma=T}function nn(b,T,B,Y,le,ue,de){var me=b.$/Y,ye=b.$%Y,we=b.m,Oe=b.s,ze=B+b.$,$e=ze;le=B+Y*le;var Ue=B+Y*ue,dt=280+Oe.ua,tt=b.Pb?me:16777216,ke=0<Oe.ua?Oe.Wa:null,je=Oe.wc,lt=ze<Ue?pe(Oe,ye,me):null;e(b.C<ue),e(Ue<=le);var pt=!1;e:for(;;){for(;pt||ze<Ue;){var ot=0;if(me>=tt){var It=ze-B;e((tt=b).Pb),tt.wd=tt.m,tt.xd=It,0<tt.s.ua&&se(tt.s.Wa,tt.s.vb),tt=me+ac}if(ye&je||(lt=pe(Oe,ye,me)),e(lt!=null),lt.Qb&&(T[ze]=lt.qb,pt=!0),!pt)if(Q(we),lt.jc){ot=we,It=T;var Et=ze,zt=lt.pd[H(ot)&Oi-1];e(lt.jc),256>zt.g?(K(ot,ot.u+zt.g),It[Et]=zt.value,ot=0):(K(ot,ot.u+zt.g-256),e(256<=zt.value),ot=zt.value),ot==0&&(pt=!0)}else ot=Br(lt.G[0],lt.H[0],we);if(we.h)break;if(pt||256>ot){if(!pt)if(lt.nd)T[ze]=(lt.qb|ot<<8)>>>0;else{if(Q(we),pt=Br(lt.G[1],lt.H[1],we),Q(we),It=Br(lt.G[2],lt.H[2],we),Et=Br(lt.G[3],lt.H[3],we),we.h)break;T[ze]=(Et<<24|pt<<16|ot<<8|It)>>>0}if(pt=!1,++ze,++ye>=Y&&(ye=0,++me,de!=null&&me<=ue&&!(me%16)&&de(b,me),ke!=null))for(;$e<ze;)ot=T[$e++],ke.X[(506832829*ot&4294967295)>>>ke.Mb]=ot}else if(280>ot){if(ot=Ci(ot-256,we),It=Br(lt.G[4],lt.H[4],we),Q(we),It=jr(Y,It=Ci(It,we)),we.h)break;if(ze-B<It||le-ze<ot)break e;for(Et=0;Et<ot;++Et)T[ze+Et]=T[ze+Et-It];for(ze+=ot,ye+=ot;ye>=Y;)ye-=Y,++me,de!=null&&me<=ue&&!(me%16)&&de(b,me);if(e(ze<=le),ye&je&&(lt=pe(Oe,ye,me)),ke!=null)for(;$e<ze;)ot=T[$e++],ke.X[(506832829*ot&4294967295)>>>ke.Mb]=ot}else{if(!(ot<dt))break e;for(pt=ot-280,e(ke!=null);$e<ze;)ot=T[$e++],ke.X[(506832829*ot&4294967295)>>>ke.Mb]=ot;ot=ze,e(!(pt>>>(It=ke).Xa)),T[ot]=It.X[pt],pt=!0}pt||e(we.h==W(we))}if(b.Pb&&we.h&&ze<le)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&se(b.s.vb,b.s.Wa);else{if(we.h)break e;de!=null&&de(b,me>ue?ue:me),b.a=0,b.$=ze-B}return 1}return b.a=3,0}function Be(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function Ct(){var b=new Ku;return b==null?null:(b.a=0,b.xb=Um,Ma("Predictor","VP8LPredictors"),Ma("Predictor","VP8LPredictors_C"),Ma("PredictorAdd","VP8LPredictorsAdd"),Ma("PredictorAdd","VP8LPredictorsAdd_C"),Sh=At,Zl=Tt,Sa=wt,la=Gn,cl=en,ro=Xn,ul=yn,j.VP8LMapColor32b=Xu,j.VP8LMapColor8b=oa,b)}function Bt(b,T,B,Y,le){var ue=1,de=[b],me=[T],ye=Y.m,we=Y.s,Oe=null,ze=0;e:for(;;){if(B)for(;ue&&be(ye,1);){var $e=de,Ue=me,dt=Y,tt=1,ke=dt.m,je=dt.gc[dt.ab],lt=be(ke,2);if(dt.Oc&1<<lt)ue=0;else{switch(dt.Oc|=1<<lt,je.hc=lt,je.Ea=$e[0],je.nc=Ue[0],je.K=[null],++dt.ab,e(4>=dt.ab),lt){case 0:case 1:je.b=be(ke,3)+2,tt=Bt(Ke(je.Ea,je.b),Ke(je.nc,je.b),0,dt,je.K),je.K=je.K[0];break;case 3:var pt,ot=be(ke,8)+1,It=16<ot?0:4<ot?1:2<ot?2:3;if($e[0]=Ke(je.Ea,It),je.b=It,pt=tt=Bt(ot,1,0,dt,je.K)){var Et,zt=ot,St=je,Kn=1<<(8>>St.b),Rn=a(Kn);if(Rn==null)pt=0;else{var Mn=St.K[0],un=St.w;for(Rn[0]=St.K[0][0],Et=1;Et<1*zt;++Et)Rn[Et]=Me(Mn[un+Et],Rn[Et-1]);for(;Et<4*Kn;++Et)Rn[Et]=0;St.K[0]=null,St.K[0]=Rn,pt=1}}tt=pt;break;case 2:break;default:e(0)}ue=tt}}if(de=de[0],me=me[0],ue&&be(ye,1)&&!(ue=1<=(ze=be(ye,4))&&11>=ze)){Y.a=3;break e}var or;if(or=ue)t:{var er,Qt,mr,Pi=Y,Zr=de,fa=me,zn=ze,Ji=B,Ha=Pi.m,_i=Pi.s,ei=[null],ji=1,gs=0,Ms=ks[zn];n:for(;;){if(Ji&&be(Ha,1)){var fi=be(Ha,3)+2,si=Ke(Zr,fi),Di=Ke(fa,fi),vs=si*Di;if(!Bt(si,Di,0,Pi,ei))break n;for(ei=ei[0],_i.xc=fi,er=0;er<vs;++er){var Oo=ei[er]>>8&65535;ei[er]=Oo,Oo>=ji&&(ji=Oo+1)}}if(Ha.h)break n;for(Qt=0;5>Qt;++Qt){var Gr=Zc[Qt];!Qt&&0<zn&&(Gr+=1<<zn),gs<Gr&&(gs=Gr)}var ko=s(ji*Ms,L),Wa=ji,ti=s(Wa,J);if(ti==null)var nu=null;else e(65536>=Wa),nu=ti;var ys=a(gs);if(nu==null||ys==null||ko==null){Pi.a=1;break n}var ln=ko;for(er=mr=0;er<ji;++er){var An=nu[er],Tr=An.G,ml=An.H,ru=0,Po=1,Of=0;for(Qt=0;5>Qt;++Qt){Gr=Zc[Qt],Tr[Qt]=ln,ml[Qt]=mr,!Qt&&0<zn&&(Gr+=1<<zn);i:{var dc,fc=Gr,Lh=Pi,br=ys,qm=ln,Bm=mr,Fh=0,gl=Lh.m,i_=be(gl,1);if(i(br,0,0,fc),i_){var $m=be(gl,1)+1,zm=be(gl,1),Uh=be(gl,zm==0?1:8);br[Uh]=1,$m==2&&(br[Uh=be(gl,8)]=1);var Mi=1}else{var ni=a(19),kf=be(gl,4)+4;if(19<kf){Lh.a=3;var hc=0;break i}for(dc=0;dc<kf;++dc)ni[Cf[dc]]=be(gl,3);var ld=void 0,iu=void 0,jo=Lh,Vh=ni,cd=fc,qh=br,Bh=0,vl=jo.m,Gm=8,Hm=s(128,L);r:for(;V(Hm,0,7,Vh,19);){if(be(vl,1)){var Cv=2+2*be(vl,3);if((ld=2+be(vl,Cv))>cd)break r}else ld=cd;for(iu=0;iu<cd&&ld--;){Q(vl);var Wm=Hm[0+(127&H(vl))];K(vl,vl.u+Wm.g);var pc=Wm.value;if(16>pc)qh[iu++]=pc,pc!=0&&(Gm=pc);else{var Iv=pc==16,Rv=pc-16,Ov=id[Rv],Km=be(vl,Rs[Rv])+Ov;if(iu+Km>cd)break r;for(var kv=Iv?Gm:0;0<Km--;)qh[iu++]=kv}}Bh=1;break r}Bh||(jo.a=3),Mi=Bh}(Mi=Mi&&!gl.h)&&(Fh=V(qm,Bm,8,br,fc)),Mi&&Fh!=0?hc=Fh:(Lh.a=3,hc=0)}if(hc==0)break n;if(Po&&Oh[Qt]==1&&(Po=ln[mr].g==0),ru+=ln[mr].g,mr+=hc,3>=Qt){var au,$h=ys[0];for(au=1;au<Gr;++au)ys[au]>$h&&($h=ys[au]);Of+=$h}}if(An.nd=Po,An.Qb=0,Po&&(An.qb=(Tr[3][ml[3]+0].value<<24|Tr[1][ml[1]+0].value<<16|Tr[2][ml[2]+0].value)>>>0,ru==0&&256>Tr[0][ml[0]+0].value&&(An.Qb=1,An.qb+=Tr[0][ml[0]+0].value<<8)),An.jc=!An.Qb&&6>Of,An.jc){var Pf,Do=An;for(Pf=0;Pf<Oi;++Pf){var yl=Pf,xl=Do.pd[yl],zh=Do.G[0][Do.H[0]+yl];256<=zh.value?(xl.g=zh.g+256,xl.value=zh.value):(xl.g=0,xl.value=0,yl>>=cr(zh,8,xl),yl>>=cr(Do.G[1][Do.H[1]+yl],16,xl),yl>>=cr(Do.G[2][Do.H[2]+yl],0,xl),cr(Do.G[3][Do.H[3]+yl],24,xl))}}}_i.vc=ei,_i.Wb=ji,_i.Ya=nu,_i.yc=ko,or=1;break t}or=0}if(!(ue=or)){Y.a=3;break e}if(0<ze){if(we.ua=1<<ze,!Te(we.Wa,ze)){Y.a=1,ue=0;break e}}else we.ua=0;var Gh=Y,su=de,Pv=me,ud=Gh.s,dd=ud.xc;if(Gh.c=su,Gh.i=Pv,ud.md=Ke(su,dd),ud.wc=dd==0?-1:(1<<dd)-1,B){Y.xb=sc;break e}if((Oe=a(de*me))==null){Y.a=1,ue=0;break e}ue=(ue=nn(Y,Oe,0,de,me,me,null))&&!ye.h;break e}return ue?(le!=null?le[0]=Oe:(e(Oe==null),e(B)),Y.$=0,B||Be(we)):Be(we),ue}function Dr(b,T){var B=b.c*b.i,Y=B+T+16*T;return e(b.c<=T),b.V=a(Y),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+B+T,1)}function Mr(b,T){var B=b.C,Y=T-B,le=b.V,ue=b.Ba+b.c*B;for(e(T<=b.l.o);0<Y;){var de=16<Y?16:Y,me=b.l.ma,ye=b.l.width,we=ye*de,Oe=me.ca,ze=me.tb+ye*B,$e=b.Ta,Ue=b.Ua;Ze(b,de,le,ue),Wn($e,Ue,Oe,ze,we),Gt(me,B,B+de,Oe,ze,ye),Y-=de,le+=de*b.c,B+=de}e(B==T),b.C=b.Ma=T}function jn(){this.ub=this.yd=this.td=this.Rb=0}function Lr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function La(){this.Yb=(function(){var b=[];return(function T(B,Y,le){for(var ue=le[Y],de=0;de<ue&&(B.push(le.length>Y+1?[]:0),!(le.length<Y+1));de++)T(B[de],Y+1,le)})(b,0,[3,11]),b})()}function cs(){this.jb=a(3),this.Wc=l([4,8],La),this.Xc=l([4,17],La)}function $r(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ws(){this.ld=this.La=this.dd=this.tc=0}function Ks(){this.Na=this.la=0}function zi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _f(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ws),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new Qo}function Ul(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $c(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new jn,this.Kc=new Lr,this.ed=new $r,this.Qa=new Hn,this.Ic=this.$c=this.Aa=0,this.D=new _f,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,re),this.ia=0,this.pb=s(4,zi),this.Pa=new cs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ul),this.Hd=0,this.rb=Array(new Ks),this.sb=0,this.wa=Array(new Ws),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=l([4,2],Ws),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _o(){var b=new $c;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ms||(ms=zc)),b}function ur(b,T,B){return b.a==0&&(b.a=T,b.sc=B,b.cb=0),0}function xa(b,T,B){return 3<=B&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function Ii(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return ur(b,2,"null VP8Io passed to VP8GetHeaders()");var B=T.data,Y=T.w,le=T.ha;if(4>le)return ur(b,7,"Truncated header.");var ue=B[Y+0]|B[Y+1]<<8|B[Y+2]<<16,de=b.Od;if(de.Rb=!(1&ue),de.td=ue>>1&7,de.yd=ue>>4&1,de.ub=ue>>5,3<de.td)return ur(b,3,"Incorrect keyframe parameters.");if(!de.yd)return ur(b,4,"Frame not displayable.");Y+=3,le-=3;var me=b.Kc;if(de.Rb){if(7>le)return ur(b,7,"cannot parse picture header");if(!xa(B,Y,le))return ur(b,3,"Bad code word");me.c=16383&(B[Y+4]<<8|B[Y+3]),me.Td=B[Y+4]>>6,me.i=16383&(B[Y+6]<<8|B[Y+5]),me.Ud=B[Y+6]>>6,Y+=7,le-=7,b.za=me.c+15>>4,b.Ub=me.i+15>>4,T.width=me.c,T.height=me.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ue=b.Pa).jb,0,255,ue.jb.length),e((ue=b.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,i(ue.Zb,0,0,ue.Zb.length),i(ue.Lb,0,0,ue.Lb)}if(de.ub>le)return ur(b,7,"bad partition length");ce(ue=b.m,B,Y,de.ub),Y+=de.ub,le-=de.ub,de.Rb&&(me.Ld=_e(ue),me.Kd=_e(ue)),me=b.Qa;var ye,we=b.Pa;if(e(ue!=null),e(me!=null),me.Cb=_e(ue),me.Cb){if(me.Bb=_e(ue),_e(ue)){for(me.Fb=_e(ue),ye=0;4>ye;++ye)me.Zb[ye]=_e(ue)?ie(ue,7):0;for(ye=0;4>ye;++ye)me.Lb[ye]=_e(ue)?ie(ue,6):0}if(me.Bb)for(ye=0;3>ye;++ye)we.jb[ye]=_e(ue)?ne(ue,8):255}else me.Bb=0;if(ue.Ka)return ur(b,3,"cannot parse segment header");if((me=b.ed).zd=_e(ue),me.Tb=ne(ue,6),me.wb=ne(ue,3),me.Pc=_e(ue),me.Pc&&_e(ue)){for(we=0;4>we;++we)_e(ue)&&(me.vd[we]=ie(ue,6));for(we=0;4>we;++we)_e(ue)&&(me.od[we]=ie(ue,6))}if(b.L=me.Tb==0?0:me.zd?1:2,ue.Ka)return ur(b,3,"cannot parse filter header");var Oe=le;if(le=ye=Y,Y=ye+Oe,me=Oe,b.Xb=(1<<ne(b.m,2))-1,Oe<3*(we=b.Xb))B=7;else{for(ye+=3*we,me-=3*we,Oe=0;Oe<we;++Oe){var ze=B[le+0]|B[le+1]<<8|B[le+2]<<16;ze>me&&(ze=me),ce(b.Jc[+Oe],B,ye,ze),ye+=ze,me-=ze,le+=3}ce(b.Jc[+we],B,ye,me),B=ye<Y?0:5}if(B!=0)return ur(b,B,"cannot parse partitions");for(B=ne(ye=b.m,7),le=_e(ye)?ie(ye,4):0,Y=_e(ye)?ie(ye,4):0,me=_e(ye)?ie(ye,4):0,we=_e(ye)?ie(ye,4):0,ye=_e(ye)?ie(ye,4):0,Oe=b.Qa,ze=0;4>ze;++ze){if(Oe.Cb){var $e=Oe.Zb[ze];Oe.Fb||($e+=B)}else{if(0<ze){b.pb[ze]=b.pb[0];continue}$e=B}var Ue=b.pb[ze];Ue.Sc[0]=Ps[Zn($e+le,127)],Ue.Sc[1]=js[Zn($e+0,127)],Ue.Eb[0]=2*Ps[Zn($e+Y,127)],Ue.Eb[1]=101581*js[Zn($e+me,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Ps[Zn($e+we,117)],Ue.Qc[1]=js[Zn($e+ye,127)],Ue.lc=$e+ye}if(!de.Rb)return ur(b,4,"Not a key frame.");for(_e(ue),de=b.Pa,B=0;4>B;++B){for(le=0;8>le;++le)for(Y=0;3>Y;++Y)for(me=0;11>me;++me)we=ae(ue,Nr[B][le][Y][me])?ne(ue,8):Nv[B][le][Y][me],de.Wc[B][le].Yb[Y][me]=we;for(le=0;17>le;++le)de.Xc[B][le]=de.Wc[B][In[le]]}return b.kc=_e(ue),b.kc&&(b.Bd=ne(ue,8)),b.cb=1}function zc(b,T,B,Y,le,ue,de){var me=T[le].Yb[B];for(B=0;16>le;++le){if(!ae(b,me[B+0]))return le;for(;!ae(b,me[B+1]);)if(me=T[++le].Yb[0],B=0,le==16)return 16;var ye=T[le+1].Yb;if(ae(b,me[B+2])){var we=b,Oe=0;if(ae(we,($e=me)[(ze=B)+3]))if(ae(we,$e[ze+6])){for(me=0,ze=2*(Oe=ae(we,$e[ze+8]))+($e=ae(we,$e[ze+9+Oe])),Oe=0,$e=Sv[ze];$e[me];++me)Oe+=Oe+ae(we,$e[me]);Oe+=3+(8<<ze)}else ae(we,$e[ze+7])?(Oe=7+2*ae(we,165),Oe+=ae(we,145)):Oe=5+ae(we,159);else Oe=ae(we,$e[ze+4])?3+ae(we,$e[ze+5]):2;me=ye[2]}else Oe=1,me=ye[1];ye=de+Fm[le],0>(we=b).b&&he(we);var ze,$e=we.b,Ue=(ze=we.Ca>>1)-(we.I>>$e)>>31;--we.b,we.Ca+=Ue,we.Ca|=1,we.I-=(ze+1&Ue)<<$e,ue[ye]=((Oe^Ue)-Ue)*Y[(0<le)+0]}return 16}function Gc(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Vl(b,T){if(b==null)return 0;if(T==null)return ur(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Ii(b,T))return 0;if(e(b.cb),T.ac==null||T.ac(T)){T.ob&&(b.L=0);var B=od[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=T.v-B>>4,b.zb=T.j-B>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=T.o+15+B>>4,b.Hb=T.va+15+B>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var Y=b.ed;for(B=0;4>B;++B){var le;if(b.Qa.Cb){var ue=b.Qa.Lb[B];b.Qa.Fb||(ue+=Y.Tb)}else ue=Y.Tb;for(le=0;1>=le;++le){var de=b.gd[B][le],me=ue;if(Y.Pc&&(me+=Y.vd[0],le&&(me+=Y.od[0])),0<(me=0>me?0:63<me?63:me)){var ye=me;0<Y.wb&&(ye=4<Y.wb?ye>>2:ye>>1)>9-Y.wb&&(ye=9-Y.wb),1>ye&&(ye=1),de.dd=ye,de.tc=2*me+ye,de.ld=40<=me?2:15<=me?1:0}else de.tc=0;de.La=le}}}B=0}else ur(b,6,"Frame setup failed"),B=b.a;if(B=B==0){if(B){b.$c=0,0<b.Aa||(b.Ic=Rf);e:{B=b.Ic,Y=4*(ye=b.za);var we=32*ye,Oe=ye+1,ze=0<b.L?ye*(0<b.Aa?2:1):0,$e=(b.Aa==2?2:1)*ye;if((de=Y+832+(le=3*(16*B+od[b.L])/2*we)+(ue=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=de)B=0;else{if(de>b.Vb){if(b.Vb=0,b.Ec=a(de),b.Fc=0,b.Ec==null){B=ur(b,1,"no memory during frame initialization.");break e}b.Vb=de}de=b.Ec,me=b.Fc,b.Ac=de,b.Bc=me,me+=Y,b.Gd=s(we,Ul),b.Hd=0,b.rb=s(Oe+1,Ks),b.sb=1,b.wa=ze?s(ze,Ws):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ye),e(!0),b.oc=de,b.pc=me,me+=832,b.ya=s($e,Fa),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ye),b.R=16*ye,b.B=8*ye,ye=(we=od[b.L])*b.R,we=we/2*b.B,b.sa=de,b.ta=me+ye,b.qa=b.sa,b.ra=b.ta+16*B*b.R+we,b.Ha=b.qa,b.Ia=b.ra+8*B*b.B+we,b.$c=0,me+=le,b.mb=ue?de:null,b.nb=ue?me:null,e(me+ue<=b.Fc+b.Vb),Gc(b),i(b.Ac,b.Bc,0,Y),B=1}}if(B){if(T.ka=0,T.y=b.sa,T.O=b.ta,T.f=b.qa,T.N=b.ra,T.ea=b.Ha,T.Vd=b.Ia,T.fa=b.R,T.Rc=b.B,T.F=null,T.J=0,!td){for(B=-255;255>=B;++B)Fr[255+B]=0>B?-B:B;for(B=-1020;1020>=B;++B)oo[1020+B]=-128>B?-128:127<B?127:B;for(B=-112;112>=B;++B)rc[112+B]=-16>B?-16:15<B?15:B;for(B=-255;510>=B;++B)fl[255+B]=0>B?0:255<B?255:B;td=1}io=Ao,ao=Zo,Jc=el,ca=Dn,ki=wo,Sr=Xs,so=Gl,Ju=eo,Qu=Hl,hs=Yc,ec=No,dl=il,tc=Wl,Zu=To,Qc=Qs,nc=Aa,ed=zr,ps=rl,Qr[0]=Ua,Qr[1]=wf,Qr[2]=_a,Qr[3]=Wu,Qr[4]=Wc,Qr[5]=aa,Qr[6]=Gi,Qr[7]=nl,Qr[8]=wa,Qr[9]=Ns,Na[0]=ds,Na[1]=Hu,Na[2]=us,Na[3]=ql,Na[4]=$n,Na[5]=$l,Na[6]=tl,lo[0]=Ba,lo[1]=Hc,lo[2]=zl,lo[3]=Va,lo[4]=Jn,lo[5]=Eo,lo[6]=di,B=1}else B=0}B&&(B=(function(Ue,dt){for(Ue.M=0;Ue.M<Ue.Va;++Ue.M){var tt,ke=Ue.Jc[Ue.M&Ue.Xb],je=Ue.m,lt=Ue;for(tt=0;tt<lt.za;++tt){var pt=je,ot=lt,It=ot.Ac,Et=ot.Bc+4*tt,zt=ot.zc,St=ot.ya[ot.aa+tt];if(ot.Qa.Bb?St.$b=ae(pt,ot.Pa.jb[0])?2+ae(pt,ot.Pa.jb[2]):ae(pt,ot.Pa.jb[1]):St.$b=0,ot.kc&&(St.Ad=ae(pt,ot.Bd)),St.Za=!ae(pt,145)+0,St.Za){var Kn=St.Ob,Rn=0;for(ot=0;4>ot;++ot){var Mn,un=zt[0+ot];for(Mn=0;4>Mn;++Mn){un=Ki[It[Et+Mn]][un];for(var or=kh[ae(pt,un[0])];0<or;)or=kh[2*or+ae(pt,un[or])];un=-or,It[Et+Mn]=un}r(Kn,Rn,It,Et,4),Rn+=4,zt[0+ot]=un}}else un=ae(pt,156)?ae(pt,128)?1:3:ae(pt,163)?2:0,St.Ob[0]=un,i(It,Et,un,4),i(zt,0,un,4);St.Dd=ae(pt,142)?ae(pt,114)?ae(pt,183)?1:3:2:0}if(lt.m.Ka)return ur(Ue,7,"Premature end-of-partition0 encountered.");for(;Ue.ja<Ue.za;++Ue.ja){if(lt=ke,pt=(je=Ue).rb[je.sb-1],It=je.rb[je.sb+je.ja],tt=je.ya[je.aa+je.ja],Et=je.kc?tt.Ad:0)pt.la=It.la=0,tt.Za||(pt.Na=It.Na=0),tt.Hc=0,tt.Gc=0,tt.ia=0;else{var er,Qt;if(pt=It,It=lt,Et=je.Pa.Xc,zt=je.ya[je.aa+je.ja],St=je.pb[zt.$b],ot=zt.ad,Kn=0,Rn=je.rb[je.sb-1],un=Mn=0,i(ot,Kn,0,384),zt.Za)var mr=0,Pi=Et[3];else{or=a(16);var Zr=pt.Na+Rn.Na;if(Zr=ms(It,Et[1],Zr,St.Eb,0,or,0),pt.Na=Rn.Na=(0<Zr)+0,1<Zr)io(or,0,ot,Kn);else{var fa=or[0]+3>>3;for(or=0;256>or;or+=16)ot[Kn+or]=fa}mr=1,Pi=Et[0]}var zn=15&pt.la,Ji=15&Rn.la;for(or=0;4>or;++or){var Ha=1&Ji;for(fa=Qt=0;4>fa;++fa)zn=zn>>1|(Ha=(Zr=ms(It,Pi,Zr=Ha+(1&zn),St.Sc,mr,ot,Kn))>mr)<<7,Qt=Qt<<2|(3<Zr?3:1<Zr?2:ot[Kn+0]!=0),Kn+=16;zn>>=4,Ji=Ji>>1|Ha<<7,Mn=(Mn<<8|Qt)>>>0}for(Pi=zn,mr=Ji>>4,er=0;4>er;er+=2){for(Qt=0,zn=pt.la>>4+er,Ji=Rn.la>>4+er,or=0;2>or;++or){for(Ha=1&Ji,fa=0;2>fa;++fa)Zr=Ha+(1&zn),zn=zn>>1|(Ha=0<(Zr=ms(It,Et[2],Zr,St.Qc,0,ot,Kn)))<<3,Qt=Qt<<2|(3<Zr?3:1<Zr?2:ot[Kn+0]!=0),Kn+=16;zn>>=2,Ji=Ji>>1|Ha<<5}un|=Qt<<4*er,Pi|=zn<<4<<er,mr|=(240&Ji)<<er}pt.la=Pi,Rn.la=mr,zt.Hc=Mn,zt.Gc=un,zt.ia=43690&un?0:St.ia,Et=!(Mn|un)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[tt.$b][tt.Za],je.wa[je.Y+je.ja].La|=!Et),lt.Ka)return ur(Ue,7,"Premature end-of-file encountered.")}if(Gc(Ue),je=dt,lt=1,tt=(ke=Ue).D,pt=0<ke.L&&ke.M>=ke.zb&&ke.M<=ke.Va,ke.Aa==0)e:{if(tt.M=ke.M,tt.uc=pt,no(ke,tt),lt=1,tt=(Qt=ke.D).Nb,pt=(un=od[ke.L])*ke.R,It=un/2*ke.B,or=16*tt*ke.R,fa=8*tt*ke.B,Et=ke.sa,zt=ke.ta-pt+or,St=ke.qa,ot=ke.ra-It+fa,Kn=ke.Ha,Rn=ke.Ia-It+fa,Ji=(zn=Qt.M)==0,Mn=zn>=ke.Va-1,ke.Aa==2&&no(ke,Qt),Qt.uc)for(Ha=(Zr=ke).D.M,e(Zr.D.uc),Qt=Zr.yb;Qt<Zr.Hb;++Qt){mr=Qt,Pi=Ha;var _i=(ei=(Gr=Zr).D).Nb;er=Gr.R;var ei=ei.wa[ei.Y+mr],ji=Gr.sa,gs=Gr.ta+16*_i*er+16*mr,Ms=ei.dd,fi=ei.tc;if(fi!=0)if(e(3<=fi),Gr.L==1)0<mr&&nc(ji,gs,er,fi+4),ei.La&&ps(ji,gs,er,fi),0<Pi&&Qc(ji,gs,er,fi+4),ei.La&&ed(ji,gs,er,fi);else{var si=Gr.B,Di=Gr.qa,vs=Gr.ra+8*_i*si+8*mr,Oo=Gr.Ha,Gr=Gr.Ia+8*_i*si+8*mr;_i=ei.ld,0<mr&&(Ju(ji,gs,er,fi+4,Ms,_i),hs(Di,vs,Oo,Gr,si,fi+4,Ms,_i)),ei.La&&(dl(ji,gs,er,fi,Ms,_i),Zu(Di,vs,Oo,Gr,si,fi,Ms,_i)),0<Pi&&(so(ji,gs,er,fi+4,Ms,_i),Qu(Di,vs,Oo,Gr,si,fi+4,Ms,_i)),ei.La&&(ec(ji,gs,er,fi,Ms,_i),tc(Di,vs,Oo,Gr,si,fi,Ms,_i))}}if(ke.ia&&alert("todo:DitherRow"),je.put!=null){if(Qt=16*zn,zn=16*(zn+1),Ji?(je.y=ke.sa,je.O=ke.ta+or,je.f=ke.qa,je.N=ke.ra+fa,je.ea=ke.Ha,je.W=ke.Ia+fa):(Qt-=un,je.y=Et,je.O=zt,je.f=St,je.N=ot,je.ea=Kn,je.W=Rn),Mn||(zn-=un),zn>je.o&&(zn=je.o),je.F=null,je.J=null,ke.Fa!=null&&0<ke.Fa.length&&Qt<zn&&(je.J=sl(ke,je,Qt,zn-Qt),je.F=ke.mb,je.F==null&&je.F.length==0)){lt=ur(ke,3,"Could not decode alpha data.");break e}Qt<je.j&&(un=je.j-Qt,Qt=je.j,e(!(1&un)),je.O+=ke.R*un,je.N+=ke.B*(un>>1),je.W+=ke.B*(un>>1),je.F!=null&&(je.J+=je.width*un)),Qt<zn&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=Qt-je.j,je.U=je.va-je.v,je.T=zn-Qt,lt=je.put(je))}tt+1!=ke.Ic||Mn||(r(ke.sa,ke.ta-pt,Et,zt+16*ke.R,pt),r(ke.qa,ke.ra-It,St,ot+8*ke.B,It),r(ke.Ha,ke.Ia-It,Kn,Rn+8*ke.B,It))}if(!lt)return ur(Ue,6,"Output aborted.")}return 1})(b,T)),T.bc!=null&&T.bc(T),B&=1}return B?(b.cb=0,B):0}function ba(b,T,B,Y,le){le=b[T+B+32*Y]+(le>>3),b[T+B+32*Y]=-256&le?0>le?0:255:le}function Ys(b,T,B,Y,le,ue){ba(b,T,0,B,Y+le),ba(b,T,1,B,Y+ue),ba(b,T,2,B,Y-ue),ba(b,T,3,B,Y-le)}function Jr(b){return(20091*b>>16)+b}function xr(b,T,B,Y){var le,ue=0,de=a(16);for(le=0;4>le;++le){var me=b[T+0]+b[T+8],ye=b[T+0]-b[T+8],we=(35468*b[T+4]>>16)-Jr(b[T+12]),Oe=Jr(b[T+4])+(35468*b[T+12]>>16);de[ue+0]=me+Oe,de[ue+1]=ye+we,de[ue+2]=ye-we,de[ue+3]=me-Oe,ue+=4,T++}for(le=ue=0;4>le;++le)me=(b=de[ue+0]+4)+de[ue+8],ye=b-de[ue+8],we=(35468*de[ue+4]>>16)-Jr(de[ue+12]),ba(B,Y,0,0,me+(Oe=Jr(de[ue+4])+(35468*de[ue+12]>>16))),ba(B,Y,1,0,ye+we),ba(B,Y,2,0,ye-we),ba(B,Y,3,0,me-Oe),ue++,Y+=32}function Xs(b,T,B,Y){var le=b[T+0]+4,ue=35468*b[T+4]>>16,de=Jr(b[T+4]),me=35468*b[T+1]>>16;Ys(B,Y,0,le+de,b=Jr(b[T+1]),me),Ys(B,Y,1,le+ue,b,me),Ys(B,Y,2,le-ue,b,me),Ys(B,Y,3,le-de,b,me)}function Zo(b,T,B,Y,le){xr(b,T,B,Y),le&&xr(b,T+16,B,Y+4)}function el(b,T,B,Y){ao(b,T+0,B,Y,1),ao(b,T+32,B,Y+128,1)}function Dn(b,T,B,Y){var le;for(b=b[T+0]+4,le=0;4>le;++le)for(T=0;4>T;++T)ba(B,Y,T,le,b)}function wo(b,T,B,Y){b[T+0]&&ca(b,T+0,B,Y),b[T+16]&&ca(b,T+16,B,Y+4),b[T+32]&&ca(b,T+32,B,Y+128),b[T+48]&&ca(b,T+48,B,Y+128+4)}function Ao(b,T,B,Y){var le,ue=a(16);for(le=0;4>le;++le){var de=b[T+0+le]+b[T+12+le],me=b[T+4+le]+b[T+8+le],ye=b[T+4+le]-b[T+8+le],we=b[T+0+le]-b[T+12+le];ue[0+le]=de+me,ue[8+le]=de-me,ue[4+le]=we+ye,ue[12+le]=we-ye}for(le=0;4>le;++le)de=(b=ue[0+4*le]+3)+ue[3+4*le],me=ue[1+4*le]+ue[2+4*le],ye=ue[1+4*le]-ue[2+4*le],we=b-ue[3+4*le],B[Y+0]=de+me>>3,B[Y+16]=we+ye>>3,B[Y+32]=de-me>>3,B[Y+48]=we-ye>>3,Y+=64}function ia(b,T,B){var Y,le=T-32,ue=ua,de=255-b[le-1];for(Y=0;Y<B;++Y){var me,ye=ue,we=de+b[T-1];for(me=0;me<B;++me)b[T+me]=ye[we+b[le+me]];T+=32}}function wf(b,T){ia(b,T,4)}function Hc(b,T){ia(b,T,8)}function Hu(b,T){ia(b,T,16)}function us(b,T){var B;for(B=0;16>B;++B)r(b,T+32*B,b,T-32,16)}function ql(b,T){var B;for(B=16;0<B;--B)i(b,T,b[T-1],16),T+=32}function Bl(b,T,B){var Y;for(Y=0;16>Y;++Y)i(T,B+32*Y,b,16)}function ds(b,T){var B,Y=16;for(B=0;16>B;++B)Y+=b[T-1+32*B]+b[T+B-32];Bl(Y>>5,b,T)}function $n(b,T){var B,Y=8;for(B=0;16>B;++B)Y+=b[T-1+32*B];Bl(Y>>4,b,T)}function $l(b,T){var B,Y=8;for(B=0;16>B;++B)Y+=b[T+B-32];Bl(Y>>4,b,T)}function tl(b,T){Bl(128,b,T)}function Ht(b,T,B){return b+2*T+B+2>>2}function _a(b,T){var B,Y=T-32;for(Y=new Uint8Array([Ht(b[Y-1],b[Y+0],b[Y+1]),Ht(b[Y+0],b[Y+1],b[Y+2]),Ht(b[Y+1],b[Y+2],b[Y+3]),Ht(b[Y+2],b[Y+3],b[Y+4])]),B=0;4>B;++B)r(b,T+32*B,Y,0,Y.length)}function Wu(b,T){var B=b[T-1],Y=b[T-1+32],le=b[T-1+64],ue=b[T-1+96];Ae(b,T+0,16843009*Ht(b[T-1-32],B,Y)),Ae(b,T+32,16843009*Ht(B,Y,le)),Ae(b,T+64,16843009*Ht(Y,le,ue)),Ae(b,T+96,16843009*Ht(le,ue,ue))}function Ua(b,T){var B,Y=4;for(B=0;4>B;++B)Y+=b[T+B-32]+b[T-1+32*B];for(Y>>=3,B=0;4>B;++B)i(b,T+32*B,Y,4)}function Wc(b,T){var B=b[T-1+0],Y=b[T-1+32],le=b[T-1+64],ue=b[T-1-32],de=b[T+0-32],me=b[T+1-32],ye=b[T+2-32],we=b[T+3-32];b[T+0+96]=Ht(Y,le,b[T-1+96]),b[T+1+96]=b[T+0+64]=Ht(B,Y,le),b[T+2+96]=b[T+1+64]=b[T+0+32]=Ht(ue,B,Y),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=Ht(de,ue,B),b[T+3+64]=b[T+2+32]=b[T+1+0]=Ht(me,de,ue),b[T+3+32]=b[T+2+0]=Ht(ye,me,de),b[T+3+0]=Ht(we,ye,me)}function Gi(b,T){var B=b[T+1-32],Y=b[T+2-32],le=b[T+3-32],ue=b[T+4-32],de=b[T+5-32],me=b[T+6-32],ye=b[T+7-32];b[T+0+0]=Ht(b[T+0-32],B,Y),b[T+1+0]=b[T+0+32]=Ht(B,Y,le),b[T+2+0]=b[T+1+32]=b[T+0+64]=Ht(Y,le,ue),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=Ht(le,ue,de),b[T+3+32]=b[T+2+64]=b[T+1+96]=Ht(ue,de,me),b[T+3+64]=b[T+2+96]=Ht(de,me,ye),b[T+3+96]=Ht(me,ye,ye)}function aa(b,T){var B=b[T-1+0],Y=b[T-1+32],le=b[T-1+64],ue=b[T-1-32],de=b[T+0-32],me=b[T+1-32],ye=b[T+2-32],we=b[T+3-32];b[T+0+0]=b[T+1+64]=ue+de+1>>1,b[T+1+0]=b[T+2+64]=de+me+1>>1,b[T+2+0]=b[T+3+64]=me+ye+1>>1,b[T+3+0]=ye+we+1>>1,b[T+0+96]=Ht(le,Y,B),b[T+0+64]=Ht(Y,B,ue),b[T+0+32]=b[T+1+96]=Ht(B,ue,de),b[T+1+32]=b[T+2+96]=Ht(ue,de,me),b[T+2+32]=b[T+3+96]=Ht(de,me,ye),b[T+3+32]=Ht(me,ye,we)}function nl(b,T){var B=b[T+0-32],Y=b[T+1-32],le=b[T+2-32],ue=b[T+3-32],de=b[T+4-32],me=b[T+5-32],ye=b[T+6-32],we=b[T+7-32];b[T+0+0]=B+Y+1>>1,b[T+1+0]=b[T+0+64]=Y+le+1>>1,b[T+2+0]=b[T+1+64]=le+ue+1>>1,b[T+3+0]=b[T+2+64]=ue+de+1>>1,b[T+0+32]=Ht(B,Y,le),b[T+1+32]=b[T+0+96]=Ht(Y,le,ue),b[T+2+32]=b[T+1+96]=Ht(le,ue,de),b[T+3+32]=b[T+2+96]=Ht(ue,de,me),b[T+3+64]=Ht(de,me,ye),b[T+3+96]=Ht(me,ye,we)}function Ns(b,T){var B=b[T-1+0],Y=b[T-1+32],le=b[T-1+64],ue=b[T-1+96];b[T+0+0]=B+Y+1>>1,b[T+2+0]=b[T+0+32]=Y+le+1>>1,b[T+2+32]=b[T+0+64]=le+ue+1>>1,b[T+1+0]=Ht(B,Y,le),b[T+3+0]=b[T+1+32]=Ht(Y,le,ue),b[T+3+32]=b[T+1+64]=Ht(le,ue,ue),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=ue}function wa(b,T){var B=b[T-1+0],Y=b[T-1+32],le=b[T-1+64],ue=b[T-1+96],de=b[T-1-32],me=b[T+0-32],ye=b[T+1-32],we=b[T+2-32];b[T+0+0]=b[T+2+32]=B+de+1>>1,b[T+0+32]=b[T+2+64]=Y+B+1>>1,b[T+0+64]=b[T+2+96]=le+Y+1>>1,b[T+0+96]=ue+le+1>>1,b[T+3+0]=Ht(me,ye,we),b[T+2+0]=Ht(de,me,ye),b[T+1+0]=b[T+3+32]=Ht(B,de,me),b[T+1+32]=b[T+3+64]=Ht(Y,B,de),b[T+1+64]=b[T+3+96]=Ht(le,Y,B),b[T+1+96]=Ht(ue,le,Y)}function zl(b,T){var B;for(B=0;8>B;++B)r(b,T+32*B,b,T-32,8)}function Va(b,T){var B;for(B=0;8>B;++B)i(b,T,b[T-1],8),T+=32}function qa(b,T,B){var Y;for(Y=0;8>Y;++Y)i(T,B+32*Y,b,8)}function Ba(b,T){var B,Y=8;for(B=0;8>B;++B)Y+=b[T+B-32]+b[T-1+32*B];qa(Y>>4,b,T)}function Eo(b,T){var B,Y=4;for(B=0;8>B;++B)Y+=b[T+B-32];qa(Y>>3,b,T)}function Jn(b,T){var B,Y=4;for(B=0;8>B;++B)Y+=b[T-1+32*B];qa(Y>>3,b,T)}function di(b,T){qa(128,b,T)}function $a(b,T,B){var Y=b[T-B],le=b[T+0],ue=3*(le-Y)+hl[1020+b[T-2*B]-b[T+B]],de=Sf[112+(ue+4>>3)];b[T-B]=ua[255+Y+Sf[112+(ue+3>>3)]],b[T+0]=ua[255+le-de]}function So(b,T,B,Y){var le=b[T+0],ue=b[T+B];return Wi[255+b[T-2*B]-b[T-B]]>Y||Wi[255+ue-le]>Y}function Js(b,T,B,Y){return 4*Wi[255+b[T-B]-b[T+0]]+Wi[255+b[T-2*B]-b[T+B]]<=Y}function Kc(b,T,B,Y,le){var ue=b[T-3*B],de=b[T-2*B],me=b[T-B],ye=b[T+0],we=b[T+B],Oe=b[T+2*B],ze=b[T+3*B];return 4*Wi[255+me-ye]+Wi[255+de-we]>Y?0:Wi[255+b[T-4*B]-ue]<=le&&Wi[255+ue-de]<=le&&Wi[255+de-me]<=le&&Wi[255+ze-Oe]<=le&&Wi[255+Oe-we]<=le&&Wi[255+we-ye]<=le}function Qs(b,T,B,Y){var le=2*Y+1;for(Y=0;16>Y;++Y)Js(b,T+Y,B,le)&&$a(b,T+Y,B)}function Aa(b,T,B,Y){var le=2*Y+1;for(Y=0;16>Y;++Y)Js(b,T+Y*B,1,le)&&$a(b,T+Y*B,1)}function zr(b,T,B,Y){var le;for(le=3;0<le;--le)Qs(b,T+=4*B,B,Y)}function rl(b,T,B,Y){var le;for(le=3;0<le;--le)Aa(b,T+=4,B,Y)}function Zs(b,T,B,Y,le,ue,de,me){for(ue=2*ue+1;0<le--;){if(Kc(b,T,B,ue,de))if(So(b,T,B,me))$a(b,T,B);else{var ye=b,we=T,Oe=B,ze=ye[we-2*Oe],$e=ye[we-Oe],Ue=ye[we+0],dt=ye[we+Oe],tt=ye[we+2*Oe],ke=27*(lt=hl[1020+3*(Ue-$e)+hl[1020+ze-dt]])+63>>7,je=18*lt+63>>7,lt=9*lt+63>>7;ye[we-3*Oe]=ua[255+ye[we-3*Oe]+lt],ye[we-2*Oe]=ua[255+ze+je],ye[we-Oe]=ua[255+$e+ke],ye[we+0]=ua[255+Ue-ke],ye[we+Oe]=ua[255+dt-je],ye[we+2*Oe]=ua[255+tt-lt]}T+=Y}}function Hi(b,T,B,Y,le,ue,de,me){for(ue=2*ue+1;0<le--;){if(Kc(b,T,B,ue,de))if(So(b,T,B,me))$a(b,T,B);else{var ye=b,we=T,Oe=B,ze=ye[we-Oe],$e=ye[we+0],Ue=ye[we+Oe],dt=Sf[112+((tt=3*($e-ze))+4>>3)],tt=Sf[112+(tt+3>>3)],ke=dt+1>>1;ye[we-2*Oe]=ua[255+ye[we-2*Oe]+ke],ye[we-Oe]=ua[255+ze+tt],ye[we+0]=ua[255+$e-dt],ye[we+Oe]=ua[255+Ue-ke]}T+=Y}}function Gl(b,T,B,Y,le,ue){Zs(b,T,B,1,16,Y,le,ue)}function eo(b,T,B,Y,le,ue){Zs(b,T,1,B,16,Y,le,ue)}function No(b,T,B,Y,le,ue){var de;for(de=3;0<de;--de)Hi(b,T+=4*B,B,1,16,Y,le,ue)}function il(b,T,B,Y,le,ue){var de;for(de=3;0<de;--de)Hi(b,T+=4,1,B,16,Y,le,ue)}function Hl(b,T,B,Y,le,ue,de,me){Zs(b,T,le,1,8,ue,de,me),Zs(B,Y,le,1,8,ue,de,me)}function Yc(b,T,B,Y,le,ue,de,me){Zs(b,T,1,le,8,ue,de,me),Zs(B,Y,1,le,8,ue,de,me)}function Wl(b,T,B,Y,le,ue,de,me){Hi(b,T+4*le,le,1,8,ue,de,me),Hi(B,Y+4*le,le,1,8,ue,de,me)}function To(b,T,B,Y,le,ue,de,me){Hi(b,T+4,1,le,8,ue,de,me),Hi(B,Y+4,1,le,8,ue,de,me)}function Co(){this.ba=new kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new En,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function al(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yl(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new L}function Ku(){this.xb=this.a=0,this.l=new Qo,this.ca=new kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yl,this.ab=0,this.gc=s(4,al),this.Oc=0}function fs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Io(b,T,B,Y,le,ue,de){for(b=b==null?0:b[T+0],T=0;T<de;++T)le[ue+T]=b+B[Y+T]&255,b=le[ue+T]}function Xl(b,T,B,Y,le,ue,de){var me;if(b==null)Io(null,null,B,Y,le,ue,de);else for(me=0;me<de;++me)le[ue+me]=b[T+me]+B[Y+me]&255}function sa(b,T,B,Y,le,ue,de){if(b==null)Io(null,null,B,Y,le,ue,de);else{var me,ye=b[T+0],we=ye,Oe=ye;for(me=0;me<de;++me)we=Oe+(ye=b[T+me])-we,Oe=B[Y+me]+(-256&we?0>we?0:255:we)&255,we=ye,le[ue+me]=Oe}}function sl(b,T,B,Y){var le=T.width,ue=T.o;if(e(b!=null&&T!=null),0>B||0>=Y||B+Y>ue)return null;if(!b.Cc){if(b.ga==null){var de;if(b.ga=new fs,(de=b.ga==null)||(de=T.width*T.o,e(b.Gb.length==0),b.Gb=a(de),b.Uc=0,b.Gb==null?de=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,de=1),de=!de),!de){de=b.ga;var me=b.Fa,ye=b.P,we=b.qc,Oe=b.mb,ze=b.nb,$e=ye+1,Ue=we-1,dt=de.l;if(e(me!=null&&Oe!=null&&T!=null),pl[0]=null,pl[1]=Io,pl[2]=Xl,pl[3]=sa,de.ca=Oe,de.tb=ze,de.c=T.width,de.i=T.height,e(0<de.c&&0<de.i),1>=we)T=0;else if(de.$a=me[ye+0]>>0&3,de.Z=me[ye+0]>>2&3,de.Lc=me[ye+0]>>4&3,ye=me[ye+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||ye)T=0;else if(dt.put=ui,dt.ac=Pr,dt.bc=bi,dt.ma=de,dt.width=T.width,dt.height=T.height,dt.Da=T.Da,dt.v=T.v,dt.va=T.va,dt.j=T.j,dt.o=T.o,de.$a)e:{e(de.$a==1),T=Ct();t:for(;;){if(T==null){T=0;break e}if(e(de!=null),de.mc=T,T.c=de.c,T.i=de.i,T.l=de.l,T.l.ma=de,T.l.width=de.c,T.l.height=de.i,T.a=0,te(T.m,me,$e,Ue),!Bt(de.c,de.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&cn(T.s)?(de.ic=1,me=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(me),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(de.ic=0,T=Dr(T,de.c)),!T))break t;T=1;break e}de.mc=null,T=0}else T=Ue>=de.c*de.i;de=!T}if(de)return null;b.ga.Lc!=1?b.Ga=0:Y=ue-B}e(b.ga!=null),e(B+Y<=ue);e:{if(T=(me=b.ga).c,ue=me.l.o,me.$a==0){if($e=b.rc,Ue=b.Vc,dt=b.Fa,ye=b.P+1+B*T,we=b.mb,Oe=b.nb+B*T,e(ye<=b.P+b.qc),me.Z!=0)for(e(pl[me.Z]!=null),de=0;de<Y;++de)pl[me.Z]($e,Ue,dt,ye,we,Oe,T),$e=we,Ue=Oe,Oe+=T,ye+=T;else for(de=0;de<Y;++de)r(we,Oe,dt,ye,T),$e=we,Ue=Oe,Oe+=T,ye+=T;b.rc=$e,b.Vc=Ue}else{if(e(me.mc!=null),T=B+Y,e((de=me.mc)!=null),e(T<=de.i),de.C>=T)T=1;else if(me.ic||Ve(),me.ic){me=de.V,$e=de.Ba,Ue=de.c;var tt=de.i,ke=(dt=1,ye=de.$/Ue,we=de.$%Ue,Oe=de.m,ze=de.s,de.$),je=Ue*tt,lt=Ue*T,pt=ze.wc,ot=ke<lt?pe(ze,we,ye):null;e(ke<=je),e(T<=tt),e(cn(ze));t:for(;;){for(;!Oe.h&&ke<lt;){if(we&pt||(ot=pe(ze,we,ye)),e(ot!=null),Q(Oe),256>(tt=Br(ot.G[0],ot.H[0],Oe)))me[$e+ke]=tt,++ke,++we>=Ue&&(we=0,++ye<=T&&!(ye%16)&&$t(de,ye));else{if(!(280>tt)){dt=0;break t}tt=Ci(tt-256,Oe);var It,Et=Br(ot.G[4],ot.H[4],Oe);if(Q(Oe),!(ke>=(Et=jr(Ue,Et=Ci(Et,Oe)))&&je-ke>=tt)){dt=0;break t}for(It=0;It<tt;++It)me[$e+ke+It]=me[$e+ke+It-Et];for(ke+=tt,we+=tt;we>=Ue;)we-=Ue,++ye<=T&&!(ye%16)&&$t(de,ye);ke<lt&&we&pt&&(ot=pe(ze,we,ye))}e(Oe.h==W(Oe))}$t(de,ye>T?T:ye);break t}!dt||Oe.h&&ke<je?(dt=0,de.a=Oe.h?5:3):de.$=ke,T=dt}else T=nn(de,de.V,de.Ba,de.c,de.i,T,Mr);if(!T){Y=0;break e}}B+Y>=ue&&(b.Cc=1),Y=1}if(!Y)return null;if(b.Cc&&((Y=b.ga)!=null&&(Y.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+B*le}function M(b,T,B,Y,le,ue){for(;0<le--;){var de,me=b,ye=T+(B?1:0),we=b,Oe=T+(B?0:3);for(de=0;de<Y;++de){var ze=we[Oe+4*de];ze!=255&&(ze*=32897,me[ye+4*de+0]=me[ye+4*de+0]*ze>>23,me[ye+4*de+1]=me[ye+4*de+1]*ze>>23,me[ye+4*de+2]=me[ye+4*de+2]*ze>>23)}T+=ue}}function oe(b,T,B,Y,le){for(;0<Y--;){var ue;for(ue=0;ue<B;++ue){var de=b[T+2*ue+0],me=15&(we=b[T+2*ue+1]),ye=4369*me,we=(240&we|we>>4)*ye>>16;b[T+2*ue+0]=(240&de|de>>4)*ye>>16&240|(15&de|de<<4)*ye>>16>>4&15,b[T+2*ue+1]=240&we|me}T+=le}}function Ee(b,T,B,Y,le,ue,de,me){var ye,we,Oe=255;for(we=0;we<le;++we){for(ye=0;ye<Y;++ye){var ze=b[T+ye];ue[de+4*ye]=ze,Oe&=ze}T+=B,de+=me}return Oe!=255}function Re(b,T,B,Y,le){var ue;for(ue=0;ue<le;++ue)B[Y+ue]=b[T+ue]>>8}function Ve(){Ga=M,Cn=oe,sr=Ee,Wn=Re}function nt(b,T,B){j[b]=function(Y,le,ue,de,me,ye,we,Oe,ze,$e,Ue,dt,tt,ke,je,lt,pt){var ot,It=pt-1>>1,Et=me[ye+0]|we[Oe+0]<<16,zt=ze[$e+0]|Ue[dt+0]<<16;e(Y!=null);var St=3*Et+zt+131074>>2;for(T(Y[le+0],255&St,St>>16,tt,ke),ue!=null&&(St=3*zt+Et+131074>>2,T(ue[de+0],255&St,St>>16,je,lt)),ot=1;ot<=It;++ot){var Kn=me[ye+ot]|we[Oe+ot]<<16,Rn=ze[$e+ot]|Ue[dt+ot]<<16,Mn=Et+Kn+zt+Rn+524296,un=Mn+2*(Kn+zt)>>3;St=un+Et>>1,Et=(Mn=Mn+2*(Et+Rn)>>3)+Kn>>1,T(Y[le+2*ot-1],255&St,St>>16,tt,ke+(2*ot-1)*B),T(Y[le+2*ot-0],255&Et,Et>>16,tt,ke+(2*ot-0)*B),ue!=null&&(St=Mn+zt>>1,Et=un+Rn>>1,T(ue[de+2*ot-1],255&St,St>>16,je,lt+(2*ot-1)*B),T(ue[de+2*ot+0],255&Et,Et>>16,je,lt+(2*ot+0)*B)),Et=Kn,zt=Rn}1&pt||(St=3*Et+zt+131074>>2,T(Y[le+pt-1],255&St,St>>16,tt,ke+(pt-1)*B),ue!=null&&(St=3*zt+Et+131074>>2,T(ue[de+pt-1],255&St,St>>16,je,lt+(pt-1)*B)))}}function mt(){Yi[Th]=eu,Yi[da]=ad,Yi[Ch]=Vm,Yi[Is]=Ph,Yi[Nf]=oc,Yi[nd]=Ro,Yi[ic]=lc,Yi[Tf]=ad,Yi[Ih]=Ph,Yi[rd]=oc,Yi[Rh]=Ro}function Nt(b){return b&-16384?0>b?0:255:b>>jh}function _(b,T){return Nt((19077*b>>8)+(26149*T>>8)-14234)}function z(b,T,B){return Nt((19077*b>>8)-(6419*T>>8)-(13320*B>>8)+8708)}function Z(b,T){return Nt((19077*b>>8)+(33050*T>>8)-17685)}function ge(b,T,B,Y,le){Y[le+0]=_(b,B),Y[le+1]=z(b,T,B),Y[le+2]=Z(b,T)}function Fe(b,T,B,Y,le){Y[le+0]=Z(b,T),Y[le+1]=z(b,T,B),Y[le+2]=_(b,B)}function Ge(b,T,B,Y,le){var ue=z(b,T,B);T=ue<<3&224|Z(b,T)>>3,Y[le+0]=248&_(b,B)|ue>>5,Y[le+1]=T}function gt(b,T,B,Y,le){var ue=240&Z(b,T)|15;Y[le+0]=240&_(b,B)|z(b,T,B)>>4,Y[le+1]=ue}function on(b,T,B,Y,le){Y[le+0]=255,ge(b,T,B,Y,le+1)}function Sn(b,T,B,Y,le){Fe(b,T,B,Y,le),Y[le+3]=255}function Jt(b,T,B,Y,le){ge(b,T,B,Y,le),Y[le+3]=255}function Zn(b,T){return 0>b?0:b>T?T:b}function pr(b,T,B){j[b]=function(Y,le,ue,de,me,ye,we,Oe,ze){for(var $e=Oe+(-2&ze)*B;Oe!=$e;)T(Y[le+0],ue[de+0],me[ye+0],we,Oe),T(Y[le+1],ue[de+0],me[ye+0],we,Oe+B),le+=2,++de,++ye,Oe+=2*B;1&ze&&T(Y[le+0],ue[de+0],me[ye+0],we,Oe)}}function to(b,T,B){return B==0?b==0?T==0?6:5:T==0?4:0:B}function Ri(b,T,B,Y,le){switch(b>>>30){case 3:ao(T,B,Y,le,0);break;case 2:Sr(T,B,Y,le);break;case 1:ca(T,B,Y,le)}}function no(b,T){var B,Y,le=T.M,ue=T.Nb,de=b.oc,me=b.pc+40,ye=b.oc,we=b.pc+584,Oe=b.oc,ze=b.pc+600;for(B=0;16>B;++B)de[me+32*B-1]=129;for(B=0;8>B;++B)ye[we+32*B-1]=129,Oe[ze+32*B-1]=129;for(0<le?de[me-1-32]=ye[we-1-32]=Oe[ze-1-32]=129:(i(de,me-32-1,127,21),i(ye,we-32-1,127,9),i(Oe,ze-32-1,127,9)),Y=0;Y<b.za;++Y){var $e=T.ya[T.aa+Y];if(0<Y){for(B=-1;16>B;++B)r(de,me+32*B-4,de,me+32*B+12,4);for(B=-1;8>B;++B)r(ye,we+32*B-4,ye,we+32*B+4,4),r(Oe,ze+32*B-4,Oe,ze+32*B+4,4)}var Ue=b.Gd,dt=b.Hd+Y,tt=$e.ad,ke=$e.Hc;if(0<le&&(r(de,me-32,Ue[dt].y,0,16),r(ye,we-32,Ue[dt].f,0,8),r(Oe,ze-32,Ue[dt].ea,0,8)),$e.Za){var je=de,lt=me-32+16;for(0<le&&(Y>=b.za-1?i(je,lt,Ue[dt].y[15],4):r(je,lt,Ue[dt+1].y,0,4)),B=0;4>B;B++)je[lt+128+B]=je[lt+256+B]=je[lt+384+B]=je[lt+0+B];for(B=0;16>B;++B,ke<<=2)je=de,lt=me+ai[B],Qr[$e.Ob[B]](je,lt),Ri(ke,tt,16*+B,je,lt)}else if(je=to(Y,le,$e.Ob[0]),Na[je](de,me),ke!=0)for(B=0;16>B;++B,ke<<=2)Ri(ke,tt,16*+B,de,me+ai[B]);for(B=$e.Gc,je=to(Y,le,$e.Dd),lo[je](ye,we),lo[je](Oe,ze),ke=tt,je=ye,lt=we,255&($e=B>>0)&&(170&$e?Jc(ke,256,je,lt):ki(ke,256,je,lt)),$e=Oe,ke=ze,255&(B>>=8)&&(170&B?Jc(tt,320,$e,ke):ki(tt,320,$e,ke)),le<b.Ub-1&&(r(Ue[dt].y,0,de,me+480,16),r(Ue[dt].f,0,ye,we+224,8),r(Ue[dt].ea,0,Oe,ze+224,8)),B=8*ue*b.B,Ue=b.sa,dt=b.ta+16*Y+16*ue*b.R,tt=b.qa,$e=b.ra+8*Y+B,ke=b.Ha,je=b.Ia+8*Y+B,B=0;16>B;++B)r(Ue,dt+B*b.R,de,me+32*B,16);for(B=0;8>B;++B)r(tt,$e+B*b.B,ye,we+32*B,8),r(ke,je+B*b.B,Oe,ze+32*B,8)}}function za(b,T,B,Y,le,ue,de,me,ye){var we=[0],Oe=[0],ze=0,$e=ye!=null?ye.kd:0,Ue=ye??new Kl;if(b==null||12>B)return 7;Ue.data=b,Ue.w=T,Ue.ha=B,T=[T],B=[B],Ue.gb=[Ue.gb];e:{var dt=T,tt=B,ke=Ue.gb;if(e(b!=null),e(tt!=null),e(ke!=null),ke[0]=0,12<=tt[0]&&!n(b,dt[0],"RIFF")){if(n(b,dt[0]+8,"WEBP")){ke=3;break e}var je=Se(b,dt[0]+4);if(12>je||4294967286<je){ke=3;break e}if($e&&je>tt[0]-8){ke=7;break e}ke[0]=je,dt[0]+=12,tt[0]-=12}ke=0}if(ke!=0)return ke;for(je=0<Ue.gb[0],B=B[0];;){e:{var lt=b;tt=T,ke=B;var pt=we,ot=Oe,It=dt=[0];if((St=ze=[ze])[0]=0,8>ke[0])ke=7;else{if(!n(lt,tt[0],"VP8X")){if(Se(lt,tt[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Et=Se(lt,tt[0]+8),zt=1+Ne(lt,tt[0]+12);if(2147483648<=zt*(lt=1+Ne(lt,tt[0]+15))){ke=3;break e}It!=null&&(It[0]=Et),pt!=null&&(pt[0]=zt),ot!=null&&(ot[0]=lt),tt[0]+=18,ke[0]-=18,St[0]=1}ke=0}}if(ze=ze[0],dt=dt[0],ke!=0)return ke;if(tt=!!(2&dt),!je&&ze)return 3;if(ue!=null&&(ue[0]=!!(16&dt)),de!=null&&(de[0]=tt),me!=null&&(me[0]=0),de=we[0],dt=Oe[0],ze&&tt&&ye==null){ke=0;break}if(4>B){ke=7;break}if(je&&ze||!je&&!ze&&!n(b,T[0],"ALPH")){B=[B],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Et=b,ke=T,je=B;var St=Ue.gb;pt=Ue.na,ot=Ue.P,It=Ue.Sa,zt=22,e(Et!=null),e(je!=null),lt=ke[0];var Kn=je[0];for(e(pt!=null),e(It!=null),pt[0]=null,ot[0]=null,It[0]=0;;){if(ke[0]=lt,je[0]=Kn,8>Kn){ke=7;break e}var Rn=Se(Et,lt+4);if(4294967286<Rn){ke=3;break e}var Mn=8+Rn+1&-2;if(zt+=Mn,0<St&&zt>St){ke=3;break e}if(!n(Et,lt,"VP8 ")||!n(Et,lt,"VP8L")){ke=0;break e}if(Kn[0]<Mn){ke=7;break e}n(Et,lt,"ALPH")||(pt[0]=Et,ot[0]=lt+8,It[0]=Rn),lt+=Mn,Kn-=Mn}}if(B=B[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],ke!=0)break}B=[B],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(St=b,ke=T,je=B,pt=Ue.gb[0],ot=Ue.Ja,It=Ue.xa,Et=ke[0],lt=!n(St,Et,"VP8 "),zt=!n(St,Et,"VP8L"),e(St!=null),e(je!=null),e(ot!=null),e(It!=null),8>je[0])ke=7;else{if(lt||zt){if(St=Se(St,Et+4),12<=pt&&St>pt-12){ke=3;break e}if($e&&St>je[0]-8){ke=7;break e}ot[0]=St,ke[0]+=8,je[0]-=8,It[0]=zt}else It[0]=5<=je[0]&&St[Et+0]==47&&!(St[Et+4]>>5),ot[0]=je[0];ke=0}if(B=B[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],T=T[0],ke!=0)break;if(4294967286<Ue.Ja)return 3;if(me==null||tt||(me[0]=Ue.xa?2:1),de=[de],dt=[dt],Ue.xa){if(5>B){ke=7;break}me=de,$e=dt,tt=ue,b==null||5>B?b=0:5<=B&&b[T+0]==47&&!(b[T+4]>>5)?(je=[0],St=[0],pt=[0],te(ot=new C,b,T,B),Ot(ot,je,St,pt)?(me!=null&&(me[0]=je[0]),$e!=null&&($e[0]=St[0]),tt!=null&&(tt[0]=pt[0]),b=1):b=0):b=0}else{if(10>B){ke=7;break}me=dt,b==null||10>B||!xa(b,T+3,B-3)?b=0:($e=b[T+0]|b[T+1]<<8|b[T+2]<<16,tt=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=Ue.Ja||!tt||!b?b=0:(de&&(de[0]=tt),me&&(me[0]=b),b=1))}if(!b||(de=de[0],dt=dt[0],ze&&(we[0]!=de||Oe[0]!=dt)))return 3;ye!=null&&(ye[0]=Ue,ye.offset=T-ye.w,e(4294967286>T-ye.w),e(ye.offset==ye.ha-B));break}return ke==0||ke==7&&ze&&ye==null?(ue!=null&&(ue[0]|=Ue.na!=null&&0<Ue.na.length),Y!=null&&(Y[0]=de),le!=null&&(le[0]=dt),0):ke}function ol(b,T,B){var Y=T.width,le=T.height,ue=0,de=0,me=Y,ye=le;if(T.Da=b!=null&&0<b.Da,T.Da&&(me=b.cd,ye=b.bd,ue=b.v,de=b.j,11>B||(ue&=-2,de&=-2),0>ue||0>de||0>=me||0>=ye||ue+me>Y||de+ye>le))return 0;if(T.v=ue,T.j=de,T.va=ue+me,T.o=de+ye,T.U=me,T.T=ye,T.da=b!=null&&0<b.da,T.da){if(!De(me,ye,B=[b.ib],ue=[b.hb]))return 0;T.ib=B[0],T.hb=ue[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*Y/4&&T.hb<3*le/4,T.Kb=0),1}function Af(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function ll(b,T,B,Y){if(Y==null||0>=b||0>=T)return 2;if(B!=null){if(B.Da){var le=B.cd,ue=B.bd,de=-2&B.v,me=-2&B.j;if(0>de||0>me||0>=le||0>=ue||de+le>b||me+ue>T)return 2;b=le,T=ue}if(B.da){if(!De(b,T,le=[B.ib],ue=[B.hb]))return 2;b=le[0],T=ue[0]}}Y.width=b,Y.height=T;e:{var ye=Y.width,we=Y.height;if(b=Y.S,0>=ye||0>=we||!(b>=Th&&13>b))b=2;else{if(0>=Y.Rd&&Y.sd==null){de=ue=le=T=0;var Oe=(me=ye*Mh[b])*we;if(11>b||(ue=(we+1)/2*(T=(ye+1)/2),b==12&&(de=(le=ye)*we)),(we=a(Oe+2*ue+de))==null){b=1;break e}Y.sd=we,11>b?((ye=Y.f.RGBA).eb=we,ye.fb=0,ye.A=me,ye.size=Oe):((ye=Y.f.kb).y=we,ye.O=0,ye.fa=me,ye.Fd=Oe,ye.f=we,ye.N=0+Oe,ye.Ab=T,ye.Cd=ue,ye.ea=we,ye.W=0+Oe+ue,ye.Db=T,ye.Ed=ue,b==12&&(ye.F=we,ye.J=0+Oe+2*ue),ye.Tc=de,ye.lb=le)}if(T=1,le=Y.S,ue=Y.width,de=Y.height,le>=Th&&13>le)if(11>le)b=Y.f.RGBA,T&=(me=Math.abs(b.A))*(de-1)+ue<=b.size,T&=me>=ue*Mh[le],T&=b.eb!=null;else{b=Y.f.kb,me=(ue+1)/2,Oe=(de+1)/2,ye=Math.abs(b.fa),we=Math.abs(b.Ab);var ze=Math.abs(b.Db),$e=Math.abs(b.lb),Ue=$e*(de-1)+ue;T&=ye*(de-1)+ue<=b.Fd,T&=we*(Oe-1)+me<=b.Cd,T=(T&=ze*(Oe-1)+me<=b.Ed)&ye>=ue&we>=me&ze>=me,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,le==12&&(T&=$e>=ue,T&=Ue<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||B!=null&&B.fd&&(b=Af(Y)),b}var Oi=64,Xc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Jl=24,Ql=32,Yu=8,Ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(b){return b},j.Predictor2=function(b,T,B){return T[B+0]},j.Predictor3=function(b,T,B){return T[B+1]},j.Predictor4=function(b,T,B){return T[B-1]},j.Predictor5=function(b,T,B){return rt(rt(b,T[B+1]),T[B+0])},j.Predictor6=function(b,T,B){return rt(b,T[B-1])},j.Predictor7=function(b,T,B){return rt(b,T[B+0])},j.Predictor8=function(b,T,B){return rt(T[B-1],T[B+0])},j.Predictor9=function(b,T,B){return rt(T[B+0],T[B+1])},j.Predictor10=function(b,T,B){return rt(rt(b,T[B-1]),rt(T[B+0],T[B+1]))},j.Predictor11=function(b,T,B){var Y=T[B+0];return 0>=yt(Y>>24&255,b>>24&255,(T=T[B-1])>>24&255)+yt(Y>>16&255,b>>16&255,T>>16&255)+yt(Y>>8&255,b>>8&255,T>>8&255)+yt(255&Y,255&b,255&T)?Y:b},j.Predictor12=function(b,T,B){var Y=T[B+0];return(it((b>>24&255)+(Y>>24&255)-((T=T[B-1])>>24&255))<<24|it((b>>16&255)+(Y>>16&255)-(T>>16&255))<<16|it((b>>8&255)+(Y>>8&255)-(T>>8&255))<<8|it((255&b)+(255&Y)-(255&T)))>>>0},j.Predictor13=function(b,T,B){var Y=T[B-1];return(Xe((b=rt(b,T[B+0]))>>24&255,Y>>24&255)<<24|Xe(b>>16&255,Y>>16&255)<<16|Xe(b>>8&255,Y>>8&255)<<8|Xe(b>>0&255,Y>>0&255))>>>0};var Eh=j.PredictorAdd0;j.PredictorAdd1=bt,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Ef=j.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",(function(b){return b>>8&255}),(function(b){return b})),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(b){return b}),(function(b){return b>>8&255}));var Sh,Ts=j.ColorIndexInverseTransform,Xu=j.MapARGB,Nh=j.VP8LColorIndexInverseTransformAlpha,oa=j.MapAlpha,Cs=j.VP8LPredictorsAdd=[];Cs.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var Zl,Sa,la,cl,ro,ul,io,ao,Sr,Jc,ca,ki,so,Ju,Qu,hs,ec,dl,tc,Zu,Qc,nc,ed,ps,Ga,Cn,sr,Wn,Fr=a(511),oo=a(2041),rc=a(225),fl=a(767),td=0,hl=oo,Sf=rc,ua=fl,Wi=Fr,Th=0,da=1,Ch=2,Is=3,Nf=4,nd=5,ic=6,Tf=7,Ih=8,rd=9,Rh=10,Rs=[2,3,7],id=[3,3,11],Zc=[280,256,256,256,40],Oh=[0,1,1,1,0],Cf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Os=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ks=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ac=8,Ps=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],js=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ms=null,Sv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Nv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ki=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Nr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],In=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Na=[],Qr=[],lo=[],sc=1,Um=2,pl=[],Yi=[];nt("UpsampleRgbLinePair",ge,3),nt("UpsampleBgrLinePair",Fe,3),nt("UpsampleRgbaLinePair",Jt,4),nt("UpsampleBgraLinePair",Sn,4),nt("UpsampleArgbLinePair",on,4),nt("UpsampleRgba4444LinePair",gt,2),nt("UpsampleRgb565LinePair",Ge,2);var eu=j.UpsampleRgbLinePair,Vm=j.UpsampleBgrLinePair,ad=j.UpsampleRgbaLinePair,Ph=j.UpsampleBgraLinePair,oc=j.UpsampleArgbLinePair,Ro=j.UpsampleRgba4444LinePair,lc=j.UpsampleRgb565LinePair,Ds=16,sd=1<<Ds-1,tu=-227,cc=482,jh=6,uc=0,Xi=a(256),Dh=a(256),Tv=a(256),t_=a(256),n_=a(cc-tu),r_=a(cc-tu);pr("YuvToRgbRow",ge,3),pr("YuvToBgrRow",Fe,3),pr("YuvToRgbaRow",Jt,4),pr("YuvToBgraRow",Sn,4),pr("YuvToArgbRow",on,4),pr("YuvToRgba4444Row",gt,2),pr("YuvToRgb565Row",Ge,2);var ai=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],od=[0,2,8],If=[8,7,6,4,4,2,2,2,1,1,1,1],Rf=1;this.WebPDecodeRGBA=function(b,T,B,Y,le){var ue=da,de=new Co,me=new kr;de.ba=me,me.S=ue,me.width=[me.width],me.height=[me.height];var ye=me.width,we=me.height,Oe=new qr;if(Oe==null||b==null)var ze=2;else e(Oe!=null),ze=za(b,T,B,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(ze!=0?ye=0:(ye!=null&&(ye[0]=Oe.width[0]),we!=null&&(we[0]=Oe.height[0]),ye=1),ye){me.width=me.width[0],me.height=me.height[0],Y!=null&&(Y[0]=me.width),le!=null&&(le[0]=me.height);e:{if(Y=new Qo,(le=new Kl).data=b,le.w=T,le.ha=B,le.kd=1,T=[0],e(le!=null),((b=za(le.data,le.w,le.ha,null,null,null,T,null,le))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(de!=null),Y.data=le.data,Y.w=le.w+le.offset,Y.ha=le.ha-le.offset,Y.put=ui,Y.ac=Pr,Y.bc=bi,Y.ma=de,le.xa){if((b=Ct())==null){de=1;break e}if((function($e,Ue){var dt=[0],tt=[0],ke=[0];t:for(;;){if($e==null)return 0;if(Ue==null)return $e.a=2,0;if($e.l=Ue,$e.a=0,te($e.m,Ue.data,Ue.w,Ue.ha),!Ot($e.m,dt,tt,ke)){$e.a=3;break t}if($e.xb=Um,Ue.width=dt[0],Ue.height=tt[0],!Bt(dt[0],tt[0],1,$e,null))break t;return 1}return e($e.a!=0),0})(b,Y)){if(Y=(T=ll(Y.width,Y.height,de.Oa,de.ba))==0){t:{Y=b;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((B=Y.l)!=null),e((le=B.ma)!=null),Y.xb!=0){if(Y.ca=le.ba,Y.tb=le.tb,e(Y.ca!=null),!ol(le.Oa,B,Is)){Y.a=2;break n}if(!Dr(Y,B.width)||B.da)break n;if((B.da||gn(Y.ca.S))&&Ve(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Ve()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!Te(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!nn(Y,Y.V,Y.Ba,Y.c,Y.i,B.o,Yt))break n;le.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(T=b.a)}else T=b.a}else{if((b=new _o)==null){de=1;break e}if(b.Fa=le.na,b.P=le.P,b.qc=le.Sa,Ii(b,Y)){if((T=ll(Y.width,Y.height,de.Oa,de.ba))==0){if(b.Aa=0,B=de.Oa,e((le=b)!=null),B!=null){if(0<(ye=0>(ye=B.Md)?0:100<ye?255:255*ye/100)){for(we=Oe=0;4>we;++we)12>(ze=le.pb[we]).lc&&(ze.ia=ye*If[0>ze.lc?0:ze.lc]>>3),Oe|=ze.ia;Oe&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=B.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}Vl(b,Y)||(T=b.a)}}else T=b.a}T==0&&de.Oa!=null&&de.Oa.fd&&(T=Af(de.ba))}de=T}ue=de!=0?null:11>ue?me.f.RGBA.eb:me.f.kb.y}else ue=null;return ue};var Mh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(j,$){for(var G="",V=0;V<4;V++)G+=String.fromCharCode(j[$++]);return G}function h(j,$){return(j[$+0]<<0|j[$+1]<<8|j[$+2]<<16)>>>0}function m(j,$){return(j[$+0]<<0|j[$+1]<<8|j[$+2]<<16|j[$+3]<<24)>>>0}new c;var g=[0],y=[0],N=[],A=new c,E=t,I=(function(j,$){var G={},V=0,L=!1,k=0,J=0;if(G.frames=[],!(function(H,W,K,Q){for(var he=0;he<Q;he++)if(H[W+he]!=K.charCodeAt(he))return!0;return!1})(j,$,"RIFF",4)){var ce,ne;for(m(j,$+=4),$+=8;$<j.length;){var ie=f(j,$),te=m(j,$+=4);$+=4;var fe=te+(1&te);switch(ie){case"VP8 ":case"VP8L":G.frames[V]===void 0&&(G.frames[V]={}),(C=G.frames[V]).src_off=L?J:$-8,C.src_size=k+te+8,V++,L&&(L=!1,k=0,J=0);break;case"VP8X":(C=G.header={}).feature_flags=j[$];var be=$+4;C.canvas_width=1+h(j,be),be+=3,C.canvas_height=1+h(j,be),be+=3;break;case"ALPH":L=!0,k=fe+8,J=$-8;break;case"ANIM":(C=G.header).bgcolor=m(j,$),be=$+4,C.loop_count=(ce=j)[(ne=be)+0]<<0|ce[ne+1]<<8,be+=2;break;case"ANMF":var re,C;(C=G.frames[V]={}).offset_x=2*h(j,$),$+=3,C.offset_y=2*h(j,$),$+=3,C.width=1+h(j,$),$+=3,C.height=1+h(j,$),$+=3,C.duration=h(j,$),$+=3,re=j[$++],C.dispose=1&re,C.blend=re>>1&1}ie!="ANMF"&&($+=fe)}return G}})(E,0);I.response=E,I.rgbaoutput=!0,I.dataurl=!1;var O=I.header?I.header:null,F=I.frames?I.frames:null;if(O){O.loop_counter=O.loop_count,g=[O.canvas_height],y=[O.canvas_width];for(var U=0;U<F.length&&F[U].blend!=0;U++);}var D=F[0],q=A.WebPDecodeRGBA(E,D.src_off,D.src_size,y,g);D.rgba=q,D.imgwidth=y[0],D.imgheight=g[0];for(var P=0;P<y[0]*g[0]*4;P++)N[P]=q[P];return this.width=y,this.height=g,this.data=N,this}(function(t){var e=function(){return typeof gN=="function"},n=function(g,y,N,A){var E=4,I=s;switch(A){case t.image_compression.FAST:E=1,I=a;break;case t.image_compression.MEDIUM:E=6,I=l;break;case t.image_compression.SLOW:E=9,I=c}g=r(g,y,N,I);var O=gN(g,{level:E});return t.__addimage__.arrayBufferToBinaryString(O)},r=function(g,y,N,A){for(var E,I,O,F=g.length/y,U=new Uint8Array(g.length+F),D=h(),q=0;q<F;q+=1){if(O=q*y,E=g.subarray(O,O+y),A)U.set(A(E,N,I),O+q);else{for(var P,j=D.length,$=[];P<j;P+=1)$[P]=D[P](E,N,I);var G=m($.concat());U.set($[G],O+q)}I=E}return U},i=function(g){var y=Array.apply([],g);return y.unshift(0),y},a=function(g,y){var N,A=[],E=g.length;A[0]=1;for(var I=0;I<E;I+=1)N=g[I-y]||0,A[I+1]=g[I]-N+256&255;return A},s=function(g,y,N){var A,E=[],I=g.length;E[0]=2;for(var O=0;O<I;O+=1)A=N&&N[O]||0,E[O+1]=g[O]-A+256&255;return E},l=function(g,y,N){var A,E,I=[],O=g.length;I[0]=3;for(var F=0;F<O;F+=1)A=g[F-y]||0,E=N&&N[F]||0,I[F+1]=g[F]+256-(A+E>>>1)&255;return I},c=function(g,y,N){var A,E,I,O,F=[],U=g.length;F[0]=4;for(var D=0;D<U;D+=1)A=g[D-y]||0,E=N&&N[D]||0,I=N&&N[D-y]||0,O=f(A,E,I),F[D+1]=g[D]-O+256&255;return F},f=function(g,y,N){if(g===y&&y===N)return g;var A=Math.abs(y-N),E=Math.abs(g-N),I=Math.abs(g+y-N-N);return A<=E&&A<=I?g:E<=I?y:N},h=function(){return[i,a,s,l,c]},m=function(g){var y=g.map((function(N){return N.reduce((function(A,E){return A+Math.abs(E)}),0)}));return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(g,y,N,A){var E,I,O,F,U,D,q,P,j,$,G,V,L,k,J,ce=this.decode.FLATE_DECODE,ne="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(O=new gfe(g)).imgData,I=O.bits,E=O.colorSpace,U=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){j=(P=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,G=new Uint8Array(j*O.colors),$=new Uint8Array(j);var ie,te=O.pixelBitlength-O.bits;for(k=0,J=0;k<j;k++){for(L=P[k],ie=0;ie<te;)G[J++]=L>>>ie&255,ie+=O.bits;$[k]=L>>>ie&255}}if(O.bits===16){j=(P=new Uint32Array(O.decodePixels().buffer)).length,G=new Uint8Array(j*(32/O.pixelBitlength)*O.colors),$=new Uint8Array(j*(32/O.pixelBitlength)),V=O.colors>1,k=0,J=0;for(var fe=0;k<j;)L=P[k++],G[J++]=L>>>0&255,V&&(G[J++]=L>>>16&255,L=P[k++],G[J++]=L>>>0&255),$[fe++]=L>>>16&255;I=8}A!==t.image_compression.NONE&&e()?(g=n(G,O.width*O.colors,O.colors,A),q=n($,O.width,1,A)):(g=G,q=$,ce=void 0)}if(O.colorType===3&&(E=this.color_spaces.INDEXED,D=O.palette,O.transparency.indexed)){var be=O.transparency.indexed,re=0;for(k=0,j=be.length;k<j;++k)re+=be[k];if((re/=255)===j-1&&be.indexOf(0)!==-1)F=[be.indexOf(0)];else if(re!==j){for(P=O.decodePixels(),$=new Uint8Array(P.length),k=0,j=P.length;k<j;k++)$[k]=be[P[k]];q=n($,O.width,1)}}var C=(function(H){var W;switch(H){case t.image_compression.FAST:W=11;break;case t.image_compression.MEDIUM:W=13;break;case t.image_compression.SLOW:W=14;break;default:W=12}return W})(A);return ce===this.decode.FLATE_DECODE&&(ne="/Predictor "+C+" "),ne+="/Colors "+U+" /BitsPerComponent "+I+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:N,data:g,index:y,filter:ce,decodeParameters:ne,transparency:F,palette:D,sMask:q,predictor:C,width:O.width,height:O.height,bitsPerComponent:I,colorSpace:E}}}})(Xt.API),(function(t){t.processGIF89A=function(e,n,r,i){var a=new vfe(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:l},h=new TE(100).encode(f,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(Xt.API),El.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},El.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ir.log("bit decode error:"+n)}},El.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},El.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},El.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},El.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=f}this.pos+=t}},El.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,f=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},El.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},El.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},El.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new El(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new TE(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(Xt.API),SM.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new SM(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new TE(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(Xt.API),Xt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,f=0;f<i;f+=4){var h=r[f],m=r[f+1],g=r[f+2],y=r[f+3];a[l++]=h,a[l++]=m,a[l++]=g,s[c++]=y}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Xt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},lp=Xt.API,Oy=lp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=e.doKerning!==!1,g=0,y=t.length,N=0,A=l[0]||c,E=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=m&&yr(f[r])==="object"&&!isNaN(parseInt(f[r][N],10))?f[r][N]/h:0,E.push((l[r]||A)/c+g)),N=r;return E},_M=lp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lp.processArabic&&(t=lp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Oy.apply(this,arguments).reduce((function(a,s){return a+s}),0)},wM=function(t,e,n,r){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<n;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},AM=function(t,e,n){n||(n={});var r,i,a,s,l,c,f,h=[],m=[h],g=n.textIndent||0,y=0,N=0,A=t.split(" "),E=Oy.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var I=Array(c).join(" "),O=[];A.map((function(U){(U=U.split(/\s*\n/)).length>1?O=O.concat(U.map((function(D,q){return(q&&D.length?`
`:"")+D}))):O.push(U[0])})),A=O,c=_M.apply(this,[I,n])}for(a=0,s=A.length;a<s;a++){var F=0;if(r=A[a],c&&r[0]==`
`&&(r=r.substr(1),F=1),g+y+(N=(i=Oy.apply(this,[r,n])).reduce((function(U,D){return U+D}),0))>e||F){if(N>e){for(l=wM.apply(this,[r,i,e-(g+y),e]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);N=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(U,D){return U+D}),0)}else h=[r];m.push(h),g=N+c,y=E}else h.push(r),g+=y+N,y=E}return f=c?function(U,D){return(D?I:"")+U.join(" ")}:function(U){return U.join(" ")},m.map(f)},lp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,f=[];for(l=0,c=r.length;l<c;l++)f=f.concat(AM.apply(this,[r[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var g,y,N,A,E=["{"];for(var I in m){if(g=m[I],isNaN(parseInt(I,10))?y="'"+I+"'":(I=parseInt(I,10),y=(y=a(I).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof g=="number")g<0?(N=a(g).slice(3),A="-"):(N=a(g).slice(2),A=""),N=A+N.slice(0,-1)+r[N.slice(-1)];else{if(yr(g)!=="object")throw new Error("Don't know what to do with value type "+yr(g)+".");N=s(g)}E.push(y+N)}return E.push("}"),E.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,N,A,E={},I=1,O=E,F=[],U="",D="",q=m.length-1,P=1;P<q;P+=1)(A=m[P])=="'"?g?(N=g.join(""),g=void 0):g=[]:g?g.push(A):A=="{"?(F.push([O,N]),O={},N=void 0):A=="}"?((y=F.pop())[0][y[1]]=O,N=void 0,O=y[0]):A=="-"?I=-1:N===void 0?n.hasOwnProperty(A)?(U+=n[A],N=parseInt(U,16)*I,I=1,U=""):U+=A:n.hasOwnProperty(A)?(D+=n[A],O[N]=parseInt(D,16)*I,I=1,N=void 0,D=""):D+=A;return E},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var g=m.font,y=h.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var N=f.Unicode[g.postScriptName];N&&(g.metadata.Unicode.encoding=N,g.encoding=N.codePages[0])}])})(Xt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Jg(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Xt),(function(t){function e(){return(rn.canvg?Promise.resolve(rn.canvg):dN(()=>import("./index.es-CV1lvGAv.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}Xt.API.addSvgAsImage=function(n,r,i,a,s,l,c,f){if(isNaN(r)||isNaN(i))throw Ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then((function(N){return N.fromString(m,n,g)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(N){return N.render(g)})).then((function(){y.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,f)}))}})(),Xt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Xt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],f=0,h=0,m=0;function g(N,A){var E,I=!1;for(E=0;E<N.length;E+=1)N[E]===A&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=l.length;for(m=0;m<y;m+=1)n[l[m]].value=n[l[m]].defaultValue,n[l[m]].explicitSet=!1}if(yr(t)==="object"){for(i in t)if(a=t[i],g(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var N,A=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?A.push("/"+N+" /"+n[N].value):A.push("/"+N+" "+n[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Xt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,g=a.length;m<g;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,f,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(l=Object.keys(a).sort((function(y,N){return y-N}))).length;m<g;m++)s=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",N=0;N<g.length;N++)y+=String.fromCharCode(g[N]);var A=f();h({data:y,addLength1:!0,objectId:A}),c("endobj");var E=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var I=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dp(l.fontName)),c("/FontFile2 "+A+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var O=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+dp(l.fontName)),c("/FontDescriptor "+I+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+dp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+O+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);var N=f();h({data:g,addLength1:!0,objectId:N}),c("endobj");var A=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var E=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var I=0;I<l.metadata.hmtx.widths.length;I++)l.metadata.hmtx.widths[I]=parseInt(l.metadata.hmtx.widths[I]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+dp(l.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,f=a.y,h=a.options||{},m=a.mutex||{},g=m.pdfEscape,y=m.activeFontKey,N=m.fonts,A=y,E="",I=0,O="",F=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:l,x:c,y:f,options:h,mutex:m};for(O=l,A=y,Array.isArray(l)&&(O=l[0]),I=0;I<O.length;I+=1)N[A].metadata.hasOwnProperty("cmap")&&(s=N[A].metadata.cmap.unicode.codeMap[O[I].charCodeAt(0)]),s||O[I].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?E+=O[I]:E+="";var U="";return parseInt(A.slice(1))<14||F==="WinAnsiEncoding"?U=g(E,A).split("").map((function(D){return D.charCodeAt(0).toString(16)})).join(""):F==="Identity-H"&&(U=n(E,N[A])),m.isHex=!0,{text:U,x:c,y:f,options:h,mutex:m}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},c,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(Xt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Xt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,l,c,f,h,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,F=0;this.__bidiEngine__={};var U=function(V){var L=V.charCodeAt(),k=L>>8,J=A[k];return J!==void 0?m[256*J+(255&L)]:k===252||k===253?"AL":I.test(k)?"L":k===8?"R":"N"},D=function(V){for(var L,k=0;k<V.length;k++){if((L=U(V.charAt(k)))==="L")return!1;if(L==="R")return!0}return!1},q=function(V,L,k,J){var ce,ne,ie,te,fe=L[J];switch(fe){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(fe="AN");break;case"AL":O=!0,fe="R";break;case"WS":fe="N";break;case"CS":J<1||J+1>=L.length||(ce=k[J-1])!=="EN"&&ce!=="AN"||(ne=L[J+1])!=="EN"&&ne!=="AN"?fe="N":O&&(ne="AN"),fe=ne===ce?ne:"N";break;case"ES":fe=(ce=J>0?k[J-1]:"B")==="EN"&&J+1<L.length&&L[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&k[J-1]==="EN"){fe="EN";break}if(O){fe="N";break}for(ie=J+1,te=L.length;ie<te&&L[ie]==="ET";)ie++;fe=ie<te&&L[ie]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(te=L.length,ie=J+1;ie<te&&L[ie]==="NSM";)ie++;if(ie<te){var be=V[J],re=be>=1425&&be<=2303||be===64286;if(ce=L[ie],re&&(ce==="R"||ce==="AL")){fe="R";break}}}fe=J<1||(ce=L[J-1])==="B"?"N":k[J-1];break;case"B":O=!1,i=!0,fe=F;break;case"S":a=!0,fe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":fe="N"}return fe},P=function(V,L,k){var J=V.split("");return k&&j(J,k,{hiLevel:F}),J.reverse(),L&&L.reverse(),J.join("")},j=function(V,L,k){var J,ce,ne,ie,te,fe=-1,be=V.length,re=0,C=[],H=F?y:g,W=[];for(O=!1,i=!1,a=!1,ce=0;ce<be;ce++)W[ce]=U(V[ce]);for(ne=0;ne<be;ne++){if(te=re,C[ne]=q(V,W,C,ne),J=240&(re=H[te][N[C[ne]]]),re&=15,L[ne]=ie=H[re][5],J>0)if(J===16){for(ce=fe;ce<ne;ce++)L[ce]=1;fe=-1}else fe=-1;if(H[re][6])fe===-1&&(fe=ne);else if(fe>-1){for(ce=fe;ce<ne;ce++)L[ce]=ie;fe=-1}W[ne]==="B"&&(L[ne]=0),k.hiLevel|=ie}a&&(function(K,Q,he){for(var _e=0;_e<he;_e++)if(K[_e]==="S"){Q[_e]=F;for(var ae=_e-1;ae>=0&&K[ae]==="WS";ae--)Q[ae]=F}})(W,L,be)},$=function(V,L,k,J,ce){if(!(ce.hiLevel<V)){if(V===1&&F===1&&!i)return L.reverse(),void(k&&k.reverse());for(var ne,ie,te,fe,be=L.length,re=0;re<be;){if(J[re]>=V){for(te=re+1;te<be&&J[te]>=V;)te++;for(fe=re,ie=te-1;fe<ie;fe++,ie--)ne=L[fe],L[fe]=L[ie],L[ie]=ne,k&&(ne=k[fe],k[fe]=k[ie],k[ie]=ne);re=te}re++}}},G=function(V,L,k){var J=V.split(""),ce={hiLevel:F};return k||(k=[]),j(J,k,ce),(function(ne,ie,te){if(te.hiLevel!==0&&h)for(var fe,be=0;be<ne.length;be++)ie[be]===1&&(fe=E.indexOf(ne[be]))>=0&&(ne[be]=E[fe+1])})(J,k,ce),$(2,J,L,k,ce),$(1,J,L,k,ce),J.join("")};return this.__bidiEngine__.doBidiReorder=function(V,L,k){if((function(ce,ne){if(ne)for(var ie=0;ie<ce.length;ie++)ne[ie]=ie;l===void 0&&(l=D(ce)),f===void 0&&(f=D(ce))})(V,L),s||!c||f)if(s&&c&&l^f)F=l?1:0,V=P(V,L,k);else if(!s&&c&&f)F=l?1:0,V=G(V,L,k),V=P(V,L);else if(!s||l||c||f){if(s&&!c&&l^f)V=P(V,L),l?(F=0,V=G(V,L,k)):(F=1,V=G(V,L,k),V=P(V,L));else if(s&&l&&!c&&f)F=1,V=G(V,L,k),V=P(V,L);else if(!s&&!c&&l^f){var J=h;l?(F=1,V=G(V,L,k),F=0,h=!1,V=G(V,L,k),h=J):(F=0,V=G(V,L,k),V=P(V,L),F=1,h=!1,V=G(V,L,k),h=J,V=P(V,L))}}else F=0,V=G(V,L,k);else F=l?1:0,V=G(V,L,k);return V},this.__bidiEngine__.setOptions=function(V){V&&(s=V.isInputVisual,c=V.isOutputVisual,l=V.isInputRtl,f=V.isOutputRtl,h=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),s=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Xt),Xt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ef(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new kfe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new yfe(this.contents),this.head=new bfe(this),this.name=new Sfe(this),this.cmap=new LV(this),this.toUnicode={},this.hhea=new _fe(this),this.maxp=new Nfe(this),this.hmtx=new Tfe(this),this.post=new Afe(this),this.os2=new wfe(this),this.loca=new Ofe(this),this.glyf=new Cfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,f;for(f=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Ll,ef=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),yfe=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,l,c,f,h,m,g,y,N,A;for(A in y=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(y)/c),s=Math.floor(m/c),h=16*y-m,(i=new ef).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(s),i.writeShort(h),a=16*y,f=i.pos+a,l=null,N=[],n)for(g=n[A],i.writeString(A),i.writeInt(t(g)),i.writeInt(f),i.writeInt(g.length),N=N.concat(g),A==="head"&&(l=f),f+=g.length;f%4;)N.push(0),f++;return i.write(N),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=FV.call(n);n.length%4;)n.push(0);for(a=new ef(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),xfe={}.hasOwnProperty,qc=function(t,e){for(var n in e)xfe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ll=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var bfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ef).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),NM=(function(){function t(e,n){var r,i,a,s,l,c,f,h,m,g,y,N,A,E,I,O,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,a=(function(){var U,D;for(D=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)D.push(e.readUInt16());return D})(),e.pos+=2,A=(function(){var U,D;for(D=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)D.push(e.readUInt16());return D})(),f=(function(){var U,D;for(D=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)D.push(e.readUInt16());return D})(),h=(function(){var U,D;for(D=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)D.push(e.readUInt16());return D})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var U,D;for(D=[],c=U=0;0<=i?U<i:U>i;c=0<=i?++U:--U)D.push(e.readUInt16());return D})(),c=I=0,F=a.length;I<F;c=++I)for(E=a[c],r=O=N=A[c];N<=E?O<=E:O>=E;r=N<=E?++O:--O)h[c]===0?s=r+f[c]:(s=l[h[c]/2+(r-N)-(g-c)]||0)!==0&&(s+=f[c]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,a,s,l,c,f,h,m,g,y,N,A,E,I,O,F,U,D,q,P,j,$,G,V,L,k,J,ce,ne,ie,te,fe,be,re,C,H,W,K,Q,he,_e,ae,Ae,Ce,Ne;switch(J=new ef,s=Object.keys(e).sort((function(Se,Te){return Se-Te})),n){case"macroman":for(A=0,E=(function(){var Se=[];for(N=0;N<256;++N)Se.push(0);return Se})(),O={0:0},a={},ce=0,fe=s.length;ce<fe;ce++)O[ae=e[i=s[ce]]]==null&&(O[ae]=++A),a[i]={old:e[i],new:O[e[i]]},E[i]=O[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(E),{charMap:a,subtable:J.data,maxGlyphID:A+1};case"unicode":for(L=[],m=[],F=0,O={},r={},I=f=null,ne=0,be=s.length;ne<be;ne++)O[D=e[i=s[ne]]]==null&&(O[D]=++F),r[i]={old:D,new:O[D]},l=O[D]-i,I!=null&&l===f||(I&&m.push(I),L.push(i),f=l),I=i;for(I&&m.push(I),m.push(65535),L.push(65535),G=2*($=L.length),j=2*Math.pow(Math.log($)/Math.LN2,2),g=Math.log(j/2)/Math.LN2,P=2*$-j,c=[],q=[],y=[],N=ie=0,re=L.length;ie<re;N=++ie){if(V=L[N],h=m[N],V===65535){c.push(0),q.push(0);break}if(V-(k=r[V].new)>=32768)for(c.push(0),q.push(2*(y.length+$-N)),i=te=V;V<=h?te<=h:te>=h;i=V<=h?++te:--te)y.push(r[i].new);else c.push(k-V),q.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*$+2*y.length),J.writeUInt16(0),J.writeUInt16(G),J.writeUInt16(j),J.writeUInt16(g),J.writeUInt16(P),he=0,C=m.length;he<C;he++)i=m[he],J.writeUInt16(i);for(J.writeUInt16(0),_e=0,H=L.length;_e<H;_e++)i=L[_e],J.writeUInt16(i);for(Ae=0,W=c.length;Ae<W;Ae++)l=c[Ae],J.writeUInt16(l);for(Ce=0,K=q.length;Ce<K;Ce++)U=q[Ce],J.writeUInt16(U);for(Ne=0,Q=y.length;Ne<Q;Ne++)A=y[Ne],J.writeUInt16(A);return{charMap:r,subtable:J.data,maxGlyphID:F+1}}},t})(),LV=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new NM(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=NM.encode(n,r),(a=new ef).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e})(),_fe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),wfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),Afe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,f;for(f=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)f.push(n.readUInt32());return f}).call(this)}},e})(),Efe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Sfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,s,l,c,f,h,m,g,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(f={},s=m=0,g=i.length;m<g;s=++m)a=i[s],n.pos=a.offset,h=n.readString(a.length),l=new Efe(h,a),f[y=a.nameID]==null&&(f[y]=[]),f[a.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e})(),Nfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),Tfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,s,l,c,f;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(n.readInt16());return m})(),this.widths=(function(){var h,m,g,y;for(y=[],h=0,m=(g=this.metrics).length;h<m;h++)s=g[h],y.push(s.advance);return y}).call(this),i=this.widths[this.widths.length-1],f=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),FV=[].slice,Cfe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,s,l,c,f,h,m,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new ef(r.read(a))).readShort(),h=c.readShort(),g=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[n]=l===-1?new Rfe(c,h,g,f,m):new Ife(c,l,h,g,f,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,s,l,c,f;for(l=[],s=[],c=0,f=r.length;c<f;c++)a=n[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},e})(),Ife=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Rfe=(function(){function t(e,n,r,i,a){var s,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ef(FV.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Ofe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,Ll),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],f=this.offsets[l+1]-c;f>0&&(a+=f)}for(var h=new Array(4*i.length),m=0;m<i.length;++m)h[4*m+3]=255&i[m],h[4*m+2]=(65280&i[m])>>8,h[4*m+1]=(16711680&i[m])>>16,h[4*m]=(4278190080&i[m])>>24;return h},e})(),kfe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,l,c,f,h,m,g,y,N,A,E,I;for(i in r=LV.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),y={0:0},I=r.charMap)y[(c=I[i]).old]=c.new;for(N in g=r.maxGlyphID,s)N in y||(y[N]=g++);return h=(function(O){var F,U;for(F in U={},O)U[O[F]]=F;return U})(y),m=Object.keys(h).sort((function(O,F){return O-F})),A=(function(){var O,F,U;for(U=[],O=0,F=m.length;O<F;O++)l=m[O],U.push(h[l]);return U})(),a=this.font.glyf.encode(s,A,y),f=this.font.loca.encode(a.offsets,A),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t})();Xt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,c,f;for(f=[],l=0,c=n.length;l<c;l++)r=n[l],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();const Pfe=({stock:t,clients:e,batches:n,onConfirmSale:r,onBack:i,salesHistory:a})=>{const s=C=>{if(!n)return"";const H=n.find(W=>W.id_lote===C);return H?H.fornecedor:""},[l,c]=xe.useState(null),[f,h]=xe.useState([]),[m,g]=xe.useState(""),[y,N]=xe.useState(!1),[A,E]=xe.useState(!1),I=xe.useMemo(()=>{if(!n||n.length===0)return[];const C=new Set(n.filter(H=>H.status==="FECHADO").map(H=>H.id_lote));return t.filter(H=>H.status==="DISPONIVEL"&&C.has(H.id_lote))},[t,n]),[O,F]=xe.useState(new Set),U=C=>{F(H=>{const W=new Set(H);return W.has(C)?W.delete(C):W.add(C),W})},D=xe.useMemo(()=>{const C=I.filter(W=>W.id_completo.toLowerCase().includes(m.toLowerCase())||W.id_lote.toLowerCase().includes(m.toLowerCase())),H=new Map;return C.forEach(W=>{const K=W.id_lote;H.has(K)||H.set(K,[]),H.get(K).push(W)}),Array.from(H.entries()).map(([W,K])=>{const Q=new Map;return K.forEach(he=>{Q.has(he.sequencia)||Q.set(he.sequencia,[]),Q.get(he.sequencia).push(he)}),{key:W,items:K,lote:W,carcasses:Array.from(Q.entries()).map(([he,_e])=>({sequencia:he,parts:_e.sort((ae,Ae)=>ae.tipo-Ae.tipo),totalCarcassWeight:_e.reduce((ae,Ae)=>ae+Ae.peso_entrada,0)})).sort((he,_e)=>_e.sequencia-he.sequencia),totalWeight:K.reduce((he,_e)=>he+_e.peso_entrada,0),supplier:s(W)}}).sort((W,K)=>K.lote.localeCompare(W.lote))},[I,m,n]),[q,P]=xe.useState({}),$=f.reduce((C,H)=>{const W=q[H.id_completo];return C+(W!==void 0?W:H.peso_entrada)},0),[G,V]=xe.useState(0),[L,k]=xe.useState(0),J=$*G,ce=(C,H)=>{P(W=>({...W,[C]:H}))},ne=C=>{f.find(H=>H.id_completo===C.id_completo)?(h(H=>H.filter(W=>W.id_completo!==C.id_completo)),P(H=>{const W={...H};return delete W[C.id_completo],W})):(h(H=>[...H,C]),P(H=>({...H,[C.id_completo]:C.peso_entrada})))},ie=C=>{if(C.every(W=>f.some(K=>K.id_completo===W.id_completo)))h(W=>W.filter(K=>!C.some(Q=>Q.id_completo===K.id_completo)));else{const W=C.filter(K=>!f.some(Q=>Q.id_completo===K.id_completo));h(K=>[...K,...W]),W.forEach(K=>{P(Q=>({...Q,[K.id_completo]:K.peso_entrada}))})}},te=(C,H)=>{const W=C.reduce((he,_e)=>he+_e.peso_entrada,0),K={};let Q=0;C.forEach((he,_e)=>{if(_e===C.length-1)K[he.id_completo]=parseFloat((H-Q).toFixed(2));else{const ae=W>0?he.peso_entrada/W:0,Ae=parseFloat((H*ae).toFixed(2));K[he.id_completo]=Ae,Q+=Ae}}),P(he=>({...he,...K}))},fe=xe.useMemo(()=>{const C=new Map;return f.forEach(H=>{const W=`${H.id_lote}-${H.sequencia}`;C.has(W)||C.set(W,[]),C.get(W).push(H)}),Array.from(C.values())},[f]),be=()=>{if(!l||f.length===0){alert("Selecione um cliente e itens para gerar o recibo.");return}const C=Xt?new Xt:null;if(!C)return;const H=C.internal.pageSize.width;C.setFillColor(15,23,42),C.rect(20,15,45,15,"F"),C.setFont("courier","bold"),C.setFontSize(14),C.setTextColor(255,255,255),C.text("THIAGO",25,23),C.setFontSize(16),C.setTextColor(59,130,246),C.text("704",47,26),C.setTextColor(100,116,139),C.setFont("helvetica","bold"),C.setFontSize(8),C.text("EXCELNCIA EM CARNA OPERACIONAL",20,35),C.setTextColor(15,23,42),C.setFontSize(18),C.text("COMPROVANTE DE ENTREGA",H-20,25,{align:"right"}),C.setFontSize(8),C.setFont("helvetica","bold"),C.text(`FRIGOGEST PRO X // ID: ${Date.now()}`,H-20,32,{align:"right"}),C.setDrawColor(226,232,240),C.line(20,40,H-20,40),C.setFont("helvetica","bold"),C.setFontSize(10),C.text("DADOS DO DESTINATRIO",20,50),C.setFont("helvetica","normal"),C.text(`CLIENTE: ${l.nome_social}`,20,58),C.text(`DOCUMENTO: ${l.cpf_cnpj||"N/A"}`,20,64),C.text(`ENDEREO: ${l.endereco||"RETIRADA LOCAL"}`,20,70),C.line(20,80,H-20,80),C.setFont("helvetica","bold"),C.text("DETALHAMENTO DOS ITENS",20,90);let W=100;C.setFillColor(242,245,248),C.rect(20,W-6,H-40,9,"F"),C.setFontSize(8),C.setFont("helvetica","bold"),C.text("IDENTIFICAO / DESCRIO",22,W),C.text("TIPO",80,W),C.text("LOTE",110,W),C.text("PESO (KG)",155,W,{align:"right"}),C.text("VALOR (R$)",190,W,{align:"right"}),W+=10,C.setFontSize(9),C.setFont("helvetica","normal");const K=new Map;f.forEach(Q=>{const he=`${Q.id_lote}-${Q.sequencia}`;K.has(he)||K.set(he,[]),K.get(he).push(Q)}),K.forEach((Q,he)=>{const _e=Q.length>1||Q[0].tipo===1,ae=Q.reduce((Ce,Ne)=>Ce+(q[Ne.id_completo]||Ne.peso_entrada),0),Ae=ae*G;C.setTextColor(15,23,42),_e&&Q.length>1?(C.setFont("helvetica","bold"),C.setFontSize(9),C.text(`CARCASSA INTEIRA #${Q[0].sequencia}`,22,W),C.setFontSize(8),C.setFont("helvetica","normal"),C.text(Q[0].id_lote,110,W),C.text(ae.toFixed(2),155,W,{align:"right"}),C.text(Ae.toFixed(2),190,W,{align:"right"}),W+=7,C.setFontSize(7),C.setTextColor(100,116,139),Q.forEach(Ce=>{const Ne=q[Ce.id_completo]||Ce.peso_entrada;C.text(`   ${Ce.tipo===2?"BANDA A":"BANDA B"}`,22,W),C.text(Ne.toFixed(2)+" kg",155,W,{align:"right"}),W+=5}),W+=3,C.setFontSize(9),C.setTextColor(15,23,42)):_e&&Q[0].tipo===1?(C.setFont("helvetica","bold"),C.text(`CARCASSA INTEIRA #${Q[0].sequencia}`,22,W),C.setFont("helvetica","normal"),C.text("-",80,W),C.text(Q[0].id_lote,110,W),C.text(ae.toFixed(2),155,W,{align:"right"}),C.text(Ae.toFixed(2),190,W,{align:"right"}),W+=8):Q.forEach(Ce=>{const Ne=q[Ce.id_completo]||Ce.peso_entrada,Se=Ne*G;C.text(Ce.id_completo,22,W),C.text(Ce.tipo===1?"INTEIRO":Ce.tipo===2?"BANDA A":"BANDA B",80,W),C.text(Ce.id_lote,110,W),C.text(Ne.toFixed(2),155,W,{align:"right"}),C.text(Se.toFixed(2),190,W,{align:"right"}),W+=8}),W>250&&(C.addPage(),W=30)}),C.setDrawColor(226,232,240),C.line(20,W,H-20,W),W+=10,C.setFontSize(12),C.setFont("helvetica","bold"),C.setTextColor(59,130,246),C.text("TOTAL DA CARGA:",20,W),C.setTextColor(15,23,42),C.text(`${$.toFixed(2)} KG`,155,W,{align:"right"}),C.text(Pt(J+L),190,W,{align:"right"}),W+=40,W>260&&(C.addPage(),W=50),C.setDrawColor(15,23,42),C.line(25,W,95,W),C.setFontSize(7),C.setFont("helvetica","bold"),C.text("RECEBIDO POR (CLIENTE)",60,W+5,{align:"center"}),C.setFont("helvetica","normal"),C.text(l.nome_social,60,W+9,{align:"center"}),C.line(H-95,W,H-25,W),C.setFont("helvetica","bold"),C.text("ENTREGUE POR (THIAGO 704)",H-60,W+5,{align:"center"}),C.setFont("helvetica","normal"),C.text("LOGSTICA OPERACIONAL FG",H-60,W+9,{align:"center"}),C.save(`RECIBO_THIAGO704_${l.id_ferro}.pdf`)},re=()=>{if(!l||f.length===0||G<=0){alert(" Preencha todos os dados da venda!");return}confirm("Deseja gerar o Manifesto de Carga (PDF)?")&&be();const C=f.map(H=>({...H,peso_saida:q[H.id_completo]!==void 0?q[H.id_completo]:H.peso_entrada}));r({client:l,items:C,pricePerKg:G,extrasCost:L}),c(null),h([]),V(0),k(0),N(!0)};return y?u.jsx("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-10",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>N(!1),className:"group flex items-center gap-2 px-5 py-2 bg-white border border-slate-200 rounded-full text-xs font-black text-slate-500 hover:text-blue-600 hover:border-blue-100 hover:bg-blue-50 transition-all shadow-sm",children:[u.jsx(ja,{size:16})," Voltar  Expedio"]}),u.jsxs("button",{onClick:()=>N(!1),className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-xs font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-100 uppercase tracking-widest",children:[u.jsx(Ec,{size:18})," Realizar Outra Venda"]})]}),u.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[u.jsx("div",{className:"bg-slate-900 p-4 rounded-3xl text-white shadow-2xl shadow-slate-200",children:u.jsx(Cu,{size:32})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 italic",children:["LOG de ",u.jsx("span",{className:"text-blue-600",children:"Expedio"})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mt-2",children:"Histrico Operacional Cronolgico"})]})]})]}),u.jsx("div",{className:"premium-card overflow-hidden bg-white shadow-xl shadow-slate-100",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Data Valor"}),u.jsx("th",{children:"Entidade Receptora"}),u.jsx("th",{children:"ID Unitrio"}),u.jsx("th",{className:"text-right",children:"Peso Sada"}),u.jsx("th",{className:"text-right",children:"Montante Final"})]})}),u.jsx("tbody",{children:a.slice(0,100).map((C,H)=>u.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[u.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(C.data_venda).toLocaleDateString()}),u.jsx("td",{children:u.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',C.nome_cliente||"Mercado Interno",'"']})}),u.jsx("td",{children:u.jsx("span",{className:"text-[10px] text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded border border-slate-100",children:C.id_completo})}),u.jsx("td",{className:"text-right font-black text-slate-900 text-sm",children:Rr(C.peso_real_saida)}),u.jsx("td",{className:"text-right",children:u.jsx("span",{className:"font-black text-blue-600 text-sm",children:Pt(C.peso_real_saida*C.preco_venda_kg)})})]},H))})]})})})]})}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] overflow-hidden animate-reveal font-sans",children:[u.jsxs("div",{className:"h-24 bg-white border-b border-slate-100 flex items-center justify-between px-10 shrink-0 z-50 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-10",children:[u.jsxs("button",{onClick:i,className:"group flex items-center gap-2.5 px-5 py-2.5 bg-slate-50 border border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-blue-600 hover:bg-white hover:border-blue-200 transition-all shadow-sm",children:[u.jsx(ja,{size:16})," Home"]}),u.jsx("div",{className:"h-10 w-px bg-slate-100"}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-xl shadow-blue-100",children:u.jsx(Ec,{size:24})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-black text-slate-900 tracking-tight italic leading-none",children:["Terminal de ",u.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mt-1.5 opacity-60",children:"Expedio Controlada / ID-X-PROC"})]})]})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-3 px-6 py-3.5 rounded-2xl bg-slate-100 text-slate-600 text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all",children:[u.jsx(Cu,{size:16})," Archive Log"]})})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white/50 backdrop-blur-sm relative",children:[u.jsxs("div",{className:"p-8 pb-4 flex flex-col xl:flex-row gap-6 shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex-1 group",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Entidade Receptora"}),u.jsxs("div",{className:"relative",children:[u.jsx(yx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),u.jsxs("select",{className:"modern-input h-16 pl-12 bg-white font-extrabold text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all cursor-pointer",value:l?JSON.stringify(l):"",onChange:C=>{C.target.value?c(JSON.parse(C.target.value)):c(null)},children:[u.jsx("option",{value:"",children:"-- SELECIONE O CLIENTE --"}),e.sort((C,H)=>C.nome_social.localeCompare(H.nome_social)).map(C=>u.jsxs("option",{value:JSON.stringify(C),children:[C.id_ferro," // ",C.nome_social]},C.id_ferro))]})]})]}),u.jsxs("div",{className:"w-full xl:w-96 group",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3 block px-1 group-focus-within:text-blue-600 transition-colors",children:"Filtro de Logstica"}),u.jsxs("div",{className:"relative",children:[u.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),u.jsx("input",{type:"text",placeholder:"BUSCAR ID OU LOTE...",className:"modern-input h-16 pl-12 bg-white font-black text-xs uppercase tracking-widest shadow-sm hover:border-blue-300 transition-all",value:m,onChange:C=>g(C.target.value)})]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-8 pt-4 space-y-6 custom-scrollbar",children:D.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 grayscale",children:[u.jsx(dx,{size:100,className:"mb-6"}),u.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"Estoque Indisponvel"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-6",children:D.map(C=>{const H=C.items.every(Q=>f.some(he=>he.id_completo===Q.id_completo)),W=C.items.some(Q=>f.some(he=>he.id_completo===Q.id_completo)),K=O.has(C.lote);return u.jsxs("div",{className:"bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-md transition-shadow group/batch",children:[u.jsxs("div",{onClick:()=>U(C.lote),className:`p-4 flex items-center justify-between cursor-pointer transition-colors ${K?"bg-slate-50/80 border-b border-slate-100":"bg-white hover:bg-slate-50/50"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${K?"bg-blue-600 text-white rotate-90":"bg-slate-100 text-slate-400"}`,children:u.jsx(Dc,{size:20})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-0.5",children:["LOTE: ",C.lote]}),u.jsxs("p",{className:"text-xs font-extrabold text-slate-900 uppercase tracking-tighter italic",children:['"',C.supplier||"CARGA PADRO",'"']})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Payload Total"}),u.jsx("p",{className:"text-[12px] font-black text-slate-900",children:Rr(C.totalWeight)})]}),u.jsx("div",{className:"h-8 w-px bg-slate-100 hidden sm:block"}),u.jsx("button",{onClick:Q=>{Q.stopPropagation(),ie(C.items)},className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${H?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-100 text-slate-400 hover:text-blue-600 hover:bg-blue-50"}`,children:H?"LIBERAR":W?"COMPLETAR":"RESERVAR"})]})]}),K&&u.jsx("div",{className:"overflow-x-auto bg-white animate-reveal",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50/20",children:[u.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest w-12 text-center",children:"Sel"}),u.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Procedncia"}),u.jsx("th",{className:"px-4 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Tipo"}),u.jsx("th",{className:"px-6 py-2 text-[8px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Peso (KG)"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-50",children:C.carcasses.map(Q=>{const he=Q.parts.every(_e=>f.some(ae=>ae.id_completo===_e.id_completo));return u.jsxs(Le.Fragment,{children:[u.jsxs("tr",{className:"bg-slate-50/10 border-t border-slate-100/50",children:[u.jsx("td",{className:"px-6 py-1 text-center bg-slate-50/20",children:u.jsxs("div",{className:"w-4 h-4 rounded bg-slate-200 flex items-center justify-center text-[7px] font-black text-slate-500",children:["#",Q.sequencia]})}),u.jsx("td",{className:"px-4 py-1",colSpan:2,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Carcassa #",Q.sequencia]}),u.jsx("button",{onClick:_e=>{_e.stopPropagation(),ie(Q.parts)},className:`px-2 py-0.5 rounded text-[7px] font-black uppercase transition-all ${he?"bg-blue-600 text-white shadow-sm":"bg-white border border-slate-200 text-slate-400 hover:text-blue-600 hover:border-blue-200"}`,children:he?"INTEIRA SELECIONADA":"VENDER INTEIRA"})]})}),u.jsx("td",{className:"px-6 py-1 text-right",children:u.jsx("span",{className:"text-[9px] font-black text-slate-400",children:Rr(Q.totalCarcassWeight)})})]}),Q.parts.map(_e=>{const ae=f.some(Ae=>Ae.id_completo===_e.id_completo);return u.jsxs("tr",{onClick:()=>ne(_e),className:`group/row cursor-pointer transition-all ${ae?"bg-blue-50/30":"hover:bg-slate-50/50"}`,children:[u.jsx("td",{className:"px-6 py-1.5 text-center",children:u.jsx("div",{className:`w-4 h-4 rounded-md border-2 flex items-center justify-center mx-auto transition-all ${ae?"bg-blue-600 border-blue-600 text-white":"border-slate-200 bg-white"}`,children:ae&&u.jsx(Go,{size:8,fill:"currentColor",className:"text-white"})})}),u.jsx("td",{className:"px-4 py-1.5",children:u.jsx("span",{className:`text-[10px] font-mono font-bold ${ae?"text-blue-700":"text-slate-400"}`,children:_e.id_completo})}),u.jsx("td",{className:"px-4 py-1.5 text-center",children:u.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-tighter ${ae?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500"}`,children:_e.tipo===1?"INT":_e.tipo===2?"B-A":"B-B"})}),u.jsx("td",{className:"px-6 py-1.5 text-right",children:u.jsx("span",{className:`text-xs font-black tracking-tight ${ae?"text-blue-900":"text-slate-900"}`,children:Rr(_e.peso_entrada)})})]},_e.id_completo)})]},Q.sequencia)})})]})})]},C.key)})})})]}),u.jsxs("div",{className:"w-full md:w-[420px] bg-white border-l border-slate-100 flex flex-col shadow-2xl z-40 relative",children:[u.jsxs("div",{className:"p-6 pb-2 shrink-0 border-b border-slate-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-slate-900 p-2.5 rounded-xl text-white shadow-lg",children:u.jsx(gO,{size:18})}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-base font-black text-slate-900 tracking-tight italic",children:["Manifesto de ",u.jsx("span",{className:"text-blue-600",children:"Sada"})]}),u.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Aguardando Confirmao"})]})]}),f.length>0&&u.jsx("button",{onClick:()=>h([]),className:"text-[10px] font-black text-rose-500 hover:bg-rose-50 px-3 py-1.5 rounded-lg transition-all uppercase tracking-tighter",children:"Limpar Tudo"})]}),u.jsxs("div",{className:`px-4 py-3 rounded-2xl transition-all flex items-center gap-3 ${l?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-slate-50 border border-slate-100 text-slate-300"}`,children:[u.jsx(yx,{size:18,className:l?"text-white":"text-slate-300"}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("p",{className:"text-[10px] font-black uppercase truncate italic",children:l?l.nome_social:"Selecionar Cliente Ativo"})}),f.length>0&&u.jsxs("div",{className:"bg-white/20 px-2 py-0.5 rounded-md text-[9px] font-black",children:[f.length," ITENS"]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar-thin bg-slate-50/30",children:f.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[u.jsx(Mc,{size:40,className:"text-slate-300 mb-4"}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Carrinho Vazio"})]}):fe.map((C,H)=>{const W=C.length>1,K=C.reduce((Q,he)=>Q+(q[he.id_completo]||he.peso_entrada),0);return u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"bg-slate-50/50 px-4 py-2 flex justify-between items-center border-b border-slate-100",children:[u.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:["Animal #",C[0].sequencia," // Lote ",C[0].id_lote]}),!W&&u.jsx("button",{onClick:()=>ne(C[0]),className:"p-1 text-slate-300 hover:text-rose-500 transition-colors",children:u.jsx(Iu,{size:12})}),W&&u.jsx("button",{onClick:()=>{C.forEach(Q=>ne(Q))},className:"text-[8px] font-black text-rose-500 hover:bg-rose-100 px-2 py-1 rounded transition-all uppercase tracking-tighter",children:"Remover Carcaa"})]}),u.jsx("div",{className:"p-3",children:W?u.jsxs("div",{className:"flex items-center justify-between bg-blue-50/30 p-3 rounded-xl border border-blue-100/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white shadow-sm",children:u.jsx(Lc,{size:14})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-blue-900 uppercase leading-none mb-1",children:"Carcassa Inteira"}),u.jsxs("p",{className:"text-[8px] font-bold text-blue-400 uppercase tracking-widest",children:[C.length," Cortes Vinculados"]})]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"text-[9px] font-black text-blue-600 uppercase tracking-wide mb-1",children:"PESO SADA"}),u.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 border-2 border-blue-400 rounded-xl px-4 py-3",children:[u.jsx(Ep,{size:20,className:"text-blue-600"}),u.jsx(Ra,{className:"w-32 bg-transparent text-right font-black text-xl text-blue-700 outline-none",placeholder:"Peso",value:Number(K.toFixed(2))||0,onValueChange:Q=>te(C,Q)}),u.jsx("span",{className:"text-sm font-black text-blue-500",children:"KG"})]})]})]}):C.map((Q,he)=>{const _e=q[Q.id_completo]||Q.peso_entrada;return u.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-50 rounded-lg transition-colors group/item",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-[8px] font-bold text-slate-500 font-mono",children:Q.id_completo.split("-").pop()}),u.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:Q.tipo===1?"INT":Q.tipo===2?"B-A":"B-B"})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"text-[9px] font-black text-blue-500 uppercase mb-1",children:"PESO SADA"}),u.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 border-2 border-blue-300 rounded-xl px-3 py-2",children:[u.jsx(Ra,{className:"w-28 bg-transparent text-right font-black text-lg text-blue-700 outline-none",placeholder:"Peso",value:_e||0,onValueChange:ae=>ce(Q.id_completo,ae)}),u.jsx("span",{className:"text-xs font-black text-blue-400",children:"KG"})]})]})]},he)})})]},H)})}),u.jsxs("div",{className:"shrink-0 bg-slate-900 text-white p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 opacity-5 pointer-events-none",children:u.jsx(gO,{size:200,className:"rotate-12 translate-x-20 translate-y-20"})}),u.jsxs("div",{className:"relative z-10 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"R$ Preo / KG"}),u.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:u.jsx(Ra,{className:"w-full bg-transparent text-white font-black text-xl outline-none",value:G||0,onValueChange:C=>V(C),placeholder:"Preo/kg"})})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest px-1",children:"Custos Extras"}),u.jsx("div",{className:"flex items-center bg-white/10 border border-white/10 rounded-xl px-4 h-12 focus-within:bg-white/20 transition-all",children:u.jsx(Ra,{className:"w-full bg-transparent text-white font-black text-lg outline-none",value:L||0,onValueChange:C=>k(C),placeholder:"Extras"})})]})]}),u.jsxs("div",{className:"pt-4 border-t border-white/10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Subtotal Acumulado"}),u.jsx("h2",{className:"text-3xl font-black text-blue-400 tracking-tighter italic leading-none",children:Pt(J+L)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Carga ( KG)"}),u.jsx("p",{className:"text-xl font-black text-white italic tracking-tighter leading-none",children:Rr($)})]})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("button",{onClick:re,disabled:f.length===0||!l||G<=0,className:"w-full py-4 bg-blue-600 rounded-xl text-white font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-white hover:text-slate-900 transition-all disabled:opacity-20 active:scale-95 shadow-xl shadow-blue-500/20",children:[u.jsx(Lc,{size:20})," Confirmar Entrega [THIAGO 704]"]}),u.jsxs("button",{onClick:be,disabled:f.length===0||!l||G<=0,className:"w-full py-2.5 bg-white/5 border border-white/10 rounded-lg text-white font-black text-[8px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/10 transition-all disabled:opacity-10",children:[u.jsx(mx,{size:14})," Imprimir Comprovante"]})]})]})]})]})]})]}),A&&u.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-xl animate-reveal p-10 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-6xl h-[85vh] flex flex-col overflow-hidden border border-white",children:[u.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx(rW,{size:28})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:["Expedio ",u.jsx("span",{className:"text-blue-500",children:"Tetris"})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Simulador de Carregamento Industrial"})]})]}),u.jsx("button",{onClick:()=>E(!1),className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group",children:u.jsx(Iu,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),u.jsxs("div",{className:"flex-1 p-10 flex flex-col lg:flex-row gap-10 overflow-hidden",children:[u.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[40px] border border-slate-100 p-8 flex flex-col relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:u.jsx(Ec,{size:200})}),u.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.4em] mb-8",children:"Layout Interno do Veculo"}),u.jsxs("div",{className:"flex-1 grid grid-cols-6 grid-rows-8 gap-3 content-start",children:[f.map((C,H)=>u.jsxs("div",{className:`h-16 rounded-xl border flex flex-col items-center justify-center transition-all group hover:scale-[1.05] animate-reveal ${C.tipo===1?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-100 text-slate-900"}`,title:`${C.id_completo} - ${Rr(C.peso_entrada)}`,children:[u.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter",children:C.tipo===1?"INT":C.tipo===2?"B-A":"B-B"}),u.jsx("span",{className:"text-[8px] font-bold opacity-40",children:Rr(C.peso_entrada)})]},H)),Array.from({length:Math.max(0,48-f.length)}).map((C,H)=>u.jsx("div",{className:"h-16 rounded-xl border border-dashed border-slate-200 flex items-center justify-center text-slate-100",children:u.jsx(Xf,{size:16})},H))]}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-900"}),u.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Pesados / Inteiros"})]}),u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-slate-100 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),u.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:"Mdia Estabilidade"})]})]}),u.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(s0,{size:14,className:"text-blue-500"})," Distribua o peso uniformemente"]})]})]}),u.jsxs("div",{className:"w-full lg:w-96 flex flex-col gap-8 shrink-0",children:[u.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-8 text-white shadow-xl shadow-blue-100",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-100 mb-2",children:"Resumo do Manifesto"}),u.jsx("h3",{className:"text-4xl font-black italic tracking-tighter",children:Rr($)}),u.jsxs("div",{className:"mt-8 space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[u.jsx("span",{children:"Items Totais:"}),u.jsxs("span",{children:[f.length," UN"]})]}),u.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-60",children:[u.jsx("span",{children:"Volume Mdio:"}),u.jsxs("span",{children:[($/(f.length||1)).toFixed(1)," KG/UN"]})]}),u.jsx("div",{className:"h-px bg-white/10 my-4"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[11px] font-black uppercase italic",children:"Distribuio de Carga"}),u.jsx("span",{className:"text-sm font-black text-blue-200",children:"OK"})]})]})]}),u.jsxs("div",{className:"flex-1 bg-slate-50 rounded-[32px] p-8 border border-slate-100 overflow-y-auto",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Fila de Carregamento"}),u.jsx("div",{className:"space-y-3",children:f.map((C,H)=>u.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-2xl border border-slate-200/50 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-black bg-slate-900 text-white w-5 h-5 flex items-center justify-center rounded-lg",children:H+1}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:["#",C.id_completo.split("-").pop()]}),u.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:C.id_lote})]})]}),u.jsx("span",{className:"text-xs font-black text-blue-600",children:Rr(C.peso_entrada)})]},H))})]})]})]})]})})]})},jfe=({sales:t=[],batches:e=[],stock:n=[],clients:r=[],transactions:i=[],addTransaction:a,deleteTransaction:s,addPartialPayment:l,onBack:c,payables:f=[],addPayable:h,updatePayable:m,deletePayable:g,estornoSale:y,cleanAllFinancialData:N})=>{const[A,E]=xe.useState("overview"),[I,O]=xe.useState(!1),[F,U]=xe.useState(!1),[D,q]=xe.useState("PENDING"),[P,j]=xe.useState("ALL"),[$,G]=xe.useState("ALL"),[V,L]=xe.useState("ALL"),[k,J]=xe.useState({descricao:"",valor:0,valor_pago:0,categoria:"OPERACIONAL",data_vencimento:new Date().toISOString().split("T")[0],status:"PENDENTE"}),[ce,ne]=xe.useState(()=>{const pe=new Date;return pe.setDate(1),pe.toISOString().split("T")[0]}),[ie,te]=xe.useState(()=>new Date().toISOString().split("T")[0]),[fe,be]=xe.useState(""),[re,C]=xe.useState(""),[H,W]=xe.useState(""),[K,Q]=xe.useState(""),[he,_e]=xe.useState(""),[ae,Ae]=xe.useState(""),[Ce,Ne]=xe.useState(""),[Se,Te]=xe.useState(""),[se,X]=xe.useState({descricao:"",valor:0,tipo:"SAIDA",categoria:"OPERACIONAL",data:new Date().toISOString().split("T")[0]}),[De,Ke]=xe.useState(null),[Me,Ye]=xe.useState(new Date().toISOString().split("T")[0]),[Je,rt]=xe.useState("PIX"),[it,Xe]=xe.useState(""),[yt,bt]=xe.useState("0"),[At,Dt]=xe.useState(""),[Tt,qt]=xe.useState(null),[wt,Gn]=xe.useState(""),en=pe=>{const Ze=(pe.peso_real_saida||0)*(pe.preco_venda_kg||0),Yt=pe.valor_pago||0;return{valorTotal:Ze,valorPago:Yt,saldoDevedor:Math.max(0,Ze-Yt)}},Xn=pe=>{const Ze=n.find(Ct=>Ct.id_completo===pe.id_completo),Yt=(Ze==null?void 0:Ze.id_lote)||pe.id_completo.split("-").slice(0,3).join("-"),cn=Ze?e.find(Ct=>Ct.id_lote===Ze.id_lote):e.find(Ct=>Ct.id_lote===Yt),Gt=(pe.peso_real_saida||0)*(pe.preco_venda_kg||0),$t=cn&&Number(cn.custo_real_kg)||0,nn=(pe.peso_real_saida||0)*$t,Be=pe.custo_extras_total||0;return{revenue:Gt,cgs:nn,operationalCost:Be,netProfit:Gt-nn-Be}},yn=()=>{if(!De||!it)return;const pe=parseFloat(it.replace(",",".")),Ze=parseFloat(yt.replace(",","."))||0,{saldoDevedor:Yt}=en(De);if(isNaN(pe)||pe<=0||pe+Ze>Yt+.01)return alert(" Valor invlido!");l(De.id_venda,pe+Ze,Je,Me),pe>0&&a({id:`TR-REC-${De.id_venda}-${Date.now()}`,data:Me,descricao:`Recebimento: ${De.nome_cliente||"Cliente"} - ${De.id_completo}`,tipo:"ENTRADA",categoria:"VENDA",valor:pe,metodo_pagamento:Je,referencia_id:De.id_venda}),Ze>0&&At&&a({id:`TR-DESC-${De.id_venda}-${Date.now()}`,data:Me,descricao:`DESCONTO: ${At}`,tipo:"SAIDA",categoria:"DESCONTO",valor:Ze,metodo_pagamento:Je,referencia_id:De.id_venda}),Ke(null),Xe(""),bt("0"),Dt("")},xn=()=>{if(!Tt||!wt)return;const pe=parseFloat(wt.replace(",",".")),Ze=Tt.valor-(Tt.valor_pago||0);if(isNaN(pe)||pe<=0||pe>Ze+.01)return alert(" Valor invlido!");a({id:`TR-PAY-${Tt.id}-${Date.now()}`,data:Me,descricao:`Pagamento: ${Tt.descricao}`,tipo:"SAIDA",categoria:Tt.categoria,valor:pe,metodo_pagamento:Je,referencia_id:Tt.id});const Yt=(Tt.valor_pago||0)+pe;m({...Tt,valor_pago:Yt,status:Yt>=Tt.valor-.01?"PAGO":"PARCIAL",data_pagamento:new Date().toISOString().split("T")[0]}),qt(null),Gn("")},Ma=()=>{if(!se.descricao||!se.valor)return alert("Preencha todos os campos.");a({id:`TR-${Date.now()}`,descricao:se.descricao,valor:Number(se.valor),tipo:se.tipo,categoria:se.categoria,data:se.data,metodo_pagamento:"DINHEIRO",referencia_id:""}),O(!1)},gn=xe.useMemo(()=>e.filter(pe=>pe.status==="FECHADO"),[e]),ci=xe.useMemo(()=>new Set(gn.map(pe=>pe.id_lote)),[gn]),Bn=gn.length>0,kr=xe.useMemo(()=>i.filter(pe=>{var Ze,Yt,cn,Gt;return!pe.referencia_id||ci.has(pe.referencia_id)||(Ze=pe.id)!=null&&Ze.startsWith("TR-REC-")||(Yt=pe.id)!=null&&Yt.startsWith("TR-PAY-")||pe.categoria==="VENDA"||(cn=pe.id)!=null&&cn.startsWith("TR-ESTORNO-")||pe.categoria==="ESTORNO"||(Gt=pe.id)!=null&&Gt.startsWith("TR-DESC-")||pe.categoria==="DESCONTO"||!pe.referencia_id.includes("-")?!0:!Bn}),[i,ci,Bn]),qr=xe.useMemo(()=>kr.filter(pe=>pe.data>=ce&&pe.data<=ie).sort((pe,Ze)=>Ze.data.localeCompare(pe.data)),[kr,ce,ie]),En=kr.reduce((pe,Ze)=>pe+(Ze.tipo==="ENTRADA"?Ze.valor:-Ze.valor),0),Mt=xe.useMemo(()=>t.filter(Ze=>{const Yt=Ze.id_completo.split("-")[0]+"-"+Ze.id_completo.split("-")[1]+"-"+Ze.id_completo.split("-")[2];return ci.has(Yt)}).filter(Ze=>Ze.status_pagamento!=="ESTORNADO"&&en(Ze).saldoDevedor>.01).sort((Ze,Yt)=>Ze.data_vencimento.localeCompare(Yt.data_vencimento)),[t,ci]),bn=xe.useMemo(()=>Mt.reduce((pe,Ze)=>pe+en(Ze).saldoDevedor,0),[Mt]),xi=new Date().toISOString().split("T")[0];Mt.filter(pe=>pe.data_vencimento<xi);const Pr=new Date(Date.now()-30*864e5).toISOString().split("T")[0],ui=Mt.filter(pe=>pe.data_vencimento<Pr),bi=Array.from(new Set(ui.map(pe=>pe.nome_cliente||"Desconhecido"))),Ot=xe.useMemo(()=>n.filter(pe=>pe.status==="DISPONIVEL").reduce((pe,Ze)=>{const Yt=gn.find(Gt=>Gt.id_lote===Ze.id_lote),cn=Yt&&Number(Yt.custo_real_kg)||0;return pe+Ze.peso_entrada*cn},0),[n,gn]),Ci=xe.useMemo(()=>Bn?f.filter(pe=>{if(pe.status==="ESTORNADO"||pe.status==="CANCELADO")return!1;if(pe.id_lote)return ci.has(pe.id_lote);if(pe.categoria==="COMPRA_GADO"&&pe.descricao){const Ze=pe.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);return Ze?ci.has(Ze[1]):!1}return!0}).reduce((pe,Ze)=>pe+(Ze.valor-(Ze.valor_pago||0)),0):0,[f,ci,Bn]),jr=xe.useMemo(()=>t.filter(Ze=>{if(Ze.status_pagamento==="ESTORNADO")return!1;const Yt=Ze.id_completo.split("-")[0]+"-"+Ze.id_completo.split("-")[1]+"-"+Ze.id_completo.split("-")[2];return ci.has(Yt)}).reduce((Ze,Yt)=>{const cn=Xn(Yt);return{revenue:Ze.revenue+cn.revenue,cgs:Ze.cgs+cn.cgs,ops:Ze.ops+cn.operationalCost,profit:Ze.profit+cn.netProfit}},{revenue:0,cgs:0,ops:0,profit:0}),[t,n,gn,ci]),Br=xe.useMemo(()=>{const pe=new Map;return t.filter(Ze=>Ze.status_pagamento!=="ESTORNADO").forEach(Ze=>{const Yt=Xn(Ze),cn=Ze.nome_cliente||"Direto";pe.has(cn)||pe.set(cn,{revenue:0,profit:0,volume:0});const Gt=pe.get(cn);Gt.revenue+=Yt.revenue,Gt.profit+=Yt.netProfit,Gt.volume+=Ze.peso_real_saida}),Array.from(pe.entries()).map(([Ze,Yt])=>({name:Ze,...Yt})).sort((Ze,Yt)=>Yt.revenue-Ze.revenue)},[t,n,e]),cr=xe.useMemo(()=>{const pe=t.filter(Be=>Be.status_pagamento!=="ESTORNADO"),Ze=pe.reduce((Be,Ct)=>Be+Ct.peso_real_saida*Ct.preco_venda_kg,0),Yt=pe.reduce((Be,Ct)=>Be+(Ct.valor_pago||0),0),cn=Ze>0?Yt/Ze*100:100,Gt=jr.cgs,$t=Ot,nn=$t>0?Gt/$t:0;return{efficacy:cn,turnover:nn}},[t,jr,Ot]);return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:c,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl shadow-slate-200",children:u.jsx(hO,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controladoria ",u.jsx("span",{className:"text-blue-600",children:"Finanas"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Fluxo de Caixa & Resultados / ID-FIN"})]})]})]}),u.jsx("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:u.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:["overview","cashflow","receivables","payables","suppliers","profit"].map(pe=>u.jsx("button",{onClick:()=>E(pe),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${A===pe?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:pe==="overview"?"Viso Geral":pe==="cashflow"?"Fluxo Caixa":pe==="receivables"?"A Receber":pe==="payables"?"A Pagar":pe==="suppliers"?"Fornecedores":"DRE"},pe))})})]}),A==="overview"&&u.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-reveal",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Saldo em Caixa",value:Pt(En),icon:c0,color:"blue"},{label:"Contas a Receber",value:Pt(bn),icon:qp,color:"emerald"},{label:"Valor em Estoque",value:Pt(Ot),icon:GE,color:"amber"},{label:"Total a Pagar",value:Pt(Ci),icon:vx,color:"rose"}].map((pe,Ze)=>u.jsxs("div",{className:"premium-card p-8 flex flex-col gap-5 group hover:-translate-y-1 transition-all",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all group-hover:scale-110 ${pe.color==="blue"?"bg-blue-50 text-blue-600":pe.color==="emerald"?"bg-emerald-50 text-emerald-600":pe.color==="amber"?"bg-amber-50 text-amber-600":"bg-rose-50 text-rose-600"}`,children:u.jsx(pe.icon,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:pe.label}),u.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:pe.value})]})]},Ze))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"premium-card p-8 bg-emerald-50 border-emerald-100 group hover:-translate-y-1 transition-all",children:[u.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-2",children:"Total Ativos"}),u.jsxs("p",{className:"text-3xl font-black text-emerald-700 tracking-tight",children:["+",Pt(En+bn+Ot)]}),u.jsx("p",{className:"text-[9px] font-bold text-emerald-500 mt-2",children:"Caixa + A Receber + Estoque"})]}),u.jsxs("div",{className:"premium-card p-8 bg-rose-50 border-rose-100 group hover:-translate-y-1 transition-all",children:[u.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-2",children:"Total Passivos"}),u.jsxs("p",{className:"text-3xl font-black text-rose-700 tracking-tight",children:["-",Pt(Ci)]}),u.jsx("p",{className:"text-[9px] font-bold text-rose-500 mt-2",children:"Contas a Pagar"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"premium-card p-10 bg-white",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[u.jsx(gW,{size:16,className:"text-amber-500"})," Top 5 Clientes (Curva ABC)"]}),u.jsx("div",{className:"px-3 py-1 bg-amber-50 rounded-full text-[9px] font-black text-amber-600 uppercase",children:"Faturamento"})]}),u.jsx("div",{className:"space-y-6",children:Br.slice(0,5).map((pe,Ze)=>u.jsxs("div",{className:"flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs ${Ze===0?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-400 group-hover:bg-slate-100"}`,children:Ze===0?u.jsx(EH,{size:16}):Ze+1}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-[11px] font-black text-slate-800 uppercase italic",children:['"',pe.name,'"']}),u.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[Rr(pe.volume)," movimentados"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-black text-slate-900",children:Pt(pe.revenue)}),u.jsxs("p",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:["+ ",Pt(pe.profit)," lucro"]})]})]},Ze))})]}),u.jsxs("div",{className:"premium-card p-10 bg-white shadow-xl flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-3",children:[u.jsx(AW,{size:16,className:"text-blue-600"})," Industrial Analytics"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"})]})]}),u.jsx("div",{className:"flex-1 flex flex-col justify-between",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-blue-200 transition-all",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Eficcia de Recebimento"}),u.jsxs("span",{className:"text-xs font-black text-blue-600",children:[cr.efficacy.toFixed(1),"%"]})]}),u.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-600 transition-all duration-1000",style:{width:`${Math.min(100,cr.efficacy)}%`}})})]}),u.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 group hover:border-emerald-200 transition-all",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Giro de Ativo (Estoque)"}),u.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[cr.turnover.toFixed(1),"x / ciclo"]})]}),u.jsx("div",{className:"h-1.5 w-full bg-white rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000",style:{width:`${Math.min(100,cr.turnover*10)}%`}})})]})]})})]})]})]}),A==="cashflow"&&u.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[u.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[u.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white shadow-2xl shadow-blue-900/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shadow-[0_0_12px_rgba(59,130,246,0.8)]"}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em]",children:"Saldo Atualizado"})]}),u.jsx("h3",{className:`text-5xl font-black tracking-tighter mb-12 ${En>=0?"text-white":"text-rose-400"}`,children:Pt(En)}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>{O(!0),X({...se,tipo:"ENTRADA"})},className:"w-full btn-modern bg-blue-600 hover:bg-white hover:text-blue-700 text-white py-5 rounded-2xl gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-widest",children:[u.jsx(Xf,{size:20})," Lanar Entrada"]}),u.jsxs("button",{onClick:()=>{O(!0),X({...se,tipo:"SAIDA"})},className:"w-full btn-modern bg-white/5 border border-white/10 hover:bg-rose-600 text-white py-5 rounded-2xl gap-4 transition-all font-black text-xs uppercase tracking-widest",children:[u.jsx(px,{size:20})," Lanar Sada"]})]})]}),u.jsxs("div",{className:"premium-card p-10 bg-white",children:[u.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[u.jsx(dO,{size:16,className:"text-blue-600"})," Parmetros de Filtro"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Inicial"}),u.jsx("input",{type:"date",className:"modern-input h-14",value:ce,onChange:pe=>ne(pe.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Perodo Final"}),u.jsx("input",{type:"date",className:"modern-input h-14",value:ie,onChange:pe=>te(pe.target.value)})]})]})]})]}),u.jsx("div",{className:"lg:col-span-8",children:u.jsxs("div",{className:"premium-card overflow-hidden",children:[u.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap justify-between items-center gap-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Buffer de Movimentaes"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"px-4 py-1.5 bg-white rounded-full border border-slate-100 text-[10px] font-black text-slate-900 shadow-sm",children:[qr.length," Registros"]}),u.jsxs("button",{onClick:()=>{const pe=new Xt,Ze=pe.internal.pageSize.width;pe.setFillColor(15,23,42),pe.rect(15,10,Ze-30,28,"F"),pe.setFont("courier","bold"),pe.setFontSize(28),pe.setTextColor(255,255,255),pe.text("THIAGO",22,28),pe.setFontSize(32),pe.setTextColor(59,130,246),pe.text("704",68,32),pe.setFillColor(59,130,246),pe.rect(15,38,Ze-30,2,"F"),pe.setFont("helvetica","bold"),pe.setFontSize(14),pe.setTextColor(15,23,42),pe.text("FLUXO DE CAIXA",Ze/2,50,{align:"center"}),pe.setFontSize(10),pe.setTextColor(100,116,139),pe.text(`Perodo: ${ce}  a  ${ie}`,Ze/2,58,{align:"center"}),pe.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,Ze/2,65,{align:"center"}),pe.setDrawColor(200,200,200),pe.line(15,70,Ze-15,70);const Yt=qr.filter(nn=>nn.tipo==="ENTRADA").reduce((nn,Be)=>nn+Be.valor,0),cn=qr.filter(nn=>nn.tipo==="SAIDA").reduce((nn,Be)=>nn+Be.valor,0),Gt=Yt-cn;pe.setFont("helvetica","bold"),pe.setFontSize(11),pe.setTextColor(16,185,129),pe.text(`ENTRADAS:  R$ ${Yt.toFixed(2)}`,18,80),pe.setTextColor(239,68,68),pe.text(`SADAS:  R$ ${cn.toFixed(2)}`,85,80),pe.setTextColor(15,23,42),pe.text(`SALDO:  R$ ${Gt.toFixed(2)}`,148,80),pe.setDrawColor(200,200,200),pe.line(15,86,Ze-15,86);let $t=96;pe.setFillColor(235,240,245),pe.rect(15,$t-6,Ze-30,10,"F"),pe.setFontSize(9),pe.setFont("helvetica","bold"),pe.setTextColor(15,23,42),pe.text("DATA",18,$t),pe.text("DESCRIO",48,$t),pe.text("CATEGORIA",125,$t),pe.text("VALOR",Ze-18,$t,{align:"right"}),$t+=10,pe.setFontSize(10),qr.forEach(nn=>{$t>270&&(pe.addPage(),$t=25),pe.setFont("helvetica","bold"),pe.setTextColor(80,80,80),pe.text(new Date(nn.data).toLocaleDateString("pt-BR"),18,$t),pe.setTextColor(15,23,42),pe.text((nn.descricao||"").substring(0,38),48,$t),pe.setFontSize(8),pe.setTextColor(100,116,139),pe.text(nn.categoria||"",125,$t),pe.setFontSize(10),pe.setFont("helvetica","bold"),nn.tipo==="ENTRADA"?pe.setTextColor(16,185,129):pe.setTextColor(239,68,68),pe.text(`${nn.tipo==="ENTRADA"?"+":"-"} R$ ${nn.valor.toFixed(2)}`,Ze-18,$t,{align:"right"}),$t+=8}),$t+=8,pe.setFillColor(15,23,42),pe.rect(15,$t,Ze-30,12,"F"),pe.setFont("courier","bold"),pe.setFontSize(8),pe.setTextColor(255,255,255),pe.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",Ze/2,$t+8,{align:"center"}),pe.save(`FLUXO_CAIXA_${ce}_${ie}.pdf`)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-sm",children:[u.jsx(mx,{size:14})," Exportar PDF"]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-24",children:"Data"}),u.jsx("th",{children:"Histrico Operacional"}),u.jsx("th",{children:"Vnculo / Categoria"}),u.jsx("th",{className:"text-right",children:"Valor Lquido"}),u.jsx("th",{className:"w-16 text-center",children:"Aes"})]})}),u.jsxs("tbody",{children:[qr.map(pe=>{var Ze;return u.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[u.jsx("td",{className:"text-[10px] font-bold text-slate-400 group-hover:text-slate-900",children:new Date(pe.data).toLocaleDateString()}),u.jsxs("td",{className:"font-extrabold text-slate-900 uppercase text-xs truncate max-w-sm italic",children:['"',pe.descricao,'"']}),u.jsx("td",{children:u.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-lg border ${pe.categoria==="ESTORNO"?"bg-amber-50 text-amber-600 border-amber-200":"bg-slate-50 text-slate-400 border-slate-100"}`,children:pe.categoria})}),u.jsxs("td",{className:`text-right font-black text-sm ${pe.tipo==="ENTRADA"?"text-emerald-600":"text-rose-600"}`,children:[pe.tipo==="ENTRADA"?"+":"-"," ",Pt(pe.valor)]}),u.jsx("td",{className:"text-center",children:pe.categoria!=="ESTORNO"&&!((Ze=pe.id)!=null&&Ze.startsWith("TR-ESTORNO-"))&&u.jsx("button",{onClick:()=>{window.confirm(`Estornar transao?

"${pe.descricao}"
Valor: ${Pt(pe.valor)}

Uma transao inversa ser criada.`)&&s(pe.id)},className:"w-8 h-8 bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 rounded-lg transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",title:"Estornar transao",children:u.jsx(Vp,{size:14})})})]},pe.id)}),qr.length===0&&u.jsx("tr",{children:u.jsxs("td",{colSpan:5,className:"py-32 text-center",children:[u.jsx(os,{size:64,className:"mx-auto mb-6 text-slate-100"}),u.jsx("p",{className:"font-black text-[10px] uppercase text-slate-300 tracking-[0.4em]",children:"Nenhum registro no perodo"})]})})]})]})})]})})]}),A==="receivables"&&u.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[bi.length>0&&u.jsxs("div",{className:"bg-rose-600 rounded-[40px] text-white p-10 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-rose-900/20 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:u.jsx(Lc,{size:160})}),u.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center backdrop-blur-lg",children:u.jsx(s0,{size:40})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-3xl font-black tracking-tight uppercase leading-none italic mb-2",children:"Protocolo de Inadimplncia"}),u.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest max-w-sm",children:"Detectamos pendncias crticas com mais de 30 dias de atraso nas transaes."})]})]}),u.jsx("button",{onClick:()=>j("CRITICAL"),className:"btn-modern bg-white text-rose-600 px-10 py-5 rounded-2xl hover:bg-slate-900 hover:text-white transition-all shadow-xl font-black text-xs uppercase tracking-widest mt-6 md:mt-0 relative z-10",children:"Auditar Inadimplentes"})]}),u.jsxs("div",{className:"premium-card overflow-hidden bg-white shadow-xl",children:[u.jsxs("div",{className:"p-8 bg-slate-50/50 border-b border-slate-50 flex flex-wrap gap-6 items-center",children:[u.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-auto flex items-center gap-2",children:[u.jsx(Cu,{size:16,className:"text-blue-600"})," Fila de Compensao"]}),u.jsxs("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-inner",children:[u.jsx("button",{onClick:()=>j("ALL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${P==="ALL"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Todos"}),u.jsx("button",{onClick:()=>j("OVERDUE"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${P==="OVERDUE"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Vencidos"}),u.jsx("button",{onClick:()=>j("CRITICAL"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${P==="CRITICAL"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Crticos"})]})]}),u.jsxs("div",{className:"px-8 py-4 bg-white border-b border-slate-50 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Cliente"}),u.jsxs("select",{value:ae,onChange:pe=>Ae(pe.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[u.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(Mt.map(pe=>pe.nome_cliente||"Desconhecido"))).sort().map(pe=>u.jsx("option",{value:pe,children:pe},pe))]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),u.jsxs("select",{value:he,onChange:pe=>_e(pe.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[u.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(Mt.map(pe=>pe.id_completo.split("-").slice(0,3).join("-")))).sort().map(pe=>u.jsx("option",{value:pe,children:pe},pe))]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),u.jsx("input",{type:"date",value:Ce,onChange:pe=>Ne(pe.target.value),className:"modern-input h-10 py-0 text-xs"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),u.jsx("input",{type:"date",value:Se,onChange:pe=>Te(pe.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Vencimento"}),u.jsx("th",{children:"Status de Risco"}),u.jsx("th",{children:"Entidade / Destino"}),u.jsx("th",{className:"text-right",children:"Saldo Devedor"}),u.jsx("th",{className:"w-56 text-center",children:"Operaes"})]})}),u.jsxs("tbody",{children:[Mt.filter(pe=>{if(ae&&pe.nome_cliente!==ae||he&&!pe.id_completo.includes(he)||Ce&&pe.data_vencimento<Ce||Se&&pe.data_vencimento>Se)return!1;const Ze=pe.data_vencimento<xi;return P==="OVERDUE"?Ze:P==="CRITICAL"?pe.data_vencimento<Pr:!0}).sort((pe,Ze)=>Ze.data_vencimento.localeCompare(pe.data_vencimento)).map(pe=>{const{saldoDevedor:Ze}=en(pe),Yt=pe.data_vencimento<xi,cn=Math.ceil(Math.abs(new Date(xi).getTime()-new Date(pe.data_vencimento).getTime())/864e5);return u.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${Yt?"bg-rose-50/10":""}`,children:[u.jsx("td",{children:u.jsx("span",{className:`text-[11px] font-extrabold ${Yt?"text-rose-600":"text-slate-400"}`,children:new Date(pe.data_vencimento).toLocaleDateString()})}),u.jsx("td",{children:u.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest inline-flex border ${Yt?"bg-rose-50 text-rose-600 border-rose-100 shadow-sm":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:Yt?`${cn} DIAS DE ATRASO`:"DENTRO DO PRAZO"})}),u.jsxs("td",{children:[u.jsxs("p",{className:"font-extrabold text-slate-900 uppercase text-xs italic",children:['"',pe.nome_cliente||"Mercado Geral",'"']}),u.jsxs("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest",children:["Comp: ",pe.id_completo]})]}),u.jsx("td",{className:"text-right",children:u.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Pt(Ze)})}),u.jsx("td",{className:"text-center",children:u.jsxs("button",{onClick:()=>Ke(pe),className:"btn-modern bg-slate-900 text-white py-2.5 px-6 rounded-xl text-[9px] uppercase font-black tracking-widest hover:bg-emerald-600 gap-2 shadow-lg group-hover:scale-105 transition-all",children:[u.jsx(c0,{size:14})," Efetuar Baixa"]})})]},pe.id_venda)}),Mt.length===0&&u.jsx("tr",{children:u.jsxs("td",{colSpan:5,className:"py-32 text-center opacity-20",children:[u.jsx(Go,{size:80,className:"mx-auto mb-6"}),u.jsx("p",{className:"font-black text-xs uppercase tracking-[0.6em]",children:"Nenhuma pendncia ativa"})]})})]})]})})]})]}),A==="payables"&&u.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[u.jsx("div",{className:"flex p-1.5 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ALL","PENDING","LATE","PAID"].map(pe=>u.jsx("button",{onClick:()=>q(pe),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${D===pe?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:pe==="ALL"?"Tudo":pe==="PENDING"?"Em Aberto":pe==="LATE"?"Crticas":"Liquidadas"},pe))}),u.jsxs("button",{onClick:()=>U(!0),className:"btn-modern bg-blue-600 text-white hover:bg-slate-900 px-8 py-4 rounded-2xl gap-3 shadow-xl shadow-blue-900/10 font-black text-xs uppercase tracking-widest",children:[u.jsx(Xf,{size:20})," Nova Obrigao"]})]}),u.jsxs("div",{className:"premium-card overflow-hidden shadow-xl",children:[u.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-b border-slate-100 grid grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Lote"}),u.jsxs("select",{value:fe,onChange:pe=>be(pe.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[u.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(f.map(pe=>pe.id_lote).filter(Boolean))).sort().map(pe=>u.jsx("option",{value:pe,children:pe},pe))]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filtrar Fornecedor"}),u.jsxs("select",{value:re,onChange:pe=>C(pe.target.value),className:"modern-input h-10 py-0 text-xs font-bold",children:[u.jsx("option",{value:"",children:"TODOS"}),Array.from(new Set(f.map(pe=>{const Ze=pe.descricao.split(" - ");return Ze.length>1?Ze[Ze.length-1]:null}).filter(Boolean))).sort().map(pe=>u.jsx("option",{value:pe,children:pe},pe))]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Incio"}),u.jsx("input",{type:"date",value:H,onChange:pe=>W(pe.target.value),className:"modern-input h-10 py-0 text-xs"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Fim"}),u.jsx("input",{type:"date",value:K,onChange:pe=>Q(pe.target.value),className:"modern-input h-10 py-0 text-xs"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-20 text-center",children:"STS"}),u.jsx("th",{children:"Vencimento"}),u.jsx("th",{children:"Entidade / Descrio do Passivo"}),u.jsx("th",{className:"text-right",children:"Saldo Remanescente"}),u.jsx("th",{className:"w-40 text-center",children:"Buffer Ao"})]})}),u.jsx("tbody",{children:f.filter(pe=>pe.status==="ESTORNADO"||pe.status==="CANCELADO"||fe&&pe.id_lote!==fe&&!(pe.descricao&&pe.descricao.includes(fe))||re&&!(pe.descricao&&pe.descricao.includes(re))||H&&pe.data_vencimento<H||K&&pe.data_vencimento>K?!1:D==="ALL"?!0:D==="LATE"?pe.status!=="PAGO"&&pe.data_vencimento<xi:D==="PENDING"?pe.status!=="PAGO":pe.status==="PAGO").sort((pe,Ze)=>Ze.data_vencimento.localeCompare(pe.data_vencimento)).map(pe=>{const Ze=pe.status!=="PAGO"&&pe.data_vencimento<xi;return u.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${Ze?"bg-rose-50/10":""}`,children:[u.jsx("td",{className:"text-center",children:u.jsx("div",{className:`w-3.5 h-3.5 rounded-full mx-auto transition-all ${pe.status==="PAGO"?"bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.5)]":Ze?"animate-pulse bg-rose-600 shadow-[0_0_12px_rgba(225,29,72,0.5)]":"bg-slate-200 shadow-inner"}`})}),u.jsx("td",{className:"text-[11px] font-extrabold text-slate-400 group-hover:text-slate-900",children:new Date(pe.data_vencimento).toLocaleDateString()}),u.jsxs("td",{children:[u.jsxs("p",{className:"font-extrabold text-slate-800 uppercase text-xs italic transition-all group-hover:translate-x-1",children:['"',pe.descricao,'"']}),u.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded-md mt-1 inline-block border border-slate-100",children:pe.categoria})]}),u.jsx("td",{className:"text-right",children:u.jsx("span",{className:"text-lg font-black text-slate-900 tracking-tight",children:Pt(pe.valor-(pe.valor_pago||0))})}),u.jsx("td",{className:"text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[pe.status!=="PAGO"&&u.jsx("button",{onClick:()=>{qt(pe),Gn((pe.valor-(pe.valor_pago||0)).toFixed(2).replace(".",","))},className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm",children:u.jsx(Au,{size:18})}),u.jsx("button",{onClick:()=>{window.confirm(`Estornar conta a pagar?

"${pe.descricao}"
Valor: ${Pt(pe.valor)}
${pe.valor_pago&&pe.valor_pago>0?`J pago: ${Pt(pe.valor_pago)}  ser devolvido ao caixa`:"Nenhum pagamento realizado  ser cancelada"}`)&&g(pe.id)},className:"w-10 h-10 bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 rounded-xl transition-all flex items-center justify-center",title:"Estornar conta",children:u.jsx(Vp,{size:18})})]})})]},pe.id)})})]})})]})]}),A==="profit"&&u.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 animate-reveal",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Receita Bruta Acumulada",value:jr.revenue,color:"blue",icon:qp},{label:"Custo Logstico (CGS)",value:jr.cgs,color:"rose",icon:Ec},{label:"Fator Extras / Operacional",value:jr.ops,color:"orange",icon:KW},{label:"Lucro Lquido Sincronizado",value:jr.profit,color:"emerald",large:!0,icon:os}].map((pe,Ze)=>u.jsxs("div",{className:`premium-card p-10 flex flex-col justify-center gap-6 relative overflow-hidden group transition-all hover:-translate-y-2 ${pe.large?"bg-slate-900 text-white shadow-2xl shadow-blue-900/30":"bg-white"}`,children:[pe.large&&u.jsx("div",{className:"absolute top-[-10%] right-[-10%] opacity-10 pointer-events-none transform rotate-12",children:u.jsx(pe.icon,{size:160})}),u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-2 ${pe.large?"bg-blue-600 text-white":"bg-slate-50 text-slate-400 group-hover:bg-slate-900 group-hover:text-white transition-colors"}`,children:u.jsx(pe.icon,{size:22})}),u.jsxs("div",{children:[u.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${pe.large?"text-blue-400":"text-slate-400"} mb-2`,children:pe.label}),u.jsx("h3",{className:`text-4xl font-black tracking-tight ${pe.large?"text-blue-100":"text-slate-900"}`,children:Pt(pe.value)})]})]},Ze))}),u.jsxs("div",{className:"premium-card p-24 bg-white flex flex-col items-center justify-center border-dashed border-2 border-slate-100 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-slate-50/10 pointer-events-none"}),u.jsxs("div",{className:"relative z-10 text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-inner animate-pulse",children:u.jsx(Z7,{size:48,className:"text-slate-200"})}),u.jsx("h4",{className:"font-black text-xs uppercase tracking-[0.8em] text-slate-300",children:"Visualizao de Grficos Analticos"}),u.jsx("p",{className:"text-[10px] font-bold text-slate-200 uppercase tracking-widest mt-4",children:"Processando Motor de Inteligncia BI..."})]})]})]}),A==="suppliers"&&(()=>{const pe=new Map;f.filter(Be=>Be.categoria==="COMPRA_GADO"&&Be.status!=="ESTORNADO"&&Be.status!=="CANCELADO").forEach(Be=>{let Ct=Be.fornecedor_id||"";if(!Ct&&Be.descricao){const Bt=Be.descricao.split(" - ");Bt.length>1&&(Ct=Bt[Bt.length-1].trim())}Ct||(Ct="No Identificado"),pe.has(Ct)||pe.set(Ct,[]),pe.get(Ct).push({descricao:Be.descricao,lote:Be.id_lote||(Be.descricao.match(/LOTE-[A-Z0-9]+-\d+/)||[""])[0]||"-",valor:Be.valor,valorPago:Be.valor_pago||0,dataPagamento:Be.data_pagamento||"-",dataVencimento:Be.data_vencimento,status:Be.status})}),i.filter(Be=>Be.tipo==="SAIDA"&&Be.categoria==="COMPRA_GADO"&&!Be.id.startsWith("TR-PAY-")&&!Be.id.startsWith("TR-ESTORNO-")).forEach(Be=>{var Dr,Mr;let Ct="";if(Be.descricao){const jn=Be.descricao.split(" - ");jn.length>1&&(Ct=jn[jn.length-1].trim())}Ct||(Ct="No Identificado");const Bt=((Dr=Be.descricao)==null?void 0:Dr.match(/LOTE-[A-Z0-9]+-\d+/))||((Mr=Be.referencia_id)==null?void 0:Mr.match(/LOTE-[A-Z0-9]+-\d+/));pe.has(Ct)||pe.set(Ct,[]),pe.get(Ct).push({descricao:Be.descricao||"",lote:Bt?Bt[0]:Be.referencia_id||"-",valor:Be.valor,valorPago:Be.valor,dataPagamento:Be.data,dataVencimento:Be.data,status:"PAGO"})});const Ze=Array.from(pe.entries()).sort((Be,Ct)=>Be[0].localeCompare(Ct[0])),Yt=Ze.map(([Be])=>Be),cn=Array.from(new Set(Ze.flatMap(([,Be])=>Be.map(Ct=>Ct.lote)).filter(Be=>Be&&Be!=="-"))).sort(),Gt=($==="ALL"?Ze:Ze.filter(([Be])=>Be===$)).map(([Be,Ct])=>[Be,V==="ALL"?Ct:Ct.filter(Bt=>Bt.lote===V)]).filter(([,Be])=>Be.length>0),$t=Gt.reduce((Be,[,Ct])=>Be+Ct.reduce((Bt,Dr)=>Bt+Dr.valor,0),0),nn=Gt.reduce((Be,[,Ct])=>Be+Ct.reduce((Bt,Dr)=>Bt+Dr.valorPago,0),0);return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 animate-reveal",children:[u.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[u.jsx(dO,{size:12,className:"text-blue-500"}),u.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:$,onChange:Be=>G(Be.target.value),children:[u.jsx("option",{value:"ALL",children:"TODOS FORNECEDORES"}),Yt.map(Be=>u.jsx("option",{value:Be,children:Be},Be))]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-3 py-1.5 shadow-sm flex items-center gap-2",children:[u.jsx(nK,{size:12,className:"text-blue-500"}),u.jsxs("select",{className:"text-[10px] font-black text-slate-700 uppercase bg-transparent outline-none cursor-pointer pr-4",value:V,onChange:Be=>L(Be.target.value),children:[u.jsx("option",{value:"ALL",children:"TODOS LOTES"}),cn.map(Be=>u.jsx("option",{value:Be,children:Be},Be))]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[u.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Fornecedores"}),u.jsx("span",{className:"text-lg font-black text-slate-900",children:Gt.length})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[u.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:"Total"}),u.jsx("span",{className:"text-lg font-black text-slate-900",children:Pt($t)})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[u.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-wider",children:"Pago"}),u.jsx("span",{className:"text-lg font-black text-emerald-600",children:Pt(nn)})]}),$t-nn>.01&&u.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 px-4 py-2 shadow-sm flex items-center gap-3",children:[u.jsx("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-wider",children:"Pendente"}),u.jsx("span",{className:"text-lg font-black text-orange-500",children:Pt($t-nn)})]}),u.jsxs("button",{onClick:()=>{const Be=new Xt,Ct=Be.internal.pageSize.width;Be.setFillColor(15,23,42),Be.rect(15,10,Ct-30,28,"F"),Be.setFont("courier","bold"),Be.setFontSize(28),Be.setTextColor(255,255,255),Be.text("THIAGO",22,28),Be.setFontSize(32),Be.setTextColor(59,130,246),Be.text("704",68,32),Be.setFillColor(59,130,246),Be.rect(15,38,Ct-30,2,"F"),Be.setFont("helvetica","bold"),Be.setFontSize(14),Be.setTextColor(15,23,42),Be.text("PAGAMENTOS A FORNECEDORES",Ct/2,50,{align:"center"}),Be.setFontSize(10),Be.setTextColor(100,116,139),Be.text(`Gerado: ${new Date().toLocaleString("pt-BR")}`,Ct/2,58,{align:"center"}),Be.setDrawColor(200,200,200),Be.line(15,63,Ct-15,63),Be.setFont("helvetica","bold"),Be.setFontSize(11),Be.setTextColor(15,23,42),Be.text(`TOTAL:  R$ ${$t.toFixed(2)}`,18,73),Be.setTextColor(16,185,129),Be.text(`PAGO:  R$ ${nn.toFixed(2)}`,85,73),$t-nn>.01&&(Be.setTextColor(239,68,68),Be.text(`PENDENTE:  R$ ${($t-nn).toFixed(2)}`,148,73)),Be.line(15,79,Ct-15,79);let Bt=90;Gt.forEach(([Dr,Mr])=>{Bt>255&&(Be.addPage(),Bt=25);const jn=Mr.reduce((Hn,La)=>Hn+La.valor,0),Lr=Mr.reduce((Hn,La)=>Hn+La.valorPago,0);Be.setFillColor(230,235,242),Be.rect(15,Bt-5,Ct-30,10,"F"),Be.setFont("helvetica","bold"),Be.setFontSize(10),Be.setTextColor(15,23,42),Be.text(`${Dr}  (${Mr.length})`,18,Bt+1),Be.setFontSize(9),Be.text(`Total: R$ ${jn.toFixed(2)}`,115,Bt+1),Be.setTextColor(16,185,129),Be.text(`Pago: R$ ${Lr.toFixed(2)}`,158,Bt+1),Bt+=10,Be.setFontSize(8),Be.setFont("helvetica","bold"),Be.setTextColor(100,116,139),Be.text("DATA",22,Bt),Be.text("LOTE",52,Bt),Be.text("VALOR",120,Bt,{align:"right"}),Be.text("PAGO",152,Bt,{align:"right"}),Be.text("STATUS",Ct-18,Bt,{align:"right"}),Bt+=7,Be.setFont("helvetica","bold"),Be.setFontSize(9),Mr.forEach(Hn=>{Bt>270&&(Be.addPage(),Bt=25),Be.setTextColor(80,80,80),Be.text(Hn.dataPagamento!=="-"?new Date(Hn.dataPagamento).toLocaleDateString("pt-BR"):"-",22,Bt),Be.setTextColor(59,130,246),Be.text(Hn.lote,52,Bt),Be.setTextColor(15,23,42),Be.text(`R$ ${Hn.valor.toFixed(2)}`,120,Bt,{align:"right"}),Be.setTextColor(16,185,129),Be.text(Hn.valorPago>0?`R$ ${Hn.valorPago.toFixed(2)}`:"-",152,Bt,{align:"right"}),Be.setTextColor(Hn.status==="PAGO"?16:Hn.status==="PARCIAL"?234:239,Hn.status==="PAGO"?185:Hn.status==="PARCIAL"?138:68,Hn.status==="PAGO"?129:Hn.status==="PARCIAL"?42:68),Be.text(Hn.status,Ct-18,Bt,{align:"right"}),Bt+=7}),Bt+=5}),Bt+=8,Bt>280&&(Be.addPage(),Bt=25),Be.setFillColor(15,23,42),Be.rect(15,Bt,Ct-30,12,"F"),Be.setFont("courier","bold"),Be.setFontSize(8),Be.setTextColor(255,255,255),Be.text("THIAGO 704  //  FRIGOGEST PRO X  //  DOCUMENTO OFICIAL",Ct/2,Bt+8,{align:"center"}),Be.save(`FORNECEDORES_${new Date().toISOString().split("T")[0]}.pdf`)},className:"bg-blue-600 text-white rounded-xl px-4 py-2 shadow-sm flex items-center gap-2 text-[9px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all",children:[u.jsx(mx,{size:14})," Exportar PDF"]})]}),u.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Fornecedor"}),u.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Data Pgto"}),u.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Lote"}),u.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),u.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-right",children:"Pago"}),u.jsx("th",{className:"px-3 py-2 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center",children:"Status"})]})}),u.jsx("tbody",{children:Gt.map(([Be,Ct])=>{const Bt=Ct.reduce((jn,Lr)=>jn+Lr.valor,0),Dr=Ct.reduce((jn,Lr)=>jn+Lr.valorPago,0),Mr=[...Ct].sort((jn,Lr)=>Lr.dataVencimento.localeCompare(jn.dataVencimento));return u.jsxs(Le.Fragment,{children:[u.jsxs("tr",{className:"bg-slate-100/80 border-t-2 border-slate-200",children:[u.jsx("td",{className:"px-3 py-1.5 font-black text-xs text-slate-800 uppercase",colSpan:3,children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ec,{size:12,className:"text-blue-500"}),Be,u.jsxs("span",{className:"text-[8px] font-bold text-slate-400 ml-1",children:["(",Ct.length,")"]})]})}),u.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-slate-700",children:Pt(Bt)}),u.jsx("td",{className:"px-3 py-1.5 text-right font-black text-xs text-emerald-600",children:Pt(Dr)}),u.jsx("td",{className:"px-3 py-1.5 text-center",children:Bt-Dr>.01&&u.jsxs("span",{className:"text-[8px] font-black text-orange-500",children:["DEVE ",Pt(Bt-Dr)]})})]}),Mr.map((jn,Lr)=>u.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/40 transition-colors",children:[u.jsx("td",{className:"px-3 py-1.5 pl-8 text-[10px] text-slate-300",children:""}),u.jsx("td",{className:"px-3 py-1.5 text-[10px] font-semibold text-slate-500",children:jn.dataPagamento!=="-"?new Date(jn.dataPagamento).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-1.5",children:u.jsx("span",{className:"text-[9px] font-mono font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100",children:jn.lote})}),u.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-slate-700",children:Pt(jn.valor)}),u.jsx("td",{className:"px-3 py-1.5 text-right font-bold text-xs text-emerald-600",children:jn.valorPago>0?Pt(jn.valorPago):"-"}),u.jsx("td",{className:"px-3 py-1.5 text-center",children:u.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${jn.status==="PAGO"?"bg-emerald-50 text-emerald-600":jn.status==="PARCIAL"?"bg-orange-50 text-orange-600":"bg-rose-50 text-rose-600"}`,children:jn.status})})]},Lr))]},Be)})})]})})}),Gt.length===0&&u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-12 text-center",children:[u.jsx(Ec,{size:40,className:"mx-auto mb-4 text-slate-200"}),u.jsx("p",{className:"font-black text-[9px] uppercase text-slate-300 tracking-[0.3em]",children:"Nenhum pagamento a fornecedor registrado"})]})]})})(),(De||Tt||I||F)&&u.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-xl animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[48px] shadow-3xl w-full max-w-lg overflow-hidden flex flex-col border border-white relative",children:[u.jsxs("div",{className:"bg-slate-900 p-10 flex justify-between items-center text-white relative",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:u.jsx(hO,{size:120})}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight italic",children:"Terminal Financeiro"}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizador de Dados Ativo"})]}),u.jsx("button",{onClick:()=>{Ke(null),qt(null),O(!1),U(!1)},className:"w-14 h-14 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all group relative z-10",children:u.jsx(Iu,{size:24,className:"text-white group-hover:rotate-90 transition-transform"})})]}),u.jsxs("div",{className:"p-12 space-y-10 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[De&&u.jsxs("div",{className:"space-y-8 animate-reveal",children:[u.jsxs("div",{className:"p-8 bg-slate-50 rounded-[32px] border border-slate-100 shadow-inner relative",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Compensao de Cliente"}),u.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',De.nome_cliente,'"']}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[u.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase mb-2 tracking-widest",children:"Saldo Pendente em Buffer"}),u.jsx("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:Pt(en(De).saldoDevedor)})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor Recebido (R$)"}),u.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-20 text-4xl font-black text-center bg-blue-50/30 border-blue-100",value:it,onChange:pe=>Xe(pe.target.value)})]}),u.jsxs("div",{className:"p-6 bg-orange-50/50 border-2 border-orange-100 rounded-3xl space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center",children:u.jsx(px,{size:20,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Desconto por Avaria"}),u.jsx("p",{className:"text-[9px] font-bold text-orange-400 uppercase tracking-wider",children:"Carne machucada / Transporte"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Valor do Desconto (R$)"}),u.jsx("input",{type:"text",placeholder:"0,00",className:"modern-input h-16 text-2xl font-black text-center bg-white border-orange-200",value:yt,onChange:pe=>bt(pe.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest px-2",children:"Motivo do Desconto"}),u.jsx("input",{type:"text",placeholder:"Ex: CARNE MACHUCADA NO TRANSPORTE",className:"modern-input h-14 text-xs bg-white border-orange-200 uppercase",value:At,onChange:pe=>Dt(pe.target.value.toUpperCase())})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Forma de Recebimento"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{className:"modern-input h-14 bg-slate-50/30 appearance-none font-black text-xs uppercase cursor-pointer w-full",value:Je,onChange:pe=>rt(pe.target.value),children:[u.jsx("option",{value:"PIX",children:" PIX"}),u.jsx("option",{value:"DINHEIRO",children:" DINHEIRO"}),u.jsx("option",{value:"CHEQUE",children:" CHEQUE"}),u.jsx("option",{value:"TRANSFERENCIA",children:" TRANSFERNCIA"}),u.jsx("option",{value:"BOLETO",children:" BOLETO"}),u.jsx("option",{value:"CARTAO",children:" CARTO"}),u.jsx("option",{value:"OUTROS",children:" OUTROS"})]}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:u.jsx(Dc,{size:16,className:"rotate-90"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Recebimento"}),u.jsx("input",{type:"date",className:"modern-input h-14 font-bold text-xs",value:Me,onChange:pe=>Ye(pe.target.value)})]})]}),u.jsxs("div",{className:"p-6 bg-slate-900 rounded-3xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Recebido:"}),u.jsx("span",{className:"text-lg font-black text-white",children:Pt(parseFloat(it.replace(",","."))||0)})]}),u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Desconto:"}),u.jsxs("span",{className:"text-lg font-black text-orange-400",children:["- ",Pt(parseFloat(yt.replace(",","."))||0)]})]}),u.jsx("div",{className:"h-px bg-white/10 my-4"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Total Baixado:"}),u.jsx("span",{className:"text-3xl font-black text-white",children:Pt((parseFloat(it.replace(",","."))||0)+(parseFloat(yt.replace(",","."))||0))})]}),u.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[u.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Via:"}),u.jsx("span",{className:"text-sm font-black text-blue-400 uppercase",children:Je})]})]}),u.jsx("button",{onClick:yn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Recebimento"})]}),I&&u.jsxs("div",{className:"space-y-8 animate-reveal",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Histrico do Registro"}),u.jsx("input",{type:"text",placeholder:"Ex: Manuteno da Frota",className:"modern-input h-16 bg-slate-50/30",value:se.descricao,onChange:pe=>X({...se,descricao:pe.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante (R$)"}),u.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Valor",className:"modern-input h-16 font-black text-xl",value:se.valor||"",onChange:pe=>{const Ze=pe.target.value.replace(",",".");(Ze===""||/^\d*\.?\d*$/.test(Ze))&&X({...se,valor:parseFloat(Ze)||0})}})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Data Valor"}),u.jsx("input",{type:"date",className:"modern-input h-16",value:se.data,onChange:pe=>X({...se,data:pe.target.value})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Classificao Contbil"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{className:"modern-input h-16 bg-slate-50/30 appearance-none font-bold text-xs uppercase cursor-pointer",value:se.categoria,onChange:pe=>X({...se,categoria:pe.target.value}),children:[u.jsx("option",{value:"OPERACIONAL",children:"OPERACIONAL"}),u.jsx("option",{value:"ESTRUTURA",children:"SEDENTARES / SEDE"}),u.jsx("option",{value:"FUNCIONARIOS",children:"SARGENTOS / FUNCIONRIOS"}),u.jsx("option",{value:"COMPRA_GADO",children:"MATRIA PRIMA / GADO"})]}),u.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none opacity-20",children:u.jsx(Dc,{size:20,className:"rotate-90"})})]})]}),u.jsx("button",{onClick:Ma,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-blue-600 shadow-2xl shadow-blue-900/10 transition-all font-black uppercase tracking-widest text-xs",children:"Efetuar Registro"})]}),F&&u.jsxs("div",{className:"space-y-8 animate-reveal",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Identificao do Passivo"}),u.jsx("input",{type:"text",placeholder:"Ex: Tributos Estaduais",className:"modern-input h-16 bg-slate-50/30",value:k.descricao,onChange:pe=>J({...k,descricao:pe.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Valor da Dvida"}),u.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Valor",className:"modern-input h-16 font-black text-xl",value:k.valor||"",onChange:pe=>{const Ze=pe.target.value.replace(",",".");(Ze===""||/^\d*\.?\d*$/.test(Ze))&&J({...k,valor:parseFloat(Ze)||0})}})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Vencimento Fixo"}),u.jsx("input",{type:"date",className:"modern-input h-16",value:k.data_vencimento,onChange:pe=>J({...k,data_vencimento:pe.target.value})})]})]}),u.jsx("button",{onClick:()=>{h({...k,id:`PAY-${Date.now()}`,status:"PENDENTE"}),U(!1)},className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-orange-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Agendar para Ciclo"})]}),Tt&&u.jsxs("div",{className:"space-y-8 animate-reveal",children:[u.jsxs("div",{className:"p-8 bg-rose-50 border border-rose-100 rounded-[32px] shadow-inner",children:[u.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-3",children:"Baixa de Passivo / Sada"}),u.jsxs("p",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter italic",children:['"',Tt.descricao,'"']}),u.jsx("p",{className:"text-4xl font-black text-rose-600 mt-8 tracking-tight",children:Pt(Tt.valor-(Tt.valor_pago||0))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Montante da Liquidao"}),u.jsx("input",{type:"text",className:"modern-input h-20 text-4xl font-black text-center bg-rose-50/30 border-rose-100",value:wt,onChange:pe=>Gn(pe.target.value)})]}),u.jsx("button",{onClick:xn,className:"w-full btn-modern bg-slate-900 text-white py-6 rounded-2xl hover:bg-emerald-600 shadow-2xl transition-all font-black uppercase tracking-widest text-xs",children:"Confirmar Pagamento"})]})]}),u.jsx("div",{className:"p-8 bg-slate-50/50 text-center border-t border-slate-50 relative z-10",children:u.jsx("p",{className:"text-[8px] font-black text-slate-200 uppercase tracking-[0.5em]",children:"FG-FIN-TERMINAL v2.5.5"})})]})})]})},Dfe=({stock:t,batches:e,sales:n,clients:r,initialSearchTerm:i,onBack:a,onGoToSales:s,estornoSale:l})=>{const[c,f]=xe.useState(i||""),[h,m]=xe.useState(i?"client":"date"),[g,y]=xe.useState(new Set),N=U=>{const D=new Set(g);D.has(U)?D.delete(U):D.add(U),y(D)},A=xe.useMemo(()=>n.map(U=>{const D=t.find(L=>L.id_completo===U.id_completo),q=(D==null?void 0:D.id_lote)||U.id_completo.split("-").slice(0,3).join("-"),P=e.find(L=>L.id_lote===q),j=r.find(L=>L.id_ferro===U.id_cliente),$=U.peso_real_saida*U.preco_venda_kg,G=P&&Number(P.custo_real_kg)||0,V=U.peso_real_saida*G+(U.custo_extras_total||0);return{sale:U,item:D,batch:P,client:j,revenue:$,cost:V,profit:$-V}}).filter(U=>{var q,P,j,$;if(!c)return!0;const D=c.toLowerCase();return((q=U.sale.nome_cliente)==null?void 0:q.toLowerCase().includes(D))||((P=U.item)==null?void 0:P.id_completo.toLowerCase().includes(D))||((j=U.batch)==null?void 0:j.id_lote.toLowerCase().includes(D))||(($=U.batch)==null?void 0:$.fornecedor.toLowerCase().includes(D))}).sort((U,D)=>D.sale.data_venda.localeCompare(U.sale.data_venda)),[n,t,e,r,c]),E=xe.useMemo(()=>A.reduce((U,D)=>({revenue:U.revenue+D.revenue,cost:U.cost+D.cost,profit:U.profit+D.profit,count:U.count+1}),{revenue:0,cost:0,profit:0,count:0}),[A]),I=xe.useMemo(()=>{const U=new Map;return A.forEach(D=>{var P,j;let q="";if(h==="date"){const $=new Date(D.sale.data_venda);q=`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}`}else h==="client"?q=((P=D.client)==null?void 0:P.id_ferro)||"unknown":h==="batch"&&(q=((j=D.batch)==null?void 0:j.id_lote)||"unknown");U.has(q)||U.set(q,[]),U.get(q).push(D)}),Array.from(U.entries()).map(([D,q])=>{const P=q.reduce((V,L)=>V+L.revenue,0),j=q.reduce((V,L)=>V+L.cost,0),$=q.reduce((V,L)=>V+L.profit,0);let G=D;return h==="date"?G=new Date(q[0].sale.data_venda).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}).toUpperCase():h==="client"?G=q[0].client?q[0].client.nome_social:q[0].sale.nome_cliente||"CLIENTE_DESCONHECIDO":h==="batch"&&(G=q[0].batch?`LOTE_${q[0].batch.id_lote}`:"SEM_LOTE"),{id:D,label:G,items:q,totalRevenue:P,totalCost:j,totalProfit:$,mostRecentDate:q[0].sale.data_venda}}).sort((D,q)=>q.mostRecentDate.localeCompare(D.mostRecentDate))},[A,h]),O=()=>{const U=A.map(({sale:D,item:q,batch:P,revenue:j,cost:$,profit:G})=>({DATA:D.data_venda,CLIENTE:D.nome_cliente,ITEM_ID:(q==null?void 0:q.id_completo)||"N/A",LOTE:(P==null?void 0:P.id_lote)||"N/A",PESO_SAIDA:D.peso_real_saida,PRECO_KG:D.preco_venda_kg,RECEITA:j,LUCRO:G}));jK(U,`FRIGOGEST_HIST_${new Date().toISOString().split("T")[0]}.csv`)},F=U=>{var j;const D=new Xt,q=D.internal.pageSize.width;D.setFont("helvetica","bold"),D.setFontSize(18),D.text("RECIBO DE EXPEDIO",q/2,25,{align:"center"}),D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`FRIGOGEST INDUSTRIAL  ${new Date().toLocaleDateString()}`,q/2,32,{align:"center"}),D.line(20,40,q-20,40),D.setFont("helvetica","bold"),D.text("DADOS DA VENDA",20,50),D.setFont("helvetica","normal"),D.text(`CLIENTE: ${((j=U.nome_cliente)==null?void 0:j.toUpperCase())||"Venda Direta"}`,20,58),D.text(`DATA: ${U.data_venda}`,20,64),D.text(`ID VENDA: ${U.id_venda}`,20,70),D.line(20,80,q-20,80),D.text("ITEM",20,90),D.text("PESO (KG)",100,90,{align:"right"}),D.text("VALOR (R$)",140,90,{align:"right"}),D.text("SUBTOTAL (R$)",180,90,{align:"right"});const P=U.peso_real_saida*U.preco_venda_kg;D.text(U.id_completo,20,100),D.text(U.peso_real_saida.toFixed(2),100,100,{align:"right"}),D.text(U.preco_venda_kg.toFixed(2),140,100,{align:"right"}),D.text(P.toFixed(2),180,100,{align:"right"}),D.line(20,110,q-20,110),D.setFont("helvetica","bold"),D.text("TOTAL GERAL:",140,120,{align:"right"}),D.text(Pt(P),180,120,{align:"right"}),D.save(`RECIBO_${U.id_venda.substring(0,8)}.pdf`)};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),s&&u.jsxs("button",{onClick:s,className:"group flex items-center gap-3 px-8 py-3 bg-blue-600 rounded-2xl text-sm font-black text-white hover:bg-slate-900 transition-all shadow-xl shadow-blue-200 uppercase tracking-wider animate-pulse hover:animate-none",children:[u.jsx(Ep,{size:20})," FAZER NOVA VENDA"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:u.jsx(Cu,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Histrico de ",u.jsx("span",{className:"text-blue-600",children:"Vendas"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Registro de Expedio / ID-LOG"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto items-center",children:[u.jsxs("div",{className:"relative group flex-1 md:flex-none md:min-w-[300px]",children:[u.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),u.jsx("input",{type:"text",placeholder:"Pesquisar registros...",className:"modern-input pl-12 h-12 text-sm",value:c,onChange:U=>f(U.target.value)})]}),u.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm shrink-0",children:[{id:"date",label:"Data"},{id:"client",label:"Cliente"},{id:"batch",label:"Lote"}].map(U=>u.jsx("button",{onClick:()=>m(U.id),className:`px-4 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${h===U.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:U.label},U.id))}),u.jsx("button",{onClick:O,className:"w-12 h-12 rounded-2xl bg-white border border-slate-100 flex items-center justify-center text-slate-500 hover:bg-blue-600 hover:text-white transition-all shadow-sm",children:u.jsx(RH,{size:20})})]})]}),u.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Faturamento Total",val:E.revenue,icon:Au,color:"blue"},{label:"Custo de Mercadoria",val:E.cost,icon:vx,color:"slate"},{label:"Margem Lquida",val:E.profit,icon:qp,color:"emerald"}].map((U,D)=>u.jsxs("div",{className:"premium-card p-8 flex flex-col gap-4 group hover:translate-x-1 transition-all",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${U.color==="blue"?"blue":U.color==="emerald"?"emerald":"slate"}-50 text-${U.color==="blue"?"blue":U.color==="emerald"?"emerald":"slate"}-600 flex items-center justify-center`,children:u.jsx(U.icon,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:U.label}),u.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight",children:Pt(U.val)})]})]},D))}),u.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:I.map(U=>{const D=g.has(U.id);return u.jsxs("div",{className:`premium-card p-0 overflow-hidden transition-all ${D?"ring-2 ring-blue-500/10":""}`,children:[u.jsxs("div",{onClick:()=>N(U.id),className:`p-6 flex flex-col md:flex-row items-center justify-between cursor-pointer transition-all gap-8 ${D?"bg-slate-900 text-white":"bg-white hover:bg-slate-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[u.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border font-bold ${D?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40":"bg-slate-50 text-slate-400 border-slate-100"}`,children:[h==="date"&&u.jsx(vm,{size:20}),h==="client"&&u.jsx(yx,{size:20}),h==="batch"&&u.jsx(Mc,{size:20})]}),u.jsxs("div",{children:[u.jsx("h3",{className:`text-lg font-black uppercase tracking-tight ${D?"text-white":"text-slate-900"}`,children:U.label}),u.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest mt-1 text-slate-400",children:[U.items.length," Operaes registradas"]})]})]}),u.jsxs("div",{className:"flex items-center gap-10 w-full md:w-auto justify-between md:justify-end",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Receita"}),u.jsx("p",{className:"font-black text-sm",children:Pt(U.totalRevenue)})]}),u.jsxs("div",{className:"text-right border-l border-white/10 pl-10",children:[u.jsx("p",{className:"text-[9px] font-black opacity-40 uppercase tracking-widest mb-1",children:"Resultado"}),u.jsx("p",{className:`font-black text-sm ${U.totalProfit>=0?D?"text-blue-400":"text-blue-600":"text-rose-500"}`,children:Pt(U.totalProfit)})]}),u.jsx("div",{className:`transition-all duration-300 ${D?"rotate-90 text-blue-400":"text-slate-300"}`,children:u.jsx(Dc,{size:24})})]})]}),D&&u.jsx("div",{className:"p-0 animate-reveal overflow-x-auto bg-white",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Data"}),u.jsx("th",{children:"Destinatrio"}),u.jsx("th",{children:"ID Item"}),u.jsx("th",{className:"text-right",children:"Peso Sada"}),u.jsx("th",{className:"text-right",children:"Quebra (KG)"}),u.jsx("th",{className:"text-right",children:"Valor Venda"}),u.jsx("th",{className:"text-right",children:"Margem"}),u.jsx("th",{className:"text-center",children:"Aes"})]})}),u.jsx("tbody",{children:U.items.map((q,P)=>{var $,G;const j=((($=q.item)==null?void 0:$.peso_entrada)||0)-q.sale.peso_real_saida;return u.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${q.sale.status_pagamento==="ESTORNADO"?"opacity-50":""}`,children:[u.jsx("td",{className:"text-[10px] font-bold text-slate-400",children:new Date(q.sale.data_venda).toLocaleDateString()}),u.jsxs("td",{className:"font-extrabold uppercase text-xs text-slate-900 truncate max-w-[150px]",children:[q.sale.nome_cliente||"Loja Fsica",q.sale.status_pagamento==="ESTORNADO"&&u.jsx("span",{className:"ml-2 text-[8px] font-black bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full uppercase tracking-widest border border-amber-200",children:"ESTORNADO"})]}),u.jsx("td",{className:"font-mono text-[9px] text-slate-400",children:((G=q.item)==null?void 0:G.id_completo)||"N/A"}),u.jsx("td",{className:"text-right font-black text-slate-900",children:Rr(q.sale.peso_real_saida)}),u.jsx("td",{className:`text-right font-black ${j>0?"text-orange-600":"text-emerald-600"}`,children:Rr(j)}),u.jsx("td",{className:"text-right font-black text-slate-900",children:Pt(q.revenue)}),u.jsx("td",{className:`text-right font-black ${q.profit>=0?"text-blue-600":"text-rose-600"}`,children:Pt(q.profit)}),u.jsx("td",{className:"text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("button",{onClick:()=>F(q.sale),className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-400 hover:bg-slate-900 hover:text-white transition-all flex items-center justify-center",title:"Imprimir recibo",children:u.jsx(mx,{size:16})}),q.sale.status_pagamento!=="ESTORNADO"&&l&&u.jsx("button",{onClick:()=>{window.confirm(` Estornar esta venda?

Cliente: ${q.sale.nome_cliente}
Item: ${q.sale.id_completo}
Valor: ${Pt(q.revenue)}

O item voltar ao estoque e qualquer pagamento recebido ser revertido no caixa.`)&&l(q.sale.id_venda)},className:"w-8 h-8 rounded-lg bg-slate-50 text-slate-300 hover:bg-amber-50 hover:text-amber-600 transition-all flex items-center justify-center",title:"Estornar venda",children:u.jsx(Vp,{size:14})})]})})]},P)})})]})})]},U.id)})})]})},Mfe=({scheduledOrders:t,clients:e,addScheduledOrder:n,updateScheduledOrder:r,onViewClientHistory:i,onBack:a})=>{const[s,l]=xe.useState(!1),[c,f]=xe.useState(null),[h,m]=xe.useState({id_cliente:"",nome_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"}),[g,y]=xe.useState("ABERTO"),N=xe.useMemo(()=>{let O=[...t];return g!=="TODOS"&&(O=O.filter(F=>F.status===g)),O.sort((F,U)=>F.data_entrega.localeCompare(U.data_entrega))},[t,g]),A=async O=>{if(O.preventDefault(),!h.id_cliente||!h.data_entrega||!h.itens)return;const F=e.find(D=>D.id_ferro===h.id_cliente),U={id:`ORD-${Date.now()}`,id_cliente:h.id_cliente,nome_cliente:(F==null?void 0:F.nome_social)||"Desconhecido",data_entrega:h.data_entrega,hora_entrega:h.hora_entrega,itens:h.itens,status:"ABERTO",data_criacao:new Date().toISOString(),alerta_madrugada:!!h.alerta_madrugada};await n(U),l(!1),m({id_cliente:"",data_entrega:new Date().toISOString().split("T")[0],hora_entrega:"08:00",itens:"",alerta_madrugada:!0,status:"ABERTO"})},E=O=>{const F=new Date;F.setHours(0,0,0,0);const U=new Date(O+"T12:00:00");U.setHours(0,0,0,0);const D=(U.getTime()-F.getTime())/864e5;return D>=0&&D<=1},I=O=>{const F=e.find(q=>q.id_ferro===O.id_cliente);if(!F||!F.whatsapp)return;const U=new Date(O.data_entrega+"T12:00:00").toLocaleDateString("pt-BR"),D=`*CONFIRMACAO DE PEDIDO - FRIGOGEST*%0A%0AALERTA_LOGISTICA PARA *${O.nome_cliente.toUpperCase()}*%0ADATA: *${U}*%0A%0A* ITENS:*%0A${O.itens.replace(/\n/g,"%0A")}%0A%0A* PREVISAO:* ${O.hora_entrega||"--:--"}%0A%0AFG_CORE_TERMINAL_2026`;window.open(`https://wa.me/55${F.whatsapp.replace(/\D/g,"")}?text=${D}`,"_blank")};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:a,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-purple-700 hover:border-purple-100 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-purple-600 p-3 rounded-2xl text-white shadow-xl shadow-purple-100",children:u.jsx(vm,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agenda ",u.jsx("span",{className:"text-purple-600",children:"Logstica"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento de Entregas / ID-SCH"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[u.jsx("div",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:["ABERTO","CONFIRMADO","TODOS"].map(O=>u.jsx("button",{onClick:()=>y(O),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${g===O?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:O.replace("ABERTO","Pendentes").replace("CONFIRMADO","Concludos").replace("TODOS","Todos")},O))}),u.jsxs("button",{onClick:()=>l(!0),className:"btn-modern bg-blue-600 text-white hover:bg-blue-500 px-8 py-3.5 rounded-2xl gap-3 shadow-xl shadow-blue-900/40",children:[u.jsx(Xf,{size:18})," Novo Agendamento"]})]})]}),t.some(O=>O.status==="ABERTO"&&E(O.data_entrega))&&u.jsxs("div",{className:"max-w-7xl mx-auto mb-10 bg-orange-600 rounded-[32px] text-white p-8 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-orange-900/20 animate-pulse-slow",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-4 md:mb-0",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:u.jsx(Qd,{size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-2xl font-black tracking-tight uppercase",children:"Expedio Urgente"}),u.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:"Pedidos pendentes para as prximas 24 horas"})]})]}),u.jsx("div",{className:"px-6 py-2 rounded-full bg-white/10 text-[10px] font-black tracking-widest border border-white/10 uppercase",children:"Prioridade Mxima"})]}),u.jsx("div",{className:"max-w-7xl mx-auto space-y-4",children:N.length===0?u.jsxs("div",{className:"py-32 flex flex-col items-center justify-center bg-white rounded-[40px] border border-dashed border-slate-200",children:[u.jsx(Mc,{size:80,className:"mb-6 opacity-05"}),u.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-[0.4em]",children:"Nenhum agendamento encontrado"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:N.map(O=>{const F=E(O.data_entrega);return u.jsx("div",{onClick:()=>f(O),className:`premium-card p-0 overflow-hidden group cursor-pointer transition-all hover:-translate-y-1 hover:shadow-xl ${O.status==="CONFIRMADO"?"opacity-60 grayscale-[0.5]":""}`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:`w-28 h-28 flex flex-col items-center justify-center shrink-0 ${F?"bg-orange-600 text-white":"bg-slate-50 text-slate-400"} group-hover:scale-105 transition-transform`,children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:new Date(O.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short"})}),u.jsx("span",{className:"text-4xl font-black tracking-tighter",children:new Date(O.data_entrega+"T12:00:00").getDate()}),u.jsx("span",{className:"text-[9px] font-bold opacity-60 uppercase",children:new Date(O.data_entrega+"T12:00:00").toLocaleDateString("pt-BR",{month:"short"})})]}),u.jsxs("div",{className:"flex-1 p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight truncate max-w-sm",children:O.nome_cliente}),F&&u.jsx("div",{className:"w-2 h-2 bg-rose-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(225,29,72,0.5)]"})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-slate-500 text-[10px] font-black",children:[u.jsx(o0,{size:12}),O.hora_entrega||"--:--"]}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate max-w-lg",children:O.itens})]})]}),u.jsxs("div",{className:"flex items-center gap-5",children:[O.status==="ABERTO"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:U=>{U.stopPropagation(),r(O.id,{status:"CONFIRMADO"})},className:"btn-modern bg-slate-900 text-white px-6 py-2.5 rounded-2xl text-[10px] hover:bg-emerald-600 shadow-lg",children:"Validar"}),u.jsx("button",{onClick:U=>{U.stopPropagation(),I(O)},className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all",children:u.jsx(l0,{size:20})})]}):u.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-black text-[10px] uppercase tracking-widest",children:[u.jsx(Go,{size:18})," Concludo"]}),u.jsx(Dc,{size:20,className:"text-slate-200 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})},O.id)})})}),(s||c)&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-lg overflow-hidden flex flex-col border border-white",children:[u.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:s?"Agendamento de Fluxo":"Detalhes do Evento"}),u.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mt-1",children:"Sincronizao Logstica Pro"})]}),u.jsx("button",{onClick:()=>{l(!1),f(null)},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:u.jsx(Iu,{size:20})})]}),u.jsxs("form",{onSubmit:s?A:O=>{O.preventDefault(),r(c.id,c),f(null)},className:"p-10 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Entidade Cliente"}),s?u.jsxs("select",{required:!0,className:"modern-input h-14",value:h.id_cliente,onChange:O=>m({...h,id_cliente:O.target.value}),children:[u.jsx("option",{value:"",children:"Selecione um Cliente..."}),e.map(O=>u.jsxs("option",{value:O.id_ferro,children:[O.id_ferro,"  ",O.nome_social]},O.id_ferro))]}):u.jsx("div",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:c==null?void 0:c.nome_cliente})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Data Prevista"}),u.jsx("input",{required:!0,type:"date",className:"modern-input",value:s?h.data_entrega:c==null?void 0:c.data_entrega,onChange:O=>s?m({...h,data_entrega:O.target.value}):f({...c,data_entrega:O.target.value})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Janela de Horrio"}),u.jsx("input",{type:"time",className:"modern-input",value:s?h.hora_entrega:c==null?void 0:c.hora_entrega,onChange:O=>s?m({...h,hora_entrega:O.target.value}):f({...c,hora_entrega:O.target.value})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Manifesto de Carga / Observaes"}),u.jsx("textarea",{required:!0,rows:3,placeholder:"Descreva os itens do agendamento...",className:"modern-input min-h-[100px] p-4",value:s?h.itens:c==null?void 0:c.itens,onChange:O=>s?m({...h,itens:O.target.value}):f({...c,itens:O.target.value})})]}),!s&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Estado Operacional"}),u.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100",children:[u.jsx("button",{type:"button",onClick:()=>f({...c,status:"ABERTO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="ABERTO"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Pendente"}),u.jsx("button",{type:"button",onClick:()=>f({...c,status:"CONFIRMADO"}),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${(c==null?void 0:c.status)==="CONFIRMADO"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Concludo"})]})]}),u.jsxs("button",{type:"submit",className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all",children:[u.jsx(ux,{size:20})," ",s?"Efetivar Agendamento":"Confirmar Alteraes"]})]})]})})]})},Lfe=()=>{};var TM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ffe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},VV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|f>>6,y=f&63;c||(y=64,s||(g=64)),r.push(n[h],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ffe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||m==null)throw new Ufe;const g=a<<2|l>>4;if(r.push(g),f!==64){const y=l<<4&240|f>>2;if(r.push(y),m!==64){const N=f<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ufe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vfe=function(t){const e=UV(t);return VV.encodeByteArray(e,!0)},x1=function(t){return Vfe(t).replace(/\./g,"")},qV=function(t){try{return VV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe=()=>qfe().__FIREBASE_DEFAULTS__,$fe=()=>{if(typeof process>"u"||typeof TM>"u")return;const t=TM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zfe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qV(t[1]);return e&&JSON.parse(e)},Nb=()=>{try{return Lfe()||Bfe()||$fe()||zfe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BV=t=>{var e,n;return(n=(e=Nb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$V=t=>{const e=BV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zV=()=>{var t;return(t=Nb())===null||t===void 0?void 0:t.config},GV=t=>{var e;return(e=Nb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[x1(JSON.stringify(n)),x1(JSON.stringify(s)),""].join(".")}const Qg={};function Hfe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qg))Qg[e]?t.emulator.push(e):t.prod.push(e);return t}function Wfe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CM=!1;function SC(t,e){if(typeof window>"u"||typeof document>"u"||!gf(window.location.host)||Qg[t]===e||Qg[t]||CM)return;Qg[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Hfe().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{CM=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Wfe(r),y=n("text"),N=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),E=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),O=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const F=g.element;l(F),h(E,A);const U=f();c(O,I),F.append(O,N,E,U),document.body.appendChild(F)}a?(N.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kfe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ls())}function Yfe(){var t;const e=(t=Nb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xfe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jfe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qfe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zfe(){const t=ls();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ehe(){return!Yfe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function the(){try{return typeof indexedDB=="object"}catch{return!1}}function nhe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rhe="FirebaseError";class Bc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rhe,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dv.prototype.create)}}class dv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?ihe(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Bc(i,l,r)}}function ihe(t,e){return t.replace(ahe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ahe=/\{\$([^}]+)}/g;function she(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(IM(a)&&IM(s)){if(!lh(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ug(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ohe(t,e){const n=new lhe(t,e);return n.subscribe.bind(n)}class lhe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");che(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=CE),i.error===void 0&&(i.error=CE),i.complete===void 0&&(i.complete=CE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function che(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function CE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class tf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gfe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fhe(e))try{this.getOrInitializeService({instanceIdentifier:qf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qf){return this.instances.has(e)}getOptions(e=qf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dhe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qf){return this.component?this.component.multipleInstances?e:qf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dhe(t){return t===qf?void 0:t}function fhe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uhe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Un||(Un={}));const phe={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},mhe=Un.INFO,ghe={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},vhe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ghe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NC{constructor(e){this.name=e,this._logLevel=mhe,this._logHandler=vhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?phe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...e),this._logHandler(this,Un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...e),this._logHandler(this,Un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...e),this._logHandler(this,Un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...e),this._logHandler(this,Un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...e),this._logHandler(this,Un.ERROR,...e)}}const yhe=(t,e)=>e.some(n=>t instanceof n);let RM,OM;function xhe(){return RM||(RM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bhe(){return OM||(OM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WV=new WeakMap,AN=new WeakMap,KV=new WeakMap,IE=new WeakMap,TC=new WeakMap;function _he(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Hd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&WV.set(n,t)}).catch(()=>{}),TC.set(e,t),e}function whe(t){if(AN.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});AN.set(t,e)}let EN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return AN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ahe(t){EN=t(EN)}function Ehe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(RE(this),e,...n);return KV.set(r,e.sort?e.sort():[e]),Hd(r)}:bhe().includes(t)?function(...e){return t.apply(RE(this),e),Hd(WV.get(this))}:function(...e){return Hd(t.apply(RE(this),e))}}function She(t){return typeof t=="function"?Ehe(t):(t instanceof IDBTransaction&&whe(t),yhe(t,xhe())?new Proxy(t,EN):t)}function Hd(t){if(t instanceof IDBRequest)return _he(t);if(IE.has(t))return IE.get(t);const e=She(t);return e!==t&&(IE.set(t,e),TC.set(e,t)),e}const RE=t=>TC.get(t);function Nhe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Hd(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hd(s.result),c.oldVersion,c.newVersion,Hd(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const The=["get","getKey","getAll","getAllKeys","count"],Che=["put","add","delete","clear"],OE=new Map;function kM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(OE.get(e))return OE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Che.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||The.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return OE.set(e,a),a}Ahe(t=>({...t,get:(e,n,r)=>kM(e,n)||t.get(e,n,r),has:(e,n)=>!!kM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rhe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rhe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const SN="@firebase/app",PM="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new NC("@firebase/app"),Ohe="@firebase/app-compat",khe="@firebase/analytics-compat",Phe="@firebase/analytics",jhe="@firebase/app-check-compat",Dhe="@firebase/app-check",Mhe="@firebase/auth",Lhe="@firebase/auth-compat",Fhe="@firebase/database",Uhe="@firebase/data-connect",Vhe="@firebase/database-compat",qhe="@firebase/functions",Bhe="@firebase/functions-compat",$he="@firebase/installations",zhe="@firebase/installations-compat",Ghe="@firebase/messaging",Hhe="@firebase/messaging-compat",Whe="@firebase/performance",Khe="@firebase/performance-compat",Yhe="@firebase/remote-config",Xhe="@firebase/remote-config-compat",Jhe="@firebase/storage",Qhe="@firebase/storage-compat",Zhe="@firebase/firestore",epe="@firebase/ai",tpe="@firebase/firestore-compat",npe="firebase",rpe="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="[DEFAULT]",ipe={[SN]:"fire-core",[Ohe]:"fire-core-compat",[Phe]:"fire-analytics",[khe]:"fire-analytics-compat",[Dhe]:"fire-app-check",[jhe]:"fire-app-check-compat",[Mhe]:"fire-auth",[Lhe]:"fire-auth-compat",[Fhe]:"fire-rtdb",[Uhe]:"fire-data-connect",[Vhe]:"fire-rtdb-compat",[qhe]:"fire-fn",[Bhe]:"fire-fn-compat",[$he]:"fire-iid",[zhe]:"fire-iid-compat",[Ghe]:"fire-fcm",[Hhe]:"fire-fcm-compat",[Whe]:"fire-perf",[Khe]:"fire-perf-compat",[Yhe]:"fire-rc",[Xhe]:"fire-rc-compat",[Jhe]:"fire-gcs",[Qhe]:"fire-gcs-compat",[Zhe]:"fire-fst",[tpe]:"fire-fst-compat",[epe]:"fire-vertex","fire-js":"fire-js",[npe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map,ape=new Map,TN=new Map;function jM(t,e){try{t.container.addComponent(e)}catch(n){ju.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ch(t){const e=t.name;if(TN.has(e))return ju.debug(`There were multiple attempts to register component ${e}.`),!1;TN.set(e,t);for(const n of b1.values())jM(n,t);for(const n of ape.values())jM(n,t);return!0}function Tb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $o(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wd=new dv("app","Firebase",spe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=rpe;function YV(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wd.create("bad-app-name",{appName:String(i)});if(n||(n=zV()),!n)throw Wd.create("no-options");const a=b1.get(i);if(a){if(lh(n,a.options)&&lh(r,a.config))return a;throw Wd.create("duplicate-app",{appName:i})}const s=new hhe(i);for(const c of TN.values())s.addComponent(c);const l=new ope(n,r,s);return b1.set(i,l),l}function CC(t=NN){const e=b1.get(t);if(!e&&t===NN&&zV())return YV();if(!e)throw Wd.create("no-app",{appName:t});return e}function Cc(t,e,n){var r;let i=(r=ipe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ju.warn(l.join(" "));return}ch(new tf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lpe="firebase-heartbeat-database",cpe=1,W0="firebase-heartbeat-store";let kE=null;function XV(){return kE||(kE=Nhe(lpe,cpe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(W0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wd.create("idb-open",{originalErrorMessage:t.message})})),kE}async function upe(t){try{const n=(await XV()).transaction(W0),r=await n.objectStore(W0).get(JV(t));return await n.done,r}catch(e){if(e instanceof Bc)ju.warn(e.message);else{const n=Wd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ju.warn(n.message)}}}async function DM(t,e){try{const r=(await XV()).transaction(W0,"readwrite");await r.objectStore(W0).put(e,JV(t)),await r.done}catch(n){if(n instanceof Bc)ju.warn(n.message);else{const r=Wd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ju.warn(r.message)}}}function JV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dpe=1024,fpe=30;class hpe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mpe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=MM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fpe){const s=gpe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ju.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MM(),{heartbeatsToSend:r,unsentEntries:i}=ppe(this._heartbeatsCache.heartbeats),a=x1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ju.warn(n),""}}}function MM(){return new Date().toISOString().substring(0,10)}function ppe(t,e=dpe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),LM(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return the()?nhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await upe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LM(t){return x1(JSON.stringify({version:2,heartbeats:t})).length}function gpe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vpe(t){ch(new tf("platform-logger",e=>new Ihe(e),"PRIVATE")),ch(new tf("heartbeat",e=>new hpe(e),"PRIVATE")),Cc(SN,PM,t),Cc(SN,PM,"esm2017"),Cc("fire-js","")}vpe("");var ype="firebase",xpe="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc(ype,xpe,"app");function IC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bpe=QV,ZV=new dv("auth","Firebase",QV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new NC("@firebase/auth");function _pe(t,...e){_1.logLevel<=Un.WARN&&_1.warn(`Auth (${xh}): ${t}`,...e)}function Jy(t,...e){_1.logLevel<=Un.ERROR&&_1.error(`Auth (${xh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,...e){throw RC(t,...e)}function Ic(t,...e){return RC(t,...e)}function eq(t,e,n){const r=Object.assign(Object.assign({},bpe()),{[e]:n});return new dv("auth","Firebase",r).create(e,{appName:t.name})}function Kd(t){return eq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZV.create(t,...e)}function an(t,e,...n){if(!t)throw RC(e,...n)}function _u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jy(e),new Error(e)}function Du(t,e){t||_u(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wpe(){return FM()==="http:"||FM()==="https:"}function FM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ape(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wpe()||Jfe()||"connection"in navigator)?navigator.onLine:!0}function Epe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Du(n>e,"Short delay should be less than long delay!"),this.isMobile=Kfe()||Qfe()}get(){return Ape()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){Du(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tpe=new hv(3e4,6e4);function bh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vf(t,e,n,r,i={}){return nq(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=fv(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return Xfe()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&gf(t.emulatorConfig.host)&&(f.credentials="include"),tq.fetch()(await rq(t,t.config.apiHost,n,l),f)})}async function nq(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Spe),e);try{const i=new Ipe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw ky(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ky(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ky(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ky(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw eq(t,h,f);Pl(t,h)}}catch(i){if(i instanceof Bc)throw i;Pl(t,"network-request-failed",{message:String(i)})}}async function Cb(t,e,n,r,i={}){const a=await vf(t,e,n,r,i);return"mfaPendingCredential"in a&&Pl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rq(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?OC(t.config,i):`${t.config.apiScheme}://${i}`;return Npe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Cpe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ipe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ic(this.auth,"network-request-failed")),Tpe.get())})}}function ky(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ic(t,e,r);return i.customData._tokenResponse=n,i}function UM(t){return t!==void 0&&t.enterprise!==void 0}class Rpe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cpe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ope(t,e){return vf(t,"GET","/v2/recaptchaConfig",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kpe(t,e){return vf(t,"POST","/v1/accounts:delete",e)}async function w1(t,e){return vf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ppe(t,e=!1){const n=Xr(t),r=await n.getIdToken(e),i=kC(r);an(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Zg(PE(i.auth_time)),issuedAtTime:Zg(PE(i.iat)),expirationTime:Zg(PE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function PE(t){return Number(t)*1e3}function kC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jy("JWT malformed, contained fewer than 3 sections"),null;try{const i=qV(n);return i?JSON.parse(i):(Jy("Failed to decode base64 JWT payload"),null)}catch(i){return Jy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VM(t){const e=kC(t);return an(e,"internal-error"),an(typeof e.exp<"u","internal-error"),an(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bc&&jpe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jpe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zg(this.lastLoginAt),this.creationTime=Zg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await K0(t,w1(n,{idToken:r}));an(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?iq(a.providerUserInfo):[],l=Lpe(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new IN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Mpe(t){const e=Xr(t);await A1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iq(t){return t.map(e=>{var{providerId:n}=e,r=IC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fpe(t,e){const n=await nq(t,{},async()=>{const r=fv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await rq(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&gf(t.emulatorConfig.host)&&(c.credentials="include"),tq.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Upe(t,e){return vf(t,"POST","/v2/accounts:revokeToken",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){an(e.idToken,"internal-error"),an(typeof e.idToken<"u","internal-error"),an(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){an(e.length!==0,"internal-error");const n=VM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(an(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Fpe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Pp;return r&&(an(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(an(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(an(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pp,this.toJSON())}_performRefresh(){return _u("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e){an(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Il{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=IC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new IN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await K0(this,this.stsTokenManager.getToken(this.auth,e));return an(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ppe(this,e)}reload(){return Mpe(this)}_assign(e){this!==e&&(an(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){an(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await A1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($o(this.auth.app))return Promise.reject(Kd(this.auth));const e=await this.getIdToken();return await K0(this,kpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,f,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,O=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:F,emailVerified:U,isAnonymous:D,providerData:q,stsTokenManager:P}=n;an(F&&P,e,"internal-error");const j=Pp.fromJSON(this.name,P);an(typeof F=="string",e,"internal-error"),Td(m,e.name),Td(g,e.name),an(typeof U=="boolean",e,"internal-error"),an(typeof D=="boolean",e,"internal-error"),Td(y,e.name),Td(N,e.name),Td(A,e.name),Td(E,e.name),Td(I,e.name),Td(O,e.name);const $=new Il({uid:F,auth:e,email:g,emailVerified:U,displayName:m,isAnonymous:D,photoURL:N,phoneNumber:y,tenantId:A,stsTokenManager:j,createdAt:I,lastLoginAt:O});return q&&Array.isArray(q)&&($.providerData=q.map(G=>Object.assign({},G))),E&&($._redirectEventId=E),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pp;i.updateFromServerResponse(n);const a=new Il({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await A1(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];an(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?iq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Pp;l.updateFromIdToken(r);const c=new Il({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new IN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Map;function wu(t){Du(t instanceof Function,"Expected a class definition");let e=qM.get(t);return e?(Du(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aq.type="NONE";const BM=aq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e,n){return`firebase:${t}:${e}:${n}`}class jp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Qy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await w1(this.auth,{idToken:e}).catch(()=>{});return n?Il._fromGetAccountInfoResponse(this.auth,n,e):null}return Il._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jp(wu(BM),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||wu(BM);const s=Qy(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const g=await w1(e,{idToken:h}).catch(()=>{});if(!g)break;m=await Il._fromGetAccountInfoResponse(e,g,h)}else m=Il._fromJSON(e,h);f!==a&&(l=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new jp(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new jp(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dq(e))return"Blackberry";if(fq(e))return"Webos";if(oq(e))return"Safari";if((e.includes("chrome/")||lq(e))&&!e.includes("edge/"))return"Chrome";if(uq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sq(t=ls()){return/firefox\//i.test(t)}function oq(t=ls()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lq(t=ls()){return/crios\//i.test(t)}function cq(t=ls()){return/iemobile/i.test(t)}function uq(t=ls()){return/android/i.test(t)}function dq(t=ls()){return/blackberry/i.test(t)}function fq(t=ls()){return/webos/i.test(t)}function PC(t=ls()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vpe(t=ls()){var e;return PC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qpe(){return Zfe()&&document.documentMode===10}function hq(t=ls()){return PC(t)||uq(t)||fq(t)||dq(t)||/windows phone/i.test(t)||cq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t,e=[]){let n;switch(t){case"Browser":n=$M(ls());break;case"Worker":n=`${$M(ls())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $pe(t,e={}){return vf(t,"GET","/v2/passwordPolicy",bh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zpe=6;class Gpe{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zpe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zM(this),this.idTokenSubscription=new zM(this),this.beforeStateQueue=new Bpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wu(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await jp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await w1(this,{idToken:e}),r=await Il._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($o(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return an(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await A1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Epe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($o(this.app))return Promise.reject(Kd(this));const n=e?Xr(e):null;return n&&an(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&an(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $o(this.app)?Promise.reject(Kd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $o(this.app)?Promise.reject(Kd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $pe(this),n=new Gpe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Upe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wu(e)||this._popupRedirectResolver;an(n,this,"argument-error"),this.redirectPersistenceManager=await jp.create(this,[wu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(an(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return an(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_pe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cm(t){return Xr(t)}class zM{constructor(e){this.auth=e,this.observer=null,this.addObserver=ohe(n=>this.observer=n)}get next(){return an(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ib={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wpe(t){Ib=t}function mq(t){return Ib.loadJS(t)}function Kpe(){return Ib.recaptchaEnterpriseScript}function Ype(){return Ib.gapiScript}function Xpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jpe{constructor(){this.enterprise=new Qpe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qpe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Zpe="recaptcha-enterprise",gq="NO_RECAPTCHA";class eme{constructor(e){this.type=Zpe,this.auth=Cm(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{Ope(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Rpe(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,s,l){const c=window.grecaptcha;UM(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(gq)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jpe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&UM(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Kpe();c.length!==0&&(c+=l),mq(c).then(()=>{i(l,a,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function GM(t,e,n,r=!1,i=!1){const a=new eme(t);let s;if(i)s=gq;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function HM(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await GM(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tme(t,e){const n=Tb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(lh(a,e??{}))return i;Pl(i,"already-initialized")}return n.initialize({options:e})}function nme(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rme(t,e,n){const r=Cm(t);an(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=vq(e),{host:s,port:l}=ime(e),c=l===null?"":`:${l}`,f={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){an(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),an(lh(f,r.config.emulator)&&lh(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,gf(s)?(EC(`${a}//${s}${c}`),SC("Auth",!0)):ame()}function vq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ime(t){const e=vq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:WM(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:WM(s)}}}function WM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ame(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _u("not implemented")}_getIdTokenResponse(e){return _u("not implemented")}_linkToIdToken(e,n){return _u("not implemented")}_getReauthenticationResolver(e){return _u("not implemented")}}async function sme(t,e){return vf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ome(t,e){return Cb(t,"POST","/v1/accounts:signInWithPassword",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lme(t,e){return Cb(t,"POST","/v1/accounts:signInWithEmailLink",bh(t,e))}async function cme(t,e){return Cb(t,"POST","/v1/accounts:signInWithEmailLink",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends jC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Y0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Y0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HM(e,n,"signInWithPassword",ome);case"emailLink":return lme(e,{email:this._email,oobCode:this._password});default:Pl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HM(e,r,"signUpPassword",sme);case"emailLink":return cme(e,{idToken:n,email:this._email,oobCode:this._password});default:Pl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t,e){return Cb(t,"POST","/v1/accounts:signInWithIdp",bh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume="http://localhost";class uh extends jC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=IC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new uh(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Dp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dp(e,n)}buildRequest(){const e={requestUri:ume,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dme(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fme(t){const e=Fg(Ug(t)).link,n=e?Fg(Ug(e)).deep_link_id:null,r=Fg(Ug(t)).deep_link_id;return(r?Fg(Ug(r)).link:null)||r||n||e||t}class DC{constructor(e){var n,r,i,a,s,l;const c=Fg(Ug(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=dme((i=c.mode)!==null&&i!==void 0?i:null);an(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=fme(e);try{return new DC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.providerId=Im.PROVIDER_ID}static credential(e,n){return Y0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=DC.parseLink(n);return an(r,"argument-error"),Y0._fromEmailAndCode(e,r.code,r.tenantId)}}Im.PROVIDER_ID="password";Im.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Im.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends yq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends pv{constructor(){super("facebook.com")}static credential(e){return uh._fromParams({providerId:Pd.PROVIDER_ID,signInMethod:Pd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pd.credentialFromTaggedObject(e)}static credentialFromError(e){return Pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pd.credential(e.oauthAccessToken)}catch{return null}}}Pd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends pv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jd.credential(n,r)}catch{return null}}}jd.GOOGLE_SIGN_IN_METHOD="google.com";jd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends pv{constructor(){super("github.com")}static credential(e){return uh._fromParams({providerId:Dd.PROVIDER_ID,signInMethod:Dd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dd.credentialFromTaggedObject(e)}static credentialFromError(e){return Dd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dd.credential(e.oauthAccessToken)}catch{return null}}}Dd.GITHUB_SIGN_IN_METHOD="github.com";Dd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends pv{constructor(){super("twitter.com")}static credential(e,n){return uh._fromParams({providerId:Md.PROVIDER_ID,signInMethod:Md.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Md.credentialFromTaggedObject(e)}static credentialFromError(e){return Md.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Md.credential(n,r)}catch{return null}}}Md.TWITTER_SIGN_IN_METHOD="twitter.com";Md.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Il._fromIdTokenResponse(e,r,i),s=KM(r);return new um({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KM(r);return new um({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Bc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,E1.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new E1(e,n,r,i)}}function xq(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?E1._fromErrorAndOperation(t,a,e,r):a})}async function hme(t,e,n=!1){const r=await K0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return um._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pme(t,e,n=!1){const{auth:r}=t;if($o(r.app))return Promise.reject(Kd(r));const i="reauthenticate";try{const a=await K0(t,xq(r,i,e,t),n);an(a.idToken,r,"internal-error");const s=kC(a.idToken);an(s,r,"internal-error");const{sub:l}=s;return an(t.uid===l,r,"user-mismatch"),um._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e,n=!1){if($o(t.app))return Promise.reject(Kd(t));const r="signIn",i=await xq(t,r,e),a=await um._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function mme(t,e){return bq(Cm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gme(t){const e=Cm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function YM(t,e,n){return $o(t.app)?Promise.reject(Kd(t)):mme(Xr(t),Im.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gme(t),r})}function vme(t,e,n,r){return Xr(t).onIdTokenChanged(e,n,r)}function yme(t,e,n){return Xr(t).beforeAuthStateChanged(e,n)}function xme(t,e,n,r){return Xr(t).onAuthStateChanged(e,n,r)}function bme(t){return Xr(t).signOut()}const S1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(S1,"1"),this.storage.removeItem(S1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _me=1e3,wme=10;class wq extends _q{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);qpe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wme):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_me)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wq.type="LOCAL";const Ame=wq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq extends _q{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Aq.type="SESSION";const Eq=Aq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eme(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,a)),c=await Eme(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const f=MC("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(){return window}function Nme(t){Rc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(){return typeof Rc().WorkerGlobalScope<"u"&&typeof Rc().importScripts=="function"}async function Tme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ime(){return Sq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq="firebaseLocalStorageDb",Rme=1,N1="firebaseLocalStorage",Tq="fbase_key";class mv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ob(t,e){return t.transaction([N1],e?"readwrite":"readonly").objectStore(N1)}function Ome(){const t=indexedDB.deleteDatabase(Nq);return new mv(t).toPromise()}function RN(){const t=indexedDB.open(Nq,Rme);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(N1,{keyPath:Tq})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(N1)?e(r):(r.close(),await Ome(),e(await RN()))})})}async function XM(t,e,n){const r=Ob(t,!0).put({[Tq]:e,value:n});return new mv(r).toPromise()}async function kme(t,e){const n=Ob(t,!1).get(e),r=await new mv(n).toPromise();return r===void 0?null:r.value}function JM(t,e){const n=Ob(t,!0).delete(e);return new mv(n).toPromise()}const Pme=800,jme=3;class Cq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await RN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jme)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rb._getInstance(Ime()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Tme(),!this.activeServiceWorker)return;this.sender=new Sme(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await RN();return await XM(e,S1,"1"),await JM(e,S1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kme(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ob(i,!1).getAll();return new mv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cq.type="LOCAL";const Dme=Cq;new hv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mme(t,e){return e?wu(e):(an(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends jC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lme(t){return bq(t.auth,new LC(t),t.bypassAuthState)}function Fme(t){const{auth:e,user:n}=t;return an(n,e,"internal-error"),pme(n,new LC(t),t.bypassAuthState)}async function Ume(t){const{auth:e,user:n}=t;return an(n,e,"internal-error"),hme(n,new LC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lme;case"linkViaPopup":case"linkViaRedirect":return Ume;case"reauthViaPopup":case"reauthViaRedirect":return Fme;default:Pl(this.auth,"internal-error")}}resolve(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vme=new hv(2e3,1e4);class _p extends Iq{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,_p.currentPopupAction&&_p.currentPopupAction.cancel(),_p.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return an(e,this.auth,"internal-error"),e}async onExecution(){Du(this.filter.length===1,"Popup operations only handle one event");const e=MC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ic(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ic(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_p.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ic(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vme.get())};e()}}_p.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme="pendingRedirect",Zy=new Map;class Bme extends Iq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zy.get(this.auth._key());if(!e){try{const r=await $me(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zy.set(this.auth._key(),e)}return this.bypassAuthState||Zy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $me(t,e){const n=Hme(e),r=Gme(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zme(t,e){Zy.set(t._key(),e)}function Gme(t){return wu(t._redirectPersistence)}function Hme(t){return Qy(qme,t.config.apiKey,t.name)}async function Wme(t,e,n=!1){if($o(t.app))return Promise.reject(Kd(t));const r=Cm(t),i=Mme(r,e),s=await new Bme(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kme=600*1e3;class Yme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xme(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Rq(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ic(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kme&&this.cachedEventUids.clear(),this.cachedEventUids.has(QM(e))}saveEventToCache(e){this.cachedEventUids.add(QM(e)),this.lastProcessedEventTime=Date.now()}}function QM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Rq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jme(t,e={}){return vf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zme=/^https?/;async function ege(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jme(t);for(const n of e)try{if(tge(n))return}catch{}Pl(t,"unauthorized-domain")}function tge(t){const e=CN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Zme.test(n))return!1;if(Qme.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge=new hv(3e4,6e4);function ZM(){const t=Rc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rge(t){return new Promise((e,n)=>{var r,i,a;function s(){ZM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZM(),n(Ic(t,"network-request-failed"))},timeout:nge.get()})}if(!((i=(r=Rc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Rc().gapi)===null||a===void 0)&&a.load)s();else{const l=Xpe("iframefcb");return Rc()[l]=()=>{gapi.load?s():n(Ic(t,"network-request-failed"))},mq(`${Ype()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ex=null,e})}let ex=null;function ige(t){return ex=ex||rge(t),ex}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const age=new hv(5e3,15e3),sge="__/auth/iframe",oge="emulator/auth/iframe",lge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uge(t){const e=t.config;an(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OC(e,oge):`https://${t.config.authDomain}/${sge}`,r={apiKey:e.apiKey,appName:t.name,v:xh},i=cge.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${fv(r).slice(1)}`}async function dge(t){const e=await ige(t),n=Rc().gapi;return an(n,t,"internal-error"),e.open({where:document.body,url:uge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lge,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ic(t,"network-request-failed"),l=Rc().setTimeout(()=>{a(s)},age.get());function c(){Rc().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hge=500,pge=600,mge="_blank",gge="http://localhost";class eL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vge(t,e,n,r=hge,i=pge){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},fge),{width:r.toString(),height:i.toString(),top:a,left:s}),f=ls().toLowerCase();n&&(l=lq(f)?mge:n),sq(f)&&(e=e||gge,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[y,N])=>`${g}${y}=${N},`,"");if(Vpe(f)&&l!=="_self")return yge(e||"",l),new eL(null);const m=window.open(e||"",l,h);an(m,t,"popup-blocked");try{m.focus()}catch{}return new eL(m)}function yge(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xge="__/auth/handler",bge="emulator/auth/handler",_ge=encodeURIComponent("fac");async function tL(t,e,n,r,i,a){an(t.config.authDomain,t,"auth-domain-config-required"),an(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xh,eventId:i};if(e instanceof yq){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",she(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof pv){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${_ge}=${encodeURIComponent(c)}`:"";return`${wge(t)}?${fv(l).slice(1)}${f}`}function wge({config:t}){return t.emulator?OC(t,bge):`https://${t.authDomain}/${xge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="webStorageSupport";class Age{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eq,this._completeRedirectFn=Wme,this._overrideRedirectResult=zme}async _openPopup(e,n,r,i){var a;Du((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await tL(e,n,r,CN(),i);return vge(e,s,MC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await tL(e,n,r,CN(),i);return Nme(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Du(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dge(e),r=new Yme(e);return n.register("authEvent",i=>(an(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jE,{type:jE},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jE];s!==void 0&&n(!!s),Pl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ege(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hq()||oq()||PC()}}const Ege=Age;var nL="@firebase/auth",rL="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){an(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tge(t){ch(new tf("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;an(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pq(t)},f=new Hpe(r,i,a,c);return nme(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ch(new tf("auth-internal",e=>{const n=Cm(e.getProvider("auth").getImmediate());return(r=>new Sge(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cc(nL,rL,Nge(t)),Cc(nL,rL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cge=300,Ige=GV("authIdTokenMaxAge")||Cge;let iL=null;const Rge=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ige)return;const i=n==null?void 0:n.token;iL!==i&&(iL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Oge(t=CC()){const e=Tb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tme(t,{popupRedirectResolver:Ege,persistence:[Dme,Ame,Eq]}),r=GV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=Rge(a.toString());yme(n,s,()=>s(n.currentUser)),vme(n,l=>s(l))}}const i=BV("auth");return i&&rme(n,`http://${i}`),n}function kge(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wpe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ic("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",kge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tge("Browser");var aL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yd,Oq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,j){function $(){}$.prototype=j.prototype,P.D=j.prototype,P.prototype=new $,P.prototype.constructor=P,P.C=function(G,V,L){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return j.prototype[V].apply(G,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,j,$){$||($=0);var G=Array(16);if(typeof j=="string")for(var V=0;16>V;++V)G[V]=j.charCodeAt($++)|j.charCodeAt($++)<<8|j.charCodeAt($++)<<16|j.charCodeAt($++)<<24;else for(V=0;16>V;++V)G[V]=j[$++]|j[$++]<<8|j[$++]<<16|j[$++]<<24;j=P.g[0],$=P.g[1],V=P.g[2];var L=P.g[3],k=j+(L^$&(V^L))+G[0]+3614090360&4294967295;j=$+(k<<7&4294967295|k>>>25),k=L+(V^j&($^V))+G[1]+3905402710&4294967295,L=j+(k<<12&4294967295|k>>>20),k=V+($^L&(j^$))+G[2]+606105819&4294967295,V=L+(k<<17&4294967295|k>>>15),k=$+(j^V&(L^j))+G[3]+3250441966&4294967295,$=V+(k<<22&4294967295|k>>>10),k=j+(L^$&(V^L))+G[4]+4118548399&4294967295,j=$+(k<<7&4294967295|k>>>25),k=L+(V^j&($^V))+G[5]+1200080426&4294967295,L=j+(k<<12&4294967295|k>>>20),k=V+($^L&(j^$))+G[6]+2821735955&4294967295,V=L+(k<<17&4294967295|k>>>15),k=$+(j^V&(L^j))+G[7]+4249261313&4294967295,$=V+(k<<22&4294967295|k>>>10),k=j+(L^$&(V^L))+G[8]+1770035416&4294967295,j=$+(k<<7&4294967295|k>>>25),k=L+(V^j&($^V))+G[9]+2336552879&4294967295,L=j+(k<<12&4294967295|k>>>20),k=V+($^L&(j^$))+G[10]+4294925233&4294967295,V=L+(k<<17&4294967295|k>>>15),k=$+(j^V&(L^j))+G[11]+2304563134&4294967295,$=V+(k<<22&4294967295|k>>>10),k=j+(L^$&(V^L))+G[12]+1804603682&4294967295,j=$+(k<<7&4294967295|k>>>25),k=L+(V^j&($^V))+G[13]+4254626195&4294967295,L=j+(k<<12&4294967295|k>>>20),k=V+($^L&(j^$))+G[14]+2792965006&4294967295,V=L+(k<<17&4294967295|k>>>15),k=$+(j^V&(L^j))+G[15]+1236535329&4294967295,$=V+(k<<22&4294967295|k>>>10),k=j+(V^L&($^V))+G[1]+4129170786&4294967295,j=$+(k<<5&4294967295|k>>>27),k=L+($^V&(j^$))+G[6]+3225465664&4294967295,L=j+(k<<9&4294967295|k>>>23),k=V+(j^$&(L^j))+G[11]+643717713&4294967295,V=L+(k<<14&4294967295|k>>>18),k=$+(L^j&(V^L))+G[0]+3921069994&4294967295,$=V+(k<<20&4294967295|k>>>12),k=j+(V^L&($^V))+G[5]+3593408605&4294967295,j=$+(k<<5&4294967295|k>>>27),k=L+($^V&(j^$))+G[10]+38016083&4294967295,L=j+(k<<9&4294967295|k>>>23),k=V+(j^$&(L^j))+G[15]+3634488961&4294967295,V=L+(k<<14&4294967295|k>>>18),k=$+(L^j&(V^L))+G[4]+3889429448&4294967295,$=V+(k<<20&4294967295|k>>>12),k=j+(V^L&($^V))+G[9]+568446438&4294967295,j=$+(k<<5&4294967295|k>>>27),k=L+($^V&(j^$))+G[14]+3275163606&4294967295,L=j+(k<<9&4294967295|k>>>23),k=V+(j^$&(L^j))+G[3]+4107603335&4294967295,V=L+(k<<14&4294967295|k>>>18),k=$+(L^j&(V^L))+G[8]+1163531501&4294967295,$=V+(k<<20&4294967295|k>>>12),k=j+(V^L&($^V))+G[13]+2850285829&4294967295,j=$+(k<<5&4294967295|k>>>27),k=L+($^V&(j^$))+G[2]+4243563512&4294967295,L=j+(k<<9&4294967295|k>>>23),k=V+(j^$&(L^j))+G[7]+1735328473&4294967295,V=L+(k<<14&4294967295|k>>>18),k=$+(L^j&(V^L))+G[12]+2368359562&4294967295,$=V+(k<<20&4294967295|k>>>12),k=j+($^V^L)+G[5]+4294588738&4294967295,j=$+(k<<4&4294967295|k>>>28),k=L+(j^$^V)+G[8]+2272392833&4294967295,L=j+(k<<11&4294967295|k>>>21),k=V+(L^j^$)+G[11]+1839030562&4294967295,V=L+(k<<16&4294967295|k>>>16),k=$+(V^L^j)+G[14]+4259657740&4294967295,$=V+(k<<23&4294967295|k>>>9),k=j+($^V^L)+G[1]+2763975236&4294967295,j=$+(k<<4&4294967295|k>>>28),k=L+(j^$^V)+G[4]+1272893353&4294967295,L=j+(k<<11&4294967295|k>>>21),k=V+(L^j^$)+G[7]+4139469664&4294967295,V=L+(k<<16&4294967295|k>>>16),k=$+(V^L^j)+G[10]+3200236656&4294967295,$=V+(k<<23&4294967295|k>>>9),k=j+($^V^L)+G[13]+681279174&4294967295,j=$+(k<<4&4294967295|k>>>28),k=L+(j^$^V)+G[0]+3936430074&4294967295,L=j+(k<<11&4294967295|k>>>21),k=V+(L^j^$)+G[3]+3572445317&4294967295,V=L+(k<<16&4294967295|k>>>16),k=$+(V^L^j)+G[6]+76029189&4294967295,$=V+(k<<23&4294967295|k>>>9),k=j+($^V^L)+G[9]+3654602809&4294967295,j=$+(k<<4&4294967295|k>>>28),k=L+(j^$^V)+G[12]+3873151461&4294967295,L=j+(k<<11&4294967295|k>>>21),k=V+(L^j^$)+G[15]+530742520&4294967295,V=L+(k<<16&4294967295|k>>>16),k=$+(V^L^j)+G[2]+3299628645&4294967295,$=V+(k<<23&4294967295|k>>>9),k=j+(V^($|~L))+G[0]+4096336452&4294967295,j=$+(k<<6&4294967295|k>>>26),k=L+($^(j|~V))+G[7]+1126891415&4294967295,L=j+(k<<10&4294967295|k>>>22),k=V+(j^(L|~$))+G[14]+2878612391&4294967295,V=L+(k<<15&4294967295|k>>>17),k=$+(L^(V|~j))+G[5]+4237533241&4294967295,$=V+(k<<21&4294967295|k>>>11),k=j+(V^($|~L))+G[12]+1700485571&4294967295,j=$+(k<<6&4294967295|k>>>26),k=L+($^(j|~V))+G[3]+2399980690&4294967295,L=j+(k<<10&4294967295|k>>>22),k=V+(j^(L|~$))+G[10]+4293915773&4294967295,V=L+(k<<15&4294967295|k>>>17),k=$+(L^(V|~j))+G[1]+2240044497&4294967295,$=V+(k<<21&4294967295|k>>>11),k=j+(V^($|~L))+G[8]+1873313359&4294967295,j=$+(k<<6&4294967295|k>>>26),k=L+($^(j|~V))+G[15]+4264355552&4294967295,L=j+(k<<10&4294967295|k>>>22),k=V+(j^(L|~$))+G[6]+2734768916&4294967295,V=L+(k<<15&4294967295|k>>>17),k=$+(L^(V|~j))+G[13]+1309151649&4294967295,$=V+(k<<21&4294967295|k>>>11),k=j+(V^($|~L))+G[4]+4149444226&4294967295,j=$+(k<<6&4294967295|k>>>26),k=L+($^(j|~V))+G[11]+3174756917&4294967295,L=j+(k<<10&4294967295|k>>>22),k=V+(j^(L|~$))+G[2]+718787259&4294967295,V=L+(k<<15&4294967295|k>>>17),k=$+(L^(V|~j))+G[9]+3951481745&4294967295,P.g[0]=P.g[0]+j&4294967295,P.g[1]=P.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.u=function(P,j){j===void 0&&(j=P.length);for(var $=j-this.blockSize,G=this.B,V=this.h,L=0;L<j;){if(V==0)for(;L<=$;)i(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<j;)if(G[V++]=P.charCodeAt(L++),V==this.blockSize){i(this,G),V=0;break}}else for(;L<j;)if(G[V++]=P[L++],V==this.blockSize){i(this,G),V=0;break}}this.h=V,this.o+=j},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var j=1;j<P.length-8;++j)P[j]=0;var $=8*this.o;for(j=P.length-8;j<P.length;++j)P[j]=$&255,$/=256;for(this.u(P),P=Array(16),j=$=0;4>j;++j)for(var G=0;32>G;G+=8)P[$++]=this.g[j]>>>G&255;return P};function a(P,j){var $=l;return Object.prototype.hasOwnProperty.call($,P)?$[P]:$[P]=j(P)}function s(P,j){this.h=j;for(var $=[],G=!0,V=P.length-1;0<=V;V--){var L=P[V]|0;G&&L==j||($[V]=L,G=!1)}this.g=$}var l={};function c(P){return-128<=P&&128>P?a(P,function(j){return new s([j|0],0>j?-1:0)}):new s([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return E(f(-P));for(var j=[],$=1,G=0;P>=$;G++)j[G]=P/$|0,$*=4294967296;return new s(j,0)}function h(P,j){if(P.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(P.charAt(0)=="-")return E(h(P.substring(1),j));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=f(Math.pow(j,8)),G=m,V=0;V<P.length;V+=8){var L=Math.min(8,P.length-V),k=parseInt(P.substring(V,V+L),j);8>L?(L=f(Math.pow(j,L)),G=G.j(L).add(f(k))):(G=G.j($),G=G.add(f(k)))}return G}var m=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-E(this).m();for(var P=0,j=1,$=0;$<this.g.length;$++){var G=this.i($);P+=(0<=G?G:4294967296+G)*j,j*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(A(this))return"-"+E(this).toString(P);for(var j=f(Math.pow(P,6)),$=this,G="";;){var V=U($,j).g;$=I($,V.j(j));var L=((0<$.g.length?$.g[0]:$.h)>>>0).toString(P);if($=V,N($))return L+G;for(;6>L.length;)L="0"+L;G=L+G}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var j=0;j<P.g.length;j++)if(P.g[j]!=0)return!1;return!0}function A(P){return P.h==-1}t.l=function(P){return P=I(this,P),A(P)?-1:N(P)?0:1};function E(P){for(var j=P.g.length,$=[],G=0;G<j;G++)$[G]=~P.g[G];return new s($,~P.h).add(g)}t.abs=function(){return A(this)?E(this):this},t.add=function(P){for(var j=Math.max(this.g.length,P.g.length),$=[],G=0,V=0;V<=j;V++){var L=G+(this.i(V)&65535)+(P.i(V)&65535),k=(L>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);G=k>>>16,L&=65535,k&=65535,$[V]=k<<16|L}return new s($,$[$.length-1]&-2147483648?-1:0)};function I(P,j){return P.add(E(j))}t.j=function(P){if(N(this)||N(P))return m;if(A(this))return A(P)?E(this).j(E(P)):E(E(this).j(P));if(A(P))return E(this.j(E(P)));if(0>this.l(y)&&0>P.l(y))return f(this.m()*P.m());for(var j=this.g.length+P.g.length,$=[],G=0;G<2*j;G++)$[G]=0;for(G=0;G<this.g.length;G++)for(var V=0;V<P.g.length;V++){var L=this.i(G)>>>16,k=this.i(G)&65535,J=P.i(V)>>>16,ce=P.i(V)&65535;$[2*G+2*V]+=k*ce,O($,2*G+2*V),$[2*G+2*V+1]+=L*ce,O($,2*G+2*V+1),$[2*G+2*V+1]+=k*J,O($,2*G+2*V+1),$[2*G+2*V+2]+=L*J,O($,2*G+2*V+2)}for(G=0;G<j;G++)$[G]=$[2*G+1]<<16|$[2*G];for(G=j;G<2*j;G++)$[G]=0;return new s($,0)};function O(P,j){for(;(P[j]&65535)!=P[j];)P[j+1]+=P[j]>>>16,P[j]&=65535,j++}function F(P,j){this.g=P,this.h=j}function U(P,j){if(N(j))throw Error("division by zero");if(N(P))return new F(m,m);if(A(P))return j=U(E(P),j),new F(E(j.g),E(j.h));if(A(j))return j=U(P,E(j)),new F(E(j.g),j.h);if(30<P.g.length){if(A(P)||A(j))throw Error("slowDivide_ only works with positive integers.");for(var $=g,G=j;0>=G.l(P);)$=D($),G=D(G);var V=q($,1),L=q(G,1);for(G=q(G,2),$=q($,2);!N(G);){var k=L.add(G);0>=k.l(P)&&(V=V.add($),L=k),G=q(G,1),$=q($,1)}return j=I(P,V.j(j)),new F(V,j)}for(V=m;0<=P.l(j);){for($=Math.max(1,Math.floor(P.m()/j.m())),G=Math.ceil(Math.log($)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),L=f($),k=L.j(j);A(k)||0<k.l(P);)$-=G,L=f($),k=L.j(j);N(L)&&(L=g),V=V.add(L),P=I(P,k)}return new F(V,P)}t.A=function(P){return U(this,P).h},t.and=function(P){for(var j=Math.max(this.g.length,P.g.length),$=[],G=0;G<j;G++)$[G]=this.i(G)&P.i(G);return new s($,this.h&P.h)},t.or=function(P){for(var j=Math.max(this.g.length,P.g.length),$=[],G=0;G<j;G++)$[G]=this.i(G)|P.i(G);return new s($,this.h|P.h)},t.xor=function(P){for(var j=Math.max(this.g.length,P.g.length),$=[],G=0;G<j;G++)$[G]=this.i(G)^P.i(G);return new s($,this.h^P.h)};function D(P){for(var j=P.g.length+1,$=[],G=0;G<j;G++)$[G]=P.i(G)<<1|P.i(G-1)>>>31;return new s($,P.h)}function q(P,j){var $=j>>5;j%=32;for(var G=P.g.length-$,V=[],L=0;L<G;L++)V[L]=0<j?P.i(L+$)>>>j|P.i(L+$+1)<<32-j:P.i(L+$);return new s(V,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Oq=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Yd=s}).apply(typeof aL<"u"?aL:typeof self<"u"?self:typeof window<"u"?window:{});var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kq,Vg,Pq,tx,ON,jq,Dq,Mq;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,z,Z){return _==Array.prototype||_==Object.prototype||(_[z]=Z.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Py=="object"&&Py];for(var z=0;z<_.length;++z){var Z=_[z];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var r=n(this);function i(_,z){if(z)e:{var Z=r;_=_.split(".");for(var ge=0;ge<_.length-1;ge++){var Fe=_[ge];if(!(Fe in Z))break e;Z=Z[Fe]}_=_[_.length-1],ge=Z[_],z=z(ge),z!=ge&&z!=null&&e(Z,_,{configurable:!0,writable:!0,value:z})}}function a(_,z){_ instanceof String&&(_+="");var Z=0,ge=!1,Fe={next:function(){if(!ge&&Z<_.length){var Ge=Z++;return{value:z(Ge,_[Ge]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return Fe[Symbol.iterator]=function(){return Fe},Fe}i("Array.prototype.values",function(_){return _||function(){return a(this,function(z,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(_){var z=typeof _;return z=z!="object"?z:_?Array.isArray(_)?"array":z:"null",z=="array"||z=="object"&&typeof _.length=="number"}function f(_){var z=typeof _;return z=="object"&&_!=null||z=="function"}function h(_,z,Z){return _.call.apply(_.bind,arguments)}function m(_,z,Z){if(!_)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Fe,ge),_.apply(z,Fe)}}return function(){return _.apply(z,arguments)}}function g(_,z,Z){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function y(_,z){var Z=Array.prototype.slice.call(arguments,1);return function(){var ge=Z.slice();return ge.push.apply(ge,arguments),_.apply(this,ge)}}function N(_,z){function Z(){}Z.prototype=z.prototype,_.aa=z.prototype,_.prototype=new Z,_.prototype.constructor=_,_.Qb=function(ge,Fe,Ge){for(var gt=Array(arguments.length-2),on=2;on<arguments.length;on++)gt[on-2]=arguments[on];return z.prototype[Fe].apply(ge,gt)}}function A(_){const z=_.length;if(0<z){const Z=Array(z);for(let ge=0;ge<z;ge++)Z[ge]=_[ge];return Z}return[]}function E(_,z){for(let Z=1;Z<arguments.length;Z++){const ge=arguments[Z];if(c(ge)){const Fe=_.length||0,Ge=ge.length||0;_.length=Fe+Ge;for(let gt=0;gt<Ge;gt++)_[Fe+gt]=ge[gt]}else _.push(ge)}}class I{constructor(z,Z){this.i=z,this.j=Z,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function O(_){return/^[\s\xa0]*$/.test(_)}function F(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function U(_){return U[" "](_),_}U[" "]=function(){};var D=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function q(_,z,Z){for(const ge in _)z.call(Z,_[ge],ge,_)}function P(_,z){for(const Z in _)z.call(void 0,_[Z],Z,_)}function j(_){const z={};for(const Z in _)z[Z]=_[Z];return z}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(_,z){let Z,ge;for(let Fe=1;Fe<arguments.length;Fe++){ge=arguments[Fe];for(Z in ge)_[Z]=ge[Z];for(let Ge=0;Ge<$.length;Ge++)Z=$[Ge],Object.prototype.hasOwnProperty.call(ge,Z)&&(_[Z]=ge[Z])}}function V(_){var z=1;_=_.split(":");const Z=[];for(;0<z&&_.length;)Z.push(_.shift()),z--;return _.length&&Z.push(_.join(":")),Z}function L(_){l.setTimeout(()=>{throw _},0)}function k(){var _=fe;let z=null;return _.g&&(z=_.g,_.g=_.g.next,_.g||(_.h=null),z.next=null),z}class J{constructor(){this.h=this.g=null}add(z,Z){const ge=ce.get();ge.set(z,Z),this.h?this.h.next=ge:this.g=ge,this.h=ge}}var ce=new I(()=>new ne,_=>_.reset());class ne{constructor(){this.next=this.g=this.h=null}set(z,Z){this.h=z,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,fe=new J,be=()=>{const _=l.Promise.resolve(void 0);ie=()=>{_.then(re)}};var re=()=>{for(var _;_=k();){try{_.h.call(_.g)}catch(Z){L(Z)}var z=ce;z.j(_),100>z.h&&(z.h++,_.next=z.g,z.g=_)}te=!1};function C(){this.s=this.s,this.C=this.C}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(_,z){this.type=_,this.g=this.target=z,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,z=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Z=()=>{};l.addEventListener("test",Z,z),l.removeEventListener("test",Z,z)}catch{}return _})();function K(_,z){if(H.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Z=this.type=_.type,ge=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=z,z=_.relatedTarget){if(D){e:{try{U(z.nodeName);var Fe=!0;break e}catch{}Fe=!1}Fe||(z=null)}}else Z=="mouseover"?z=_.fromElement:Z=="mouseout"&&(z=_.toElement);this.relatedTarget=z,ge?(this.clientX=ge.clientX!==void 0?ge.clientX:ge.pageX,this.clientY=ge.clientY!==void 0?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Q[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&K.aa.h.call(this)}}N(K,H);var Q={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),_e=0;function ae(_,z,Z,ge,Fe){this.listener=_,this.proxy=null,this.src=z,this.type=Z,this.capture=!!ge,this.ha=Fe,this.key=++_e,this.da=this.fa=!1}function Ae(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Ce(_){this.src=_,this.g={},this.h=0}Ce.prototype.add=function(_,z,Z,ge,Fe){var Ge=_.toString();_=this.g[Ge],_||(_=this.g[Ge]=[],this.h++);var gt=Se(_,z,ge,Fe);return-1<gt?(z=_[gt],Z||(z.fa=!1)):(z=new ae(z,this.src,Ge,!!ge,Fe),z.fa=Z,_.push(z)),z};function Ne(_,z){var Z=z.type;if(Z in _.g){var ge=_.g[Z],Fe=Array.prototype.indexOf.call(ge,z,void 0),Ge;(Ge=0<=Fe)&&Array.prototype.splice.call(ge,Fe,1),Ge&&(Ae(z),_.g[Z].length==0&&(delete _.g[Z],_.h--))}}function Se(_,z,Z,ge){for(var Fe=0;Fe<_.length;++Fe){var Ge=_[Fe];if(!Ge.da&&Ge.listener==z&&Ge.capture==!!Z&&Ge.ha==ge)return Fe}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),se={};function X(_,z,Z,ge,Fe){if(Array.isArray(z)){for(var Ge=0;Ge<z.length;Ge++)X(_,z[Ge],Z,ge,Fe);return null}return Z=yt(Z),_&&_[he]?_.K(z,Z,f(ge)?!!ge.capture:!1,Fe):De(_,z,Z,!1,ge,Fe)}function De(_,z,Z,ge,Fe,Ge){if(!z)throw Error("Invalid event type");var gt=f(Fe)?!!Fe.capture:!!Fe,on=it(_);if(on||(_[Te]=on=new Ce(_)),Z=on.add(z,Z,ge,gt,Ge),Z.proxy)return Z;if(ge=Ke(),Z.proxy=ge,ge.src=_,ge.listener=Z,_.addEventListener)W||(Fe=gt),Fe===void 0&&(Fe=!1),_.addEventListener(z.toString(),ge,Fe);else if(_.attachEvent)_.attachEvent(Je(z.toString()),ge);else if(_.addListener&&_.removeListener)_.addListener(ge);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function Ke(){function _(Z){return z.call(_.src,_.listener,Z)}const z=rt;return _}function Me(_,z,Z,ge,Fe){if(Array.isArray(z))for(var Ge=0;Ge<z.length;Ge++)Me(_,z[Ge],Z,ge,Fe);else ge=f(ge)?!!ge.capture:!!ge,Z=yt(Z),_&&_[he]?(_=_.i,z=String(z).toString(),z in _.g&&(Ge=_.g[z],Z=Se(Ge,Z,ge,Fe),-1<Z&&(Ae(Ge[Z]),Array.prototype.splice.call(Ge,Z,1),Ge.length==0&&(delete _.g[z],_.h--)))):_&&(_=it(_))&&(z=_.g[z.toString()],_=-1,z&&(_=Se(z,Z,ge,Fe)),(Z=-1<_?z[_]:null)&&Ye(Z))}function Ye(_){if(typeof _!="number"&&_&&!_.da){var z=_.src;if(z&&z[he])Ne(z.i,_);else{var Z=_.type,ge=_.proxy;z.removeEventListener?z.removeEventListener(Z,ge,_.capture):z.detachEvent?z.detachEvent(Je(Z),ge):z.addListener&&z.removeListener&&z.removeListener(ge),(Z=it(z))?(Ne(Z,_),Z.h==0&&(Z.src=null,z[Te]=null)):Ae(_)}}}function Je(_){return _ in se?se[_]:se[_]="on"+_}function rt(_,z){if(_.da)_=!0;else{z=new K(z,this);var Z=_.listener,ge=_.ha||_.src;_.fa&&Ye(_),_=Z.call(ge,z)}return _}function it(_){return _=_[Te],_ instanceof Ce?_:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(_){return typeof _=="function"?_:(_[Xe]||(_[Xe]=function(z){return _.handleEvent(z)}),_[Xe])}function bt(){C.call(this),this.i=new Ce(this),this.M=this,this.F=null}N(bt,C),bt.prototype[he]=!0,bt.prototype.removeEventListener=function(_,z,Z,ge){Me(this,_,z,Z,ge)};function At(_,z){var Z,ge=_.F;if(ge)for(Z=[];ge;ge=ge.F)Z.push(ge);if(_=_.M,ge=z.type||z,typeof z=="string")z=new H(z,_);else if(z instanceof H)z.target=z.target||_;else{var Fe=z;z=new H(ge,_),G(z,Fe)}if(Fe=!0,Z)for(var Ge=Z.length-1;0<=Ge;Ge--){var gt=z.g=Z[Ge];Fe=Dt(gt,ge,!0,z)&&Fe}if(gt=z.g=_,Fe=Dt(gt,ge,!0,z)&&Fe,Fe=Dt(gt,ge,!1,z)&&Fe,Z)for(Ge=0;Ge<Z.length;Ge++)gt=z.g=Z[Ge],Fe=Dt(gt,ge,!1,z)&&Fe}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var _=this.i,z;for(z in _.g){for(var Z=_.g[z],ge=0;ge<Z.length;ge++)Ae(Z[ge]);delete _.g[z],_.h--}}this.F=null},bt.prototype.K=function(_,z,Z,ge){return this.i.add(String(_),z,!1,Z,ge)},bt.prototype.L=function(_,z,Z,ge){return this.i.add(String(_),z,!0,Z,ge)};function Dt(_,z,Z,ge){if(z=_.i.g[String(z)],!z)return!0;z=z.concat();for(var Fe=!0,Ge=0;Ge<z.length;++Ge){var gt=z[Ge];if(gt&&!gt.da&&gt.capture==Z){var on=gt.listener,Sn=gt.ha||gt.src;gt.fa&&Ne(_.i,gt),Fe=on.call(Sn,ge)!==!1&&Fe}}return Fe&&!ge.defaultPrevented}function Tt(_,z,Z){if(typeof _=="function")Z&&(_=g(_,Z));else if(_&&typeof _.handleEvent=="function")_=g(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:l.setTimeout(_,z||0)}function qt(_){_.g=Tt(()=>{_.g=null,_.i&&(_.i=!1,qt(_))},_.l);const z=_.h;_.h=null,_.m.apply(null,z)}class wt extends C{constructor(z,Z){super(),this.m=z,this.l=Z,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(_){C.call(this),this.h=_,this.g={}}N(Gn,C);var en=[];function Xn(_){q(_.g,function(z,Z){this.g.hasOwnProperty(Z)&&Ye(z)},_),_.g={}}Gn.prototype.N=function(){Gn.aa.N.call(this),Xn(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=l.JSON.stringify,xn=l.JSON.parse,Ma=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function gn(){}gn.prototype.h=null;function ci(_){return _.h||(_.h=_.i())}function Bn(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qr(){H.call(this,"d")}N(qr,H);function En(){H.call(this,"c")}N(En,H);var Mt={},bn=null;function xi(){return bn=bn||new bt}Mt.La="serverreachability";function Pr(_){H.call(this,Mt.La,_)}N(Pr,H);function ui(_){const z=xi();At(z,new Pr(z))}Mt.STAT_EVENT="statevent";function bi(_,z){H.call(this,Mt.STAT_EVENT,_),this.stat=z}N(bi,H);function Ot(_){const z=xi();At(z,new bi(z,_))}Mt.Ma="timingevent";function Ci(_,z){H.call(this,Mt.Ma,_),this.size=z}N(Ci,H);function jr(_,z){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},z)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function cr(_,z,Z,ge,Fe,Ge){_.info(function(){if(_.g)if(Ge)for(var gt="",on=Ge.split("&"),Sn=0;Sn<on.length;Sn++){var Jt=on[Sn].split("=");if(1<Jt.length){var Zn=Jt[0];Jt=Jt[1];var pr=Zn.split("_");gt=2<=pr.length&&pr[1]=="type"?gt+(Zn+"="+Jt+"&"):gt+(Zn+"=redacted&")}}else gt=null;else gt=Ge;return"XMLHTTP REQ ("+ge+") [attempt "+Fe+"]: "+z+`
`+Z+`
`+gt})}function pe(_,z,Z,ge,Fe,Ge,gt){_.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Fe+"]: "+z+`
`+Z+`
`+Ge+" "+gt})}function Ze(_,z,Z,ge){_.info(function(){return"XMLHTTP TEXT ("+z+"): "+cn(_,Z)+(ge?" "+ge:"")})}function Yt(_,z){_.info(function(){return"TIMEOUT: "+z})}Br.prototype.info=function(){};function cn(_,z){if(!_.g)return z;if(!z)return null;try{var Z=JSON.parse(z);if(Z){for(_=0;_<Z.length;_++)if(Array.isArray(Z[_])){var ge=Z[_];if(!(2>ge.length)){var Fe=ge[1];if(Array.isArray(Fe)&&!(1>Fe.length)){var Ge=Fe[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(var gt=1;gt<Fe.length;gt++)Fe[gt]=""}}}}return yn(Z)}catch{return z}}var Gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nn;function Be(){}N(Be,gn),Be.prototype.g=function(){return new XMLHttpRequest},Be.prototype.i=function(){return{}},nn=new Be;function Ct(_,z,Z,ge){this.j=_,this.i=z,this.l=Z,this.R=ge||1,this.U=new Gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var Dr={},Mr={};function jn(_,z,Z){_.L=1,_.v=wo(xr(z)),_.m=Z,_.P=!0,Lr(_,null)}function Lr(_,z){_.F=Date.now(),cs(_),_.A=xr(_.v);var Z=_.A,ge=_.R;Array.isArray(ge)||(ge=[String(ge)]),Ht(Z.i,"t",ge),_.C=0,Z=_.j.J,_.h=new Bt,_.g=oe(_.j,Z?z:null,!_.m),0<_.O&&(_.M=new wt(g(_.Y,_,_.g),_.O)),z=_.U,Z=_.g,ge=_.ca;var Fe="readystatechange";Array.isArray(Fe)||(Fe&&(en[0]=Fe.toString()),Fe=en);for(var Ge=0;Ge<Fe.length;Ge++){var gt=X(Z,Fe[Ge],ge||z.handleEvent,!1,z.h||z);if(!gt)break;z.g[gt.key]=gt}z=_.H?j(_.H):{},_.m?(_.u||(_.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,z)):(_.u="GET",_.g.ea(_.A,_.u,null,z)),ui(),cr(_.i,_.u,_.A,_.l,_.R,_.m)}Ct.prototype.ca=function(_){_=_.target;const z=this.M;z&&zr(_)==3?z.j():this.Y(_)},Ct.prototype.Y=function(_){try{if(_==this.g)e:{const pr=zr(this.g);var z=this.g.Ba();const to=this.g.Z();if(!(3>pr)&&(pr!=3||this.g&&(this.h.h||this.g.oa()||rl(this.g)))){this.J||pr!=4||z==7||(z==8||0>=to?ui(3):ui(2)),Ws(this);var Z=this.g.Z();this.X=Z;t:if(Hn(this)){var ge=rl(this.g);_="";var Fe=ge.length,Ge=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),Ks(this);var gt="";break t}this.h.i=new l.TextDecoder}for(z=0;z<Fe;z++)this.h.h=!0,_+=this.h.i.decode(ge[z],{stream:!(Ge&&z==Fe-1)});ge.length=0,this.h.g+=_,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=Z==200,pe(this.i,this.u,this.A,this.l,this.R,pr,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var on,Sn=this.g;if((on=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(on)){var Jt=on;break t}}Jt=null}if(Z=Jt)Ze(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,Z);else{this.o=!1,this.s=3,Ot(12),zi(this),Ks(this);break e}}if(this.P){Z=!0;let Ri;for(;!this.J&&this.C<gt.length;)if(Ri=La(this,gt),Ri==Mr){pr==4&&(this.s=4,Ot(14),Z=!1),Ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Ri==Dr){this.s=4,Ot(15),Ze(this.i,this.l,gt,"[Invalid Chunk]"),Z=!1;break}else Ze(this.i,this.l,Ri,null),Fa(this,Ri);if(Hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pr!=4||gt.length!=0||this.h.h||(this.s=1,Ot(16),Z=!1),this.o=this.o&&Z,!Z)Ze(this.i,this.l,gt,"[Invalid Chunked Response]"),zi(this),Ks(this);else if(0<gt.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Yl(Zn),Zn.M=!0,Ot(11))}}else Ze(this.i,this.l,gt,null),Fa(this,gt);pr==4&&zi(this),this.o&&!this.J&&(pr==4?Io(this.j,this):(this.o=!1,cs(this)))}else Zs(this.g),Z==400&&0<gt.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),zi(this),Ks(this)}}}catch{}finally{}};function Hn(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function La(_,z){var Z=_.C,ge=z.indexOf(`
`,Z);return ge==-1?Mr:(Z=Number(z.substring(Z,ge)),isNaN(Z)?Dr:(ge+=1,ge+Z>z.length?Mr:(z=z.slice(ge,ge+Z),_.C=ge+Z,z)))}Ct.prototype.cancel=function(){this.J=!0,zi(this)};function cs(_){_.S=Date.now()+_.I,$r(_,_.I)}function $r(_,z){if(_.B!=null)throw Error("WatchDog timer not null");_.B=jr(g(_.ba,_),z)}function Ws(_){_.B&&(l.clearTimeout(_.B),_.B=null)}Ct.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Yt(this.i,this.A),this.L!=2&&(ui(),Ot(17)),zi(this),this.s=2,Ks(this)):$r(this,this.S-_)};function Ks(_){_.j.G==0||_.J||Io(_.j,_)}function zi(_){Ws(_);var z=_.M;z&&typeof z.ma=="function"&&z.ma(),_.M=null,Xn(_.U),_.g&&(z=_.g,_.g=null,z.abort(),z.ma())}function Fa(_,z){try{var Z=_.j;if(Z.G!=0&&(Z.g==_||_o(Z.h,_))){if(!_.K&&_o(Z.h,_)&&Z.G==3){try{var ge=Z.Da.g.parse(z)}catch{ge=null}if(Array.isArray(ge)&&ge.length==3){var Fe=ge;if(Fe[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<_.F)fs(Z),No(Z);else break e;al(Z),Ot(18)}}else Z.za=Fe[1],0<Z.za-Z.T&&37500>Fe[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=jr(g(Z.Za,Z),6e3));if(1>=Qo(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else sa(Z,11)}else if((_.K||Z.g==_)&&fs(Z),!O(z))for(Fe=Z.Da.g.parse(z),z=0;z<Fe.length;z++){let Jt=Fe[z];if(Z.T=Jt[0],Jt=Jt[1],Z.G==2)if(Jt[0]=="c"){Z.K=Jt[1],Z.ia=Jt[2];const Zn=Jt[3];Zn!=null&&(Z.la=Zn,Z.j.info("VER="+Z.la));const pr=Jt[4];pr!=null&&(Z.Aa=pr,Z.j.info("SVER="+Z.Aa));const to=Jt[5];to!=null&&typeof to=="number"&&0<to&&(ge=1.5*to,Z.L=ge,Z.j.info("backChannelRequestTimeoutMs_="+ge)),ge=Z;const Ri=_.g;if(Ri){const no=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var Ge=ge.h;Ge.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||(Ge.j=Ge.l,Ge.g=new Set,Ge.h&&(ur(Ge,Ge.h),Ge.h=null))}if(ge.D){const za=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(ge.ya=za,Dn(ge.I,ge.D,za))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-_.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),ge=Z;var gt=_;if(ge.qa=M(ge,ge.J?ge.ia:null,ge.W),gt.K){xa(ge.h,gt);var on=gt,Sn=ge.L;Sn&&(on.I=Sn),on.B&&(Ws(on),cs(on)),ge.g=gt}else Kl(ge);0<Z.i.length&&Hl(Z)}else Jt[0]!="stop"&&Jt[0]!="close"||sa(Z,7);else Z.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?sa(Z,7):eo(Z):Jt[0]!="noop"&&Z.l&&Z.l.ta(Jt),Z.v=0)}}ui(4)}catch{}}var _f=class{constructor(_,z){this.g=_,this.map=z}};function Ul(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $c(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Qo(_){return _.h?1:_.g?_.g.size:0}function _o(_,z){return _.h?_.h==z:_.g?_.g.has(z):!1}function ur(_,z){_.g?_.g.add(z):_.h=z}function xa(_,z){_.h&&_.h==z?_.h=null:_.g&&_.g.has(z)&&_.g.delete(z)}Ul.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Ii(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let z=_.i;for(const Z of _.g.values())z=z.concat(Z.D);return z}return A(_.i)}function zc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var z=[],Z=_.length,ge=0;ge<Z;ge++)z.push(_[ge]);return z}z=[],Z=0;for(ge in _)z[Z++]=_[ge];return z}function Gc(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var z=[];_=_.length;for(var Z=0;Z<_;Z++)z.push(Z);return z}z=[],Z=0;for(const ge in _)z[Z++]=ge;return z}}}function Vl(_,z){if(_.forEach&&typeof _.forEach=="function")_.forEach(z,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,z,void 0);else for(var Z=Gc(_),ge=zc(_),Fe=ge.length,Ge=0;Ge<Fe;Ge++)z.call(void 0,ge[Ge],Z&&Z[Ge],_)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(_,z){if(_){_=_.split("&");for(var Z=0;Z<_.length;Z++){var ge=_[Z].indexOf("="),Fe=null;if(0<=ge){var Ge=_[Z].substring(0,ge);Fe=_[Z].substring(ge+1)}else Ge=_[Z];z(Ge,Fe?decodeURIComponent(Fe.replace(/\+/g," ")):"")}}}function Jr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Jr){this.h=_.h,Xs(this,_.j),this.o=_.o,this.g=_.g,Zo(this,_.s),this.l=_.l;var z=_.i,Z=new ds;Z.i=z.i,z.g&&(Z.g=new Map(z.g),Z.h=z.h),el(this,Z),this.m=_.m}else _&&(z=String(_).match(ba))?(this.h=!1,Xs(this,z[1]||"",!0),this.o=Ao(z[2]||""),this.g=Ao(z[3]||"",!0),Zo(this,z[4]),this.l=Ao(z[5]||"",!0),el(this,z[6]||"",!0),this.m=Ao(z[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Jr.prototype.toString=function(){var _=[],z=this.j;z&&_.push(ia(z,Hc,!0),":");var Z=this.g;return(Z||z=="file")&&(_.push("//"),(z=this.o)&&_.push(ia(z,Hc,!0),"@"),_.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&_.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&_.push("/"),_.push(ia(Z,Z.charAt(0)=="/"?us:Hu,!0))),(Z=this.i.toString())&&_.push("?",Z),(Z=this.m)&&_.push("#",ia(Z,Bl)),_.join("")};function xr(_){return new Jr(_)}function Xs(_,z,Z){_.j=Z?Ao(z,!0):z,_.j&&(_.j=_.j.replace(/:$/,""))}function Zo(_,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);_.s=z}else _.s=null}function el(_,z,Z){z instanceof ds?(_.i=z,Wu(_.i,_.h)):(Z||(z=ia(z,ql)),_.i=new ds(z,_.h))}function Dn(_,z,Z){_.i.set(z,Z)}function wo(_){return Dn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Ao(_,z){return _?z?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ia(_,z,Z){return typeof _=="string"?(_=encodeURI(_).replace(z,wf),Z&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function wf(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Hc=/[#\/\?@]/g,Hu=/[#\?:]/g,us=/[#\?]/g,ql=/[#\?@]/g,Bl=/#/g;function ds(_,z){this.h=this.g=null,this.i=_||null,this.j=!!z}function $n(_){_.g||(_.g=new Map,_.h=0,_.i&&Ys(_.i,function(z,Z){_.add(decodeURIComponent(z.replace(/\+/g," ")),Z)}))}t=ds.prototype,t.add=function(_,z){$n(this),this.i=null,_=_a(this,_);var Z=this.g.get(_);return Z||this.g.set(_,Z=[]),Z.push(z),this.h+=1,this};function $l(_,z){$n(_),z=_a(_,z),_.g.has(z)&&(_.i=null,_.h-=_.g.get(z).length,_.g.delete(z))}function tl(_,z){return $n(_),z=_a(_,z),_.g.has(z)}t.forEach=function(_,z){$n(this),this.g.forEach(function(Z,ge){Z.forEach(function(Fe){_.call(z,Fe,ge,this)},this)},this)},t.na=function(){$n(this);const _=Array.from(this.g.values()),z=Array.from(this.g.keys()),Z=[];for(let ge=0;ge<z.length;ge++){const Fe=_[ge];for(let Ge=0;Ge<Fe.length;Ge++)Z.push(z[ge])}return Z},t.V=function(_){$n(this);let z=[];if(typeof _=="string")tl(this,_)&&(z=z.concat(this.g.get(_a(this,_))));else{_=Array.from(this.g.values());for(let Z=0;Z<_.length;Z++)z=z.concat(_[Z])}return z},t.set=function(_,z){return $n(this),this.i=null,_=_a(this,_),tl(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[z]),this.h+=1,this},t.get=function(_,z){return _?(_=this.V(_),0<_.length?String(_[0]):z):z};function Ht(_,z,Z){$l(_,z),0<Z.length&&(_.i=null,_.g.set(_a(_,z),A(Z)),_.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],z=Array.from(this.g.keys());for(var Z=0;Z<z.length;Z++){var ge=z[Z];const Ge=encodeURIComponent(String(ge)),gt=this.V(ge);for(ge=0;ge<gt.length;ge++){var Fe=Ge;gt[ge]!==""&&(Fe+="="+encodeURIComponent(String(gt[ge]))),_.push(Fe)}}return this.i=_.join("&")};function _a(_,z){return z=String(z),_.j&&(z=z.toLowerCase()),z}function Wu(_,z){z&&!_.j&&($n(_),_.i=null,_.g.forEach(function(Z,ge){var Fe=ge.toLowerCase();ge!=Fe&&($l(this,ge),Ht(this,Fe,Z))},_)),_.j=z}function Ua(_,z){const Z=new Br;if(l.Image){const ge=new Image;ge.onload=y(Gi,Z,"TestLoadImage: loaded",!0,z,ge),ge.onerror=y(Gi,Z,"TestLoadImage: error",!1,z,ge),ge.onabort=y(Gi,Z,"TestLoadImage: abort",!1,z,ge),ge.ontimeout=y(Gi,Z,"TestLoadImage: timeout",!1,z,ge),l.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=_}else z(!1)}function Wc(_,z){const Z=new Br,ge=new AbortController,Fe=setTimeout(()=>{ge.abort(),Gi(Z,"TestPingServer: timeout",!1,z)},1e4);fetch(_,{signal:ge.signal}).then(Ge=>{clearTimeout(Fe),Ge.ok?Gi(Z,"TestPingServer: ok",!0,z):Gi(Z,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Fe),Gi(Z,"TestPingServer: error",!1,z)})}function Gi(_,z,Z,ge,Fe){try{Fe&&(Fe.onload=null,Fe.onerror=null,Fe.onabort=null,Fe.ontimeout=null),ge(Z)}catch{}}function aa(){this.g=new Ma}function nl(_,z,Z){const ge=Z||"";try{Vl(_,function(Fe,Ge){let gt=Fe;f(Fe)&&(gt=yn(Fe)),z.push(ge+Ge+"="+encodeURIComponent(gt))})}catch(Fe){throw z.push(ge+"type="+encodeURIComponent("_badmap")),Fe}}function Ns(_){this.l=_.Ub||null,this.j=_.eb||!1}N(Ns,gn),Ns.prototype.g=function(){return new wa(this.l,this.j)},Ns.prototype.i=(function(_){return function(){return _}})({});function wa(_,z){bt.call(this),this.D=_,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(wa,bt),t=wa.prototype,t.open=function(_,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=z,this.readyState=1,qa(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(z.body=_),(this.D||l).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var z=_.value?_.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!_.done}))&&(this.response=this.responseText+=z)}_.done?Va(this):qa(this),this.readyState==3&&zl(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Va(this))},t.Qa=function(_){this.g&&(this.response=_,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(_){_.readyState=4,_.l=null,_.j=null,_.v=null,qa(_)}t.setRequestHeader=function(_,z){this.u.append(_,z)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],z=this.h.entries();for(var Z=z.next();!Z.done;)Z=Z.value,_.push(Z[0]+": "+Z[1]),Z=z.next();return _.join(`\r
`)};function qa(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Ba(_){let z="";return q(_,function(Z,ge){z+=ge,z+=":",z+=Z,z+=`\r
`}),z}function Eo(_,z,Z){e:{for(ge in Z){var ge=!1;break e}ge=!0}ge||(Z=Ba(Z),typeof _=="string"?Z!=null&&encodeURIComponent(String(Z)):Dn(_,z,Z))}function Jn(_){bt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Jn,bt);var di=/^https?$/i,$a=["POST","PUT"];t=Jn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,z,Z,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);z=z?z.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nn.g(),this.v=this.o?ci(this.o):ci(nn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(z,String(_),!0),this.B=!1}catch(Ge){So(this,Ge);return}if(_=Z||"",Z=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var Fe in ge)Z.set(Fe,ge[Fe]);else if(typeof ge.keys=="function"&&typeof ge.get=="function")for(const Ge of ge.keys())Z.set(Ge,ge.get(Ge));else throw Error("Unknown input type for opt_headers: "+String(ge));ge=Array.from(Z.keys()).find(Ge=>Ge.toLowerCase()=="content-type"),Fe=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call($a,z,void 0))||ge||Fe||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ge,gt]of Z)this.g.setRequestHeader(Ge,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ge){So(this,Ge)}};function So(_,z){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=z,_.m=5,Js(_),Qs(_)}function Js(_){_.A||(_.A=!0,At(_,"complete"),At(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,At(this,"complete"),At(this,"abort"),Qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),Jn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},t.bb=function(){Kc(this)};function Kc(_){if(_.h&&typeof s<"u"&&(!_.v[1]||zr(_)!=4||_.Z()!=2)){if(_.u&&zr(_)==4)Tt(_.Ea,0,_);else if(At(_,"readystatechange"),zr(_)==4){_.h=!1;try{const gt=_.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Z;if(!(Z=z)){var ge;if(ge=gt===0){var Fe=String(_.D).match(ba)[1]||null;!Fe&&l.self&&l.self.location&&(Fe=l.self.location.protocol.slice(0,-1)),ge=!di.test(Fe?Fe.toLowerCase():"")}Z=ge}if(Z)At(_,"complete"),At(_,"success");else{_.m=6;try{var Ge=2<zr(_)?_.g.statusText:""}catch{Ge=""}_.l=Ge+" ["+_.Z()+"]",Js(_)}}finally{Qs(_)}}}}function Qs(_,z){if(_.g){Aa(_);const Z=_.g,ge=_.v[0]?()=>{}:null;_.g=null,_.v=null,z||At(_,"ready");try{Z.onreadystatechange=ge}catch{}}}function Aa(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function zr(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var z=this.g.responseText;return _&&z.indexOf(_)==0&&(z=z.substring(_.length)),xn(z)}};function rl(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(_){const z={};_=(_.g&&2<=zr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ge=0;ge<_.length;ge++){if(O(_[ge]))continue;var Z=V(_[ge]);const Fe=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const Ge=z[Fe]||[];z[Fe]=Ge,Ge.push(Z)}P(z,function(ge){return ge.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(_,z,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[_]||z}function Gl(_){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,_),this.cb=Hi("retryDelaySeedMs",1e4,_),this.Wa=Hi("forwardChannelMaxRetries",2,_),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Ul(_&&_.concurrentRequestLimit),this.Da=new aa,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gl.prototype,t.la=8,t.G=1,t.connect=function(_,z,Z,ge){Ot(0),this.W=_,this.H=z||{},Z&&ge!==void 0&&(this.H.OSID=Z,this.H.OAID=ge),this.F=this.X,this.I=M(this,null,this.W),Hl(this)};function eo(_){if(il(_),_.G==3){var z=_.U++,Z=xr(_.I);if(Dn(Z,"SID",_.K),Dn(Z,"RID",z),Dn(Z,"TYPE","terminate"),To(_,Z),z=new Ct(_,_.j,z),z.L=2,z.v=wo(xr(Z)),Z=!1,l.navigator&&l.navigator.sendBeacon)try{Z=l.navigator.sendBeacon(z.v.toString(),"")}catch{}!Z&&l.Image&&(new Image().src=z.v,Z=!0),Z||(z.g=oe(z.j,null),z.g.ea(z.v)),z.F=Date.now(),cs(z)}sl(_)}function No(_){_.g&&(Yl(_),_.g.cancel(),_.g=null)}function il(_){No(_),_.u&&(l.clearTimeout(_.u),_.u=null),fs(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Hl(_){if(!$c(_.h)&&!_.s){_.s=!0;var z=_.Ga;ie||be(),te||(ie(),te=!0),fe.add(z,_),_.B=0}}function Yc(_,z){return Qo(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=z.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=jr(g(_.Ga,_,z),Xl(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Fe=new Ct(this,this.j,_);let Ge=this.o;if(this.S&&(Ge?(Ge=j(Ge),G(Ge,this.S)):Ge=this.S),this.m!==null||this.O||(Fe.H=Ge,Ge=null),this.P)e:{for(var z=0,Z=0;Z<this.i.length;Z++){t:{var ge=this.i[Z];if("__data__"in ge.map&&(ge=ge.map.__data__,typeof ge=="string")){ge=ge.length;break t}ge=void 0}if(ge===void 0)break;if(z+=ge,4096<z){z=Z;break e}if(z===4096||Z===this.i.length-1){z=Z+1;break e}}z=1e3}else z=1e3;z=Co(this,Fe,z),Z=xr(this.I),Dn(Z,"RID",_),Dn(Z,"CVER",22),this.D&&Dn(Z,"X-HTTP-Session-Id",this.D),To(this,Z),Ge&&(this.O?z="headers="+encodeURIComponent(String(Ba(Ge)))+"&"+z:this.m&&Eo(Z,this.m,Ge)),ur(this.h,Fe),this.Ua&&Dn(Z,"TYPE","init"),this.P?(Dn(Z,"$req",z),Dn(Z,"SID","null"),Fe.T=!0,jn(Fe,Z,null)):jn(Fe,Z,z),this.G=2}}else this.G==3&&(_?Wl(this,_):this.i.length==0||$c(this.h)||Wl(this))};function Wl(_,z){var Z;z?Z=z.l:Z=_.U++;const ge=xr(_.I);Dn(ge,"SID",_.K),Dn(ge,"RID",Z),Dn(ge,"AID",_.T),To(_,ge),_.m&&_.o&&Eo(ge,_.m,_.o),Z=new Ct(_,_.j,Z,_.B+1),_.m===null&&(Z.H=_.o),z&&(_.i=z.D.concat(_.i)),z=Co(_,Z,1e3),Z.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ur(_.h,Z),jn(Z,ge,z)}function To(_,z){_.H&&q(_.H,function(Z,ge){Dn(z,ge,Z)}),_.l&&Vl({},function(Z,ge){Dn(z,ge,Z)})}function Co(_,z,Z){Z=Math.min(_.i.length,Z);var ge=_.l?g(_.l.Na,_.l,_):null;e:{var Fe=_.i;let Ge=-1;for(;;){const gt=["count="+Z];Ge==-1?0<Z?(Ge=Fe[0].g,gt.push("ofs="+Ge)):Ge=0:gt.push("ofs="+Ge);let on=!0;for(let Sn=0;Sn<Z;Sn++){let Jt=Fe[Sn].g;const Zn=Fe[Sn].map;if(Jt-=Ge,0>Jt)Ge=Math.max(0,Fe[Sn].g-100),on=!1;else try{nl(Zn,gt,"req"+Jt+"_")}catch{ge&&ge(Zn)}}if(on){ge=gt.join("&");break e}}}return _=_.i.splice(0,Z),z.D=_,ge}function Kl(_){if(!_.g&&!_.u){_.Y=1;var z=_.Fa;ie||be(),te||(ie(),te=!0),fe.add(z,_),_.v=0}}function al(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=jr(g(_.Fa,_),Xl(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=jr(g(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),No(this),Ku(this))};function Yl(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function Ku(_){_.g=new Ct(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var z=xr(_.qa);Dn(z,"RID","rpc"),Dn(z,"SID",_.K),Dn(z,"AID",_.T),Dn(z,"CI",_.F?"0":"1"),!_.F&&_.ja&&Dn(z,"TO",_.ja),Dn(z,"TYPE","xmlhttp"),To(_,z),_.m&&_.o&&Eo(z,_.m,_.o),_.L&&(_.g.I=_.L);var Z=_.g;_=_.ia,Z.L=1,Z.v=wo(xr(z)),Z.m=null,Z.P=!0,Lr(Z,_)}t.Za=function(){this.C!=null&&(this.C=null,No(this),al(this),Ot(19))};function fs(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function Io(_,z){var Z=null;if(_.g==z){fs(_),Yl(_),_.g=null;var ge=2}else if(_o(_.h,z))Z=z.D,xa(_.h,z),ge=1;else return;if(_.G!=0){if(z.o)if(ge==1){Z=z.m?z.m.length:0,z=Date.now()-z.F;var Fe=_.B;ge=xi(),At(ge,new Ci(ge,Z)),Hl(_)}else Kl(_);else if(Fe=z.s,Fe==3||Fe==0&&0<z.X||!(ge==1&&Yc(_,z)||ge==2&&al(_)))switch(Z&&0<Z.length&&(z=_.h,z.i=z.i.concat(Z)),Fe){case 1:sa(_,5);break;case 4:sa(_,10);break;case 3:sa(_,6);break;default:sa(_,2)}}}function Xl(_,z){let Z=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Z*=2),Z*z}function sa(_,z){if(_.j.info("Error code "+z),z==2){var Z=g(_.fb,_),ge=_.Xa;const Fe=!ge;ge=new Jr(ge||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xs(ge,"https"),wo(ge),Fe?Ua(ge.toString(),Z):Wc(ge.toString(),Z)}else Ot(2);_.G=0,_.l&&_.l.sa(z),sl(_),il(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function sl(_){if(_.G=0,_.ka=[],_.l){const z=Ii(_.h);(z.length!=0||_.i.length!=0)&&(E(_.ka,z),E(_.ka,_.i),_.h.i.length=0,A(_.i),_.i.length=0),_.l.ra()}}function M(_,z,Z){var ge=Z instanceof Jr?xr(Z):new Jr(Z);if(ge.g!="")z&&(ge.g=z+"."+ge.g),Zo(ge,ge.s);else{var Fe=l.location;ge=Fe.protocol,z=z?z+"."+Fe.hostname:Fe.hostname,Fe=+Fe.port;var Ge=new Jr(null);ge&&Xs(Ge,ge),z&&(Ge.g=z),Fe&&Zo(Ge,Fe),Z&&(Ge.l=Z),ge=Ge}return Z=_.D,z=_.ya,Z&&z&&Dn(ge,Z,z),Dn(ge,"VER",_.la),To(_,ge),ge}function oe(_,z,Z){if(z&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=_.Ca&&!_.pa?new Jn(new Ns({eb:Z})):new Jn(_.pa),z.Ha(_.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ee(){}t=Ee.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Re(){}Re.prototype.g=function(_,z){return new Ve(_,z)};function Ve(_,z){bt.call(this),this.g=new Gl(z),this.l=_,this.h=z&&z.messageUrlParams||null,_=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(_?_["X-WebChannel-Content-Type"]=z.messageContentType:_={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(_?_["X-WebChannel-Client-Profile"]=z.va:_={"X-WebChannel-Client-Profile":z.va}),this.g.S=_,(_=z&&z.Sb)&&!O(_)&&(this.g.m=_),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!O(z)&&(this.g.D=z,_=this.h,_!==null&&z in _&&(_=this.h,z in _&&delete _[z])),this.j=new Nt(this)}N(Ve,bt),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){eo(this.g)},Ve.prototype.o=function(_){var z=this.g;if(typeof _=="string"){var Z={};Z.__data__=_,_=Z}else this.u&&(Z={},Z.__data__=yn(_),_=Z);z.i.push(new _f(z.Ya++,_)),z.G==3&&Hl(z)},Ve.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,Ve.aa.N.call(this)};function nt(_){qr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var z=_.__sm__;if(z){e:{for(const Z in z){_=Z;break e}_=void 0}(this.i=_)&&(_=this.i,z=z!==null&&_ in z?z[_]:void 0),this.data=z}else this.data=_}N(nt,qr);function mt(){En.call(this),this.status=1}N(mt,En);function Nt(_){this.g=_}N(Nt,Ee),Nt.prototype.ua=function(){At(this.g,"a")},Nt.prototype.ta=function(_){At(this.g,new nt(_))},Nt.prototype.sa=function(_){At(this.g,new mt)},Nt.prototype.ra=function(){At(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,Mq=function(){return new Re},Dq=function(){return xi()},jq=Mt,ON={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,tx=Gt,$t.COMPLETE="complete",Pq=$t,Bn.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Vg=Bn,Jn.prototype.listenOnce=Jn.prototype.L,Jn.prototype.getLastError=Jn.prototype.Ka,Jn.prototype.getLastErrorCode=Jn.prototype.Ba,Jn.prototype.getStatus=Jn.prototype.Z,Jn.prototype.getResponseJson=Jn.prototype.Oa,Jn.prototype.getResponseText=Jn.prototype.oa,Jn.prototype.send=Jn.prototype.ea,Jn.prototype.setWithCredentials=Jn.prototype.Ha,kq=Jn}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});const sL="@firebase/firestore",oL="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new NC("@firebase/firestore");function fp(){return dh.logLevel}function jt(t,...e){if(dh.logLevel<=Un.DEBUG){const n=e.map(FC);dh.debug(`Firestore (${Rm}): ${t}`,...n)}}function Mu(t,...e){if(dh.logLevel<=Un.ERROR){const n=e.map(FC);dh.error(`Firestore (${Rm}): ${t}`,...n)}}function nf(t,...e){if(dh.logLevel<=Un.WARN){const n=e.map(FC);dh.warn(`Firestore (${Rm}): ${t}`,...n)}}function FC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Lq(t,r,n)}function Lq(t,e,n){let r=`FIRESTORE (${Rm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mu(r),new Error(r)}function hr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Lq(e,i,r)}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Bc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ts.UNAUTHENTICATED)))}shutdown(){}}class jge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Dge{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){hr(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Xd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xd,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xd)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hr(typeof r.accessToken=="string",31837,{l:r}),new Fq(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hr(e===null||typeof e=="string",2055,{h:e}),new ts(e)}}class Mge{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lge{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Mge(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fge{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$o(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){hr(this.o===void 0,3512);const r=a=>{a.error!=null&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(hr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lL(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Uge(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Tn(t,e){return t<e?-1:t>e?1:0}function kN(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Tn(r,i);{const a=Uq(),s=Vge(a.encode(cL(t,n)),a.encode(cL(e,n)));return s!==0?s:Tn(r,i)}}n+=r>65535?2:1}return Tn(t.length,e.length)}function cL(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Vge(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Tn(t[n],e[n]);return Tn(t.length,e.length)}function dm(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="__name__";class xc{constructor(e,n,r){n===void 0?n=0:n>e.length&&sn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&sn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=xc.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Tn(e.length,n.length)}static compareSegments(e,n){const r=xc.isNumericId(e),i=xc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xc.extractNumericId(e).compare(xc.extractNumericId(n)):kN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yd.fromString(e.substring(4,e.length-2))}}class Vr extends xc{construct(e,n,r){return new Vr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Rt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vr(n)}static emptyPath(){return new Vr([])}}const qge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ka extends xc{construct(e,n,r){return new ka(e,n,r)}static isValidIdentifier(e){return qge.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ka.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uL}static keyField(){return new ka([uL])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Rt(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Rt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Rt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new Rt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ka(n)}static emptyPath(){return new ka([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(Vr.fromString(e))}static fromName(e){return new Kt(Vr.fromString(e).popFirst(5))}static empty(){return new Kt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new Vr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t,e,n){if(!n)throw new Rt(ut.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bge(t,e,n,r){if(e===!0&&r===!0)throw new Rt(ut.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dL(t){if(!Kt.isDocumentKey(t))throw new Rt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fL(t){if(Kt.isDocumentKey(t))throw new Rt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qq(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":sn(12329,{type:typeof t})}function xo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kb(t);throw new Rt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $ge(t,e){if(e<=0)throw new Rt(ut.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){const n={typeString:t};return e&&(n.value=e),n}function gv(t,e){if(!qq(t))throw new Rt(ut.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Rt(ut.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=-62135596800,pL=1e6;class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pL);return new Kr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hL)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pL}_compareTo(e){return this.seconds===e.seconds?Tn(this.nanoseconds,e.nanoseconds):Tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gv(e,Kr._jsonSchema))return new Kr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kr._jsonSchemaVersion="firestore/timestamp/1.0",Kr._jsonSchema={type:Bi("string",Kr._jsonSchemaVersion),seconds:Bi("number"),nanoseconds:Bi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{static fromTimestamp(e){return new fn(e)}static min(){return new fn(new Kr(0,0))}static max(){return new fn(new Kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-1;function zge(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fn.fromTimestamp(r===1e9?new Kr(n+1,0):new Kr(n,r));return new rf(i,Kt.empty(),e)}function Gge(t){return new rf(t.readTime,t.key,X0)}class rf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rf(fn.min(),Kt.empty(),X0)}static max(){return new rf(fn.max(),Kt.empty(),X0)}}function Hge(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Kt.comparator(t.documentKey,e.documentKey),n!==0?n:Tn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t){if(t.code!==ut.FAILED_PRECONDITION||t.message!==Wge)throw t;jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&sn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ht(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ht.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ht.reject(n)}static resolve(e){return new ht(((n,r)=>{n(e)}))}static reject(e){return new ht(((n,r)=>{r(e)}))}static waitFor(e){return new ht(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=ht.resolve(!1);for(const r of e)n=n.next((i=>i?ht.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ht(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ht(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Yge(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function km(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Pb.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=-1;function jb(t){return t==null}function T1(t){return t===0&&1/t==-1/0}function Xge(t){return typeof t=="number"&&Number.isInteger(t)&&!T1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="";function Jge(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mL(e)),e=Qge(t.get(n),e);return mL(e)}function Qge(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Bq:n+="";break;default:n+=a}}return n}function mL(t){return t+Bq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $q(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){this.comparator=e,this.root=n||Oa.EMPTY}insert(e,n){return new li(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oa.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jy(this.root,e,this.comparator,!0)}}class jy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oa{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Oa.RED,this.left=i??Oa.EMPTY,this.right=a??Oa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Oa(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Oa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sn(27949);return e+(this.isRed()?0:1)}}Oa.EMPTY=null,Oa.RED=!0,Oa.BLACK=!1;Oa.EMPTY=new class{constructor(){this.size=0}get key(){throw sn(57766)}get value(){throw sn(16141)}get color(){throw sn(16727)}get left(){throw sn(29726)}get right(){throw sn(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Oa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vL(this.data.getIterator())}getIteratorFrom(e){return new vL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new na(this.comparator);return n.data=e,n}}class vL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.fields=e,e.sort(ka.comparator)}static empty(){return new vo([])}unionWith(e){let n=new na(ka.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dm(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zq("Invalid base64 string: "+a):a}})(e);return new Da(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Da(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Da.EMPTY_BYTE_STRING=new Da("");const Zge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function af(t){if(hr(!!t,39018),typeof t=="string"){let e=0;const n=Zge.exec(t);if(hr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ai(t.seconds),nanos:Ai(t.nanos)}}function Ai(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sf(t){return typeof t=="string"?Da.fromBase64String(t):Da.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq="server_timestamp",Hq="__type__",Wq="__previous_value__",Kq="__local_write_time__";function qC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hq])===null||n===void 0?void 0:n.stringValue)===Gq}function Db(t){const e=t.mapValue.fields[Wq];return qC(e)?Db(e):e}function J0(t){const e=af(t.mapValue.fields[Kq].timestampValue);return new Kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0e{constructor(e,n,r,i,a,s,l,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const C1="(default)";class Q0{constructor(e,n){this.projectId=e,this.database=n||C1}static empty(){return new Q0("","")}get isDefaultDatabase(){return this.database===C1}isEqual(e){return e instanceof Q0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="__type__",t0e="__max__",Dy={mapValue:{}},Xq="__vector__",I1="value";function of(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qC(t)?4:r0e(t)?9007199254740991:n0e(t)?10:11:sn(28295,{value:t})}function Uc(t,e){if(t===e)return!0;const n=of(t);if(n!==of(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return J0(t).isEqual(J0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=af(i.timestampValue),l=af(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return sf(i.bytesValue).isEqual(sf(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ai(i.geoPointValue.latitude)===Ai(a.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ai(i.integerValue)===Ai(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ai(i.doubleValue),l=Ai(a.doubleValue);return s===l?T1(s)===T1(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return dm(t.arrayValue.values||[],e.arrayValue.values||[],Uc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(gL(s)!==gL(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Uc(s[c],l[c])))return!1;return!0})(t,e);default:return sn(52216,{left:t})}}function Z0(t,e){return(t.values||[]).find((n=>Uc(n,e)))!==void 0}function fm(t,e){if(t===e)return 0;const n=of(t),r=of(e);if(n!==r)return Tn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Ai(a.integerValue||a.doubleValue),c=Ai(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return yL(t.timestampValue,e.timestampValue);case 4:return yL(J0(t),J0(e));case 5:return kN(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=sf(a),c=sf(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Tn(l[f],c[f]);if(h!==0)return h}return Tn(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Tn(Ai(a.latitude),Ai(s.latitude));return l!==0?l:Tn(Ai(a.longitude),Ai(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xL(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var l,c,f,h;const m=a.fields||{},g=s.fields||{},y=(l=m[I1])===null||l===void 0?void 0:l.arrayValue,N=(c=g[I1])===null||c===void 0?void 0:c.arrayValue,A=Tn(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((h=N==null?void 0:N.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:xL(y,N)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Dy.mapValue&&s===Dy.mapValue)return 0;if(a===Dy.mapValue)return 1;if(s===Dy.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=kN(c[m],h[m]);if(g!==0)return g;const y=fm(l[c[m]],f[h[m]]);if(y!==0)return y}return Tn(c.length,h.length)})(t.mapValue,e.mapValue);default:throw sn(23264,{le:n})}}function yL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tn(t,e);const n=af(t),r=af(e),i=Tn(n.seconds,r.seconds);return i!==0?i:Tn(n.nanos,r.nanos)}function xL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fm(n[i],r[i]);if(a)return a}return Tn(n.length,r.length)}function hm(t){return PN(t)}function PN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=af(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return sf(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Kt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=PN(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${PN(n.fields[s])}`;return i+"}"})(t.mapValue):sn(61005,{value:t})}function nx(t){switch(of(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Db(t);return e?16+nx(e):16;case 5:return 2*t.stringValue.length;case 6:return sf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+nx(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return yf(r.fields,((a,s)=>{i+=a.length+nx(s)})),i})(t.mapValue);default:throw sn(13486,{value:t})}}function bL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jN(t){return!!t&&"integerValue"in t}function BC(t){return!!t&&"arrayValue"in t}function _L(t){return!!t&&"nullValue"in t}function wL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rx(t){return!!t&&"mapValue"in t}function n0e(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Yq])===null||n===void 0?void 0:n.stringValue)===Xq}function e0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=e0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=e0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function r0e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.value=e}static empty(){return new $s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=e0(n)}setAll(e){let n=ka.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=e0(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());rx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Uc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new $s(e0(this.value))}}function Jq(t){const e=[];return yf(t.fields,((n,r)=>{const i=new ka([n]);if(rx(r)){const a=Jq(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new vo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new is(e,0,fn.min(),fn.min(),fn.min(),$s.empty(),0)}static newFoundDocument(e,n,r,i){return new is(e,1,n,fn.min(),r,i,0)}static newNoDocument(e,n){return new is(e,2,n,fn.min(),fn.min(),$s.empty(),0)}static newUnknownDocument(e,n){return new is(e,3,n,fn.min(),fn.min(),$s.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.position=e,this.inclusive=n}}function AL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Kt.comparator(Kt.fromName(s.referenceValue),n.key):r=fm(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function EL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Uc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n="asc"){this.field=e,this.dir=n}}function i0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{}class qi extends Qq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s0e(e,n,r):n==="array-contains"?new c0e(e,r):n==="in"?new u0e(e,r):n==="not-in"?new d0e(e,r):n==="array-contains-any"?new f0e(e,r):new qi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o0e(e,r):new l0e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fm(n,this.value)):n!==null&&of(this.value)===of(n)&&this.matchesComparison(fm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return sn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jl extends Qq{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new jl(e,n)}matches(e){return Zq(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Zq(t){return t.op==="and"}function eB(t){return a0e(t)&&Zq(t)}function a0e(t){for(const e of t.filters)if(e instanceof jl)return!1;return!0}function DN(t){if(t instanceof qi)return t.field.canonicalString()+t.op.toString()+hm(t.value);if(eB(t))return t.filters.map((e=>DN(e))).join(",");{const e=t.filters.map((n=>DN(n))).join(",");return`${t.op}(${e})`}}function tB(t,e){return t instanceof qi?(function(r,i){return i instanceof qi&&r.op===i.op&&r.field.isEqual(i.field)&&Uc(r.value,i.value)})(t,e):t instanceof jl?(function(r,i){return i instanceof jl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&tB(s,i.filters[l])),!0):!1})(t,e):void sn(19439)}function nB(t){return t instanceof qi?(function(n){return`${n.field.canonicalString()} ${n.op} ${hm(n.value)}`})(t):t instanceof jl?(function(n){return n.op.toString()+" {"+n.getFilters().map(nB).join(" ,")+"}"})(t):"Filter"}class s0e extends qi{constructor(e,n,r){super(e,n,r),this.key=Kt.fromName(r.referenceValue)}matches(e){const n=Kt.comparator(e.key,this.key);return this.matchesComparison(n)}}class o0e extends qi{constructor(e,n){super(e,"in",n),this.keys=rB("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l0e extends qi{constructor(e,n){super(e,"not-in",n),this.keys=rB("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Kt.fromName(r.referenceValue)))}class c0e extends qi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return BC(n)&&Z0(n.arrayValue,this.value)}}class u0e extends qi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Z0(this.value.arrayValue,n)}}class d0e extends qi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Z0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Z0(this.value.arrayValue,n)}}class f0e extends qi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!BC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Z0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0e{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Pe=null}}function SL(t,e=null,n=[],r=[],i=null,a=null,s=null){return new h0e(t,e,n,r,i,a,s)}function $C(t){const e=mn(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>DN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),jb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hm(r))).join(",")),e.Pe=n}return e.Pe}function zC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!i0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EL(t.startAt,e.startAt)&&EL(t.endAt,e.endAt)}function MN(t){return Kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function p0e(t,e,n,r,i,a,s,l){return new Pm(t,e,n,r,i,a,s,l)}function GC(t){return new Pm(t)}function NL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iB(t){return t.collectionGroup!==null}function t0(t){const e=mn(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new na(ka.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new ev(a,r))})),n.has(ka.keyField().canonicalString())||e.Te.push(new ev(ka.keyField(),r))}return e.Te}function Oc(t){const e=mn(t);return e.Ie||(e.Ie=m0e(e,t0(t))),e.Ie}function m0e(t,e){if(t.limitType==="F")return SL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ev(i.field,a)}));const n=t.endAt?new R1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new R1(t.startAt.position,t.startAt.inclusive):null;return SL(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function LN(t,e){const n=t.filters.concat([e]);return new Pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function O1(t,e,n){return new Pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mb(t,e){return zC(Oc(t),Oc(e))&&t.limitType===e.limitType}function aB(t){return`${$C(Oc(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>nB(i))).join(", ")}]`),jb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>hm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>hm(i))).join(",")),`Target(${r})`})(Oc(t))}; limitType=${t.limitType})`}function Lb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Kt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of t0(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=AL(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,t0(r),i)||r.endAt&&!(function(s,l,c){const f=AL(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,t0(r),i))})(t,e)}function g0e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sB(t){return(e,n)=>{let r=!1;for(const i of t0(t)){const a=v0e(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function v0e(t,e,n){const r=t.field.isKeyField()?Kt.comparator(e.key,n.key):(function(a,s,l){const c=s.data.field(a),f=l.data.field(a);return c!==null&&f!==null?fm(c,f):sn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return sn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return $q(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0e=new li(Kt.comparator);function Lu(){return y0e}const oB=new li(Kt.comparator);function qg(...t){let e=oB;for(const n of t)e=e.insert(n.key,n);return e}function lB(t){let e=oB;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yf(){return n0()}function cB(){return n0()}function n0(){return new _h((t=>t.toString()),((t,e)=>t.isEqual(e)))}const x0e=new li(Kt.comparator),b0e=new na(Kt.comparator);function Vn(...t){let e=b0e;for(const n of t)e=e.add(n);return e}const _0e=new na(Tn);function w0e(){return _0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:T1(e)?"-0":e}}function uB(t){return{integerValue:""+t}}function A0e(t,e){return Xge(e)?uB(e):HC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this._=void 0}}function E0e(t,e,n){return t instanceof k1?(function(i,a){const s={fields:{[Hq]:{stringValue:Gq},[Kq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&qC(a)&&(a=Db(a)),a&&(s.fields[Wq]=a),{mapValue:s}})(n,e):t instanceof tv?fB(t,e):t instanceof nv?hB(t,e):(function(i,a){const s=dB(i,a),l=TL(s)+TL(i.Ee);return jN(s)&&jN(i.Ee)?uB(l):HC(i.serializer,l)})(t,e)}function S0e(t,e,n){return t instanceof tv?fB(t,e):t instanceof nv?hB(t,e):n}function dB(t,e){return t instanceof P1?(function(r){return jN(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class k1 extends Fb{}class tv extends Fb{constructor(e){super(),this.elements=e}}function fB(t,e){const n=pB(e);for(const r of t.elements)n.some((i=>Uc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class nv extends Fb{constructor(e){super(),this.elements=e}}function hB(t,e){let n=pB(e);for(const r of t.elements)n=n.filter((i=>!Uc(i,r)));return{arrayValue:{values:n}}}class P1 extends Fb{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function TL(t){return Ai(t.integerValue||t.doubleValue)}function pB(t){return BC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N0e(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof tv&&i instanceof tv||r instanceof nv&&i instanceof nv?dm(r.elements,i.elements,Uc):r instanceof P1&&i instanceof P1?Uc(r.Ee,i.Ee):r instanceof k1&&i instanceof k1})(t.transform,e.transform)}class T0e{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ix(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ub{}function mB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vb(t.key,Es.none()):new vv(t.key,t.data,Es.none());{const n=t.data,r=$s.empty();let i=new na(ka.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new xf(t.key,r,new vo(i.toArray()),Es.none())}}function C0e(t,e,n){t instanceof vv?(function(i,a,s){const l=i.value.clone(),c=IL(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof xf?(function(i,a,s){if(!ix(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=IL(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(gB(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function r0(t,e,n,r){return t instanceof vv?(function(a,s,l,c){if(!ix(a.precondition,s))return l;const f=a.value.clone(),h=RL(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof xf?(function(a,s,l,c){if(!ix(a.precondition,s))return l;const f=RL(a.fieldTransforms,c,s),h=s.data;return h.setAll(gB(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,s,l){return ix(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function I0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=dB(r.transform,i||null);a!=null&&(n===null&&(n=$s.empty()),n.set(r.field,a))}return n||null}function CL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dm(r,i,((a,s)=>N0e(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vv extends Ub{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xf extends Ub{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gB(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function IL(t,e,n){const r=new Map;hr(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,S0e(s,l,n[i]))}return r}function RL(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,E0e(a,s,e))}return r}class Vb extends Ub{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R0e extends Ub{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&C0e(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=r0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=r0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cB();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=mB(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(fn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Vn())}isEqual(e){return this.batchId===e.batchId&&dm(this.mutations,e.mutations,((n,r)=>CL(n,r)))&&dm(this.baseMutations,e.baseMutations,((n,r)=>CL(n,r)))}}class WC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){hr(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return x0e})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new WC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui,Yn;function j0e(t){switch(t){case ut.OK:return sn(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return sn(15467,{code:t})}}function vB(t){if(t===void 0)return Mu("GRPC error has no .code"),ut.UNKNOWN;switch(t){case Ui.OK:return ut.OK;case Ui.CANCELLED:return ut.CANCELLED;case Ui.UNKNOWN:return ut.UNKNOWN;case Ui.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ui.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ui.INTERNAL:return ut.INTERNAL;case Ui.UNAVAILABLE:return ut.UNAVAILABLE;case Ui.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ui.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ui.NOT_FOUND:return ut.NOT_FOUND;case Ui.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ui.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ui.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ui.ABORTED:return ut.ABORTED;case Ui.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ui.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ui.DATA_LOSS:return ut.DATA_LOSS;default:return sn(39323,{code:t})}}(Yn=Ui||(Ui={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0e=new Yd([4294967295,4294967295],0);function OL(t){const e=Uq().encode(t),n=new Oq;return n.update(e),new Uint8Array(n.digest())}function kL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yd([n,r],0),new Yd([i,a],0)]}class KC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bg(`Invalid padding: ${n}`);if(r<0)throw new Bg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bg(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Yd.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Yd.fromNumber(r)));return i.compare(D0e)===1&&(i=new Yd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=OL(e),[r,i]=kL(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new KC(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.fe===0)return;const n=OL(e),[r,i]=kL(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);this.we(s)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qb(fn.min(),i,new li(Tn),Lu(),Vn())}}class yv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yv(r,n,Vn(),Vn(),Vn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class yB{constructor(e,n){this.targetId=e,this.De=n}}class xB{constructor(e,n,r=Da.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PL{constructor(){this.ve=0,this.Ce=jL(),this.Fe=Da.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Vn(),n=Vn(),r=Vn();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:sn(38017,{changeType:a})}})),new yv(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=jL()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,hr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class M0e{constructor(e){this.We=e,this.Ge=new Map,this.ze=Lu(),this.je=My(),this.Je=My(),this.He=new li(Tn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:sn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,i)=>{this.nt(i)&&n(i)}))}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(MN(a))if(r===0){const s=new Kt(a.path);this.Xe(n,s,is.newNoDocument(s,fn.min()))}else hr(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const l=this._t(e),c=l?this.ut(l,e,s):1;if(c!==0){this.rt(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=sf(r).toUint8Array()}catch(c){if(c instanceof zq)return nf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new KC(s,i,a)}catch(c){return nf(c instanceof Bg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.We.lt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),i++)})),i}Pt(e){const n=new Map;this.Ge.forEach(((a,s)=>{const l=this.st(s);if(l){if(a.current&&MN(l.target)){const c=new Kt(l.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,is.newNoDocument(c,e))}a.Ne&&(n.set(s,a.Le()),a.ke())}}));let r=Vn();this.Je.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.st(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.ze.forEach(((a,s)=>s.setReadTime(e)));const i=new qb(e,n,this.He,this.ze,r);return this.ze=Lu(),this.je=My(),this.Je=My(),this.He=new li(Tn),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new PL,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new na(Tn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new na(Tn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||jt("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new PL),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function My(){return new li(Kt.comparator)}function jL(){return new li(Kt.comparator)}const L0e={asc:"ASCENDING",desc:"DESCENDING"},F0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U0e={and:"AND",or:"OR"};class V0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function FN(t,e){return t.useProto3Json||jb(e)?e:{value:e}}function j1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q0e(t,e){return j1(t,e.toTimestamp())}function kc(t){return hr(!!t,49232),fn.fromTimestamp((function(n){const r=af(n);return new Kr(r.seconds,r.nanos)})(t))}function YC(t,e){return UN(t,e).canonicalString()}function UN(t,e){const n=(function(i){return new Vr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _B(t){const e=Vr.fromString(t);return hr(NB(e),10190,{key:e.toString()}),e}function VN(t,e){return YC(t.databaseId,e.path)}function DE(t,e){const n=_B(e);if(n.get(1)!==t.databaseId.projectId)throw new Rt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Kt(AB(n))}function wB(t,e){return YC(t.databaseId,e)}function B0e(t){const e=_B(t);return e.length===4?Vr.emptyPath():AB(e)}function qN(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AB(t){return hr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DL(t,e,n){return{name:VN(t,e),fields:n.value.mapValue.fields}}function $0e(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:sn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(hr(h===void 0||typeof h=="string",58123),Da.fromBase64String(h||"")):(hr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Da.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?ut.UNKNOWN:vB(f.code);return new Rt(h,f.message||"")})(s);n=new xB(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=DE(t,r.document.name),a=kc(r.document.updateTime),s=r.document.createTime?kc(r.document.createTime):fn.min(),l=new $s({mapValue:{fields:r.document.fields}}),c=is.newFoundDocument(i,a,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new ax(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=DE(t,r.document),a=r.readTime?kc(r.readTime):fn.min(),s=is.newNoDocument(i,a),l=r.removedTargetIds||[];n=new ax([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=DE(t,r.document),a=r.removedTargetIds||[];n=new ax([],a,i,null)}else{if(!("filter"in e))return sn(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new P0e(i,a),l=r.targetId;n=new yB(l,s)}}return n}function z0e(t,e){let n;if(e instanceof vv)n={update:DL(t,e.key,e.value)};else if(e instanceof Vb)n={delete:VN(t,e.key)};else if(e instanceof xf)n={update:DL(t,e.key,e.data),updateMask:Z0e(e.fieldMask)};else{if(!(e instanceof R0e))return sn(16599,{Rt:e.type});n={verify:VN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof k1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof P1)return{fieldPath:s.field.canonicalString(),increment:l.Ee};throw sn(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:q0e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:sn(27497)})(t,e.precondition)),n}function G0e(t,e){return t&&t.length>0?(hr(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?kc(i.updateTime):kc(a);return s.isEqual(fn.min())&&(s=kc(a)),new T0e(s,i.transformResults||[])})(n,e)))):[]}function H0e(t,e){return{documents:[wB(t,e.path)]}}function W0e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wB(t,i);const a=(function(f){if(f.length!==0)return SB(jl.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:pp(g.field),direction:X0e(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=FN(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{Vt:n,parent:i}}function K0e(t){let e=B0e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hr(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(m){const g=EB(m);return g instanceof jl&&eB(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((g=>(function(N){return new ev(mp(N.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let g;return g=typeof m=="object"?m.value:m,jb(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,y=m.values||[];return new R1(y,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const g=!m.before,y=m.values||[];return new R1(y,g)})(n.endAt)),p0e(e,i,s,a,l,"F",c,f)}function Y0e(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EB(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mp(n.unaryFilter.field);return qi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mp(n.unaryFilter.field);return qi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mp(n.unaryFilter.field);return qi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mp(n.unaryFilter.field);return qi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sn(61313);default:return sn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qi.create(mp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sn(58110);default:return sn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return jl.create(n.compositeFilter.filters.map((r=>EB(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sn(1026)}})(n.compositeFilter.op))})(t):sn(30097,{filter:t})}function X0e(t){return L0e[t]}function J0e(t){return F0e[t]}function Q0e(t){return U0e[t]}function pp(t){return{fieldPath:t.canonicalString()}}function mp(t){return ka.fromServerFormat(t.fieldPath)}function SB(t){return t instanceof qi?(function(n){if(n.op==="=="){if(wL(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NAN"}};if(_L(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wL(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NAN"}};if(_L(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(n.field),op:J0e(n.op),value:n.value}}})(t):t instanceof jl?(function(n){const r=n.getFilters().map((i=>SB(i)));return r.length===1?r[0]:{compositeFilter:{op:Q0e(n.op),filters:r}}})(t):sn(54877,{filter:t})}function Z0e(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i,a=fn.min(),s=fn.min(),l=Da.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eve{constructor(e){this.gt=e}}function tve(t){const e=K0e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?O1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nve{constructor(){this.Dn=new rve}addToCollectionParentIndex(e,n){return this.Dn.add(n),ht.resolve()}getCollectionParents(e,n){return ht.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ht.resolve()}deleteFieldIndex(e,n){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,n){return ht.resolve()}getDocumentsMatchingTarget(e,n){return ht.resolve(null)}getIndexType(e,n){return ht.resolve(0)}getFieldIndexes(e,n){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,n){return ht.resolve(rf.min())}getMinOffsetFromCollectionGroup(e,n){return ht.resolve(rf.min())}updateCollectionGroup(e,n,r){return ht.resolve()}updateIndexEntries(e,n){return ht.resolve()}}class rve{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new na(Vr.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new na(Vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TB=41943040;class Bs{static withCacheSize(e){return new Bs(e,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs.DEFAULT_COLLECTION_PERCENTILE=10,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bs.DEFAULT=new Bs(TB,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bs.DISABLED=new Bs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new pm(0)}static ur(){return new pm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="LruGarbageCollector",ive=1048576;function FL([t,e],[n,r]){const i=Tn(t,n);return i===0?Tn(e,r):i}class ave{constructor(e){this.Tr=e,this.buffer=new na(FL),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sve{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){jt(LL,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){km(n)?jt(LL,"Ignoring IndexedDB error during garbage collection: ",n):await Om(n)}await this.Rr(3e5)}))}}class ove{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ht.resolve(Pb.ue);const r=new ave(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(ML)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ML):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),fp()<=Un.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function lve(t,e){return new ove(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cve{constructor(){this.changes=new _h((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ht.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dve{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&r0(r.mutation,i,vo.empty(),Kr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Vn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Vn()){const i=Yf();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=qg();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Yf();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Vn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=Lu();const s=n0(),l=(function(){return n0()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof xf)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),r0(h.mutation,f,h.mutation.getFieldMask(),Kr.now())):s.set(f.key,vo.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>{var m;return l.set(f,new uve(h,(m=s.get(f))!==null&&m!==void 0?m:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=n0();let i=new li(((s,l)=>s-l)),a=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||vo.empty();h=l.applyToLocalView(f,h),r.set(c,h);const m=(i.get(l.batchId)||Vn()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=cB();h.forEach((g=>{if(!a.has(g)){const y=mB(n.get(g),r.get(g));y!==null&&m.set(g,y),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ht.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Kt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ht.resolve(Yf());let l=X0,c=a;return s.next((f=>ht.forEach(f,((h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?ht.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,Vn()))).next((h=>({batchId:l,changes:lB(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Kt(n)).next((r=>{let i=qg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=qg();return this.indexManager.getCollectionParents(e,a).next((l=>ht.forEach(l,(c=>{const f=(function(m,g){return new Pm(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((m,g)=>{s=s.insert(m,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,is.newInvalidDocument(h)))}));let l=qg();return s.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&r0(h.mutation,f,vo.empty(),Kr.now()),Lb(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fve{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ht.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:kc(i.createTime)}})(n)),ht.resolve()}getNamedQuery(e,n){return ht.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:tve(i.bundledQuery),readTime:kc(i.readTime)}})(n)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hve{constructor(){this.overlays=new li(Kt.comparator),this.kr=new Map}getOverlay(e,n){return ht.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yf();return ht.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.wt(e,n,a)})),ht.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),ht.resolve()}getOverlaysForCollection(e,n,r){const i=Yf(),a=n.length+1,s=new Kt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ht.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new li(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Yf(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Yf(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return ht.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new k0e(n,r));let a=this.kr.get(n);a===void 0&&(a=Vn(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(){this.sessionToken=Da.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.qr=new na(ma.Qr),this.$r=new na(ma.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new ma(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ma(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new Kt(new Vr([])),r=new ma(n,e),i=new ma(n,e+1),a=[];return this.$r.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Kt(new Vr([])),r=new ma(n,e),i=new ma(n,e+1);let a=Vn();return this.$r.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new ma(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ma{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Kt.comparator(e.key,n.key)||Tn(e.Hr,n.Hr)}static Ur(e,n){return Tn(e.Hr,n.Hr)||Kt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mve{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new na(ma.Qr)}checkEmpty(e){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new O0e(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Yr=this.Yr.add(new ma(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ht.resolve(s)}lookupMutationBatch(e,n){return ht.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ht.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?VC:this.er-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ma(n,0),i=new ma(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);a.push(l)})),ht.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new na(Tn);return n.forEach((i=>{const a=new ma(i,0),s=new ma(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],(l=>{r=r.add(l.Hr)}))})),ht.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Kt.isDocumentKey(a)||(a=a.child(""));const s=new ma(new Kt(a),0);let l=new na(Tn);return this.Yr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),ht.resolve(this.ei(l))}ei(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){hr(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ht.forEach(n.mutations,(i=>{const a=new ma(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new ma(n,0),i=this.Yr.firstAfterOrEqual(r);return ht.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ht.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gve{constructor(e){this.ni=e,this.docs=(function(){return new li(Kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ht.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=Lu();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():is.newInvalidDocument(i))})),ht.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Lu();const s=n.path,l=new Kt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||Hge(Gge(h),r)<=0||(i.has(h.key)||Lb(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return ht.resolve(a)}getAllFromCollectionGroup(e,n,r,i){sn(9500)}ri(e,n){return ht.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vve(this)}getSize(e){return ht.resolve(this.size)}}class vve extends cve{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),ht.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yve{constructor(e){this.persistence=e,this.ii=new _h((n=>$C(n)),zC),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.si=0,this.oi=new XC,this.targetCount=0,this._i=pm.ar()}forEachTarget(e,n){return this.ii.forEach(((r,i)=>n(i))),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ht.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new pm(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ht.resolve()}updateTargetData(e,n){return this.hr(n),ht.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ht.waitFor(a).next((()=>i))}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ht.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ht.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),ht.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ht.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ht.resolve(r)}containsKey(e,n){return ht.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n){this.ai={},this.overlays={},this.ui=new Pb(0),this.ci=!1,this.ci=!0,this.li=new pve,this.referenceDelegate=e(this),this.hi=new yve(this),this.indexManager=new nve,this.remoteDocumentCache=(function(i){return new gve(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new eve(n),this.Ti=new fve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hve,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new mve(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){jt("MemoryPersistence","Starting transaction:",e);const i=new xve(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return ht.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class xve extends Kge{constructor(e){super(),this.currentSequenceNumber=e}}class JC{constructor(e){this.persistence=e,this.Ai=new XC,this.Ri=null}static Vi(e){return new JC(e)}get mi(){if(this.Ri)return this.Ri;throw sn(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ht.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ht.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.mi,(r=>{const i=Kt.fromPath(r);return this.fi(e,i).next((a=>{a||n.removeEntry(i,fn.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ht.or([()=>ht.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class D1{constructor(e,n){this.persistence=e,this.gi=new _h((r=>Jge(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=lve(this,n)}static Vi(e,n){return new D1(e,n)}Ii(){}di(e){return ht.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return ht.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((a=>a?ht.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(s=>this.Sr(e,s,n).next((l=>{l||(r++,a.removeEntry(s,fn.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ht.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ht.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ht.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ht.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nx(e.data.value)),n}Sr(e,n,r){return ht.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ht.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Vn(),i=Vn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new QC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ve{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return ehe()?8:Yge(ls())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ys(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new bve;return this.ws(e,n,s).next((l=>{if(a.result=l,this.Rs)return this.Ss(e,n,s,l.size)}))})).next((()=>a.result))}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(fp()<=Un.DEBUG&&jt("QueryEngine","SDK will not create cache indexes for query:",hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ht.resolve()):(fp()<=Un.DEBUG&&jt("QueryEngine","Query:",hp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(fp()<=Un.DEBUG&&jt("QueryEngine","The SDK decides to create cache indexes for query:",hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oc(n))):ht.resolve())}ps(e,n){if(NL(n))return ht.resolve(null);let r=Oc(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=O1(n,null,"F"),r=Oc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Vn(...a);return this.gs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ds(n,f,s,c.readTime)?this.ps(e,O1(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ys(e,n,r,i){return NL(n)||i.isEqual(fn.min())?ht.resolve(null):this.gs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ds(n,s,r,i)?ht.resolve(null):(fp()<=Un.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.vs(e,s,n,zge(i,X0)).next((l=>l)))}))}bs(e,n){let r=new na(sB(e));return n.forEach(((i,a)=>{Lb(e,a)&&(r=r.add(a))})),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return fp()<=Un.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",hp(n)),this.gs.getDocumentsMatchingQuery(e,n,rf.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="LocalStore",wve=3e8;class Ave{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new li(Tn),this.Ms=new _h((a=>$C(a)),zC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dve(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function Eve(t,e,n,r){return new Ave(t,e,n,r)}async function IB(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=Vn();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Bs:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function Sve(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const m=f.batch,g=m.keys();let y=ht.resolve();return g.forEach((N=>{y=y.next((()=>h.getEntry(c,N))).next((A=>{const E=f.docVersions.get(N);hr(E!==null,48541),A.version.compareTo(E)<0&&(m.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),h.addEntry(A)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Vn();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function RB(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function Nve(t,e){const n=mn(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach(((h,m)=>{const g=i.get(m);if(!g)return;l.push(n.hi.removeMatchingKeys(a,h.removedDocuments,m).next((()=>n.hi.addMatchingKeys(a,h.addedDocuments,m))));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Da.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),(function(A,E,I){return A.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=wve?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(g,y,h)&&l.push(n.hi.updateTargetData(a,y))}));let c=Lu(),f=Vn();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(Tve(a,s,e.documentUpdates).next((h=>{c=h.Ls,f=h.ks}))),!r.isEqual(fn.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next((m=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return ht.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.Fs=i,a)))}function Tve(t,e,n){let r=Vn(),i=Vn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=Lu();return n.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(fn.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):jt(ZC,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Ls:s,ks:i}}))}function Cve(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=VC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ive(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.hi.getTargetData(r,e).next((a=>a?(i=a,ht.resolve(i)):n.hi.allocateTargetId(r).next((s=>(i=new qd(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function BN(t,e,n){const r=mn(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!km(s))throw s;jt(ZC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function UL(t,e,n){const r=mn(t);let i=fn.min(),a=Vn();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const m=mn(c),g=m.Ms.get(h);return g!==void 0?ht.resolve(m.Fs.get(g)):m.hi.getTargetData(f,h)})(r,s,Oc(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:fn.min(),n?a:Vn()))).next((l=>(Rve(r,g0e(e),l),{documents:l,qs:a})))))}function Rve(t,e,n){let r=t.xs.get(e)||fn.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.xs.set(e,r)}class VL{constructor(){this.activeTargetIds=w0e()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ove{constructor(){this.Fo=new VL,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new VL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="ConnectivityMonitor";class BL{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){jt(qL,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){jt(qL,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly=null;function $N(){return Ly===null?Ly=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ly++,"0x"+Ly.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="RestConnection",Pve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jve{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===C1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=$N(),l=this.Go(e,n.toUriEncodedString());jt(ME,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:f}=new URL(l),h=gf(f);return this.jo(e,l,c,r,h).then((m=>(jt(ME,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw nf(ME,`RPC '${e}' ${s} failed with error: `,m,"url: ",l,"request:",r),m}))}Jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Go(e,n){const r=Pve[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dve{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="WebChannelConnection";class Mve extends jve{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const s=$N();return new Promise(((l,c)=>{const f=new kq;f.setWithCredentials(!0),f.listenOnce(Pq.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case tx.NO_ERROR:const m=f.getResponseJson();jt(Za,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case tx.TIMEOUT:jt(Za,`RPC '${e}' ${s} timed out`),c(new Rt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case tx.HTTP_ERROR:const g=f.getStatus();if(jt(Za,`RPC '${e}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const A=(function(I){const O=I.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(O)>=0?O:ut.UNKNOWN})(N.status);c(new Rt(A,N.message))}else c(new Rt(ut.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Rt(ut.UNAVAILABLE,"Connection failed."));break;default:sn(9055,{c_:e,streamId:s,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{jt(Za,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);jt(Za,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}P_(e,n,r){const i=$N(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mq(),l=Dq(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");jt(Za,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);this.T_(m);let g=!1,y=!1;const N=new Dve({Ho:E=>{y?jt(Za,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(jt(Za,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),jt(Za,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},Yo:()=>m.close()}),A=(E,I,O)=>{E.listen(I,(F=>{try{O(F)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(m,Vg.EventType.OPEN,(()=>{y||(jt(Za,`RPC '${e}' stream ${i} transport opened.`),N.s_())})),A(m,Vg.EventType.CLOSE,(()=>{y||(y=!0,jt(Za,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(m))})),A(m,Vg.EventType.ERROR,(E=>{y||(y=!0,nf(Za,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),N.__(new Rt(ut.UNAVAILABLE,"The operation could not be completed")))})),A(m,Vg.EventType.MESSAGE,(E=>{var I;if(!y){const O=E.data[0];hr(!!O,16349);const F=O,U=(F==null?void 0:F.error)||((I=F[0])===null||I===void 0?void 0:I.error);if(U){jt(Za,`RPC '${e}' stream ${i} received error:`,U);const D=U.status;let q=(function($){const G=Ui[$];if(G!==void 0)return vB(G)})(D),P=U.message;q===void 0&&(q=ut.INTERNAL,P="Unknown error status: "+D+" with message "+U.message),y=!0,N.__(new Rt(q,P)),m.close()}else jt(Za,`RPC '${e}' stream ${i} received:`,O),N.a_(O)}})),A(l,jq.STAT_EVENT,(E=>{E.stat===ON.PROXY?jt(Za,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ON.NOPROXY&&jt(Za,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function LE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){return new V0e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&jt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="PersistentStream";class kB{constructor(e,n,r,i,a,s,l,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new OB(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ut.RESOURCE_EXHAUSTED?(Mu(n.toString()),Mu("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===n&&this.W_(r,i)}),(r=>{e((()=>{const i=new Rt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return jt($L,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(jt($L,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lve extends kB{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=$0e(this.serializer,e),r=(function(a){if(!("targetChange"in a))return fn.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?fn.min():s.readTime?kc(s.readTime):fn.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=qN(this.serializer),n.addTarget=(function(a,s){let l;const c=s.target;if(l=MN(c)?{documents:H0e(a,c)}:{query:W0e(a,c).Vt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=bB(a,s.resumeToken);const f=FN(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(fn.min())>0){l.readTime=j1(a,s.snapshotVersion.toTimestamp());const f=FN(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=Y0e(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=qN(this.serializer),n.removeTarget=e,this.k_(n)}}class Fve extends kB{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return hr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){hr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=G0e(e.writeResults,e.commitTime),r=kc(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=qN(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>z0e(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uve{}class Vve extends Uve{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Rt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,UN(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Rt(ut.UNKNOWN,a.toString())}))}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Jo(e,UN(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rt(ut.UNKNOWN,s.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class qve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mu(n),this._a=!1):jt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="RemoteStore";class Bve{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((s=>{r.enqueueAndForget((async()=>{wh(this)&&(jt(fh,"Restarting streams for network reachability change."),await(async function(c){const f=mn(c);f.Ia.add(4),await xv(f),f.Aa.set("Unknown"),f.Ia.delete(4),await $b(f)})(this))}))})),this.Aa=new qve(r,i)}}async function $b(t){if(wh(t))for(const e of t.da)await e(!0)}async function xv(t){for(const e of t.da)await e(!1)}function PB(t,e){const n=mn(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),rI(n)?nI(n):jm(n).x_()&&tI(n,e))}function eI(t,e){const n=mn(t),r=jm(n);n.Ta.delete(e),r.x_()&&jB(n,e),n.Ta.size===0&&(r.x_()?r.B_():wh(n)&&n.Aa.set("Unknown"))}function tI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jm(t).H_(e)}function jB(t,e){t.Ra.$e(e),jm(t).Y_(e)}function nI(t){t.Ra=new M0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),jm(t).start(),t.Aa.aa()}function rI(t){return wh(t)&&!jm(t).M_()&&t.Ta.size>0}function wh(t){return mn(t).Ia.size===0}function DB(t){t.Ra=void 0}async function $ve(t){t.Aa.set("Online")}async function zve(t){t.Ta.forEach(((e,n)=>{tI(t,e)}))}async function Gve(t,e){DB(t),rI(t)?(t.Aa.la(e),nI(t)):t.Aa.set("Unknown")}async function Hve(t,e,n){if(t.Aa.set("Online"),e instanceof xB&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ta.delete(l),i.Ra.removeTarget(l))})(t,e)}catch(r){jt(fh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await M1(t,r)}else if(e instanceof ax?t.Ra.Ye(e):e instanceof yB?t.Ra.it(e):t.Ra.et(e),!n.isEqual(fn.min()))try{const r=await RB(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Ra.Pt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(f);h&&a.Ta.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Da.EMPTY_BYTE_STRING,h.snapshotVersion)),jB(a,c);const m=new qd(h.target,c,f,h.sequenceNumber);tI(a,m)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){jt(fh,"Failed to raise snapshot:",r),await M1(t,r)}}async function M1(t,e,n){if(!km(e))throw e;t.Ia.add(1),await xv(t),t.Aa.set("Offline"),n||(n=()=>RB(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{jt(fh,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await $b(t)}))}function MB(t,e){return e().catch((n=>M1(t,n,e)))}async function zb(t){const e=mn(t),n=lf(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:VC;for(;Wve(e);)try{const i=await Cve(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Kve(e,i)}catch(i){await M1(e,i)}LB(e)&&FB(e)}function Wve(t){return wh(t)&&t.Pa.length<10}function Kve(t,e){t.Pa.push(e);const n=lf(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function LB(t){return wh(t)&&!lf(t).M_()&&t.Pa.length>0}function FB(t){lf(t).start()}async function Yve(t){lf(t).na()}async function Xve(t){const e=lf(t);for(const n of t.Pa)e.X_(n.mutations)}async function Jve(t,e,n){const r=t.Pa.shift(),i=WC.from(r,e,n);await MB(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await zb(t)}async function Qve(t,e){e&&lf(t).Z_&&await(async function(r,i){if((function(s){return j0e(s)&&s!==ut.ABORTED})(i.code)){const a=r.Pa.shift();lf(r).N_(),await MB(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await zb(r)}})(t,e),LB(t)&&FB(t)}async function zL(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),jt(fh,"RemoteStore received new credentials");const r=wh(n);n.Ia.add(3),await xv(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await $b(n)}async function Zve(t,e){const n=mn(t);e?(n.Ia.delete(2),await $b(n)):e||(n.Ia.add(2),await xv(n),n.Aa.set("Unknown"))}function jm(t){return t.Va||(t.Va=(function(n,r,i){const a=mn(n);return a.ia(),new Lve(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:$ve.bind(null,t),e_:zve.bind(null,t),n_:Gve.bind(null,t),J_:Hve.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),rI(t)?nI(t):t.Aa.set("Unknown")):(await t.Va.stop(),DB(t))}))),t.Va}function lf(t){return t.ma||(t.ma=(function(n,r,i){const a=mn(n);return a.ia(),new Fve(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Yve.bind(null,t),n_:Qve.bind(null,t),ea:Xve.bind(null,t),ta:Jve.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await zb(t)):(await t.ma.stop(),t.Pa.length>0&&(jt(fh,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new iI(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aI(t,e){if(Mu("AsyncQueue",`${e}: ${t}`),km(t))return new Rt(ut.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static emptySet(e){return new Mp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Kt.comparator(n.key,r.key):(n,r)=>Kt.comparator(n.key,r.key),this.keyedMap=qg(),this.sortedSet=new li(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.fa=new li(Kt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):sn(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mm{constructor(e,n,r,i,a,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new mm(e,n,Mp.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eye{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class tye{constructor(){this.queries=HL(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=mn(n),a=i.queries;i.queries=HL(),a.forEach(((s,l)=>{for(const c of l.wa)c.onError(r)}))})(this,new Rt(ut.ABORTED,"Firestore shutting down"))}}function HL(){return new _h((t=>aB(t)),Mb)}async function UB(t,e){const n=mn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new eye,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=aI(s,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&sI(n)}async function VB(t,e){const n=mn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nye(t,e){const n=mn(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.wa)l.Ca(i)&&(r=!0);s.ya=i}}r&&sI(n)}function rye(t,e,n){const r=mn(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function sI(t){t.Da.forEach((e=>{e.next()}))}var zN,WL;(WL=zN||(zN={})).Fa="default",WL.Cache="cache";class qB{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==zN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.key=e}}class $B{constructor(e){this.key=e}}class iye{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vn(),this.mutatedKeys=Vn(),this.Xa=sB(e),this.eu=new Mp(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new GL,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const g=i.get(h),y=Lb(this.query,m)?m:null,N=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;g&&y?g.data.isEqual(y.data)?N!==A&&(r.track({type:3,doc:y}),E=!0):this.iu(g,y)||(r.track({type:2,doc:y}),E=!0,(c&&this.Xa(y,c)>0||f&&this.Xa(y,f)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),E=!0):g&&!y&&(r.track({type:1,doc:g}),E=!0,(c||f)&&(l=!0)),E&&(y?(s=s.add(y),a=A?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort(((h,m)=>(function(y,N){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn(20277,{At:E})}};return A(y)-A(N)})(h.type,m.type)||this.Xa(h.doc,m.doc))),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,f=c!==this.Ya;return this.Ya=c,s.length!==0||f?{snapshot:new mm(this.query,e.eu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new GL,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Vn(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new $B(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new BB(r))})),n}uu(e){this.Ha=e.qs,this.Za=Vn();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return mm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const oI="SyncEngine";class aye{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sye{constructor(e){this.key=e,this.lu=!1}}class oye{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new _h((l=>aB(l)),Mb),this.Tu=new Map,this.Iu=new Set,this.du=new li(Kt.comparator),this.Eu=new Map,this.Au=new XC,this.Ru={},this.Vu=new Map,this.mu=pm.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lye(t,e,n=!0){const r=YB(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await zB(r,e,n,!0),i}async function cye(t,e){const n=YB(t);await zB(n,e,!0,!1)}async function zB(t,e,n,r){const i=await Ive(t.localStore,Oc(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await uye(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&PB(t.remoteStore,i),l}async function uye(t,e,n,r,i){t.gu=(m,g,y)=>(async function(A,E,I,O){let F=E.view.nu(I);F.Ds&&(F=await UL(A.localStore,E.query,!1).then((({documents:P})=>E.view.nu(P,F))));const U=O&&O.targetChanges.get(E.targetId),D=O&&O.targetMismatches.get(E.targetId)!=null,q=E.view.applyChanges(F,A.isPrimaryClient,U,D);return YL(A,E.targetId,q._u),q.snapshot})(t,m,g,y);const a=await UL(t.localStore,e,!0),s=new iye(e,a.qs),l=s.nu(a.documents),c=yv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);YL(t,n,f._u);const h=new aye(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function dye(t,e,n){const r=mn(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter((s=>!Mb(s,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await BN(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eI(r.remoteStore,i.targetId),GN(r,i.targetId)})).catch(Om)):(GN(r,i.targetId),await BN(r.localStore,i.targetId,!0))}async function fye(t,e){const n=mn(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eI(n.remoteStore,r.targetId))}async function hye(t,e,n){const r=bye(t);try{const i=await(function(s,l){const c=mn(s),f=Kr.now(),h=l.reduce(((y,N)=>y.add(N.key)),Vn());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let N=Lu(),A=Vn();return c.Os.getEntries(y,h).next((E=>{N=E,N.forEach(((I,O)=>{O.isValidDocument()||(A=A.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,N))).next((E=>{m=E;const I=[];for(const O of l){const F=I0e(O,m.get(O.key).overlayedDocument);F!=null&&I.push(new xf(O.key,F,Jq(F.value.mapValue),Es.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,I,l)})).next((E=>{g=E;const I=E.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(y,E.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:lB(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.Ru[s.currentUser.toKey()];f||(f=new li(Tn)),f=f.insert(l,c),s.Ru[s.currentUser.toKey()]=f})(r,i.batchId,n),await bv(r,i.changes),await zb(r.remoteStore)}catch(i){const a=aI(i,"Failed to persist write");n.reject(a)}}async function GB(t,e){const n=mn(t);try{const r=await Nve(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Eu.get(a);s&&(hr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?hr(s.lu,14607):i.removedDocuments.size>0&&(hr(s.lu,42227),s.lu=!1))})),await bv(n,r,e)}catch(r){await Om(r)}}function KL(t,e,n){const r=mn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=mn(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,m)=>{for(const g of m.wa)g.va(l)&&(f=!0)})),f&&sI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pye(t,e,n){const r=mn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new li(Kt.comparator);s=s.insert(a,is.newNoDocument(a,fn.min()));const l=Vn().add(a),c=new qb(fn.min(),new Map,new li(Tn),s,l);await GB(r,c),r.du=r.du.remove(a),r.Eu.delete(e),lI(r)}else await BN(r.localStore,e,!1).then((()=>GN(r,e,n))).catch(Om)}async function mye(t,e){const n=mn(t),r=e.batch.batchId;try{const i=await Sve(n.localStore,e);WB(n,r,null),HB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bv(n,i)}catch(i){await Om(i)}}async function gye(t,e,n){const r=mn(t);try{const i=await(function(s,l){const c=mn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((m=>(hr(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);WB(r,e,n),HB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bv(r,i)}catch(i){await Om(i)}}function HB(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function WB(t,e,n){const r=mn(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function GN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||KB(t,r)}))}function KB(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(eI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),lI(t))}function YL(t,e,n){for(const r of n)r instanceof BB?(t.Au.addReference(r.key,e),vye(t,r)):r instanceof $B?(jt(oI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||KB(t,r.key)):sn(19791,{yu:r})}function vye(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(jt(oI,"New document in limbo: "+n),t.Iu.add(r),lI(t))}function lI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Kt(Vr.fromString(e)),r=t.mu.next();t.Eu.set(r,new sye(n)),t.du=t.du.insert(n,r),PB(t.remoteStore,new qd(Oc(GC(n.path)),r,"TargetPurposeLimboResolution",Pb.ue))}}async function bv(t,e,n){const r=mn(t),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach(((l,c)=>{s.push(r.gu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=QC.Es(c.targetId,f);a.push(m)}})))})),await Promise.all(s),r.hu.J_(i),await(async function(c,f){const h=mn(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ht.forEach(f,(g=>ht.forEach(g.Is,(y=>h.persistence.referenceDelegate.addReference(m,g.targetId,y))).next((()=>ht.forEach(g.ds,(y=>h.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))))))}catch(m){if(!km(m))throw m;jt(ZC,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const y=h.Fs.get(g),N=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(N);h.Fs=h.Fs.insert(g,A)}}})(r.localStore,a))}async function yye(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){jt(oI,"User change. New user:",e.toKey());const r=await IB(n.localStore,e);n.currentUser=e,(function(a,s){a.Vu.forEach((l=>{l.forEach((c=>{c.reject(new Rt(ut.CANCELLED,s))}))})),a.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bv(n,r.Bs)}}function xye(t,e){const n=mn(t),r=n.Eu.get(e);if(r&&r.lu)return Vn().add(r.key);{let i=Vn();const a=n.Tu.get(e);if(!a)return i;for(const s of a){const l=n.Pu.get(s);i=i.unionWith(l.view.tu)}return i}}function YB(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pye.bind(null,e),e.hu.J_=nye.bind(null,e.eventManager),e.hu.pu=rye.bind(null,e.eventManager),e}function bye(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mye.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gye.bind(null,e),e}class L1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Eve(this.persistence,new _ve,e.initialUser,this.serializer)}Du(e){return new CB(JC.Vi,this.serializer)}bu(e){return new Ove}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}L1.provider={build:()=>new L1};class _ye extends L1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){hr(this.persistence.referenceDelegate instanceof D1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sve(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bs.withCacheSize(this.cacheSizeBytes):Bs.DEFAULT;return new CB((r=>D1.Vi(r,n)),this.serializer)}}class HN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yye.bind(null,this.syncEngine),await Zve(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tye})()}createDatastore(e){const n=Bb(e.databaseInfo.databaseId),r=(function(a){return new Mve(a)})(e.databaseInfo);return(function(a,s,l,c){return new Vve(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new Bve(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>KL(this.syncEngine,n,0)),(function(){return BL.C()?new BL:new kve})())}createSyncEngine(e,n){return(function(i,a,s,l,c,f,h){const m=new oye(i,a,s,l,c,f);return h&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=mn(i);jt(fh,"RemoteStore shutting down."),a.Ia.add(5),await xv(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}HN.provider={build:()=>new HN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mu("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="FirestoreClient";class wye{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=UC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{jt(cf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(jt(cf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function FE(t,e){t.asyncQueue.verifyOperationInProgress(),jt(cf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await IB(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{nf("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{jt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{nf("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function XL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Aye(t);jt(cf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>zL(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>zL(e.remoteStore,i))),t._onlineComponents=e}async function Aye(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){jt(cf,"Using user provided OfflineComponentProvider");try{await FE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ut.FAILED_PRECONDITION||i.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;nf("Error using user provided cache. Falling back to memory cache: "+n),await FE(t,new L1)}}else jt(cf,"Using default OfflineComponentProvider"),await FE(t,new _ye(void 0));return t._offlineComponents}async function JB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(jt(cf,"Using user provided OnlineComponentProvider"),await XL(t,t._uninitializedComponentsProvider._online)):(jt(cf,"Using default OnlineComponentProvider"),await XL(t,new HN))),t._onlineComponents}function Eye(t){return JB(t).then((e=>e.syncEngine))}async function WN(t){const e=await JB(t),n=e.eventManager;return n.onListen=lye.bind(null,e.syncEngine),n.onUnlisten=dye.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cye.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fye.bind(null,e.syncEngine),n}function Sye(t,e,n={}){const r=new Xd;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,f){const h=new XB({next:g=>{h.Ou(),s.enqueueAndForget((()=>VB(a,m))),g.fromCache&&c.source==="server"?f.reject(new Rt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new qB(l,h,{includeMetadataChanges:!0,ka:!0});return UB(a,m)})(await WN(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="firestore.googleapis.com",QL=!0;class ZL{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZB,this.ssl=QL}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ive)throw new Rt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Rt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Rt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Rt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pge;switch(r.type){case"firstParty":return new Lge(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=JL.get(n);r&&(jt("ComponentProvider","Removing Datastore"),JL.delete(n),r.terminate())})(this),Promise.resolve()}}function Nye(t,e,n,r={}){var i;t=xo(t,Gb);const a=gf(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(EC(`https://${c}`),SC("Firestore",!0)),s.host!==ZB&&s.host!==c&&nf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!lh(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=ts.MOCK_USER;else{h=HV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Rt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ts(g)}t._authCredentials=new jge(new Fq(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $u(this.firestore,e,this._query)}}class Ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}toJSON(){return{type:Ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gv(n,Ti._jsonSchema))return new Ti(e,r||null,new Kt(Vr.fromString(n.referencePath)))}}Ti._jsonSchemaVersion="firestore/documentReference/1.0",Ti._jsonSchema={type:Bi("string",Ti._jsonSchemaVersion),referencePath:Bi("string")};class Jd extends $u{constructor(e,n,r){super(e,n,GC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new Kt(e))}withConverter(e){return new Jd(this.firestore,e,this._path)}}function rr(t,e,...n){if(t=Xr(t),Vq("collection","path",e),t instanceof Gb){const r=Vr.fromString(e,...n);return fL(r),new Jd(t,null,r)}{if(!(t instanceof Ti||t instanceof Jd))throw new Rt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return fL(r),new Jd(t.firestore,null,r)}}function Nn(t,e,...n){if(t=Xr(t),arguments.length===1&&(e=UC.newId()),Vq("doc","path",e),t instanceof Gb){const r=Vr.fromString(e,...n);return dL(r),new Ti(t,null,new Kt(r))}{if(!(t instanceof Ti||t instanceof Jd))throw new Rt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return dL(r),new Ti(t.firestore,t instanceof Jd?t.converter:null,new Kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="AsyncQueue";class t8{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new OB(this,"async_queue_retry"),this.oc=()=>{const r=LE();r&&jt(e8,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=LE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=LE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Xd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!km(e))throw e;jt(e8,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Mu("INTERNAL UNHANDLED ERROR: ",n8(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=iI.createAndSchedule(this,e,n,r,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&sn(47125,{hc:n8(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function n8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Fu extends Gb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new t8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t8(e),this._firestoreClient=void 0,await e}}}function Tye(t,e){const n=typeof t=="object"?t:CC(),r=typeof t=="string"?t:C1,i=Tb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=$V("firestore");a&&Nye(i,...a)}return i}function Hb(t){if(t._terminated)throw new Rt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cye(t),t._firestoreClient}function Cye(t){var e,n,r;const i=t._freezeSettings(),a=(function(l,c,f,h){return new e0e(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QB(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wye(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Da.fromBase64String(e))}catch(n){throw new Rt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo(Da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gv(e,zo._jsonSchema))return zo.fromBase64String(e.bytes)}}zo._jsonSchemaVersion="firestore/bytes/1.0",zo._jsonSchema={type:Bi("string",zo._jsonSchemaVersion),bytes:Bi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Rt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ka(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tn(this._lat,e._lat)||Tn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pc._jsonSchemaVersion}}static fromJSON(e){if(gv(e,Pc._jsonSchema))return new Pc(e.latitude,e.longitude)}}Pc._jsonSchemaVersion="firestore/geoPoint/1.0",Pc._jsonSchema={type:Bi("string",Pc._jsonSchemaVersion),latitude:Bi("number"),longitude:Bi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gv(e,jc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new jc(e.vectorValues);throw new Rt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jc._jsonSchemaVersion="firestore/vectorValue/1.0",jc._jsonSchema={type:Bi("string",jc._jsonSchemaVersion),vectorValues:Bi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye=/^__.*__$/;class Rye{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xf(e,this.data,this.fieldMask,n,this.fieldTransforms):new vv(e,this.data,n,this.fieldTransforms)}}class e${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function t$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn(40011,{Ec:t})}}class uI{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new uI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return F1(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(t$(this.Ec)&&Iye.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Oye{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bb(e)}Dc(e,n,r,i=!1){return new uI({Ec:e,methodName:n,bc:r,path:ka.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wv(t){const e=t._freezeSettings(),n=Bb(t._databaseId);return new Oye(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dI(t,e,n,r,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);fI("Data must be an object, but it was:",s,r);const l=i$(r,s);let c,f;if(a.merge)c=new vo(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const g=KN(e,m,n);if(!s.contains(g))throw new Rt(ut.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);s$(h,g)||h.push(g)}c=new vo(h),f=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=s.fieldTransforms;return new Rye(new $s(l),c,f)}class Wb extends cI{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wb}}function n$(t,e,n,r){const i=t.Dc(1,e,n);fI("Data must be an object, but it was:",i,r);const a=[],s=$s.empty();yf(r,((c,f)=>{const h=hI(e,c,n);f=Xr(f);const m=i.gc(h);if(f instanceof Wb)a.push(h);else{const g=Av(f,m);g!=null&&(a.push(h),s.set(h,g))}}));const l=new vo(a);return new e$(s,l,i.fieldTransforms)}function r$(t,e,n,r,i,a){const s=t.Dc(1,e,n),l=[KN(e,r,n)],c=[i];if(a.length%2!=0)throw new Rt(ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(KN(e,a[g])),c.push(a[g+1]);const f=[],h=$s.empty();for(let g=l.length-1;g>=0;--g)if(!s$(f,l[g])){const y=l[g];let N=c[g];N=Xr(N);const A=s.gc(y);if(N instanceof Wb)f.push(y);else{const E=Av(N,A);E!=null&&(f.push(y),h.set(y,E))}}const m=new vo(f);return new e$(h,m,s.fieldTransforms)}function kye(t,e,n,r=!1){return Av(n,t.Dc(r?4:3,e))}function Av(t,e){if(a$(t=Xr(t)))return fI("Unsupported field value:",e,t),i$(t,e);if(t instanceof cI)return(function(r,i){if(!t$(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=Av(l,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Xr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A0e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Kr.fromDate(r);return{timestampValue:j1(i.serializer,a)}}if(r instanceof Kr){const a=new Kr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:j1(i.serializer,a)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:bB(i.serializer,r._byteString)};if(r instanceof Ti){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:YC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jc)return(function(s,l){return{mapValue:{fields:{[Yq]:{stringValue:Xq},[I1]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw l.wc("VectorValues must only contain numeric values.");return HC(l.serializer,f)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${kb(r)}`)})(t,e)}function i$(t,e){const n={};return $q(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yf(t,((r,i)=>{const a=Av(i,e.Vc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function a$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof Pc||t instanceof zo||t instanceof Ti||t instanceof cI||t instanceof jc)}function fI(t,e,n){if(!a$(n)||!qq(n)){const r=kb(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function KN(t,e,n){if((e=Xr(e))instanceof _v)return e._internalPath;if(typeof e=="string")return hI(t,e);throw F1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pye=new RegExp("[~\\*/\\[\\]]");function hI(t,e,n){if(e.search(Pye)>=0)throw F1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _v(...e.split("."))._internalPath}catch{throw F1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function F1(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Rt(ut.INVALID_ARGUMENT,l+t+c)}function s$(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jye extends o${data(){return super.data()}}function pI(t,e){return typeof e=="string"?hI(t,e):e instanceof _v?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Rt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mI{}class gI extends mI{}function c$(t,e,...n){let r=[];e instanceof mI&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof yI)).length,l=a.filter((c=>c instanceof vI)).length;if(s>1||s>0&&l>0)throw new Rt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class vI extends gI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vI(e,n,r)}_apply(e){const n=this._parse(e);return d$(e._query,n),new $u(e.firestore,e.converter,LN(e._query,n))}_parse(e){const n=wv(e.firestore);return(function(a,s,l,c,f,h,m){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Rt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){a8(m,h);const N=[];for(const A of m)N.push(i8(c,a,A));g={arrayValue:{values:N}}}else g=i8(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||a8(m,h),g=kye(l,s,m,h==="in"||h==="not-in");return qi.create(f,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class yI extends mI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:jl.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)d$(s,c),s=LN(s,c)})(e._query,n),new $u(e.firestore,e.converter,LN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xI extends gI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xI(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new Rt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Rt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ev(a,s)})(e._query,this._field,this._direction);return new $u(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new Pm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Dye(t,e="asc"){const n=e,r=pI("orderBy",t);return xI._create(r,n)}class bI extends gI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new bI(e,n,r)}_apply(e){return new $u(e.firestore,e.converter,O1(e._query,this._limit,this._limitType))}}function u$(t){return $ge("limit",t),bI._create("limit",t,"F")}function i8(t,e,n){if(typeof(n=Xr(n))=="string"){if(n==="")throw new Rt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iB(e)&&n.indexOf("/")!==-1)throw new Rt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vr.fromString(n));if(!Kt.isDocumentKey(r))throw new Rt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bL(t,new Kt(r))}if(n instanceof Ti)return bL(t,n._key);throw new Rt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kb(n)}.`)}function a8(t,e){if(!Array.isArray(t)||t.length===0)throw new Rt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d$(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Rt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Rt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Mye{convertValue(e,n="none"){switch(of(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw sn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[I1].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((s=>Ai(s.doubleValue)));return new jc(a)}convertGeoPoint(e){return new Pc(Ai(e.latitude),Ai(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Db(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(J0(e));default:return null}}convertTimestamp(e){const n=af(e);return new Kr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vr.fromString(e);hr(NB(r),9688,{name:e});const i=new Q0(r.get(1),r.get(3)),a=new Kt(r.popFirst(5));return i.isEqual(n)||Mu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $g{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eh extends o${constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eh._jsonSchemaVersion="firestore/documentSnapshot/1.0",eh._jsonSchema={type:Bi("string",eh._jsonSchemaVersion),bundleSource:Bi("string","DocumentSnapshot"),bundleName:Bi("string"),bundle:Bi("string")};class sx extends eh{data(e={}){return super.data(e)}}class th{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $g(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sx(this._firestore,this._userDataWriter,r.key,r,new $g(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new sx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $g(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new sx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $g(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:Lye(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=th._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=UC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lye(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn(61501,{type:t})}}th._jsonSchemaVersion="firestore/querySnapshot/1.0",th._jsonSchema={type:Bi("string",th._jsonSchemaVersion),bundleSource:Bi("string","QuerySnapshot"),bundleName:Bi("string"),bundle:Bi("string")};class wI extends Mye{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,n)}}function wi(t){t=xo(t,$u);const e=xo(t.firestore,Fu),n=Hb(e),r=new wI(e);return l$(t._query),Sye(n,t._query).then((i=>new th(e,r,t,i)))}function qo(t,e,n){t=xo(t,Ti);const r=xo(t.firestore,Fu),i=_I(t.converter,e,n);return Ev(r,[dI(wv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Es.none())])}function xs(t,e,n,...r){t=xo(t,Ti);const i=xo(t.firestore,Fu),a=wv(i);let s;return s=typeof(e=Xr(e))=="string"||e instanceof _v?r$(a,"updateDoc",t._key,e,n,r):n$(a,"updateDoc",t._key,e),Ev(i,[s.toMutation(t._key,Es.exists(!0))])}function Fye(t){return Ev(xo(t.firestore,Fu),[new Vb(t._key,Es.none())])}function YN(t,e){const n=xo(t.firestore,Fu),r=Nn(t),i=_I(t.converter,e);return Ev(n,[dI(wv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Es.exists(!1))]).then((()=>r))}function Cd(t,...e){var n,r,i;t=Xr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||r8(e[s])||(a=e[s++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(r8(e[s])){const m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,f,h;if(t instanceof Ti)f=xo(t.firestore,Fu),h=GC(t._key.path),c={next:m=>{e[s]&&e[s](Uye(f,t,m))},error:e[s+1],complete:e[s+2]};else{const m=xo(t,$u);f=xo(m.firestore,Fu),h=m._query;const g=new wI(f);c={next:y=>{e[s]&&e[s](new th(f,g,m,y))},error:e[s+1],complete:e[s+2]},l$(t._query)}return(function(g,y,N,A){const E=new XB(A),I=new qB(y,E,N);return g.asyncQueue.enqueueAndForget((async()=>UB(await WN(g),I))),()=>{E.Ou(),g.asyncQueue.enqueueAndForget((async()=>VB(await WN(g),I)))}})(Hb(f),h,l,c)}function Ev(t,e){return(function(r,i){const a=new Xd;return r.asyncQueue.enqueueAndForget((async()=>hye(await Eye(r),i,a))),a.promise})(Hb(t),e)}function Uye(t,e,n){const r=n.docs.get(e._key),i=new wI(t);return new eh(t,i,e._key,r,new $g(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vye{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wv(e)}set(e,n,r){this._verifyNotCommitted();const i=UE(e,this._firestore),a=_I(i.converter,n,r),s=dI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Es.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=UE(e,this._firestore);let s;return s=typeof(n=Xr(n))=="string"||n instanceof _v?r$(this._dataReader,"WriteBatch.update",a._key,n,r,i):n$(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Es.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=UE(e,this._firestore);return this._mutations=this._mutations.concat(new Vb(n._key,Es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function UE(t,e){if((t=Xr(t)).firestore!==e)throw new Rt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){return Hb(t=xo(t,Fu)),new Vye(t,(e=>Ev(t,e)))}(function(e,n=!0){(function(i){Rm=i})(xh),ch(new tf("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Fu(new Dge(r.getProvider("auth-internal")),new Fge(s,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Rt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q0(f.options.projectId,h)})(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Cc(sL,oL,e),Cc(sL,oL,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="firebasestorage.googleapis.com",h$="storageBucket",qye=120*1e3,Bye=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Bc{constructor(e,n,r=0){super(VE(e),`Firebase Storage: ${n} (${VE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return VE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vi||(vi={}));function VE(t){return"storage/"+t}function AI(){const t="An unknown error occurred, please check the error payload for server response.";return new yi(vi.UNKNOWN,t)}function $ye(t){return new yi(vi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zye(t){return new yi(vi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gye(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yi(vi.UNAUTHENTICATED,t)}function Hye(){return new yi(vi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Wye(t){return new yi(vi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Kye(){return new yi(vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yye(){return new yi(vi.CANCELED,"User canceled the upload/download.")}function Xye(t){return new yi(vi.INVALID_URL,"Invalid URL '"+t+"'.")}function Jye(t){return new yi(vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Qye(){return new yi(vi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+h$+"' property when initializing the app?")}function Zye(){return new yi(vi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function exe(){return new yi(vi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function txe(t){return new yi(vi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function XN(t){return new yi(vi.INVALID_ARGUMENT,t)}function p$(){return new yi(vi.APP_DELETED,"The Firebase app was deleted.")}function nxe(t){return new yi(vi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function a0(t,e){return new yi(vi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ig(t){throw new yi(vi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yo.makeFromUrl(e,n)}catch{return new yo(e,"")}if(r.path==="")return r;throw Jye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(U){U.path_=decodeURIComponent(U.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${g}`,"i"),N={bucket:1,path:3},A=n===f$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp(`^https?://${A}/${i}/${E}`,"i"),F=[{regex:l,indices:c,postModify:a},{regex:y,indices:N,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let U=0;U<F.length;U++){const D=F[U],q=D.regex.exec(e);if(q){const P=q[D.indices.bucket];let j=q[D.indices.path];j||(j=""),r=new yo(P,j),D.postModify(r);break}}if(r==null)throw Xye(e);return r}}class rxe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ixe(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let f=!1;function h(...E){f||(f=!0,e.apply(null,E))}function m(E){i=setTimeout(()=>{i=null,t(y,c())},E)}function g(){a&&clearTimeout(a)}function y(E,...I){if(f){g();return}if(E){g(),h.call(null,E,...I);return}if(c()||s){g(),h.call(null,E,...I);return}r<64&&(r*=2);let F;l===1?(l=2,F=0):F=(r+Math.random())*1e3,m(F)}let N=!1;function A(E){N||(N=!0,g(),!f&&(i!==null?(E||(l=2),clearTimeout(i),m(0)):E||(l=1)))}return m(0),a=setTimeout(()=>{s=!0,A(!0)},n),A}function axe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sxe(t){return t!==void 0}function oxe(t){return typeof t=="object"&&!Array.isArray(t)}function EI(t){return typeof t=="string"||t instanceof String}function s8(t){return SI()&&t instanceof Blob}function SI(){return typeof Blob<"u"}function o8(t,e,n,r){if(r<e)throw XN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw XN(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function m$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nh||(nh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lxe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxe{constructor(e,n,r,i,a,s,l,c,f,h,m,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,A)=>{this.resolve_=N,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Fy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===nh.NO_ERROR,c=a.getStatus();if(!l||lxe(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===nh.ABORT;r(!1,new Fy(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Fy(f,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());sxe(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=AI();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?p$():Yye();s(c)}else{const c=Kye();s(c)}};this.canceled_?n(!1,new Fy(!1,null,!0)):this.backoffId_=ixe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&axe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uxe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dxe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fxe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hxe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pxe(t,e,n,r,i,a,s=!0,l=!1){const c=m$(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return fxe(h,e),uxe(h,n),dxe(h,a),hxe(h,r),new cxe(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mxe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gxe(...t){const e=mxe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(SI())return new Blob(t);throw new yi(vi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vxe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yxe(t){if(typeof atob>"u")throw txe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qE{constructor(e,n){this.data=e,this.contentType=n||null}}function xxe(t,e){switch(t){case Ac.RAW:return new qE(g$(e));case Ac.BASE64:case Ac.BASE64URL:return new qE(v$(t,e));case Ac.DATA_URL:return new qE(_xe(e),wxe(e))}throw AI()}function g$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bxe(t){let e;try{e=decodeURIComponent(t)}catch{throw a0(Ac.DATA_URL,"Malformed data URL.")}return g$(e)}function v$(t,e){switch(t){case Ac.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw a0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ac.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw a0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yxe(e)}catch(i){throw i.message.includes("polyfill")?i:a0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class y${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw a0(Ac.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Axe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _xe(t){const e=new y$(t);return e.base64?v$(Ac.BASE64,e.rest):bxe(e.rest)}function wxe(t){return new y$(t).contentType}function Axe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){let r=0,i="";s8(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(s8(this.data_)){const r=this.data_,i=vxe(r,e,n);return i===null?null:new Ld(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ld(r,!0)}}static getBlob(...e){if(SI()){const n=e.map(r=>r instanceof Ld?r.data_:r);return new Ld(gxe.apply(null,n))}else{const n=e.map(s=>EI(s)?xxe(Ac.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Ld(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){let e;try{e=JSON.parse(t)}catch{return null}return oxe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Exe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sxe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function b$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nxe(t,e){return e}class bs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Nxe}}let Uy=null;function Txe(t){return!EI(t)||t.length<2?t:b$(t)}function _$(){if(Uy)return Uy;const t=[];t.push(new bs("bucket")),t.push(new bs("generation")),t.push(new bs("metageneration")),t.push(new bs("name","fullPath",!0));function e(a,s){return Txe(s)}const n=new bs("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new bs("size");return i.xform=r,t.push(i),t.push(new bs("timeCreated")),t.push(new bs("updated")),t.push(new bs("md5Hash",null,!0)),t.push(new bs("cacheControl",null,!0)),t.push(new bs("contentDisposition",null,!0)),t.push(new bs("contentEncoding",null,!0)),t.push(new bs("contentLanguage",null,!0)),t.push(new bs("contentType",null,!0)),t.push(new bs("metadata","customMetadata",!0)),Uy=t,Uy}function Cxe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new yo(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Ixe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return Cxe(r,t),r}function w$(t,e,n){const r=x$(e);return r===null?null:Ixe(t,r,n)}function Rxe(t,e,n,r){const i=x$(e);if(i===null||!EI(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,m=t.fullPath,g="/b/"+s(h)+"/o/"+s(m),y=NI(g,n,r),N=m$({alt:"media",token:f});return y+N})[0]}function Oxe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class A${constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){if(!t)throw AI()}function kxe(t,e){function n(r,i){const a=w$(t,i,e);return E$(a!==null),a}return n}function Pxe(t,e){function n(r,i){const a=w$(t,i,e);return E$(a!==null),Rxe(a,i,t.host,t._protocol)}return n}function S$(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Hye():i=Gye():n.getStatus()===402?i=zye(t.bucket):n.getStatus()===403?i=Wye(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function jxe(t){const e=S$(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=$ye(t.path)),a.serverResponse=i.serverResponse,a}return n}function Dxe(t,e,n){const r=e.fullServerUrl(),i=NI(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new A$(i,a,Pxe(t,n),s);return l.errorHandler=jxe(e),l}function Mxe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lxe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Mxe(null,e)),r}function Fxe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let F="";for(let U=0;U<2;U++)F=F+Math.random().toString().slice(2);return F}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const f=Lxe(e,r,i),h=Oxe(f,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=Ld.getBlob(m,r,g);if(y===null)throw Zye();const N={name:f.fullPath},A=NI(a,t.host,t._protocol),E="POST",I=t.maxUploadRetryTime,O=new A$(A,E,kxe(t,n),I);return O.urlParams=N,O.headers=s,O.body=y.uploadData(),O.errorHandler=S$(e),O}class Uxe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Ig("cannot .send() more than once");if(gf(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ig("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ig("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ig("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Vxe extends Uxe{initXhr(){this.xhr_.responseType="text"}}function N$(){return new Vxe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this._service=e,n instanceof yo?this._location=n:this._location=yo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hh(e,n)}get root(){const e=new yo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b$(this._location.path)}get storage(){return this._service}get parent(){const e=Exe(this._location.path);if(e===null)return null;const n=new yo(this._location.bucket,e);return new hh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nxe(e)}}function qxe(t,e,n){t._throwIfRoot("uploadBytes");const r=Fxe(t.storage,t._location,_$(),new Ld(e,!0),n);return t.storage.makeRequestWithTokens(r,N$).then(i=>({metadata:i,ref:t}))}function Bxe(t){t._throwIfRoot("getDownloadURL");const e=Dxe(t.storage,t._location,_$());return t.storage.makeRequestWithTokens(e,N$).then(n=>{if(n===null)throw exe();return n})}function $xe(t,e){const n=Sxe(t._location.path,e),r=new yo(t._location.bucket,n);return new hh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zxe(t){return/^[A-Za-z]+:\/\//.test(t)}function Gxe(t,e){return new hh(t,e)}function T$(t,e){if(t instanceof TI){const n=t;if(n._bucket==null)throw Qye();const r=new hh(n,n._bucket);return e!=null?T$(r,e):r}else return e!==void 0?$xe(t,e):t}function Hxe(t,e){if(e&&zxe(e)){if(t instanceof TI)return Gxe(t,e);throw XN("To use ref(service, url), the first argument must be a Storage instance.")}else return T$(t,e)}function l8(t,e){const n=e==null?void 0:e[h$];return n==null?null:yo.makeFromBucketSpec(n,t)}function Wxe(t,e,n,r={}){t.host=`${e}:${n}`;const i=gf(e);i&&(EC(`https://${t.host}/b`),SC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:HV(a,t.app.options.projectId))}class TI{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=f$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qye,this._maxUploadRetryTime=Bye,this._requests=new Set,i!=null?this._bucket=yo.makeFromBucketSpec(i,this._host):this._bucket=l8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yo.makeFromBucketSpec(this._url,e):this._bucket=l8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o8("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o8("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new rxe(p$());{const s=pxe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const c8="@firebase/storage",u8="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="storage";function Kxe(t,e,n){return t=Xr(t),qxe(t,e,n)}function Yxe(t){return t=Xr(t),Bxe(t)}function Xxe(t,e){return t=Xr(t),Hxe(t,e)}function Jxe(t=CC(),e){t=Xr(t);const r=Tb(t,C$).getImmediate({identifier:e}),i=$V("storage");return i&&Qxe(r,...i),r}function Qxe(t,e,n,r={}){Wxe(t,e,n,r)}function Zxe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new TI(n,r,i,e,xh)}function e1e(){ch(new tf(C$,Zxe,"PUBLIC").setMultipleInstances(!0)),Cc(c8,u8,""),Cc(c8,u8,"esm2017")}e1e();const Vy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AI_API_KEY:"AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI",VITE_CEREBRAS_API_KEY:"",VITE_EVOLUTION_API_KEY:"",VITE_EVOLUTION_API_URL:"",VITE_EVOLUTION_INSTANCE:"",VITE_FIREBASE_API_KEY:"AIzaSyD5cALBG9ZCoptVK2A8_mCYsVSOE6y6vV4",VITE_FIREBASE_APP_ID:"1:389741054647:web:9f2873c8392c01c9135b32",VITE_FIREBASE_AUTH_DOMAIN:"gestfri.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"389741054647",VITE_FIREBASE_PROJECT_ID:"gestfri",VITE_FIREBASE_STORAGE_BUCKET:"gestfri.firebasestorage.app",VITE_GROQ_API_KEY:"",VITE_OFFLINE_MODE:"false",VITE_SHEETS_WEBAPP_URL:"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"};var d8={};const cp=t=>{if(typeof process<"u"&&d8[t])return d8[t];if(typeof import.meta<"u"&&(Vy!=null&&Vy[t]))return Vy[t]},JN={apiKey:cp("VITE_FIREBASE_API_KEY"),authDomain:cp("VITE_FIREBASE_AUTH_DOMAIN"),projectId:cp("VITE_FIREBASE_PROJECT_ID"),storageBucket:cp("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:cp("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:cp("VITE_FIREBASE_APP_ID")},I$=JN.apiKey&&JN.projectId;I$||console.warn(" Firebase configuration not found. Please set environment variables.");const gm=I$?YV(JN):null,Bd=gm?Oge(gm):null,xt=gm?Tye(gm):null,f8=gm?Jxe(gm):null,t1e=({onLoginSuccess:t})=>{const[e,n]=xe.useState(""),[r,i]=xe.useState(""),[a,s]=xe.useState(!1),[l,c]=xe.useState(!1),[f,h]=xe.useState(null),[m,g]=xe.useState(!1);xe.useEffect(()=>{const A=localStorage.getItem("fg_saved_email"),E=localStorage.getItem("fg_saved_password");A&&(n(A),s(!0),E&&i(E)),window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(I=>g(I))},[]),xe.useEffect(()=>{f&&h(null)},[e,r]);const y=async A=>{var E;A.preventDefault(),c(!0),h(null);try{if(!Bd)throw new Error("FIREBASE_CORE_OFFLINE");await YM(Bd,e.trim(),r),a?(localStorage.setItem("fg_saved_email",e),localStorage.setItem("fg_saved_password",r)):(localStorage.removeItem("fg_saved_email"),localStorage.removeItem("fg_saved_password")),t()}catch(I){console.error(I),h((E=I.code)!=null&&E.includes("auth/")?"CREDENCIAIS INVLIDAS":"ERRO DE PROTOCOLO DE REDE")}finally{c(!1)}},N=async()=>{c(!0),h(null);try{const A=localStorage.getItem("fg_saved_email"),E=localStorage.getItem("fg_saved_password");if(!A||!E){h("Faa login normal primeiro para habilitar biometria"),c(!1);return}const I={challenge:new Uint8Array(32),rpId:window.location.hostname,timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:I}),!Bd)throw new Error("FIREBASE_CORE_OFFLINE");await YM(Bd,A,E),t()}catch(A){console.error(A),h("Autenticao biomtrica falhou. Use login normal.")}finally{c(!1)}};return u.jsxs("div",{className:"min-h-screen bg-[#fcfdff] technical-grid flex items-center justify-center p-6 relative overflow-hidden font-sans",children:[u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-100 rounded-full blur-[120px] opacity-40 animate-pulse"}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-100 rounded-full blur-[120px] opacity-40 animate-pulse",style:{animationDelay:"1s"}}),u.jsx("div",{className:"bg-white/80 backdrop-blur-xl border border-white rounded-[48px] w-full max-w-lg shadow-[0_32px_64px_-16px_rgba(37,99,235,0.1)] relative overflow-hidden animate-reveal p-1",children:u.jsxs("div",{className:"p-10 md:p-14",children:[u.jsxs("div",{className:"mb-12 text-center md:text-left",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-600 rounded-full mb-6",children:[u.jsx(Lc,{size:14}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Acesso Restrito"})]}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight text-slate-900 leading-none",children:["Frigo",u.jsx("span",{className:"text-blue-600",children:"Gest"}),u.jsx("span",{className:"text-emerald-500",children:"."})]}),u.jsx("p",{className:"text-sm font-medium text-slate-400 mt-4 leading-relaxed max-w-sm",children:"Entre com suas credenciais para gerenciar a inteligncia operacional do seu frigorfico."})]}),f&&u.jsxs("div",{className:"mb-8 border border-red-100 bg-red-50 p-4 rounded-2xl flex items-center gap-4 animate-reveal",children:[u.jsx(a9,{size:20,className:"text-red-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase tracking-widest",children:"Falha na Autenticao"}),u.jsx("p",{className:"text-xs font-bold text-red-800",children:f})]})]}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"E-mail Corporativo"}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"email",required:!0,value:e,onChange:A=>n(A.target.value),placeholder:"ex: admin@sistema.com",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),u.jsx(hW,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Senha de Acesso"}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"password",required:!0,value:r,onChange:A=>i(A.target.value),placeholder:"",className:"modern-input h-14 pl-12 bg-slate-50 border-slate-200 focus:bg-white transition-all text-slate-900 font-semibold"}),u.jsx(fx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600 transition-colors",size:20})]})]}),u.jsxs("div",{className:"flex items-center gap-3 px-1",children:[u.jsx("input",{type:"checkbox",id:"rememberMe",checked:a,onChange:A=>s(A.target.checked),className:"w-5 h-5 rounded-lg accent-blue-600 cursor-pointer"}),u.jsx("label",{htmlFor:"rememberMe",className:"text-xs font-bold text-slate-600 cursor-pointer select-none",children:"Lembrar minhas credenciais neste dispositivo"})]}),u.jsxs("div",{className:"pt-6 space-y-4",children:[u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-blue-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?u.jsx(Eu,{className:"animate-spin",size:20}):u.jsxs(u.Fragment,{children:[u.jsx(As,{size:18}),u.jsx("span",{children:"Acessar Painel"})]})}),m&&u.jsx("button",{type:"button",onClick:N,disabled:l,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold h-14 rounded-2xl shadow-xl shadow-emerald-200 hover:shadow-2xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:l?u.jsx(Eu,{className:"animate-spin",size:20}):u.jsxs(u.Fragment,{children:[u.jsx(FH,{size:20}),u.jsx(LW,{size:18}),u.jsx("span",{children:"Login Biomtrico"})]})}),u.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3 opacity-30",children:[u.jsx("div",{className:"h-px w-8 bg-slate-300"}),u.jsxs("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:[gT," Enterprise"]}),u.jsx("div",{className:"h-px w-8 bg-slate-300"})]})]})]})]})})]})},h8=({onBack:t,refreshData:e})=>{const[n,r]=xe.useState(""),[i,a]=xe.useState(!1),[s,l]=xe.useState(1),[c,f]=xe.useState(""),[h,m]=xe.useState(!0),g=async()=>{if(c!=="ZERAR SISTEMA")return alert("Confirmao incorreta");if(window.confirm("AO CRTICA: Deseja realmente apagar todos os dados de operao?")){a(!0),r("Inicializando sequncia de limpeza...");try{const A=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const E of A){r(`Limpando base: ${E.toUpperCase()}...`);const I=await wi(rr(xt,E));if(I.empty)continue;const O=i0(xt);I.docs.forEach(F=>O.delete(F.ref)),await O.commit()}alert("Sistema reiniciado com sucesso. Cadastros preservados."),e(),l(1),f(""),t()}catch{r("Erro durante a operao de limpeza")}finally{a(!1)}}},y=async()=>{if(window.confirm(` Limpar dados de teste?

Isto remover:
 Todos os lotes
 Todo o estoque
 Todas as vendas
 Todas as transaes

Mas MANTER:
 Clientes
 Fornecedores

Deseja continuar?`)){a(!0),r("Limpando dados de teste...");try{const A=["batches","sales","stock_items","transactions","scheduled_orders","daily_reports","payables"];for(const E of A){r(`Limpando: ${E.toUpperCase()}...`);const I=await wi(rr(xt,E));if(I.empty)continue;const O=i0(xt);I.docs.forEach(F=>O.delete(F.ref)),await O.commit()}r(" Sistema limpo! Clientes e fornecedores preservados."),alert(` Dados de teste removidos!

Sistema pronto para produo.
Clientes e fornecedores foram preservados.`),e(),t()}catch(A){console.error(A),r(" Erro durante limpeza")}finally{a(!1)}}},N=async()=>{if(window.confirm("Protocolo de Simulao: Deseja carregar o cenrio de teste estratgico (Guerra)?")){a(!0),r("Injetando dados de guerra no FG-CORE...");try{const A=i0(xt),E=new Date,I=new Date(E.getTime()-600*60*60*1e3).toISOString().split("T")[0],O=new Date(E.getTime()-360*60*60*1e3).toISOString().split("T")[0],F=new Date(E.getTime()-7200*60*1e3).toISOString().split("T")[0],U=new Date(E.getTime()+1440*60*1e3).toISOString().split("T")[0],D={id_lote:"L-TOP-01",fornecedor:"FAZENDA ELITE",data_recebimento:O,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},q={id_lote:"L-LOSS-02",fornecedor:"FORNECEDOR C",data_recebimento:F,peso_total_romaneio:500,valor_compra_total:1e4,frete:200,gastos_extras:0,custo_real_kg:20.4,status:"FECHADO"},P={id_lote:"L-OLD-99",fornecedor:"ESTOQUE ESQUECIDO",data_recebimento:I,peso_total_romaneio:1e3,valor_compra_total:2e4,frete:500,gastos_extras:0,custo_real_kg:20.5,status:"FECHADO"};A.set(Nn(xt,"batches",D.id_lote),D),A.set(Nn(xt,"batches",q.id_lote),q),A.set(Nn(xt,"batches",P.id_lote),P);const j={id_completo:"L-TOP-01-01-INTEIRO",id_lote:"L-TOP-01",sequencia:1,tipo:vn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:O},$={id_completo:"L-LOSS-02-01-INTEIRO",id_lote:"L-LOSS-02",sequencia:1,tipo:vn.INTEIRO,peso_entrada:250,status:"VENDIDO",data_entrada:F},G={id_completo:"L-OLD-99-01-INTEIRO",id_lote:"L-OLD-99",sequencia:1,tipo:vn.INTEIRO,peso_entrada:245,status:"DISPONIVEL",data_entrada:I},V={id_completo:"L-OLD-99-02-BANDA_A",id_lote:"L-OLD-99",sequencia:2,tipo:vn.BANDA_A,peso_entrada:122,status:"DISPONIVEL",data_entrada:I};A.set(Nn(xt,"stock_items",j.id_completo),j),A.set(Nn(xt,"stock_items",$.id_completo),$),A.set(Nn(xt,"stock_items",G.id_completo),G),A.set(Nn(xt,"stock_items",V.id_completo),V);const L={id_venda:"V-FUMO-01",id_cliente:"77",id_completo:$.id_completo,peso_real_saida:230,preco_venda_kg:35,data_venda:O,data_vencimento:F,status_pagamento:"PENDENTE",quebra_kg:20,lucro_liquido_unitario:10,forma_pagamento:"OUTROS",valor_pago:0},k={id_venda:"V-ELITE-01",id_cliente:"15",id_completo:j.id_completo,peso_real_saida:248,preco_venda_kg:38,data_venda:F,data_vencimento:U,status_pagamento:"PAGO",quebra_kg:2,lucro_liquido_unitario:15,forma_pagamento:"PIX",valor_pago:9424};A.set(Nn(xt,"sales",L.id_venda),L),A.set(Nn(xt,"sales",k.id_venda),k),A.set(Nn(xt,"transactions","TR-SIM-01"),{id:"TR-SIM-01",data:O,descricao:"Saldo Inicial Simulao",tipo:"ENTRADA",categoria:"OUTROS",valor:5e4}),await A.commit(),e(),alert("Cenrio de Guerra atualizado: IA detectar Risco de Crdito, Quebra Industrial e Estoque Antigo!"),t()}catch(A){console.error(A),r("Falha na injeo de dados")}finally{a(!1)}}};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid flex items-center justify-center animate-reveal",children:[h&&u.jsx("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-[32px] max-w-lg w-full overflow-hidden shadow-2xl border-4 border-rose-500",children:[u.jsxs("div",{className:"bg-gradient-to-r from-rose-600 to-red-700 p-8 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:u.jsx(Qd,{size:48,className:"text-white"})}),u.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight",children:" ALTO RISCO "}),u.jsx("p",{className:"text-rose-100 text-sm font-bold mt-2",children:"REA RESTRITA - ACESSO ADMINISTRATIVO"})]}),u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-2xl p-6",children:[u.jsx("h3",{className:"text-rose-700 font-black text-sm uppercase mb-3",children:" ATENO - LEIA COM CUIDADO:"}),u.jsxs("ul",{className:"space-y-3 text-sm text-slate-700",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-rose-500 font-bold",children:""}),u.jsxs("span",{children:["Esta rea ",u.jsx("strong",{className:"text-rose-600",children:"APAGA DADOS PERMANENTEMENTE"})]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-rose-500 font-bold",children:""}),u.jsxs("span",{children:["Pode ",u.jsx("strong",{className:"text-rose-600",children:"BAGUNAR TODO O FLUXO DE CAIXA"})]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-rose-500 font-bold",children:""}),u.jsxs("span",{children:["Dados apagados ",u.jsx("strong",{className:"text-rose-600",children:"NO PODEM SER RECUPERADOS"})]})]})]})]}),u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:[u.jsx("h3",{className:"text-blue-700 font-black text-sm uppercase mb-3",children:" RECOMENDAO:"}),u.jsxs("p",{className:"text-sm text-slate-700",children:["Para limpezas de dados, use o ",u.jsx("strong",{className:"text-blue-600",children:"Firebase Console"})," diretamente:"]}),u.jsx("p",{className:"text-xs text-blue-600 font-mono mt-2 bg-blue-100 p-2 rounded-lg",children:"console.firebase.google.com"})]}),u.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-6",children:[u.jsx("h3",{className:"text-green-700 font-black text-sm uppercase mb-3",children:" SOLICITAR LIMPEZA:"}),u.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Envie uma solicitao para o administrador limpar os dados pelo Firebase:"}),u.jsx("button",{onClick:()=>{const A=encodeURIComponent(` *SOLICITAO DE LIMPEZA - FRIGOGEST*

 Um usurio est solicitando limpeza de dados do sistema.

 Data: ${new Date().toLocaleString("pt-BR")}

 Por favor, acesse o Firebase Console e verifique se  necessrio limpar alguma collection.

 console.firebase.google.com`);window.open(`https://wa.me/5577999226268?text=${A}`,"_blank"),alert(` Solicitao enviada!

O administrador ir verificar e limpar os dados pelo Firebase se necessrio.`),t()},className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg flex items-center justify-center gap-2",children:" Solicitar Limpeza via WhatsApp"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:t,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-black text-sm uppercase rounded-2xl transition-all shadow-lg",children:" SAIR (RECOMENDADO)"}),u.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-4 bg-slate-200 hover:bg-rose-600 hover:text-white text-slate-600 font-black text-sm uppercase rounded-2xl transition-all",children:"Continuar mesmo assim"})]})]})]})}),u.jsxs("div",{className:"bg-white rounded-[48px] border border-slate-100 w-full max-w-xl shadow-2xl overflow-hidden relative",children:[u.jsxs("div",{className:"bg-slate-900 p-6 text-white flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-rose-600 flex items-center justify-center text-white shadow-lg shadow-rose-900/40",children:u.jsx(a9,{size:16})}),u.jsx("span",{className:"text-[10px] font-black tracking-widest uppercase",children:"Autorizao de Nvel 05"})]}),u.jsxs("div",{className:"flex gap-1.5 translate-x-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"}),u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"}),u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"})]})]}),u.jsx("div",{className:"p-10 md:p-16",children:s===1?u.jsxs("div",{className:"space-y-10",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 mb-2",children:["Zona de ",u.jsx("span",{className:"text-rose-600",children:"Perigo"})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Protocolo de Expurgo FG-CORE"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"rounded-[32px] border border-rose-100 p-8 bg-rose-50/20",children:[u.jsx("label",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-4 block px-1",children:"Dados a Apagar"}),u.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Lotes Ativos"]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Estoque Frio"]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Histrico de Vendas"]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-rose-600"})," Fluxo Financeiro"]})]})]}),u.jsxs("div",{className:"rounded-[32px] border border-emerald-100 p-8 bg-emerald-50/20",children:[u.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-4 block px-1",children:"Dados Preservados"}),u.jsxs("ul",{className:"text-[10px] font-black text-slate-900 space-y-3 uppercase tracking-tighter",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Clientes"]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Fornecedores"]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-600"})," Contas e Bancos"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>l(2),className:"w-full btn-modern bg-white border border-rose-100 text-rose-600 py-4 rounded-2xl hover:bg-rose-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[u.jsx(pT,{size:16})," Protocolo de Expurgo"]}),u.jsxs("button",{onClick:y,className:"w-full btn-modern bg-white border border-blue-100 text-blue-600 py-4 rounded-2xl hover:bg-blue-50 gap-4 shadow-sm transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[u.jsx(dx,{size:16})," Limpar Dados de Teste"]}),u.jsxs("div",{className:"relative py-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-100"})}),u.jsx("div",{className:"relative flex justify-center text-[8px] font-black uppercase text-slate-300 bg-white px-4 tracking-[0.4em]",children:"Ou"})]}),u.jsxs("button",{onClick:N,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-4 shadow-xl transition-all font-black text-xs uppercase tracking-[0.2em]",children:[u.jsx(eK,{size:20,className:"text-blue-400"})," Simular Cenrio de Guerra"]}),u.jsxs("button",{onClick:t,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors flex items-center justify-center gap-2",children:[u.jsx(ja,{size:12})," Abortar e Voltar"]})]})]}):u.jsxs("div",{className:"space-y-10 animate-reveal",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:u.jsx(fx,{size:32})}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mb-4",children:"Confirmao de Segurana Requerida"}),u.jsx("div",{className:"bg-slate-50 border border-slate-100 p-4 rounded-2xl font-black text-slate-900 uppercase tracking-widest mb-8 text-sm",children:'"ZERAR SISTEMA"'}),u.jsx("input",{value:c,onChange:A=>f(A.target.value),className:"modern-input h-16 text-center font-black text-2xl uppercase",placeholder:"DIGITAR CADEIA"})]}),i?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(As,{className:"animate-spin text-rose-600 mx-auto mb-6",size:48}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:g,disabled:c!=="ZERAR SISTEMA",className:"w-full btn-modern bg-rose-600 text-white py-6 rounded-2xl hover:bg-slate-900 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-rose-900/30",children:[u.jsx(os,{size:20})," Confirmar Expurgo"]}),u.jsx("button",{onClick:()=>l(1),disabled:i,className:"w-full text-[10px] font-black text-slate-400 uppercase tracking-widest py-3 hover:text-slate-900 transition-colors",children:" Voltar ao Incio"})]})]})})]})]})},n1e=({suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r,onBack:i})=>{const[a,s]=xe.useState(""),[l,c]=xe.useState(!1),[f,h]=xe.useState({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}),[m,g]=xe.useState(null),[y,N]=xe.useState(!1),[A,E]=xe.useState(null),I=t.filter(D=>D.status!=="INATIVO"&&(D.nome_fantasia.toLowerCase().includes(a.toLowerCase())||D.cpf_cnpj.includes(a))).sort((D,q)=>D.nome_fantasia.localeCompare(q.nome_fantasia)),O=D=>{D.preventDefault(),f.nome_fantasia&&(e({...f,id:Date.now().toString()}),c(!1),h({id:"",nome_fantasia:"",cpf_cnpj:"",inscricao_estadual:"",telefone:"",endereco:"",cidade:"",estado:"",dados_bancarios:"",observacoes:""}))},F=D=>{D.preventDefault(),A&&n&&(n(A),g(A),N(!1))},U=D=>`https://wa.me/55${D.replace(/\D/g,"")}`;return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:i,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-xl shadow-indigo-100",children:u.jsx(Ec,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Gesto de ",u.jsx("span",{className:"text-indigo-600",children:"Fornecedores"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Unidade de Cadeia de Suprimentos / ID-SUP"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full md:w-auto",children:[u.jsxs("div",{className:"relative group w-full sm:w-80",children:[u.jsx(ym,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),u.jsx("input",{type:"text",placeholder:"Buscar parceiro ou documento...",className:"modern-input pl-12 bg-white",value:a,onChange:D=>s(D.target.value)})]}),u.jsxs("button",{onClick:()=>c(!0),className:"btn-modern btn-brand px-8 py-3.5 gap-3 bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-100",children:[u.jsx(s9,{size:18})," Novo Fornecedor"]})]})]}),u.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-reveal",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Origem / Parceiro"}),u.jsx("th",{className:"hidden md:table-cell",children:"Documentao"}),u.jsx("th",{className:"hidden sm:table-cell",children:"Geolocalizao"}),u.jsx("th",{className:"hidden sm:table-cell",children:"Contato"}),u.jsx("th",{className:"w-32 text-center",children:"Operaes"})]})}),u.jsx("tbody",{children:I.map(D=>u.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group",children:[u.jsx("td",{children:u.jsxs("div",{onClick:()=>{g(D),N(!1)},className:"cursor-pointer",children:[u.jsx("p",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:D.nome_fantasia}),D.cpf_cnpj&&u.jsx("p",{className:"text-[10px] text-gray-400 font-medium tracking-wider",children:D.cpf_cnpj})]})}),u.jsx("td",{className:"hidden md:table-cell",children:u.jsx("div",{className:"flex flex-col text-[10px] font-bold text-slate-500 uppercase",children:u.jsxs("span",{children:["IE: ",D.inscricao_estadual||"ISENTO"]})})}),u.jsx("td",{className:"hidden sm:table-cell",children:D.cidade?u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[u.jsx(hx,{size:12,className:"text-indigo-500"})," ",D.cidade," - ",D.estado]}),u.jsx("span",{className:"text-[10px] text-gray-400",children:D.endereco})]}):u.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"NO MAPEADO"})}),u.jsx("td",{className:"hidden sm:table-cell",children:D.telefone?u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-xs font-bold text-gray-700",children:D.telefone}),u.jsx("a",{href:U(D.telefone),target:"_blank",className:"text-[10px] text-emerald-600 font-bold hover:underline",children:"WhatsApp Link"})]}):u.jsx("span",{className:"text-[10px] text-gray-300 italic font-medium",children:"SEM CONTATO"})}),u.jsx("td",{className:"text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("button",{onClick:()=>{g(D),N(!1)},className:"p-2 text-gray-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Ver Detalhes",children:u.jsx(Dc,{size:20})}),u.jsx("button",{onClick:q=>{q.stopPropagation(),confirm(`Inativar este fornecedor?

O registro ser mantido no histrico mas no aparecer mais nas listas.`)&&r(D.id)},className:"p-2 text-gray-200 hover:text-amber-600 hover:bg-amber-50 rounded-xl transition-all",title:"Inativar",children:u.jsx(pT,{size:18})})]})})]},D.id))})]})})}),l&&u.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[32px] shadow-2xl w-full max-w-4xl overflow-hidden relative border border-white",children:[u.jsxs("div",{className:"bg-indigo-600 p-8 text-white flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Registro de Parceiro"}),u.jsx("p",{className:"text-[10px] text-indigo-100 font-bold uppercase tracking-widest mt-1",children:"Buffer de Entrada / SUP-01"})]}),u.jsx("button",{onClick:()=>c(!1),className:"bg-white/10 p-2 rounded-xl hover:bg-white/20 transition-colors",children:u.jsx(Iu,{size:20})})]}),u.jsxs("form",{onSubmit:O,className:"p-8 space-y-6 max-h-[75vh] overflow-y-auto",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:u.jsxs("div",{className:"md:col-span-12 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Nome Social da Entidade / Fazenda"}),u.jsx("input",{required:!0,type:"text",className:"modern-input font-bold text-lg",placeholder:"EX: FAZENDA BOI GORDO",value:f.nome_fantasia,onChange:D=>h({...f,nome_fantasia:D.target.value.toUpperCase()})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"CPF / CNPJ"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"000.000.000-00",value:f.cpf_cnpj,onChange:D=>h({...f,cpf_cnpj:D.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Ins. Estadual"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"IE Number",value:f.inscricao_estadual,onChange:D=>h({...f,inscricao_estadual:D.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Contato Principal"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"(00) 00000-0000",value:f.telefone,onChange:D=>h({...f,telefone:D.target.value})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 pt-4",children:[u.jsxs("div",{className:"md:col-span-8 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Endereo Fiscal / Operacional"}),u.jsx("input",{type:"text",className:"modern-input",value:f.endereco,onChange:D=>h({...f,endereco:D.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"md:col-span-4 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest px-1",children:"Cidade / UF"}),u.jsx("input",{type:"text",className:"modern-input",placeholder:"CIDADE - UF",value:f.cidade,onChange:D=>h({...f,cidade:D.target.value.toUpperCase()})})]})]}),u.jsxs("div",{className:"pt-4 space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / PIX"}),u.jsx("textarea",{className:"modern-input bg-emerald-50 border-emerald-100 font-mono text-xs h-32 resize-none",placeholder:"BANCO / AGNCIA / CONTA / CHAVE PIX",value:f.dados_bancarios,onChange:D=>h({...f,dados_bancarios:D.target.value.toUpperCase()})})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[u.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-modern bg-gray-100 text-gray-500 hover:bg-gray-200 px-8",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn-modern btn-brand px-12 bg-indigo-600 hover:bg-indigo-700",children:"Confirmar Registro"})]})]})]})}),m&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative border border-white",children:[u.jsxs("div",{className:`p-8 flex justify-between items-center ${y?"bg-amber-50":"bg-slate-50"}`,children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-800 shadow-sm border border-slate-100",children:u.jsx(Ec,{size:32})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:y?"Editor de Fornecedor":m.nome_fantasia}),u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:y?"Protocolo de Alterao Master":`Registro Industrial #${m.cpf_cnpj||"---"}`})]})]}),u.jsx("button",{onClick:()=>g(null),className:"p-3 bg-white hover:bg-slate-100 rounded-2xl text-slate-400 transition-colors shadow-sm border border-slate-100",children:u.jsx(Iu,{size:24})})]}),u.jsx("div",{className:"p-10 overflow-y-auto bg-white flex-1",children:y?u.jsxs("form",{id:"edit-form",onSubmit:F,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Identificao / Razo Social"}),u.jsx("input",{required:!0,type:"text",className:"modern-input font-bold",value:(A==null?void 0:A.nome_fantasia)||"",onChange:D=>E(q=>q?{...q,nome_fantasia:D.target.value.toUpperCase()}:null)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Documento"}),u.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.cpf_cnpj)||"",onChange:D=>E(q=>q?{...q,cpf_cnpj:D.target.value}:null)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Insc. Estadual"}),u.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.inscricao_estadual)||"",onChange:D=>E(q=>q?{...q,inscricao_estadual:D.target.value}:null)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Telefone"}),u.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.telefone)||"",onChange:D=>E(q=>q?{...q,telefone:D.target.value}:null)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Cidade - UF"}),u.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.cidade)||"",onChange:D=>E(q=>q?{...q,cidade:D.target.value.toUpperCase()}:null)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Logradouro"}),u.jsx("input",{type:"text",className:"modern-input",value:(A==null?void 0:A.endereco)||"",onChange:D=>E(q=>q?{...q,endereco:D.target.value.toUpperCase()}:null)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest px-1",children:"Dados Bancrios / Fluxo Financeiro"}),u.jsx("textarea",{className:"modern-input h-32 resize-none bg-emerald-50 border-emerald-100 font-mono text-xs font-bold text-emerald-900",value:(A==null?void 0:A.dados_bancarios)||"",onChange:D=>E(q=>q?{...q,dados_bancarios:D.target.value.toUpperCase()}:null)})]})]}):u.jsx("div",{className:"space-y-10",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Comunicao e Suporte"}),u.jsxs("div",{children:[u.jsx("a",{href:U(m.telefone),target:"_blank",className:"text-2xl font-extrabold text-slate-900 hover:text-indigo-600 transition-colors block tracking-tight",children:m.telefone||"SEM TELEFONE"}),u.jsx("p",{className:"text-[11px] text-slate-400 font-bold mt-1 uppercase tracking-wider",children:"Canal Primrio WhatsApp"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em] border-b border-slate-50 pb-2",children:"Dados de Localidade"}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 mt-1",children:u.jsx(hx,{size:18})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight uppercase",children:m.endereco||"Endereo no informado"}),u.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1 tracking-widest",children:[m.cidade," - ",m.estado]})]})]})]})]}),u.jsxs("div",{className:"bg-indigo-50/50 rounded-3xl p-8 border border-indigo-100 flex flex-col h-full",children:[u.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[u.jsx(c0,{size:16})," Liquidao Financeira"]}),u.jsx("div",{className:"font-mono text-xs text-indigo-900 font-bold whitespace-pre-wrap uppercase leading-relaxed h-full overflow-y-auto pr-2",children:m.dados_bancarios||"NENHUM DADO BANCRIO REGISTRADO NO SISTEMA"})]})]})})}),u.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center z-20",children:y?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 font-bold text-sm px-6",children:"Descartar"}),u.jsxs("button",{form:"edit-form",type:"submit",className:"btn-modern btn-brand px-10 bg-indigo-600 hover:bg-indigo-700 flex items-center gap-2",children:[u.jsx(gx,{size:18})," Salvar Alteraes"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{E(m),N(!0)},className:"flex items-center gap-2 text-slate-400 font-bold text-sm hover:text-slate-800 transition-colors",children:[u.jsx(r9,{size:18})," Substituir Dados"]}),u.jsx("div",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-[0.2em]",children:"ltima Sincronizao: Hoje"})]})})]})})]})},pi=async(t,e,n,r,i)=>{var a;if(!(!xt||!t))try{const s={timestamp:new Date().toISOString(),userId:t.uid||"unknown",userEmail:t.email||"unknown",userName:t.displayName||((a=t.email)==null?void 0:a.split("@")[0])||"Unknown User",action:e,entity:n,details:r,metadata:i||{}};await YN(rr(xt,"audit_logs"),s),console.log(`[AUDIT] ${e} ${n}: ${r}`)}catch(s){console.error("Failed to log action:",s)}},r1e=async(t=100)=>{if(!xt)return[];try{const e=c$(rr(xt,"audit_logs"),Dye("timestamp","desc"),u$(t));return(await wi(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Failed to fetch audit logs:",e),[]}},R$=()=>{try{if(typeof import.meta<"u")return"https://script.google.com/macros/s/AKfycbz5KXdpnszhwjivVuA0kKnaLnix5jrRVJCygde3qRHvtOmribrxdGySVTgNm5BGpiVi/exec"}catch{}return null};let ox=0;const p8=3e4;let BE=!1;function i1e(t){return t.map(e=>({id_ferro:e.id_ferro||"",nome_social:e.nome_social||"",whatsapp:e.whatsapp||"",cpf_cnpj:e.cpf_cnpj||"",telefone_residencial:e.telefone_residencial||"",endereco:e.endereco||"",bairro:e.bairro||"",cidade:e.cidade||"",cep:e.cep||"",limite_credito:String(e.limite_credito||0),saldo_devedor:String(e.saldo_devedor||0),observacoes:e.observacoes||""}))}function a1e(t){return t.map(e=>({id:e.id||"",nome_fantasia:e.nome_fantasia||"",cpf_cnpj:e.cpf_cnpj||"",inscricao_estadual:e.inscricao_estadual||"",telefone:e.telefone||"",endereco:e.endereco||"",cidade:e.cidade||"",estado:e.estado||"",dados_bancarios:e.dados_bancarios||"",observacoes:e.observacoes||""}))}function s1e(t){return t.map(e=>({id_lote:e.id_lote||"",fornecedor:e.fornecedor||"",data_recebimento:e.data_recebimento||"",peso_total_romaneio:String(e.peso_total_romaneio||0),valor_compra_total:String(e.valor_compra_total||0),frete:String(e.frete||0),gastos_extras:String(e.gastos_extras||0),custo_real_kg:String(e.custo_real_kg||0),status:e.status||"",valor_entrada:String(e.valor_entrada||0),observacoes:""}))}function o1e(t){const e={1:"INTEIRO",2:"BANDA_A",3:"BANDA_B"};return t.map(n=>({id_completo:n.id_completo||"",id_lote:n.id_lote||"",sequencia:String(n.sequencia||0),tipo:e[n.tipo]||String(n.tipo),peso_entrada:String(n.peso_entrada||0),status:n.status||"",data_entrada:n.data_entrada||""}))}function l1e(t){return t.map(e=>({id_venda:e.id_venda||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",id_completo:e.id_completo||"",peso_real_saida:String(e.peso_real_saida||0),preco_venda_kg:String(e.preco_venda_kg||0),data_venda:e.data_venda||"",quebra_kg:String(e.quebra_kg||0),custo_extras_total:String(e.custo_extras_total||0),prazo_dias:String(e.prazo_dias||0),data_vencimento:e.data_vencimento||"",forma_pagamento:e.forma_pagamento||"",status_pagamento:e.status_pagamento||""}))}function c1e(t){return t.map(e=>({id:e.id||"",data:e.data||"",descricao:e.descricao||"",tipo:e.tipo||"",categoria:e.categoria||"",valor:String(e.valor||0),referencia_id:e.referencia_id||"",metodo_pagamento:e.metodo_pagamento||""}))}function u1e(t){return t.map(e=>({id:e.id||"",descricao:e.descricao||"",categoria:e.categoria||"",valor:String(e.valor||0),valor_pago:String(e.valor_pago||0),data_vencimento:e.data_vencimento||"",data_pagamento:e.data_pagamento||"",status:e.status||"",fornecedor_id:e.fornecedor_id||"",id_lote:e.id_lote||"",observacoes:e.observacoes||"",recorrente:String(e.recorrente||!1)}))}function d1e(t){return t.map(e=>({id:e.id||"",id_cliente:e.id_cliente||"",nome_cliente:e.nome_cliente||"",data_entrega:e.data_entrega||"",hora_entrega:e.hora_entrega||"",itens:e.itens||"",status:e.status||"",data_criacao:e.data_criacao||"",alerta_madrugada:String(e.alerta_madrugada||!1)}))}async function O$(t){const e=R$();if(!e)return{success:!1,message:"VITE_SHEETS_WEBAPP_URL no configurada"};const n=Date.now();if(n-ox<p8)return{success:!1,message:`Throttle: aguarde ${Math.ceil((p8-(n-ox))/1e3)}s`};if(BE)return{success:!1,message:"Sync j em andamento"};BE=!0,ox=n;try{const r={allData:{Clientes:i1e(t.clients),Fornecedores:a1e(t.suppliers),Lotes:s1e(t.batches),Estoque:o1e(t.stock),Vendas:l1e(t.sales),"Fluxo de Caixa":c1e(t.transactions),"Contas a Pagar":u1e(t.payables),Agendamentos:d1e(t.scheduledOrders)}},i=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(r),redirect:"follow"});let a={};try{const s=await i.text();a=JSON.parse(s),console.log(" Sheets sync resposta:",a)}catch{console.log(" Sheets sync: enviado (status:",i.status,")")}return i.ok||i.status===0?(console.log(" Sheets sync:  sucesso!"),{success:!0,message:`Dados sincronizados! ${a.timestamp||""}`}):(console.warn(" Sheets sync:  status",i.status),{success:!1,message:`HTTP ${i.status}: ${a.message||"erro desconhecido"}`})}catch(r){return console.warn(" Sheets sync erro:",r.message),{success:!1,message:r.message}}finally{BE=!1}}async function f1e(t){return ox=0,O$(t)}function m8(){return!!R$()}const g8=({isRecording:t,color:e,stream:n})=>{const r=xe.useRef(null),i=xe.useRef(null);return xe.useEffect(()=>{if(!t||!n||!r.current)return;const a=new(window.AudioContext||window.webkitAudioContext),s=a.createMediaStreamSource(n),l=a.createAnalyser();l.fftSize=64,s.connect(l);const c=l.frequencyBinCount,f=new Uint8Array(c),h=()=>{const m=r.current;if(!m)return;const g=m.getContext("2d");if(!g)return;const y=m.width,N=m.height;l.getByteFrequencyData(f),g.clearRect(0,0,y,N);const A=y/c*1.5;let E=0;for(let I=0;I<c;I++){const O=f[I]/255*N*.8;g.fillStyle=e,g.fillRect(E,(N-O)/2,A-2,O),E+=A}i.current=requestAnimationFrame(h)};return h(),()=>{i.current&&cancelAnimationFrame(i.current),a.close()}},[t,n,e]),t?u.jsx("canvas",{ref:r,width:300,height:60,className:"w-full h-12 animate-reveal"}):null},h1e=({onBack:t,onSubmit:e,reports:n=[]})=>{const[r,i]=xe.useState("normal"),[a,s]=xe.useState(""),[l,c]=xe.useState(!1),[f,h]=xe.useState(!1),[m,g]=xe.useState(null),[y,N]=xe.useState(!1),[A,E]=xe.useState(!1),[I,O]=xe.useState(!1),[F,U]=xe.useState(null),[D,q]=xe.useState(null),[P,j]=xe.useState(null),[$,G]=xe.useState({}),[V,L]=xe.useState(0),[k,J]=xe.useState(null),ce=xe.useRef(null),ne=xe.useRef([]),ie=xe.useRef(null),te=xe.useRef(null),fe=async(Q,he)=>{if(!f8)throw new Error("Firebase Storage no configurado");const _e=`reports/${Date.now()}_${he}.${Q.type.split("/")[1]}`,ae=Xxe(f8,_e);G(Ae=>({...Ae,[he]:!0}));try{const Ae=await Kxe(ae,Q);return await Yxe(Ae.ref)}finally{G(Ae=>({...Ae,[he]:!1}))}},be=async Q=>{try{const he={audio:!0,video:Q==="video"?{facingMode:"user"}:!1},_e=await navigator.mediaDevices.getUserMedia(he);J(_e),Q==="video"&&ie.current&&(ie.current.srcObject=_e);const ae=new MediaRecorder(_e);ce.current=ae,ne.current=[],ae.ondataavailable=Ae=>{Ae.data.size>0&&ne.current.push(Ae.data)},ae.onstop=async()=>{const Ae=Q==="video"?"video/webm":"audio/webm",Ce=new Blob(ne.current,{type:Ae});try{const Ne=await fe(Ce,Q);Q==="journey"?U(Ne):Q==="client"?q(Ne):j(Ne)}catch(Ne){alert("Erro ao salvar no servidor. Tente novamente."),console.error(Ne)}_e.getTracks().forEach(Ne=>Ne.stop()),J(null),ie.current&&(ie.current.srcObject=null)},ae.start(),L(0),te.current=setInterval(()=>{L(Ae=>Ae+1)},1e3),Q==="journey"?N(!0):Q==="client"?E(!0):O(!0)}catch{alert("Erro ao acessar cmera/microfone. Verifique as permisses.")}},re=Q=>{ce.current&&ce.current.state==="recording"&&(ce.current.stop(),te.current&&clearInterval(te.current),Q==="journey"?N(!1):Q==="client"?E(!1):O(!1))},C=Q=>{const he=Math.floor(Q/60),_e=Q%60;return`${he.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`},H=async(Q,he)=>{var ae;const _e=(ae=Q.target.files)==null?void 0:ae[0];if(_e)try{const Ae=await fe(_e,he);he==="journey"?U(Ae):he==="client"?q(Ae):j(Ae)}catch{alert("Erro ao fazer upload do arquivo.")}},W=async Q=>{if(e){h(!0);try{await e({intensity:r,notes:a,type:Q,extra_movement:!1,technical_issues:l,audio_url:F||void 0,client_complaint_audio_url:D||void 0,video_url:P||void 0}),g("Sucesso"),s(""),c(!1),i("normal"),U(null),q(null),j(null),setTimeout(()=>g(null),2500)}finally{h(!1)}}},K=[...n].sort((Q,he)=>he.timestamp.localeCompare(Q.timestamp));return m?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-emerald-50 flex items-center justify-center p-8 animate-reveal",children:u.jsxs("div",{className:"bg-white rounded-[48px] p-16 text-center shadow-[0_32px_64px_-16px_rgba(251,191,36,0.2)] max-w-sm w-full border border-yellow-100",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-emerald-400 to-teal-500 text-white rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-emerald-200",children:u.jsx(Go,{size:56})}),u.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2 italic",children:"Tudo Certo!"}),u.jsx("p",{className:"text-[11px] font-bold text-emerald-600 uppercase tracking-widest mt-4",children:"Sua jornada multimdia foi registrada "})]})}):u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-gradient-to-b from-slate-50 to-orange-50/30 technical-grid animate-reveal pb-40 font-sans",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-8",children:[u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-3 px-6 py-2 bg-white/80 backdrop-blur-md border border-amber-100 rounded-full text-[10px] font-black text-amber-600 uppercase tracking-widest hover:bg-amber-500 hover:text-white transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Incio"]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"bg-gradient-to-tr from-amber-400 to-orange-500 p-4 rounded-[28px] text-white shadow-2xl shadow-orange-200 hover:rotate-6 transition-transform",children:u.jsx(nH,{size:32})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-800 leading-none",children:["Meu Dirio de ",u.jsx("span",{className:"text-orange-500 italic",children:"Jornada"})]}),u.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em] mt-2",children:"Registro Multimdia & Energia"})]})]})]}),u.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-[10px] font-black uppercase tracking-widest shadow-xl shadow-blue-200 border-none",children:"Operador Oficial"})]}),u.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[u.jsx("div",{className:"lg:col-span-12 xl:col-span-5 space-y-10",children:u.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-2xl shadow-orange-100/50 space-y-12 border border-white",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[u.jsx(As,{size:14,className:"text-emerald-500"})," Como est a operao?"]}),u.jsxs("div",{className:"flex p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:[u.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"text-slate-400 hover:text-emerald-600":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg"}`,children:"Tudo Perfeito"}),u.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${l?"bg-gradient-to-r from-rose-500 to-orange-600 text-white shadow-lg":"text-slate-400 hover:text-rose-600"}`,children:"Houve Falhas"})]})]}),u.jsxs("div",{className:"space-y-5 p-8 bg-indigo-50/50 rounded-[32px] border border-indigo-100/50",children:[u.jsxs("label",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[u.jsx(bO,{size:14})," Registro em Vdeo (Opcional)"]}),I&&u.jsx("div",{className:"rounded-2xl overflow-hidden bg-black aspect-video mb-4 shadow-inner",children:u.jsx("video",{ref:ie,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex flex-col gap-4",children:[I&&u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-indigo-900 rounded-2xl animate-pulse",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-2.5 h-2.5 bg-rose-500 rounded-full animate-ping"}),u.jsx("span",{className:"font-mono text-xs font-bold text-indigo-100 uppercase tracking-widest",children:"Gravando"})]}),u.jsx("span",{className:"font-mono text-sm font-black text-white",children:C(V)})]}),P?u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsx("video",{src:P,controls:!0,className:"w-full rounded-2xl shadow-lg"}),u.jsxs("button",{onClick:()=>j(null),className:"w-full py-3 rounded-xl bg-orange-50 text-orange-600 text-[10px] font-black uppercase tracking-widest hover:bg-orange-100 flex items-center justify-center gap-2",children:[u.jsx(os,{size:14})," Trocar Vdeo"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{disabled:$.video,onClick:()=>I?re("video"):be("video"),className:`flex-1 min-w-[150px] py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${I?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white shadow-xl shadow-indigo-100"} ${$.video?"opacity-50 cursor-not-allowed":""}`,children:[$.video?u.jsx(Eu,{className:"animate-spin",size:18}):I?u.jsx(yK,{size:18}):u.jsx(bO,{size:18}),$.video?"Salvando...":I?"Parar Vdeo":"Gravar Vdeo"]}),!I&&u.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-indigo-100 text-indigo-600 hover:bg-indigo-50 transition-all ${$.video?"opacity-50":""}`,children:[u.jsx(Hy,{size:18}),u.jsx("input",{disabled:$.video,type:"file",accept:"video/*",className:"hidden",onChange:Q=>H(Q,"video")}),u.jsx("span",{className:"ml-2 text-[10px] font-black uppercase tracking-widest",children:"Upload"})]})]})]})]}),u.jsxs("div",{className:"space-y-5 p-8 bg-blue-50/50 rounded-[32px] border border-blue-100/50",children:[u.jsxs("label",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[u.jsx(Rd,{size:14})," Relato da Jornada (udio)"]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[y&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-blue-600 uppercase tracking-widest",children:[u.jsx("span",{children:"Captao Ativa"}),u.jsx("span",{children:C(V)})]}),u.jsx("div",{className:"bg-blue-100/30 rounded-2xl p-4 border border-blue-200/50",children:u.jsx(g8,{isRecording:y,color:"#2563eb",stream:k})})]}),F?u.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[u.jsx("audio",{src:F,controls:!0,className:"flex-1 h-12"}),u.jsx("button",{onClick:()=>U(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:u.jsx(Rd,{size:18})})]}):u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{disabled:$.journey,onClick:()=>y?re("journey"):be("journey"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${y?"bg-rose-500 text-white animate-pulse":"bg-blue-600 text-white shadow-xl shadow-blue-100"} ${$.journey?"opacity-50 cursor-not-allowed":""}`,children:[$.journey?u.jsx(Eu,{className:"animate-spin",size:18}):y?u.jsx(xW,{size:18}):u.jsx(Rd,{size:18}),$.journey?"Salvando...":y?"Parar Gravao":"Gravar udio"]}),!y&&u.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-blue-100 text-blue-600 hover:bg-blue-50 transition-all ${$.journey?"opacity-50":""}`,children:[u.jsx(Hy,{size:18}),u.jsx("input",{disabled:$.journey,type:"file",accept:"audio/*",className:"hidden",onChange:Q=>H(Q,"journey")})]})]})]})]}),u.jsxs("div",{className:"space-y-5 p-8 bg-rose-50/50 rounded-[32px] border border-rose-100/50",children:[u.jsxs("label",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[u.jsx(s0,{size:14})," Reclamao de Cliente (udio)"]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[A&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center font-mono text-xs font-black text-rose-600 uppercase tracking-widest",children:[u.jsx("span",{children:"Relato Crtico"}),u.jsx("span",{children:C(V)})]}),u.jsx("div",{className:"bg-rose-100/30 rounded-2xl p-4 border border-rose-200/50",children:u.jsx(g8,{isRecording:A,color:"#e11d48",stream:k})})]}),D?u.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[u.jsx("audio",{src:D,controls:!0,className:"flex-1 h-12"}),u.jsx("button",{onClick:()=>q(null),className:"w-12 h-12 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center hover:bg-orange-100",children:u.jsx(Rd,{size:18})})]}):u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{disabled:$.client,onClick:()=>A?re("client"):be("client"),className:`flex-1 py-4 rounded-[20px] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 transition-all ${A?"bg-rose-600 text-white animate-pulse shadow-xl shadow-rose-200":"bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50"} ${$.client?"opacity-50 cursor-not-allowed":""}`,children:[$.client?u.jsx(Eu,{className:"animate-spin",size:18}):A?u.jsx(gx,{size:18}):u.jsx(Rd,{size:18}),$.client?"Salvando...":A?"Parar Cliente":"Gravar Cliente"]}),!A&&u.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-6 py-4 rounded-[20px] bg-white border-2 border-rose-100 text-rose-600 hover:bg-rose-50 transition-all ${$.client?"opacity-50":""}`,children:[u.jsx(Hy,{size:18}),u.jsx("input",{disabled:$.client,type:"file",accept:"audio/*",className:"hidden",onChange:Q=>H(Q,"client")})]})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:[u.jsx(os,{size:14,className:"text-amber-500"})," Ritmo de Trabalho"]}),u.jsx("div",{className:"grid grid-cols-3 p-1.5 bg-slate-50 rounded-3xl border border-slate-100 shadow-inner",children:["tranquilo","normal","intenso"].map(Q=>u.jsx("button",{onClick:()=>i(Q),className:`py-4 rounded-[20px] text-[10px] font-black uppercase tracking-widest transition-all ${r===Q?Q==="tranquilo"?"bg-emerald-500 text-white shadow-lg shadow-emerald-100":Q==="normal"?"bg-amber-500 text-white shadow-lg shadow-amber-100":"bg-orange-600 text-white shadow-lg shadow-orange-100":"text-slate-400 hover:bg-white/50"}`,children:Q==="tranquilo"?"Leve":Q==="normal"?"Normal":"Intenso"},Q))})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsx("div",{className:"flex justify-between items-center px-2",children:u.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Observaes (Texto Opcional)"})}),u.jsx("div",{className:"relative",children:u.jsx("textarea",{value:a,onChange:Q=>s(Q.target.value),className:"w-full h-40 p-8 rounded-[32px] font-bold text-slate-700 bg-slate-50/50 border-2 border-slate-100 outline-none transition-all placeholder:text-slate-300 focus:border-amber-400 focus:bg-white focus:shadow-xl focus:shadow-amber-100/50",placeholder:"Caso queira escrever algo mais..."})})]}),u.jsx("div",{className:"pt-4 flex flex-col sm:flex-row gap-4",children:u.jsxs("button",{onClick:()=>W("RELATORIO"),disabled:f,className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500 text-white py-5 rounded-[24px] hover:shadow-2xl hover:shadow-orange-200 transition-all font-black text-[11px] uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95",children:[f?u.jsx(As,{size:18,className:"animate-spin"}):u.jsx(gx,{size:18})," Enviar Jornada Completa "]})})]})}),u.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-8",children:[u.jsxs("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] px-2 flex items-center gap-3",children:[u.jsx(Cu,{size:18,className:"text-orange-500"})," Histrico Operacional"]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:K.length===0?u.jsxs("div",{className:"py-40 flex flex-col items-center justify-center bg-white rounded-[48px] border-2 border-dashed border-slate-100 shadow-sm",children:[u.jsx(os,{size:80,className:"mb-6 text-amber-100"}),u.jsx("p",{className:"text-[11px] font-black uppercase text-slate-300 tracking-[0.4em]",children:"Aguardando primeiro registro multimdia"})]}):K.map(Q=>u.jsxs("div",{className:"bg-white rounded-[32px] p-8 flex flex-col gap-6 shadow-xl shadow-slate-100 border-l-[8px] border-amber-400 hover:border-orange-500 transition-all hover:-translate-x-1 group",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100 text-slate-400 flex items-center justify-center group-hover:from-orange-500 group-hover:to-orange-600 group-hover:text-white transition-all shadow-sm",children:u.jsx(Up,{size:20})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black text-slate-800 uppercase text-[11px] tracking-tight",children:Q.userName||"Operador Feliz"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:`text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${Q.type==="RECLAMACAO"?"bg-orange-100 text-orange-600":"bg-emerald-100 text-emerald-600"}`,children:Q.type==="RECLAMACAO"?"Ocorrncia":"Tudo Ok"}),u.jsx("span",{className:"text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest bg-blue-50 text-blue-500",children:Q.intensity.toUpperCase()})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[11px] font-black text-slate-700",children:new Date(Q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("p",{className:"text-[9px] font-bold text-slate-300 uppercase",children:new Date(Q.timestamp).toLocaleDateString()})]})]}),u.jsxs("div",{className:"space-y-4",children:[Q.video_url&&u.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-indigo-100",children:u.jsx("video",{src:Q.video_url,controls:!0,className:"w-full"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[Q.audio_url&&u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100/50",children:[u.jsx(Rd,{size:14,className:"text-blue-500"}),u.jsx("audio",{src:Q.audio_url,controls:!0,className:"flex-1 h-8"})]}),Q.client_complaint_audio_url&&u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-rose-50 rounded-2xl border border-rose-100/50",children:[u.jsx(s0,{size:14,className:"text-rose-500"}),u.jsx("audio",{src:Q.client_complaint_audio_url,controls:!0,className:"flex-1 h-8"})]})]})]}),Q.notes&&u.jsx("div",{className:"p-6 bg-slate-50/50 rounded-2xl border border-slate-100",children:u.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',Q.notes,'"']})})]},Q.id))})]})]})]})},p1e=({onBack:t,onAddOrder:e,existingOrders:n})=>{const[r,i]=xe.useState(new Date(Date.now()+864e5).toISOString().split("T")[0]),[a,s]=xe.useState(""),[l,c]=xe.useState(""),[f,h]=xe.useState(""),[m,g]=xe.useState(""),[y,N]=xe.useState(!1),A=25,E=n.filter(q=>q.data_entrega===r&&q.status!=="CANCELADO"),I=E.reduce((q,P)=>{const j=P.itens.match(/(\d+)/);return q+(j?parseInt(j[0]):1)},0),O=Math.max(0,A-I),F=Math.min(100,I/A*100),U=()=>{if(!a||!f)return;const q=`Quero confirmar o agendamento de ${f} novilhas para o abate dia ${new Date(r).toLocaleDateString()}`;g(`https://wa.me/55${a.replace(/\D/g,"")}?text=${encodeURIComponent(q)}`)},D=async()=>{if(!(!e||!l||!f)){N(!0);try{await e({id:`ORD-${Date.now()}`,id_cliente:"TEMP-"+Date.now(),nome_cliente:l,data_entrega:r,hora_entrega:"08:00",itens:`${f} Novilhas (Agendamento Rpido)`,status:"CONFIRMADO",data_criacao:new Date().toISOString(),alerta_madrugada:!1}),c(""),h(""),g("")}finally{N(!1)}}};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-red-700 hover:border-red-100 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"bg-rose-600 p-3 rounded-2xl text-white shadow-xl shadow-rose-100",children:u.jsx(As,{size:28})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Controle de ",u.jsx("span",{className:"text-rose-600",children:"Abate"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Planejamento e Escala / ID-ABT"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center",children:u.jsx(vm,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Escala para o dia"}),u.jsx("input",{type:"date",value:r,onChange:q=>i(q.target.value),className:"text-sm font-bold text-slate-900 outline-none bg-transparent cursor-pointer"})]})]})]}),u.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-10 items-start",children:[u.jsxs("div",{className:"lg:col-span-12 xl:col-span-5 space-y-8",children:[u.jsxs("div",{className:"bg-slate-900 rounded-[48px] p-12 text-white relative shadow-2xl overflow-hidden min-h-[300px] flex flex-col justify-center",children:[u.jsx("div",{className:"absolute top-[-10%] right-[-5%] opacity-10 pointer-events-none transform rotate-12",children:u.jsx(os,{size:200})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] mb-4",children:"Vagas Disponveis no Lote"}),u.jsx("h2",{className:"text-8xl font-black tracking-tighter text-blue-400",children:O}),u.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mt-2",children:"Novilhas por alocar"})]}),u.jsx("div",{className:"mt-12 bg-white/5 h-2 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 shadow-[0_0_15px_rgba(59,130,246,0.5)]",style:{width:`${F}%`}})}),u.jsxs("div",{className:"flex justify-between mt-4 text-[10px] font-black uppercase tracking-widest",children:[u.jsxs("span",{className:"text-blue-400",children:[I," Alocadas"]}),u.jsxs("span",{className:"text-slate-500",children:[A," Limite Dirio"]})]})]}),u.jsxs("div",{className:"premium-card p-8",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[u.jsx(mT,{size:16,className:"text-rose-600"})," Parceiros Confirmados"]}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:E.length===0?u.jsx("div",{className:"py-12 flex flex-col items-center justify-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-100",children:u.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Aguardando Lanamentos"})}):E.map(q=>u.jsxs("div",{className:"p-4 rounded-2xl bg-white border border-slate-50 flex justify-between items-center group hover:border-rose-100 transition-all shadow-sm",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-extrabold text-slate-900 uppercase text-sm",children:q.nome_cliente}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5",children:q.itens})]}),u.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:u.jsx(ux,{size:14})})]},q.id))})]}),u.jsxs("div",{className:"premium-card p-8 bg-blue-600 text-white border-none shadow-xl shadow-blue-200",children:[u.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(os,{size:16})," Manual do Colaborador"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"1"}),u.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Selecione a **DATA DO ABATE** no topo da tela."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"2"}),u.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Verifique o painel **VAGAS DISPONVEIS**. Limite: 25 cabeas/dia."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"3"}),u.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Insira o nome do produtor e a quantidade. Clique em **CRIAR LINK**."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"4"}),u.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Envie o link via WhatsApp para o produtor confirmar a entrega."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0 font-black text-[10px]",children:"5"}),u.jsx("p",{className:"text-[11px] font-bold leading-relaxed",children:"Aps a resposta dele, clique em **VALIDAR NO SISTEMA** para reservar a vaga."})]})]})]})]}),u.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 premium-card overflow-hidden h-full",children:[u.jsxs("div",{className:"bg-slate-900 p-8 flex items-center gap-4 text-white",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center",children:u.jsx(l0,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black uppercase tracking-tight text-lg",children:"Agendamento Remoto"}),u.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:"Terminal via Web/Whatsapp"})]})]}),u.jsxs("div",{className:"p-10 space-y-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block px-1",children:"Seu nmero de Whatsapp"}),u.jsx("input",{type:"text",placeholder:"DDD + Nmero",value:a,onChange:q=>s(q.target.value),className:"modern-input h-14 font-bold text-lg"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Identificador do Parceiro"}),u.jsx("input",{type:"text",placeholder:"Nome ou ID",value:l,onChange:q=>c(q.target.value),className:"modern-input h-14"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Quantidade de Cabeas"}),u.jsx("input",{type:"text",inputMode:"numeric",placeholder:"Qtd",value:f===""?"":f,onChange:q=>{const P=q.target.value;(P===""||/^\d*$/.test(P))&&h(P===""?"":parseInt(P))},className:"modern-input h-14 font-black text-lg"})]})]}),u.jsxs("button",{onClick:U,disabled:!a||!f,className:"w-full btn-modern bg-slate-900 text-white py-5 rounded-2xl hover:bg-blue-600 gap-3 shadow-xl transition-all disabled:opacity-20 active:scale-95",children:[u.jsx(aW,{size:18})," Criar Link de Confirmao"]}),m&&u.jsxs("div",{className:"animate-reveal space-y-6 pt-10 border-t border-slate-50",children:[u.jsx("div",{className:"bg-blue-50/50 rounded-2xl border border-blue-100 p-5 font-mono text-[10px] text-blue-600 break-all leading-relaxed shadow-inner",children:m}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest text-center flex items-center justify-center gap-3 shadow-xl shadow-[rgba(37,211,102,0.2)] hover:bg-[#128C7E] transition-all",children:[u.jsx(l0,{size:18})," Enviar Mensagem"]}),u.jsxs("button",{onClick:D,disabled:y,className:"bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl shadow-[rgba(225,29,72,0.2)] hover:bg-slate-900 transition-all",children:[y?u.jsx(As,{size:18,className:"animate-spin"}):u.jsx(ux,{size:18})," Validar no Sistema"]})]})]})]})]})]})]})};async function m1e(t,e){return console.warn(" Evolution API no configurada. Usando mtodo manual."),window.open(`https://wa.me/${t.replace(/\D/g,"")}?text=${encodeURIComponent(e)}`,"_blank"),{success:!1,error:"API no configurada - enviado via WhatsApp Web"}}async function g1e(t){return console.warn(" Evolution API no configurada."),{success:!1,error:"API no configurada"}}const v1e=({onBack:t,clients:e})=>{const[n,r]=xe.useState("config"),[i,a]=xe.useState([]),[s,l]=xe.useState(!1),[c,f]=xe.useState(0),[h,m]=xe.useState([]),[g,y]=xe.useState("selection"),[N]=xe.useState([{id:"vendas",name:"BOIADEIRO_DIGITAL",prompt:'Voc  o "Boiadeiro Digital", focado em vendas de gado. Seu tom  rstico e negociador. Use grias do campo.'},{id:"cobranca",name:"AGENTE_COBRANA",prompt:"Voc  um assistente financeiro educado, mas firme. Seu objetivo  lembrar o cliente sobre pagamentos pendentes, oferecendo opes de PIX."},{id:"sac",name:"SUPORTE_FG_CORE",prompt:"Voc  o suporte ao cliente. Tire dvidas sobre entregas e notas fiscais com muita pacincia e educao."}]),[A,E]=xe.useState("vendas"),[I,O]=xe.useState({price:"R$ 210,00",stock:"500 cabeas",delivery:"3 DIAS TEIS",payment:" VISTA / 30 DIAS"}),[F,U]=xe.useState("manual"),[D,q]=xe.useState(N[0].prompt);xe.useEffect(()=>{var ae;q(((ae=N.find(Ae=>Ae.id===A))==null?void 0:ae.prompt)||"")},[A,N]);const[P,j]=xe.useState(""),[$,G]=xe.useState(!1),[V,L]=xe.useState({}),[k,J]=xe.useState(null),ce=xe.useRef(null),ne=xe.useRef([]),[ie,te]=xe.useState([]),[fe,be]=xe.useState(""),[re,C]=xe.useState(!1),[H]=xe.useState("6728"),[W]=xe.useState("TOKEN_B838"),K=ae=>{if(A==="vendas"){const Ae=[`Ol *${ae}*! 

 *OFERTA ESPECIAL DO DIA*

Estoque fresco, gado premium:
 Preo: *${I.price}*
 Disponvel: ${I.stock}
 Entrega: ${I.delivery}

Garanta j! Estoque limitado. `,`Boa tarde, *${ae}*! 

*Acabou de chegar:*
Lote premium com acabamento perfeito

 Qualidade garantida
 Condies especiais: ${I.payment}
 Entrega em ${I.delivery}

Interesse? Responda aqui! `,`*${ae}*, oportunidade! 

 Carne de primeira
 *${I.price}* /kg
 Lote de ${I.stock}

Preo para CLIENTE VIP!
Reservo para voc? `];return Ae[Math.floor(Math.random()*Ae.length)]}else return A==="cobranca"?`Ol *${ae}*! 

 *Lembrete Amigvel*

Identificamos um pagamento pendente em nossa base.

 *Formas de pagamento:*
 PIX (instantneo)
 Transferncia bancria
 Boleto

Precisa de ajuda? Estamos  disposio! 

Atenciosamente,
Equipe FrigoGest`:`Ol *${ae}*! 

Como podemos ajudar hoje?

 Suporte FrigoGest
 Atendimento: Seg-Sex, 8h-18h`},Q=async(ae,Ae)=>{if(P){P.includes(".mp4")||P.includes("video");const Ne=await g1e();return Ne.success?(alert(" Mensagem com mdia enviada!"),!0):(alert(" Erro ao enviar: "+Ne.error),!1)}return(await m1e(ae,Ae)).success||(console.warn("Usando fallback: WhatsApp Web"),window.open(`https://wa.me/${ae.replace(/\D/g,"")}?text=${encodeURIComponent(Ae)}`,"_blank")),!0},he=async ae=>{const Ae=await navigator.mediaDevices.getUserMedia({audio:!0}),Ce=new MediaRecorder(Ae);ce.current=Ce,ne.current=[],Ce.ondataavailable=Ne=>{Ne.data.size>0&&ne.current.push(Ne.data)},Ce.onstop=()=>L(Ne=>({...Ne,[ae]:URL.createObjectURL(new Blob(ne.current,{type:"audio/mp3"}))})),Ce.start(),J(ae)},_e=()=>{ce.current&&(ce.current.stop(),ce.current.stream.getTracks().forEach(ae=>ae.stop()),J(null))};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-blue-400 shadow-xl shadow-blue-900/40 relative group",children:[u.jsx(kg,{size:28}),u.jsx("div",{className:"absolute inset-0 bg-blue-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Agente ",u.jsx("span",{className:"text-blue-600",children:"Cognitivo"})]}),u.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:"Automao e Inteligncia de Vendas / ID-AI"})]})]})]}),u.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:u.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[{id:"config",icon:i9,label:"Parmetros"},{id:"campaign",icon:iK,label:"Campanha"},{id:"voice",icon:o9,label:"Voz/Media"},{id:"test",icon:l0,label:"Simular"}].map(ae=>u.jsxs("button",{onClick:()=>r(ae.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${n===ae.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[u.jsx(ae.icon,{size:14})," ",ae.label]},ae.id))})})]}),u.jsxs("div",{className:"max-w-7xl mx-auto",children:[n==="config"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-reveal",children:[u.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[u.jsxs("div",{className:"premium-card p-10 bg-white",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-50",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(t9,{size:16,className:"text-blue-600"})," Ncleo de Personalidade"]}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-10",children:N.map(ae=>u.jsxs("button",{onClick:()=>E(ae.id),className:`p-5 rounded-[24px] border-2 transition-all flex flex-col gap-3 text-left ${A===ae.id?"border-blue-600 bg-blue-50/30":"border-slate-50 bg-slate-50/20 hover:border-slate-200"}`,children:[u.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${A===ae.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"bg-slate-200 text-slate-400"}`,children:ae.id==="vendas"?u.jsx(os,{size:16}):ae.id==="cobranca"?u.jsx(Au,{size:16}):u.jsx(As,{size:16})}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-black text-[10px] uppercase tracking-tighter ${A===ae.id?"text-blue-600":"text-slate-400"}`,children:ae.id}),u.jsx("p",{className:`font-bold text-xs ${A===ae.id?"text-slate-900":"text-slate-400"}`,children:ae.name})]})]},ae.id))}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Instrues de Sistema (Prompt)"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-4 left-4 text-blue-500 opacity-20",children:u.jsx(xO,{size:20})}),u.jsx("textarea",{value:D,onChange:ae=>q(ae.target.value),className:"w-full h-40 modern-input p-10 font-medium text-slate-700 bg-slate-50/50"})]})]})]}),u.jsxs("div",{className:"premium-card p-10 bg-white",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[u.jsx(HH,{size:16,className:"text-blue-600"})," Protocolo de Conexo"]}),u.jsxs("div",{className:"flex p-1 bg-slate-50 rounded-2xl border border-slate-100 mb-8",children:[u.jsx("button",{onClick:()=>U("manual"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${F==="manual"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Disparo Individual (WA)"}),u.jsx("button",{onClick:()=>U("auto"),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${F==="auto"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:"Z-API Automtico"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Instncia ID"}),u.jsx("input",{type:"text",placeholder:"i.e. 6728",className:"modern-input h-12 text-sm bg-slate-50/30"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block px-1",children:"Token de Acesso"}),u.jsx("input",{type:"password",placeholder:"",className:"modern-input h-12 text-sm bg-slate-50/30"})]})]})]})]}),u.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[u.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-10 text-white relative shadow-2xl overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:u.jsx(Pg,{size:120})}),u.jsx("h3",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.4em] mb-10",children:"Base de Conhecimento Dinmica"}),u.jsx("div",{className:"space-y-8 relative z-10",children:[{l:"Preo de Referncia (Arroba)",v:I.price,k:"price",icon:Au},{l:"Capacidade em Estoque",v:I.stock,k:"stock",icon:Mc},{l:"Prazo Logstico Mdio",v:I.delivery,k:"delivery",icon:vm},{l:"Flexibilidade de Pagamento",v:I.payment,k:"payment",icon:As}].map(ae=>u.jsxs("div",{className:"group/item",children:[u.jsxs("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest block mb-2 px-1 flex items-center gap-2",children:[u.jsx(ae.icon,{size:10,className:"text-blue-500"})," ",ae.l]}),u.jsx("input",{type:"text",value:ae.v,onChange:Ae=>O({...I,[ae.k]:Ae.target.value}),className:"bg-white/5 border-none w-full px-4 py-3 rounded-xl font-black text-blue-400 uppercase italic tracking-tighter outline-none focus:bg-white/10 transition-all border border-white/5"})]},ae.k))})]}),u.jsxs("div",{className:"premium-card p-10 bg-white",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-8 flex items-center gap-2",children:[u.jsx(fO,{size:16,className:"text-blue-600"})," Ativos Visuais (Mdia)"]}),u.jsxs("div",{className:"border-2 border-dashed border-slate-100 rounded-[32px] p-12 text-center relative group hover:border-blue-600 transition-all bg-slate-50/30",children:[u.jsx("input",{type:"file",onChange:ae=>{ae.target.files&&(G(!0),setTimeout(()=>{j("https://fg-media.cloud/temp_001.mp4"),G(!1)},1500))},className:"absolute inset-0 opacity-0 cursor-pointer"}),u.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-6 text-slate-400 group-hover:scale-110 group-hover:text-blue-600 transition-all",children:u.jsx(Hy,{size:28})}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:$?"Processando arquivo...":"Arraste uma foto ou vdeo para a campanha"})]}),P&&u.jsxs("div",{className:"mt-6 bg-blue-50 rounded-2xl p-4 flex justify-between items-center border border-blue-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white",children:u.jsx(fO,{size:14})}),u.jsx("span",{className:"text-[10px] font-black text-blue-700 truncate max-w-[200px]",children:P})]}),u.jsx("button",{onClick:()=>j(""),className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:u.jsx(Iu,{size:14})})]})]})]})]}),n==="campaign"&&u.jsx("div",{className:"animate-reveal max-w-7xl mx-auto",children:g==="selection"?u.jsxs("div",{className:"premium-card p-0 overflow-hidden bg-white",children:[u.jsxs("div",{className:"bg-slate-900 p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Seleo de Alvos Ativos"}),u.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:["Sincronizando com Base CRM (",e.length," entidades detectadas)"]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Entidades Selecionadas"}),u.jsx("p",{className:"text-2xl font-black text-blue-400 leading-none",children:i.length})]}),u.jsxs("button",{disabled:i.length===0,onClick:()=>{m(i.map(ae=>{var Ae;return{clientId:ae,client:e.find(Ce=>Ce.id_ferro===ae),status:"pending",message:K(((Ae=e.find(Ce=>Ce.id_ferro===ae))==null?void 0:Ae.nome_social)||"NONE")}})),y("review")},className:"btn-modern bg-blue-600 text-white px-8 py-4 rounded-2xl hover:bg-blue-500 gap-3 shadow-xl shadow-blue-900/40 disabled:opacity-20 transition-all font-black text-xs uppercase tracking-widest",children:["Iniciar Campanha ",u.jsx(Dc,{size:18})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"technical-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-16 text-center",children:u.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg accent-blue-600",onChange:ae=>a(ae.target.checked?e.map(Ae=>Ae.id_ferro):[]),checked:i.length===e.length&&e.length>0})}),u.jsx("th",{children:"Parceiro de Negcios"}),u.jsx("th",{children:"Protocolo ID"}),u.jsx("th",{children:"Contato Digital"}),u.jsx("th",{className:"text-center",children:"Vnculo"})]})}),u.jsx("tbody",{children:e.map(ae=>u.jsxs("tr",{onClick:()=>{const Ae=new Set(i);Ae.has(ae.id_ferro)?Ae.delete(ae.id_ferro):Ae.add(ae.id_ferro),a(Array.from(Ae))},className:`cursor-pointer transition-colors ${i.includes(ae.id_ferro)?"bg-blue-50/30":"hover:bg-slate-50"}`,children:[u.jsx("td",{className:"text-center",children:u.jsx("div",{className:`w-6 h-6 mx-auto rounded-lg border-2 flex items-center justify-center transition-all ${i.includes(ae.id_ferro)?"bg-blue-600 border-blue-600 text-white shadow-lg":"bg-white border-slate-200"}`,children:i.includes(ae.id_ferro)&&u.jsx(Go,{size:14})})}),u.jsx("td",{className:"font-extrabold text-slate-900 uppercase text-xs",children:ae.nome_social}),u.jsxs("td",{className:"font-mono text-[10px] text-slate-400",children:["# ",ae.id_ferro]}),u.jsx("td",{className:"font-black text-slate-900 text-[11px]",children:ae.whatsapp||"SEM_DADO"}),u.jsx("td",{className:"text-center",children:u.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${ae.whatsapp?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-300 border-slate-100"}`,children:ae.whatsapp?"Online":"Offline"})})]},ae.id_ferro))})]})})]}):u.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[u.jsxs("div",{className:"bg-slate-900 rounded-[40px] p-8 text-white flex flex-col md:flex-row justify-between items-center shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-emerald-500 to-rose-500 animate-gradient-x"}),u.jsxs("button",{onClick:()=>y("selection"),className:"flex items-center gap-2 text-[10px] font-black uppercase text-slate-500 hover:text-white transition-colors mb-4 md:mb-0",children:[u.jsx(ja,{size:14})," Voltar  Seleo"]}),u.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Reviso do Manifesto IA"}),u.jsx("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10",children:u.jsxs("span",{className:"text-[10px] font-black text-blue-400",children:[h.filter(ae=>ae.status==="sent").length," / ",h.length," ENTREGUES"]})})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.map((ae,Ae)=>{var Ce,Ne,Se;return u.jsxs("div",{className:`premium-card p-8 group transition-all ${ae.status==="sent"?"opacity-50 grayscale bg-slate-50/50 cursor-default":"bg-white hover:border-blue-200"}`,children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg ${ae.status==="sent"?"bg-emerald-600 text-white":"bg-blue-600 text-white shadow-lg shadow-blue-900/30"}`,children:ae.status==="sent"?u.jsx(Go,{size:24}):(Ce=ae.client)==null?void 0:Ce.nome_social.charAt(0)}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:(Ne=ae.client)==null?void 0:Ne.nome_social}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:((Se=ae.client)==null?void 0:Se.whatsapp)||"PEND_CONNECTION"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsx("button",{onClick:()=>{var se;const Te=[...h];Te[Ae].message=K(((se=ae.client)==null?void 0:se.nome_social)||""),m(Te)},className:"w-12 h-12 rounded-2xl bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shrink-0 shadow-sm",children:u.jsx(hT,{size:18})}),u.jsx("button",{disabled:ae.status==="sent",onClick:()=>{var se;Q(((se=ae.client)==null?void 0:se.whatsapp)||"",ae.message);const Te=[...h];Te[Ae].status="sent",m(Te)},className:"flex-1 md:flex-none btn-modern bg-slate-900 text-white px-8 py-3.5 rounded-2xl hover:bg-emerald-600 shadow-xl gap-3 text-xs",children:ae.status==="sent"?"Mensagem Entregue":u.jsxs(u.Fragment,{children:[u.jsx(mO,{size:16})," Enviar agora"]})})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-4 left-4 text-blue-500/20",children:u.jsx(l0,{size:18})}),u.jsx("textarea",{disabled:ae.status==="sent",value:ae.message,onChange:Te=>{const se=[...h];se[Ae].message=Te.target.value,m(se)},className:"w-full h-32 modern-input p-10 font-medium text-slate-700 bg-slate-50/30"})]})]},Ae)})})]})}),n==="voice"&&u.jsx("div",{className:"animate-reveal max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[{id:"saudacao",l:"Abertura / Saudao",d:"Primeiro contato cognitivo",icon:Rd},{id:"preco",l:"Fluxo de Negociao",d:"Defesa de margens e preos",icon:Au},{id:"qualidade",l:"Engajamento Tcnico",d:"Rendimento e qualidade de carcaa",icon:As},{id:"fechamento",l:"Commit de Reserva",d:"Confirmao de abate/compra",icon:Lc}].map(ae=>u.jsxs("div",{className:"premium-card p-10 group bg-white",children:[u.jsxs("div",{className:"flex justify-between items-start mb-10",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 text-slate-400 flex items-center justify-center transition-all group-hover:bg-blue-600 group-hover:text-white group-hover:scale-110 shadow-sm",children:u.jsx(ae.icon,{size:28})}),u.jsxs("div",{className:"text-right",children:[u.jsx("h4",{className:"text-xl font-black text-slate-900 tracking-tight uppercase",children:ae.l}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase mt-0.5",children:ae.d})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[k===ae.id?u.jsx("button",{onClick:_e,className:"flex-1 bg-rose-600 text-white py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 animate-pulse shadow-xl shadow-rose-900/20",children:"Parar Gravao"}):u.jsx("button",{onClick:()=>he(ae.id),className:"flex-1 bg-white border-2 border-slate-100 text-slate-600 py-5 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all flex items-center justify-center gap-3 shadow-sm",children:"Iniciar Captura"}),V[ae.id]&&u.jsx("button",{onClick:()=>new Audio(V[ae.id]).play(),className:"w-20 h-[68px] rounded-2xl bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 transition-all shadow-xl shadow-slate-900/20",children:u.jsx(pO,{size:24,fill:"currentColor"})})]}),V[ae.id]&&u.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),u.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Ativo Digitalizado"})]})]},ae.id))}),n==="test"&&u.jsxs("div",{className:"animate-reveal max-w-4xl mx-auto h-[800px] flex flex-col bg-white rounded-[48px] shadow-2xl border border-slate-100 overflow-hidden relative",children:[u.jsxs("div",{className:"bg-slate-900 p-8 flex justify-between items-center text-white relative",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-600/30"}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-900/40",children:u.jsx(kg,{size:20})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Debug de Simulao"}),u.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Interface Terminal v2.5 / Session Active"})]})]}),u.jsxs("div",{className:"flex gap-1.5 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),u.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Sinc"})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 flex flex-col bg-slate-50/30 no-scrollbar",children:[ie.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-05 py-32",children:[u.jsx(kg,{size:160,className:"text-slate-900"}),u.jsx("p",{className:"mt-8 text-xs font-black uppercase tracking-[0.8em] text-slate-900",children:"Aguardando Input"})]}):ie.map((ae,Ae)=>u.jsx("div",{className:`flex ${ae.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`p-6 rounded-[32px] max-w-[85%] shadow-sm ${ae.role==="user"?"bg-white text-slate-900 border border-slate-100 font-medium":"bg-slate-900 text-blue-50 font-medium shadow-xl shadow-slate-900/20"}`,children:[u.jsx("div",{className:`flex items-center gap-2 mb-3 text-[8px] font-black uppercase tracking-widest ${ae.role==="user"?"text-slate-400":"text-blue-400"}`,children:ae.role==="user"?u.jsxs(u.Fragment,{children:[u.jsx(yx,{size:10})," Humano"]}):u.jsxs(u.Fragment,{children:[u.jsx(kg,{size:10})," Agente Cognitivo"]})}),ae.audio?u.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/10",children:[u.jsx("button",{onClick:()=>new Audio(ae.audio).play(),className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center hover:scale-110 transition-all",children:u.jsx(pO,{size:16,fill:"currentColor"})}),u.jsx("div",{className:"flex-1 h-0.5 bg-white/10 rounded-full"}),u.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-50",children:"Stream Voz"})]}):u.jsx("p",{className:"leading-relaxed text-sm",children:ae.content})]})},Ae)),re&&u.jsxs("div",{className:"flex gap-2 items-center text-blue-600 font-black text-[10px] uppercase tracking-widest animate-pulse ml-2",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.3s]"}),u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce [animation-delay:-0.15s]"}),u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-bounce"})]}),"IA Processando..."]})]}),u.jsxs("div",{className:"p-10 bg-white border-t border-slate-100 flex gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",children:u.jsx(xO,{size:18})}),u.jsx("input",{value:fe,onChange:ae=>be(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&fe&&(te([...ie,{role:"user",content:fe}]),be(""),C(!0),setTimeout(()=>{te(Ae=>[...Ae,{role:"assistant",content:K("Simulador")}]),C(!1)},1500)),placeholder:"Simule uma objeo ou pergunta do cliente...",className:"w-full h-16 modern-input pl-14 text-sm"})]}),u.jsx("button",{onClick:()=>fe&&(te([...ie,{role:"user",content:fe}]),be(""),C(!0),setTimeout(()=>{te(ae=>[...ae,{role:"assistant",content:K("Simulador")}]),C(!1)},1500)),className:"w-16 h-16 rounded-[24px] bg-slate-900 text-white flex items-center justify-center hover:bg-blue-600 hover:scale-105 transition-all shadow-xl shadow-slate-900/20 shrink-0",children:u.jsx(mO,{size:24})})]})]})]})]})},y1e={CREATE:"CRIOU",UPDATE:"EDITOU",DELETE:"EXCLUIU",LOGIN:"ENTROU",LOGOUT:"SAIU",OTHER:"OUTRO"},x1e={CLIENT:"Cliente",BATCH:"Lote",STOCK:"Estoque",SALE:"Venda",TRANSACTION:"Financeiro",ORDER:"Pedido",SYSTEM:"Sistema",OTHER:"Outro"},b1e=({onBack:t})=>{const[e,n]=xe.useState([]),[r,i]=xe.useState(!0),[a,s]=xe.useState(""),[l,c]=xe.useState("ALL"),[f,h]=xe.useState("ALL"),[m,g]=xe.useState("ALL"),[y,N]=xe.useState("");xe.useEffect(()=>{A()},[]);const A=async()=>{i(!0);const P=await r1e(500);n(P),i(!1)},E=xe.useMemo(()=>{const P=new Map;return e.forEach(j=>{var G;const $=P.get(j.userId);!$||j.timestamp>$.lastActive?P.set(j.userId,{name:j.userName||((G=j.userEmail)==null?void 0:G.split("@")[0])||"Desconhecido",email:j.userEmail,lastActive:j.timestamp,actions:(($==null?void 0:$.actions)||0)+1}):$.actions+=1}),Array.from(P.entries()).map(([j,$])=>({id:j,...$}))},[e]),I=new Date,O=E.filter(P=>(I.getTime()-new Date(P.lastActive).getTime())/1e3/60<15),F=xe.useMemo(()=>e.filter(P=>{const j=!a||P.details.toLowerCase().includes(a.toLowerCase())||P.userName&&P.userName.toLowerCase().includes(a.toLowerCase())||P.userEmail.toLowerCase().includes(a.toLowerCase()),$=l==="ALL"||P.entity===l,G=f==="ALL"||P.userId===f,V=m==="ALL"||P.action===m,L=!y||P.timestamp.startsWith(y);return j&&$&&G&&V&&L}),[e,a,l,f,m,y]),U=P=>{switch(P){case"CREATE":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"UPDATE":return"bg-blue-100 text-blue-700 border-blue-200";case"DELETE":return"bg-rose-100 text-rose-700 border-rose-200";case"LOGIN":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"LOGOUT":return"bg-slate-100 text-slate-600 border-slate-200";default:return"bg-slate-50 text-slate-400 border-slate-100"}},D=P=>{switch(P){case"SALE":return"";case"CLIENT":return"";case"BATCH":return"";case"STOCK":return"";case"TRANSACTION":return"";case"ORDER":return"";case"SYSTEM":return"";default:return""}},q=P=>{const j=(I.getTime()-new Date(P).getTime())/1e3;return j<60?"agora":j<3600?`${Math.floor(j/60)}min`:j<86400?`${Math.floor(j/3600)}h`:`${Math.floor(j/86400)}d`};return u.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-[#f8fafc] technical-grid animate-reveal pb-20 font-sans",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-slate-900 hover:border-slate-300 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white shadow-xl",children:u.jsx(Lc,{size:24})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-black tracking-tight text-gray-900",children:["Auditoria ",u.jsx("span",{className:"text-blue-600",children:"Geral"})]}),u.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:"Todas atividades  Todos usurios  Tempo real"})]})]})]}),u.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase tracking-wider hover:bg-blue-700 transition-all shadow-sm",children:[u.jsx(hT,{size:14,className:r?"animate-spin":""})," Atualizar"]})]}),u.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(mT,{size:16,className:"text-blue-600"}),u.jsx("h3",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Colaboradores"}),u.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[9px] font-black px-2 py-0.5 rounded-full uppercase",children:[O.length," Online"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[E.map(P=>{const j=O.some($=>$.id===P.id);return u.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-xl border transition-all cursor-pointer ${f===P.id?"bg-blue-50 border-blue-300 shadow-md":j?"bg-emerald-50/50 border-emerald-100":"bg-slate-50/50 border-slate-100"}`,onClick:()=>h(f===P.id?"ALL":P.id),children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-black text-white ${j?"bg-emerald-500":"bg-slate-400"}`,children:P.name.charAt(0).toUpperCase()}),j&&u.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white animate-pulse"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:P.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[j?u.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-emerald-600 uppercase",children:[u.jsx(SK,{size:8})," Online"]}):u.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-slate-400 uppercase",children:[u.jsx(AK,{size:8})," ",q(P.lastActive)]}),u.jsxs("span",{className:"text-[8px] font-bold text-slate-300",children:[" ",P.actions," aes"]})]})]})]},P.id)}),E.length===0&&u.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase",children:"Nenhum usurio registrado nos logs"})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto mb-4 flex flex-wrap gap-3 items-center",children:[u.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[u.jsx(ym,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),u.jsx("input",{type:"text",placeholder:"Pesquisar atividade, usurio...",className:"w-full bg-white border border-slate-100 rounded-xl py-2 pl-10 pr-4 text-xs font-bold text-slate-700 outline-none focus:border-blue-300 shadow-sm",value:a,onChange:P=>s(P.target.value)})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-100 rounded-xl px-2 py-1 shadow-sm",children:[u.jsx(vm,{size:12,className:"text-blue-500 ml-1"}),u.jsx("input",{type:"date",className:"text-[10px] font-bold text-slate-600 bg-transparent outline-none px-1",value:y,onChange:P=>N(P.target.value)}),y&&u.jsx("button",{onClick:()=>N(""),className:"text-[9px] font-black text-rose-400 px-1",children:""})]}),u.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:" Cliente",value:"CLIENT"},{label:" Lote",value:"BATCH"},{label:" Venda",value:"SALE"},{label:" Financeiro",value:"TRANSACTION"},{label:" Estoque",value:"STOCK"},{label:" Sistema",value:"SYSTEM"}].map(P=>u.jsx("button",{onClick:()=>c(P.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${l===P.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:P.label},P.value))}),u.jsx("div",{className:"flex p-0.5 bg-white rounded-xl border border-slate-100 shadow-sm overflow-x-auto no-scrollbar",children:[{label:"Todos",value:"ALL"},{label:"Entrou",value:"LOGIN"},{label:"Criou",value:"CREATE"},{label:"Editou",value:"UPDATE"},{label:"Excluiu",value:"DELETE"}].map(P=>u.jsx("button",{onClick:()=>g(P.value),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${m===P.value?"bg-slate-900 text-white shadow":"text-slate-400 hover:bg-slate-50"}`,children:P.label},P.value))})]}),u.jsx("div",{className:"max-w-7xl mx-auto mb-3 flex items-center gap-3 px-1",children:u.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:[F.length," registros ",f!=="ALL"&&" Filtrando por usurio"," ",y&&` Data: ${y}`]})}),u.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:r?u.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-4",children:[u.jsx(As,{className:"animate-spin text-blue-600",size:40}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Carregando registros..."})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",style:{fontSize:"11px"},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[u.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider w-36",children:"Quando"}),u.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"Quem"}),u.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-24",children:"Ao"}),u.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider text-center w-28",children:"Mdulo"}),u.jsx("th",{className:"px-4 py-2.5 text-[9px] font-black text-slate-500 uppercase tracking-wider",children:"O que fez"})]})}),u.jsx("tbody",{children:F.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:5,className:"py-20 text-center",children:[u.jsx(Up,{size:48,className:"mx-auto mb-3 text-slate-200"}),u.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Nenhum registro encontrado"})]})}):F.map(P=>{var $,G;const j=O.some(V=>V.id===P.userId);return u.jsxs("tr",{className:"border-b border-slate-50 hover:bg-blue-50/30 transition-colors group",children:[u.jsxs("td",{className:"px-4 py-2.5",children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:new Date(P.timestamp).toLocaleDateString("pt-BR")}),u.jsxs("p",{className:"text-[9px] font-bold text-slate-400 flex items-center gap-1 mt-0.5",children:[u.jsx(o0,{size:9})," ",new Date(P.timestamp).toLocaleTimeString("pt-BR")]}),u.jsxs("p",{className:"text-[8px] font-bold text-blue-400 mt-0.5",children:[q(P.timestamp)," atrs"]})]}),u.jsx("td",{className:"px-4 py-2.5",children:u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-black text-white ${j?"bg-emerald-500":"bg-slate-400"}`,children:(P.userName||(($=P.userEmail)==null?void 0:$.split("@")[0])||"?").charAt(0).toUpperCase()}),j&&u.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-emerald-400 rounded-full border-2 border-white"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-black text-slate-800 uppercase leading-none",children:P.userName||((G=P.userEmail)==null?void 0:G.split("@")[0])||"Sistema"}),u.jsx("p",{className:"text-[8px] font-bold text-slate-400 mt-0.5 truncate max-w-[140px]",children:P.userEmail})]})]})}),u.jsx("td",{className:"px-4 py-2.5 text-center",children:u.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-lg border text-[8px] font-black uppercase tracking-wider ${U(P.action)}`,children:y1e[P.action]||P.action})}),u.jsxs("td",{className:"px-4 py-2.5 text-center",children:[u.jsx("span",{className:"text-sm mr-1",children:D(P.entity)}),u.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase",children:x1e[P.entity]||P.entity})]}),u.jsx("td",{className:"px-4 py-2.5",children:u.jsx("p",{className:"text-xs font-bold text-slate-700 leading-relaxed max-w-xl",children:P.details})})]},P.id)})})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto mt-6 flex flex-wrap justify-between items-center gap-3 border-t border-slate-100 pt-6 opacity-40",children:[u.jsxs("div",{className:"flex gap-4 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})," ",O.length," Online Agora"]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," ",e.length," Logs Carregados"]})]}),u.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"THIAGO 704 // Auditoria em Tempo Real"})]})]})};var _1e={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let w1e,A1e;function E1e(){return{geminiUrl:w1e,vertexUrl:A1e}}function S1e(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=E1e();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu{}function kt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];w(h,e.slice(a+1),n[f])}else for(const f of c)w(f,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];w(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(l=>x(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function N1e(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&a.length>l)for(let c=l;c<a.length;c++){const f=a[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}QN(t,i,a,0,s)}}function QN(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])QN(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of l)c[f]=s[f];for(const[f,h]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(f):m.push(g);w(s,m,h)}for(const f of l)delete s[f]}}else{const s=t;a in s&&QN(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1e(t){const e={},n=x(t,["operationName"]);n!=null&&w(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function C1e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],R1e(s)),e}function I1e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],O1e(s)),e}function R1e(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>k1e(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function O1e(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>P1e(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function k1e(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],U1e(n)),e}function P1e(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],V1e(n)),e}function j1e(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function D1e(t){const e={},n=x(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function M1e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],L1e(s)),e}function L1e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function k$(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],F1e(s)),e}function F1e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function U1e(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],CI(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function V1e(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],CI(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var v8;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(v8||(v8={}));var y8;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(y8||(y8={}));var x8;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(x8||(x8={}));var $d;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($d||($d={}));var b8;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(b8||(b8={}));var _8;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(_8||(_8={}));var w8;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(w8||(w8={}));var A8;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(A8||(A8={}));var E8;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(E8||(E8={}));var S8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(S8||(S8={}));var N8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(N8||(N8={}));var T8;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(T8||(T8={}));var C8;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(C8||(C8={}));var I8;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(I8||(I8={}));var R8;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(R8||(R8={}));var O8;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(O8||(O8={}));var k8;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(k8||(k8={}));var P8;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(P8||(P8={}));var j8;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(j8||(j8={}));var D8;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(D8||(D8={}));var M8;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(M8||(M8={}));var U1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(U1||(U1={}));var L8;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(L8||(L8={}));var F8;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(F8||(F8={}));var U8;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(U8||(U8={}));var ZN;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ZN||(ZN={}));var V8;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(V8||(V8={}));var q8;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(q8||(q8={}));var B8;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(B8||(B8={}));var $8;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($8||($8={}));var z8;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(z8||(z8={}));var G8;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(G8||(G8={}));var H8;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(H8||(H8={}));var W8;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(W8||(W8={}));var K8;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(K8||(K8={}));var Y8;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Y8||(Y8={}));var X8;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(X8||(X8={}));var J8;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(J8||(J8={}));var Q8;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Q8||(Q8={}));var Z8;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Z8||(Z8={}));var e7;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(e7||(e7={}));var t7;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(t7||(t7={}));var n7;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(n7||(n7={}));var r7;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(r7||(r7={}));var i7;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(i7||(i7={}));var a7;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(a7||(a7={}));var s7;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(s7||(s7={}));var o7;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(o7||(o7={}));var l7;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(l7||(l7={}));var c7;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(c7||(c7={}));var u7;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(u7||(u7={}));var d7;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(d7||(d7={}));var f7;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(f7||(f7={}));var h7;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(h7||(h7={}));var p7;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(p7||(p7={}));var wp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(wp||(wp={}));class eT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Rg{get text(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const g of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,N]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(N!==null||N!==void 0)&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&(y!==null||y!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class m7{}class g7{}class q1e{}class B1e{}class $1e{}class z1e{}class v7{}class y7{}class x7{}class G1e{}class V1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new V1;let i;const a=e;return n?i=I1e(a):i=C1e(a),Object.assign(r,i),r}}class b7{}class _7{}class w7{}class A7{}class H1e{}class W1e{}class K1e{}class II{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new II,a=M1e(e);return Object.assign(r,a),r}}class Y1e{}class X1e{}class J1e{}class E7{}class Q1e{get text(){var e,n,r;let i="",a=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&a.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Z1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class RI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new RI,a=k$(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ar(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function P$(t,e){const n=ar(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function j$(t){return Array.isArray(t)?t.map(e=>q1(e)):[q1(t)]}function q1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function D$(t){const e=q1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function M$(t){const e=q1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function S7(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function L$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>S7(e)):[S7(t)]}function tT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function N7(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function T7(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ss(t){if(t==null)throw new Error("ContentUnion is required");return tT(t)?t:{role:"user",parts:L$(t)}}function OI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ss(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ss(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ss(n)):[ss(e)]}function Ko(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(N7(t)||T7(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ss(t)]}const e=[],n=[],r=tT(t[0]);for(const i of t){const a=tT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(N7(i)||T7(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:L$(n)}),e}function ebe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values($d).includes(n[0].toUpperCase())?n[0].toUpperCase():$d.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values($d).includes(r.toUpperCase())?r.toUpperCase():$d.TYPE_UNSPECIFIED})}}function Lp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&ebe(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values($d).includes(l.toUpperCase())?l.toUpperCase():$d.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Lp(l);else if(r.includes(s)){const c=[];for(const f of l){if(f.type=="null"){e.nullable=!0;continue}c.push(Lp(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(l))c[f]=Lp(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function kI(t){return Lp(t)}function PI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Dm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Lp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Lp(e.response));return t}function Mm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function tbe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Gu(t,e){if(typeof e!="string")throw new Error("name must be a string");return tbe(t,e,"cachedContents")}function F$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function bf(t){return CI(t)}function nbe(t){return t!=null&&typeof t=="object"&&"name"in t}function rbe(t){return t!=null&&typeof t=="object"&&"video"in t}function ibe(t){return t!=null&&typeof t=="object"&&"uri"in t}function U$(t){var e;let n;if(nbe(t)&&(n=t.name),!(ibe(t)&&(n=t.uri,n===void 0))&&!(rbe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function V$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function q$(t){for(const e of["models","tunedModels","publisherModels"])if(abe(t,e))return t[e];return[]}function abe(t,e){return t!==null&&typeof t=="object"&&e in t}function sbe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function obe(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=sbe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function B$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function lbe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Lm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function z$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cbe(t){const e={},n=x(t,["responsesFile"]);n!=null&&w(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>$be(s))),w(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["inlinedEmbedContentResponses"],a)}return e}function ube(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function dbe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function lx(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&w(e,["state"],z$(i));const a=x(t,["metadata","createTime"]);a!=null&&w(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&w(e,["endTime"],s);const l=x(t,["metadata","updateTime"]);l!=null&&w(e,["updateTime"],l);const c=x(t,["metadata","model"]);c!=null&&w(e,["model"],c);const f=x(t,["metadata","output"]);return f!=null&&w(e,["dest"],cbe($$(f))),e}function nT(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["state"]);i!=null&&w(e,["state"],z$(i));const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["createTime"]);s!=null&&w(e,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(e,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(e,["endTime"],c);const f=x(t,["updateTime"]);f!=null&&w(e,["updateTime"],f);const h=x(t,["model"]);h!=null&&w(e,["model"],h);const m=x(t,["inputConfig"]);m!=null&&w(e,["src"],fbe(m));const g=x(t,["outputConfig"]);g!=null&&w(e,["dest"],ube($$(g)));const y=x(t,["completionStats"]);return y!=null&&w(e,["completionStats"],y),e}function fbe(t){const e={},n=x(t,["instancesFormat"]);n!=null&&w(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function hbe(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&w(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Bbe(t,s))),w(n,["requests","requests"],a)}return n}function pbe(t){const e={},n=x(t,["format"]);n!=null&&w(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mbe(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function gbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function vbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function ybe(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],xbe(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const f=x(t,["logprobsResult"]);f!=null&&w(e,["logprobsResult"],f);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function xbe(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function G$(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Xbe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function bbe(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _be(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],dbe(lbe(i))),n}function C7(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],hbe(t,B$(t,i)));const a=x(e,["config"]);return a!=null&&bbe(a,n),n}function wbe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],ar(t,r));const i=x(e,["src"]);i!=null&&w(n,["inputConfig"],pbe(B$(t,i)));const a=x(e,["config"]);return a!=null&&_be(a,n),n}function Abe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),n}function Ebe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["src"]);i!=null&&w(n,["batch","inputConfig"],Obe(t,i));const a=x(e,["config"]);return a!=null&&Abe(a,n),n}function Sbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Nbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Tbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function Cbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);return a!=null&&w(e,["error"],a),e}function Ibe(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=OI(t,r);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(w(n,["_self"],Rbe(i,n)),N1e(n,{"requests[].*":"requests[].request.*"})),n}function Rbe(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Obe(t,e){const n={},r=x(e,["fileName"]);r!=null&&w(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&w(n,["requests"],Ibe(t,i)),n}function kbe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Pbe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jbe(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dbe(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],G$(ss(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const f=x(e,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const E=x(e,["responseMimeType"]);E!=null&&w(r,["responseMimeType"],E);const I=x(e,["responseSchema"]);I!=null&&w(r,["responseSchema"],kI(I));const O=x(e,["responseJsonSchema"]);if(O!=null&&w(r,["responseJsonSchema"],O),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=x(e,["safetySettings"]);if(n!==void 0&&F!=null){let k=F;Array.isArray(k)&&(k=k.map(J=>Jbe(J))),w(n,["safetySettings"],k)}const U=x(e,["tools"]);if(n!==void 0&&U!=null){let k=Mm(U);Array.isArray(k)&&(k=k.map(J=>Zbe(Dm(J)))),w(n,["tools"],k)}const D=x(e,["toolConfig"]);if(n!==void 0&&D!=null&&w(n,["toolConfig"],Qbe(D)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=x(e,["cachedContent"]);n!==void 0&&q!=null&&w(n,["cachedContent"],Gu(t,q));const P=x(e,["responseModalities"]);P!=null&&w(r,["responseModalities"],P);const j=x(e,["mediaResolution"]);j!=null&&w(r,["mediaResolution"],j);const $=x(e,["speechConfig"]);if($!=null&&w(r,["speechConfig"],PI($)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=x(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const V=x(e,["imageConfig"]);V!=null&&w(r,["imageConfig"],qbe(V));const L=x(e,["enableEnhancedCivicAnswers"]);return L!=null&&w(r,["enableEnhancedCivicAnswers"],L),r}function Mbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ybe(f))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function Lbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Fbe(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Lm(t,r)),n}function Ube(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function Vbe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function qbe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Bbe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["request","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let l=Ko(i);Array.isArray(l)&&(l=l.map(c=>G$(c))),w(n,["request","contents"],l)}const a=x(e,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&w(n,["request","generationConfig"],Dbe(t,s,x(n,["request"],{}))),n}function $be(t){const e={},n=x(t,["response"]);n!=null&&w(e,["response"],Mbe(n));const r=x(t,["error"]);return r!=null&&w(e,["error"],r),e}function zbe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Gbe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),n}function Hbe(t){const e={},n=x(t,["config"]);return n!=null&&zbe(n,e),e}function Wbe(t){const e={},n=x(t,["config"]);return n!=null&&Gbe(n,e),e}function Kbe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>lx(s))),w(e,["batchJobs"],a)}return e}function Ybe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>nT(s))),w(e,["batchJobs"],a)}return e}function Xbe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],kbe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],Pbe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],mbe(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Jbe(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Qbe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],jbe(r)),e}function Zbe(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],Ube(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],Vbe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Uu||(Uu={}));class Ah{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e_e extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Uu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=C7(this.apiClient,e),r=n._url,i=kt("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,f=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=g,m.request=y}f.push(m)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=wbe(this.apiClient,e);return l=kt("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>nT(h))}else{const f=C7(this.apiClient,e);return l=kt("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>lx(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ebe(this.apiClient,e);return a=kt("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>lx(c))}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Fbe(this.apiClient,e);return l=kt("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>nT(h))}else{const f=Lbe(this.apiClient,e);return l=kt("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>lx(h))}}async cancel(e){var n,r,i,a;let s="",l={};if(this.apiClient.isVertexAI()){const c=vbe(this.apiClient,e);s=kt("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=gbe(this.apiClient,e);s=kt("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Wbe(e);return l=kt("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Ybe(h),g=new E7;return Object.assign(g,m),g})}else{const f=Hbe(e);return l=kt("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Kbe(h),g=new E7;return Object.assign(g,m),g})}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Nbe(this.apiClient,e);return l=kt("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Cbe(h))}else{const f=Sbe(this.apiClient,e);return l=kt("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Tbe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t_e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function I7(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>E_e(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function n_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=Ko(s);Array.isArray(h)&&(h=h.map(m=>I7(m))),w(e,["contents"],h)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],I7(ss(l)));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>N_e(m))),w(e,["tools"],h)}const f=x(t,["toolConfig"]);if(e!==void 0&&f!=null&&w(e,["toolConfig"],S_e(f)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function r_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&w(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let m=Ko(s);Array.isArray(m)&&(m=m.map(g=>g)),w(e,["contents"],m)}const l=x(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],ss(l));const c=x(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>T_e(g))),w(e,["tools"],m)}const f=x(t,["toolConfig"]);e!==void 0&&f!=null&&w(e,["toolConfig"],f);const h=x(t,["kmsKeyName"]);return e!==void 0&&h!=null&&w(e,["encryption_spec","kmsKeyName"],h),n}function i_e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],P$(t,r));const i=x(e,["config"]);return i!=null&&n_e(i,n),n}function a_e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["model"],P$(t,r));const i=x(e,["config"]);return i!=null&&r_e(i,n),n}function s_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Gu(t,r)),n}function o_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Gu(t,r)),n}function l_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function c_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function u_e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function d_e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f_e(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function h_e(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function p_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Gu(t,r)),n}function m_e(t,e){const n={},r=x(e,["name"]);return r!=null&&w(n,["_url","name"],Gu(t,r)),n}function g_e(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function v_e(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function y_e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function x_e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function b_e(t){const e={},n=x(t,["config"]);return n!=null&&y_e(n,e),e}function __e(t){const e={},n=x(t,["config"]);return n!=null&&x_e(n,e),e}function w_e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function A_e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["cachedContents"],a)}return e}function E_e(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],u_e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],d_e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],t_e(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function S_e(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],f_e(r)),e}function N_e(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],g_e(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],v_e(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function T_e(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>h_e(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=x(t,["googleSearchRetrieval"]);f!=null&&w(e,["googleSearchRetrieval"],f);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function C_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function I_e(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function R_e(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],Gu(t,r));const i=x(e,["config"]);return i!=null&&C_e(i,n),n}function O_e(t,e){const n={},r=x(e,["name"]);r!=null&&w(n,["_url","name"],Gu(t,r));const i=x(e,["config"]);return i!=null&&I_e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_e extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Uu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=a_e(this.apiClient,e);return l=kt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=i_e(this.apiClient,e);return l=kt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=m_e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=p_e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=o_e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=c_e(h),g=new w7;return Object.assign(g,m),g})}else{const f=s_e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=l_e(h),g=new w7;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=O_e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=R_e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=__e(e);return l=kt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=A_e(h),g=new A7;return Object.assign(g,m),g})}else{const f=b_e(e);return l=kt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=w_e(h),g=new A7;return Object.assign(g,m),g})}}}function B1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function R7(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dn(t){return this instanceof dn?(this.v=t,this):new dn(t)}function Ol(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(N){return Promise.resolve(N).then(y,m)}}function l(y,N){r[y]&&(i[y]=function(A){return new Promise(function(E,I){a.push([y,A,E,I])>1||c(y,A)})},N&&(i[y]=N(i[y])))}function c(y,N){try{f(r[y](N))}catch(A){g(a[0][3],A)}}function f(y){y.value instanceof dn?Promise.resolve(y.value.v).then(h,m):g(a[0][2],y)}function h(y){c("next",y)}function m(y){c("throw",y)}function g(y,N){y(N),a.shift(),a.length&&c(a[0][0],a[0][1])}}function kl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof R7=="function"?R7(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(l,c){s=t[a](s),i(l,c,s.done,s.value)})}}function i(a,s,l,c){Promise.resolve(c).then(function(f){a({value:f,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:H$(n)}function H$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function j_e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function O7(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!H$(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class D_e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new M_e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class M_e{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),j_e(a)}async sendMessage(e){var n;await this.sendPromise;const r=ss(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,l;const c=await i,f=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(m))!==null&&l!==void 0?l:[]);const y=f?[f]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ss(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?O7(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ol(this,arguments,function*(){var i,a,s,l,c,f;const h=[];try{for(var m=!0,g=kl(e),y;y=yield dn(g.next()),i=y.done,!i;m=!0){l=y.value,m=!1;const N=l;if(P_e(N)){const A=(f=(c=N.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;A!==void 0&&h.push(A)}yield yield dn(N)}}catch(N){a={error:N}}finally{try{!m&&!i&&(s=g.return)&&(yield dn(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...O7(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L_e(t){const e={},n=x(t,["file"]);return n!=null&&w(e,["file"],n),e}function F_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function U_e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],U$(n)),e}function V_e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function q_e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","file"],U$(n)),e}function B_e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function $_e(t){const e={},n=x(t,["config"]);return n!=null&&B_e(n,e),e}function z_e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G_e extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Uu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$_e(e);return a=kt("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=z_e(c),h=new Y1e;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=L_e(e);return a=kt("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=F_e(c),h=new X1e;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=q_e(e);return a=kt("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=U_e(e);return a=kt("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=V_e(c),h=new J1e;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function H_e(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>l2e(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function W_e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function K_e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Y_e(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function X_e(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const f=x(t,["maxOutputTokens"]);f!=null&&w(e,["maxOutputTokens"],f);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const A=x(t,["responseSchema"]);A!=null&&w(e,["responseSchema"],A);const E=x(t,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const I=x(t,["seed"]);I!=null&&w(e,["seed"],I);const O=x(t,["speechConfig"]);O!=null&&w(e,["speechConfig"],O);const F=x(t,["stopSequences"]);F!=null&&w(e,["stopSequences"],F);const U=x(t,["temperature"]);U!=null&&w(e,["temperature"],U);const D=x(t,["thinkingConfig"]);D!=null&&w(e,["thinkingConfig"],D);const q=x(t,["topK"]);q!=null&&w(e,["topK"],q);const P=x(t,["topP"]);if(P!=null&&w(e,["topP"],P),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function J_e(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function Q_e(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function Z_e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const f=x(t,["mediaResolution"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","mediaResolution"],f);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],jI(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],H_e(ss(N)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let q=Mm(A);Array.isArray(q)&&(q=q.map(P=>u2e(Dm(P)))),w(e,["setup","tools"],q)}const E=x(t,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],c2e(E));const I=x(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","inputAudioTranscription"],I);const O=x(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&w(e,["setup","outputAudioTranscription"],O);const F=x(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&w(e,["setup","realtimeInputConfig"],F);const U=x(t,["contextWindowCompression"]);e!==void 0&&U!=null&&w(e,["setup","contextWindowCompression"],U);const D=x(t,["proactivity"]);if(e!==void 0&&D!=null&&w(e,["setup","proactivity"],D),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function e2e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],X_e(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const f=x(t,["mediaResolution"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","mediaResolution"],f);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],jI(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],ss(N));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let P=Mm(A);Array.isArray(P)&&(P=P.map(j=>d2e(Dm(j)))),w(e,["setup","tools"],P)}const E=x(t,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const I=x(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","inputAudioTranscription"],I);const O=x(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&w(e,["setup","outputAudioTranscription"],O);const F=x(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&w(e,["setup","realtimeInputConfig"],F);const U=x(t,["contextWindowCompression"]);e!==void 0&&U!=null&&w(e,["setup","contextWindowCompression"],U);const D=x(t,["proactivity"]);e!==void 0&&D!=null&&w(e,["setup","proactivity"],D);const q=x(t,["explicitVadSignal"]);return e!==void 0&&q!=null&&w(e,["setup","explicitVadSignal"],q),n}function t2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],Z_e(i,n)),n}function n2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],e2e(i,n)),n}function r2e(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&w(e,["musicGenerationConfig"],n),e}function i2e(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function a2e(t){const e={},n=x(t,["media"]);if(n!=null){let f=j$(n);Array.isArray(f)&&(f=f.map(h=>cx(h))),w(e,["mediaChunks"],f)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],cx(M$(r)));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],cx(D$(a)));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function s2e(t){const e={},n=x(t,["media"]);if(n!=null){let f=j$(n);Array.isArray(f)&&(f=f.map(h=>h)),w(e,["mediaChunks"],f)}const r=x(t,["audio"]);r!=null&&w(e,["audio"],M$(r));const i=x(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&w(e,["video"],D$(a));const s=x(t,["text"]);s!=null&&w(e,["text"],s);const l=x(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const c=x(t,["activityEnd"]);return c!=null&&w(e,["activityEnd"],c),e}function o2e(t){const e={},n=x(t,["setupComplete"]);n!=null&&w(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&w(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&w(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&w(e,["usageMetadata"],f2e(s));const l=x(t,["goAway"]);l!=null&&w(e,["goAway"],l);const c=x(t,["sessionResumptionUpdate"]);c!=null&&w(e,["sessionResumptionUpdate"],c);const f=x(t,["voiceActivityDetectionSignal"]);f!=null&&w(e,["voiceActivityDetectionSignal"],f);const h=x(t,["voiceActivity"]);return h!=null&&w(e,["voiceActivity"],h2e(h)),e}function l2e(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],W_e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],K_e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],cx(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function c2e(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function u2e(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],J_e(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],Q_e(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function d2e(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>Y_e(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=x(t,["googleSearchRetrieval"]);f!=null&&w(e,["googleSearchRetrieval"],f);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function f2e(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&w(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&w(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&w(e,["thoughtsTokenCount"],s);const l=x(t,["totalTokenCount"]);l!=null&&w(e,["totalTokenCount"],l);const c=x(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["promptTokensDetails"],y)}const f=x(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["cacheTokensDetails"],y)}const h=x(t,["candidatesTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["responseTokensDetails"],y)}const m=x(t,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(N=>N)),w(e,["toolUsePromptTokensDetails"],y)}const g=x(t,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}function h2e(t){const e={},n=x(t,["type"]);return n!=null&&w(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p2e(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function m2e(t){const e={},n=x(t,["content"]);n!=null&&w(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],g2e(r));const i=x(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&w(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&w(e,["avgLogprobs"],s);const l=x(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const c=x(t,["index"]);c!=null&&w(e,["index"],c);const f=x(t,["logprobsResult"]);f!=null&&w(e,["logprobsResult"],f);const h=x(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),w(e,["safetyRatings"],g)}const m=x(t,["urlContextMetadata"]);return m!=null&&w(e,["urlContextMetadata"],m),e}function g2e(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function v2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let a=Ko(i);Array.isArray(a)&&(a=a.map(s=>s)),w(n,["contents"],a)}return n}function y2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["tokensInfo"],i)}return e}function x2e(t){const e={},n=x(t,["values"]);n!=null&&w(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&w(e,["statistics"],b2e(r)),e}function b2e(t){const e={},n=x(t,["truncated"]);n!=null&&w(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function Yb(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Iwe(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function _2e(t){const e={},n=x(t,["controlType"]);n!=null&&w(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function w2e(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function A2e(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],ss(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>X$(l))),w(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&w(e,["generationConfig"],pwe(a)),n}function E2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>Yb(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w2e(a),n}function S2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&A2e(a,n),n}function N2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function T2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function C2e(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function I2e(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function R2e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function O2e(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function k2e(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const f=x(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&w(e,["parameters","safetySetting"],f);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const N=x(t,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","compressionQuality"],A);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const I=x(t,["labels"]);e!==void 0&&I!=null&&w(e,["labels"],I);const O=x(t,["editMode"]);e!==void 0&&O!=null&&w(e,["parameters","editMode"],O);const F=x(t,["baseSteps"]);return e!==void 0&&F!=null&&w(e,["parameters","editConfig","baseSteps"],F),n}function P2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Dwe(c))),w(n,["instances[0]","referenceImages"],l)}const s=x(e,["config"]);return s!=null&&k2e(s,n),n}function j2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Xb(a))),w(e,["generatedImages"],i)}return e}function D2e(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&w(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function M2e(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&w(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&w(e,["instances[]","mimeType"],s);const l=x(t,["autoTruncate"]);return e!==void 0&&l!=null&&w(e,["parameters","autoTruncate"],l),n}function L2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let l=OI(t,i);Array.isArray(l)&&(l=l.map(c=>c)),w(n,["requests[]","content"],l)}const a=x(e,["config"]);a!=null&&D2e(a,n);const s=x(e,["model"]);return s!==void 0&&w(n,["requests[]","model"],ar(t,s)),n}function F2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=OI(t,i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&M2e(a,n),n}function U2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function V2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>x2e(s))),w(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function q2e(t){const e={},n=x(t,["endpoint"]);n!=null&&w(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function B2e(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function $2e(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z2e(t){const e={},n=x(t,["allowedFunctionNames"]);n!=null&&w(e,["allowedFunctionNames"],n);const r=x(t,["mode"]);if(r!=null&&w(e,["mode"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function G2e(t){const e={},n=x(t,["description"]);n!=null&&w(e,["description"],n);const r=x(t,["name"]);r!=null&&w(e,["name"],r);const i=x(t,["parameters"]);i!=null&&w(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&w(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&w(e,["response"],s);const l=x(t,["responseJsonSchema"]);if(l!=null&&w(e,["responseJsonSchema"],l),x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function H2e(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Yb(ss(i)));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const f=x(e,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const E=x(e,["responseMimeType"]);E!=null&&w(r,["responseMimeType"],E);const I=x(e,["responseSchema"]);I!=null&&w(r,["responseSchema"],kI(I));const O=x(e,["responseJsonSchema"]);if(O!=null&&w(r,["responseJsonSchema"],O),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=x(e,["safetySettings"]);if(n!==void 0&&F!=null){let k=F;Array.isArray(k)&&(k=k.map(J=>Mwe(J))),w(n,["safetySettings"],k)}const U=x(e,["tools"]);if(n!==void 0&&U!=null){let k=Mm(U);Array.isArray(k)&&(k=k.map(J=>$we(Dm(J)))),w(n,["tools"],k)}const D=x(e,["toolConfig"]);if(n!==void 0&&D!=null&&w(n,["toolConfig"],Bwe(D)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=x(e,["cachedContent"]);n!==void 0&&q!=null&&w(n,["cachedContent"],Gu(t,q));const P=x(e,["responseModalities"]);P!=null&&w(r,["responseModalities"],P);const j=x(e,["mediaResolution"]);j!=null&&w(r,["mediaResolution"],j);const $=x(e,["speechConfig"]);if($!=null&&w(r,["speechConfig"],PI($)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=x(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const V=x(e,["imageConfig"]);V!=null&&w(r,["imageConfig"],xwe(V));const L=x(e,["enableEnhancedCivicAnswers"]);return L!=null&&w(r,["enableEnhancedCivicAnswers"],L),r}function W2e(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],ss(i));const a=x(e,["temperature"]);a!=null&&w(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&w(r,["topP"],s);const l=x(e,["topK"]);l!=null&&w(r,["topK"],l);const c=x(e,["candidateCount"]);c!=null&&w(r,["candidateCount"],c);const f=x(e,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=x(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const m=x(e,["responseLogprobs"]);m!=null&&w(r,["responseLogprobs"],m);const g=x(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const y=x(e,["presencePenalty"]);y!=null&&w(r,["presencePenalty"],y);const N=x(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const A=x(e,["seed"]);A!=null&&w(r,["seed"],A);const E=x(e,["responseMimeType"]);E!=null&&w(r,["responseMimeType"],E);const I=x(e,["responseSchema"]);I!=null&&w(r,["responseSchema"],kI(I));const O=x(e,["responseJsonSchema"]);O!=null&&w(r,["responseJsonSchema"],O);const F=x(e,["routingConfig"]);F!=null&&w(r,["routingConfig"],F);const U=x(e,["modelSelectionConfig"]);U!=null&&w(r,["modelConfig"],U);const D=x(e,["safetySettings"]);if(n!==void 0&&D!=null){let ne=D;Array.isArray(ne)&&(ne=ne.map(ie=>ie)),w(n,["safetySettings"],ne)}const q=x(e,["tools"]);if(n!==void 0&&q!=null){let ne=Mm(q);Array.isArray(ne)&&(ne=ne.map(ie=>X$(Dm(ie)))),w(n,["tools"],ne)}const P=x(e,["toolConfig"]);n!==void 0&&P!=null&&w(n,["toolConfig"],P);const j=x(e,["labels"]);n!==void 0&&j!=null&&w(n,["labels"],j);const $=x(e,["cachedContent"]);n!==void 0&&$!=null&&w(n,["cachedContent"],Gu(t,$));const G=x(e,["responseModalities"]);G!=null&&w(r,["responseModalities"],G);const V=x(e,["mediaResolution"]);V!=null&&w(r,["mediaResolution"],V);const L=x(e,["speechConfig"]);L!=null&&w(r,["speechConfig"],PI(L));const k=x(e,["audioTimestamp"]);k!=null&&w(r,["audioTimestamp"],k);const J=x(e,["thinkingConfig"]);J!=null&&w(r,["thinkingConfig"],J);const ce=x(e,["imageConfig"]);if(ce!=null&&w(r,["imageConfig"],bwe(ce)),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function k7(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>Yb(l))),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],H2e(t,a,n)),n}function P7(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ko(i);Array.isArray(s)&&(s=s.map(l=>l)),w(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&w(n,["generationConfig"],W2e(t,a,n)),n}function j7(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>m2e(f))),w(e,["candidates"],c)}const i=x(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&w(e,["responseId"],s);const l=x(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function D7(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["candidates"],f)}const i=x(t,["createTime"]);i!=null&&w(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&w(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const l=x(t,["responseId"]);l!=null&&w(e,["responseId"],l);const c=x(t,["usageMetadata"]);return c!=null&&w(e,["usageMetadata"],c),e}function K2e(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&w(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&w(e,["parameters","safetySetting"],s);const l=x(t,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const c=x(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&w(e,["parameters","includeSafetyAttributes"],c);const f=x(t,["includeRaiReason"]);e!==void 0&&f!=null&&w(e,["parameters","includeRaiReason"],f);const h=x(t,["language"]);e!==void 0&&h!=null&&w(e,["parameters","language"],h);const m=x(t,["outputMimeType"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","mimeType"],m);const g=x(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=x(t,["imageSize"]);if(e!==void 0&&y!=null&&w(e,["parameters","sampleImageSize"],y),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Y2e(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&w(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const l=x(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const c=x(t,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const f=x(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&w(e,["parameters","safetySetting"],f);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&w(e,["parameters","includeSafetyAttributes"],m);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const y=x(t,["language"]);e!==void 0&&y!=null&&w(e,["parameters","language"],y);const N=x(t,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","compressionQuality"],A);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const I=x(t,["labels"]);e!==void 0&&I!=null&&w(e,["labels"],I);const O=x(t,["imageSize"]);e!==void 0&&O!=null&&w(e,["parameters","sampleImageSize"],O);const F=x(t,["enhancePrompt"]);return e!==void 0&&F!=null&&w(e,["parameters","enhancePrompt"],F),n}function X2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&K2e(a,n),n}function J2e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Y2e(a,n),n}function Q2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>uwe(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],K$(i)),e}function Z2e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Xb(s))),w(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],Y$(i)),e}function ewe(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&w(e,["parameters","resolution"],s);const l=x(t,["personGeneration"]);if(e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=x(t,["negativePrompt"]);e!==void 0&&c!=null&&w(e,["parameters","negativePrompt"],c);const f=x(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&w(e,["parameters","enhancePrompt"],f),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=x(t,["lastFrame"]);e!==void 0&&h!=null&&w(e,["instances[0]","lastFrame"],Jb(h));const m=x(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>nAe(y))),w(e,["instances[0]","referenceImages"],g)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function twe(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&w(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&w(e,["parameters","durationSeconds"],s);const l=x(t,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&w(e,["parameters","aspectRatio"],c);const f=x(t,["resolution"]);e!==void 0&&f!=null&&w(e,["parameters","resolution"],f);const h=x(t,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const m=x(t,["pubsubTopic"]);e!==void 0&&m!=null&&w(e,["parameters","pubsubTopic"],m);const g=x(t,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const y=x(t,["enhancePrompt"]);e!==void 0&&y!=null&&w(e,["parameters","enhancePrompt"],y);const N=x(t,["generateAudio"]);e!==void 0&&N!=null&&w(e,["parameters","generateAudio"],N);const A=x(t,["lastFrame"]);e!==void 0&&A!=null&&w(e,["instances[0]","lastFrame"],Fl(A));const E=x(t,["referenceImages"]);if(e!==void 0&&E!=null){let F=E;Array.isArray(F)&&(F=F.map(U=>rAe(U))),w(e,["instances[0]","referenceImages"],F)}const I=x(t,["mask"]);e!==void 0&&I!=null&&w(e,["instances[0]","mask"],tAe(I));const O=x(t,["compressionQuality"]);return e!==void 0&&O!=null&&w(e,["parameters","compressionQuality"],O),n}function nwe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&w(e,["response"],swe(s)),e}function rwe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],owe(s)),e}function iwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Jb(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],J$(s));const l=x(e,["source"]);l!=null&&lwe(l,n);const c=x(e,["config"]);return c!=null&&ewe(c,n),n}function awe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&w(n,["instances[0]","image"],Fl(a));const s=x(e,["video"]);s!=null&&w(n,["instances[0]","video"],Q$(s));const l=x(e,["source"]);l!=null&&cwe(l,n);const c=x(e,["config"]);return c!=null&&twe(c,n),n}function swe(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>fwe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function owe(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>hwe(s))),w(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function lwe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Jb(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],J$(a)),n}function cwe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Fl(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&w(e,["instances[0]","video"],Q$(a)),n}function uwe(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],_we(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&w(e,["safetyAttributes"],K$(i)),e}function Xb(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["image"],W$(n));const r=x(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&w(e,["safetyAttributes"],Y$(i));const a=x(t,["prompt"]);return a!=null&&w(e,["enhancedPrompt"],a),e}function dwe(t){const e={},n=x(t,["_self"]);n!=null&&w(e,["mask"],W$(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(e,["labels"],i)}return e}function fwe(t){const e={},n=x(t,["video"]);return n!=null&&w(e,["video"],Zwe(n)),e}function hwe(t){const e={},n=x(t,["_self"]);return n!=null&&w(e,["video"],eAe(n)),e}function pwe(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&w(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&w(e,["enableAffectiveDialog"],s);const l=x(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const c=x(t,["logprobs"]);c!=null&&w(e,["logprobs"],c);const f=x(t,["maxOutputTokens"]);f!=null&&w(e,["maxOutputTokens"],f);const h=x(t,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const m=x(t,["presencePenalty"]);m!=null&&w(e,["presencePenalty"],m);const g=x(t,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const y=x(t,["responseMimeType"]);y!=null&&w(e,["responseMimeType"],y);const N=x(t,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const A=x(t,["responseSchema"]);A!=null&&w(e,["responseSchema"],A);const E=x(t,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const I=x(t,["seed"]);I!=null&&w(e,["seed"],I);const O=x(t,["speechConfig"]);O!=null&&w(e,["speechConfig"],O);const F=x(t,["stopSequences"]);F!=null&&w(e,["stopSequences"],F);const U=x(t,["temperature"]);U!=null&&w(e,["temperature"],U);const D=x(t,["thinkingConfig"]);D!=null&&w(e,["thinkingConfig"],D);const q=x(t,["topK"]);q!=null&&w(e,["topK"],q);const P=x(t,["topP"]);if(P!=null&&w(e,["topP"],P),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function mwe(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function gwe(t,e){const n={},r=x(e,["model"]);return r!=null&&w(n,["_url","name"],ar(t,r)),n}function vwe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function ywe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function xwe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),x(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bwe(t){const e={},n=x(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=x(t,["personGeneration"]);i!=null&&w(e,["personGeneration"],i);const a=x(t,["outputMimeType"]);a!=null&&w(e,["imageOutputOptions","mimeType"],a);const s=x(t,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function _we(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&w(e,["imageBytes"],bf(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function W$(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],bf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Jb(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&w(e,["bytesBase64Encoded"],bf(n));const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Fl(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],bf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function wwe(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],V$(t,l)),r}function Awe(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&w(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&w(n,["_query","filter"],s);const l=x(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],V$(t,l)),r}function Ewe(t,e){const n={},r=x(e,["config"]);return r!=null&&wwe(t,r,n),n}function Swe(t,e){const n={},r=x(e,["config"]);return r!=null&&Awe(t,r,n),n}function Nwe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=q$(i);Array.isArray(a)&&(a=a.map(s=>rT(s))),w(e,["models"],a)}return e}function Twe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=q$(i);Array.isArray(a)&&(a=a.map(s=>iT(s))),w(e,["models"],a)}return e}function Cwe(t){const e={},n=x(t,["maskMode"]);n!=null&&w(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function rT(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["version"]);a!=null&&w(e,["version"],a);const s=x(t,["_self"]);s!=null&&w(e,["tunedModelInfo"],zwe(s));const l=x(t,["inputTokenLimit"]);l!=null&&w(e,["inputTokenLimit"],l);const c=x(t,["outputTokenLimit"]);c!=null&&w(e,["outputTokenLimit"],c);const f=x(t,["supportedGenerationMethods"]);f!=null&&w(e,["supportedActions"],f);const h=x(t,["temperature"]);h!=null&&w(e,["temperature"],h);const m=x(t,["maxTemperature"]);m!=null&&w(e,["maxTemperature"],m);const g=x(t,["topP"]);g!=null&&w(e,["topP"],g);const y=x(t,["topK"]);y!=null&&w(e,["topK"],y);const N=x(t,["thinking"]);return N!=null&&w(e,["thinking"],N),e}function iT(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);i!=null&&w(e,["description"],i);const a=x(t,["versionId"]);a!=null&&w(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>q2e(g))),w(e,["endpoints"],m)}const l=x(t,["labels"]);l!=null&&w(e,["labels"],l);const c=x(t,["_self"]);c!=null&&w(e,["tunedModelInfo"],Gwe(c));const f=x(t,["defaultCheckpointId"]);f!=null&&w(e,["defaultCheckpointId"],f);const h=x(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),w(e,["checkpoints"],m)}return e}function Iwe(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],B2e(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],$2e(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],p2e(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Rwe(t){const e={},n=x(t,["productImage"]);return n!=null&&w(e,["image"],Fl(n)),e}function Owe(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&w(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&w(e,["parameters","seed"],s);const l=x(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&w(e,["parameters","safetySetting"],l);const c=x(t,["personGeneration"]);e!==void 0&&c!=null&&w(e,["parameters","personGeneration"],c);const f=x(t,["addWatermark"]);e!==void 0&&f!=null&&w(e,["parameters","addWatermark"],f);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const m=x(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&w(e,["parameters","outputOptions","compressionQuality"],m);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const y=x(t,["labels"]);return e!==void 0&&y!=null&&w(e,["labels"],y),n}function kwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["source"]);i!=null&&jwe(i,n);const a=x(e,["config"]);return a!=null&&Owe(a,n),n}function Pwe(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xb(i))),w(e,["generatedImages"],r)}return e}function jwe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Fl(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Rwe(l))),w(e,["instances[0]","productImages"],s)}return n}function Dwe(t){const e={},n=x(t,["referenceImage"]);n!=null&&w(e,["referenceImage"],Fl(n));const r=x(t,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&w(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&w(e,["maskImageConfig"],Cwe(a));const s=x(t,["controlImageConfig"]);s!=null&&w(e,["controlImageConfig"],_2e(s));const l=x(t,["styleImageConfig"]);l!=null&&w(e,["styleImageConfig"],l);const c=x(t,["subjectImageConfig"]);return c!=null&&w(e,["subjectImageConfig"],c),e}function K$(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Y$(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Mwe(t){const e={},n=x(t,["category"]);if(n!=null&&w(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Lwe(t){const e={},n=x(t,["image"]);return n!=null&&w(e,["image"],Fl(n)),e}function Fwe(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&w(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&w(e,["parameters","maskDilation"],s);const l=x(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&w(e,["parameters","binaryColorThreshold"],l);const c=x(t,["labels"]);return e!==void 0&&c!=null&&w(e,["labels"],c),n}function Uwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["source"]);i!=null&&qwe(i,n);const a=x(e,["config"]);return a!=null&&Fwe(a,n),n}function Vwe(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dwe(i))),w(e,["generatedMasks"],r)}return e}function qwe(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Fl(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&w(e,["instances[0]","scribble"],Lwe(a)),n}function Bwe(t){const e={},n=x(t,["retrievalConfig"]);n!=null&&w(e,["retrievalConfig"],n);const r=x(t,["functionCallingConfig"]);return r!=null&&w(e,["functionCallingConfig"],z2e(r)),e}function $we(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],vwe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],ywe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function X$(t){const e={},n=x(t,["retrieval"]);n!=null&&w(e,["retrieval"],n);const r=x(t,["computerUse"]);if(r!=null&&w(e,["computerUse"],r),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(t,["codeExecution"]);i!=null&&w(e,["codeExecution"],i);const a=x(t,["enterpriseWebSearch"]);a!=null&&w(e,["enterpriseWebSearch"],a);const s=x(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>G2e(g))),w(e,["functionDeclarations"],m)}const l=x(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=x(t,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=x(t,["googleSearchRetrieval"]);f!=null&&w(e,["googleSearchRetrieval"],f);const h=x(t,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function zwe(t){const e={},n=x(t,["baseModel"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function Gwe(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function Hwe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Wwe(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&w(e,["defaultCheckpointId"],a),n}function Kwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","name"],ar(t,r));const i=x(e,["config"]);return i!=null&&Hwe(i,n),n}function Ywe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&Wwe(i,n),n}function Xwe(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&w(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&w(e,["parameters","includeRaiReason"],s);const l=x(t,["outputMimeType"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","mimeType"],l);const c=x(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&w(e,["parameters","outputOptions","compressionQuality"],c);const f=x(t,["enhanceInputImage"]);e!==void 0&&f!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=x(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const y=x(t,["mode"]);return e!==void 0&&y!=null&&w(e,["parameters","mode"],y),n}function Jwe(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["_url","model"],ar(t,r));const i=x(e,["image"]);i!=null&&w(n,["instances[0]","image"],Fl(i));const a=x(e,["upscaleFactor"]);a!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Xwe(s,n),n}function Qwe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Xb(a))),w(e,["generatedImages"],i)}return e}function Zwe(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],bf(r));const i=x(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function eAe(t){const e={},n=x(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],bf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function tAe(t){const e={},n=x(t,["image"]);n!=null&&w(e,["_self"],Fl(n));const r=x(t,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function nAe(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Jb(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function rAe(t){const e={},n=x(t,["image"]);n!=null&&w(e,["image"],Fl(n));const r=x(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function J$(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["encodedVideo"],bf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function Q$(t){const e={},n=x(t,["uri"]);n!=null&&w(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],bf(r));const i=x(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iAe(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),n}function aAe(t){const e={},n=x(t,["config"]);return n!=null&&iAe(n,e),e}function sAe(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function oAe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&sAe(r,e),e}function lAe(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function cAe(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),n}function uAe(t){const e={},n=x(t,["name"]);n!=null&&w(e,["name"],n);const r=x(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=x(t,["done"]);i!=null&&w(e,["done"],i);const a=x(t,["error"]);a!=null&&w(e,["error"],a);const s=x(t,["response"]);return s!=null&&w(e,["response"],fAe(s)),e}function dAe(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&w(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&cAe(i,e),e}function fAe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&w(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function hAe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function pAe(t){const e={},n=x(t,["config"]);return n!=null&&hAe(n,e),e}function mAe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["fileSearchStores"],a)}return e}function Z$(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),w(e,["customMetadata"],l)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&w(e,["chunkingConfig"],s),n}function gAe(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&Z$(r,e),e}function vAe(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yAe="Content-Type",xAe="X-Server-Timeout",bAe="User-Agent",aT="x-goog-api-client",_Ae="1.37.0",wAe=`google-genai-sdk/${_Ae}`,AAe="v1beta1",EAe="v1beta";class SAe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:AAe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:EAe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&NAe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await M7(i),new eT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await M7(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ol(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield dn(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const N=JSON.parse(m);if("error"in N){const A=JSON.parse(JSON.stringify(N.error)),E=A.status,I=A.code,O=`got status: ${E}. ${JSON.stringify(N)}`;if(I>=400&&I<600)throw new Kb({message:O,status:I})}}catch(N){if(N.name==="ApiError")throw N}s+=m;let g=-1,y=0;for(;;){g=-1,y=0;for(const E of c){const I=s.indexOf(E);I!==-1&&(g===-1||I<g)&&(g=I,y=E.length)}if(g===-1)break;const N=s.substring(0,g);s=s.substring(g+y);const A=N.trim();if(A.startsWith(l)){const E=A.substring(l.length).trim();try{const I=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield dn(new eT(I))}catch(I){throw new Error(`exception parsing stream chunk ${E}. ${I}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=wAe+" "+this.clientOptions.userAgentExtra;return e[bAe]=n,e[aT]=n,e[yAe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(xAe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},f=this.getFileName(e),h=kt("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&Z$(r,m);const g=await this.fetchUploadUrl(f,l,c,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function M7(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Kb({message:i,status:n}):new Error(i)}}function NAe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const l=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=l[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[c]=f)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TAe="mcp_used/unknown";let CAe=!1;function ez(t){for(const e of t)if(IAe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return CAe}function tz(t){var e;const n=(e=t[aT])!==null&&e!==void 0?e:"";t[aT]=(n+` ${TAe}`).trimStart()}function IAe(t){return t!==null&&typeof t=="object"&&t instanceof DI}function RAe(t){return Ol(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield dn(n.listTools({cursor:i}));for(const l of s.tools)yield yield dn(l),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class DI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new DI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,kl(RAe(h))),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const m=i;s.push(m);const g=m.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(m){n={error:m}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),obe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OAe(t,e,n){const r=new Z1e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class kAe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=DAe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(F=>{f=F}),m=e.callbacks,g=function(){f({})},y=this.apiClient,N={onopen:g,onmessage:F=>{OAe(y,m.onmessage,F)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(F){}},A=this.webSocketFactory.create(c,jAe(s),N);A.connect(),await h;const O={setup:{model:ar(this.apiClient,e.model)}};return A.send(JSON.stringify(O)),new PAe(A,this.apiClient)}}class PAe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=i2e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=r2e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wp.PLAY)}pause(){this.sendPlaybackControl(wp.PAUSE)}stop(){this.sendPlaybackControl(wp.STOP)}resetContext(){this.sendPlaybackControl(wp.RESET_CONTEXT)}close(){this.conn.close()}}function jAe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function DAe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MAe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LAe(t,e,n){const r=new Q1e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=o2e(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class FAe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new kAe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&ez(e.config.tools)&&tz(m);const g=BAe(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const $=this.apiClient.getApiKey();let G="BidiGenerateContent",V="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",V="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${G}?${V}=${$}`}let y=()=>{};const N=new Promise($=>{y=$}),A=e.callbacks,E=function(){var $;($=A==null?void 0:A.onopen)===null||$===void 0||$.call(A),y({})},I=this.apiClient,O={onopen:E,onmessage:$=>{LAe(I,A.onmessage,$)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function($){}},F=this.webSocketFactory.create(h,qAe(g),O);F.connect(),await N;let U=ar(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const $=this.apiClient.getProject(),G=this.apiClient.getLocation();U=`projects/${$}/locations/${G}/`+U}let D={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[U1.AUDIO]}:e.config.responseModalities=[U1.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],P=[];for(const $ of q)if(this.isCallableTool($)){const G=$;P.push(await G.tool())}else P.push($);P.length>0&&(e.config.tools=P);const j={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=n2e(this.apiClient,j):D=t2e(this.apiClient,j),delete D.config,F.send(JSON.stringify(D)),new VAe(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const UAe={turnComplete:!0};class VAe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ko(n.turns),e.isVertexAI()||(r=r.map(i=>Yb(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(MAe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},UAe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:s2e(e)}:n={realtimeInput:a2e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qAe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function BAe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L7=10;function F7(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Fp(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Fp(t){return"callTool"in t&&typeof t.callTool=="function"}function $Ae(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Fp(i)))!==null&&r!==void 0?r:!1}function U7(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Fp(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function V7(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zAe extends zu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!$Ae(n)||F7(n.config))return await this.generateContentInternal(c);const f=U7(n);if(f.length>0){const A=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,m;const g=Ko(c.contents),y=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:L7;let N=0;for(;N<y&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,E=[];for(const I of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Fp(I)){const F=await I.callTool(h.functionCalls);E.push(...F)}N++,m={role:"user",parts:E},c.contents=Ko(c.contents),c.contents.push(A),c.contents.push(m),V7(c.config)&&(g.push(A),g.push(m))}return V7(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,l;if(this.maybeMoveToResponseJsonSchem(n),F7(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=U7(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let l;return a?l={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ah(Uu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Fp(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&ez(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),tz(f),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Fp(s)){const l=s,c=await l.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:L7;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(f,h,m){return Ol(this,arguments,function*(){for(var g,y,N,A,E,I;l<a;){s&&(l++,s=!1);const D=yield dn(f.processParamsMaybeAddMcpUsage(m)),q=yield dn(f.generateContentStreamInternal(D)),P=[],j=[];try{for(var O=!0,F=(y=void 0,kl(q)),U;U=yield dn(F.next()),g=U.done,!g;O=!0){A=U.value,O=!1;const $=A;if(yield yield dn($),$.candidates&&(!((E=$.candidates[0])===null||E===void 0)&&E.content)){j.push($.candidates[0].content);for(const G of(I=$.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(l<a&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(G.functionCall.name)){const V=yield dn(h.get(G.functionCall.name).callTool([G.functionCall]));P.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch($){y={error:$}}finally{try{!O&&!g&&(N=F.return)&&(yield dn(N.call(F)))}finally{if(y)throw y.error}}if(P.length>0){s=!0;const $=new Rg;$.candidates=[{content:{role:"user",parts:P}}],yield yield dn($);const G=[];G.push(...j),G.push({role:"user",parts:P});const V=Ko(m.contents).concat(G);m.contents=V}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=P7(this.apiClient,e);return l=kt("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=D7(h),g=new Rg;return Object.assign(g,m),g})}else{const f=k7(this.apiClient,e);return l=kt("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=j7(h),g=new Rg;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=P7(this.apiClient,e);return l=kt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return Ol(this,arguments,function*(){var g,y,N,A;try{for(var E=!0,I=kl(m),O;O=yield dn(I.next()),g=O.done,!g;E=!0){A=O.value,E=!1;const F=A,U=D7(yield dn(F.json()));U.sdkHttpResponse={headers:F.headers};const D=new Rg;Object.assign(D,U),yield yield dn(D)}}catch(F){y={error:F}}finally{try{!E&&!g&&(N=I.return)&&(yield dn(N.call(I)))}finally{if(y)throw y.error}}})})}else{const f=k7(this.apiClient,e);return l=kt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return Ol(this,arguments,function*(){var g,y,N,A;try{for(var E=!0,I=kl(m),O;O=yield dn(I.next()),g=O.done,!g;E=!0){A=O.value,E=!1;const F=A,U=j7(yield dn(F.json()));U.sdkHttpResponse={headers:F.headers};const D=new Rg;Object.assign(D,U),yield yield dn(D)}}catch(F){y={error:F}}finally{try{!E&&!g&&(N=I.return)&&(yield dn(N.call(I)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=F2e(this.apiClient,e);return l=kt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=V2e(h),g=new m7;return Object.assign(g,m),g})}else{const f=L2e(this.apiClient,e);return l=kt("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=U2e(h),g=new m7;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=J2e(this.apiClient,e);return l=kt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Z2e(h),g=new g7;return Object.assign(g,m),g})}else{const f=X2e(this.apiClient,e);return l=kt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Q2e(h),g=new g7;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=P2e(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=j2e(c),h=new q1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Jwe(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Qwe(c),h=new B1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=kwe(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Pwe(c),h=new $1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Uwe(this.apiClient,e);return a=kt("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Vwe(c),h=new z1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=gwe(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>iT(h))}else{const f=mwe(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>rT(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Swe(this.apiClient,e);return l=kt("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Twe(h),g=new v7;return Object.assign(g,m),g})}else{const f=Ewe(this.apiClient,e);return l=kt("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Nwe(h),g=new v7;return Object.assign(g,m),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ywe(this.apiClient,e);return l=kt("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>iT(h))}else{const f=Kwe(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>rT(h))}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=I2e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=O2e(h),g=new y7;return Object.assign(g,m),g})}else{const f=C2e(this.apiClient,e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=R2e(h),g=new y7;return Object.assign(g,m),g})}}async countTokens(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=S2e(this.apiClient,e);return l=kt("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=T2e(h),g=new x7;return Object.assign(g,m),g})}else{const f=E2e(this.apiClient,e);return l=kt("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=N2e(h),g=new x7;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=v2e(this.apiClient,e);return a=kt("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=y2e(c),h=new G1e;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=awe(this.apiClient,e);return l=kt("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=rwe(h),g=new V1;return Object.assign(g,m),g})}else{const f=iwe(this.apiClient,e);return l=kt("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=nwe(h),g=new V1;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GAe extends zu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=D1e(e);return l=kt("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=j1e(e);return l=kt("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=T1e(e);return a=kt("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HAe(t){const e={},n=x(t,["data"]);if(n!=null&&w(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function WAe(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>n5e(a))),w(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&w(e,["role"],r),e}function KAe(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&w(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&w(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&w(n,["uses"],s);const l=x(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&w(n,["bidiGenerateContentSetup"],t5e(t,l));const c=x(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&w(n,["fieldMask"],c),r}function YAe(t,e){const n={},r=x(e,["config"]);return r!=null&&w(n,["config"],KAe(t,r,n)),n}function XAe(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function JAe(t){const e={},n=x(t,["id"]);n!=null&&w(e,["id"],n);const r=x(t,["args"]);r!=null&&w(e,["args"],r);const i=x(t,["name"]);if(i!=null&&w(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QAe(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function ZAe(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function e5e(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","topP"],s);const l=x(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const c=x(t,["maxOutputTokens"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","maxOutputTokens"],c);const f=x(t,["mediaResolution"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","mediaResolution"],f);const h=x(t,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const m=x(t,["speechConfig"]);e!==void 0&&m!=null&&w(e,["setup","generationConfig","speechConfig"],jI(m));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],y);const N=x(t,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],WAe(ss(N)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let q=Mm(A);Array.isArray(q)&&(q=q.map(P=>i5e(Dm(P)))),w(e,["setup","tools"],q)}const E=x(t,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],r5e(E));const I=x(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","inputAudioTranscription"],I);const O=x(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&w(e,["setup","outputAudioTranscription"],O);const F=x(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&w(e,["setup","realtimeInputConfig"],F);const U=x(t,["contextWindowCompression"]);e!==void 0&&U!=null&&w(e,["setup","contextWindowCompression"],U);const D=x(t,["proactivity"]);if(e!==void 0&&D!=null&&w(e,["setup","proactivity"],D),x(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function t5e(t,e){const n={},r=x(e,["model"]);r!=null&&w(n,["setup","model"],ar(t,r));const i=x(e,["config"]);return i!=null&&w(n,["config"],e5e(i,n)),n}function n5e(t){const e={},n=x(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&w(e,["fileData"],XAe(a));const s=x(t,["functionCall"]);s!=null&&w(e,["functionCall"],JAe(s));const l=x(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const c=x(t,["inlineData"]);c!=null&&w(e,["inlineData"],HAe(c));const f=x(t,["text"]);f!=null&&w(e,["text"],f);const h=x(t,["thought"]);h!=null&&w(e,["thought"],h);const m=x(t,["thoughtSignature"]);m!=null&&w(e,["thoughtSignature"],m);const g=x(t,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function r5e(t){const e={},n=x(t,["handle"]);if(n!=null&&w(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function i5e(t){const e={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(t,["computerUse"]);n!=null&&w(e,["computerUse"],n);const r=x(t,["fileSearch"]);r!=null&&w(e,["fileSearch"],r);const i=x(t,["codeExecution"]);if(i!=null&&w(e,["codeExecution"],i),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),w(e,["functionDeclarations"],h)}const s=x(t,["googleMaps"]);s!=null&&w(e,["googleMaps"],QAe(s));const l=x(t,["googleSearch"]);l!=null&&w(e,["googleSearch"],ZAe(l));const c=x(t,["googleSearchRetrieval"]);c!=null&&w(e,["googleSearchRetrieval"],c);const f=x(t,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a5e(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function s5e(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=a5e(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class o5e extends zu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=YAe(this.apiClient,e);a=kt("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=s5e(l,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l5e(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function c5e(t){const e={},n=x(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&l5e(r,e),e}function u5e(t){const e={},n=x(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function d5e(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function f5e(t){const e={},n=x(t,["parent"]);n!=null&&w(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&d5e(r,e),e}function h5e(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p5e extends zu{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ah(Uu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=u5e(e);return a=kt("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=c5e(e);i=kt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=f5e(e);return a=kt("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=h5e(c),h=new H1e;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m5e extends zu{constructor(e,n=new p5e(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ah(Uu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=aAe(e);return a=kt("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lAe(e);return a=kt("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oAe(e);i=kt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pAe(e);return a=kt("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=mAe(c),h=new W1e;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gAe(e);return a=kt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=vAe(c),h=new K1e;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dAe(e);return a=kt("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=uAe(c),h=new II;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nz=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return nz=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const g5e=()=>nz();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const oT=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xo extends Error{}class Ss extends Xo{constructor(e,n,r,i){super(`${Ss.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Qb({message:r,cause:oT(n)});const a=n;return e===400?new iz(e,a,r,i):e===401?new az(e,a,r,i):e===403?new sz(e,a,r,i):e===404?new oz(e,a,r,i):e===409?new lz(e,a,r,i):e===422?new cz(e,a,r,i):e===429?new uz(e,a,r,i):e>=500?new dz(e,a,r,i):new Ss(e,a,r,i)}}class lT extends Ss{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Qb extends Ss{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class rz extends Qb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class iz extends Ss{}class az extends Ss{}class sz extends Ss{}class oz extends Ss{}class lz extends Ss{}class cz extends Ss{}class uz extends Ss{}class dz extends Ss{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v5e=/^[a-z][a-z0-9+.-]*:/i,y5e=t=>v5e.test(t);let cT=t=>(cT=Array.isArray,cT(t));const x5e=cT;let b5e=x5e;const q7=b5e;function _5e(t){if(!t)return!0;for(const e in t)return!1;return!0}function w5e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const A5e=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Xo(`${t} must be an integer`);if(e<0)throw new Xo(`${t} must be a positive integer`);return e},E5e=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S5e=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gp="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N5e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const T5e=()=>{var t,e,n,r,i;const a=N5e();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":$7(Deno.build.os),"X-Stainless-Arch":B7(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":$7((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":B7((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=C5e();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gp,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function C5e(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const B7=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",$7=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let qy;const I5e=()=>qy??(qy=T5e());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R5e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fz(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function O5e(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return fz({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function hz(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function k5e(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P5e=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pz=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $E(t,e,n){return pz(),new File(t,e??"unknown_file",n)}function j5e(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const D5e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mz=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",M5e=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&mz(t),L5e=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function F5e(t,e,n){if(pz(),t=await t,M5e(t))return t instanceof File?t:$E([await t.arrayBuffer()],t.name);if(L5e(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),$E(await uT(i),e,n)}const r=await uT(t);if(e||(e=j5e(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return $E(r,e,n)}async function uT(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(mz(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(D5e(t))try{for(var l=!0,c=kl(t),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const h=i;s.push(...await uT(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${U5e(t)}`)}return s}function U5e(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gz{constructor(e){this._client=e}}gz._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vz(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const z7=Object.freeze(Object.create(null)),V5e=(t=vz)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((h,m,g)=>{var y,N,A;/[?#]/.test(m)&&(i=!0);const E=r[g];let I=(i?encodeURIComponent:t)(""+E);return g!==r.length&&(E==null||typeof E=="object"&&E.toString===((A=Object.getPrototypeOf((N=Object.getPrototypeOf((y=E.hasOwnProperty)!==null&&y!==void 0?y:z7))!==null&&N!==void 0?N:z7))===null||A===void 0?void 0:A.toString))&&(I=E+"",a.push({start:h.length+m.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":I)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(l))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((g,y)=>{const N=" ".repeat(y.start-h),A="^".repeat(y.length);return h=y.start+y.length,g+N+A},"");throw new Xo(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${m}`)}return s}),By=V5e(vz);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yz extends gz{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=B1(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Xo("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Xo("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(By`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(By`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(By`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,l=B1(a,["api_version"]);return this._client.get(By`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yz._key=Object.freeze(["interactions"]);class xz extends yz{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q5e(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let $y;function MI(t){let e;return($y??(e=new globalThis.TextEncoder,$y=e.encode.bind(e)))(t)}let zy;function G7(t){let e;return(zy??(e=new globalThis.TextDecoder,zy=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zb{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?MI(e):e;this.buffer=q5e([this.buffer,n]);const r=[];let i;for(;(i=B5e(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(G7(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=G7(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Zb.NEWLINE_CHARS=new Set([`
`,"\r"]);Zb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function B5e(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function $5e(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $1={off:0,error:200,warn:300,info:400,debug:500},H7=(t,e,n)=>{if(t){if(w5e($1,t))return t;_s(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys($1))}`)}};function zg(){}function Gy(t,e,n){return!e||$1[t]>$1[n]?zg:e[t].bind(e)}const z5e={error:zg,warn:zg,info:zg,debug:zg};let W7=new WeakMap;function _s(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return z5e;const i=W7.get(n);if(i&&i[0]===r)return i[1];const a={error:Gy("error",n,r),warn:Gy("warn",n,r),info:Gy("info",n,r),debug:Gy("debug",n,r)};return W7.set(n,[r,a]),a}const Bf=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ap{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?_s(r):console;function s(){return Ol(this,arguments,function*(){var c,f,h,m;if(i)throw new Xo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=kl(G5e(e,n)),A;A=yield dn(N.next()),c=A.done,!c;y=!0){m=A.value,y=!1;const E=m;if(!g)if(E.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield dn(JSON.parse(E.data))}catch(I){throw a.error("Could not parse message into JSON:",E.data),a.error("From chunk:",E.raw),I}}}catch(E){f={error:E}}finally{try{!y&&!c&&(h=N.return)&&(yield dn(h.call(N)))}finally{if(f)throw f.error}}g=!0}catch(E){if(sT(E))return yield dn(void 0);throw E}finally{g||n.abort()}})}return new Ap(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return Ol(this,arguments,function*(){var c,f,h,m;const g=new Zb,y=hz(e);try{for(var N=!0,A=kl(y),E;E=yield dn(A.next()),c=E.done,!c;N=!0){m=E.value,N=!1;const I=m;for(const O of g.decode(I))yield yield dn(O)}}catch(I){f={error:I}}finally{try{!N&&!c&&(h=A.return)&&(yield dn(h.call(A)))}finally{if(f)throw f.error}}for(const I of g.flush())yield yield dn(I)})}function s(){return Ol(this,arguments,function*(){var c,f,h,m;if(i)throw new Xo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var y=!0,N=kl(a()),A;A=yield dn(N.next()),c=A.done,!c;y=!0){m=A.value,y=!1;const E=m;g||E&&(yield yield dn(JSON.parse(E)))}}catch(E){f={error:E}}finally{try{!y&&!c&&(h=N.return)&&(yield dn(h.call(N)))}finally{if(f)throw f.error}}g=!0}catch(E){if(sT(E))return yield dn(void 0);throw E}finally{g||n.abort()}})}return new Ap(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Ap(()=>i(e),this.controller,this.client),new Ap(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return fz({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=MI(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function G5e(t,e){return Ol(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Xo("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Xo("Attempted to iterate over a response with no body");const l=new W5e,c=new Zb,f=hz(t.body);try{for(var h=!0,m=kl(H5e(f)),g;g=yield dn(m.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const y=s;for(const N of c.decode(y)){const A=l.decode(N);A&&(yield yield dn(A))}}}catch(y){i={error:y}}finally{try{!h&&!r&&(a=m.return)&&(yield dn(a.call(m)))}finally{if(i)throw i.error}}for(const y of c.flush()){const N=l.decode(y);N&&(yield yield dn(N))}})}function H5e(t){return Ol(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var l=!0,c=kl(t),f;f=yield dn(c.next()),n=f.done,!n;l=!0){a=f.value,l=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?MI(h):h;let g=new Uint8Array(s.length+m.length);g.set(s),g.set(m,s.length),s=g;let y;for(;(y=$5e(s))!==-1;)yield yield dn(s.slice(0,y)),s=s.slice(y)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield dn(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield dn(s))})}class W5e{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=K5e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function K5e(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Y5e(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var l;if(e.options.stream)return _s(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ap.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return _s(t).debug(`[${r}] response parsed`,Bf({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LI extends Promise{constructor(e,n,r=Y5e){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new LI(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bz=Symbol("brand.privateNullableHeaders");function*X5e(t){if(!t)return;if(bz in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():q7(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=q7(r[1])?r[1]:[r[1]];let s=!1;for(const l of a)l!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const Og=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of X5e(r)){const l=a.toLowerCase();i.has(l)||(e.delete(a),i.add(l)),s===null?(e.delete(a),n.add(l)):(e.append(a,s),n.delete(l))}}return{[bz]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zE=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=_1e)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _z;class e_{constructor(e){var n,r,i,a,s,l,c,{baseURL:f=zE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=zE("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,g=B1(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:e_.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(s=(a=H7(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:H7(zE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:N,this.fetchOptions=y.fetchOptions,this.maxRetries=(l=y.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:R5e(),this.encoder=P5e,this._options=y,this.apiKey=h,this.apiVersion=m,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Og([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Og([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Og([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Xo(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${gp}`}defaultIdempotencyKey(){return`stainless-node-retry-${g5e()}`}makeStatusError(e,n,r,i){return Ss.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=y5e(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return _5e(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new LI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:f,url:h,timeout:m}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(_s(this).debug(`[${g}] sending request`,Bf({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:f.headers})),!((a=l.signal)===null||a===void 0)&&a.aborted)throw new lT;const A=new AbortController,E=await this.fetchWithTimeout(h,f,m,A).catch(oT),I=Date.now();if(E instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(!((s=l.signal)===null||s===void 0)&&s.aborted)throw new lT;const U=sT(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return _s(this).info(`[${g}] connection ${U?"timed out":"failed"} - ${F}`),_s(this).debug(`[${g}] connection ${U?"timed out":"failed"} (${F})`,Bf({retryOfRequestLogID:r,url:h,durationMs:I-N,message:E.message})),this.retryRequest(l,n,r??g);throw _s(this).info(`[${g}] connection ${U?"timed out":"failed"} - error; no more retries left`),_s(this).debug(`[${g}] connection ${U?"timed out":"failed"} (error; no more retries left)`,Bf({retryOfRequestLogID:r,url:h,durationMs:I-N,message:E.message})),U?new rz:new Qb({cause:E})}const O=`[${g}${y}] ${f.method} ${h} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${I-N}ms`;if(!E.ok){const F=await this.shouldRetry(E);if(n&&F){const $=`retrying, ${n} attempts remaining`;return await k5e(E.body),_s(this).info(`${O} - ${$}`),_s(this).debug(`[${g}] response error (${$})`,Bf({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:I-N})),this.retryRequest(l,n,r??g,E.headers)}const U=F?"error; no more retries left":"error; not retryable";_s(this).info(`${O} - ${U}`);const D=await E.text().catch($=>oT($).message),q=E5e(D),P=q?void 0:D;throw _s(this).debug(`[${g}] response error (${U})`,Bf({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:P,durationMs:Date.now()-N})),this.makeStatusError(E.status,q,P,E.headers)}return _s(this).info(O),_s(this).debug(`[${g}] response start`,Bf({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:I-N})),{response:E,options:l,controller:A,requestLogID:g,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:l}=a,c=B1(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const l=i==null?void 0:i.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await S5e(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:l,path:c,query:f,defaultBaseURL:h}=s,m=this.buildURL(c,f,h);"timeout"in s&&A5e("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),N=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:N},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let l=Og([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),I5e()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Og([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:O5e(e)}:this.encoder({body:e,headers:r})}}e_.DEFAULT_TIMEOUT=6e4;class ya extends e_{constructor(){super(...arguments),this.interactions=new xz(this)}}_z=ya;ya.GeminiNextGenAPIClient=_z;ya.GeminiNextGenAPIClientError=Xo;ya.APIError=Ss;ya.APIConnectionError=Qb;ya.APIConnectionTimeoutError=rz;ya.APIUserAbortError=lT;ya.NotFoundError=oz;ya.ConflictError=lz;ya.RateLimitError=uz;ya.BadRequestError=iz;ya.AuthenticationError=az;ya.InternalServerError=dz;ya.PermissionDeniedError=sz;ya.UnprocessableEntityError=cz;ya.toFile=F5e;ya.Interactions=xz;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J5e(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Q5e(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Z5e(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function eEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function tEe(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&w(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=x(t,["batchSize"]);e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","batchSize"],l);const c=x(t,["learningRate"]);if(e!==void 0&&c!=null&&w(e,["tuningTask","hyperparameters","learningRate"],c),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function nEe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec"],K7(y))}else if(i==="PREFERENCE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec"],K7(y))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&w(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&w(e,["description"],s);let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(f==="PREFERENCE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(h==="PREFERENCE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=x(t,["labels"]);e!==void 0&&m!=null&&w(e,["labels"],m);const g=x(t,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function rEe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&pEe(a);const s=x(t,["config"]);return s!=null&&tEe(s,n),n}function iEe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&mEe(a,n,e);const s=x(t,["config"]);return s!=null&&nEe(s,n,e),n}function aEe(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function sEe(t,e){const n={},r=x(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function oEe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function lEe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&w(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),r}function cEe(t,e){const n={},r=x(t,["config"]);return r!=null&&oEe(r,n),n}function uEe(t,e){const n={},r=x(t,["config"]);return r!=null&&lEe(r,n),n}function dEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>wz(l))),w(n,["tuningJobs"],s)}return n}function fEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>dT(l))),w(n,["tuningJobs"],s)}return n}function hEe(t,e){const n={},r=x(t,["name"]);r!=null&&w(n,["model"],r);const i=x(t,["name"]);return i!=null&&w(n,["endpoint"],i),n}function pEe(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(n,["examples","examples"],i)}return n}function mEe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function wz(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],F$(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["tuningTask","startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["tuningTask","completeTime"]);c!=null&&w(n,["endTime"],c);const f=x(t,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=x(t,["description"]);h!=null&&w(n,["description"],h);const m=x(t,["baseModel"]);m!=null&&w(n,["baseModel"],m);const g=x(t,["_self"]);return g!=null&&w(n,["tunedModel"],hEe(g)),n}function dT(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["state"]);a!=null&&w(n,["state"],F$(a));const s=x(t,["createTime"]);s!=null&&w(n,["createTime"],s);const l=x(t,["startTime"]);l!=null&&w(n,["startTime"],l);const c=x(t,["endTime"]);c!=null&&w(n,["endTime"],c);const f=x(t,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=x(t,["error"]);h!=null&&w(n,["error"],h);const m=x(t,["description"]);m!=null&&w(n,["description"],m);const g=x(t,["baseModel"]);g!=null&&w(n,["baseModel"],g);const y=x(t,["tunedModel"]);y!=null&&w(n,["tunedModel"],y);const N=x(t,["preTunedModel"]);N!=null&&w(n,["preTunedModel"],N);const A=x(t,["supervisedTuningSpec"]);A!=null&&w(n,["supervisedTuningSpec"],A);const E=x(t,["preferenceOptimizationSpec"]);E!=null&&w(n,["preferenceOptimizationSpec"],E);const I=x(t,["tuningDataStats"]);I!=null&&w(n,["tuningDataStats"],I);const O=x(t,["encryptionSpec"]);O!=null&&w(n,["encryptionSpec"],O);const F=x(t,["partnerModelTuningSpec"]);F!=null&&w(n,["partnerModelTuningSpec"],F);const U=x(t,["customBaseModel"]);U!=null&&w(n,["customBaseModel"],U);const D=x(t,["experiment"]);D!=null&&w(n,["experiment"],D);const q=x(t,["labels"]);q!=null&&w(n,["labels"],q);const P=x(t,["outputUri"]);P!=null&&w(n,["outputUri"],P);const j=x(t,["pipelineJob"]);j!=null&&w(n,["pipelineJob"],j);const $=x(t,["serviceAccount"]);$!=null&&w(n,["serviceAccount"],$);const G=x(t,["tunedModelDisplayName"]);G!=null&&w(n,["tunedModelDisplayName"],G);const V=x(t,["veoTuningSpec"]);return V!=null&&w(n,["veoTuningSpec"],V),n}function gEe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&w(n,["name"],i);const a=x(t,["metadata"]);a!=null&&w(n,["metadata"],a);const s=x(t,["done"]);s!=null&&w(n,["done"],s);const l=x(t,["error"]);return l!=null&&w(n,["error"],l),n}function K7(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&w(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vEe extends zu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ah(Uu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:ZN.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=sEe(e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>dT(h))}else{const f=aEe(e);return l=kt("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>wz(h))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=uEe(e);return l=kt("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=fEe(h),g=new b7;return Object.assign(g,m),g})}else{const f=cEe(e);return l=kt("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=dEe(h),g=new b7;return Object.assign(g,m),g})}}async cancel(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Q5e(e);return l=kt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=eEe(h),g=new _7;return Object.assign(g,m),g})}else{const f=J5e(e);return l=kt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Z5e(h),g=new _7;return Object.assign(g,m),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=iEe(e,e);return a=kt("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>dT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rEe(e);return a=kt("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>gEe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yEe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xEe=1024*1024*8,bEe=3,_Ee=1e3,wEe=2,z1="x-goog-upload-status";async function AEe(t,e,n){var r;const i=await Az(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[z1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function EEe(t,e,n){var r;const i=await Az(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[z1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=k$(a),l=new RI;return Object.assign(l,s),l}async function Az(t,e,n){var r,i;let a=0,s=0,l=new eT(new Response),c="upload";for(a=t.size;s<a;){const f=Math.min(xEe,a-s),h=t.slice(s,s+f);s+f>=a&&(c+=", finalize");let m=0,g=_Ee;for(;m<bEe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[z1]));)m++,await NEe(g),g=g*wEe;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[z1])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function SEe(t){return{size:t.size,type:t.type}}function NEe(t){return new Promise(e=>setTimeout(e,t))}class TEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await EEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CEe{create(e,n,r){return new IEe(e,n,r)}}class IEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y7="x-goog-api-key";class REe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Y7)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Y7,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OEe="gl-node/";class kEe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ya({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=S1e(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new REe(this.apiKey);this.apiClient=new SAe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:OEe+"web",uploader:new TEe,downloader:new yEe}),this.models=new zAe(this.apiClient),this.live=new FAe(this.apiClient,i,new CEe),this.batches=new e_e(this.apiClient),this.chats=new D_e(this.models,this.apiClient),this.caches=new k_e(this.apiClient),this.files=new G_e(this.apiClient),this.operations=new GAe(this.apiClient),this.authTokens=new o5e(this.apiClient),this.tunings=new vEe(this.apiClient),this.fileSearchStores=new m5e(this.apiClient)}}const PEe={VITE_AI_API_KEY:"AIzaSyDnoO0w1w6Z4tSwY50IA11pAhWooIkuyyI"},jEe=()=>{const t=[],e=PEe;return t.push({name:"Gemini",call:async n=>{var s,l,c,f,h;const a=(h=(f=(c=(l=(s=(await new kEe({apiKey:e.VITE_AI_API_KEY}).models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:n}]}})).candidates)==null?void 0:s[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:h.text;if(!a)throw new Error("Gemini sem resposta");return a}}),t},X7=async t=>{const e=jEe();if(e.length===0)throw new Error("Nenhuma API Key configurada (VITE_AI_API_KEY, VITE_GROQ_API_KEY, VITE_CEREBRAS_API_KEY)");const n=[];for(const r of e)try{const i=await r.call(t);if(i)return{text:i,provider:r.name}}catch(i){n.push(`${r.name}: ${i.message}`),console.warn(`[CASCADE] ${r.name} falhou:`,i.message)}throw new Error(`Todas as IAs falharam:
${n.join(`
`)}`)},DEe=[{id:"ADMINISTRATIVO",name:"Dona Clara",description:"Administradora-Geral  enxerga TUDO: lotes, estoque, clientes, vendas, pedidos, fornecedores, financeiro e auditoria. O crebro central do frigorfico.",icon:"",color:"blue",enabled:!0,systemPrompt:"Voc  Dona Clara, administradora-geral do FrigoGest. Crebro central com viso total de 10 mdulos.",modules:["LOTES","ESTOQUE","CLIENTES","VENDAS","PEDIDOS","FORNECEDORES","FINANCEIRO","CADEIA_ABATE","ROBO_VENDAS","AUDITORIA"],triggerCount:19},{id:"PRODUCAO",name:"Seu Antnio",description:"Chefe de Produo  especialista em rendimento de carcaa, raas, quebra de resfriamento e scorecard de fornecedores. 30 anos de experincia no abate.",icon:"",color:"emerald",enabled:!0,systemPrompt:"Voc  Seu Antnio, chefe de produo do FrigoGest. Especialista em rendimento, raas e fornecedores.",modules:["LOTES","ESTOQUE","FORNECEDORES"],triggerCount:6},{id:"COMERCIAL",name:"Marcos",description:"Diretor Comercial  foco em maximizar receita, proteger margem, controlar crdito e manter o ranking dos melhores compradores atualizado.",icon:"",color:"amber",enabled:!0,systemPrompt:"Voc  Marcos, diretor comercial do FrigoGest. Foco em vendas, margem, crdito e ranking de clientes.",modules:["VENDAS","CLIENTES"],triggerCount:4},{id:"AUDITOR",name:"Dra. Beatriz",description:"Auditora Financeira  garante que cada centavo esteja rastreado. Detecta furos no caixa, estornos incompletos e transaes rfs. Implacvel.",icon:"",color:"rose",enabled:!0,systemPrompt:"Voc  Dra. Beatriz, auditora financeira do FrigoGest. Regra de ouro: cada venda paga deve ter Transaction ENTRADA.",modules:["FINANCEIRO","VENDAS","LOTES"],triggerCount:5},{id:"ESTOQUE",name:"Joaquim",description:"Estoquista-Chefe  controla a cmara fria com mo de ferro. Rotao FIFO, validade das peas e giro do estoque. Nada estraga no turno dele.",icon:"",color:"cyan",enabled:!0,systemPrompt:"Voc  Joaquim, estoquista-chefe do FrigoGest. FIFO  lei: pea mais velha sai primeiro.",modules:["ESTOQUE","LOTES"],triggerCount:4},{id:"COMPRAS",name:"Roberto",description:"Comprador  negocia com fornecedores, analisa fretes, compara preos e garante o melhor custo de aquisio. Olho nos centavos.",icon:"",color:"orange",enabled:!0,systemPrompt:"Voc  Roberto, comprador do FrigoGest. Foco em custo de aquisio, frete e negociao com fornecedores.",modules:["FORNECEDORES","LOTES","FINANCEIRO"],triggerCount:4},{id:"MERCADO",name:"Ana",description:"Analista de Mercado  acompanha cotaes CEPEA, tendncias de preo, safra/entressafra e oportunidades de compra e venda.",icon:"",color:"violet",enabled:!0,systemPrompt:"Voc  Ana, analista de mercado do FrigoGest. Especialista em CEPEA, tendncias e inteligncia regional.",modules:["MERCADO","LOTES"],triggerCount:3},{id:"ROBO_VENDAS",name:"Lucas",description:"Rob de Vendas  prospecta clientes inativos, sugere follow-up, identifica oportunidades de recompra e mantm o pipeline aquecido.",icon:"",color:"teal",enabled:!0,systemPrompt:"Voc  Lucas, rob de vendas do FrigoGest. Foco em reativao, prospeco e pipeline.",modules:["CLIENTES","VENDAS","PEDIDOS"],triggerCount:4}],MEe=({onBack:t,batches:e,stock:n,sales:r,clients:i,transactions:a,suppliers:s,payables:l,scheduledOrders:c})=>{var ce,ne,ie;const[f,h]=xe.useState(null),[m,g]=xe.useState("overview"),[y]=xe.useState(DEe),[N,A]=xe.useState(null),[E,I]=xe.useState(!1),[O,F]=xe.useState(null),[U,D]=xe.useState(null),q=xe.useRef(null),P=xe.useMemo(()=>{const te=[],fe=new Date;e.filter(C=>C.status==="ABERTO").forEach(C=>{const H=Math.floor((fe.getTime()-new Date(C.data_recebimento).getTime())/864e5),W=n.some(K=>K.id_lote===C.id_lote);H>7&&!W&&te.push({id:`ADM-LOTE-${C.id_lote}`,agent:"ADMINISTRATIVO",severity:"ALERTA",module:"LOTES",title:`Lote ${C.id_lote} sem peas`,message:`Lote aberto h ${H} dias sem peas registradas no estoque. Verificar desossa.`,timestamp:fe.toISOString(),status:"NOVO"})}),i.forEach(C=>{const H=r.filter(W=>W.id_cliente===C.id_ferro&&W.status_pagamento!=="ESTORNADO").sort((W,K)=>new Date(K.data_venda).getTime()-new Date(W.data_venda).getTime())[0];if(H){const W=Math.floor((fe.getTime()-new Date(H.data_venda).getTime())/864e5);W>60&&te.push({id:`ADM-CLI-${C.id_ferro}`,agent:"ADMINISTRATIVO",severity:"INFO",module:"CLIENTES",title:`Cliente ${C.nome_social} inativo`,message:`Sem compras h ${W} dias. Considere reativar contato.`,timestamp:fe.toISOString(),status:"NOVO"})}});const be=new Date(fe);be.setDate(be.getDate()+1);const re=be.toISOString().split("T")[0];return c.filter(C=>C.data_entrega===re&&C.status==="ABERTO").forEach(C=>{te.push({id:`ADM-PED-${C.id}`,agent:"ADMINISTRATIVO",severity:"CRITICO",module:"PEDIDOS",title:"Pedido amanh sem confirmar!",message:`Pedido de ${C.nome_cliente} para ${re} ainda est ABERTO. Confirmar urgente!`,timestamp:fe.toISOString(),status:"NOVO"})}),s.forEach(C=>{C.dados_bancarios||te.push({id:`ADM-FORN-${C.id}`,agent:"ADMINISTRATIVO",severity:"ALERTA",module:"FORNECEDORES",title:`${C.nome_fantasia} sem PIX/Banco`,message:"Fornecedor sem dados bancrios cadastrados. Pode atrasar pagamentos.",timestamp:fe.toISOString(),status:"NOVO"})}),n.filter(C=>C.status==="DISPONIVEL").forEach(C=>{const H=Math.floor((fe.getTime()-new Date(C.data_entrada).getTime())/864e5);H>30&&te.push({id:`ADM-STK-${C.id_completo}`,agent:"ADMINISTRATIVO",severity:"ALERTA",module:"ESTOQUE",title:`Pea ${C.id_completo} parada`,message:`No frio h ${H} dias. Risco de perda de qualidade. Peso: ${C.peso_entrada}kg.`,timestamp:fe.toISOString(),status:"NOVO"})}),r.filter(C=>C.status_pagamento==="PENDENTE"&&C.prazo_dias>0).forEach(C=>{const H=new Date(C.data_vencimento),W=Math.floor((fe.getTime()-H.getTime())/864e5);if(W>7){const K=C.peso_real_saida*C.preco_venda_kg;te.push({id:`COM-VNC-${C.id_venda}`,agent:"COMERCIAL",severity:"CRITICO",module:"VENDAS",title:`Cobrana: ${C.nome_cliente||C.id_cliente}`,message:`Venda ${C.id_venda} vencida h ${W} dias. Valor: R$${K.toFixed(2)}`,timestamp:fe.toISOString(),status:"NOVO",data:{valor:K,dias_atraso:W}})}}),i.forEach(C=>{if(C.limite_credito>0){const H=r.filter(W=>W.id_cliente===C.id_ferro&&W.status_pagamento==="PENDENTE").reduce((W,K)=>W+K.peso_real_saida*K.preco_venda_kg,0);H>C.limite_credito&&te.push({id:`COM-CRED-${C.id_ferro}`,agent:"COMERCIAL",severity:"BLOQUEIO",module:"CLIENTES",title:`${C.nome_social}  crdito excedido`,message:`Saldo devedor R$${H.toFixed(2)} excede limite R$${C.limite_credito.toFixed(2)}. Vendas a prazo BLOQUEADAS.`,timestamp:fe.toISOString(),status:"NOVO",data:{devendo:H,limite:C.limite_credito}})}}),r.filter(C=>C.status_pagamento==="PAGO").forEach(C=>{if(!a.some(W=>W.referencia_id===C.id_venda&&W.tipo==="ENTRADA"&&W.categoria!=="ESTORNO")){const W=C.peso_real_saida*C.preco_venda_kg;te.push({id:`AUD-FURO-${C.id_venda}`,agent:"AUDITOR",severity:"CRITICO",module:"FINANCEIRO",title:`FURO: Venda ${C.id_venda}`,message:`Venda PAGA sem Transaction ENTRADA no caixa! Valor: R$${W.toFixed(2)}. Pagamento no registrado.`,timestamp:fe.toISOString(),status:"NOVO",data:{valor:W}})}}),e.filter(C=>C.status!=="ESTORNADO").forEach(C=>{const H=l.some(K=>K.id_lote===C.id_lote),W=a.some(K=>K.referencia_id===C.id_lote&&K.tipo==="SAIDA"&&K.categoria==="COMPRA_GADO");!H&&!W&&te.push({id:`AUD-LOTE-${C.id_lote}`,agent:"AUDITOR",severity:"CRITICO",module:"FINANCEIRO",title:`Lote ${C.id_lote} sem sada`,message:`Lote comprado sem Transaction SAIDA nem Payable vinculado. Valor: R$${C.valor_compra_total.toFixed(2)}`,timestamp:fe.toISOString(),status:"NOVO",data:{valor:C.valor_compra_total}})}),l.filter(C=>C.status==="PENDENTE"||C.status==="PARCIAL").forEach(C=>{const H=new Date(C.data_vencimento),W=Math.floor((fe.getTime()-H.getTime())/864e5);W>0&&te.push({id:`AUD-PAY-${C.id}`,agent:"AUDITOR",severity:"ALERTA",module:"FINANCEIRO",title:`Dvida vencida: ${C.descricao}`,message:`Payable vencido h ${W} dias. Valor: R$${C.valor.toFixed(2)}. Fornecedor: ${C.fornecedor_id||"N/A"}`,timestamp:fe.toISOString(),status:"NOVO",data:{valor:C.valor,dias_atraso:W}})}),e.filter(C=>C.status==="FECHADO").forEach(C=>{const H=n.filter(W=>W.id_lote===C.id_lote);if(H.length>0&&C.peso_total_romaneio>0){const K=H.reduce((Q,he)=>Q+he.peso_entrada,0)/C.peso_total_romaneio*100;K<48&&te.push({id:`PROD-REND-${C.id_lote}`,agent:"PRODUCAO",severity:"CRITICO",module:"LOTES",title:`Rendimento baixo: ${C.id_lote}`,message:`Rendimento ${K.toFixed(1)}% (abaixo de 48%). Fornecedor: ${C.fornecedor}. Investigar quebra excessiva.`,timestamp:fe.toISOString(),status:"NOVO",data:{rendimento:K,fornecedor:C.fornecedor}})}}),n.filter(C=>C.status==="DISPONIVEL").forEach(C=>{const H=Math.floor((fe.getTime()-new Date(C.data_entrada).getTime())/864e5);H>60?te.push({id:`EST-VELHO-${C.id_completo}`,agent:"ESTOQUE",severity:"CRITICO",module:"ESTOQUE",title:` Pea ${C.id_completo}  ${H} dias!`,message:`No frio h ${H} dias. Peso: ${C.peso_entrada}kg. RISCO DE PERDA. Vender com desconto ou reprocessar URGENTE.`,timestamp:fe.toISOString(),status:"NOVO",data:{dias:H,peso:C.peso_entrada}}):H>30&&te.push({id:`EST-MED-${C.id_completo}`,agent:"ESTOQUE",severity:"ALERTA",module:"ESTOQUE",title:`Pea ${C.id_completo}  ${H} dias`,message:`No frio h ${H} dias. Peso: ${C.peso_entrada}kg. Priorizar sada (FIFO).`,timestamp:fe.toISOString(),status:"NOVO"})}),s.forEach(C=>{C.dados_bancarios||te.push({id:`COMP-BANK-${C.id}`,agent:"COMPRAS",severity:"ALERTA",module:"FORNECEDORES",title:`${C.nome_fantasia} sem PIX/Banco`,message:"Fornecedor sem dados bancrios. Pode atrasar pagamentos.",timestamp:fe.toISOString(),status:"NOVO"});const H=e.filter(W=>W.fornecedor===C.nome_fantasia).sort((W,K)=>new Date(K.data_recebimento).getTime()-new Date(W.data_recebimento).getTime())[0];if(H){const W=Math.floor((fe.getTime()-new Date(H.data_recebimento).getTime())/864e5);W>90&&te.push({id:`COMP-INATIVO-${C.id}`,agent:"COMPRAS",severity:"INFO",module:"FORNECEDORES",title:`${C.nome_fantasia} inativo`,message:`Sem lote h ${W} dias. Renegociar ou buscar alternativa.`,timestamp:fe.toISOString(),status:"NOVO"})}}),l.filter(C=>C.status==="PENDENTE"||C.status==="PARCIAL").forEach(C=>{const H=new Date(C.data_vencimento),W=Math.floor((fe.getTime()-H.getTime())/864e5);W>0&&te.push({id:`COMP-PAY-${C.id}`,agent:"COMPRAS",severity:"CRITICO",module:"FINANCEIRO",title:`Dvida vencida: ${C.descricao}`,message:`Venceu h ${W} dias. Valor: R$${C.valor.toFixed(2)}. Pagar para no perder fornecedor.`,timestamp:fe.toISOString(),status:"NOVO",data:{valor:C.valor,dias_atraso:W}})}),i.forEach(C=>{const H=r.filter(W=>W.id_cliente===C.id_ferro&&W.status_pagamento!=="ESTORNADO").sort((W,K)=>new Date(K.data_venda).getTime()-new Date(W.data_venda).getTime())[0];if(H){const W=Math.floor((fe.getTime()-new Date(H.data_venda).getTime())/864e5);W>60?te.push({id:`ROBO-REATIV-${C.id_ferro}`,agent:"ROBO_VENDAS",severity:"ALERTA",module:"CLIENTES",title:`Reativar: ${C.nome_social}`,message:`Sem compra h ${W} dias. Ligar e oferecer promoo ou condio especial.`,timestamp:fe.toISOString(),status:"NOVO"}):W>30&&te.push({id:`ROBO-FOLLOW-${C.id_ferro}`,agent:"ROBO_VENDAS",severity:"INFO",module:"CLIENTES",title:`Follow-up: ${C.nome_social}`,message:`ltima compra h ${W} dias. Mandar mensagem de acompanhamento.`,timestamp:fe.toISOString(),status:"NOVO"})}}),te.sort((C,H)=>{const W={BLOQUEIO:0,CRITICO:1,ALERTA:2,INFO:3};return W[C.severity]-W[H.severity]})},[e,n,r,i,a,s,l,c]),j=xe.useMemo(()=>{const te={ADMINISTRATIVO:{total:0,criticos:0,bloqueios:0},PRODUCAO:{total:0,criticos:0,bloqueios:0},COMERCIAL:{total:0,criticos:0,bloqueios:0},AUDITOR:{total:0,criticos:0,bloqueios:0},ESTOQUE:{total:0,criticos:0,bloqueios:0},COMPRAS:{total:0,criticos:0,bloqueios:0},MERCADO:{total:0,criticos:0,bloqueios:0},ROBO_VENDAS:{total:0,criticos:0,bloqueios:0}};return P.forEach(fe=>{te[fe.agent].total++,fe.severity==="CRITICO"&&te[fe.agent].criticos++,fe.severity==="BLOQUEIO"&&te[fe.agent].bloqueios++}),te},[P]),$=xe.useMemo(()=>{const te=a.filter(W=>W.categoria!=="ESTORNO"),fe=te.filter(W=>W.tipo==="ENTRADA").reduce((W,K)=>W+K.valor,0),be=te.filter(W=>W.tipo==="SAIDA").reduce((W,K)=>W+K.valor,0),re=fe-be,C=n.filter(W=>W.status==="DISPONIVEL").reduce((W,K)=>{const Q=e.find(he=>he.id_lote===K.id_lote);return W+K.peso_entrada*((Q==null?void 0:Q.custo_real_kg)||0)},0),H=r.filter(W=>W.status_pagamento==="PENDENTE").reduce((W,K)=>W+K.peso_real_saida*K.preco_venda_kg,0);return{entradas:fe,saidas:be,saldo:re,estoqueValor:C,vendasPendentes:H}},[a,n,e,r]),G={blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",glow:"shadow-blue-200/50"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200",glow:"shadow-emerald-200/50"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200",glow:"shadow-amber-200/50"},rose:{bg:"bg-rose-50",text:"text-rose-600",border:"border-rose-200",glow:"shadow-rose-200/50"},cyan:{bg:"bg-cyan-50",text:"text-cyan-600",border:"border-cyan-200",glow:"shadow-cyan-200/50"},orange:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200",glow:"shadow-orange-200/50"},violet:{bg:"bg-violet-50",text:"text-violet-600",border:"border-violet-200",glow:"shadow-violet-200/50"},teal:{bg:"bg-teal-50",text:"text-teal-600",border:"border-teal-200",glow:"shadow-teal-200/50"}},V={INFO:{icon:u.jsx(jH,{size:14}),color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},ALERTA:{icon:u.jsx(Qd,{size:14}),color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"},CRITICO:{icon:u.jsx(e9,{size:14}),color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100"},BLOQUEIO:{icon:u.jsx(HW,{size:14}),color:"text-red-700",bg:"bg-red-50",border:"border-red-200"}};f&&y.find(te=>te.id===f);const L=f?P.filter(te=>te.agent===f):P,k=async te=>{I(!0),F(null),A(null),D(te);try{const fe=a.filter(se=>se.categoria!=="ESTORNO"),be=fe.filter(se=>se.tipo==="ENTRADA").reduce((se,X)=>se+X.valor,0),re=fe.filter(se=>se.tipo==="SAIDA").reduce((se,X)=>se+X.valor,0),C=r.filter(se=>se.status_pagamento==="PAGO"),H=r.filter(se=>se.status_pagamento==="PENDENTE"),W=r.filter(se=>se.status_pagamento==="ESTORNADO"),K=l.filter(se=>se.status==="PENDENTE"||se.status==="PARCIAL"),Q=K.filter(se=>new Date(se.data_vencimento)<new Date),he=n.filter(se=>se.status==="DISPONIVEL"),_e=P.filter(se=>se.agent===te),ae={ADMINISTRATIVO:`
## SNAPSHOT GERAL  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Caixa: Entradas R$${be.toFixed(2)} | Sadas R$${re.toFixed(2)} | Saldo R$${(be-re).toFixed(2)}
Vendas: ${C.length} pagas, ${H.length} pendentes, ${W.length} estornadas
Contas a Pagar: ${K.length} pendentes (R$${K.reduce((se,X)=>se+X.valor,0).toFixed(2)}), ${Q.length} vencidas
Estoque: ${he.length} peas, ${he.reduce((se,X)=>se+X.peso_entrada,0).toFixed(1)}kg
Lotes: ${e.length} total (${e.filter(se=>se.status==="ABERTO").length} abertos, ${e.filter(se=>se.status==="FECHADO").length} fechados)
Clientes: ${i.length} total, ${i.filter(se=>se.saldo_devedor>0).length} com saldo devedor
Fornecedores: ${s.length} cadastrados
Pedidos: ${c.filter(se=>se.status==="ABERTO").length} abertos
Alertas: ${P.length} ativos
${P.slice(0,10).map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),PRODUCAO:`
## SNAPSHOT PRODUO  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Lotes: ${e.length} total
${e.filter(se=>se.status!=="ESTORNADO").slice(-10).map(se=>{const X=n.filter(Me=>Me.id_lote===se.id_lote),De=X.reduce((Me,Ye)=>Me+Ye.peso_entrada,0),Ke=se.peso_total_romaneio>0?(De/se.peso_total_romaneio*100).toFixed(1):"N/A";return`- Lote ${se.id_lote} | Forn: ${se.fornecedor} | Raa: ${se.raca||"N/I"} | Cab: ${se.qtd_cabecas||"N/I"} | Romaneio: ${se.peso_total_romaneio}kg | Pesado: ${De.toFixed(1)}kg | Rend: ${Ke}% | Toalete: ${se.toalete_kg||"N/I"}kg | Peas: ${X.length}`}).join(`
`)}
Estoque: ${he.length} peas, ${he.reduce((se,X)=>se+X.peso_entrada,0).toFixed(1)}kg disponvel
Fornecedores: ${s.length}
Alertas Produo: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),COMERCIAL:`
## SNAPSHOT COMERCIAL  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Vendas Pagas: ${C.length} (R$${C.reduce((se,X)=>se+X.peso_real_saida*X.preco_venda_kg,0).toFixed(2)})
Vendas Pendentes: ${H.length} (R$${H.reduce((se,X)=>se+X.peso_real_saida*X.preco_venda_kg,0).toFixed(2)})
Vendas Estornadas: ${W.length}
Preo Mdio Venda/kg: R$${C.length>0?(C.reduce((se,X)=>se+X.preco_venda_kg,0)/C.length).toFixed(2):"0.00"}
Clientes: ${i.length} total
${i.filter(se=>se.saldo_devedor>0).slice(0,10).map(se=>`- ${se.nome_social}: Devendo R$${se.saldo_devedor.toFixed(2)} | Limite R$${se.limite_credito.toFixed(2)}`).join(`
`)}
Top vendas pendentes:
${H.slice(0,8).map(se=>`- ${se.nome_cliente||se.id_cliente}: ${se.peso_real_saida}kg  R$${se.preco_venda_kg}/kg = R$${(se.peso_real_saida*se.preco_venda_kg).toFixed(2)} | Venc: ${se.data_vencimento}`).join(`
`)}
Alertas Comercial: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),AUDITOR:`
## SNAPSHOT FINANCEIRO  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Caixa: Entradas R$${be.toFixed(2)} | Sadas R$${re.toFixed(2)} | Saldo R$${(be-re).toFixed(2)}
Transaes: ${a.length} total
Vendas PAGAS sem Transaction ENTRADA: ${C.filter(se=>!a.some(X=>X.referencia_id===se.id_venda&&X.tipo==="ENTRADA"&&X.categoria!=="ESTORNO")).length}
Lotes sem sada financeira: ${e.filter(se=>se.status!=="ESTORNADO"&&!l.some(X=>X.id_lote===se.id_lote)&&!a.some(X=>X.referencia_id===se.id_lote&&X.tipo==="SAIDA")).length}
Contas vencidas: ${Q.length} (R$${Q.reduce((se,X)=>se+X.valor,0).toFixed(2)})
Estornos: ${W.length} vendas, ${a.filter(se=>se.categoria==="ESTORNO").length} transaes
Alertas Auditor: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),ESTOQUE:`
## SNAPSHOT ESTOQUE  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Peas disponveis: ${he.length}
Peso total: ${he.reduce((se,X)=>se+X.peso_entrada,0).toFixed(1)}kg
Peas >30 dias: ${he.filter(se=>Math.floor((new Date().getTime()-new Date(se.data_entrada).getTime())/864e5)>30).length}
Peas >60 dias: ${he.filter(se=>Math.floor((new Date().getTime()-new Date(se.data_entrada).getTime())/864e5)>60).length}
Detalhamento:
${he.slice(0,15).map(se=>{const X=Math.floor((new Date().getTime()-new Date(se.data_entrada).getTime())/864e5);return`- ${se.id_completo} | ${se.peso_entrada}kg | ${X} dias | Lote: ${se.id_lote}`}).join(`
`)}
Alertas Estoque: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),COMPRAS:`
## SNAPSHOT COMPRAS  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Fornecedores: ${s.length} cadastrados
${s.slice(0,10).map(se=>{const X=e.filter(Me=>Me.fornecedor===se.nome_fantasia),De=X.reduce((Me,Ye)=>Me+Ye.peso_total_romaneio,0),Ke=X.reduce((Me,Ye)=>Me+Ye.valor_compra_total,0);return`- ${se.nome_fantasia} | Raa: ${se.raca_predominante||"N/I"} | ${X.length} lotes | ${De.toFixed(0)}kg | R$${Ke.toFixed(2)} | Banco: ${se.dados_bancarios?"SIM":"NO"}`}).join(`
`)}
Contas a Pagar: ${K.length} (R$${K.reduce((se,X)=>se+X.valor,0).toFixed(2)})
Vencidas: ${Q.length} (R$${Q.reduce((se,X)=>se+X.valor,0).toFixed(2)})
Custo mdio/kg: R$${e.length>0?(e.reduce((se,X)=>se+X.custo_real_kg,0)/e.length).toFixed(2):"0.00"}
Alertas Compras: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),MERCADO:`
## SNAPSHOT MERCADO  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Preo mdio compra/kg: R$${e.length>0?(e.reduce((se,X)=>se+X.custo_real_kg,0)/e.length).toFixed(2):"0.00"}
Preo mdio venda/kg: R$${C.length>0?(C.reduce((se,X)=>se+X.preco_venda_kg,0)/C.length).toFixed(2):"0.00"}
Margem bruta estimada: ${C.length>0&&e.length>0?((C.reduce((se,X)=>se+X.preco_venda_kg,0)/C.length/(e.reduce((se,X)=>se+X.custo_real_kg,0)/e.length)-1)*100).toFixed(1):"N/A"}%
Lotes recentes (10):
${e.slice(-10).map(se=>`- ${se.id_lote}: ${se.peso_total_romaneio}kg a R$${se.custo_real_kg.toFixed(2)}/kg | Forn: ${se.fornecedor}`).join(`
`)}
Regio: Vitria da Conquista - BA
Alertas Mercado: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim(),ROBO_VENDAS:`
## SNAPSHOT VENDAS  FRIGOGEST (${new Date().toLocaleDateString("pt-BR")})
Clientes total: ${i.length}
Clientes com compra no ms: ${i.filter(se=>r.some(X=>X.id_cliente===se.id_ferro&&Math.floor((new Date().getTime()-new Date(X.data_venda).getTime())/864e5)<30)).length}
Clientes inativos (>30d): ${i.filter(se=>{const X=r.filter(De=>De.id_cliente===se.id_ferro).sort((De,Ke)=>new Date(Ke.data_venda).getTime()-new Date(De.data_venda).getTime())[0];return X&&Math.floor((new Date().getTime()-new Date(X.data_venda).getTime())/864e5)>30}).length}
Clientes inativos (>60d): ${i.filter(se=>{const X=r.filter(De=>De.id_cliente===se.id_ferro).sort((De,Ke)=>new Date(Ke.data_venda).getTime()-new Date(De.data_venda).getTime())[0];return X&&Math.floor((new Date().getTime()-new Date(X.data_venda).getTime())/864e5)>60}).length}
Top clientes por volume:
${i.sort((se,X)=>{const De=r.filter(Me=>Me.id_cliente===se.id_ferro).reduce((Me,Ye)=>Me+Ye.peso_real_saida,0);return r.filter(Me=>Me.id_cliente===X.id_ferro).reduce((Me,Ye)=>Me+Ye.peso_real_saida,0)-De}).slice(0,8).map(se=>{const X=r.filter(Ke=>Ke.id_cliente===se.id_ferro),De=X.reduce((Ke,Me)=>Ke+Me.peso_real_saida,0);return`- ${se.nome_social}: ${X.length} compras, ${De.toFixed(1)}kg`}).join(`
`)}
Pedidos abertos: ${c.filter(se=>se.status==="ABERTO").length}
Alertas Rob: ${_e.length}
${_e.map(se=>`- [${se.severity}] ${se.title}: ${se.message}`).join(`
`)}`.trim()},Ne=`${{ADMINISTRATIVO:`Voc  DONA CLARA, administradora-geral do FrigoGest  o CREBRO CENTRAL do frigorfico.
Voc tem viso de 360 e manda em todos os 7 outros agentes: Seu Antnio (Produo), Marcos (Comercial), Dra. Beatriz (Auditoria), Joaquim (Estoque), Roberto (Compras), Ana (Mercado), Lucas (Rob Vendas).

SUA EXPERTISE:
- Fluxo de caixa: entradas vs sadas, capital de giro, necessidade de financiamento
- Ciclo operacional: compra de gado  abate  desossa  estoque  venda  recebimento
- Correlao entre setores: se rendimento cai E dvidas sobem, identifique a raiz
- Capacidade produtiva: quantos lotes por semana processamos? Estamos ociosos ou sobrecarregados?
- Gesto de risco: concentrao em poucos fornecedores ou clientes  risco

ANLISE CRUZADA (sua vantagem):
- Estoque parado + vendas pendentes = problema de preo ou de vendedor?
- Fornecedor com rendimento baixo + dvida vencida = cortar relao?
- Cliente devedor + alta frequncia = renegociar crdito ou bloquear?

Organize em:  DIAGNSTICO EXECUTIVO,  AES URGENTES (prximas 24h),  PLANEJAMENTO (prxima semana)`,PRODUCAO:`Voc  SEU ANTNIO, chefe de produo do FrigoGest com 30 ANOS de experincia em abate e desossa.

CONHECIMENTO TCNICO EMBRAPA:
- RENDIMENTO DE CARCAA por raa:
   Nelore (puro): 48-52% (pode chegar a 62% em confinamento premium)
   Angus  Nelore (F1): 50-55%  cruzamento industrial mais popular
   Senepol  Nelore: 53-57%  excelente acabamento precoce, gene pelo zero
   Senepol puro: 53-54%
   Angus puro: 52-56%  referncia em marmoreio
   Hereford  Nelore: 52-55%
   Charols  Nelore: 53-56%  maior peso de carcaa
   Brahman: 50-53%
   Brangus: 51-55%
   Gir  Holands: 45-48%  dupla aptido, rendimento menor
   Guzer: 48-51%
   Tabapu: 49-52%

- QUEBRA DE RESFRIAMENTO: normal 1.5-2.5%. Acima de 3% = problema na cmara fria
- TOALETE: normal ~15kg por carcaa. Acima de 20kg = ALERTA. Acima de 25kg = frigorfico est abusando
- PESO VIVO  CARCAA: 1 boi de 500kg vivo  250kg carcaa (rendimento ~50%)
- CONVERSO ARROBA: 1@ = 15kg. Boi de 500kg = 33,3@ vivas  16,6@ de carcaa

ANLISE QUE VOC DEVE FAZER:
- Compare rendimento real vs referncia EMBRAPA para cada raa
- Identifique fornecedores com rendimento consistentemente abaixo da mdia
- Calcule custo real por kg de carne (incluindo frete, toalete, quebra)
- Sugira fornecedores para cortar e para premiar
- Alerte sobre toalete excessiva (frigorfico pode estar desviando carne)

Organize em:  ANLISE DE RENDIMENTO,  SCORECARD FORNECEDORES,  ALERTAS PRODUO,  RECOMENDAES`,COMERCIAL:`Voc  MARCOS, diretor comercial do FrigoGest  sua misso  MAXIMIZAR RECEITA e PROTEGER MARGEM.

EXPERTISE COMERCIAL:
- POLTICA DE PREO: preo mnimo de venda deve ser custo_real_kg  1.3 (30% margem mnima)
- CRDITO: cliente que excede limite NO pode comprar a prazo. S  vista
- PRAZO: padro 7-21-28 dias. Acima de 30 dias s com garantia
- DESCONTO: mximo 5% para volume. Acima disso, precisa de autorizao
- SAZONALIDADE: fim de ms = pico de demanda (aougues, restaurantes, churrascarias)

ANLISE QUE VOC DEVE FAZER:
- COBRANA: quem est devendo e h quantos dias? Priorize por valor
- TICKET MDIO: qual o valor mdio por venda? Est subindo ou caindo?
- TOP 10: rankeie clientes por volume (kg) e por receita (R$)  quem so os VIPs?
- CHURN: clientes que pararam de comprar  por qu? Preo? Qualidade? Atendimento?
- PREO vs CUSTO: estamos vendendo acima do custo real? Qual a margem por venda?
- OPORTUNIDADES: cliente que compra pouco mas tem potencial para comprar mais
- MIX DE PRODUTOS: quais cortes vendem mais? Quais encalham?

Organize em:  SADE COMERCIAL,  COBRANAS URGENTES (ligar HOJE),  TOP CLIENTES,  OPORTUNIDADES`,AUDITOR:`Voc  DRA. BEATRIZ, auditora financeira do FrigoGest  IMPLACVEL com cada centavo.

REGRAS DE OURO DA AUDITORIA:
1. Toda venda PAGA deve ter Transaction tipo ENTRADA no caixa  se no tem,  FURO
2. Todo lote comprado deve ter: ou Transaction SAIDA, ou Payable vinculado  se no tem, gado gratuito?
3. Todo estorno de venda deve ter Transaction ESTORNO correspondente
4. Saldo do caixa (entradas - sadas) deve bater com dinheiro real
5. Soma de vendas pendentes deve bater com saldo devedor dos clientes
6. Soma de payables pendentes deve bater com contas a pagar

CHECKLIST DE AUDITORIA:
- FUROS NO CAIXA: vendas pagas sem entrada, ou entradas sem venda correspondente
- ESTORNOS INCOMPLETOS: venda estornada mas pea no voltou ao estoque, ou dinheiro no devolvido
- TRANSAES RFS: transaes sem referncia a vendas ou lotes
- DUPLICIDADES: mesma venda registrada duas vezes, ou mesmo lote pago duas vezes
- DIVERGNCIAS: valor da venda diferente do valor da transao
- CONTAS VENCIDAS: payables no pagos aps vencimento  risco de juros e perda de fornecedor

Organize em:  DIAGNSTICO FINANCEIRO,  FUROS DETECTADOS,  RISCOS,  RECOMENDAES`,ESTOQUE:`Voc  JOAQUIM, estoquista-chefe do FrigoGest  a cmara fria  SEU TERRITRIO.

REGRAS DE OURO DO ESTOQUE:
1. FIFO  LEI: First In, First Out  pea mais velha sai PRIMEIRO, sem exceo
2. TEMPO MXIMO: carne bovina congelada dura at 12 meses, mas qualidade cai aps 90 dias
3. TEMPERATURA: cmara de congelamento -18C, cmara de resfriamento 0-2C
4. CLASSIFICAO por tempo no frio:
    0-15 dias:  FRESCO  vender pelo preo normal
    16-30 dias:  NORMAL  comear a priorizar sada
    31-60 dias:  ATENO  oferecer desconto 5-10%, ligar para clientes
    61-90 dias:  URGENTE  desconto 15-20%, promoo agressiva
    90+ dias:  CRTICO  vender a qualquer preo ou destinar para charque/industrializado

ANLISE QUE VOC DEVE FAZER:
- GIRO DE ESTOQUE: quantos dias em mdia uma pea fica no frio?
- PESO TOTAL vs CAPACIDADE: estamos com cmara cheia ou ociosa?
- PEAS MAIS VELHAS: liste as 5 peas mais antigas  ao IMEDIATA
- CURVA ABC: 80% do peso so de quais tipos de corte?
- PERDAS: houve peas perdidas, descartadas ou com quebra de peso?
- FILA DE SADA: h pedidos agendados que vo consumir esse estoque?

Organize em:  SITUAO DA CMARA,  PEAS EM RISCO,  GIRO DO ESTOQUE,  AES IMEDIATAS`,COMPRAS:`Voc  ROBERTO, comprador do FrigoGest  OLHO NOS CENTAVOS, sem desperdiar um real.

EXPERTISE DE COMPRAS DE GADO:
- CUSTO REAL por kg = (valor_compra + frete + gastos_extras) / peso_total
- FRETE: custo normal R$3-8/km dependendo da distncia. Acima = renegociar
- PAGAMENTO:  vista = desconto 3-5%. A prazo (7-21d) = preo cheio
- FORNECEDOR BOM: entrega pontual, rendimento >50%, aceita pagamento a prazo, gado saudvel
- FORNECEDOR RUIM: atrasa entrega, rendimento <48%, exige pagamento antecipado, lotes irregulares
- DIVERSIFICAO: no depender de 1-2 fornecedores. Ideal = 5+ ativos

SCORECARD DE FORNECEDOR (0-100 pontos):
- Rendimento mdio (peso real vs romaneio): 0-30 pts
- Regularidade de entrega: 0-20 pts
- Condies de pagamento: 0-15 pts
- Raa e gentica do rebanho: 0-15 pts
- Custo total por kg: 0-20 pts

ANLISE QUE VOC DEVE FAZER:
- RANKING: quem  o melhor e o pior fornecedor, e por qu
- CUSTO COMPARATIVO: custo/kg por fornecedor  variao  normal <5%
- PAGAMENTOS: quem estamos devendo? H risco de perder fornecedor?
- OPORTUNIDADES: fornecedor novo na regio? poca de compra mais barata?
- FRETE: % do frete no custo total  acima de 8% precisa renegociar

Organize em:  SCORECARD FORNECEDORES,  ANLISE DE CUSTOS,  PAGAMENTOS PENDENTES,  OPORTUNIDADES`,MERCADO:`Voc  ANA, analista de inteligncia de mercado do FrigoGest  voc CONHECE O MERCADO DE BOI COMO NINGUM.

 LOCALIZAO DO FRIGORFICO: Vitria da Conquista - BA (Sudoeste Baiano)
Praas de referncia: Feira de Santana, Itapetinga, Ilhus, Jequi

CONHECIMENTO DE MERCADO DO BOI:
1. CEPEA/ESALQ  Como funciona:
   - Centro de Estudos Avanados em Economia Aplicada, USP-Piracicaba
   - Coleta diria de preos em praas de referncia em 17 estados
   - Indicador CEPEA Boi Gordo = mdia ponderada das negociaes reais
   - Serve como referncia para contratos futuros na B3

2. SAZONALIDADE DO BOI:
   - SAFRA (fev-jun): chove  pasto bom  mais gado disponvel  PREO CAI
   - ENTRESSAFRA (jul-nov): seca  pasto ruim  menos gado  PREO SOBE 15-25%
   - PICO DE DEMANDA: dezembro (Natal/Rveillon), Semana Santa, churrascos de fim de semana
   - VALE DE DEMANDA: janeiro (ps-festas), maro-abril (quaresma para alguns)

3. TIPOS DE BOI E PREO:
   - BOI COMUM (Nelore, pasto): preo base
   - BOI CHINA (habilitado para exportao): +10-15% sobre o comum
   - NOVILHA: -5 a -10% vs boi inteiro (mas rendimento pode ser maior)
   - BOI CONFINADO: +5% sobre pasto (mais gordo, acabamento melhor)
   - BOI ORGNICO: +20-30% (nicho premium)

4. CONVERSES ESSENCIAIS:
   - 1 arroba (@) = 15 kg de carcaa
   - 1 boi gordo  16-18@ de carcaa (240-270kg)
   - Preo por kg carcaa = preo arroba  15
   - Preo por kg do boi em p = preo arroba  30 (rendimento ~50%)

5. BAHIA  MERCADO REGIONAL:
   - BA  o 5 maior produtor de bovinos do Brasil
   - Sudoeste baiano: pecuria extensiva, predominncia Nelore
   - Praas: Itapetinga (maior mercado regional), Feira de Santana (capital comercial)
   - Distncia para SP: frete inviabiliza venda direta  mercado regional
   - Concorrncia: frigorficos habilitados para China pagam mais

6. MARGEM DO FRIGORFICO:
   - Margem bruta saudvel: 25-35%
   - Margem lquida saudvel: 8-15%
   - Abaixo de 20% bruta: ALERTA  revisar preos de compra e venda
   - Abaixo de 5% lquida: CRTICO  operao no se sustenta

ANLISE QUE VOC DEVE FAZER:
- MARGEM ATUAL: compra vs venda, estamos ganhando dinheiro?
- TIMING:  hora de comprar mais (preo baixo) ou segurar (preo alto)?
- TENDNCIA: preos esto subindo ou caindo? E nos prximos 30 dias?
- COMPETITIVIDADE: nosso preo de venda  competitivo na regio?
- OPORTUNIDADES: h gado mais barato em praas vizinhas?
- RISCO: dependemos de poucos fornecedores em uma praa?

Organize em:  PANORAMA DE MERCADO,  MARGENS E PREOS,  TENDNCIAS E TIMING,  OPORTUNIDADES,  RISCOS`,ROBO_VENDAS:`Voc  LUCAS, rob de vendas do FrigoGest  seu trabalho  manter o PIPELINE AQUECIDO e NENHUM CLIENTE ESQUECIDO.

METODOLOGIA DE VENDAS:
1. CLASSIFICAO DE CLIENTES (RFM):
   - R (Recncia): quando foi a ltima compra?
      <7 dias = ATIVO QUENTE 
      7-30 dias = ATIVO 
      31-60 dias = ESFRIANDO 
      61-90 dias = INATIVO 
      90+ dias = PERDIDO 
   - F (Frequncia): quantas compras no total?
      10+ = FIEL | 5-9 = REGULAR | 2-4 = OCASIONAL | 1 = ONE-TIME
   - M (Monetrio): quanto gasta em mdia?
      Top 20% = VIP | Meio 60% = REGULAR | Bottom 20% = PEQUENO

2. ESTRATGIAS POR SEGMENTO:
   - ATIVO QUENTE + FIEL: manter relacionamento, oferecer condies especiais
   - ESFRIANDO + REGULAR: ligar, perguntar se precisa, oferecer promoo
   - INATIVO + OCASIONAL: visitar pessoalmente, entender o que aconteceu
   - PERDIDO: ltima tentativa  desconto agressivo ou condio especial

3. SCRIPTS DE ABORDAGEM:
   - Reativao: "Oi [Nome], aqui  do FrigoGest. Faz tempo que no nos vemos! Temos [corte] fresquinho a preo especial..."
   - Follow-up: "Oi [Nome], como foi o ltimo pedido? Tudo em ordem? Precisa de algo essa semana?"
   - Promoo: "Oi [Nome], esta semana temos promoo de [corte]: R$XX/kg. Quantidade limitada!"

4. MTRICAS DE VENDAS:
   - Taxa de recompra ideal: >60% dos clientes devem comprar todo ms
   - Ticket mdio: acompanhar se est subindo ou caindo
   - Churn: se perder >20% dos clientes no ms,  emergncia

Organize em:  CLIENTES PARA LIGAR HOJE,  TOP COMPRADORES (VIPs),  REATIVAES URGENTES,  MTRICAS,  CAMPANHAS SUGERIDAS`}[te]}
Regras gerais:
- Responda SEMPRE em portugus brasileiro
- Seja DIRETO, PRTICO e ACIONVEL  fale como gerente de frigorfico, no como rob
- Use emojis:  crtico,  ateno,  ok
- Cite NMEROS ESPECFICOS do snapshot  nunca invente dados
- Se no tiver dados suficientes, diga claramente o que falta
- Mximo 600 palavras
- Termine SEMPRE com 3 aes concretas numeradas: "FAA AGORA: 1. ... 2. ... 3. ..."

${ae[te]}`,{text:Se,provider:Te}=await X7(Ne);A(`_via ${Te}_

${Se}`),setTimeout(()=>{var se;return(se=q.current)==null?void 0:se.scrollIntoView({behavior:"smooth",block:"start"})},300)}catch(fe){F(fe.message||"Erro ao consultar a IA.")}finally{I(!1)}},J=async()=>{I(!0),F(null),A(null),D("ADMINISTRATIVO"),h("ADMINISTRATIVO"),g("alerts");try{const te=a.filter(Se=>Se.categoria!=="ESTORNO"),fe=te.filter(Se=>Se.tipo==="ENTRADA").reduce((Se,Te)=>Se+Te.valor,0),be=te.filter(Se=>Se.tipo==="SAIDA").reduce((Se,Te)=>Se+Te.valor,0),re=r.filter(Se=>Se.status_pagamento==="PAGO"),C=r.filter(Se=>Se.status_pagamento==="PENDENTE"),H=r.filter(Se=>Se.status_pagamento==="ESTORNADO"),W=l.filter(Se=>Se.status==="PENDENTE"||Se.status==="PARCIAL"),K=W.filter(Se=>new Date(Se.data_vencimento)<new Date),Q=n.filter(Se=>Se.status==="DISPONIVEL"),he=new Date,Ae=`Voc  DONA CLARA, administradora-geral do FrigoGest.
Voc acabou de receber os RELATRIOS DE TODOS OS 7 SETORES do seu frigorfico.
Analise como uma CHEFE que consulta cada gerente e monta um relatrio para o dono.

SUA MISSO: Montar um RELATRIO EXECUTIVO unificado, cruzando dados entre setores.

ESTRUTURA OBRIGATRIA:

 RESUMO EXECUTIVO (2-3 linhas com a sade geral do negcio)

 EMERGNCIAS (o que precisa ser resolvido nas prximas 24 horas)
- Liste aes urgentes de QUALQUER setor

 PAINEL POR SETOR:
1.  PRODUO (Seu Antnio reporta): rendimento, problemas
2.  ESTOQUE (Joaquim reporta): cmara fria, peas em risco
3.  COMERCIAL (Marcos reporta): vendas, cobranas
4.  AUDITORIA (Dra. Beatriz reporta): furos, divergncias
5.  COMPRAS (Roberto reporta): fornecedores, custos
6.  MERCADO (Ana reporta): preos, margem, timing
7.  CRM (Lucas reporta): clientes, reativaes

 ANLISE CRUZADA (sua expertise  o que NENHUM gerente v sozinho):
- Correlaes entre setores (ex: rendimento baixo + fornecedor caro = trocar)
- Riscos sistmicos (ex: estoque parado + clientes sumindo = problema de preo)
- Oportunidades escondidas (ex: margem boa + clientes inativos = promoo)

 PLANO DE AO (prximas 48 horas):
Numere de 1 a 5 as aes mais importantes, com responsvel (nome do agente).

Regras:
- Portugus brasileiro, direto e prtico
- Cite nmeros especficos do relatrio
- Se algum setor est saudvel, diga " OK" e no gaste mais de 1 linha
- Foque nos problemas e oportunidades
- Mximo 800 palavras

${`
##  RELATRIO EXECUTIVO ORQUESTRADO  FRIGOGEST
## Data: ${he.toLocaleDateString("pt-BR")} s ${he.toLocaleTimeString("pt-BR")}


 SETOR FINANCEIRO (Dra. Beatriz)

Caixa: Entradas R$${fe.toFixed(2)} | Sadas R$${be.toFixed(2)} | Saldo R$${(fe-be).toFixed(2)}
Transaes totais: ${a.length}
Vendas: ${re.length} pagas (R$${re.reduce((Se,Te)=>Se+Te.peso_real_saida*Te.preco_venda_kg,0).toFixed(2)}) | ${C.length} pendentes (R$${C.reduce((Se,Te)=>Se+Te.peso_real_saida*Te.preco_venda_kg,0).toFixed(2)}) | ${H.length} estornadas
Contas a Pagar: ${W.length} pendentes (R$${W.reduce((Se,Te)=>Se+Te.valor,0).toFixed(2)}) | ${K.length} vencidas (R$${K.reduce((Se,Te)=>Se+Te.valor,0).toFixed(2)})
Vendas PAGAS sem Transaction ENTRADA: ${re.filter(Se=>!a.some(Te=>Te.referencia_id===Se.id_venda&&Te.tipo==="ENTRADA"&&Te.categoria!=="ESTORNO")).length}


 SETOR PRODUO (Seu Antnio)

Lotes total: ${e.length} (${e.filter(Se=>Se.status==="ABERTO").length} abertos, ${e.filter(Se=>Se.status==="FECHADO").length} fechados)
ltimos lotes:
${e.filter(Se=>Se.status!=="ESTORNADO").slice(-8).map(Se=>{const se=n.filter(De=>De.id_lote===Se.id_lote).reduce((De,Ke)=>De+Ke.peso_entrada,0),X=Se.peso_total_romaneio>0?(se/Se.peso_total_romaneio*100).toFixed(1):"N/A";return`- ${Se.id_lote} | Forn: ${Se.fornecedor} | Raa: ${Se.raca||"N/I"} | Rom: ${Se.peso_total_romaneio}kg | Real: ${se.toFixed(1)}kg | Rend: ${X}% | Custo: R$${Se.custo_real_kg.toFixed(2)}/kg`}).join(`
`)}


 SETOR ESTOQUE (Joaquim)

Peas disponveis: ${Q.length} | Peso total: ${Q.reduce((Se,Te)=>Se+Te.peso_entrada,0).toFixed(1)}kg
Peas >30 dias: ${Q.filter(Se=>Math.floor((he.getTime()-new Date(Se.data_entrada).getTime())/864e5)>30).length}
Peas >60 dias: ${Q.filter(Se=>Math.floor((he.getTime()-new Date(Se.data_entrada).getTime())/864e5)>60).length}
Giro mdio: ${Q.length>0?(Q.reduce((Se,Te)=>Se+Math.floor((he.getTime()-new Date(Te.data_entrada).getTime())/864e5),0)/Q.length).toFixed(0):"0"} dias


 SETOR COMERCIAL (Marcos)

Clientes: ${i.length} total | ${i.filter(Se=>Se.saldo_devedor>0).length} com saldo devedor
Vendas ltimos 30 dias: ${r.filter(Se=>Math.floor((he.getTime()-new Date(Se.data_venda).getTime())/864e5)<30&&Se.status_pagamento!=="ESTORNADO").length}
Preo mdio venda: R$${re.length>0?(re.reduce((Se,Te)=>Se+Te.preco_venda_kg,0)/re.length).toFixed(2):"0.00"}/kg
Ticket mdio: R$${re.length>0?(re.reduce((Se,Te)=>Se+Te.peso_real_saida*Te.preco_venda_kg,0)/re.length).toFixed(2):"0.00"}
Top devedores:
${C.slice(0,5).map(Se=>`- ${Se.nome_cliente||Se.id_cliente}: R$${(Se.peso_real_saida*Se.preco_venda_kg).toFixed(2)} venc: ${Se.data_vencimento}`).join(`
`)}


 SETOR COMPRAS (Roberto)

Fornecedores: ${s.length} cadastrados
${s.slice(0,8).map(Se=>{const Te=e.filter(Me=>Me.fornecedor===Se.nome_fantasia&&Me.status!=="ESTORNADO"),se=Te.reduce((Me,Ye)=>Me+Ye.peso_total_romaneio,0),De=Te.flatMap(Me=>n.filter(Ye=>Ye.id_lote===Me.id_lote)).reduce((Me,Ye)=>Me+Ye.peso_entrada,0),Ke=se>0?(De/se*100).toFixed(1):"N/A";return`- ${Se.nome_fantasia} | ${Te.length} lotes | ${se.toFixed(0)}kg rom | Rend: ${Ke}% | PIX: ${Se.dados_bancarios?"SIM":"NO"}`}).join(`
`)}
Custo mdio/kg: R$${e.length>0?(e.filter(Se=>Se.status!=="ESTORNADO").reduce((Se,Te)=>Se+Te.custo_real_kg,0)/e.filter(Se=>Se.status!=="ESTORNADO").length).toFixed(2):"0.00"}


 SETOR MERCADO (Ana)

Preo mdio compra: R$${e.length>0?(e.filter(Se=>Se.status!=="ESTORNADO").reduce((Se,Te)=>Se+Te.custo_real_kg,0)/e.filter(Se=>Se.status!=="ESTORNADO").length).toFixed(2):"0.00"}/kg
Preo mdio venda: R$${re.length>0?(re.reduce((Se,Te)=>Se+Te.preco_venda_kg,0)/re.length).toFixed(2):"0.00"}/kg
Margem bruta: ${re.length>0&&e.length>0?((re.reduce((Se,Te)=>Se+Te.preco_venda_kg,0)/re.length/(e.filter(Se=>Se.status!=="ESTORNADO").reduce((Se,Te)=>Se+Te.custo_real_kg,0)/e.filter(Se=>Se.status!=="ESTORNADO").length)-1)*100).toFixed(1):"N/A"}%
Ms atual: ${he.toLocaleDateString("pt-BR",{month:"long"})} (${he.getMonth()>=1&&he.getMonth()<=5?"SAFRA  preos tendendo a cair":he.getMonth()>=6&&he.getMonth()<=10?"ENTRESSAFRA  preos tendendo a subir":"PICO FESTAS  demanda alta"})
Regio: Vitria da Conquista - BA (Sudoeste Baiano)


 SETOR VENDAS/CRM (Lucas)

Clientes ativos (compra <30d): ${i.filter(Se=>r.some(Te=>Te.id_cliente===Se.id_ferro&&Te.status_pagamento!=="ESTORNADO"&&Math.floor((he.getTime()-new Date(Te.data_venda).getTime())/864e5)<30)).length}
Clientes esfriando (30-60d): ${i.filter(Se=>{const Te=r.filter(X=>X.id_cliente===Se.id_ferro&&X.status_pagamento!=="ESTORNADO").sort((X,De)=>new Date(De.data_venda).getTime()-new Date(X.data_venda).getTime())[0];if(!Te)return!1;const se=Math.floor((he.getTime()-new Date(Te.data_venda).getTime())/864e5);return se>=30&&se<=60}).length}
Clientes inativos (>60d): ${i.filter(Se=>{const Te=r.filter(se=>se.id_cliente===Se.id_ferro&&se.status_pagamento!=="ESTORNADO").sort((se,X)=>new Date(X.data_venda).getTime()-new Date(se.data_venda).getTime())[0];return Te&&Math.floor((he.getTime()-new Date(Te.data_venda).getTime())/864e5)>60}).length}
Pedidos abertos: ${c.filter(Se=>Se.status==="ABERTO").length}


 TODOS OS ALERTAS ATIVOS (${P.length})

${P.slice(0,15).map(Se=>`- [${Se.severity}] ${Se.agent}: ${Se.title}  ${Se.message}`).join(`
`)}
`.trim()}`,{text:Ce,provider:Ne}=await X7(Ae);A(`_ Relatrio Executivo via ${Ne}_

${Ce}`),setTimeout(()=>{var Se;return(Se=q.current)==null?void 0:Se.scrollIntoView({behavior:"smooth",block:"start"})},300)}catch(te){F(te.message||"Erro ao gerar relatrio.")}finally{I(!1)}};return u.jsxs("div",{className:"p-4 md:p-10 min-h-screen bg-[#f8fafc] animate-reveal pb-20 font-sans",children:[u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("button",{onClick:t,className:"group self-start flex items-center gap-2 px-4 py-1.5 bg-white border border-gray-200 rounded-full text-xs font-bold text-gray-500 hover:text-blue-700 hover:border-blue-100 transition-all shadow-sm",children:[u.jsx(ja,{size:14})," Voltar ao Incio"]}),u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsxs("div",{className:"bg-slate-900 p-3 rounded-2xl text-purple-400 shadow-xl shadow-purple-900/40 relative group",children:[u.jsx(WE,{size:28}),u.jsx("div",{className:"absolute inset-0 bg-purple-400/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:["Central de ",u.jsx("span",{className:"text-purple-600",children:"Agentes IA"})]}),u.jsxs("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-widest mt-1",children:["Ecossistema Multi-Agente  ",P.length," alertas ativos"]})]})]})]}),u.jsx("nav",{className:"flex p-1 bg-white rounded-2xl border border-slate-100 shadow-sm overflow-x-auto",children:[{id:"overview",icon:As,label:"Viso Geral"},{id:"alerts",icon:HE,label:`Alertas (${P.length})`},{id:"config",icon:i9,label:"Config"}].map(te=>u.jsxs("button",{onClick:()=>g(te.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${m===te.id?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:[u.jsx(te.icon,{size:14})," ",te.label]},te.id))})]}),u.jsxs("div",{className:"max-w-7xl mx-auto",children:[m==="overview"&&u.jsxs("div",{className:"animate-reveal space-y-8",children:[u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{label:"Saldo Caixa",value:`R$${$.saldo.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:u.jsx(Au,{size:18}),color:$.saldo>=0?"text-emerald-600":"text-rose-600"},{label:"A Receber",value:`R$${$.vendasPendentes.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:u.jsx(qp,{size:18}),color:"text-blue-600"},{label:"Estoque Parado",value:`R$${$.estoqueValor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:u.jsx(Mc,{size:18}),color:"text-purple-600"},{label:"Alertas Ativos",value:P.length.toString(),icon:u.jsx(HE,{size:18}),color:P.length>0?"text-amber-600":"text-emerald-600"},{label:"Crticos",value:P.filter(te=>te.severity==="CRITICO"||te.severity==="BLOQUEIO").length.toString(),icon:u.jsx(Qd,{size:18}),color:"text-rose-600"}].map((te,fe)=>u.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:`${te.color} opacity-40`,children:te.icon}),u.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:te.label})]}),u.jsx("p",{className:`text-xl font-black ${te.color}`,children:te.value})]},fe))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(te=>{const fe=j[te.id],be=G[te.color],re=E&&U===te.id;return u.jsxs("div",{className:`premium-card p-6 bg-white group hover:${be.border} transition-all hover:shadow-xl ${be.glow}`,children:[u.jsxs("button",{onClick:()=>{h(te.id),g("alerts")},className:"w-full text-left",children:[u.jsxs("div",{className:"flex items-start justify-between mb-5",children:[u.jsx("div",{className:"text-4xl",children:te.icon}),u.jsxs("div",{className:"flex items-center gap-1",children:[fe.bloqueios>0&&u.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-700 text-[9px] font-black",children:[fe.bloqueios," BLOQ"]}),fe.criticos>0&&u.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-rose-100 text-rose-600 text-[9px] font-black",children:[fe.criticos," CRIT"]}),fe.total>0&&fe.criticos===0&&fe.bloqueios===0&&u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-amber-100 text-amber-600 text-[9px] font-black",children:fe.total}),fe.total===0&&u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-600 text-[9px] font-black",children:"OK"})]})]}),u.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight mb-1",children:te.name}),u.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed mb-4",children:te.description}),u.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[te.modules.slice(0,4).map(C=>u.jsx("span",{className:`px-2 py-0.5 rounded-md ${be.bg} ${be.text} text-[8px] font-black uppercase`,children:C},C)),te.modules.length>4&&u.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-slate-400 text-[8px] font-black",children:["+",te.modules.length-4]})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 space-y-2",children:[u.jsx("button",{onClick:C=>{C.stopPropagation(),k(te.id),g("alerts"),h(te.id)},disabled:E,className:`w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${re?"bg-purple-100 text-purple-600":"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-lg shadow-purple-200/30"}`,children:re?u.jsxs(u.Fragment,{children:[u.jsx(Eu,{size:14,className:"animate-spin"})," Analisando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Pg,{size:14})," Consultar IA"]})}),te.id==="ADMINISTRATIVO"&&u.jsx("button",{onClick:C=>{C.stopPropagation(),J()},disabled:E,className:`w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${re?"bg-amber-100 text-amber-700":"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:from-amber-600 hover:to-orange-700 shadow-lg shadow-amber-200/30"}`,children:re?u.jsxs(u.Fragment,{children:[u.jsx(Eu,{size:14,className:"animate-spin"})," Orquestrando 7 agentes..."]}):u.jsxs(u.Fragment,{children:[u.jsx(WE,{size:14}),"  Relatrio Executivo"]})})]})]},te.id)})}),P.length>0&&u.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center",children:[u.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx(os,{size:14,className:"text-amber-500"})," Alertas Recentes"]}),u.jsxs("button",{onClick:()=>g("alerts"),className:"text-[10px] font-black text-blue-600 uppercase tracking-widest hover:underline",children:["Ver todos (",P.length,")"]})]}),u.jsx("div",{className:"divide-y divide-slate-50",children:P.slice(0,6).map(te=>{const fe=V[te.severity],be=y.find(re=>re.id===te.agent);return u.jsxs("div",{className:"p-5 flex items-start gap-4 hover:bg-slate-50/50 transition-colors",children:[u.jsx("div",{className:`w-8 h-8 rounded-xl ${fe.bg} ${fe.color} flex items-center justify-center shrink-0`,children:fe.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:[be==null?void 0:be.icon," ",be==null?void 0:be.name]}),u.jsx("span",{className:`px-1.5 py-0.5 rounded ${fe.bg} ${fe.color} text-[8px] font-black uppercase`,children:te.severity}),u.jsx("span",{className:"px-1.5 py-0.5 rounded bg-slate-100 text-slate-400 text-[8px] font-black uppercase",children:te.module})]}),u.jsx("h4",{className:"font-bold text-sm text-slate-900 truncate",children:te.title}),u.jsx("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:te.message})]})]},te.id)})})]}),P.length===0&&u.jsxs("div",{className:"bg-white rounded-3xl border border-emerald-100 p-16 text-center",children:[u.jsx(Go,{size:60,className:"text-emerald-500 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Tudo Limpo!"}),u.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Nenhum alerta detectado. Todos os sistemas operando normalmente."})]})]}),m==="alerts"&&u.jsxs("div",{className:"animate-reveal space-y-6",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsxs("button",{onClick:()=>h(null),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f?"bg-white text-slate-400 border border-slate-100 hover:bg-slate-50":"bg-slate-900 text-white"}`,children:["Todos (",P.length,")"]}),y.map(te=>{const fe=j[te.id].total;return u.jsxs("button",{onClick:()=>h(te.id),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f===te.id?"bg-slate-900 text-white":"bg-white text-slate-400 border border-slate-100 hover:bg-slate-50"}`,children:[te.icon," ",te.name," (",fe,")"]},te.id)})]}),u.jsxs("div",{className:"space-y-3",children:[L.map(te=>{var re;const fe=V[te.severity],be=y.find(C=>C.id===te.agent);return u.jsx("div",{className:`bg-white rounded-2xl border ${fe.border} p-6 transition-all hover:shadow-lg`,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl ${fe.bg} ${fe.color} flex items-center justify-center shrink-0 text-lg`,children:fe.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:[be==null?void 0:be.icon," ",be==null?void 0:be.name]}),u.jsx("span",{className:`px-2 py-0.5 rounded-full ${fe.bg} ${fe.color} text-[8px] font-black uppercase`,children:te.severity}),u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-400 text-[8px] font-black uppercase",children:te.module})]}),u.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:te.title}),u.jsx("p",{className:"text-sm text-slate-500",children:te.message}),((re=te.data)==null?void 0:re.valor)&&u.jsxs("p",{className:"mt-2 text-sm font-black text-rose-600",children:[" Impacto: R$",te.data.valor.toFixed(2)]})]})]})},te.id)}),L.length===0&&u.jsxs("div",{className:"bg-white rounded-2xl border border-emerald-100 p-12 text-center",children:[u.jsx(Go,{size:40,className:"text-emerald-500 mx-auto mb-3"}),u.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Nenhum alerta para este agente"})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("button",{onClick:()=>k(f||"ADMINISTRATIVO"),disabled:E,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-5 px-6 rounded-2xl font-black text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-3 shadow-xl shadow-purple-200/50 transition-all disabled:opacity-50",children:E?u.jsxs(u.Fragment,{children:[u.jsx(Eu,{size:18,className:"animate-spin"})," Analisando com Gemini..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Pg,{size:18})," Consultar ",f?(ce=y.find(te=>te.id===f))==null?void 0:ce.name:"Agente IA"]})}),O&&u.jsxs("div",{className:"mt-3 p-4 bg-rose-50 border border-rose-200 rounded-xl text-rose-600 text-xs font-bold",children:[" ",O]}),N&&u.jsxs("div",{ref:q,className:"mt-6 bg-slate-900 rounded-3xl p-8 shadow-2xl animate-reveal",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-purple-500/20 p-2 rounded-xl",children:u.jsx(Pg,{size:20,className:"text-purple-400"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:U?`${(ne=y.find(te=>te.id===U))==null?void 0:ne.icon} Parecer: ${(ie=y.find(te=>te.id===U))==null?void 0:ie.name}`:"Parecer IA"}),u.jsx("p",{className:"text-[10px] text-slate-500 font-bold",children:"Gemini 2.0 Flash  Anlise em tempo real"})]})]}),u.jsx("div",{className:"text-sm text-slate-300 leading-relaxed whitespace-pre-wrap font-medium",children:N}),u.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700/50 flex justify-between items-center",children:[u.jsx("span",{className:"text-[9px] text-slate-600 font-black uppercase tracking-widest",children:new Date().toLocaleString("pt-BR")}),u.jsxs("button",{onClick:()=>k(U||"ADMINISTRATIVO"),className:"text-[10px] font-black text-purple-400 uppercase tracking-widest hover:text-purple-300 flex items-center gap-1",children:[u.jsx(os,{size:12})," Atualizar"]})]})]})]})]}),m==="config"&&u.jsx("div",{className:"animate-reveal space-y-6",children:y.map(te=>{const fe=G[te.color],be=j[te.id];return u.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:`p-6 ${fe.bg} border-b ${fe.border} flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-3xl",children:te.icon}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:te.name}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:te.modules.join("  ")})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:`px-3 py-1 rounded-full ${be.total>0?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"} text-[9px] font-black uppercase`,children:[be.total," alertas"]}),u.jsx("div",{className:`w-12 h-7 rounded-full relative cursor-pointer transition-all ${te.enabled?"bg-emerald-500":"bg-slate-300"}`,children:u.jsx("div",{className:`absolute top-0.5 w-6 h-6 bg-white rounded-full shadow transition-all ${te.enabled?"right-0.5":"left-0.5"}`})})]})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-sm text-slate-500 mb-4",children:te.description}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-black text-slate-900",children:te.modules.length}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Mdulos"})]}),u.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-black text-slate-900",children:te.triggerCount}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Gatilhos"})]}),u.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-black text-slate-900",children:68}),u.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Regras"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"System Prompt"}),u.jsx("div",{className:"bg-slate-900 rounded-xl p-4 text-xs font-mono text-blue-300 leading-relaxed",children:te.systemPrompt})]}),u.jsxs("p",{className:"mt-4 text-[10px] text-emerald-400 font-bold text-center flex items-center justify-center gap-1",children:[u.jsx(Pg,{size:12})," Auditor Financeiro conectado ao Gemini 2.0 Flash"]})]})]},te.id)})})]})]})},LEe=()=>{const[e,n]=xe.useState(null),[r,i]=xe.useState("menu"),[a,s]=xe.useState(null),[l,c]=xe.useState("checking"),[f,h]=xe.useState({...RK,scheduledOrders:[],suppliers:[],payables:[]}),[m,g]=xe.useState(!0),[y,N]=xe.useState("idle");xe.useEffect(()=>{if(!Bd){n({user:{email:"offline@local"}}),g(!1),c("offline");return}const K=setTimeout(()=>{g(!1)},5e3),Q=xme(Bd,he=>{n(he?{user:he}:null),g(!1),clearTimeout(K)});return()=>{clearTimeout(K),Q()}},[]);const A=xe.useCallback(async()=>{if(!(!e||!xt)){c("checking");try{const[K,Q,he,_e,ae,Ae,Ce,Ne,Se]=await Promise.all([wi(rr(xt,"clients")),wi(rr(xt,"batches")),wi(rr(xt,"stock_items")),wi(rr(xt,"sales")),wi(rr(xt,"transactions")),wi(rr(xt,"scheduled_orders")),wi(c$(rr(xt,"daily_reports"),u$(50))),wi(rr(xt,"suppliers")),wi(rr(xt,"payables"))]),Te=K.docs.map(Xe=>({...Xe.data()})),se=Q.docs.map(Xe=>({...Xe.data()})),X=he.docs.map(Xe=>({...Xe.data()})),De=_e.docs.map(Xe=>({...Xe.data()})),Ke=ae.docs.map(Xe=>({...Xe.data()})),Me=Ae.docs.map(Xe=>({...Xe.data()})),Ye=Ce.docs.map(Xe=>({...Xe.data()})),Je=Ne.docs.map(Xe=>({...Xe.data(),id:Xe.id})),rt=((Se==null?void 0:Se.docs)||[]).map(Xe=>{const yt=Xe.data();return{...yt,id:Xe.id,valor:yt.valor!==void 0?Number(yt.valor):Number(yt.valor_total||0)}}),it=Te.map(Xe=>{const bt=De.filter(At=>At.id_cliente===Xe.id_ferro&&At.status_pagamento==="PENDENTE").reduce((At,Dt)=>{const Tt=Dt.peso_real_saida*Dt.preco_venda_kg,qt=Dt.valor_pago||0;return At+(Tt-qt)},0);return{...Xe,saldo_devedor:bt}});h({clients:it,batches:se,stock:X,sales:De,transactions:Ke,scheduledOrders:Me,reports:Ye,suppliers:Je,payables:rt}),c("online"),m8()&&(N("syncing"),O$({clients:it,batches:se,stock:X,sales:De,transactions:Ke,scheduledOrders:Me,reports:Ye,suppliers:Je,payables:rt}).then(Xe=>{N(Xe.success?"ok":"idle"),Xe.success&&setTimeout(()=>N("idle"),5e3)}).catch(()=>N("error")))}catch(K){console.error(K),c("offline")}}},[e]);xe.useEffect(()=>{if(A(),(async()=>{xt&&setTimeout(async()=>{try{const[Te,se,X,De,Ke]=await Promise.all([wi(rr(xt,"batches")),wi(rr(xt,"payables")),wi(rr(xt,"stock_items")),wi(rr(xt,"sales")),wi(rr(xt,"transactions"))]),Me=new Set(Te.docs.map(it=>it.data().id_lote)),Ye=i0(xt);let Je=0;se.forEach(it=>{const Xe=it.data();if(Xe.categoria==="COMPRA_GADO"){let yt=Xe.id_lote;if(!yt&&Xe.descricao){const bt=Xe.descricao.match(/Lote ([A-Z0-9]+-\d{4}-\d+)/);bt&&(yt=bt[1])}yt&&!Me.has(yt)&&(Ye.delete(it.ref),Je++,console.log(` Payable rfo: ${Xe.descricao}`))}});const rt=new Map;se.forEach(it=>{const Xe=it.data();if(Xe.categoria==="COMPRA_GADO"){let yt=Xe.id_lote;if(!yt&&Xe.descricao){const bt=Xe.descricao.match(/Lote (LOTE-[A-Z0-9]+-\d+)/);bt&&(yt=bt[1])}yt&&(rt.has(yt)||rt.set(yt,[]),rt.get(yt).push({ref:it.ref,data:Xe,docId:it.id}))}}),rt.forEach((it,Xe)=>{it.length>1&&it.some(bt=>bt.docId.startsWith("PAY-LOTE-"))&&it.forEach(bt=>{bt.docId.startsWith("PAY-LOTE-")||(Ye.delete(bt.ref),Je++,console.log(` Payable DUPLICADO removido: "${bt.data.descricao}" (ID: ${bt.docId})`))})}),X.forEach(it=>{const Xe=it.data();Xe.id_lote&&!Me.has(Xe.id_lote)&&(Ye.delete(it.ref),Je++,console.log(` Estoque rfo: ${Xe.id_completo}`))}),De.forEach(it=>{const Xe=it.data();if(Xe.id_completo){const yt=Xe.id_completo.split("-");if(yt.length>=3){const bt=`${yt[0]}-${yt[1]}-${yt[2]}`;Me.has(bt)||(Ye.delete(it.ref),Je++,console.log(` Venda rf: ${Xe.id_venda}`))}}}),Ke.forEach(it=>{const Xe=it.data();Xe.referencia_id&&Xe.categoria==="COMPRA_GADO"&&(Me.has(Xe.referencia_id)||(Ye.delete(it.ref),Je++,console.log(` Transao rf: ${Xe.descricao}`)))}),Je>0&&(await Ye.commit(),console.log(` ${Je} registros rfos removidos automaticamente`),A())}catch(Te){console.error("Erro limpando rfos:",Te)}},2e3)})(),!xt)return;const Q=Cd(rr(xt,"clients"),()=>A()),he=Cd(rr(xt,"batches"),()=>A()),_e=Cd(rr(xt,"stock_items"),()=>A()),ae=Cd(rr(xt,"sales"),()=>A()),Ae=Cd(rr(xt,"transactions"),()=>A()),Ce=Cd(rr(xt,"scheduled_orders"),()=>A()),Ne=Cd(rr(xt,"daily_reports"),()=>A()),Se=Cd(rr(xt,"payables"),()=>A());return()=>{Q(),he(),_e(),ae(),Ae(),Ce(),Ne(),Se()}},[A]);const E=async K=>{try{const Q=await YN(rr(xt,"suppliers"),K),he={...K,id:Q.id};await qo(Q,he),h(_e=>({..._e,suppliers:[..._e.suppliers,he]})),pi(e.user,"CREATE","OTHER",`Novo fornecedor: ${K.nome_fantasia}`,K),alert("Fornecedor cadastrado com sucesso!")}catch(Q){console.error(Q),alert("Erro ao salvar fornecedor.")}},I=async K=>{try{await qo(Nn(xt,"suppliers",K.id),K),h(Q=>({...Q,suppliers:Q.suppliers.map(he=>he.id===K.id?K:he)})),pi(e.user,"UPDATE","OTHER",`Fornecedor atualizado: ${K.nome_fantasia}`,K),alert("Fornecedor atualizado!")}catch(Q){console.error(Q),alert("Erro ao atualizar fornecedor.")}},O=async K=>{try{const Q=await YN(rr(xt,"payables"),K),he={...K,id:Q.id};await qo(Q,he),h(_e=>({..._e,payables:[..._e.payables,he]})),pi(e.user,"CREATE","OTHER",`Nova conta a pagar: ${K.descricao}`,K)}catch(Q){console.error(Q),alert("Erro ao salvar conta a pagar.")}},F=async K=>{try{await qo(Nn(xt,"payables",K.id),K),h(Q=>({...Q,payables:Q.payables.map(he=>he.id===K.id?K:he)})),pi(e.user,"UPDATE","OTHER",`Conta atualizada: ${K.descricao}`,K)}catch(Q){console.error(Q),alert("Erro ao atualizar conta.")}},U=async K=>{try{const Q=f.payables.find(Ce=>Ce.id===K);if(!Q)return;const he=Q.status==="PAGO",_e=Q.status==="PARCIAL",ae=Q.valor_pago||0,Ae=he||_e?"ESTORNADO":"CANCELADO";if(await xs(Nn(xt,"payables",K),{status:Ae}),(he||_e)&&ae>0&&xt){const Ce={id:`TR-ESTORNO-PAY-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO: ${Q.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:he?Q.valor:ae,metodo_pagamento:"OUTROS",referencia_id:K};await J(Ce)}h(Ce=>({...Ce,payables:Ce.payables.map(Ne=>Ne.id===K?{...Ne,status:Ae}:Ne)})),pi(e.user,"ESTORNO","OTHER",`Conta estornada (${Ae}): ${Q.descricao}`,{id:K,status:Ae})}catch(Q){console.error(Q),alert("Erro ao estornar conta.")}},D=K=>JSON.parse(JSON.stringify(K)),q=xe.useMemo(()=>f.batches.filter(K=>K.status==="FECHADO"),[f.batches]),P=xe.useMemo(()=>new Set(q.map(K=>K.id_lote)),[q]),j=xe.useMemo(()=>f.stock.filter(K=>P.has(K.id_lote)),[f.stock,P]),$=async K=>{const Q={...K};e!=null&&e.user&&pi(e.user,"CREATE","BATCH",`Novo lote criado: ${Q.id_lote} - ${Q.fornecedor}`);const he=Q.forma_pagamento||"OUTROS";if(Q.pagamento_a_vista,delete Q.pagamento_a_vista,delete Q.forma_pagamento,Q.peso_total_romaneio=parseFloat(Q.peso_total_romaneio)||0,Q.valor_compra_total=parseFloat(Q.valor_compra_total)||0,Q.frete=parseFloat(Q.frete)||0,Q.gastos_extras=parseFloat(Q.gastos_extras)||0,Q.custo_real_kg=parseFloat(Q.custo_real_kg)||0,!xt)return{success:!1,error:"Firebase no configurado"};try{await qo(Nn(xt,"batches",Q.id_lote),Q);const _e=(Q.valor_compra_total||0)+(Q.frete||0)+(Q.gastos_extras||0);if(_e>0&&he==="VISTA"){const ae={id:`TR-LOTE-${Q.id_lote}`,data:Q.data_recebimento,descricao:`Compra Lote ${Q.id_lote} - ${Q.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:_e,metodo_pagamento:he,referencia_id:Q.id_lote};await J(ae)}return await A(),{success:!0}}catch(_e){return{success:!1,error:_e.message}}},G=async K=>{if(!xt)return;const Q=f.sales.find(he=>he.id_venda===K);if(!Q||Q.status_pagamento==="ESTORNADO"){(Q==null?void 0:Q.status_pagamento)==="ESTORNADO"&&alert("Esta venda j foi estornada.");return}try{const he=Q.valor_pago||0;await xs(Nn(xt,"sales",K),{status_pagamento:"ESTORNADO",valor_pago:0});const _e=Q.stock_ids_originais&&Array.isArray(Q.stock_ids_originais)?Q.stock_ids_originais:[Q.id_completo];for(const Ae of _e)try{await xs(Nn(xt,"stock_items",Ae),{status:"DISPONIVEL"})}catch{console.warn(` Item de estoque ${Ae} no encontrado para devolver`)}if(he>0){const Ae={id:`TR-ESTORNO-VENDA-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO VENDA: ${Q.nome_cliente||"Cliente"} - ${Q.id_completo}`,tipo:"SAIDA",categoria:"ESTORNO",valor:he,metodo_pagamento:Q.forma_pagamento||"OUTROS",referencia_id:K};await J(Ae)}const ae=f.transactions.filter(Ae=>{var Ce;return(Ae.referencia_id===K||((Ce=Ae.id)==null?void 0:Ce.startsWith(`TR-DESC-${K}`)))&&Ae.categoria==="DESCONTO"&&Ae.tipo==="SAIDA"});for(const Ae of ae){const Ce={id:`TR-ESTORNO-DESC-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO DESCONTO: ${Ae.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:Ae.valor,metodo_pagamento:"OUTROS",referencia_id:K};await J(Ce)}pi(e==null?void 0:e.user,"ESTORNO","SALE",`Venda estornada: ${K} (${Q.nome_cliente}) - Pago: R$${he.toFixed(2)}`,{saleId:K,valorPago:he}),A()}catch(he){console.error(" Erro ao estornar venda:",he),alert("Erro ao estornar a venda.")}},V=async K=>{var Q;if(xt)try{console.log(` INICIANDO ESTORNO DO LOTE: ${K}`),await xs(Nn(xt,"batches",K),{status:"ESTORNADO"}),console.log(` Lote ${K} marcado como ESTORNADO`);const he=await wi(rr(xt,"stock_items"));let _e=0;for(const se of he.docs){const X=se.data();X.id_lote===K&&X.status!=="ESTORNADO"&&(await xs(Nn(xt,"stock_items",se.id),{status:"ESTORNADO"}),_e++)}console.log(` ${_e} itens de estoque estornados`);const ae=await wi(rr(xt,"payables"));let Ae=0;for(const se of ae.docs){const X=se.data(),De=X.id_lote===K,Ke=X.id&&X.id.includes(K),Me=X.descricao&&X.descricao.includes(K);if((De||Ke||Me)&&X.status!=="ESTORNADO"&&X.status!=="CANCELADO"){const Ye=X.status==="PAGO",Je=X.status==="PARCIAL",rt=X.valor_pago||0,it=Ye||Je?"ESTORNADO":"CANCELADO";await xs(Nn(xt,"payables",se.id),{status:it}),(Ye||Je)&&rt>0&&await J({id:`TR-ESTORNO-PAY-${se.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: ${X.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:Ye?X.valor:rt,metodo_pagamento:"OUTROS",referencia_id:K}),Ae++}}console.log(` ${Ae} contas a pagar estornadas`);const Ce=await wi(rr(xt,"sales"));let Ne=0;for(const se of Ce.docs){const X=se.data();if(X.id_completo&&X.id_completo.startsWith(K)&&X.status_pagamento!=="ESTORNADO"){const De=X.valor_pago||0;await xs(Nn(xt,"sales",se.id),{status_pagamento:"ESTORNADO"}),De>0&&await J({id:`TR-ESTORNO-VENDA-${se.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: Venda ${X.nome_cliente||"Cliente"} - ${X.id_completo}`,tipo:"SAIDA",categoria:"ESTORNO",valor:De,metodo_pagamento:"OUTROS",referencia_id:K}),Ne++}}console.log(` ${Ne} vendas estornadas`);const Se=await wi(rr(xt,"transactions"));let Te=0;for(const se of Se.docs){const X=se.data();(X.referencia_id===K||X.descricao&&X.descricao.includes(K))&&X.categoria==="COMPRA_GADO"&&!((Q=X.descricao)!=null&&Q.includes("ESTORNO"))&&(await J({id:`TR-ESTORNO-${se.id}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO LOTE: ${X.descricao}`,tipo:"ENTRADA",categoria:"ESTORNO",valor:X.valor,metodo_pagamento:"OUTROS",referencia_id:K}),Te++)}console.log(` ${Te} transaes de compra estornadas`),console.log(` LOTE ${K} COMPLETAMENTE ESTORNADO!`),e!=null&&e.user&&pi(e.user,"ESTORNO","BATCH",`Lote COMPLETAMENTE estornado: ${K} (${_e} estoque, ${Ae} payables, ${Ne} vendas, ${Te} transaes)`),A()}catch(he){console.error(" Erro ao estornar lote:",he),alert("Erro ao estornar o lote. Verifique o console.")}},L=async K=>{const Q=D(K);if(!xt)return{success:!1,error:"Firebase no configurado"};try{return await qo(Nn(xt,"stock_items",Q.id_completo),Q),e!=null&&e.user&&pi(e.user,"CREATE","STOCK",`Item de estoque adicionado: ${Q.id_completo}`),A(),{success:!0}}catch(he){return{success:!1,error:he.message}}},k=async(K,Q)=>{xt&&(await xs(Nn(xt,"stock_items",K),D(Q)),A())},J=async K=>{xt&&(await qo(Nn(xt,"transactions",K.id),D(K)),e!=null&&e.user&&pi(e.user,"CREATE","TRANSACTION",`Transao adicionada: ${K.tipo} ${K.valor} (${K.descricao})`),A())},ce=async K=>{const Q=(K.valor_compra_total||0)+(K.frete||0)+(K.gastos_extras||0);if(Q===0)return;const he={id:`TR-LOTE-${K.id_lote}`,data:K.data_recebimento,descricao:`Compra Lote ${K.id_lote} - ${K.fornecedor}`,tipo:"SAIDA",categoria:"COMPRA_GADO",valor:Q,metodo_pagamento:K.forma_pagamento||"OUTROS",referencia_id:K.id_lote},_e=K.valor_entrada||0,ae=K.forma_pagamento==="VISTA",Ae=K.forma_pagamento==="PRAZO";if(ae)await J(he);else if(Ae){if(_e>0){const Ne={...he,id:`TR-LOTE-ENTRADA-${K.id_lote}`,descricao:`Entrada/Adiantamento Lote ${K.id_lote} - ${K.fornecedor}`,valor:_e};await J(Ne)}const Ce=Q-_e;if(Ce>0){if(f.payables.filter(se=>se.id_lote===K.id_lote||se.id===`PAY-LOTE-${K.id_lote}`).length>0){console.log(` Payable j existe para lote ${K.id_lote}, ignorando duplicata.`);return}const Se={id:`PAY-LOTE-${K.id_lote}`,descricao:`Restante Lote ${K.id_lote} - ${K.fornecedor}`,valor:Ce,data_vencimento:new Date(Date.now()+(K.prazo_dias||30)*24*60*60*1e3).toISOString().split("T")[0],status:"PENDENTE",categoria:"COMPRA_GADO",observacoes:`Compra a Prazo (Entrada: ${_e>0?_e:"No"})`,fornecedor_id:K.fornecedor,id_lote:K.id_lote},Te=Nn(xt,"payables",`PAY-LOTE-${K.id_lote}`);await qo(Te,Se)}}},ne=async K=>{const Q=D(K);if(!xt)return{success:!1,error:"Firebase no configurado"};try{const he=i0(xt);return Q.forEach(_e=>{const ae=Nn(xt,"sales",_e.id_venda);he.set(ae,_e)}),Q.forEach(_e=>{(_e.stock_ids_originais&&Array.isArray(_e.stock_ids_originais)?_e.stock_ids_originais:[_e.id_completo]).forEach(Ae=>{const Ce=Nn(xt,"stock_items",Ae);he.update(Ce,{status:"VENDIDO"})})}),await he.commit(),e!=null&&e.user&&pi(e.user,"CREATE","SALE",`Venda realizada: ${Q.length} itens para ${Q[0].nome_cliente||"Cliente"}`),A(),{success:!0}}catch(he){return{success:!1,error:he.message}}},ie=async K=>{xt&&(await xs(Nn(xt,"stock_items",K),{status:"ESTORNADO"}),e!=null&&e.user&&pi(e.user,"ESTORNO","STOCK",`Item estornado no estoque: ${K}`),A())},te=async(K,Q)=>{xt&&(await xs(Nn(xt,"sales",K),{custo_extras_total:Q}),A())},fe=async K=>{var _e,ae,Ae;if(!xt)return;const Q=f.transactions.find(Ce=>Ce.id===K);if(!Q)return;if((_e=Q.id)!=null&&_e.startsWith("TR-REC-")||Q.referencia_id&&f.sales.some(Ce=>Ce.id_venda===Q.referencia_id)){alert(` Esta transao est vinculada a uma VENDA.
Use o estorno de VENDA no Histrico de Vendas.`);return}if((ae=Q.id)!=null&&ae.startsWith("TR-PAY-")||Q.referencia_id&&f.payables.some(Ce=>Ce.id===Q.referencia_id)){alert(` Esta transao est vinculada a uma CONTA A PAGAR.
Use o estorno de CONTA em Financeiro > A Pagar.`);return}if(Q.categoria==="ESTORNO"||(Ae=Q.id)!=null&&Ae.startsWith("TR-ESTORNO-")){alert(" Esta transao j  um estorno. No pode ser estornada novamente.");return}const he={id:`TR-ESTORNO-${K}-${Date.now()}`,data:new Date().toISOString().split("T")[0],descricao:`ESTORNO: ${Q.descricao}`,tipo:Q.tipo==="ENTRADA"?"SAIDA":"ENTRADA",categoria:"ESTORNO",valor:Q.valor,metodo_pagamento:Q.metodo_pagamento||"OUTROS",referencia_id:Q.referencia_id||K};await J(he),pi(e==null?void 0:e.user,"ESTORNO","TRANSACTION",`Transao estornada: ${Q.descricao} (R$${Q.valor})`),A()},be=async(K,Q,he,_e)=>{const ae=f.sales.find(Te=>Te.id_venda===K);if(!ae||!xt)return;const Ae=ae.peso_real_saida*ae.preco_venda_kg,Ne=(ae.valor_pago||0)+Q,Se=Ne>=Ae?"PAGO":"PENDENTE";try{await xs(Nn(xt,"sales",K),{valor_pago:Ne,status_pagamento:Se,forma_pagamento:he}),A()}catch(Te){console.error("Error adding partial payment:",Te)}},re=async K=>{if(!xt)return;const Q=D(K);await qo(Nn(xt,"scheduled_orders",Q.id),Q),e!=null&&e.user&&pi(e.user,"CREATE","ORDER",`Pedido agendado criado para ${Q.nome_cliente}`),A()},C=async(K,Q)=>{xt&&(await xs(Nn(xt,"scheduled_orders",K),D(Q)),A())},H=async K=>{xt&&(await Fye(Nn(xt,"scheduled_orders",K)),e!=null&&e.user&&pi(e.user,"DELETE","ORDER",`Pedido excludo: ${K}`),A())},W=async()=>{Bd&&(await bme(Bd),e!=null&&e.user&&pi(e.user,"LOGOUT","SYSTEM","Usurio saiu do sistema")),n(null),i("menu")};return m?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx(Eu,{className:"text-blue-600 animate-spin",size:48})}):e?u.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden selection:bg-blue-200",children:[r==="menu"&&u.jsx(OK,{setView:i,onLogout:W,onSyncSheets:m8()?async()=>{N("syncing");const K=await f1e(f);N(K.success?"ok":"error"),K.success&&setTimeout(()=>N("idle"),5e3)}:void 0,sheetsSyncStatus:y}),r==="system_reset"&&u.jsx(h8,{onBack:()=>i("menu"),refreshData:A}),r==="dashboard"&&u.jsx(Rde,{sales:f.sales,stock:j,transactions:f.transactions,batches:q,clients:f.clients,onBack:()=>i("menu")}),r==="clients"&&u.jsx(Ode,{clients:f.clients,sales:f.sales,transactions:f.transactions,batches:q,addClient:async K=>{xt&&(await qo(Nn(xt,"clients",K.id_ferro),D(K)),e!=null&&e.user&&pi(e.user,"CREATE","CLIENT",`Novo cliente: ${K.nome_social}`),A())},updateClient:async K=>{xt&&(await qo(Nn(xt,"clients",K.id_ferro),D(K),{merge:!0}),e!=null&&e.user&&pi(e.user,"UPDATE","CLIENT",`Cliente atualizado: ${K.nome_social}`),A())},onGoToFinancial:()=>i("financial"),onBack:()=>i("menu")}),r==="suppliers"&&u.jsx(n1e,{suppliers:f.suppliers,addSupplier:E,updateSupplier:I,deleteSupplier:async K=>{xt&&(await xs(Nn(xt,"suppliers",K),{status:"INATIVO"}),e!=null&&e.user&&pi(e.user,"UPDATE","OTHER",`Fornecedor inativado: ${K}`),A())},onBack:()=>i("menu")}),r==="batches"&&u.jsx(kde,{batches:f.batches,suppliers:f.suppliers,stock:f.stock,addBatch:$,updateBatch:async(K,Q)=>{xt&&(await xs(Nn(xt,"batches",K),D(Q)),e!=null&&e.user&&pi(e.user,"UPDATE","BATCH",`Lote atualizado: ${K}`),A())},deleteBatch:V,addStockItem:L,updateStockItem:k,removeStockItem:ie,registerBatchFinancial:ce,onGoToStock:()=>i("stock"),onBack:()=>i("menu")}),r==="stock"&&u.jsx(Pde,{stock:j,batches:q,sales:f.sales,clients:f.clients,updateBatch:async(K,Q)=>{xt&&(await xs(Nn(xt,"batches",K),D(Q)),e!=null&&e.user&&pi(e.user,"UPDATE","BATCH",`Lote atualizado: ${K}`),A())},deleteBatch:V,onBack:()=>i("menu")}),r==="expedition"&&u.jsx(Pfe,{clients:f.clients,stock:j,batches:q,salesHistory:f.sales,onConfirmSale:K=>{const{client:Q,items:he,pricePerKg:_e,extrasCost:ae}=K,Ae=new Map;he.forEach(Te=>{const se=`${Te.id_lote}-${Te.sequencia}`;Ae.has(se)||Ae.set(se,[]),Ae.get(se).push(Te)});const Ce=[];let Ne=0;const Se=[...Ae.values()].reduce((Te,se)=>Te+se.reduce((X,De)=>X+(De.peso_saida||De.peso_entrada),0),0);Ae.forEach((Te,se)=>{const X=Te.length>1,De=f.batches.find(At=>At.id_lote===Te[0].id_lote),Ke=De?De.custo_real_kg:0,Me=Te.reduce((At,Dt)=>At+Dt.peso_entrada,0),Ye=Te.reduce((At,Dt)=>At+(Dt.peso_saida||Dt.peso_entrada),0),Je=Me-Ye,rt=Ye*_e,it=Ye*Ke,Xe=Se>0?ae*(Ye/Se):0,yt=rt-it-Xe,bt=X?`${Te[0].id_lote}-${Te[0].sequencia}-INTEIRO`:Te[0].id_completo;Ce.push({id_venda:`V-${Date.now()}-${Ne++}`,id_cliente:Q.id_ferro,nome_cliente:Q.nome_social,id_completo:bt,peso_real_saida:Ye,preco_venda_kg:_e,data_venda:new Date().toISOString().split("T")[0],quebra_kg:Je,lucro_liquido_unitario:yt,custo_extras_total:Xe,prazo_dias:30,data_vencimento:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],forma_pagamento:"OUTROS",status_pagamento:"PENDENTE",tipo_venda:X?"CARCACA_INTEIRA":"BANDA_AVULSA",stock_ids_originais:Te.map(At=>At.id_completo)})}),ne(Ce),i("sales_history")},onBack:()=>i("menu")}),r==="sales_history"&&u.jsx(Dfe,{stock:j,batches:q,sales:f.sales,clients:f.clients,initialSearchTerm:a==null?void 0:a.searchTerm,onBack:()=>i("menu"),onGoToSales:()=>i("expedition"),estornoSale:G}),r==="financial"&&u.jsx(jfe,{sales:f.sales,batches:q,stock:j,clients:f.clients,transactions:f.transactions,updateSaleCost:te,addTransaction:J,deleteTransaction:fe,addPartialPayment:be,onBack:()=>i("menu"),payables:f.payables,addPayable:O,updatePayable:F,deletePayable:U,estornoSale:G}),r==="scheduled_orders"&&u.jsx(Mfe,{scheduledOrders:f.scheduledOrders,clients:f.clients,addScheduledOrder:re,updateScheduledOrder:C,deleteScheduledOrder:H,onViewClientHistory:K=>{s({searchTerm:K}),i("sales_history")},onBack:()=>i("menu")}),r==="report"&&u.jsx(h1e,{reports:f.reports,onBack:()=>i("menu"),onSubmit:async K=>{var he,_e,ae;if(!xt)return;const Q={id:`REPORT-${Date.now()}`,timestamp:new Date().toISOString(),date:new Date().toISOString().split("T")[0],userId:((he=e==null?void 0:e.user)==null?void 0:he.uid)||"anonymous",userName:((ae=(_e=e==null?void 0:e.user)==null?void 0:_e.email)==null?void 0:ae.split("@")[0])||"Colaborador",...K};await qo(Nn(xt,"daily_reports",Q.id),Q),pi(e==null?void 0:e.user,"CREATE","OTHER",`Relatrio enviado: ${K.type}`),A()}}),r==="heifers"&&u.jsx(p1e,{onBack:()=>i("menu"),existingOrders:f.scheduledOrders,onAddOrder:re}),r==="sales_agent"&&u.jsx(v1e,{onBack:()=>i("menu"),clients:f.clients}),r==="audit"&&u.jsx(b1e,{onBack:()=>i("menu")}),r==="ai_agents"&&u.jsx(MEe,{onBack:()=>i("menu"),batches:f.batches,stock:f.stock,sales:f.sales,clients:f.clients,transactions:f.transactions,suppliers:f.suppliers,payables:f.payables,scheduledOrders:f.scheduledOrders}),r==="system_reset"&&u.jsx(h8,{onBack:()=>i("menu"),refreshData:A}),u.jsxs("div",{className:"fixed bottom-3 left-3 right-3 md:bottom-8 md:left-8 md:right-auto z-[200] flex flex-col md:flex-row gap-2 md:gap-3 pointer-events-none items-stretch md:items-center",children:[l==="online"&&u.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-emerald-50 text-emerald-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-emerald-900/5 animate-reveal",children:[u.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),u.jsx("span",{className:"hidden md:inline",children:"CORE: SINAL_CRIPTOGRAFADO"}),u.jsx("span",{className:"md:hidden",children:"ONLINE"})]}),l==="offline"&&u.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-rose-50 text-rose-600 px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl shadow-rose-900/5 animate-reveal",children:[u.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(244,63,94,0.5)]"}),u.jsx("span",{className:"hidden md:inline",children:"CORE: LINK_AUSENTE"}),u.jsx("span",{className:"md:hidden",children:"OFFLINE"})]}),u.jsxs("button",{onClick:()=>{window.confirm(` Atualizar aplicativo?

Isso ir buscar a verso mais recente do app.

 IMPORTANTE: Seus dados (lotes, financeiro, estoque) NO sero afetados!

Deseja continuar?`)&&window.location.reload()},className:"pointer-events-auto bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-2.5 rounded-xl md:rounded-2xl font-black text-[9px] md:text-[10px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-xl transition-all hover:scale-105 active:scale-95 animate-reveal cursor-pointer",title:"Clique para atualizar o app e carregar a verso mais recente",children:[u.jsx(hT,{size:14,className:"animate-spin-slow"}),u.jsx("span",{children:"Atualizar App"})]}),u.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl md:rounded-2xl font-black text-[8px] md:text-[9px] uppercase tracking-[0.15em] md:tracking-[0.2em] flex items-center justify-center gap-2 shadow-[0_20px_40px_rgba(15,23,42,0.3)] animate-reveal",children:[u.jsx(As,{size:12,className:"text-blue-400"}),u.jsx("span",{className:"hidden md:inline",children:IK}),u.jsx("span",{className:"md:hidden",children:gT})]})]})]}):u.jsx(t1e,{onLoginSuccess:()=>{}})},Ez=document.getElementById("root");if(!Ez)throw new Error("Could not find root element to mount to");const FEe=BG.createRoot(Ez);FEe.render(u.jsx(Le.StrictMode,{children:u.jsx(LEe,{})}));export{yr as _,py as c,Er as g};
